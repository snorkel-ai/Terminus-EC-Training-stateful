var jF=Object.defineProperty;var IF=(e,t,r)=>t in e?jF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mv=(e,t,r)=>IF(e,typeof t!="symbol"?t+"":t,r);function gj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RF(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var gv={exports:{}},ac={},vv={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function DF(){if(cS)return rt;cS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function _(q,re,$){this.props=q,this.context=re,this.refs=x,this.updater=$||g}_.prototype.isReactComponent={},_.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function w(){}w.prototype=_.prototype;function A(q,re,$){this.props=q,this.context=re,this.refs=x,this.updater=$||g}var S=A.prototype=new w;S.constructor=A,b(S,_.prototype),S.isPureReactComponent=!0;var N=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function D(q,re,$){var de,we={},_e=null,Le=null;if(re!=null)for(de in re.ref!==void 0&&(Le=re.ref),re.key!==void 0&&(_e=""+re.key),re)P.call(re,de)&&!j.hasOwnProperty(de)&&(we[de]=re[de]);var qe=arguments.length-2;if(qe===1)we.children=$;else if(1<qe){for(var ie=Array(qe),Ee=0;Ee<qe;Ee++)ie[Ee]=arguments[Ee+2];we.children=ie}if(q&&q.defaultProps)for(de in qe=q.defaultProps,qe)we[de]===void 0&&(we[de]=qe[de]);return{$$typeof:e,type:q,key:_e,ref:Le,props:we,_owner:O.current}}function B(q,re){return{$$typeof:e,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function F(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function($){return re[$]})}var H=/\/+/g;function Y(q,re){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):re.toString(36)}function V(q,re,$,de,we){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var Le=!1;if(q===null)Le=!0;else switch(_e){case"string":case"number":Le=!0;break;case"object":switch(q.$$typeof){case e:case t:Le=!0}}if(Le)return Le=q,we=we(Le),q=de===""?"."+Y(Le,0):de,N(we)?($="",q!=null&&($=q.replace(H,"$&/")+"/"),V(we,re,$,"",function(Ee){return Ee})):we!=null&&(R(we)&&(we=B(we,$+(!we.key||Le&&Le.key===we.key?"":(""+we.key).replace(H,"$&/")+"/")+q)),re.push(we)),1;if(Le=0,de=de===""?".":de+":",N(q))for(var qe=0;qe<q.length;qe++){_e=q[qe];var ie=de+Y(_e,qe);Le+=V(_e,re,$,ie,we)}else if(ie=v(q),typeof ie=="function")for(q=ie.call(q),qe=0;!(_e=q.next()).done;)_e=_e.value,ie=de+Y(_e,qe++),Le+=V(_e,re,$,ie,we);else if(_e==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Le}function K(q,re,$){if(q==null)return q;var de=[],we=0;return V(q,de,"","",function(_e){return re.call($,_e,we++)}),de}function Z(q){if(q._status===-1){var re=q._result;re=re(),re.then(function($){(q._status===0||q._status===-1)&&(q._status=1,q._result=$)},function($){(q._status===0||q._status===-1)&&(q._status=2,q._result=$)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},te={transition:null},ce={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:te,ReactCurrentOwner:O};function L(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:K,forEach:function(q,re,$){K(q,function(){re.apply(this,arguments)},$)},count:function(q){var re=0;return K(q,function(){re++}),re},toArray:function(q){return K(q,function(re){return re})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},rt.Component=_,rt.Fragment=r,rt.Profiler=i,rt.PureComponent=A,rt.StrictMode=n,rt.Suspense=u,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,rt.act=L,rt.cloneElement=function(q,re,$){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var de=b({},q.props),we=q.key,_e=q.ref,Le=q._owner;if(re!=null){if(re.ref!==void 0&&(_e=re.ref,Le=O.current),re.key!==void 0&&(we=""+re.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(ie in re)P.call(re,ie)&&!j.hasOwnProperty(ie)&&(de[ie]=re[ie]===void 0&&qe!==void 0?qe[ie]:re[ie])}var ie=arguments.length-2;if(ie===1)de.children=$;else if(1<ie){qe=Array(ie);for(var Ee=0;Ee<ie;Ee++)qe[Ee]=arguments[Ee+2];de.children=qe}return{$$typeof:e,type:q.type,key:we,ref:_e,props:de,_owner:Le}},rt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},rt.createElement=D,rt.createFactory=function(q){var re=D.bind(null,q);return re.type=q,re},rt.createRef=function(){return{current:null}},rt.forwardRef=function(q){return{$$typeof:o,render:q}},rt.isValidElement=R,rt.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:Z}},rt.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},rt.startTransition=function(q){var re=te.transition;te.transition={};try{q()}finally{te.transition=re}},rt.unstable_act=L,rt.useCallback=function(q,re){return oe.current.useCallback(q,re)},rt.useContext=function(q){return oe.current.useContext(q)},rt.useDebugValue=function(){},rt.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},rt.useEffect=function(q,re){return oe.current.useEffect(q,re)},rt.useId=function(){return oe.current.useId()},rt.useImperativeHandle=function(q,re,$){return oe.current.useImperativeHandle(q,re,$)},rt.useInsertionEffect=function(q,re){return oe.current.useInsertionEffect(q,re)},rt.useLayoutEffect=function(q,re){return oe.current.useLayoutEffect(q,re)},rt.useMemo=function(q,re){return oe.current.useMemo(q,re)},rt.useReducer=function(q,re,$){return oe.current.useReducer(q,re,$)},rt.useRef=function(q){return oe.current.useRef(q)},rt.useState=function(q){return oe.current.useState(q)},rt.useSyncExternalStore=function(q,re,$){return oe.current.useSyncExternalStore(q,re,$)},rt.useTransition=function(){return oe.current.useTransition()},rt.version="18.3.1",rt}var dS;function Jl(){return dS||(dS=1,vv.exports=DF()),vv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function LF(){if(hS)return ac;hS=1;var e=Jl(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,h){var f,p={},v=null,g=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)n.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(o&&o.defaultProps)for(f in u=o.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:o,key:v,ref:g,props:p,_owner:i.current}}return ac.Fragment=r,ac.jsx=a,ac.jsxs=a,ac}var fS;function MF(){return fS||(fS=1,gv.exports=LF()),gv.exports}var c=MF(),k=Jl();const pn=ai(k),FF=gj({__proto__:null,default:pn},[k]);var hf={},yv={exports:{}},on={},bv={exports:{}},_v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function BF(){return pS||(pS=1,(function(e){function t(te,ce){var L=te.length;te.push(ce);e:for(;0<L;){var q=L-1>>>1,re=te[q];if(0<i(re,ce))te[q]=ce,te[L]=re,L=q;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ce=te[0],L=te.pop();if(L!==ce){te[0]=L;e:for(var q=0,re=te.length,$=re>>>1;q<$;){var de=2*(q+1)-1,we=te[de],_e=de+1,Le=te[_e];if(0>i(we,L))_e<re&&0>i(Le,we)?(te[q]=Le,te[_e]=L,q=_e):(te[q]=we,te[de]=L,q=de);else if(_e<re&&0>i(Le,L))te[q]=Le,te[_e]=L,q=_e;else break e}}return ce}function i(te,ce){var L=te.sortIndex-ce.sortIndex;return L!==0?L:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],h=[],f=1,p=null,v=3,g=!1,b=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(te){for(var ce=r(h);ce!==null;){if(ce.callback===null)n(h);else if(ce.startTime<=te)n(h),ce.sortIndex=ce.expirationTime,t(u,ce);else break;ce=r(h)}}function N(te){if(x=!1,S(te),!b)if(r(u)!==null)b=!0,Z(P);else{var ce=r(h);ce!==null&&oe(N,ce.startTime-te)}}function P(te,ce){b=!1,x&&(x=!1,w(D),D=-1),g=!0;var L=v;try{for(S(ce),p=r(u);p!==null&&(!(p.expirationTime>ce)||te&&!F());){var q=p.callback;if(typeof q=="function"){p.callback=null,v=p.priorityLevel;var re=q(p.expirationTime<=ce);ce=e.unstable_now(),typeof re=="function"?p.callback=re:p===r(u)&&n(u),S(ce)}else n(u);p=r(u)}if(p!==null)var $=!0;else{var de=r(h);de!==null&&oe(N,de.startTime-ce),$=!1}return $}finally{p=null,v=L,g=!1}}var O=!1,j=null,D=-1,B=5,R=-1;function F(){return!(e.unstable_now()-R<B)}function H(){if(j!==null){var te=e.unstable_now();R=te;var ce=!0;try{ce=j(!0,te)}finally{ce?Y():(O=!1,j=null)}}else O=!1}var Y;if(typeof A=="function")Y=function(){A(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=H,Y=function(){K.postMessage(null)}}else Y=function(){_(H,0)};function Z(te){j=te,O||(O=!0,Y())}function oe(te,ce){D=_(function(){te(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,Z(P))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(te){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var L=v;v=ce;try{return te()}finally{v=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var L=v;v=te;try{return ce()}finally{v=L}},e.unstable_scheduleCallback=function(te,ce,L){var q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,te){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=L+re,te={id:f++,callback:ce,priorityLevel:te,startTime:L,expirationTime:re,sortIndex:-1},L>q?(te.sortIndex=L,t(h,te),r(u)===null&&te===r(h)&&(x?(w(D),D=-1):x=!0,oe(N,L-q))):(te.sortIndex=re,t(u,te),b||g||(b=!0,Z(P))),te},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(te){var ce=v;return function(){var L=v;v=ce;try{return te.apply(this,arguments)}finally{v=L}}}})(_v)),_v}var mS;function $F(){return mS||(mS=1,bv.exports=BF()),bv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function UF(){if(gS)return on;gS=1;var e=Jl(),t=$F();function r(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,d){a(l,d),a(l+"Capture",d)}function a(l,d){for(i[l]=d,l=0;l<d.length;l++)n.add(d[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(l){return u.call(p,l)?!0:u.call(f,l)?!1:h.test(l)?p[l]=!0:(f[l]=!0,!1)}function g(l,d,m,y){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,d,m,y){if(d===null||typeof d>"u"||g(l,d,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function x(l,d,m,y,T,C,I){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=y,this.attributeNamespace=T,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=C,this.removeEmptyString=I}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];_[d]=new x(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(w,A);_[d]=new x(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(w,A);_[d]=new x(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(w,A);_[d]=new x(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,d,m,y){var T=_.hasOwnProperty(d)?_[d]:null;(T!==null?T.type!==0:y||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(b(d,m,T,y)&&(m=null),y||T===null?v(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):T.mustUseProperty?l[T.propertyName]=m===null?T.type===3?!1:"":m:(d=T.attributeName,y=T.attributeNamespace,m===null?l.removeAttribute(d):(T=T.type,m=T===3||T===4&&m===!0?"":""+m,y?l.setAttributeNS(y,d,m):l.setAttribute(d,m))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),te=Symbol.iterator;function ce(l){return l===null||typeof l!="object"?null:(l=te&&l[te]||l["@@iterator"],typeof l=="function"?l:null)}var L=Object.assign,q;function re(l){if(q===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);q=d&&d[1]||""}return`
`+q+l}var $=!1;function de(l,d){if(!l||$)return"";$=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ne){var y=ne}Reflect.construct(l,[],d)}else{try{d.call()}catch(ne){y=ne}l.call(d.prototype)}else{try{throw Error()}catch(ne){y=ne}l()}}catch(ne){if(ne&&y&&typeof ne.stack=="string"){for(var T=ne.stack.split(`
`),C=y.stack.split(`
`),I=T.length-1,z=C.length-1;1<=I&&0<=z&&T[I]!==C[z];)z--;for(;1<=I&&0<=z;I--,z--)if(T[I]!==C[z]){if(I!==1||z!==1)do if(I--,z--,0>z||T[I]!==C[z]){var G=`
`+T[I].replace(" at new "," at ");return l.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",l.displayName)),G}while(1<=I&&0<=z);break}}}finally{$=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?re(l):""}function we(l){switch(l.tag){case 5:return re(l.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return l=de(l.type,!1),l;case 11:return l=de(l.type.render,!1),l;case 1:return l=de(l.type,!0),l;default:return""}}function _e(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case j:return"Fragment";case O:return"Portal";case B:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case V:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case H:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case K:return d=l.displayName||null,d!==null?d:_e(l.type)||"Memo";case Z:d=l._payload,l=l._init;try{return _e(l(d))}catch{}}return null}function Le(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(d);case 8:return d===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function qe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ie(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ee(l){var d=ie(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),y=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,C=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return T.call(this)},set:function(I){y=""+I,C.call(this,I)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Ke(l){l._valueTracker||(l._valueTracker=Ee(l))}function pe(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),y="";return l&&(y=ie(l)?l.checked?"true":"false":l.value),l=y,l!==m?(d.setValue(l),!0):!1}function yt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Te(l,d){var m=d.checked;return L({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Ze(l,d){var m=d.defaultValue==null?"":d.defaultValue,y=d.checked!=null?d.checked:d.defaultChecked;m=qe(d.value!=null?d.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ft(l,d){d=d.checked,d!=null&&S(l,"checked",d,!1)}function zt(l,d){ft(l,d);var m=qe(d.value),y=d.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?Mo(l,d.type,m):d.hasOwnProperty("defaultValue")&&Mo(l,d.type,qe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function La(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var y=d.type;if(!(y!=="submit"&&y!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Mo(l,d,m){(d!=="number"||yt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Bs=Array.isArray;function $s(l,d,m,y){if(l=l.options,d){d={};for(var T=0;T<m.length;T++)d["$"+m[T]]=!0;for(m=0;m<l.length;m++)T=d.hasOwnProperty("$"+l[m].value),l[m].selected!==T&&(l[m].selected=T),T&&y&&(l[m].defaultSelected=!0)}else{for(m=""+qe(m),d=null,T=0;T<l.length;T++){if(l[T].value===m){l[T].selected=!0,y&&(l[T].defaultSelected=!0);return}d!==null||l[T].disabled||(d=l[T])}d!==null&&(d.selected=!0)}}function Eu(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return L({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function th(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(r(92));if(Bs(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:qe(m)}}function rh(l,d){var m=qe(d.value),y=qe(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function nh(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function ue(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?ue(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ve,tt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,y,T){MSApp.execUnsafeLocalFunction(function(){return l(d,m,y,T)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ve.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function lt(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},es=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(l){es.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),wr[d]=wr[l]})});function $n(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||wr.hasOwnProperty(l)&&wr[l]?(""+d).trim():d+"px"}function Us(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var y=m.indexOf("--")===0,T=$n(m,d[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,T):l[m]=T}}var Ma=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(l,d){if(d){if(Ma[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Ii(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bn=null;function Og(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Pg=null,Fo=null,Bo=null;function CE(l){if(l=qu(l)){if(typeof Pg!="function")throw Error(r(280));var d=l.stateNode;d&&(d=Sh(d),Pg(l.stateNode,l.type,d))}}function AE(l){Fo?Bo?Bo.push(l):Bo=[l]:Fo=l}function NE(){if(Fo){var l=Fo,d=Bo;if(Bo=Fo=null,CE(l),d)for(l=0;l<d.length;l++)CE(d[l])}}function OE(l,d){return l(d)}function PE(){}var jg=!1;function jE(l,d,m){if(jg)return l(d,m);jg=!0;try{return OE(l,d,m)}finally{jg=!1,(Fo!==null||Bo!==null)&&(PE(),NE())}}function ku(l,d){var m=l.stateNode;if(m===null)return null;var y=Sh(m);if(y===null)return null;m=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var Ig=!1;if(o)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){Ig=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Ig=!1}function F5(l,d,m,y,T,C,I,z,G){var ne=Array.prototype.slice.call(arguments,3);try{d.apply(m,ne)}catch(me){this.onError(me)}}var Su=!1,ih=null,sh=!1,Rg=null,B5={onError:function(l){Su=!0,ih=l}};function $5(l,d,m,y,T,C,I,z,G){Su=!1,ih=null,F5.apply(B5,arguments)}function U5(l,d,m,y,T,C,I,z,G){if($5.apply(this,arguments),Su){if(Su){var ne=ih;Su=!1,ih=null}else throw Error(r(198));sh||(sh=!0,Rg=ne)}}function Fa(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function IE(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function RE(l){if(Fa(l)!==l)throw Error(r(188))}function H5(l){var d=l.alternate;if(!d){if(d=Fa(l),d===null)throw Error(r(188));return d!==l?null:l}for(var m=l,y=d;;){var T=m.return;if(T===null)break;var C=T.alternate;if(C===null){if(y=T.return,y!==null){m=y;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===m)return RE(T),l;if(C===y)return RE(T),d;C=C.sibling}throw Error(r(188))}if(m.return!==y.return)m=T,y=C;else{for(var I=!1,z=T.child;z;){if(z===m){I=!0,m=T,y=C;break}if(z===y){I=!0,y=T,m=C;break}z=z.sibling}if(!I){for(z=C.child;z;){if(z===m){I=!0,m=C,y=T;break}if(z===y){I=!0,y=C,m=T;break}z=z.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:d}function DE(l){return l=H5(l),l!==null?LE(l):null}function LE(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=LE(l);if(d!==null)return d;l=l.sibling}return null}var ME=t.unstable_scheduleCallback,FE=t.unstable_cancelCallback,z5=t.unstable_shouldYield,W5=t.unstable_requestPaint,Wt=t.unstable_now,q5=t.unstable_getCurrentPriorityLevel,Dg=t.unstable_ImmediatePriority,BE=t.unstable_UserBlockingPriority,ah=t.unstable_NormalPriority,V5=t.unstable_LowPriority,$E=t.unstable_IdlePriority,oh=null,Ri=null;function G5(l){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(oh,l,void 0,(l.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:X5,Y5=Math.log,K5=Math.LN2;function X5(l){return l>>>=0,l===0?32:31-(Y5(l)/K5|0)|0}var lh=64,uh=4194304;function Cu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ch(l,d){var m=l.pendingLanes;if(m===0)return 0;var y=0,T=l.suspendedLanes,C=l.pingedLanes,I=m&268435455;if(I!==0){var z=I&~T;z!==0?y=Cu(z):(C&=I,C!==0&&(y=Cu(C)))}else I=m&~T,I!==0?y=Cu(I):C!==0&&(y=Cu(C));if(y===0)return 0;if(d!==0&&d!==y&&(d&T)===0&&(T=y&-y,C=d&-d,T>=C||T===16&&(C&4194240)!==0))return d;if((y&4)!==0&&(y|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=y;0<d;)m=31-ci(d),T=1<<m,y|=l[m],d&=~T;return y}function Q5(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J5(l,d){for(var m=l.suspendedLanes,y=l.pingedLanes,T=l.expirationTimes,C=l.pendingLanes;0<C;){var I=31-ci(C),z=1<<I,G=T[I];G===-1?((z&m)===0||(z&y)!==0)&&(T[I]=Q5(z,d)):G<=d&&(l.expiredLanes|=z),C&=~z}}function Lg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function UE(){var l=lh;return lh<<=1,(lh&4194240)===0&&(lh=64),l}function Mg(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function Au(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-ci(d),l[d]=m}function Z5(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var T=31-ci(m),C=1<<T;d[T]=0,y[T]=-1,l[T]=-1,m&=~C}}function Fg(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var y=31-ci(m),T=1<<y;T&d|l[y]&d&&(l[y]|=d),m&=~T}}var pt=0;function HE(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var zE,Bg,WE,qE,VE,$g=!1,dh=[],Hs=null,zs=null,Ws=null,Nu=new Map,Ou=new Map,qs=[],e8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GE(l,d){switch(l){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Nu.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(d.pointerId)}}function Pu(l,d,m,y,T,C){return l===null||l.nativeEvent!==C?(l={blockedOn:d,domEventName:m,eventSystemFlags:y,nativeEvent:C,targetContainers:[T]},d!==null&&(d=qu(d),d!==null&&Bg(d)),l):(l.eventSystemFlags|=y,d=l.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),l)}function t8(l,d,m,y,T){switch(d){case"focusin":return Hs=Pu(Hs,l,d,m,y,T),!0;case"dragenter":return zs=Pu(zs,l,d,m,y,T),!0;case"mouseover":return Ws=Pu(Ws,l,d,m,y,T),!0;case"pointerover":var C=T.pointerId;return Nu.set(C,Pu(Nu.get(C)||null,l,d,m,y,T)),!0;case"gotpointercapture":return C=T.pointerId,Ou.set(C,Pu(Ou.get(C)||null,l,d,m,y,T)),!0}return!1}function YE(l){var d=Ba(l.target);if(d!==null){var m=Fa(d);if(m!==null){if(d=m.tag,d===13){if(d=IE(m),d!==null){l.blockedOn=d,VE(l.priority,function(){WE(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function hh(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=Hg(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);bn=y,m.target.dispatchEvent(y),bn=null}else return d=qu(m),d!==null&&Bg(d),l.blockedOn=m,!1;d.shift()}return!0}function KE(l,d,m){hh(l)&&m.delete(d)}function r8(){$g=!1,Hs!==null&&hh(Hs)&&(Hs=null),zs!==null&&hh(zs)&&(zs=null),Ws!==null&&hh(Ws)&&(Ws=null),Nu.forEach(KE),Ou.forEach(KE)}function ju(l,d){l.blockedOn===d&&(l.blockedOn=null,$g||($g=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,r8)))}function Iu(l){function d(T){return ju(T,l)}if(0<dh.length){ju(dh[0],l);for(var m=1;m<dh.length;m++){var y=dh[m];y.blockedOn===l&&(y.blockedOn=null)}}for(Hs!==null&&ju(Hs,l),zs!==null&&ju(zs,l),Ws!==null&&ju(Ws,l),Nu.forEach(d),Ou.forEach(d),m=0;m<qs.length;m++)y=qs[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<qs.length&&(m=qs[0],m.blockedOn===null);)YE(m),m.blockedOn===null&&qs.shift()}var $o=N.ReactCurrentBatchConfig,fh=!0;function n8(l,d,m,y){var T=pt,C=$o.transition;$o.transition=null;try{pt=1,Ug(l,d,m,y)}finally{pt=T,$o.transition=C}}function i8(l,d,m,y){var T=pt,C=$o.transition;$o.transition=null;try{pt=4,Ug(l,d,m,y)}finally{pt=T,$o.transition=C}}function Ug(l,d,m,y){if(fh){var T=Hg(l,d,m,y);if(T===null)s0(l,d,y,ph,m),GE(l,y);else if(t8(T,l,d,m,y))y.stopPropagation();else if(GE(l,y),d&4&&-1<e8.indexOf(l)){for(;T!==null;){var C=qu(T);if(C!==null&&zE(C),C=Hg(l,d,m,y),C===null&&s0(l,d,y,ph,m),C===T)break;T=C}T!==null&&y.stopPropagation()}else s0(l,d,y,null,m)}}var ph=null;function Hg(l,d,m,y){if(ph=null,l=Og(y),l=Ba(l),l!==null)if(d=Fa(l),d===null)l=null;else if(m=d.tag,m===13){if(l=IE(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return ph=l,null}function XE(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q5()){case Dg:return 1;case BE:return 4;case ah:case V5:return 16;case $E:return 536870912;default:return 16}default:return 16}}var Vs=null,zg=null,mh=null;function QE(){if(mh)return mh;var l,d=zg,m=d.length,y,T="value"in Vs?Vs.value:Vs.textContent,C=T.length;for(l=0;l<m&&d[l]===T[l];l++);var I=m-l;for(y=1;y<=I&&d[m-y]===T[C-y];y++);return mh=T.slice(l,1<y?1-y:void 0)}function gh(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function vh(){return!0}function JE(){return!1}function _n(l){function d(m,y,T,C,I){this._reactName=m,this._targetInst=T,this.type=y,this.nativeEvent=C,this.target=I,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(m=l[z],this[z]=m?m(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?vh:JE,this.isPropagationStopped=JE,this}return L(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),d}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wg=_n(Uo),Ru=L({},Uo,{view:0,detail:0}),s8=_n(Ru),qg,Vg,Du,yh=L({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Du&&(Du&&l.type==="mousemove"?(qg=l.screenX-Du.screenX,Vg=l.screenY-Du.screenY):Vg=qg=0,Du=l),qg)},movementY:function(l){return"movementY"in l?l.movementY:Vg}}),ZE=_n(yh),a8=L({},yh,{dataTransfer:0}),o8=_n(a8),l8=L({},Ru,{relatedTarget:0}),Gg=_n(l8),u8=L({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),c8=_n(u8),d8=L({},Uo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),h8=_n(d8),f8=L({},Uo,{data:0}),ek=_n(f8),p8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v8(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=g8[l])?!!d[l]:!1}function Yg(){return v8}var y8=L({},Ru,{key:function(l){if(l.key){var d=p8[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=gh(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?m8[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(l){return l.type==="keypress"?gh(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?gh(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),b8=_n(y8),_8=L({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tk=_n(_8),x8=L({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),w8=_n(x8),E8=L({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),k8=_n(E8),T8=L({},yh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),S8=_n(T8),C8=[9,13,27,32],Kg=o&&"CompositionEvent"in window,Lu=null;o&&"documentMode"in document&&(Lu=document.documentMode);var A8=o&&"TextEvent"in window&&!Lu,rk=o&&(!Kg||Lu&&8<Lu&&11>=Lu),nk=" ",ik=!1;function sk(l,d){switch(l){case"keyup":return C8.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ak(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ho=!1;function N8(l,d){switch(l){case"compositionend":return ak(d);case"keypress":return d.which!==32?null:(ik=!0,nk);case"textInput":return l=d.data,l===nk&&ik?null:l;default:return null}}function O8(l,d){if(Ho)return l==="compositionend"||!Kg&&sk(l,d)?(l=QE(),mh=zg=Vs=null,Ho=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return rk&&d.locale!=="ko"?null:d.data;default:return null}}var P8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ok(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!P8[l.type]:d==="textarea"}function lk(l,d,m,y){AE(y),d=Eh(d,"onChange"),0<d.length&&(m=new Wg("onChange","change",null,m,y),l.push({event:m,listeners:d}))}var Mu=null,Fu=null;function j8(l){Sk(l,0)}function bh(l){var d=Go(l);if(pe(d))return l}function I8(l,d){if(l==="change")return d}var uk=!1;if(o){var Xg;if(o){var Qg="oninput"in document;if(!Qg){var ck=document.createElement("div");ck.setAttribute("oninput","return;"),Qg=typeof ck.oninput=="function"}Xg=Qg}else Xg=!1;uk=Xg&&(!document.documentMode||9<document.documentMode)}function dk(){Mu&&(Mu.detachEvent("onpropertychange",hk),Fu=Mu=null)}function hk(l){if(l.propertyName==="value"&&bh(Fu)){var d=[];lk(d,Fu,l,Og(l)),jE(j8,d)}}function R8(l,d,m){l==="focusin"?(dk(),Mu=d,Fu=m,Mu.attachEvent("onpropertychange",hk)):l==="focusout"&&dk()}function D8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return bh(Fu)}function L8(l,d){if(l==="click")return bh(d)}function M8(l,d){if(l==="input"||l==="change")return bh(d)}function F8(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var di=typeof Object.is=="function"?Object.is:F8;function Bu(l,d){if(di(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),y=Object.keys(d);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var T=m[y];if(!u.call(d,T)||!di(l[T],d[T]))return!1}return!0}function fk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function pk(l,d){var m=fk(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=d&&y>=d)return{node:m,offset:d-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=fk(m)}}function mk(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?mk(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function gk(){for(var l=window,d=yt();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=yt(l.document)}return d}function Jg(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function B8(l){var d=gk(),m=l.focusedElem,y=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&mk(m.ownerDocument.documentElement,m)){if(y!==null&&Jg(m)){if(d=y.start,l=y.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var T=m.textContent.length,C=Math.min(y.start,T);y=y.end===void 0?C:Math.min(y.end,T),!l.extend&&C>y&&(T=y,y=C,C=T),T=pk(m,C);var I=pk(m,y);T&&I&&(l.rangeCount!==1||l.anchorNode!==T.node||l.anchorOffset!==T.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(d=d.createRange(),d.setStart(T.node,T.offset),l.removeAllRanges(),C>y?(l.addRange(d),l.extend(I.node,I.offset)):(d.setEnd(I.node,I.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var $8=o&&"documentMode"in document&&11>=document.documentMode,zo=null,Zg=null,$u=null,e0=!1;function vk(l,d,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;e0||zo==null||zo!==yt(y)||(y=zo,"selectionStart"in y&&Jg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),$u&&Bu($u,y)||($u=y,y=Eh(Zg,"onSelect"),0<y.length&&(d=new Wg("onSelect","select",null,d,m),l.push({event:d,listeners:y}),d.target=zo)))}function _h(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Wo={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},t0={},yk={};o&&(yk=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function xh(l){if(t0[l])return t0[l];if(!Wo[l])return l;var d=Wo[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in yk)return t0[l]=d[m];return l}var bk=xh("animationend"),_k=xh("animationiteration"),xk=xh("animationstart"),wk=xh("transitionend"),Ek=new Map,kk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(l,d){Ek.set(l,d),s(d,[l])}for(var r0=0;r0<kk.length;r0++){var n0=kk[r0],U8=n0.toLowerCase(),H8=n0[0].toUpperCase()+n0.slice(1);Gs(U8,"on"+H8)}Gs(bk,"onAnimationEnd"),Gs(_k,"onAnimationIteration"),Gs(xk,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(wk,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function Tk(l,d,m){var y=l.type||"unknown-event";l.currentTarget=m,U5(y,d,void 0,l),l.currentTarget=null}function Sk(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],T=y.event;y=y.listeners;e:{var C=void 0;if(d)for(var I=y.length-1;0<=I;I--){var z=y[I],G=z.instance,ne=z.currentTarget;if(z=z.listener,G!==C&&T.isPropagationStopped())break e;Tk(T,z,ne),C=G}else for(I=0;I<y.length;I++){if(z=y[I],G=z.instance,ne=z.currentTarget,z=z.listener,G!==C&&T.isPropagationStopped())break e;Tk(T,z,ne),C=G}}}if(sh)throw l=Rg,sh=!1,Rg=null,l}function Nt(l,d){var m=d[d0];m===void 0&&(m=d[d0]=new Set);var y=l+"__bubble";m.has(y)||(Ck(d,l,2,!1),m.add(y))}function i0(l,d,m){var y=0;d&&(y|=4),Ck(m,l,y,d)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Hu(l){if(!l[wh]){l[wh]=!0,n.forEach(function(m){m!=="selectionchange"&&(z8.has(m)||i0(m,!1,l),i0(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[wh]||(d[wh]=!0,i0("selectionchange",!1,d))}}function Ck(l,d,m,y){switch(XE(d)){case 1:var T=n8;break;case 4:T=i8;break;default:T=Ug}m=T.bind(null,d,m,l),T=void 0,!Ig||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),y?T!==void 0?l.addEventListener(d,m,{capture:!0,passive:T}):l.addEventListener(d,m,!0):T!==void 0?l.addEventListener(d,m,{passive:T}):l.addEventListener(d,m,!1)}function s0(l,d,m,y,T){var C=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var z=y.stateNode.containerInfo;if(z===T||z.nodeType===8&&z.parentNode===T)break;if(I===4)for(I=y.return;I!==null;){var G=I.tag;if((G===3||G===4)&&(G=I.stateNode.containerInfo,G===T||G.nodeType===8&&G.parentNode===T))return;I=I.return}for(;z!==null;){if(I=Ba(z),I===null)return;if(G=I.tag,G===5||G===6){y=C=I;continue e}z=z.parentNode}}y=y.return}jE(function(){var ne=C,me=Og(m),ge=[];e:{var he=Ek.get(l);if(he!==void 0){var Ae=Wg,je=l;switch(l){case"keypress":if(gh(m)===0)break e;case"keydown":case"keyup":Ae=b8;break;case"focusin":je="focus",Ae=Gg;break;case"focusout":je="blur",Ae=Gg;break;case"beforeblur":case"afterblur":Ae=Gg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=ZE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=o8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=w8;break;case bk:case _k:case xk:Ae=c8;break;case wk:Ae=k8;break;case"scroll":Ae=s8;break;case"wheel":Ae=S8;break;case"copy":case"cut":case"paste":Ae=h8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=tk}var Ie=(d&4)!==0,qt=!Ie&&l==="scroll",Q=Ie?he!==null?he+"Capture":null:he;Ie=[];for(var X=ne,ee;X!==null;){ee=X;var be=ee.stateNode;if(ee.tag===5&&be!==null&&(ee=be,Q!==null&&(be=ku(X,Q),be!=null&&Ie.push(zu(X,be,ee)))),qt)break;X=X.return}0<Ie.length&&(he=new Ae(he,je,null,m,me),ge.push({event:he,listeners:Ie}))}}if((d&7)===0){e:{if(he=l==="mouseover"||l==="pointerover",Ae=l==="mouseout"||l==="pointerout",he&&m!==bn&&(je=m.relatedTarget||m.fromElement)&&(Ba(je)||je[ts]))break e;if((Ae||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,Ae?(je=m.relatedTarget||m.toElement,Ae=ne,je=je?Ba(je):null,je!==null&&(qt=Fa(je),je!==qt||je.tag!==5&&je.tag!==6)&&(je=null)):(Ae=null,je=ne),Ae!==je)){if(Ie=ZE,be="onMouseLeave",Q="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Ie=tk,be="onPointerLeave",Q="onPointerEnter",X="pointer"),qt=Ae==null?he:Go(Ae),ee=je==null?he:Go(je),he=new Ie(be,X+"leave",Ae,m,me),he.target=qt,he.relatedTarget=ee,be=null,Ba(me)===ne&&(Ie=new Ie(Q,X+"enter",je,m,me),Ie.target=ee,Ie.relatedTarget=qt,be=Ie),qt=be,Ae&&je)t:{for(Ie=Ae,Q=je,X=0,ee=Ie;ee;ee=qo(ee))X++;for(ee=0,be=Q;be;be=qo(be))ee++;for(;0<X-ee;)Ie=qo(Ie),X--;for(;0<ee-X;)Q=qo(Q),ee--;for(;X--;){if(Ie===Q||Q!==null&&Ie===Q.alternate)break t;Ie=qo(Ie),Q=qo(Q)}Ie=null}else Ie=null;Ae!==null&&Ak(ge,he,Ae,Ie,!1),je!==null&&qt!==null&&Ak(ge,qt,je,Ie,!0)}}e:{if(he=ne?Go(ne):window,Ae=he.nodeName&&he.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&he.type==="file")var Re=I8;else if(ok(he))if(uk)Re=M8;else{Re=D8;var Ue=R8}else(Ae=he.nodeName)&&Ae.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Re=L8);if(Re&&(Re=Re(l,ne))){lk(ge,Re,m,me);break e}Ue&&Ue(l,he,ne),l==="focusout"&&(Ue=he._wrapperState)&&Ue.controlled&&he.type==="number"&&Mo(he,"number",he.value)}switch(Ue=ne?Go(ne):window,l){case"focusin":(ok(Ue)||Ue.contentEditable==="true")&&(zo=Ue,Zg=ne,$u=null);break;case"focusout":$u=Zg=zo=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,vk(ge,m,me);break;case"selectionchange":if($8)break;case"keydown":case"keyup":vk(ge,m,me)}var He;if(Kg)e:{switch(l){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ho?sk(l,m)&&(Xe="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Xe="onCompositionStart");Xe&&(rk&&m.locale!=="ko"&&(Ho||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ho&&(He=QE()):(Vs=me,zg="value"in Vs?Vs.value:Vs.textContent,Ho=!0)),Ue=Eh(ne,Xe),0<Ue.length&&(Xe=new ek(Xe,l,null,m,me),ge.push({event:Xe,listeners:Ue}),He?Xe.data=He:(He=ak(m),He!==null&&(Xe.data=He)))),(He=A8?N8(l,m):O8(l,m))&&(ne=Eh(ne,"onBeforeInput"),0<ne.length&&(me=new ek("onBeforeInput","beforeinput",null,m,me),ge.push({event:me,listeners:ne}),me.data=He))}Sk(ge,d)})}function zu(l,d,m){return{instance:l,listener:d,currentTarget:m}}function Eh(l,d){for(var m=d+"Capture",y=[];l!==null;){var T=l,C=T.stateNode;T.tag===5&&C!==null&&(T=C,C=ku(l,m),C!=null&&y.unshift(zu(l,C,T)),C=ku(l,d),C!=null&&y.push(zu(l,C,T))),l=l.return}return y}function qo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ak(l,d,m,y,T){for(var C=d._reactName,I=[];m!==null&&m!==y;){var z=m,G=z.alternate,ne=z.stateNode;if(G!==null&&G===y)break;z.tag===5&&ne!==null&&(z=ne,T?(G=ku(m,C),G!=null&&I.unshift(zu(m,G,z))):T||(G=ku(m,C),G!=null&&I.push(zu(m,G,z)))),m=m.return}I.length!==0&&l.push({event:d,listeners:I})}var W8=/\r\n?/g,q8=/\u0000|\uFFFD/g;function Nk(l){return(typeof l=="string"?l:""+l).replace(W8,`
`).replace(q8,"")}function kh(l,d,m){if(d=Nk(d),Nk(l)!==d&&m)throw Error(r(425))}function Th(){}var a0=null,o0=null;function l0(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var u0=typeof setTimeout=="function"?setTimeout:void 0,V8=typeof clearTimeout=="function"?clearTimeout:void 0,Ok=typeof Promise=="function"?Promise:void 0,G8=typeof queueMicrotask=="function"?queueMicrotask:typeof Ok<"u"?function(l){return Ok.resolve(null).then(l).catch(Y8)}:u0;function Y8(l){setTimeout(function(){throw l})}function c0(l,d){var m=d,y=0;do{var T=m.nextSibling;if(l.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(y===0){l.removeChild(T),Iu(d);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=T}while(m);Iu(d)}function Ys(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Pk(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Di="__reactFiber$"+Vo,Wu="__reactProps$"+Vo,ts="__reactContainer$"+Vo,d0="__reactEvents$"+Vo,K8="__reactListeners$"+Vo,X8="__reactHandles$"+Vo;function Ba(l){var d=l[Di];if(d)return d;for(var m=l.parentNode;m;){if(d=m[ts]||m[Di]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Pk(l);l!==null;){if(m=l[Di])return m;l=Pk(l)}return d}l=m,m=l.parentNode}return null}function qu(l){return l=l[Di]||l[ts],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Go(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Sh(l){return l[Wu]||null}var h0=[],Yo=-1;function Ks(l){return{current:l}}function Ot(l){0>Yo||(l.current=h0[Yo],h0[Yo]=null,Yo--)}function kt(l,d){Yo++,h0[Yo]=l.current,l.current=d}var Xs={},Pr=Ks(Xs),tn=Ks(!1),$a=Xs;function Ko(l,d){var m=l.type.contextTypes;if(!m)return Xs;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===d)return y.__reactInternalMemoizedMaskedChildContext;var T={},C;for(C in m)T[C]=d[C];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=T),T}function rn(l){return l=l.childContextTypes,l!=null}function Ch(){Ot(tn),Ot(Pr)}function jk(l,d,m){if(Pr.current!==Xs)throw Error(r(168));kt(Pr,d),kt(tn,m)}function Ik(l,d,m){var y=l.stateNode;if(d=d.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var T in y)if(!(T in d))throw Error(r(108,Le(l)||"Unknown",T));return L({},m,y)}function Ah(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Xs,$a=Pr.current,kt(Pr,l),kt(tn,tn.current),!0}function Rk(l,d,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=Ik(l,d,$a),y.__reactInternalMemoizedMergedChildContext=l,Ot(tn),Ot(Pr),kt(Pr,l)):Ot(tn),kt(tn,m)}var rs=null,Nh=!1,f0=!1;function Dk(l){rs===null?rs=[l]:rs.push(l)}function Q8(l){Nh=!0,Dk(l)}function Qs(){if(!f0&&rs!==null){f0=!0;var l=0,d=pt;try{var m=rs;for(pt=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}rs=null,Nh=!1}catch(T){throw rs!==null&&(rs=rs.slice(l+1)),ME(Dg,Qs),T}finally{pt=d,f0=!1}}return null}var Xo=[],Qo=0,Oh=null,Ph=0,Un=[],Hn=0,Ua=null,ns=1,is="";function Ha(l,d){Xo[Qo++]=Ph,Xo[Qo++]=Oh,Oh=l,Ph=d}function Lk(l,d,m){Un[Hn++]=ns,Un[Hn++]=is,Un[Hn++]=Ua,Ua=l;var y=ns;l=is;var T=32-ci(y)-1;y&=~(1<<T),m+=1;var C=32-ci(d)+T;if(30<C){var I=T-T%5;C=(y&(1<<I)-1).toString(32),y>>=I,T-=I,ns=1<<32-ci(d)+T|m<<T|y,is=C+l}else ns=1<<C|m<<T|y,is=l}function p0(l){l.return!==null&&(Ha(l,1),Lk(l,1,0))}function m0(l){for(;l===Oh;)Oh=Xo[--Qo],Xo[Qo]=null,Ph=Xo[--Qo],Xo[Qo]=null;for(;l===Ua;)Ua=Un[--Hn],Un[Hn]=null,is=Un[--Hn],Un[Hn]=null,ns=Un[--Hn],Un[Hn]=null}var xn=null,wn=null,Rt=!1,hi=null;function Mk(l,d){var m=Vn(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function Fk(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,xn=l,wn=Ys(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,xn=l,wn=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Ua!==null?{id:ns,overflow:is}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=Vn(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,xn=l,wn=null,!0):!1;default:return!1}}function g0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function v0(l){if(Rt){var d=wn;if(d){var m=d;if(!Fk(l,d)){if(g0(l))throw Error(r(418));d=Ys(m.nextSibling);var y=xn;d&&Fk(l,d)?Mk(y,m):(l.flags=l.flags&-4097|2,Rt=!1,xn=l)}}else{if(g0(l))throw Error(r(418));l.flags=l.flags&-4097|2,Rt=!1,xn=l}}}function Bk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xn=l}function jh(l){if(l!==xn)return!1;if(!Rt)return Bk(l),Rt=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!l0(l.type,l.memoizedProps)),d&&(d=wn)){if(g0(l))throw $k(),Error(r(418));for(;d;)Mk(l,d),d=Ys(d.nextSibling)}if(Bk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){wn=Ys(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}wn=null}}else wn=xn?Ys(l.stateNode.nextSibling):null;return!0}function $k(){for(var l=wn;l;)l=Ys(l.nextSibling)}function Jo(){wn=xn=null,Rt=!1}function y0(l){hi===null?hi=[l]:hi.push(l)}var J8=N.ReactCurrentBatchConfig;function Vu(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var T=y,C=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===C?d.ref:(d=function(I){var z=T.refs;I===null?delete z[C]:z[C]=I},d._stringRef=C,d)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Ih(l,d){throw l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Uk(l){var d=l._init;return d(l._payload)}function Hk(l){function d(Q,X){if(l){var ee=Q.deletions;ee===null?(Q.deletions=[X],Q.flags|=16):ee.push(X)}}function m(Q,X){if(!l)return null;for(;X!==null;)d(Q,X),X=X.sibling;return null}function y(Q,X){for(Q=new Map;X!==null;)X.key!==null?Q.set(X.key,X):Q.set(X.index,X),X=X.sibling;return Q}function T(Q,X){return Q=sa(Q,X),Q.index=0,Q.sibling=null,Q}function C(Q,X,ee){return Q.index=ee,l?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<X?(Q.flags|=2,X):ee):(Q.flags|=2,X)):(Q.flags|=1048576,X)}function I(Q){return l&&Q.alternate===null&&(Q.flags|=2),Q}function z(Q,X,ee,be){return X===null||X.tag!==6?(X=uv(ee,Q.mode,be),X.return=Q,X):(X=T(X,ee),X.return=Q,X)}function G(Q,X,ee,be){var Re=ee.type;return Re===j?me(Q,X,ee.props.children,be,ee.key):X!==null&&(X.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&Uk(Re)===X.type)?(be=T(X,ee.props),be.ref=Vu(Q,X,ee),be.return=Q,be):(be=nf(ee.type,ee.key,ee.props,null,Q.mode,be),be.ref=Vu(Q,X,ee),be.return=Q,be)}function ne(Q,X,ee,be){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=cv(ee,Q.mode,be),X.return=Q,X):(X=T(X,ee.children||[]),X.return=Q,X)}function me(Q,X,ee,be,Re){return X===null||X.tag!==7?(X=Xa(ee,Q.mode,be,Re),X.return=Q,X):(X=T(X,ee),X.return=Q,X)}function ge(Q,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number")return X=uv(""+X,Q.mode,ee),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return ee=nf(X.type,X.key,X.props,null,Q.mode,ee),ee.ref=Vu(Q,null,X),ee.return=Q,ee;case O:return X=cv(X,Q.mode,ee),X.return=Q,X;case Z:var be=X._init;return ge(Q,be(X._payload),ee)}if(Bs(X)||ce(X))return X=Xa(X,Q.mode,ee,null),X.return=Q,X;Ih(Q,X)}return null}function he(Q,X,ee,be){var Re=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Re!==null?null:z(Q,X,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===Re?G(Q,X,ee,be):null;case O:return ee.key===Re?ne(Q,X,ee,be):null;case Z:return Re=ee._init,he(Q,X,Re(ee._payload),be)}if(Bs(ee)||ce(ee))return Re!==null?null:me(Q,X,ee,be,null);Ih(Q,ee)}return null}function Ae(Q,X,ee,be,Re){if(typeof be=="string"&&be!==""||typeof be=="number")return Q=Q.get(ee)||null,z(X,Q,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case P:return Q=Q.get(be.key===null?ee:be.key)||null,G(X,Q,be,Re);case O:return Q=Q.get(be.key===null?ee:be.key)||null,ne(X,Q,be,Re);case Z:var Ue=be._init;return Ae(Q,X,ee,Ue(be._payload),Re)}if(Bs(be)||ce(be))return Q=Q.get(ee)||null,me(X,Q,be,Re,null);Ih(X,be)}return null}function je(Q,X,ee,be){for(var Re=null,Ue=null,He=X,Xe=X=0,pr=null;He!==null&&Xe<ee.length;Xe++){He.index>Xe?(pr=He,He=null):pr=He.sibling;var ct=he(Q,He,ee[Xe],be);if(ct===null){He===null&&(He=pr);break}l&&He&&ct.alternate===null&&d(Q,He),X=C(ct,X,Xe),Ue===null?Re=ct:Ue.sibling=ct,Ue=ct,He=pr}if(Xe===ee.length)return m(Q,He),Rt&&Ha(Q,Xe),Re;if(He===null){for(;Xe<ee.length;Xe++)He=ge(Q,ee[Xe],be),He!==null&&(X=C(He,X,Xe),Ue===null?Re=He:Ue.sibling=He,Ue=He);return Rt&&Ha(Q,Xe),Re}for(He=y(Q,He);Xe<ee.length;Xe++)pr=Ae(He,Q,Xe,ee[Xe],be),pr!==null&&(l&&pr.alternate!==null&&He.delete(pr.key===null?Xe:pr.key),X=C(pr,X,Xe),Ue===null?Re=pr:Ue.sibling=pr,Ue=pr);return l&&He.forEach(function(aa){return d(Q,aa)}),Rt&&Ha(Q,Xe),Re}function Ie(Q,X,ee,be){var Re=ce(ee);if(typeof Re!="function")throw Error(r(150));if(ee=Re.call(ee),ee==null)throw Error(r(151));for(var Ue=Re=null,He=X,Xe=X=0,pr=null,ct=ee.next();He!==null&&!ct.done;Xe++,ct=ee.next()){He.index>Xe?(pr=He,He=null):pr=He.sibling;var aa=he(Q,He,ct.value,be);if(aa===null){He===null&&(He=pr);break}l&&He&&aa.alternate===null&&d(Q,He),X=C(aa,X,Xe),Ue===null?Re=aa:Ue.sibling=aa,Ue=aa,He=pr}if(ct.done)return m(Q,He),Rt&&Ha(Q,Xe),Re;if(He===null){for(;!ct.done;Xe++,ct=ee.next())ct=ge(Q,ct.value,be),ct!==null&&(X=C(ct,X,Xe),Ue===null?Re=ct:Ue.sibling=ct,Ue=ct);return Rt&&Ha(Q,Xe),Re}for(He=y(Q,He);!ct.done;Xe++,ct=ee.next())ct=Ae(He,Q,Xe,ct.value,be),ct!==null&&(l&&ct.alternate!==null&&He.delete(ct.key===null?Xe:ct.key),X=C(ct,X,Xe),Ue===null?Re=ct:Ue.sibling=ct,Ue=ct);return l&&He.forEach(function(PF){return d(Q,PF)}),Rt&&Ha(Q,Xe),Re}function qt(Q,X,ee,be){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var Re=ee.key,Ue=X;Ue!==null;){if(Ue.key===Re){if(Re=ee.type,Re===j){if(Ue.tag===7){m(Q,Ue.sibling),X=T(Ue,ee.props.children),X.return=Q,Q=X;break e}}else if(Ue.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&Uk(Re)===Ue.type){m(Q,Ue.sibling),X=T(Ue,ee.props),X.ref=Vu(Q,Ue,ee),X.return=Q,Q=X;break e}m(Q,Ue);break}else d(Q,Ue);Ue=Ue.sibling}ee.type===j?(X=Xa(ee.props.children,Q.mode,be,ee.key),X.return=Q,Q=X):(be=nf(ee.type,ee.key,ee.props,null,Q.mode,be),be.ref=Vu(Q,X,ee),be.return=Q,Q=be)}return I(Q);case O:e:{for(Ue=ee.key;X!==null;){if(X.key===Ue)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){m(Q,X.sibling),X=T(X,ee.children||[]),X.return=Q,Q=X;break e}else{m(Q,X);break}else d(Q,X);X=X.sibling}X=cv(ee,Q.mode,be),X.return=Q,Q=X}return I(Q);case Z:return Ue=ee._init,qt(Q,X,Ue(ee._payload),be)}if(Bs(ee))return je(Q,X,ee,be);if(ce(ee))return Ie(Q,X,ee,be);Ih(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,X!==null&&X.tag===6?(m(Q,X.sibling),X=T(X,ee),X.return=Q,Q=X):(m(Q,X),X=uv(ee,Q.mode,be),X.return=Q,Q=X),I(Q)):m(Q,X)}return qt}var Zo=Hk(!0),zk=Hk(!1),Rh=Ks(null),Dh=null,el=null,b0=null;function _0(){b0=el=Dh=null}function x0(l){var d=Rh.current;Ot(Rh),l._currentValue=d}function w0(l,d,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),l===m)break;l=l.return}}function tl(l,d){Dh=l,b0=el=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(nn=!0),l.firstContext=null)}function zn(l){var d=l._currentValue;if(b0!==l)if(l={context:l,memoizedValue:d,next:null},el===null){if(Dh===null)throw Error(r(308));el=l,Dh.dependencies={lanes:0,firstContext:l}}else el=el.next=l;return d}var za=null;function E0(l){za===null?za=[l]:za.push(l)}function Wk(l,d,m,y){var T=d.interleaved;return T===null?(m.next=m,E0(d)):(m.next=T.next,T.next=m),d.interleaved=m,ss(l,y)}function ss(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Js=!1;function k0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qk(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function as(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function Zs(l,d,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(ut&2)!==0){var T=y.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),y.pending=d,ss(l,m)}return T=y.interleaved,T===null?(d.next=d,E0(y)):(d.next=T.next,T.next=d),y.interleaved=d,ss(l,m)}function Lh(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var y=d.lanes;y&=l.pendingLanes,m|=y,d.lanes=m,Fg(l,m)}}function Vk(l,d){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var T=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};C===null?T=C=I:C=C.next=I,m=m.next}while(m!==null);C===null?T=C=d:C=C.next=d}else T=C=d;m={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function Mh(l,d,m,y){var T=l.updateQueue;Js=!1;var C=T.firstBaseUpdate,I=T.lastBaseUpdate,z=T.shared.pending;if(z!==null){T.shared.pending=null;var G=z,ne=G.next;G.next=null,I===null?C=ne:I.next=ne,I=G;var me=l.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==I&&(z===null?me.firstBaseUpdate=ne:z.next=ne,me.lastBaseUpdate=G))}if(C!==null){var ge=T.baseState;I=0,me=ne=G=null,z=C;do{var he=z.lane,Ae=z.eventTime;if((y&he)===he){me!==null&&(me=me.next={eventTime:Ae,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var je=l,Ie=z;switch(he=d,Ae=m,Ie.tag){case 1:if(je=Ie.payload,typeof je=="function"){ge=je.call(Ae,ge,he);break e}ge=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ie.payload,he=typeof je=="function"?je.call(Ae,ge,he):je,he==null)break e;ge=L({},ge,he);break e;case 2:Js=!0}}z.callback!==null&&z.lane!==0&&(l.flags|=64,he=T.effects,he===null?T.effects=[z]:he.push(z))}else Ae={eventTime:Ae,lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(ne=me=Ae,G=ge):me=me.next=Ae,I|=he;if(z=z.next,z===null){if(z=T.shared.pending,z===null)break;he=z,z=he.next,he.next=null,T.lastBaseUpdate=he,T.shared.pending=null}}while(!0);if(me===null&&(G=ge),T.baseState=G,T.firstBaseUpdate=ne,T.lastBaseUpdate=me,d=T.shared.interleaved,d!==null){T=d;do I|=T.lane,T=T.next;while(T!==d)}else C===null&&(T.shared.lanes=0);Va|=I,l.lanes=I,l.memoizedState=ge}}function Gk(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var y=l[d],T=y.callback;if(T!==null){if(y.callback=null,y=m,typeof T!="function")throw Error(r(191,T));T.call(y)}}}var Gu={},Li=Ks(Gu),Yu=Ks(Gu),Ku=Ks(Gu);function Wa(l){if(l===Gu)throw Error(r(174));return l}function T0(l,d){switch(kt(Ku,d),kt(Yu,l),kt(Li,Gu),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:xe(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=xe(d,l)}Ot(Li),kt(Li,d)}function rl(){Ot(Li),Ot(Yu),Ot(Ku)}function Yk(l){Wa(Ku.current);var d=Wa(Li.current),m=xe(d,l.type);d!==m&&(kt(Yu,l),kt(Li,m))}function S0(l){Yu.current===l&&(Ot(Li),Ot(Yu))}var Ft=Ks(0);function Fh(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var C0=[];function A0(){for(var l=0;l<C0.length;l++)C0[l]._workInProgressVersionPrimary=null;C0.length=0}var Bh=N.ReactCurrentDispatcher,N0=N.ReactCurrentBatchConfig,qa=0,Bt=null,er=null,hr=null,$h=!1,Xu=!1,Qu=0,Z8=0;function jr(){throw Error(r(321))}function O0(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!di(l[m],d[m]))return!1;return!0}function P0(l,d,m,y,T,C){if(qa=C,Bt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Bh.current=l===null||l.memoizedState===null?nF:iF,l=m(y,T),Xu){C=0;do{if(Xu=!1,Qu=0,25<=C)throw Error(r(301));C+=1,hr=er=null,d.updateQueue=null,Bh.current=sF,l=m(y,T)}while(Xu)}if(Bh.current=zh,d=er!==null&&er.next!==null,qa=0,hr=er=Bt=null,$h=!1,d)throw Error(r(300));return l}function j0(){var l=Qu!==0;return Qu=0,l}function Mi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Bt.memoizedState=hr=l:hr=hr.next=l,hr}function Wn(){if(er===null){var l=Bt.alternate;l=l!==null?l.memoizedState:null}else l=er.next;var d=hr===null?Bt.memoizedState:hr.next;if(d!==null)hr=d,er=l;else{if(l===null)throw Error(r(310));er=l,l={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},hr===null?Bt.memoizedState=hr=l:hr=hr.next=l}return hr}function Ju(l,d){return typeof d=="function"?d(l):d}function I0(l){var d=Wn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=er,T=y.baseQueue,C=m.pending;if(C!==null){if(T!==null){var I=T.next;T.next=C.next,C.next=I}y.baseQueue=T=C,m.pending=null}if(T!==null){C=T.next,y=y.baseState;var z=I=null,G=null,ne=C;do{var me=ne.lane;if((qa&me)===me)G!==null&&(G=G.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),y=ne.hasEagerState?ne.eagerState:l(y,ne.action);else{var ge={lane:me,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};G===null?(z=G=ge,I=y):G=G.next=ge,Bt.lanes|=me,Va|=me}ne=ne.next}while(ne!==null&&ne!==C);G===null?I=y:G.next=z,di(y,d.memoizedState)||(nn=!0),d.memoizedState=y,d.baseState=I,d.baseQueue=G,m.lastRenderedState=y}if(l=m.interleaved,l!==null){T=l;do C=T.lane,Bt.lanes|=C,Va|=C,T=T.next;while(T!==l)}else T===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function R0(l){var d=Wn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,T=m.pending,C=d.memoizedState;if(T!==null){m.pending=null;var I=T=T.next;do C=l(C,I.action),I=I.next;while(I!==T);di(C,d.memoizedState)||(nn=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),m.lastRenderedState=C}return[C,y]}function Kk(){}function Xk(l,d){var m=Bt,y=Wn(),T=d(),C=!di(y.memoizedState,T);if(C&&(y.memoizedState=T,nn=!0),y=y.queue,D0(Zk.bind(null,m,y,l),[l]),y.getSnapshot!==d||C||hr!==null&&hr.memoizedState.tag&1){if(m.flags|=2048,Zu(9,Jk.bind(null,m,y,T,d),void 0,null),fr===null)throw Error(r(349));(qa&30)!==0||Qk(m,d,T)}return T}function Qk(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Bt.updateQueue,d===null?(d={lastEffect:null,stores:null},Bt.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function Jk(l,d,m,y){d.value=m,d.getSnapshot=y,eT(d)&&tT(l)}function Zk(l,d,m){return m(function(){eT(d)&&tT(l)})}function eT(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!di(l,m)}catch{return!0}}function tT(l){var d=ss(l,1);d!==null&&gi(d,l,1,-1)}function rT(l){var d=Mi();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:l},d.queue=l,l=l.dispatch=rF.bind(null,Bt,l),[d.memoizedState,l]}function Zu(l,d,m,y){return l={tag:l,create:d,destroy:m,deps:y,next:null},d=Bt.updateQueue,d===null?(d={lastEffect:null,stores:null},Bt.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,d.lastEffect=l)),l}function nT(){return Wn().memoizedState}function Uh(l,d,m,y){var T=Mi();Bt.flags|=l,T.memoizedState=Zu(1|d,m,void 0,y===void 0?null:y)}function Hh(l,d,m,y){var T=Wn();y=y===void 0?null:y;var C=void 0;if(er!==null){var I=er.memoizedState;if(C=I.destroy,y!==null&&O0(y,I.deps)){T.memoizedState=Zu(d,m,C,y);return}}Bt.flags|=l,T.memoizedState=Zu(1|d,m,C,y)}function iT(l,d){return Uh(8390656,8,l,d)}function D0(l,d){return Hh(2048,8,l,d)}function sT(l,d){return Hh(4,2,l,d)}function aT(l,d){return Hh(4,4,l,d)}function oT(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function lT(l,d,m){return m=m!=null?m.concat([l]):null,Hh(4,4,oT.bind(null,d,l),m)}function L0(){}function uT(l,d){var m=Wn();d=d===void 0?null:d;var y=m.memoizedState;return y!==null&&d!==null&&O0(d,y[1])?y[0]:(m.memoizedState=[l,d],l)}function cT(l,d){var m=Wn();d=d===void 0?null:d;var y=m.memoizedState;return y!==null&&d!==null&&O0(d,y[1])?y[0]:(l=l(),m.memoizedState=[l,d],l)}function dT(l,d,m){return(qa&21)===0?(l.baseState&&(l.baseState=!1,nn=!0),l.memoizedState=m):(di(m,d)||(m=UE(),Bt.lanes|=m,Va|=m,l.baseState=!0),d)}function eF(l,d){var m=pt;pt=m!==0&&4>m?m:4,l(!0);var y=N0.transition;N0.transition={};try{l(!1),d()}finally{pt=m,N0.transition=y}}function hT(){return Wn().memoizedState}function tF(l,d,m){var y=na(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},fT(l))pT(d,m);else if(m=Wk(l,d,m,y),m!==null){var T=qr();gi(m,l,y,T),mT(m,d,y)}}function rF(l,d,m){var y=na(l),T={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(fT(l))pT(d,T);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var I=d.lastRenderedState,z=C(I,m);if(T.hasEagerState=!0,T.eagerState=z,di(z,I)){var G=d.interleaved;G===null?(T.next=T,E0(d)):(T.next=G.next,G.next=T),d.interleaved=T;return}}catch{}finally{}m=Wk(l,d,T,y),m!==null&&(T=qr(),gi(m,l,y,T),mT(m,d,y))}}function fT(l){var d=l.alternate;return l===Bt||d!==null&&d===Bt}function pT(l,d){Xu=$h=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function mT(l,d,m){if((m&4194240)!==0){var y=d.lanes;y&=l.pendingLanes,m|=y,d.lanes=m,Fg(l,m)}}var zh={readContext:zn,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},nF={readContext:zn,useCallback:function(l,d){return Mi().memoizedState=[l,d===void 0?null:d],l},useContext:zn,useEffect:iT,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,Uh(4194308,4,oT.bind(null,d,l),m)},useLayoutEffect:function(l,d){return Uh(4194308,4,l,d)},useInsertionEffect:function(l,d){return Uh(4,2,l,d)},useMemo:function(l,d){var m=Mi();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var y=Mi();return d=m!==void 0?m(d):d,y.memoizedState=y.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},y.queue=l,l=l.dispatch=tF.bind(null,Bt,l),[y.memoizedState,l]},useRef:function(l){var d=Mi();return l={current:l},d.memoizedState=l},useState:rT,useDebugValue:L0,useDeferredValue:function(l){return Mi().memoizedState=l},useTransition:function(){var l=rT(!1),d=l[0];return l=eF.bind(null,l[1]),Mi().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var y=Bt,T=Mi();if(Rt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),fr===null)throw Error(r(349));(qa&30)!==0||Qk(y,d,m)}T.memoizedState=m;var C={value:m,getSnapshot:d};return T.queue=C,iT(Zk.bind(null,y,C,l),[l]),y.flags|=2048,Zu(9,Jk.bind(null,y,C,m,d),void 0,null),m},useId:function(){var l=Mi(),d=fr.identifierPrefix;if(Rt){var m=is,y=ns;m=(y&~(1<<32-ci(y)-1)).toString(32)+m,d=":"+d+"R"+m,m=Qu++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=Z8++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},iF={readContext:zn,useCallback:uT,useContext:zn,useEffect:D0,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:aT,useMemo:cT,useReducer:I0,useRef:nT,useState:function(){return I0(Ju)},useDebugValue:L0,useDeferredValue:function(l){var d=Wn();return dT(d,er.memoizedState,l)},useTransition:function(){var l=I0(Ju)[0],d=Wn().memoizedState;return[l,d]},useMutableSource:Kk,useSyncExternalStore:Xk,useId:hT,unstable_isNewReconciler:!1},sF={readContext:zn,useCallback:uT,useContext:zn,useEffect:D0,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:aT,useMemo:cT,useReducer:R0,useRef:nT,useState:function(){return R0(Ju)},useDebugValue:L0,useDeferredValue:function(l){var d=Wn();return er===null?d.memoizedState=l:dT(d,er.memoizedState,l)},useTransition:function(){var l=R0(Ju)[0],d=Wn().memoizedState;return[l,d]},useMutableSource:Kk,useSyncExternalStore:Xk,useId:hT,unstable_isNewReconciler:!1};function fi(l,d){if(l&&l.defaultProps){d=L({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function M0(l,d,m,y){d=l.memoizedState,m=m(y,d),m=m==null?d:L({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Wh={isMounted:function(l){return(l=l._reactInternals)?Fa(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var y=qr(),T=na(l),C=as(y,T);C.payload=d,m!=null&&(C.callback=m),d=Zs(l,C,T),d!==null&&(gi(d,l,T,y),Lh(d,l,T))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var y=qr(),T=na(l),C=as(y,T);C.tag=1,C.payload=d,m!=null&&(C.callback=m),d=Zs(l,C,T),d!==null&&(gi(d,l,T,y),Lh(d,l,T))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=qr(),y=na(l),T=as(m,y);T.tag=2,d!=null&&(T.callback=d),d=Zs(l,T,y),d!==null&&(gi(d,l,y,m),Lh(d,l,y))}};function gT(l,d,m,y,T,C,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,C,I):d.prototype&&d.prototype.isPureReactComponent?!Bu(m,y)||!Bu(T,C):!0}function vT(l,d,m){var y=!1,T=Xs,C=d.contextType;return typeof C=="object"&&C!==null?C=zn(C):(T=rn(d)?$a:Pr.current,y=d.contextTypes,C=(y=y!=null)?Ko(l,T):Xs),d=new d(m,C),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wh,l.stateNode=d,d._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=T,l.__reactInternalMemoizedMaskedChildContext=C),d}function yT(l,d,m,y){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,y),d.state!==l&&Wh.enqueueReplaceState(d,d.state,null)}function F0(l,d,m,y){var T=l.stateNode;T.props=m,T.state=l.memoizedState,T.refs={},k0(l);var C=d.contextType;typeof C=="object"&&C!==null?T.context=zn(C):(C=rn(d)?$a:Pr.current,T.context=Ko(l,C)),T.state=l.memoizedState,C=d.getDerivedStateFromProps,typeof C=="function"&&(M0(l,d,C,m),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&Wh.enqueueReplaceState(T,T.state,null),Mh(l,m,T,y),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308)}function nl(l,d){try{var m="",y=d;do m+=we(y),y=y.return;while(y);var T=m}catch(C){T=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:d,stack:T,digest:null}}function B0(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function $0(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var aF=typeof WeakMap=="function"?WeakMap:Map;function bT(l,d,m){m=as(-1,m),m.tag=3,m.payload={element:null};var y=d.value;return m.callback=function(){Qh||(Qh=!0,tv=y),$0(l,d)},m}function _T(l,d,m){m=as(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var T=d.value;m.payload=function(){return y(T)},m.callback=function(){$0(l,d)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(m.callback=function(){$0(l,d),typeof y!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})}),m}function xT(l,d,m){var y=l.pingCache;if(y===null){y=l.pingCache=new aF;var T=new Set;y.set(d,T)}else T=y.get(d),T===void 0&&(T=new Set,y.set(d,T));T.has(m)||(T.add(m),l=_F.bind(null,l,d,m),d.then(l,l))}function wT(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function ET(l,d,m,y,T){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=as(-1,1),d.tag=2,Zs(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=T,l)}var oF=N.ReactCurrentOwner,nn=!1;function Wr(l,d,m,y){d.child=l===null?zk(d,null,m,y):Zo(d,l.child,m,y)}function kT(l,d,m,y,T){m=m.render;var C=d.ref;return tl(d,T),y=P0(l,d,m,y,C,T),m=j0(),l!==null&&!nn?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~T,os(l,d,T)):(Rt&&m&&p0(d),d.flags|=1,Wr(l,d,y,T),d.child)}function TT(l,d,m,y,T){if(l===null){var C=m.type;return typeof C=="function"&&!lv(C)&&C.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=C,ST(l,d,C,y,T)):(l=nf(m.type,null,y,d,d.mode,T),l.ref=d.ref,l.return=d,d.child=l)}if(C=l.child,(l.lanes&T)===0){var I=C.memoizedProps;if(m=m.compare,m=m!==null?m:Bu,m(I,y)&&l.ref===d.ref)return os(l,d,T)}return d.flags|=1,l=sa(C,y),l.ref=d.ref,l.return=d,d.child=l}function ST(l,d,m,y,T){if(l!==null){var C=l.memoizedProps;if(Bu(C,y)&&l.ref===d.ref)if(nn=!1,d.pendingProps=y=C,(l.lanes&T)!==0)(l.flags&131072)!==0&&(nn=!0);else return d.lanes=l.lanes,os(l,d,T)}return U0(l,d,m,y,T)}function CT(l,d,m){var y=d.pendingProps,T=y.children,C=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(sl,En),En|=m;else{if((m&1073741824)===0)return l=C!==null?C.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,kt(sl,En),En|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:m,kt(sl,En),En|=y}else C!==null?(y=C.baseLanes|m,d.memoizedState=null):y=m,kt(sl,En),En|=y;return Wr(l,d,T,m),d.child}function AT(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function U0(l,d,m,y,T){var C=rn(m)?$a:Pr.current;return C=Ko(d,C),tl(d,T),m=P0(l,d,m,y,C,T),y=j0(),l!==null&&!nn?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~T,os(l,d,T)):(Rt&&y&&p0(d),d.flags|=1,Wr(l,d,m,T),d.child)}function NT(l,d,m,y,T){if(rn(m)){var C=!0;Ah(d)}else C=!1;if(tl(d,T),d.stateNode===null)Vh(l,d),vT(d,m,y),F0(d,m,y,T),y=!0;else if(l===null){var I=d.stateNode,z=d.memoizedProps;I.props=z;var G=I.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=zn(ne):(ne=rn(m)?$a:Pr.current,ne=Ko(d,ne));var me=m.getDerivedStateFromProps,ge=typeof me=="function"||typeof I.getSnapshotBeforeUpdate=="function";ge||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==y||G!==ne)&&yT(d,I,y,ne),Js=!1;var he=d.memoizedState;I.state=he,Mh(d,y,I,T),G=d.memoizedState,z!==y||he!==G||tn.current||Js?(typeof me=="function"&&(M0(d,m,me,y),G=d.memoizedState),(z=Js||gT(d,m,z,y,he,G,ne))?(ge||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(d.flags|=4194308)):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=G),I.props=y,I.state=G,I.context=ne,y=z):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{I=d.stateNode,qk(l,d),z=d.memoizedProps,ne=d.type===d.elementType?z:fi(d.type,z),I.props=ne,ge=d.pendingProps,he=I.context,G=m.contextType,typeof G=="object"&&G!==null?G=zn(G):(G=rn(m)?$a:Pr.current,G=Ko(d,G));var Ae=m.getDerivedStateFromProps;(me=typeof Ae=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==ge||he!==G)&&yT(d,I,y,G),Js=!1,he=d.memoizedState,I.state=he,Mh(d,y,I,T);var je=d.memoizedState;z!==ge||he!==je||tn.current||Js?(typeof Ae=="function"&&(M0(d,m,Ae,y),je=d.memoizedState),(ne=Js||gT(d,m,ne,y,he,je,G)||!1)?(me||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,je,G),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,je,G)),typeof I.componentDidUpdate=="function"&&(d.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof I.componentDidUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=je),I.props=y,I.state=je,I.context=G,y=ne):(typeof I.componentDidUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(d.flags|=1024),y=!1)}return H0(l,d,m,y,C,T)}function H0(l,d,m,y,T,C){AT(l,d);var I=(d.flags&128)!==0;if(!y&&!I)return T&&Rk(d,m,!1),os(l,d,C);y=d.stateNode,oF.current=d;var z=I&&typeof m.getDerivedStateFromError!="function"?null:y.render();return d.flags|=1,l!==null&&I?(d.child=Zo(d,l.child,null,C),d.child=Zo(d,null,z,C)):Wr(l,d,z,C),d.memoizedState=y.state,T&&Rk(d,m,!0),d.child}function OT(l){var d=l.stateNode;d.pendingContext?jk(l,d.pendingContext,d.pendingContext!==d.context):d.context&&jk(l,d.context,!1),T0(l,d.containerInfo)}function PT(l,d,m,y,T){return Jo(),y0(T),d.flags|=256,Wr(l,d,m,y),d.child}var z0={dehydrated:null,treeContext:null,retryLane:0};function W0(l){return{baseLanes:l,cachePool:null,transitions:null}}function jT(l,d,m){var y=d.pendingProps,T=Ft.current,C=!1,I=(d.flags&128)!==0,z;if((z=I)||(z=l!==null&&l.memoizedState===null?!1:(T&2)!==0),z?(C=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(T|=1),kt(Ft,T&1),l===null)return v0(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(I=y.children,l=y.fallback,C?(y=d.mode,C=d.child,I={mode:"hidden",children:I},(y&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=I):C=sf(I,y,0,null),l=Xa(l,y,m,null),C.return=d,l.return=d,C.sibling=l,d.child=C,d.child.memoizedState=W0(m),d.memoizedState=z0,l):q0(d,I));if(T=l.memoizedState,T!==null&&(z=T.dehydrated,z!==null))return lF(l,d,I,y,z,T,m);if(C){C=y.fallback,I=d.mode,T=l.child,z=T.sibling;var G={mode:"hidden",children:y.children};return(I&1)===0&&d.child!==T?(y=d.child,y.childLanes=0,y.pendingProps=G,d.deletions=null):(y=sa(T,G),y.subtreeFlags=T.subtreeFlags&14680064),z!==null?C=sa(z,C):(C=Xa(C,I,m,null),C.flags|=2),C.return=d,y.return=d,y.sibling=C,d.child=y,y=C,C=d.child,I=l.child.memoizedState,I=I===null?W0(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=l.childLanes&~m,d.memoizedState=z0,y}return C=l.child,l=C.sibling,y=sa(C,{mode:"visible",children:y.children}),(d.mode&1)===0&&(y.lanes=m),y.return=d,y.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=y,d.memoizedState=null,y}function q0(l,d){return d=sf({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function qh(l,d,m,y){return y!==null&&y0(y),Zo(d,l.child,null,m),l=q0(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function lF(l,d,m,y,T,C,I){if(m)return d.flags&256?(d.flags&=-257,y=B0(Error(r(422))),qh(l,d,I,y)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(C=y.fallback,T=d.mode,y=sf({mode:"visible",children:y.children},T,0,null),C=Xa(C,T,I,null),C.flags|=2,y.return=d,C.return=d,y.sibling=C,d.child=y,(d.mode&1)!==0&&Zo(d,l.child,null,I),d.child.memoizedState=W0(I),d.memoizedState=z0,C);if((d.mode&1)===0)return qh(l,d,I,null);if(T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;return y=z,C=Error(r(419)),y=B0(C,y,void 0),qh(l,d,I,y)}if(z=(I&l.childLanes)!==0,nn||z){if(y=fr,y!==null){switch(I&-I){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(y.suspendedLanes|I))!==0?0:T,T!==0&&T!==C.retryLane&&(C.retryLane=T,ss(l,T),gi(y,l,T,-1))}return ov(),y=B0(Error(r(421))),qh(l,d,I,y)}return T.data==="$?"?(d.flags|=128,d.child=l.child,d=xF.bind(null,l),T._reactRetry=d,null):(l=C.treeContext,wn=Ys(T.nextSibling),xn=d,Rt=!0,hi=null,l!==null&&(Un[Hn++]=ns,Un[Hn++]=is,Un[Hn++]=Ua,ns=l.id,is=l.overflow,Ua=d),d=q0(d,y.children),d.flags|=4096,d)}function IT(l,d,m){l.lanes|=d;var y=l.alternate;y!==null&&(y.lanes|=d),w0(l.return,d,m)}function V0(l,d,m,y,T){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:T}:(C.isBackwards=d,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=m,C.tailMode=T)}function RT(l,d,m){var y=d.pendingProps,T=y.revealOrder,C=y.tail;if(Wr(l,d,y.children,m),y=Ft.current,(y&2)!==0)y=y&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&IT(l,m,d);else if(l.tag===19)IT(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(kt(Ft,y),(d.mode&1)===0)d.memoizedState=null;else switch(T){case"forwards":for(m=d.child,T=null;m!==null;)l=m.alternate,l!==null&&Fh(l)===null&&(T=m),m=m.sibling;m=T,m===null?(T=d.child,d.child=null):(T=m.sibling,m.sibling=null),V0(d,!1,T,m,C);break;case"backwards":for(m=null,T=d.child,d.child=null;T!==null;){if(l=T.alternate,l!==null&&Fh(l)===null){d.child=T;break}l=T.sibling,T.sibling=m,m=T,T=l}V0(d,!0,m,null,C);break;case"together":V0(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Vh(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function os(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Va|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,m=sa(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=sa(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function uF(l,d,m){switch(d.tag){case 3:OT(d),Jo();break;case 5:Yk(d);break;case 1:rn(d.type)&&Ah(d);break;case 4:T0(d,d.stateNode.containerInfo);break;case 10:var y=d.type._context,T=d.memoizedProps.value;kt(Rh,y._currentValue),y._currentValue=T;break;case 13:if(y=d.memoizedState,y!==null)return y.dehydrated!==null?(kt(Ft,Ft.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?jT(l,d,m):(kt(Ft,Ft.current&1),l=os(l,d,m),l!==null?l.sibling:null);kt(Ft,Ft.current&1);break;case 19:if(y=(m&d.childLanes)!==0,(l.flags&128)!==0){if(y)return RT(l,d,m);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),kt(Ft,Ft.current),y)break;return null;case 22:case 23:return d.lanes=0,CT(l,d,m)}return os(l,d,m)}var DT,G0,LT,MT;DT=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},G0=function(){},LT=function(l,d,m,y){var T=l.memoizedProps;if(T!==y){l=d.stateNode,Wa(Li.current);var C=null;switch(m){case"input":T=Te(l,T),y=Te(l,y),C=[];break;case"select":T=L({},T,{value:void 0}),y=L({},y,{value:void 0}),C=[];break;case"textarea":T=Eu(l,T),y=Eu(l,y),C=[];break;default:typeof T.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=Th)}Er(m,y);var I;m=null;for(ne in T)if(!y.hasOwnProperty(ne)&&T.hasOwnProperty(ne)&&T[ne]!=null)if(ne==="style"){var z=T[ne];for(I in z)z.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?C||(C=[]):(C=C||[]).push(ne,null));for(ne in y){var G=y[ne];if(z=T!=null?T[ne]:void 0,y.hasOwnProperty(ne)&&G!==z&&(G!=null||z!=null))if(ne==="style")if(z){for(I in z)!z.hasOwnProperty(I)||G&&G.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in G)G.hasOwnProperty(I)&&z[I]!==G[I]&&(m||(m={}),m[I]=G[I])}else m||(C||(C=[]),C.push(ne,m)),m=G;else ne==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,z=z?z.__html:void 0,G!=null&&z!==G&&(C=C||[]).push(ne,G)):ne==="children"?typeof G!="string"&&typeof G!="number"||(C=C||[]).push(ne,""+G):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(G!=null&&ne==="onScroll"&&Nt("scroll",l),C||z===G||(C=[])):(C=C||[]).push(ne,G))}m&&(C=C||[]).push("style",m);var ne=C;(d.updateQueue=ne)&&(d.flags|=4)}},MT=function(l,d,m,y){m!==y&&(d.flags|=4)};function ec(l,d){if(!Rt)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Ir(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(d)for(var T=l.child;T!==null;)m|=T.lanes|T.childLanes,y|=T.subtreeFlags&14680064,y|=T.flags&14680064,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)m|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=y,l.childLanes=m,d}function cF(l,d,m){var y=d.pendingProps;switch(m0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(d),null;case 1:return rn(d.type)&&Ch(),Ir(d),null;case 3:return y=d.stateNode,rl(),Ot(tn),Ot(Pr),A0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(jh(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,hi!==null&&(iv(hi),hi=null))),G0(l,d),Ir(d),null;case 5:S0(d);var T=Wa(Ku.current);if(m=d.type,l!==null&&d.stateNode!=null)LT(l,d,m,y,T),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!y){if(d.stateNode===null)throw Error(r(166));return Ir(d),null}if(l=Wa(Li.current),jh(d)){y=d.stateNode,m=d.type;var C=d.memoizedProps;switch(y[Di]=d,y[Wu]=C,l=(d.mode&1)!==0,m){case"dialog":Nt("cancel",y),Nt("close",y);break;case"iframe":case"object":case"embed":Nt("load",y);break;case"video":case"audio":for(T=0;T<Uu.length;T++)Nt(Uu[T],y);break;case"source":Nt("error",y);break;case"img":case"image":case"link":Nt("error",y),Nt("load",y);break;case"details":Nt("toggle",y);break;case"input":Ze(y,C),Nt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Nt("invalid",y);break;case"textarea":th(y,C),Nt("invalid",y)}Er(m,C),T=null;for(var I in C)if(C.hasOwnProperty(I)){var z=C[I];I==="children"?typeof z=="string"?y.textContent!==z&&(C.suppressHydrationWarning!==!0&&kh(y.textContent,z,l),T=["children",z]):typeof z=="number"&&y.textContent!==""+z&&(C.suppressHydrationWarning!==!0&&kh(y.textContent,z,l),T=["children",""+z]):i.hasOwnProperty(I)&&z!=null&&I==="onScroll"&&Nt("scroll",y)}switch(m){case"input":Ke(y),La(y,C,!0);break;case"textarea":Ke(y),nh(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Th)}y=T,d.updateQueue=y,y!==null&&(d.flags|=4)}else{I=T.nodeType===9?T:T.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ue(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=I.createElement(m,{is:y.is}):(l=I.createElement(m),m==="select"&&(I=l,y.multiple?I.multiple=!0:y.size&&(I.size=y.size))):l=I.createElementNS(l,m),l[Di]=d,l[Wu]=y,DT(l,d,!1,!1),d.stateNode=l;e:{switch(I=Ii(m,y),m){case"dialog":Nt("cancel",l),Nt("close",l),T=y;break;case"iframe":case"object":case"embed":Nt("load",l),T=y;break;case"video":case"audio":for(T=0;T<Uu.length;T++)Nt(Uu[T],l);T=y;break;case"source":Nt("error",l),T=y;break;case"img":case"image":case"link":Nt("error",l),Nt("load",l),T=y;break;case"details":Nt("toggle",l),T=y;break;case"input":Ze(l,y),T=Te(l,y),Nt("invalid",l);break;case"option":T=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},T=L({},y,{value:void 0}),Nt("invalid",l);break;case"textarea":th(l,y),T=Eu(l,y),Nt("invalid",l);break;default:T=y}Er(m,T),z=T;for(C in z)if(z.hasOwnProperty(C)){var G=z[C];C==="style"?Us(l,G):C==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&tt(l,G)):C==="children"?typeof G=="string"?(m!=="textarea"||G!=="")&&lt(l,G):typeof G=="number"&&lt(l,""+G):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?G!=null&&C==="onScroll"&&Nt("scroll",l):G!=null&&S(l,C,G,I))}switch(m){case"input":Ke(l),La(l,y,!1);break;case"textarea":Ke(l),nh(l);break;case"option":y.value!=null&&l.setAttribute("value",""+qe(y.value));break;case"select":l.multiple=!!y.multiple,C=y.value,C!=null?$s(l,!!y.multiple,C,!1):y.defaultValue!=null&&$s(l,!!y.multiple,y.defaultValue,!0);break;default:typeof T.onClick=="function"&&(l.onclick=Th)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Ir(d),null;case 6:if(l&&d.stateNode!=null)MT(l,d,l.memoizedProps,y);else{if(typeof y!="string"&&d.stateNode===null)throw Error(r(166));if(m=Wa(Ku.current),Wa(Li.current),jh(d)){if(y=d.stateNode,m=d.memoizedProps,y[Di]=d,(C=y.nodeValue!==m)&&(l=xn,l!==null))switch(l.tag){case 3:kh(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&kh(y.nodeValue,m,(l.mode&1)!==0)}C&&(d.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Di]=d,d.stateNode=y}return Ir(d),null;case 13:if(Ot(Ft),y=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Rt&&wn!==null&&(d.mode&1)!==0&&(d.flags&128)===0)$k(),Jo(),d.flags|=98560,C=!1;else if(C=jh(d),y!==null&&y.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=d.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Di]=d}else Jo(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ir(d),C=!1}else hi!==null&&(iv(hi),hi=null),C=!0;if(!C)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Ft.current&1)!==0?tr===0&&(tr=3):ov())),d.updateQueue!==null&&(d.flags|=4),Ir(d),null);case 4:return rl(),G0(l,d),l===null&&Hu(d.stateNode.containerInfo),Ir(d),null;case 10:return x0(d.type._context),Ir(d),null;case 17:return rn(d.type)&&Ch(),Ir(d),null;case 19:if(Ot(Ft),C=d.memoizedState,C===null)return Ir(d),null;if(y=(d.flags&128)!==0,I=C.rendering,I===null)if(y)ec(C,!1);else{if(tr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(I=Fh(l),I!==null){for(d.flags|=128,ec(C,!1),y=I.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),d.subtreeFlags=0,y=m,m=d.child;m!==null;)C=m,l=y,C.flags&=14680066,I=C.alternate,I===null?(C.childLanes=0,C.lanes=l,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=I.childLanes,C.lanes=I.lanes,C.child=I.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=I.memoizedProps,C.memoizedState=I.memoizedState,C.updateQueue=I.updateQueue,C.type=I.type,l=I.dependencies,C.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return kt(Ft,Ft.current&1|2),d.child}l=l.sibling}C.tail!==null&&Wt()>al&&(d.flags|=128,y=!0,ec(C,!1),d.lanes=4194304)}else{if(!y)if(l=Fh(I),l!==null){if(d.flags|=128,y=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),ec(C,!0),C.tail===null&&C.tailMode==="hidden"&&!I.alternate&&!Rt)return Ir(d),null}else 2*Wt()-C.renderingStartTime>al&&m!==1073741824&&(d.flags|=128,y=!0,ec(C,!1),d.lanes=4194304);C.isBackwards?(I.sibling=d.child,d.child=I):(m=C.last,m!==null?m.sibling=I:d.child=I,C.last=I)}return C.tail!==null?(d=C.tail,C.rendering=d,C.tail=d.sibling,C.renderingStartTime=Wt(),d.sibling=null,m=Ft.current,kt(Ft,y?m&1|2:m&1),d):(Ir(d),null);case 22:case 23:return av(),y=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(d.flags|=8192),y&&(d.mode&1)!==0?(En&1073741824)!==0&&(Ir(d),d.subtreeFlags&6&&(d.flags|=8192)):Ir(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function dF(l,d){switch(m0(d),d.tag){case 1:return rn(d.type)&&Ch(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return rl(),Ot(tn),Ot(Pr),A0(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return S0(d),null;case 13:if(Ot(Ft),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Jo()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Ot(Ft),null;case 4:return rl(),null;case 10:return x0(d.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var Gh=!1,Rr=!1,hF=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function il(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Ht(l,d,y)}else m.current=null}function Y0(l,d,m){try{m()}catch(y){Ht(l,d,y)}}var FT=!1;function fF(l,d){if(a0=fh,l=gk(),Jg(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var T=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var I=0,z=-1,G=-1,ne=0,me=0,ge=l,he=null;t:for(;;){for(var Ae;ge!==m||T!==0&&ge.nodeType!==3||(z=I+T),ge!==C||y!==0&&ge.nodeType!==3||(G=I+y),ge.nodeType===3&&(I+=ge.nodeValue.length),(Ae=ge.firstChild)!==null;)he=ge,ge=Ae;for(;;){if(ge===l)break t;if(he===m&&++ne===T&&(z=I),he===C&&++me===y&&(G=I),(Ae=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=Ae}m=z===-1||G===-1?null:{start:z,end:G}}else m=null}m=m||{start:0,end:0}}else m=null;for(o0={focusedElem:l,selectionRange:m},fh=!1,Ne=d;Ne!==null;)if(d=Ne,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Ne=l;else for(;Ne!==null;){d=Ne;try{var je=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ie=je.memoizedProps,qt=je.memoizedState,Q=d.stateNode,X=Q.getSnapshotBeforeUpdate(d.elementType===d.type?Ie:fi(d.type,Ie),qt);Q.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ee=d.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Ht(d,d.return,be)}if(l=d.sibling,l!==null){l.return=d.return,Ne=l;break}Ne=d.return}return je=FT,FT=!1,je}function tc(l,d,m){var y=d.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&l)===l){var C=T.destroy;T.destroy=void 0,C!==void 0&&Y0(d,m,C)}T=T.next}while(T!==y)}}function Yh(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==d)}}function K0(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function BT(l){var d=l.alternate;d!==null&&(l.alternate=null,BT(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Di],delete d[Wu],delete d[d0],delete d[K8],delete d[X8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function $T(l){return l.tag===5||l.tag===3||l.tag===4}function UT(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||$T(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function X0(l,d,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Th));else if(y!==4&&(l=l.child,l!==null))for(X0(l,d,m),l=l.sibling;l!==null;)X0(l,d,m),l=l.sibling}function Q0(l,d,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Q0(l,d,m),l=l.sibling;l!==null;)Q0(l,d,m),l=l.sibling}var kr=null,pi=!1;function ea(l,d,m){for(m=m.child;m!==null;)HT(l,d,m),m=m.sibling}function HT(l,d,m){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(oh,m)}catch{}switch(m.tag){case 5:Rr||il(m,d);case 6:var y=kr,T=pi;kr=null,ea(l,d,m),kr=y,pi=T,kr!==null&&(pi?(l=kr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):kr.removeChild(m.stateNode));break;case 18:kr!==null&&(pi?(l=kr,m=m.stateNode,l.nodeType===8?c0(l.parentNode,m):l.nodeType===1&&c0(l,m),Iu(l)):c0(kr,m.stateNode));break;case 4:y=kr,T=pi,kr=m.stateNode.containerInfo,pi=!0,ea(l,d,m),kr=y,pi=T;break;case 0:case 11:case 14:case 15:if(!Rr&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){T=y=y.next;do{var C=T,I=C.destroy;C=C.tag,I!==void 0&&((C&2)!==0||(C&4)!==0)&&Y0(m,d,I),T=T.next}while(T!==y)}ea(l,d,m);break;case 1:if(!Rr&&(il(m,d),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(z){Ht(m,d,z)}ea(l,d,m);break;case 21:ea(l,d,m);break;case 22:m.mode&1?(Rr=(y=Rr)||m.memoizedState!==null,ea(l,d,m),Rr=y):ea(l,d,m);break;default:ea(l,d,m)}}function zT(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new hF),d.forEach(function(y){var T=wF.bind(null,l,y);m.has(y)||(m.add(y),y.then(T,T))})}}function mi(l,d){var m=d.deletions;if(m!==null)for(var y=0;y<m.length;y++){var T=m[y];try{var C=l,I=d,z=I;e:for(;z!==null;){switch(z.tag){case 5:kr=z.stateNode,pi=!1;break e;case 3:kr=z.stateNode.containerInfo,pi=!0;break e;case 4:kr=z.stateNode.containerInfo,pi=!0;break e}z=z.return}if(kr===null)throw Error(r(160));HT(C,I,T),kr=null,pi=!1;var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(ne){Ht(T,d,ne)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)WT(d,l),d=d.sibling}function WT(l,d){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(mi(d,l),Fi(l),y&4){try{tc(3,l,l.return),Yh(3,l)}catch(Ie){Ht(l,l.return,Ie)}try{tc(5,l,l.return)}catch(Ie){Ht(l,l.return,Ie)}}break;case 1:mi(d,l),Fi(l),y&512&&m!==null&&il(m,m.return);break;case 5:if(mi(d,l),Fi(l),y&512&&m!==null&&il(m,m.return),l.flags&32){var T=l.stateNode;try{lt(T,"")}catch(Ie){Ht(l,l.return,Ie)}}if(y&4&&(T=l.stateNode,T!=null)){var C=l.memoizedProps,I=m!==null?m.memoizedProps:C,z=l.type,G=l.updateQueue;if(l.updateQueue=null,G!==null)try{z==="input"&&C.type==="radio"&&C.name!=null&&ft(T,C),Ii(z,I);var ne=Ii(z,C);for(I=0;I<G.length;I+=2){var me=G[I],ge=G[I+1];me==="style"?Us(T,ge):me==="dangerouslySetInnerHTML"?tt(T,ge):me==="children"?lt(T,ge):S(T,me,ge,ne)}switch(z){case"input":zt(T,C);break;case"textarea":rh(T,C);break;case"select":var he=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!C.multiple;var Ae=C.value;Ae!=null?$s(T,!!C.multiple,Ae,!1):he!==!!C.multiple&&(C.defaultValue!=null?$s(T,!!C.multiple,C.defaultValue,!0):$s(T,!!C.multiple,C.multiple?[]:"",!1))}T[Wu]=C}catch(Ie){Ht(l,l.return,Ie)}}break;case 6:if(mi(d,l),Fi(l),y&4){if(l.stateNode===null)throw Error(r(162));T=l.stateNode,C=l.memoizedProps;try{T.nodeValue=C}catch(Ie){Ht(l,l.return,Ie)}}break;case 3:if(mi(d,l),Fi(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Iu(d.containerInfo)}catch(Ie){Ht(l,l.return,Ie)}break;case 4:mi(d,l),Fi(l);break;case 13:mi(d,l),Fi(l),T=l.child,T.flags&8192&&(C=T.memoizedState!==null,T.stateNode.isHidden=C,!C||T.alternate!==null&&T.alternate.memoizedState!==null||(ev=Wt())),y&4&&zT(l);break;case 22:if(me=m!==null&&m.memoizedState!==null,l.mode&1?(Rr=(ne=Rr)||me,mi(d,l),Rr=ne):mi(d,l),Fi(l),y&8192){if(ne=l.memoizedState!==null,(l.stateNode.isHidden=ne)&&!me&&(l.mode&1)!==0)for(Ne=l,me=l.child;me!==null;){for(ge=Ne=me;Ne!==null;){switch(he=Ne,Ae=he.child,he.tag){case 0:case 11:case 14:case 15:tc(4,he,he.return);break;case 1:il(he,he.return);var je=he.stateNode;if(typeof je.componentWillUnmount=="function"){y=he,m=he.return;try{d=y,je.props=d.memoizedProps,je.state=d.memoizedState,je.componentWillUnmount()}catch(Ie){Ht(y,m,Ie)}}break;case 5:il(he,he.return);break;case 22:if(he.memoizedState!==null){GT(ge);continue}}Ae!==null?(Ae.return=he,Ne=Ae):GT(ge)}me=me.sibling}e:for(me=null,ge=l;;){if(ge.tag===5){if(me===null){me=ge;try{T=ge.stateNode,ne?(C=T.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(z=ge.stateNode,G=ge.memoizedProps.style,I=G!=null&&G.hasOwnProperty("display")?G.display:null,z.style.display=$n("display",I))}catch(Ie){Ht(l,l.return,Ie)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=ne?"":ge.memoizedProps}catch(Ie){Ht(l,l.return,Ie)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===l)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===l)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===l)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:mi(d,l),Fi(l),y&4&&zT(l);break;case 21:break;default:mi(d,l),Fi(l)}}function Fi(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if($T(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var T=y.stateNode;y.flags&32&&(lt(T,""),y.flags&=-33);var C=UT(l);Q0(l,C,T);break;case 3:case 4:var I=y.stateNode.containerInfo,z=UT(l);X0(l,z,I);break;default:throw Error(r(161))}}catch(G){Ht(l,l.return,G)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function pF(l,d,m){Ne=l,qT(l)}function qT(l,d,m){for(var y=(l.mode&1)!==0;Ne!==null;){var T=Ne,C=T.child;if(T.tag===22&&y){var I=T.memoizedState!==null||Gh;if(!I){var z=T.alternate,G=z!==null&&z.memoizedState!==null||Rr;z=Gh;var ne=Rr;if(Gh=I,(Rr=G)&&!ne)for(Ne=T;Ne!==null;)I=Ne,G=I.child,I.tag===22&&I.memoizedState!==null?YT(T):G!==null?(G.return=I,Ne=G):YT(T);for(;C!==null;)Ne=C,qT(C),C=C.sibling;Ne=T,Gh=z,Rr=ne}VT(l)}else(T.subtreeFlags&8772)!==0&&C!==null?(C.return=T,Ne=C):VT(l)}}function VT(l){for(;Ne!==null;){var d=Ne;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Rr||Yh(5,d);break;case 1:var y=d.stateNode;if(d.flags&4&&!Rr)if(m===null)y.componentDidMount();else{var T=d.elementType===d.type?m.memoizedProps:fi(d.type,m.memoizedProps);y.componentDidUpdate(T,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=d.updateQueue;C!==null&&Gk(d,C,y);break;case 3:var I=d.updateQueue;if(I!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Gk(d,I,m)}break;case 5:var z=d.stateNode;if(m===null&&d.flags&4){m=z;var G=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&m.focus();break;case"img":G.src&&(m.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ne=d.alternate;if(ne!==null){var me=ne.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&Iu(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rr||d.flags&512&&K0(d)}catch(he){Ht(d,d.return,he)}}if(d===l){Ne=null;break}if(m=d.sibling,m!==null){m.return=d.return,Ne=m;break}Ne=d.return}}function GT(l){for(;Ne!==null;){var d=Ne;if(d===l){Ne=null;break}var m=d.sibling;if(m!==null){m.return=d.return,Ne=m;break}Ne=d.return}}function YT(l){for(;Ne!==null;){var d=Ne;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{Yh(4,d)}catch(G){Ht(d,m,G)}break;case 1:var y=d.stateNode;if(typeof y.componentDidMount=="function"){var T=d.return;try{y.componentDidMount()}catch(G){Ht(d,T,G)}}var C=d.return;try{K0(d)}catch(G){Ht(d,C,G)}break;case 5:var I=d.return;try{K0(d)}catch(G){Ht(d,I,G)}}}catch(G){Ht(d,d.return,G)}if(d===l){Ne=null;break}var z=d.sibling;if(z!==null){z.return=d.return,Ne=z;break}Ne=d.return}}var mF=Math.ceil,Kh=N.ReactCurrentDispatcher,J0=N.ReactCurrentOwner,qn=N.ReactCurrentBatchConfig,ut=0,fr=null,Kt=null,Tr=0,En=0,sl=Ks(0),tr=0,rc=null,Va=0,Xh=0,Z0=0,nc=null,sn=null,ev=0,al=1/0,ls=null,Qh=!1,tv=null,ta=null,Jh=!1,ra=null,Zh=0,ic=0,rv=null,ef=-1,tf=0;function qr(){return(ut&6)!==0?Wt():ef!==-1?ef:ef=Wt()}function na(l){return(l.mode&1)===0?1:(ut&2)!==0&&Tr!==0?Tr&-Tr:J8.transition!==null?(tf===0&&(tf=UE()),tf):(l=pt,l!==0||(l=window.event,l=l===void 0?16:XE(l.type)),l)}function gi(l,d,m,y){if(50<ic)throw ic=0,rv=null,Error(r(185));Au(l,m,y),((ut&2)===0||l!==fr)&&(l===fr&&((ut&2)===0&&(Xh|=m),tr===4&&ia(l,Tr)),an(l,y),m===1&&ut===0&&(d.mode&1)===0&&(al=Wt()+500,Nh&&Qs()))}function an(l,d){var m=l.callbackNode;J5(l,d);var y=ch(l,l===fr?Tr:0);if(y===0)m!==null&&FE(m),l.callbackNode=null,l.callbackPriority=0;else if(d=y&-y,l.callbackPriority!==d){if(m!=null&&FE(m),d===1)l.tag===0?Q8(XT.bind(null,l)):Dk(XT.bind(null,l)),G8(function(){(ut&6)===0&&Qs()}),m=null;else{switch(HE(y)){case 1:m=Dg;break;case 4:m=BE;break;case 16:m=ah;break;case 536870912:m=$E;break;default:m=ah}m=iS(m,KT.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function KT(l,d){if(ef=-1,tf=0,(ut&6)!==0)throw Error(r(327));var m=l.callbackNode;if(ol()&&l.callbackNode!==m)return null;var y=ch(l,l===fr?Tr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||d)d=rf(l,y);else{d=y;var T=ut;ut|=2;var C=JT();(fr!==l||Tr!==d)&&(ls=null,al=Wt()+500,Ya(l,d));do try{yF();break}catch(z){QT(l,z)}while(!0);_0(),Kh.current=C,ut=T,Kt!==null?d=0:(fr=null,Tr=0,d=tr)}if(d!==0){if(d===2&&(T=Lg(l),T!==0&&(y=T,d=nv(l,T))),d===1)throw m=rc,Ya(l,0),ia(l,y),an(l,Wt()),m;if(d===6)ia(l,y);else{if(T=l.current.alternate,(y&30)===0&&!gF(T)&&(d=rf(l,y),d===2&&(C=Lg(l),C!==0&&(y=C,d=nv(l,C))),d===1))throw m=rc,Ya(l,0),ia(l,y),an(l,Wt()),m;switch(l.finishedWork=T,l.finishedLanes=y,d){case 0:case 1:throw Error(r(345));case 2:Ka(l,sn,ls);break;case 3:if(ia(l,y),(y&130023424)===y&&(d=ev+500-Wt(),10<d)){if(ch(l,0)!==0)break;if(T=l.suspendedLanes,(T&y)!==y){qr(),l.pingedLanes|=l.suspendedLanes&T;break}l.timeoutHandle=u0(Ka.bind(null,l,sn,ls),d);break}Ka(l,sn,ls);break;case 4:if(ia(l,y),(y&4194240)===y)break;for(d=l.eventTimes,T=-1;0<y;){var I=31-ci(y);C=1<<I,I=d[I],I>T&&(T=I),y&=~C}if(y=T,y=Wt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*mF(y/1960))-y,10<y){l.timeoutHandle=u0(Ka.bind(null,l,sn,ls),y);break}Ka(l,sn,ls);break;case 5:Ka(l,sn,ls);break;default:throw Error(r(329))}}}return an(l,Wt()),l.callbackNode===m?KT.bind(null,l):null}function nv(l,d){var m=nc;return l.current.memoizedState.isDehydrated&&(Ya(l,d).flags|=256),l=rf(l,d),l!==2&&(d=sn,sn=m,d!==null&&iv(d)),l}function iv(l){sn===null?sn=l:sn.push.apply(sn,l)}function gF(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var T=m[y],C=T.getSnapshot;T=T.value;try{if(!di(C(),T))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ia(l,d){for(d&=~Z0,d&=~Xh,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-ci(d),y=1<<m;l[m]=-1,d&=~y}}function XT(l){if((ut&6)!==0)throw Error(r(327));ol();var d=ch(l,0);if((d&1)===0)return an(l,Wt()),null;var m=rf(l,d);if(l.tag!==0&&m===2){var y=Lg(l);y!==0&&(d=y,m=nv(l,y))}if(m===1)throw m=rc,Ya(l,0),ia(l,d),an(l,Wt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,Ka(l,sn,ls),an(l,Wt()),null}function sv(l,d){var m=ut;ut|=1;try{return l(d)}finally{ut=m,ut===0&&(al=Wt()+500,Nh&&Qs())}}function Ga(l){ra!==null&&ra.tag===0&&(ut&6)===0&&ol();var d=ut;ut|=1;var m=qn.transition,y=pt;try{if(qn.transition=null,pt=1,l)return l()}finally{pt=y,qn.transition=m,ut=d,(ut&6)===0&&Qs()}}function av(){En=sl.current,Ot(sl)}function Ya(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,V8(m)),Kt!==null)for(m=Kt.return;m!==null;){var y=m;switch(m0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ch();break;case 3:rl(),Ot(tn),Ot(Pr),A0();break;case 5:S0(y);break;case 4:rl();break;case 13:Ot(Ft);break;case 19:Ot(Ft);break;case 10:x0(y.type._context);break;case 22:case 23:av()}m=m.return}if(fr=l,Kt=l=sa(l.current,null),Tr=En=d,tr=0,rc=null,Z0=Xh=Va=0,sn=nc=null,za!==null){for(d=0;d<za.length;d++)if(m=za[d],y=m.interleaved,y!==null){m.interleaved=null;var T=y.next,C=m.pending;if(C!==null){var I=C.next;C.next=T,y.next=I}m.pending=y}za=null}return l}function QT(l,d){do{var m=Kt;try{if(_0(),Bh.current=zh,$h){for(var y=Bt.memoizedState;y!==null;){var T=y.queue;T!==null&&(T.pending=null),y=y.next}$h=!1}if(qa=0,hr=er=Bt=null,Xu=!1,Qu=0,J0.current=null,m===null||m.return===null){tr=1,rc=d,Kt=null;break}e:{var C=l,I=m.return,z=m,G=d;if(d=Tr,z.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ne=G,me=z,ge=me.tag;if((me.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=me.alternate;he?(me.updateQueue=he.updateQueue,me.memoizedState=he.memoizedState,me.lanes=he.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ae=wT(I);if(Ae!==null){Ae.flags&=-257,ET(Ae,I,z,C,d),Ae.mode&1&&xT(C,ne,d),d=Ae,G=ne;var je=d.updateQueue;if(je===null){var Ie=new Set;Ie.add(G),d.updateQueue=Ie}else je.add(G);break e}else{if((d&1)===0){xT(C,ne,d),ov();break e}G=Error(r(426))}}else if(Rt&&z.mode&1){var qt=wT(I);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),ET(qt,I,z,C,d),y0(nl(G,z));break e}}C=G=nl(G,z),tr!==4&&(tr=2),nc===null?nc=[C]:nc.push(C),C=I;do{switch(C.tag){case 3:C.flags|=65536,d&=-d,C.lanes|=d;var Q=bT(C,G,d);Vk(C,Q);break e;case 1:z=G;var X=C.type,ee=C.stateNode;if((C.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(ta===null||!ta.has(ee)))){C.flags|=65536,d&=-d,C.lanes|=d;var be=_T(C,z,d);Vk(C,be);break e}}C=C.return}while(C!==null)}eS(m)}catch(Re){d=Re,Kt===m&&m!==null&&(Kt=m=m.return);continue}break}while(!0)}function JT(){var l=Kh.current;return Kh.current=zh,l===null?zh:l}function ov(){(tr===0||tr===3||tr===2)&&(tr=4),fr===null||(Va&268435455)===0&&(Xh&268435455)===0||ia(fr,Tr)}function rf(l,d){var m=ut;ut|=2;var y=JT();(fr!==l||Tr!==d)&&(ls=null,Ya(l,d));do try{vF();break}catch(T){QT(l,T)}while(!0);if(_0(),ut=m,Kh.current=y,Kt!==null)throw Error(r(261));return fr=null,Tr=0,tr}function vF(){for(;Kt!==null;)ZT(Kt)}function yF(){for(;Kt!==null&&!z5();)ZT(Kt)}function ZT(l){var d=nS(l.alternate,l,En);l.memoizedProps=l.pendingProps,d===null?eS(l):Kt=d,J0.current=null}function eS(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=cF(m,d,En),m!==null){Kt=m;return}}else{if(m=dF(m,d),m!==null){m.flags&=32767,Kt=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{tr=6,Kt=null;return}}if(d=d.sibling,d!==null){Kt=d;return}Kt=d=l}while(d!==null);tr===0&&(tr=5)}function Ka(l,d,m){var y=pt,T=qn.transition;try{qn.transition=null,pt=1,bF(l,d,m,y)}finally{qn.transition=T,pt=y}return null}function bF(l,d,m,y){do ol();while(ra!==null);if((ut&6)!==0)throw Error(r(327));m=l.finishedWork;var T=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var C=m.lanes|m.childLanes;if(Z5(l,C),l===fr&&(Kt=fr=null,Tr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Jh||(Jh=!0,iS(ah,function(){return ol(),null})),C=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||C){C=qn.transition,qn.transition=null;var I=pt;pt=1;var z=ut;ut|=4,J0.current=null,fF(l,m),WT(m,l),B8(o0),fh=!!a0,o0=a0=null,l.current=m,pF(m),W5(),ut=z,pt=I,qn.transition=C}else l.current=m;if(Jh&&(Jh=!1,ra=l,Zh=T),C=l.pendingLanes,C===0&&(ta=null),G5(m.stateNode),an(l,Wt()),d!==null)for(y=l.onRecoverableError,m=0;m<d.length;m++)T=d[m],y(T.value,{componentStack:T.stack,digest:T.digest});if(Qh)throw Qh=!1,l=tv,tv=null,l;return(Zh&1)!==0&&l.tag!==0&&ol(),C=l.pendingLanes,(C&1)!==0?l===rv?ic++:(ic=0,rv=l):ic=0,Qs(),null}function ol(){if(ra!==null){var l=HE(Zh),d=qn.transition,m=pt;try{if(qn.transition=null,pt=16>l?16:l,ra===null)var y=!1;else{if(l=ra,ra=null,Zh=0,(ut&6)!==0)throw Error(r(331));var T=ut;for(ut|=4,Ne=l.current;Ne!==null;){var C=Ne,I=C.child;if((Ne.flags&16)!==0){var z=C.deletions;if(z!==null){for(var G=0;G<z.length;G++){var ne=z[G];for(Ne=ne;Ne!==null;){var me=Ne;switch(me.tag){case 0:case 11:case 15:tc(8,me,C)}var ge=me.child;if(ge!==null)ge.return=me,Ne=ge;else for(;Ne!==null;){me=Ne;var he=me.sibling,Ae=me.return;if(BT(me),me===ne){Ne=null;break}if(he!==null){he.return=Ae,Ne=he;break}Ne=Ae}}}var je=C.alternate;if(je!==null){var Ie=je.child;if(Ie!==null){je.child=null;do{var qt=Ie.sibling;Ie.sibling=null,Ie=qt}while(Ie!==null)}}Ne=C}}if((C.subtreeFlags&2064)!==0&&I!==null)I.return=C,Ne=I;else e:for(;Ne!==null;){if(C=Ne,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:tc(9,C,C.return)}var Q=C.sibling;if(Q!==null){Q.return=C.return,Ne=Q;break e}Ne=C.return}}var X=l.current;for(Ne=X;Ne!==null;){I=Ne;var ee=I.child;if((I.subtreeFlags&2064)!==0&&ee!==null)ee.return=I,Ne=ee;else e:for(I=X;Ne!==null;){if(z=Ne,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Yh(9,z)}}catch(Re){Ht(z,z.return,Re)}if(z===I){Ne=null;break e}var be=z.sibling;if(be!==null){be.return=z.return,Ne=be;break e}Ne=z.return}}if(ut=T,Qs(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(oh,l)}catch{}y=!0}return y}finally{pt=m,qn.transition=d}}return!1}function tS(l,d,m){d=nl(m,d),d=bT(l,d,1),l=Zs(l,d,1),d=qr(),l!==null&&(Au(l,1,d),an(l,d))}function Ht(l,d,m){if(l.tag===3)tS(l,l,m);else for(;d!==null;){if(d.tag===3){tS(d,l,m);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ta===null||!ta.has(y))){l=nl(m,l),l=_T(d,l,1),d=Zs(d,l,1),l=qr(),d!==null&&(Au(d,1,l),an(d,l));break}}d=d.return}}function _F(l,d,m){var y=l.pingCache;y!==null&&y.delete(d),d=qr(),l.pingedLanes|=l.suspendedLanes&m,fr===l&&(Tr&m)===m&&(tr===4||tr===3&&(Tr&130023424)===Tr&&500>Wt()-ev?Ya(l,0):Z0|=m),an(l,d)}function rS(l,d){d===0&&((l.mode&1)===0?d=1:(d=uh,uh<<=1,(uh&130023424)===0&&(uh=4194304)));var m=qr();l=ss(l,d),l!==null&&(Au(l,d,m),an(l,m))}function xF(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),rS(l,m)}function wF(l,d){var m=0;switch(l.tag){case 13:var y=l.stateNode,T=l.memoizedState;T!==null&&(m=T.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(d),rS(l,m)}var nS;nS=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||tn.current)nn=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return nn=!1,uF(l,d,m);nn=(l.flags&131072)!==0}else nn=!1,Rt&&(d.flags&1048576)!==0&&Lk(d,Ph,d.index);switch(d.lanes=0,d.tag){case 2:var y=d.type;Vh(l,d),l=d.pendingProps;var T=Ko(d,Pr.current);tl(d,m),T=P0(null,d,y,l,T,m);var C=j0();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,rn(y)?(C=!0,Ah(d)):C=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,k0(d),T.updater=Wh,d.stateNode=T,T._reactInternals=d,F0(d,y,l,m),d=H0(null,d,y,!0,C,m)):(d.tag=0,Rt&&C&&p0(d),Wr(null,d,T,m),d=d.child),d;case 16:y=d.elementType;e:{switch(Vh(l,d),l=d.pendingProps,T=y._init,y=T(y._payload),d.type=y,T=d.tag=kF(y),l=fi(y,l),T){case 0:d=U0(null,d,y,l,m);break e;case 1:d=NT(null,d,y,l,m);break e;case 11:d=kT(null,d,y,l,m);break e;case 14:d=TT(null,d,y,fi(y.type,l),m);break e}throw Error(r(306,y,""))}return d;case 0:return y=d.type,T=d.pendingProps,T=d.elementType===y?T:fi(y,T),U0(l,d,y,T,m);case 1:return y=d.type,T=d.pendingProps,T=d.elementType===y?T:fi(y,T),NT(l,d,y,T,m);case 3:e:{if(OT(d),l===null)throw Error(r(387));y=d.pendingProps,C=d.memoizedState,T=C.element,qk(l,d),Mh(d,y,null,m);var I=d.memoizedState;if(y=I.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){T=nl(Error(r(423)),d),d=PT(l,d,y,m,T);break e}else if(y!==T){T=nl(Error(r(424)),d),d=PT(l,d,y,m,T);break e}else for(wn=Ys(d.stateNode.containerInfo.firstChild),xn=d,Rt=!0,hi=null,m=zk(d,null,y,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Jo(),y===T){d=os(l,d,m);break e}Wr(l,d,y,m)}d=d.child}return d;case 5:return Yk(d),l===null&&v0(d),y=d.type,T=d.pendingProps,C=l!==null?l.memoizedProps:null,I=T.children,l0(y,T)?I=null:C!==null&&l0(y,C)&&(d.flags|=32),AT(l,d),Wr(l,d,I,m),d.child;case 6:return l===null&&v0(d),null;case 13:return jT(l,d,m);case 4:return T0(d,d.stateNode.containerInfo),y=d.pendingProps,l===null?d.child=Zo(d,null,y,m):Wr(l,d,y,m),d.child;case 11:return y=d.type,T=d.pendingProps,T=d.elementType===y?T:fi(y,T),kT(l,d,y,T,m);case 7:return Wr(l,d,d.pendingProps,m),d.child;case 8:return Wr(l,d,d.pendingProps.children,m),d.child;case 12:return Wr(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(y=d.type._context,T=d.pendingProps,C=d.memoizedProps,I=T.value,kt(Rh,y._currentValue),y._currentValue=I,C!==null)if(di(C.value,I)){if(C.children===T.children&&!tn.current){d=os(l,d,m);break e}}else for(C=d.child,C!==null&&(C.return=d);C!==null;){var z=C.dependencies;if(z!==null){I=C.child;for(var G=z.firstContext;G!==null;){if(G.context===y){if(C.tag===1){G=as(-1,m&-m),G.tag=2;var ne=C.updateQueue;if(ne!==null){ne=ne.shared;var me=ne.pending;me===null?G.next=G:(G.next=me.next,me.next=G),ne.pending=G}}C.lanes|=m,G=C.alternate,G!==null&&(G.lanes|=m),w0(C.return,m,d),z.lanes|=m;break}G=G.next}}else if(C.tag===10)I=C.type===d.type?null:C.child;else if(C.tag===18){if(I=C.return,I===null)throw Error(r(341));I.lanes|=m,z=I.alternate,z!==null&&(z.lanes|=m),w0(I,m,d),I=C.sibling}else I=C.child;if(I!==null)I.return=C;else for(I=C;I!==null;){if(I===d){I=null;break}if(C=I.sibling,C!==null){C.return=I.return,I=C;break}I=I.return}C=I}Wr(l,d,T.children,m),d=d.child}return d;case 9:return T=d.type,y=d.pendingProps.children,tl(d,m),T=zn(T),y=y(T),d.flags|=1,Wr(l,d,y,m),d.child;case 14:return y=d.type,T=fi(y,d.pendingProps),T=fi(y.type,T),TT(l,d,y,T,m);case 15:return ST(l,d,d.type,d.pendingProps,m);case 17:return y=d.type,T=d.pendingProps,T=d.elementType===y?T:fi(y,T),Vh(l,d),d.tag=1,rn(y)?(l=!0,Ah(d)):l=!1,tl(d,m),vT(d,y,T),F0(d,y,T,m),H0(null,d,y,!0,l,m);case 19:return RT(l,d,m);case 22:return CT(l,d,m)}throw Error(r(156,d.tag))};function iS(l,d){return ME(l,d)}function EF(l,d,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(l,d,m,y){return new EF(l,d,m,y)}function lv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function kF(l){if(typeof l=="function")return lv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===K)return 14}return 2}function sa(l,d){var m=l.alternate;return m===null?(m=Vn(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function nf(l,d,m,y,T,C){var I=2;if(y=l,typeof l=="function")lv(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case j:return Xa(m.children,T,C,d);case D:I=8,T|=8;break;case B:return l=Vn(12,m,d,T|2),l.elementType=B,l.lanes=C,l;case Y:return l=Vn(13,m,d,T),l.elementType=Y,l.lanes=C,l;case V:return l=Vn(19,m,d,T),l.elementType=V,l.lanes=C,l;case oe:return sf(m,T,C,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:I=10;break e;case F:I=9;break e;case H:I=11;break e;case K:I=14;break e;case Z:I=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return d=Vn(I,m,d,T),d.elementType=l,d.type=y,d.lanes=C,d}function Xa(l,d,m,y){return l=Vn(7,l,y,d),l.lanes=m,l}function sf(l,d,m,y){return l=Vn(22,l,y,d),l.elementType=oe,l.lanes=m,l.stateNode={isHidden:!1},l}function uv(l,d,m){return l=Vn(6,l,null,d),l.lanes=m,l}function cv(l,d,m){return d=Vn(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function TF(l,d,m,y,T){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mg(0),this.expirationTimes=Mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mg(0),this.identifierPrefix=y,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function dv(l,d,m,y,T,C,I,z,G){return l=new TF(l,d,m,z,G),d===1?(d=1,C===!0&&(d|=8)):d=0,C=Vn(3,null,null,d),l.current=C,C.stateNode=l,C.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(C),l}function SF(l,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:y==null?null:""+y,children:l,containerInfo:d,implementation:m}}function sS(l){if(!l)return Xs;l=l._reactInternals;e:{if(Fa(l)!==l||l.tag!==1)throw Error(r(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(rn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(rn(m))return Ik(l,m,d)}return d}function aS(l,d,m,y,T,C,I,z,G){return l=dv(m,y,!0,l,T,C,I,z,G),l.context=sS(null),m=l.current,y=qr(),T=na(m),C=as(y,T),C.callback=d??null,Zs(m,C,T),l.current.lanes=T,Au(l,T,y),an(l,y),l}function af(l,d,m,y){var T=d.current,C=qr(),I=na(T);return m=sS(m),d.context===null?d.context=m:d.pendingContext=m,d=as(C,I),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=Zs(T,d,I),l!==null&&(gi(l,T,I,C),Lh(l,T,I)),I}function of(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function oS(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function hv(l,d){oS(l,d),(l=l.alternate)&&oS(l,d)}function CF(){return null}var lS=typeof reportError=="function"?reportError:function(l){console.error(l)};function fv(l){this._internalRoot=l}lf.prototype.render=fv.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));af(l,d,null,null)},lf.prototype.unmount=fv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;Ga(function(){af(null,l,null,null)}),d[ts]=null}};function lf(l){this._internalRoot=l}lf.prototype.unstable_scheduleHydration=function(l){if(l){var d=qE();l={blockedOn:null,target:l,priority:d};for(var m=0;m<qs.length&&d!==0&&d<qs[m].priority;m++);qs.splice(m,0,l),m===0&&YE(l)}};function pv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function uf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function uS(){}function AF(l,d,m,y,T){if(T){if(typeof y=="function"){var C=y;y=function(){var ne=of(I);C.call(ne)}}var I=aS(d,y,l,0,null,!1,!1,"",uS);return l._reactRootContainer=I,l[ts]=I.current,Hu(l.nodeType===8?l.parentNode:l),Ga(),I}for(;T=l.lastChild;)l.removeChild(T);if(typeof y=="function"){var z=y;y=function(){var ne=of(G);z.call(ne)}}var G=dv(l,0,!1,null,null,!1,!1,"",uS);return l._reactRootContainer=G,l[ts]=G.current,Hu(l.nodeType===8?l.parentNode:l),Ga(function(){af(d,G,m,y)}),G}function cf(l,d,m,y,T){var C=m._reactRootContainer;if(C){var I=C;if(typeof T=="function"){var z=T;T=function(){var G=of(I);z.call(G)}}af(d,I,l,T)}else I=AF(m,d,l,T,y);return of(I)}zE=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Cu(d.pendingLanes);m!==0&&(Fg(d,m|1),an(d,Wt()),(ut&6)===0&&(al=Wt()+500,Qs()))}break;case 13:Ga(function(){var y=ss(l,1);if(y!==null){var T=qr();gi(y,l,1,T)}}),hv(l,1)}},Bg=function(l){if(l.tag===13){var d=ss(l,134217728);if(d!==null){var m=qr();gi(d,l,134217728,m)}hv(l,134217728)}},WE=function(l){if(l.tag===13){var d=na(l),m=ss(l,d);if(m!==null){var y=qr();gi(m,l,d,y)}hv(l,d)}},qE=function(){return pt},VE=function(l,d){var m=pt;try{return pt=l,d()}finally{pt=m}},Pg=function(l,d,m){switch(d){case"input":if(zt(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var y=m[d];if(y!==l&&y.form===l.form){var T=Sh(y);if(!T)throw Error(r(90));pe(y),zt(y,T)}}}break;case"textarea":rh(l,m);break;case"select":d=m.value,d!=null&&$s(l,!!m.multiple,d,!1)}},OE=sv,PE=Ga;var NF={usingClientEntryPoint:!1,Events:[qu,Go,Sh,AE,NE,sv]},sc={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OF={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=DE(l),l===null?null:l.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||CF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{oh=df.inject(OF),Ri=df}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NF,on.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pv(d))throw Error(r(200));return SF(l,d,null,m)},on.createRoot=function(l,d){if(!pv(l))throw Error(r(299));var m=!1,y="",T=lS;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),d=dv(l,1,!1,null,null,m,!1,y,T),l[ts]=d.current,Hu(l.nodeType===8?l.parentNode:l),new fv(d)},on.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=DE(d),l=l===null?null:l.stateNode,l},on.flushSync=function(l){return Ga(l)},on.hydrate=function(l,d,m){if(!uf(d))throw Error(r(200));return cf(null,l,d,!0,m)},on.hydrateRoot=function(l,d,m){if(!pv(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,T=!1,C="",I=lS;if(m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),d=aS(d,null,l,1,m??null,T,!1,C,I),l[ts]=d.current,Hu(l),y)for(l=0;l<y.length;l++)m=y[l],T=m._getVersion,T=T(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,T]:d.mutableSourceEagerHydrationData.push(m,T);return new lf(d)},on.render=function(l,d,m){if(!uf(d))throw Error(r(200));return cf(null,l,d,!1,m)},on.unmountComponentAtNode=function(l){if(!uf(l))throw Error(r(40));return l._reactRootContainer?(Ga(function(){cf(null,null,l,!1,function(){l._reactRootContainer=null,l[ts]=null})}),!0):!1},on.unstable_batchedUpdates=sv,on.unstable_renderSubtreeIntoContainer=function(l,d,m,y){if(!uf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return cf(l,d,m,!1,y)},on.version="18.3.1-next-f1338f8080-20240426",on}var vS;function vj(){if(vS)return yv.exports;vS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yv.exports=UF(),yv.exports}var yS;function HF(){if(yS)return hf;yS=1;var e=vj();return hf.createRoot=e.createRoot,hf.hydrateRoot=e.hydrateRoot,hf}var zF=HF();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bS="popstate";function WF(e={}){function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return Xb("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:nd(i)}return VF(t,r,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ci(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qF(){return Math.random().toString(36).substring(2,10)}function _S(e,t){return{usr:e.state,key:e.key,idx:t}}function Xb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zl(t):t,state:r,key:t&&t.key||n||qF()}}function nd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function VF(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let _=f(),w=_==null?null:_-h;h=_,u&&u({action:o,location:x.location,delta:w})}function v(_,w){o="PUSH";let A=Xb(x.location,_,w);h=f()+1;let S=_S(A,h),N=x.createHref(A);try{a.pushState(S,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}s&&u&&u({action:o,location:x.location,delta:1})}function g(_,w){o="REPLACE";let A=Xb(x.location,_,w);h=f();let S=_S(A,h),N=x.createHref(A);a.replaceState(S,"",N),s&&u&&u({action:o,location:x.location,delta:0})}function b(_){return GF(_)}let x={get action(){return o},get location(){return e(i,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(bS,p),u=_,()=>{i.removeEventListener(bS,p),u=null}},createHref(_){return t(i,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:g,go(_){return a.go(_)}};return x}function GF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:nd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function yj(e,t,r="/"){return YF(e,t,r,!1)}function YF(e,t,r,n){let i=typeof t=="string"?Zl(t):t,s=Es(i.pathname||"/",r);if(s==null)return null;let a=bj(e);KF(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let h=aB(s);o=iB(a[u],h,n)}return o}function bj(e,t=[],r=[],n="",i=!1){let s=(a,o,u=i,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;Mt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=_s([n,f.relativePath]),v=r.concat(f);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),bj(a.children,t,v,p,u)),!(a.path==null&&!a.index)&&t.push({path:p,score:rB(p,a.index),routesMeta:v})};return e.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,o);else for(let h of _j(a.path))s(a,o,!0,h)}),t}function _j(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=_j(n.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function KF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var XF=/^:[\w-]+$/,QF=3,JF=2,ZF=1,eB=10,tB=-2,xS=e=>e==="*";function rB(e,t){let r=e.split("/"),n=r.length;return r.some(xS)&&(n+=tB),t&&(n+=JF),r.filter(i=>!xS(i)).reduce((i,s)=>i+(XF.test(s)?QF:s===""?ZF:eB),n)}function nB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function iB(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],h=o===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=fp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),v=u.route;if(!p&&h&&r&&!n[n.length-1].route.index&&(p=fp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:_s([s,p.pathname]),pathnameBase:cB(_s([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=_s([s,p.pathnameBase]))}return a}function fp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sB(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},v)=>{if(f==="*"){let b=o[v]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[v];return p&&!g?h[f]=void 0:h[f]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function sB(e,t=!1,r=!0){Ci(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function aB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ci(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Es(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function oB(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Zl(e):e;return{pathname:r?r.startsWith("/")?r:lB(r,t):t,search:dB(n),hash:hB(i)}}function lB(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function J_(e){let t=uB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Z_(e,t,r,n=!1){let i;typeof e=="string"?i=Zl(e):(i={...e},Mt(!i.pathname||!i.pathname.includes("?"),xv("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),xv("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),xv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?t[p]:"/"}let u=oB(i,o),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var _s=e=>e.join("/").replace(/\/\/+/g,"/"),cB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xj=["POST","PUT","PATCH","DELETE"];new Set(xj);var pB=["GET",...xj];new Set(pB);var eu=k.createContext(null);eu.displayName="DataRouter";var Pm=k.createContext(null);Pm.displayName="DataRouterState";k.createContext(!1);var wj=k.createContext({isTransitioning:!1});wj.displayName="ViewTransition";var mB=k.createContext(new Map);mB.displayName="Fetchers";var gB=k.createContext(null);gB.displayName="Await";var Ni=k.createContext(null);Ni.displayName="Navigation";var Cd=k.createContext(null);Cd.displayName="Location";var Oi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var ex=k.createContext(null);ex.displayName="RouteError";function vB(e,{relative:t}={}){Mt(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Ni),{hash:i,pathname:s,search:a}=Ad(e,{relative:t}),o=s;return r!=="/"&&(o=s==="/"?r:_s([r,s])),n.createHref({pathname:o,search:a,hash:i})}function tu(){return k.useContext(Cd)!=null}function oi(){return Mt(tu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Cd).location}var Ej="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kj(e){k.useContext(Ni).static||k.useLayoutEffect(e)}function ht(){let{isDataRoute:e}=k.useContext(Oi);return e?OB():yB()}function yB(){Mt(tu(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(eu),{basename:t,navigator:r}=k.useContext(Ni),{matches:n}=k.useContext(Oi),{pathname:i}=oi(),s=JSON.stringify(J_(n)),a=k.useRef(!1);return kj(()=>{a.current=!0}),k.useCallback((u,h={})=>{if(Ci(a.current,Ej),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Z_(u,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_s([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,s,i,e])}k.createContext(null);function Tj(){let{matches:e}=k.useContext(Oi),t=e[e.length-1];return t?t.params:{}}function Ad(e,{relative:t}={}){let{matches:r}=k.useContext(Oi),{pathname:n}=oi(),i=JSON.stringify(J_(r));return k.useMemo(()=>Z_(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function bB(e,t){return Sj(e,t)}function Sj(e,t,r,n,i){var A;Mt(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Ni),{matches:a}=k.useContext(Oi),o=a[a.length-1],u=o?o.params:{},h=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let S=p&&p.path||"";Cj(h,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=oi(),g;if(t){let S=typeof t=="string"?Zl(t):t;Mt(f==="/"||((A=S.pathname)==null?void 0:A.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=v;let b=g.pathname||"/",x=b;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=yj(e,{pathname:x});Ci(p||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ci(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=kB(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:_s([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:_s([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,i);return t&&w?k.createElement(Cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function _B(){let e=NB(),t=fB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:i},r):null,a)}var xB=k.createElement(_B,null),wB=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Oi.Provider,{value:this.props.routeContext},k.createElement(ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EB({routeContext:e,match:t,children:r}){let n=k.useContext(eu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Oi.Provider,{value:e},r)}function kB(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=r==null?void 0:r.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Mt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,u=-1;if(r)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let v,g=!1,b=null,x=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||xB,o&&(u<0&&p===0?(Cj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):u===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,p+1)),w=()=>{let A;return v?A=b:g?A=x:f.route.Component?A=k.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,k.createElement(EB,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?k.createElement(wB,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):w()},null)}function tx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TB(e){let t=k.useContext(eu);return Mt(t,tx(e)),t}function SB(e){let t=k.useContext(Pm);return Mt(t,tx(e)),t}function CB(e){let t=k.useContext(Oi);return Mt(t,tx(e)),t}function rx(e){let t=CB(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function AB(){return rx("useRouteId")}function NB(){var n;let e=k.useContext(ex),t=SB("useRouteError"),r=rx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function OB(){let{router:e}=TB("useNavigate"),t=rx("useNavigate"),r=k.useRef(!1);return kj(()=>{r.current=!0}),k.useCallback(async(i,s={})=>{Ci(r.current,Ej),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var wS={};function Cj(e,t,r){!t&&!wS[e]&&(wS[e]=!0,Ci(!1,r))}k.memo(PB);function PB({routes:e,future:t,state:r,unstable_onError:n}){return Sj(e,void 0,r,n,t)}function vi({to:e,replace:t,state:r,relative:n}){Mt(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(Ni);Ci(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Oi),{pathname:a}=oi(),o=ht(),u=Z_(e,J_(s),a,n==="path"),h=JSON.stringify(u);return k.useEffect(()=>{o(JSON.parse(h),{replace:t,state:r,relative:n})},[o,h,n,t,r]),null}function at(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jB({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Mt(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=k.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=Zl(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,g=k.useMemo(()=>{let b=Es(u,a);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:n}},[a,u,h,f,p,v,n]);return Ci(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:k.createElement(Ni.Provider,{value:o},k.createElement(Cd.Provider,{children:t,value:g}))}function ES({children:e,location:t}){return bB(Qb(e),t)}function Qb(e,t=[]){let r=[];return k.Children.forEach(e,(n,i)=>{if(!k.isValidElement(n))return;let s=[...t,i];if(n.type===k.Fragment){r.push.apply(r,Qb(n.props.children,s));return}Mt(n.type===at,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Qb(n.props.children,s)),r.push(a)}),r}var tp="get",rp="application/x-www-form-urlencoded";function jm(e){return e!=null&&typeof e.tagName=="string"}function IB(e){return jm(e)&&e.tagName.toLowerCase()==="button"}function RB(e){return jm(e)&&e.tagName.toLowerCase()==="form"}function DB(e){return jm(e)&&e.tagName.toLowerCase()==="input"}function LB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MB(e,t){return e.button===0&&(!t||t==="_self")&&!LB(e)}var ff=null;function FB(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var BB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wv(e){return e!=null&&!BB.has(e)?(Ci(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):e}function $B(e,t){let r,n,i,s,a;if(RB(e)){let o=e.getAttribute("action");n=o?Es(o,t):null,r=e.getAttribute("method")||tp,i=wv(e.getAttribute("enctype"))||rp,s=new FormData(e)}else if(IB(e)||DB(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?Es(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||tp,i=wv(e.getAttribute("formenctype"))||wv(o.getAttribute("enctype"))||rp,s=new FormData(o,e),!FB()){let{name:h,type:f,value:p}=e;if(f==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,p)}}else{if(jm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tp,n=null,i=rp,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UB(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Es(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function HB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WB(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await HB(s,r);return a.links?a.links():[]}return[]}));return YB(n.flat(1).filter(zB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kS(e,t,r,n,i,s){let a=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,o=(u,h)=>{var f;return r[h].pathname!==u.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,h)=>a(u,h)||o(u,h)):s==="data"?t.filter((u,h)=>{var p;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||o(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function qB(e,t,{includeHydrateFallback:r}={}){return VB(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function VB(e){return[...new Set(e)]}function GB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function YB(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(GB(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function Aj(){let e=k.useContext(eu);return nx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function KB(){let e=k.useContext(Pm);return nx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ix=k.createContext(void 0);ix.displayName="FrameworkContext";function Nj(){let e=k.useContext(ix);return nx(e,"You must render this element inside a <HydratedRouter> element"),e}function XB(e,t){let r=k.useContext(ix),[n,i]=k.useState(!1),[s,a]=k.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=t,v=k.useRef(null);k.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=w=>{w.forEach(A=>{a(A.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),k.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{i(!0)},b=()=>{i(!1),a(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:oc(o,g),onBlur:oc(u,b),onMouseEnter:oc(h,g),onMouseLeave:oc(f,b),onTouchStart:oc(p,g)}]:[!1,v,{}]}function oc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function QB({page:e,...t}){let{router:r}=Aj(),n=k.useMemo(()=>yj(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(ZB,{page:e,matches:n,...t}):null}function JB(e){let{manifest:t,routeModules:r}=Nj(),[n,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return WB(e,t,r).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,r]),n}function ZB({page:e,matches:t,...r}){let n=oi(),{manifest:i,routeModules:s}=Nj(),{basename:a}=Aj(),{loaderData:o,matches:u}=KB(),h=k.useMemo(()=>kS(e,t,u,i,n,"data"),[e,t,u,i,n]),f=k.useMemo(()=>kS(e,t,u,i,n,"assets"),[e,t,u,i,n]),p=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(t.forEach(w=>{var S;let A=i.routes[w.route.id];!A||!A.hasLoader||(!h.some(N=>N.route.id===w.route.id)&&w.route.id in o&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||A.hasClientLoader?x=!0:b.add(w.route.id))}),b.size===0)return[];let _=UB(e,a,"data");return x&&b.size>0&&_.searchParams.set("_routes",t.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[a,o,n,i,h,t,e,s]),v=k.useMemo(()=>qB(f,i),[f,i]),g=JB(f);return k.createElement(k.Fragment,null,p.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),v.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:x})=>k.createElement("link",{key:b,nonce:r.nonce,...x})))}function e9(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Oj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oj&&(window.__reactRouterVersion="7.9.5")}catch{}function t9({basename:e,children:t,window:r}){let n=k.useRef();n.current==null&&(n.current=WF({window:r,v5Compat:!0}));let i=n.current,[s,a]=k.useState({action:i.action,location:i.location}),o=k.useCallback(u=>{k.startTransition(()=>a(u))},[a]);return k.useLayoutEffect(()=>i.listen(o),[i,o]),k.createElement(jB,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var Pj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nr=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:u,to:h,preventScrollReset:f,viewTransition:p,...v},g){let{basename:b}=k.useContext(Ni),x=typeof h=="string"&&Pj.test(h),_,w=!1;if(typeof h=="string"&&x&&(_=h,Oj))try{let B=new URL(window.location.href),R=h.startsWith("//")?new URL(B.protocol+h):new URL(h),F=Es(R.pathname,b);R.origin===B.origin&&F!=null?h=F+R.search+R.hash:w=!0}catch{Ci(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=vB(h,{relative:i}),[S,N,P]=XB(n,v),O=s9(h,{replace:a,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:p});function j(B){t&&t(B),B.defaultPrevented||O(B)}let D=k.createElement("a",{...v,...P,href:_||A,onClick:w||s?t:j,ref:e9(g,N),target:u,"data-discover":!x&&r==="render"?"true":void 0});return S&&!x?k.createElement(k.Fragment,null,D,k.createElement(QB,{page:A})):D});nr.displayName="Link";var r9=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:u,...h},f){let p=Ad(a,{relative:h.relative}),v=oi(),g=k.useContext(Pm),{navigator:b,basename:x}=k.useContext(Ni),_=g!=null&&c9(p)&&o===!0,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,A=v.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(A=A.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=Es(S,x)||S);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=A===w||!i&&A.startsWith(w)&&A.charAt(N)==="/",O=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),j={isActive:P,isPending:O,isTransitioning:_},D=P?t:void 0,B;typeof n=="function"?B=n(j):B=[n,P?"active":null,O?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(j):s;return k.createElement(nr,{...h,"aria-current":D,className:B,ref:f,style:R,to:a,viewTransition:o},typeof u=="function"?u(j):u)});r9.displayName="NavLink";var n9=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:a=tp,action:o,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...v},g)=>{let b=l9(),x=u9(o,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&Pj.test(o),A=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let N=S.nativeEvent.submitter,P=(N==null?void 0:N.getAttribute("formmethod"))||a;b(N||S.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:i,state:s,relative:h,preventScrollReset:f,viewTransition:p})};return k.createElement("form",{ref:g,method:_,action:x,onSubmit:n?u:A,...v,"data-discover":!w&&e==="render"?"true":void 0})});n9.displayName="Form";function i9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jj(e){let t=k.useContext(eu);return Mt(t,i9(e)),t}function s9(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=ht(),u=oi(),h=Ad(e,{relative:s});return k.useCallback(f=>{if(MB(f,t)){f.preventDefault();let p=r!==void 0?r:nd(u)===nd(h);o(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[u,o,h,r,n,t,e,i,s,a])}var a9=0,o9=()=>`__${String(++a9)}__`;function l9(){let{router:e}=jj("useSubmit"),{basename:t}=k.useContext(Ni),r=AB();return k.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:u,body:h}=$B(n,t);if(i.navigate===!1){let f=i.fetcherKey||o9();await e.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function u9(e,{relative:t}={}){let{basename:r}=k.useContext(Ni),n=k.useContext(Oi);Mt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Ad(e||".",{relative:t})},a=oi();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:_s([r,s.pathname])),nd(s)}function c9(e,{relative:t}={}){let r=k.useContext(wj);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jj("useViewTransitionState"),i=Ad(e,{relative:t});if(!r.isTransitioning)return!1;let s=Es(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Es(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fp(i.pathname,a)!=null||fp(i.pathname,s)!=null}var Ij=vj(),ae=typeof window<"u"?window:void 0,Nr=typeof globalThis<"u"?globalThis:ae;typeof self>"u"&&(Nr.self=Nr),typeof File>"u"&&(Nr.File=function(){});var Rj=Array.prototype,TS=Rj.forEach,SS=Rj.indexOf,jn=Nr==null?void 0:Nr.navigator,Se=Nr==null?void 0:Nr.document,fn=Nr==null?void 0:Nr.location,Jb=Nr==null?void 0:Nr.fetch,Zb=Nr!=null&&Nr.XMLHttpRequest&&"withCredentials"in new Nr.XMLHttpRequest?Nr.XMLHttpRequest:void 0,CS=Nr==null?void 0:Nr.AbortController,dn=jn==null?void 0:jn.userAgent,Qe=ae??{},cs={DEBUG:!1,LIB_VERSION:"1.302.2"};function AS(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(h){return void r(h)}o.done?t(u):Promise.resolve(u).then(n,i)}function NS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(u){AS(s,n,i,a,o,"next",u)}function o(u){AS(s,n,i,a,o,"throw",u)}a(void 0)}))}}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oe.apply(null,arguments)}function Dj(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d9=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],OS=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return d9.concat(t).some((n=>{var i=n.toLowerCase();return r.indexOf(i)!==-1}))},h9=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function it(e,t){return e.indexOf(t)!==-1}var Im=function(e){return e.trim()},e1=function(e){return e.replace(/^\$/,"")},f9=Array.isArray,Lj=Object.prototype,Mj=Lj.hasOwnProperty,Rm=Lj.toString,xt=f9||function(e){return Rm.call(e)==="[object Array]"},xa=e=>typeof e=="function",vr=e=>e===Object(e)&&!xt(e),Tl=e=>{if(vr(e)){for(var t in e)if(Mj.call(e,t))return!1;return!0}return!1},ke=e=>e===void 0,sr=e=>Rm.call(e)=="[object String]",t1=e=>sr(e)&&e.trim().length===0,Ps=e=>e===null,_t=e=>ke(e)||Ps(e),Ki=e=>Rm.call(e)=="[object Number]",wa=e=>Rm.call(e)==="[object Boolean]",p9=e=>e instanceof FormData,m9=e=>it(h9,e);function r1(e){return e===null||typeof e!="object"}function pp(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function Fj(e){return!ke(Event)&&(function(t,r){try{return t instanceof r}catch{return!1}})(e,Event)}var g9=[!0,"true",1,"1","yes"],Ev=e=>it(g9,e),v9=[!1,"false",0,"0","no"];function Hi(e,t,r,n,i){return t>r&&(n.warn("min cannot be greater than max."),t=r),Ki(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+i),Hi(i||r,t,r,n))}class y9{constructor(t){this.t={},this.i=t.i,this.o=Hi(t.bucketSize,0,100,t.h),this.m=Hi(t.refillRate,0,this.o,t.h),this.S=Hi(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,i=Math.floor(n/this.S);if(i>0){var s=i*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+i*this.S}}consumeRateLimit(t){var r,n=Date.now(),i=String(t),s=this.t[i];return s?this.$(s,n):(s={tokens:this.o,lastAccess:n},this.t[i]=s),s.tokens===0||(s.tokens--,s.tokens===0&&((r=this.i)==null||r.call(this,t)),s.tokens===0)}stop(){this.t={}}}var pf,PS,kv,b9=e=>e instanceof Error;function _9(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return kv&&r.length===PS||(PS=r.length,kv=r.reduce(((n,i)=>{pf||(pf={});var s=pf[i];if(s)n[s[0]]=s[1];else for(var a=e(i),o=a.length-1;o>=0;o--){var u=a[o],h=u==null?void 0:u.filename,f=t[i];if(h&&f){n[h]=f,pf[i]=[h,f];break}}return n}),{})),kv}}class x9{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(n,r,0).apply(t),s=this.buildParsingContext(),a=this.parseStacktrace(i,s);return{$exception_list:this.convertToExceptionList(a,n),$exception_level:"error"}}modifyFrames(t){var r=this;return NS((function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&xt(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t}))()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,i;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(i=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),Oe({},t,{cause:n,stack:i})}applyChunkIds(t,r){return t.map((n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n)))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return NS((function*(){var n=t;for(var i of r.modifiers)n=yield i(n);return n}))()}convertToExceptionList(t,r){var n,i,s,a={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(i=r.handled)===null||i===void 0||i,synthetic:(s=t.synthetic)!==null&&s!==void 0&&s}};t.stack&&(a.stacktrace={type:"raw",frames:t.stack});var o=[a];return t.cause!=null&&o.push(...this.convertToExceptionList(t.cause,Oe({},r,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:_9(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var i=(s,a)=>{if(a<=4){var o=this.buildCoercingContext(t,r,a);return this.applyCoercers(s,o)}};return Oe({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:s=>i(s,n),next:s=>i(s,n+1)})}}var Dl="?";function n1(e,t,r,n,i){var s={platform:e,filename:t,function:r==="<anonymous>"?Dl:r,in_app:!0};return ke(n)||(s.lineno=n),ke(i)||(s.colno=i),s}var Bj=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Dl,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},w9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,E9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,k9=/\((\S*)(?::(\d+))(?::(\d+))\)/,T9=(e,t)=>{var r=w9.exec(e);if(r){var[,n,i,s]=r;return n1(t,n,Dl,+i,+s)}var a=E9.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){var o=k9.exec(a[2]);o&&(a[2]=o[1],a[3]=o[2],a[4]=o[3])}var[u,h]=Bj(a[1]||Dl,a[2]);return n1(t,h,u,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},S9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,C9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,A9=(e,t)=>{var r=S9.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=C9.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var i=r[3],s=r[1]||Dl;return[s,i]=Bj(s,i),n1(t,i,s,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},jS=/\(error: (.*)\)/,IS=50;function N9(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(i,s){s===void 0&&(s=0);for(var a=[],o=i.split(`
`),u=s;u<o.length;u++){var h=o[u];if(!(h.length>1024)){var f=jS.test(h)?h.replace(jS,"$1"):h;if(!f.match(/\S*Error: /)){for(var p of r){var v=p(f,e);if(v){a.push(v);break}}if(a.length>=IS)break}}}return(function(g){if(!g.length)return[];var b=Array.from(g);return b.reverse(),b.slice(0,IS).map((x=>{return Oe({},x,{filename:x.filename||(_=b,_[_.length-1]||{}).filename,function:x.function||Dl});var _}))})(a)}}class O9{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=sr(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return pp(t,"DOMException")}isDOMError(t){return pp(t,"DOMError")}}class P9{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}class j9{constructor(){}match(t){return pp(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,i=r.apply(t.error);return i||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}var I9=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class R9{match(t){return typeof t=="string"}coerce(t,r){var n,[i,s]=this.getInfos(t);return{type:i??"Error",value:s??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,i=t.match(I9);return i&&(r=i[1],n=i[2]),[r,n]}}var D9=["fatal","error","warning","log","info","debug"];function $j(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length||i.length<=t?i:i.slice(0,t)+"..."}return""}class L9{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,i=this.getErrorPropertyFromObject(t);return i?r.apply(i):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return Fj(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+$j(t)}isSeverityLevel(t){return sr(t)&&!t1(t)&&D9.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(b9(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class M9{match(t){return Fj(t)}coerce(t,r){var n,i=t.constructor.name;return{type:i,value:i+" captured as exception with keys: "+$j(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class F9{match(t){return r1(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class B9{match(t){return pp(t,"PromiseRejectionEvent")}coerce(t,r){var n,i=this.getUnhandledRejectionReason(t);return r1(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(i)}getUnhandledRejectionReason(t){if(r1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}}var Uj=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(i){if(ae&&(cs.DEBUG||Qe.POSTHOG_DEBUG||r)&&!ke(ae.console)&&ae.console){for(var s=("__rrweb_original__"in ae.console[i])?ae.console[i].__rrweb_original__:ae.console[i],a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];s(e,...o)}},info:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("log",...s)},warn:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("warn",...s)},error:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("error",...s)},critical:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];console.error(e,...s)},uninitializedWarning:i=>{n.error("You must initialize PostHog before calling "+i)},createLogger:(i,s)=>Uj(e+" "+i,s)};return n},Ce=Uj("[PostHog.js]"),ar=Ce.createLogger,$9=ar("[ExternalScriptsLoader]"),RS=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return $9.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=Se==null?void 0:Se.querySelectorAll("script");if(n){for(var i,s=function(){if(n[a].src===t){var u=n[a];return u.__posthog_loading_callback_fired?{v:r()}:(u.addEventListener("load",(h=>{u.__posthog_loading_callback_fired=!0,r(void 0,h)})),u.onerror=h=>r(h),{v:void 0})}},a=0;a<n.length;a++)if(i=s())return i.v}var o=()=>{if(!Se)return r("document not found");var u=Se.createElement("script");if(u.type="text/javascript",u.crossOrigin="anonymous",u.src=t,u.onload=p=>{u.__posthog_loading_callback_fired=!0,r(void 0,p)},u.onerror=p=>r(p),e.config.prepare_external_dependency_script&&(u=e.config.prepare_external_dependency_script(u)),!u)return r("prepare_external_dependency_script returned null");var h,f=Se.querySelectorAll("body > script");f.length>0?(h=f[0].parentNode)==null||h.insertBefore(u,f[0]):Se.body.appendChild(u)};Se!=null&&Se.body?o():Se==null||Se.addEventListener("DOMContentLoaded",o)};Qe.__PosthogExtensions__=Qe.__PosthogExtensions__||{},Qe.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;n=n+"&t="+Math.floor(Date.now()/i)*i}var s=e.requestRouter.endpointFor("assets",n);RS(e,s,r)},Qe.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);RS(e,n,r)};var mp={};function Ea(e,t,r){if(xt(e)){if(TS&&e.forEach===TS)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n)===mp)return}}}function At(e,t,r){if(!_t(e)){if(xt(e))return Ea(e,t,r);if(p9(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===mp)return}else for(var i in e)if(Mj.call(e,i)&&t.call(r,e[i],i)===mp)return}}var Gt=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ea(r,(function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])})),e},ru=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ea(r,(function(i){Ea(i,(function(s){e.push(s)}))})),e};function np(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var DS=function(e){try{return e()}catch{return}},U9=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(i){Ce.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ce.critical(i)}}},sx=function(e){var t={};return At(e,(function(r,n){(sr(r)&&r.length>0||Ki(r))&&(t[n]=r)})),t};function H9(e,t){return r=e,n=s=>sr(s)&&!Ps(t)?s.slice(0,t):s,i=new Set,(function s(a,o){return a!==Object(a)?n?n(a,o):a:i.has(a)?void 0:(i.add(a),xt(a)?(u=[],Ea(a,(h=>{u.push(s(h))}))):(u={},At(a,((h,f)=>{i.has(h)||(u[f]=s(h,f))}))),u);var u})(r);var r,n,i}var z9=["herokuapp.com","vercel.app","netlify.app"];function W9(e){var t=e==null?void 0:e.hostname;if(!sr(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of z9)if(r===n)return!1;return!0}function Hj(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Jt(e,t,r,n){var{capture:i=!1,passive:s=!0}=n??{};e==null||e.addEventListener(t,r,{capture:i,passive:s})}var zj="$people_distinct_id",Pc="__alias",jc="__timers",LS="$autocapture_disabled_server_side",i1="$heatmaps_enabled_server_side",MS="$exception_capture_enabled_server_side",s1="$error_tracking_suppression_rules",FS="$error_tracking_capture_extension_exceptions",BS="$web_vitals_enabled_server_side",Wj="$dead_clicks_enabled_server_side",$S="$web_vitals_allowed_metrics",Tv="$session_recording_remote_config",gp="$sesid",qj="$session_is_sampled",Sl="$enabled_feature_flags",Ic="$early_access_features",a1="$feature_flag_details",Rc="$stored_person_properties",no="$stored_group_properties",o1="$surveys",mf="$surveys_activated",vp="$flag_call_reported",ds="$user_state",l1="$client_session_props",u1="$capture_rate_limit",c1="$initial_campaign_params",d1="$initial_referrer_info",yp="$initial_person_info",bp="$epp",Vj="__POSTHOG_TOOLBAR__",lc="$posthog_cookieless",q9=[zj,Pc,"__cmpns",jc,"$session_recording_enabled_server_side",i1,gp,Sl,s1,ds,Ic,a1,no,Rc,o1,vp,l1,u1,c1,d1,bp,yp];function US(e){return e instanceof Element&&(e.id===Vj||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Dm(e){return!!e&&e.nodeType===1}function ka(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Gj(e){return!!e&&e.nodeType===3}function Yj(e){return!!e&&e.nodeType===11}function ax(e){return e?Im(e).split(/\s+/):[]}function HS(e){var t=ae==null?void 0:ae.location.href;return!!(t&&e&&e.some((r=>t.match(r))))}function _p(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return ax(t)}function Kj(e){return _t(e)?null:Im(e).split(/(\s+)/).filter((t=>id(t))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Nd(e){var t="";return h1(e)&&!eI(e)&&e.childNodes&&e.childNodes.length&&At(e.childNodes,(function(r){var n;Gj(r)&&r.textContent&&(t+=(n=Kj(r.textContent))!==null&&n!==void 0?n:"")})),Im(t)}function Xj(e){return ke(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var ox=["a","button","form","input","select","textarea","label"];function Qj(e,t){if(ke(t))return!0;var r,n=function(s){if(t.some((a=>s.matches(a))))return{v:!0}};for(var i of e)if(r=n(i))return r.v;return!1}function Jj(e){var t=e.parentNode;return!(!t||!Dm(t))&&t}var V9=["next","previous","prev",">","<"],zS=10,WS=[".ph-no-rageclick",".ph-no-capture"];function G9(e,t){if(!ae||lx(e))return!1;var r,n,i;if(wa(t)?(r=!!t&&WS,n=void 0):(r=(i=t==null?void 0:t.css_selector_ignorelist)!==null&&i!==void 0?i:WS,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:s}=Zj(e,!1);return!(function(a,o){if(a===!1||ke(a))return!1;var u;if(a===!0)u=V9;else{if(!xt(a))return!1;if(a.length>zS)return Ce.error("[PostHog] content_ignorelist array cannot exceed "+zS+" items. Use css_selector_ignorelist for more complex matching."),!1;u=a.map((h=>h.toLowerCase()))}return o.some((h=>{var{safeText:f,ariaLabel:p}=h;return u.some((v=>f.includes(v)||p.includes(v)))}))})(n,s.map((a=>{var o;return{safeText:Nd(a).toLowerCase(),ariaLabel:((o=a.getAttribute("aria-label"))==null?void 0:o.toLowerCase().trim())||""}})))&&!Qj(s,r)}var lx=e=>!e||ka(e,"html")||!Dm(e),Zj=(e,t)=>{if(!ae||lx(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],i=e;i.parentNode&&!ka(i,"body");)if(Yj(i.parentNode))n.push(i.parentNode.host),i=i.parentNode.host;else{var s=Jj(i);if(!s)break;if(t||ox.indexOf(s.tagName.toLowerCase())>-1)r=!0;else{var a=ae.getComputedStyle(s);a&&a.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(s),i=s}return{parentIsUsefulElement:r,targetElementList:n}};function Y9(e,t,r,n,i){var s,a,o,u;if(r===void 0&&(r=void 0),!ae||lx(e)||(s=r)!=null&&s.url_allowlist&&!HS(r.url_allowlist)||(a=r)!=null&&a.url_ignorelist&&HS(r.url_ignorelist))return!1;if((o=r)!=null&&o.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((b=>t.type===b)))return!1}var{parentIsUsefulElement:f,targetElementList:p}=Zj(e,n);if(!(function(b,x){var _=x==null?void 0:x.element_allowlist;if(ke(_))return!0;var w,A=function(N){if(_.some((P=>N.tagName.toLowerCase()===P)))return{v:!0}};for(var S of b)if(w=A(S))return w.v;return!1})(p,r)||!Qj(p,(u=r)==null?void 0:u.css_selector_allowlist))return!1;var v=ae.getComputedStyle(e);if(v&&v.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return f?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(ox.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function h1(e){for(var t=e;t.parentNode&&!ka(t,"body");t=t.parentNode){var r=_p(t);if(it(r,"ph-sensitive")||it(r,"ph-no-capture"))return!1}if(it(_p(e),"ph-include"))return!0;var n=e.type||"";if(sr(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(sr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function eI(e){return!!(ka(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||ka(e,"select")||ka(e,"textarea")||e.getAttribute("contenteditable")==="true")}var tI="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",K9=new RegExp("^(?:"+tI+")$"),X9=new RegExp(tI),rI="\\d{3}-?\\d{2}-?\\d{4}",Q9=new RegExp("^("+rI+")$"),J9=new RegExp("("+rI+")");function id(e,t){return t===void 0&&(t=!0),!(_t(e)||sr(e)&&(e=Im(e),(t?K9:X9).test((e||"").replace(/[- ]/g,""))||(t?Q9:J9).test(e)))}function nI(e){var t=Nd(e);return id(t=(t+" "+iI(e)).trim())?t:""}function iI(e){var t="";return e&&e.childNodes&&e.childNodes.length&&At(e.childNodes,(function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var i=Nd(r);t=(t+" "+i).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+iI(r)).trim())}catch(s){Ce.error("[AutoCapture]",s)}})),t}function Z9(e){return(function(t){var r=t.map((n=>{var i,s,a="";if(n.tag_name&&(a+=n.tag_name),n.attr_class)for(var o of(n.attr_class.sort(),n.attr_class))a+="."+o.replace(/"/g,"");var u=Oe({},n.text?{text:n.text}:{},{"nth-child":(i=n.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),h={};return np(u).sort(((f,p)=>{var[v]=f,[g]=p;return v.localeCompare(g)})).forEach((f=>{var[p,v]=f;return h[qS(p.toString())]=qS(v.toString())})),a+=":",a+=np(h).map((f=>{var[p,v]=f;return p+'="'+v+'"'})).join("")}));return r.join(";")})((function(t){return t.map((r=>{var n,i,s={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(i=r.attr__href)==null?void 0:i.slice(0,2048),attr_class:e$(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return np(r).filter((a=>{var[o]=a;return o.indexOf("attr__")===0})).forEach((a=>{var[o,u]=a;return s.attributes[o]=u})),s}))})(e))}function qS(e){return e.replace(/"|\\"/g,'\\"')}function e$(e){var t=e.attr__class;return t?xt(t)?t:ax(t):void 0}class sI{constructor(t){this.disabled=t===!1;var r=vr(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(r-i.y)<this.thresholdPx&&n-i.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}}var Sv="$copy_autocapture",ps=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),xp=e=>{var t=Se==null?void 0:Se.createElement("a");return ke(t)?null:(t.href=e,t)},t$=function(e,t){var r,n;t===void 0&&(t="&");var i=[];return At(e,(function(s,a){ke(s)||ke(a)||a==="undefined"||(r=encodeURIComponent((o=>o instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(a),i[i.length]=n+"="+r)})),i.join(t)},wp=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===t){r=s;break}}if(!xt(r)||r.length<2)return"";var a=r[1];try{a=decodeURIComponent(a)}catch{Ce.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Od=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),i=n[0]||"",s=n[1],a=i.split("?"),o=a[1],u=a[0],h=(o||"").split("&"),f=[],p=0;p<h.length;p++){var v=h[p].split("=");xt(v)&&(t.includes(v[0])?f.push(v[0]+"="+r):f.push(h[p]))}var g=u;return o!=null&&(g+="?"+f.join("&")),s!=null&&(g+="#"+s),g},Ep=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},VS=ar("[AutoCapture]");function Cv(e,t){return t.length>e?t.slice(0,e)+"...":t}function r$(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Dm(t));return t}function n$(e,t,r,n){var i=e.tagName.toLowerCase(),s={tag_name:i};ox.indexOf(i)>-1&&!r&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Cv(1024,nI(e)):s.$el_text=Cv(1024,Nd(e)));var a=_p(e);a.length>0&&(s.classes=a.filter((function(f){return f!==""}))),At(e.attributes,(function(f){var p;if((!eI(e)||["name","id","class","aria-label"].indexOf(f.name)!==-1)&&(n==null||!n.includes(f.name))&&!t&&id(f.value)&&(p=f.name,!sr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var v=f.value;f.name==="class"&&(v=ax(v).join(" ")),s["attr__"+f.name]=Cv(1024,v)}}));for(var o=1,u=1,h=e;h=r$(h);)o++,h.tagName===e.tagName&&u++;return s.nth_child=o,s.nth_of_type=u,s}function i$(e,t){for(var r,n,{e:i,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:u}=t,h=[e],f=e;f.parentNode&&!ka(f,"body");)Yj(f.parentNode)?(h.push(f.parentNode.host),f=f.parentNode.host):(h.push(f.parentNode),f=f.parentNode);var p,v=[],g={},b=!1,x=!1;if(At(h,(N=>{var P=h1(N);N.tagName.toLowerCase()==="a"&&(b=N.getAttribute("href"),b=P&&b&&id(b)&&b),it(_p(N),"ph-no-capture")&&(x=!0),v.push(n$(N,s,a,o));var O=(function(j){if(!h1(j))return{};var D={};return At(j.attributes,(function(B){if(B.name&&B.name.indexOf("data-ph-capture-attribute")===0){var R=B.name.replace("data-ph-capture-attribute-",""),F=B.value;R&&F&&id(F)&&(D[R]=F)}})),D})(N);Gt(g,O)})),x)return{props:{},explicitNoCapture:x};if(a||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=nI(e):v[0].$el_text=Nd(e)),b){var _,w;v[0].attr__href=b;var A=(_=xp(b))==null?void 0:_.host,S=ae==null||(w=ae.location)==null?void 0:w.host;A&&S&&A!==S&&(p=b)}return{props:Gt({$event_type:i.type,$ce_version:1},u?{}:{$elements:v},{$elements_chain:Z9(v)},(r=v[0])!=null&&r.$el_text?{$el_text:(n=v[0])==null?void 0:n.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},g)}}class s${constructor(t){this.P=!1,this.T=null,this.R=!1,this.instance=t,this.rageclicks=new sI(t.config.rageclick),this.I=null}get F(){var t,r,n=vr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map((i=>new RegExp(i))),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map((i=>new RegExp(i))),n}C(){if(this.isBrowserSupported()){if(ae&&Se){var t=n=>{n=n||(ae==null?void 0:ae.event);try{this.M(n)}catch(i){VS.error("Failed to capture event",i)}};if(Jt(Se,"submit",t,{capture:!0}),Jt(Se,"change",t,{capture:!0}),Jt(Se,"click",t,{capture:!0}),this.F.capture_copied_text){var r=n=>{n=n||(ae==null?void 0:ae.event),this.M(n,Sv)};Jt(Se,"copy",r,{capture:!0}),Jt(Se,"cut",r,{capture:!0})}}}else VS.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.R=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[LS]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.I=t}getElementSelectors(t){var r,n=[];return(r=this.I)==null||r.forEach((i=>{var s=Se==null?void 0:Se.querySelectorAll(i);s==null||s.forEach((a=>{t===a&&n.push(i)}))})),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[LS],i=this.T;if(Ps(i)&&!wa(n)&&!this.instance.O())return!1;var s=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!s}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,i=Xj(t);Gj(i)&&(i=i.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&G9(i,this.instance.config.rageclick)&&this.M(t,"$rageclick");var s=r===Sv;if(i&&Y9(i,t,this.F,s,s?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=i$(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.R});if(o)return!1;var u=this.getElementSelectors(i);if(u&&u.length>0&&(a.$element_selectors=u),r===Sv){var h,f=Kj(ae==null||(h=ae.getSelection())==null?void 0:h.toString()),p=t.type||"clipboard";if(!f)return!1;a.$selected_content=f,a.$copy_type=p}return this.instance.capture(r,a),!0}}}isBrowserSupported(){return xa(Se==null?void 0:Se.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Ki(e)&&isFinite(e)&&Math.floor(e)===e});var GS="0123456789abcdef";class kp{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,i){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(i)||t<0||r<0||n<0||i<0||t>0xffffffffffff||r>4095||n>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new kp(s)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+GS.charAt(this.bytes[r]>>>4)+GS.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new kp(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class a${constructor(){this.A=0,this.D=0,this.j=new o$}generate(){var t=this.generateOrAbort();if(ke(t)){this.A=0;var r=this.generateOrAbort();if(ke(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return kp.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var YS,aI=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ae&&!ke(ae.crypto)&&crypto.getRandomValues&&(aI=e=>crypto.getRandomValues(e));class o${constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(aI(this.N),this.U=0),this.N[this.U++]}}var ba=()=>l$().toString(),l$=()=>(YS||(YS=new a$)).generate(),uc="",u$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function c$(e,t){if(t){var r=(function(i,s){if(s===void 0&&(s=Se),uc)return uc;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var a=i.split("."),o=Math.min(a.length,8),u="dmn_chk_"+ba();!uc&&o--;){var h=a.slice(o).join("."),f=u+"=1;domain=."+h+";path=/";s.cookie=f+";max-age=3",s.cookie.includes(u)&&(s.cookie=f+";max-age=0",uc=h)}return uc})(e);if(!r){var n=(i=>{var s=i.match(u$);return s?s[0]:""})(e);n!==r&&Ce.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Vi={H:()=>!!Se,B:function(e){Ce.error("cookieStore error: "+e)},q:function(e){if(Se){try{for(var t=e+"=",r=Se.cookie.split(";").filter((s=>s.length)),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Vi.q(e))||{}}catch{}return t},G:function(e,t,r,n,i){if(Se)try{var s="",a="",o=c$(Se.location.hostname,n);if(r){var u=new Date;u.setTime(u.getTime()+24*r*60*60*1e3),s="; expires="+u.toUTCString()}i&&(a="; secure");var h=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+o+a;return h.length>3686.4&&Ce.warn("cookieStore warning: large cookie, len="+h.length),Se.cookie=h,h}catch{return}},V:function(e,t){if(Se!=null&&Se.cookie)try{Vi.G(e,"",-1,t)}catch{return}}},Av=null,Ut={H:function(){if(!Ps(Av))return Av;var e=!0;if(ke(ae))e=!1;else try{var t="__mplssupport__";Ut.G(t,"xyz"),Ut.q(t)!=='"xyz"'&&(e=!1),Ut.V(t)}catch{e=!1}return e||Ce.error("localStorage unsupported; falling back to cookie store"),Av=e,e},B:function(e){Ce.error("localStorage error: "+e)},q:function(e){try{return ae==null?void 0:ae.localStorage.getItem(e)}catch(t){Ut.B(t)}return null},W:function(e){try{return JSON.parse(Ut.q(e))||{}}catch{}return null},G:function(e,t){try{ae==null||ae.localStorage.setItem(e,JSON.stringify(t))}catch(r){Ut.B(r)}},V:function(e){try{ae==null||ae.localStorage.removeItem(e)}catch(t){Ut.B(t)}}},d$=["distinct_id",gp,qj,bp,yp],gf=Oe({},Ut,{W:function(e){try{var t={};try{t=Vi.W(e)||{}}catch{}var r=Gt(t,JSON.parse(Ut.q(e)||"{}"));return Ut.G(e,r),r}catch{}return null},G:function(e,t,r,n,i,s){try{Ut.G(e,t,void 0,void 0,s);var a={};d$.forEach((o=>{t[o]&&(a[o]=t[o])})),Object.keys(a).length&&Vi.G(e,a,r,n,i,s)}catch(o){Ut.B(o)}},V:function(e,t){try{ae==null||ae.localStorage.removeItem(e),Vi.V(e,t)}catch(r){Ut.B(r)}}}),vf={},h$={H:function(){return!0},B:function(e){Ce.error("memoryStorage error: "+e)},q:function(e){return vf[e]||null},W:function(e){return vf[e]||null},G:function(e,t){vf[e]=t},V:function(e){delete vf[e]}},Qa=null,Cr={H:function(){if(!Ps(Qa))return Qa;if(Qa=!0,ke(ae))Qa=!1;else try{var e="__support__";Cr.G(e,"xyz"),Cr.q(e)!=='"xyz"'&&(Qa=!1),Cr.V(e)}catch{Qa=!1}return Qa},B:function(e){Ce.error("sessionStorage error: ",e)},q:function(e){try{return ae==null?void 0:ae.sessionStorage.getItem(e)}catch(t){Cr.B(t)}return null},W:function(e){try{return JSON.parse(Cr.q(e))||null}catch{}return null},G:function(e,t){try{ae==null||ae.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Cr.B(r)}},V:function(e){try{ae==null||ae.sessionStorage.removeItem(e)}catch(t){Cr.B(t)}}},hs=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class f${constructor(t){this._instance=t}get F(){return this._instance.config}get consent(){return this.J()?hs.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===hs.DENIED||this.consent===hs.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===hs.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return Ev(t)?hs.GRANTED:it(v9,t)?hs.DENIED:hs.PENDING}get Y(){if(!this.Z){var t=this.F.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Ut:Vi;var r=t==="localStorage"?Vi:Ut;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(Ev(r.q(this.X))),r.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!Hj([jn==null?void 0:jn.doNotTrack,jn==null?void 0:jn.msDoNotTrack,Qe.doNotTrack],(t=>Ev(t)))}}var yf=ar("[Dead Clicks]"),p$=()=>!0,m$=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(Wj)),n=e.instance.config.capture_dead_clicks;return wa(n)?n:!!vr(n)||r};class oI{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[Wj]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var r,n;(r=Qe.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=Qe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?yf.error("failed to load script",i):t()}))}et(){var t;if(Se){if(!this.tt&&(t=Qe.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=vr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=Qe.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(Se),yf.info("starting...")}}else yf.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,yf.info("stopping..."))}}var cc=ar("[ExceptionAutocapture]");class g${constructor(t){var r,n,i;this.rt=()=>{var s;if(ae&&this.isEnabled&&(s=Qe.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var a=Qe.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,o=Qe.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,u=Qe.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=a(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=o(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=u(this.captureException.bind(this)))}catch(h){cc.error("failed to start",h),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[MS]),this.F=this.ht(),this.vt=new y9({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:cc}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return vr(t)?r=Oe({},r,t):(ke(t)?this.ut:t)&&(r=Oe({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(cc.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=Qe.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=Qe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return cc.error("failed to load script",i);t()}))}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[MS]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,i=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.vt.consumeRateLimit(i)?cc.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(t)}}function KS(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],i=r(n);return xa(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}class v${constructor(t){var r;this._instance=t,this.dt=(ae==null||(r=ae.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Ce.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Ce.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ae&&ae.history){var n=this;(t=ae.history.pushState)!=null&&t.__posthog_wrapped__||KS(ae.history,"pushState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("pushState")})),(r=ae.history.replaceState)!=null&&r.__posthog_wrapped__||KS(ae.history,"replaceState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("replaceState")})),this.gt()}}ft(t){try{var r,n=ae==null||(r=ae.location)==null?void 0:r.pathname;if(!n)return;n!==this.dt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.dt=n}catch(i){Ce.error("Error capturing "+t+" pageview",i)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};Jt(ae,"popstate",t),this.ct=()=>{ae&&ae.removeEventListener("popstate",t)}}}}var Nv=ar("[SegmentIntegration]");function y$(e,t){var r=e.config.segment;if(!r)return t();(function(n,i){var s=n.config.segment;if(!s)return i();var a=u=>{var h=()=>u.anonymousId()||ba();n.config.get_device_id=h,u.id()&&(n.register({distinct_id:u.id(),$device_id:h()}),n.persistence.set_property(ds,"identified")),i()},o=s.user();"then"in o&&xa(o.then)?o.then((u=>a(u))):a(o)})(e,(()=>{r.register((n=>{Promise&&Promise.resolve||Nv.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,a)=>{if(!a)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(Nv.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(Nv.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var o=n.calculateEventProperties(a,s.event.properties);return s.event.properties=Object.assign({},o,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then((()=>{t()}))}))}var lI="posthog-js";function uI(e,t){var{organization:r,projectId:n,prefix:i,severityAllowList:s=["error"],sendExceptionsToPostHog:a=!0}=t===void 0?{}:t;return o=>{var u,h,f,p,v;if(!(s==="*"||s.includes(o.level))||!e.__loaded)return o;o.tags||(o.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());o.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var b=((u=o.exception)==null?void 0:u.values)||[],x=b.map((w=>Oe({},w,{stacktrace:w.stacktrace?Oe({},w.stacktrace,{type:"raw",frames:(w.stacktrace.frames||[]).map((A=>Oe({},A,{platform:"web:javascript"})))}):void 0}))),_={$exception_message:((h=b[0])==null?void 0:h.value)||o.message,$exception_type:(f=b[0])==null?void 0:f.type,$exception_level:o.level,$exception_list:x,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((p=b[0])==null?void 0:p.value)||o.message,$sentry_exception_type:(v=b[0])==null?void 0:v.type,$sentry_tags:o.tags};return r&&n&&(_.$sentry_url=(i||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+o.event_id),a&&e.exceptions.sendExceptionEvent(_),o}}class b${constructor(t,r,n,i,s,a){this.name=lI,this.setupOnce=function(o){o(uI(t,{organization:r,projectId:n,prefix:i,severityAllowList:s,sendExceptionsToPostHog:a==null||a}))}}}var _$=ae!=null&&ae.location?Ep(ae.location.hash,"__posthog")||Ep(location.hash,"state"):null,XS="_postHogToolbarParams",QS=ar("[Toolbar]"),da=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(da||{});class x${constructor(t){this.instance=t}_t(t){Qe.ph_toolbar_state=t}yt(){var t;return(t=Qe.ph_toolbar_state)!==null&&t!==void 0?t:da.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ae||!Se)return!1;t=t??ae.location,n=n??ae.history;try{if(!r){try{ae.localStorage.setItem("test","test"),ae.localStorage.removeItem("test")}catch{return!1}r=ae==null?void 0:ae.localStorage}var i,s=_$||Ep(t.hash,"__posthog")||Ep(t.hash,"state"),a=s?DS((()=>JSON.parse(atob(decodeURIComponent(s)))))||DS((()=>JSON.parse(decodeURIComponent(s)))):null;return a&&a.action==="ph_authorize"?((i=a).source="url",i&&Object.keys(i).length>0&&(a.desiredHash?t.hash=a.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((i=JSON.parse(r.getItem(XS)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}bt(t){var r=Qe.ph_load_toolbar||Qe.ph_load_editor;!_t(r)&&xa(r)?r(t,this.instance):QS.warn("No toolbar load function found")}loadToolbar(t){var r=!(Se==null||!Se.getElementById(Vj));if(!ae||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Oe({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ae.localStorage.setItem(XS,JSON.stringify(Oe({},i,{source:void 0}))),this.yt()===da.LOADED)this.bt(i);else if(this.yt()===da.UNINITIALIZED){var s;this._t(da.LOADING),(s=Qe.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",(a=>{if(a)return QS.error("[Toolbar] Failed to load",a),void this._t(da.UNINITIALIZED);this._t(da.LOADED),this.bt(i)})),Jt(ae,"turbolinks:load",(()=>{this._t(da.UNINITIALIZED),this.loadToolbar(i)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var w$=ar("[TracingHeaders]");class E${constructor(t){this.xt=void 0,this.St=void 0,this.rt=()=>{var r,n;ke(this.xt)&&((r=Qe.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),ke(this.St)&&((n=Qe.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=Qe.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=Qe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return w$.error("failed to load script",i);t()}))}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.St)==null||r.call(this),this.xt=void 0,this.St=void 0)}}var ei="Mobile",Tp="iOS",zi="Android",sd="Tablet",cI=zi+" "+sd,dI="iPad",hI="Apple",fI=hI+" Watch",ad="Safari",Ll="BlackBerry",pI="Samsung",mI=pI+"Browser",gI=pI+" Internet",wo="Chrome",k$=wo+" OS",vI=wo+" "+Tp,ux="Internet Explorer",yI=ux+" "+ei,cx="Opera",T$=cx+" Mini",dx="Edge",bI="Microsoft "+dx,Nl="Firefox",_I=Nl+" "+Tp,od="Nintendo",ld="PlayStation",Ol="Xbox",xI=zi+" "+ei,wI=ei+" "+ad,Dc="Windows",f1=Dc+" Phone",JS="Nokia",p1="Ouya",EI="Generic",S$=EI+" "+ei.toLowerCase(),kI=EI+" "+sd.toLowerCase(),m1="Konqueror",Vr="(\\d+(\\.\\d+)?)",Ov=new RegExp("Version/"+Vr),C$=new RegExp(Ol,"i"),A$=new RegExp(ld+" \\w+","i"),N$=new RegExp(od+" \\w+","i"),hx=new RegExp(Ll+"|PlayBook|BB10","i"),O$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},P$=(e,t)=>t&&it(t,hI)||(function(r){return it(r,ad)&&!it(r,wo)&&!it(r,zi)})(e),TI=function(e,t){return t=t||"",it(e," OPR/")&&it(e,"Mini")?T$:it(e," OPR/")?cx:hx.test(e)?Ll:it(e,"IE"+ei)||it(e,"WPDesktop")?yI:it(e,mI)?gI:it(e,dx)||it(e,"Edg/")?bI:it(e,"FBIOS")?"Facebook "+ei:it(e,"UCWEB")||it(e,"UCBrowser")?"UC Browser":it(e,"CriOS")?vI:it(e,"CrMo")||it(e,wo)?wo:it(e,zi)&&it(e,ad)?xI:it(e,"FxiOS")?_I:it(e.toLowerCase(),m1.toLowerCase())?m1:P$(e,t)?it(e,ei)?wI:ad:it(e,Nl)?Nl:it(e,"MSIE")||it(e,"Trident/")?ux:it(e,"Gecko")?Nl:""},j$={[yI]:[new RegExp("rv:"+Vr)],[bI]:[new RegExp(dx+"?\\/"+Vr)],[wo]:[new RegExp("("+wo+"|CrMo)\\/"+Vr)],[vI]:[new RegExp("CriOS\\/"+Vr)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Vr)],[ad]:[Ov],[wI]:[Ov],[cx]:[new RegExp("(Opera|OPR)\\/"+Vr)],[Nl]:[new RegExp(Nl+"\\/"+Vr)],[_I]:[new RegExp("FxiOS\\/"+Vr)],[m1]:[new RegExp("Konqueror[:/]?"+Vr,"i")],[Ll]:[new RegExp(Ll+" "+Vr),Ov],[xI]:[new RegExp("android\\s"+Vr,"i")],[gI]:[new RegExp(mI+"\\/"+Vr)],[ux]:[new RegExp("(rv:|MSIE )"+Vr)],Mozilla:[new RegExp("rv:"+Vr)]},I$=function(e,t){var r=TI(e,t),n=j$[r];if(ke(n))return null;for(var i=0;i<n.length;i++){var s=n[i],a=e.match(s);if(a)return parseFloat(a[a.length-2])}return null},ZS=[[new RegExp(Ol+"; "+Ol+" (.*?)[);]","i"),e=>[Ol,e&&e[1]||""]],[new RegExp(od,"i"),[od,""]],[new RegExp(ld,"i"),[ld,""]],[hx,[Ll,""]],[new RegExp(Dc,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[f1,""];if(new RegExp(ei).test(t)&&!/IEMobile\b/.test(t))return[Dc+" "+ei,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],i=O$[n]||"";return/arm/i.test(t)&&(i="RT"),[Dc,i]}return[Dc,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Tp,t.join(".")]}return[Tp,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=ke(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+zi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+zi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[zi,t.join(".")]}return[zi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[k$,""]],[/Linux|debian/i,["Linux",""]]],e2=function(e){return N$.test(e)?od:A$.test(e)?ld:C$.test(e)?Ol:new RegExp(p1,"i").test(e)?p1:new RegExp("("+f1+"|WPDesktop)","i").test(e)?f1:/iPad/.test(e)?dI:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?fI:hx.test(e)?Ll:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(JS,"i").test(e)?JS:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(ei).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?zi:cI:zi:new RegExp("(pda|"+ei+")","i").test(e)?S$:new RegExp(sd,"i").test(e)&&!new RegExp(sd+" pc","i").test(e)?kI:""},bf="https?://(.*)",nu=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],R$=ru(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],nu),Pd="<masked>",D$=["li_fat_id"];function SI(e,t,r){if(!Se)return{};var n,i=t?ru([],nu,r||[]):[],s=CI(Od(Se.URL,i,Pd),e),a=(n={},At(D$,(function(o){var u=Vi.q(o);n[o]=u||null})),n);return Gt(a,s)}function CI(e,t){var r=R$.concat(t||[]),n={};return At(r,(function(i){var s=wp(e,i);n[i]=s||null})),n}function AI(e){var t=(function(s){return s?s.search(bf+"google.([^/?]*)")===0?"google":s.search(bf+"bing.com")===0?"bing":s.search(bf+"yahoo.com")===0?"yahoo":s.search(bf+"duckduckgo.com")===0?"duckduckgo":null:null})(e),r=t!="yahoo"?"q":"p",n={};if(!Ps(t)){n.$search_engine=t;var i=Se?wp(Se.referrer,r):"";i.length&&(n.ph_keyword=i)}return n}function t2(){return navigator.language||navigator.userLanguage}function NI(){return(Se==null?void 0:Se.referrer)||"$direct"}function OI(e,t){var r=e?ru([],nu,t||[]):[],n=fn==null?void 0:fn.href.substring(0,1e3);return{r:NI().substring(0,1e3),u:n?Od(n,r,Pd):void 0}}function PI(e){var t,{r,u:n}=e,i={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=xp(r))==null?void 0:t.host};if(n){i.$current_url=n;var s=xp(n);i.$host=s==null?void 0:s.host,i.$pathname=s==null?void 0:s.pathname;var a=CI(n);Gt(i,a)}if(r){var o=AI(r);Gt(i,o)}return i}function jI(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function L$(){try{return new Date().getTimezoneOffset()}catch{return}}function M$(e,t){if(!dn)return{};var r,n,i,s=e?ru([],nu,t||[]):[],[a,o]=(function(u){for(var h=0;h<ZS.length;h++){var[f,p]=ZS[h],v=f.exec(u),g=v&&(xa(p)?p(v,u):p);if(g)return g}return["",""]})(dn);return Gt(sx({$os:a,$os_version:o,$browser:TI(dn,navigator.vendor),$device:e2(dn),$device_type:(n=dn,i=e2(n),i===dI||i===cI||i==="Kobo"||i==="Kindle Fire"||i===kI?sd:i===od||i===Ol||i===ld||i===p1?"Console":i===fI?"Wearable":i?ei:"Desktop"),$timezone:jI(),$timezone_offset:L$()}),{$current_url:Od(fn==null?void 0:fn.href,s,Pd),$host:fn==null?void 0:fn.host,$pathname:fn==null?void 0:fn.pathname,$raw_user_agent:dn.length>1e3?dn.substring(0,997)+"...":dn,$browser_version:I$(dn,navigator.vendor),$browser_language:t2(),$browser_language_prefix:(r=t2(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ae==null?void 0:ae.screen.height,$screen_width:ae==null?void 0:ae.screen.width,$viewport_height:ae==null?void 0:ae.innerHeight,$viewport_width:ae==null?void 0:ae.innerWidth,$lib:"web",$lib_version:cs.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var oa=ar("[Web Vitals]"),r2=9e5;class F${constructor(t){var r;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((n,i)=>Oe({},n,{["$web_vitals_"+i.name+"_event"]:Oe({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var i,s=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(ke(s))oa.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Tt();ke(a)||(_t(n==null?void 0:n.name)||_t(n==null?void 0:n.value)?oa.error("Invalid metric received",n):this.Rt&&n.value>=this.Rt?oa.error("Ignoring metric with value >= "+this.Rt,n):(this.N.url!==a&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),ke(this.N.url)&&(this.N.url=a),this.N.firstMetricTimestamp=ke(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(Oe({},n,{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,i,s,a,o=Qe.__PosthogExtensions__;ke(o)||ke(o.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:i,onFCP:s,onINP:a}=o.postHogWebVitalsCallbacks),n&&i&&s&&a?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Pt.bind(this)),this.P=!0):oa.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Et=!((r=this._instance.persistence)==null||!r.props[BS]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=vr(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return ke(n)?((r=this._instance.persistence)==null?void 0:r.props[$S])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(vr(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var t=vr(this._instance.config.capture_performance)&&Ki(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:r2;return 0<t&&t<=6e4?r2:t}get isEnabled(){var t=fn==null?void 0:fn.protocol;if(t!=="http:"&&t!=="https:")return oa.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=vr(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:wa(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return wa(r)?r:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(oa.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=vr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=vr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[BS]:r}),this._instance.persistence.register({[$S]:n})),this.Et=r,this.startIfEnabled()}it(t){var r,n;(r=Qe.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=Qe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",(i=>{i?oa.error("failed to load script",i):t()}))}Tt(){var t=ae?ae.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,i=r?ru([],nu,n||[]):[];return Od(t,i,Pd)}oa.error("Could not determine current URL")}}var B$=ar("[Heatmaps]");function n2(e){return vr(e)&&"clientX"in e&&"clientY"in e&&Ki(e.clientX)&&Ki(e.clientY)}class $${constructor(t){var r;this.Et=!1,this.P=!1,this.It=null,this.instance=t,this.Et=!((r=this.instance.persistence)==null||!r.props[i1]),this.rageclicks=new sI(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return vr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return ke(this.instance.config.capture_heatmaps)?ke(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;B$.info("starting..."),this.Ft(),this.Ct()}else{var t;clearInterval((t=this.It)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[i1]:r}),this.Et=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ct(){this.It&&clearInterval(this.It),this.It=(function(t){return(t==null?void 0:t.visibilityState)==="visible"})(Se)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){ae&&Se&&(this.jt=this.Dt.bind(this),Jt(ae,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ae==null?void 0:ae.event)),Jt(Se,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ae==null?void 0:ae.event)),Jt(Se,"mousemove",this.Nt,{capture:!0}),this.zt=new oI(this.instance,p$,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),Jt(Se,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ae&&Se&&(this.jt&&ae.removeEventListener("beforeunload",this.jt),this.Lt&&Se.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&Se.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&Se.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=(function(o,u,h){for(var f=o;f&&Dm(f)&&!ka(f,"body");){if(f===h)return!1;if(it(u,ae==null?void 0:ae.getComputedStyle(f).position))return!0;f=Jj(f)}return!1})(Xj(t),["fixed","sticky"],s);return{x:t.clientX+(a?0:i),y:t.clientY+(a?0:n),target_fixed:a,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!US(t.target)&&n2(t)){var i=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(Oe({},i,{type:"rageclick"})),this.Wt(i)}}Ut(t){!US(t.target)&&n2(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,"mousemove"))}),500))}Wt(t){if(ae){var r=ae.location.href,n=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,s=n?ru([],nu,i||[]):[],a=Od(r,s,Pd);this.N=this.N||{},this.N[a]||(this.N[a]=[]),this.N[a].push(t)}}Dt(){this.N&&!Tl(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class U${constructor(t){this._instance=t}doPageView(t,r){var n,i=this.Gt(t,r);return this.Vt={pathname:(n=ae==null?void 0:ae.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var i={$pageview_id:r,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:o,maxScrollY:u,maxContentHeight:h,lastContentY:f,maxContentY:p}=s;if(!(ke(a)||ke(o)||ke(u)||ke(h)||ke(f)||ke(p))){a=Math.ceil(a),o=Math.ceil(o),u=Math.ceil(u),h=Math.ceil(h),f=Math.ceil(f),p=Math.ceil(p);var v=a<=1?1:Hi(o/a,0,1,Ce),g=a<=1?1:Hi(u/a,0,1,Ce),b=h<=1?1:Hi(f/h,0,1,Ce),x=h<=1?1:Hi(p/h,0,1,Ce);i=Gt(i,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:u,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:f,$prev_pageview_last_content_percentage:b,$prev_pageview_max_content:p,$prev_pageview_max_content_percentage:x})}}return n.pathname&&(i.$prev_pageview_pathname=n.pathname),n.timestamp&&(i.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),i}}var ti=Uint8Array,mn=Uint16Array,Ml=Uint32Array,fx=new ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),px=new ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i2=new ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),II=function(e,t){for(var r=new mn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Ml(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return[r,i]},RI=II(fx,2),H$=RI[0],g1=RI[1];H$[28]=258,g1[258]=28;for(var s2=II(px,0)[1],DI=new mn(32768),jt=0;jt<32768;++jt){var Ja=(43690&jt)>>>1|(21845&jt)<<1;Ja=(61680&(Ja=(52428&Ja)>>>2|(13107&Ja)<<2))>>>4|(3855&Ja)<<4,DI[jt]=((65280&Ja)>>>8|(255&Ja)<<8)>>>1}var Hc=function(e,t,r){for(var n=e.length,i=0,s=new mn(t);i<n;++i)++s[e[i]-1];var a,o=new mn(t);for(i=0;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;for(a=new mn(n),i=0;i<n;++i)a[i]=DI[o[e[i]-1]++]>>>15-e[i];return a},Eo=new ti(288);for(jt=0;jt<144;++jt)Eo[jt]=8;for(jt=144;jt<256;++jt)Eo[jt]=9;for(jt=256;jt<280;++jt)Eo[jt]=7;for(jt=280;jt<288;++jt)Eo[jt]=8;var Sp=new ti(32);for(jt=0;jt<32;++jt)Sp[jt]=5;var z$=Hc(Eo,9),W$=Hc(Sp,5),LI=function(e){return(e/8>>0)+(7&e&&1)},MI=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof mn?mn:e instanceof Ml?Ml:ti)(r-t);return n.set(e.subarray(t,r)),n},us=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},dc=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Pv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return[new ti(0),0];if(i==1){var a=new ti(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort((function(P,O){return P.f-O.f})),r.push({s:-1,f:25001});var o=r[0],u=r[1],h=0,f=1,p=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};f!=i-1;)o=r[r[h].f<r[p].f?h++:p++],u=r[h!=f&&r[h].f<r[p].f?h++:p++],r[f++]={s:-1,f:o.f+u.f,l:o,r:u};var v=s[0].s;for(n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var g=new mn(v+1),b=v1(r[f-1],g,0);if(b>t){n=0;var x=0,_=b-t,w=1<<_;for(s.sort((function(P,O){return g[O.s]-g[P.s]||P.f-O.f}));n<i;++n){var A=s[n].s;if(!(g[A]>t))break;x+=w-(1<<b-g[A]),g[A]=t}for(x>>>=_;x>0;){var S=s[n].s;g[S]<t?x-=1<<t-g[S]++-1:++n}for(;n>=0&&x;--n){var N=s[n].s;g[N]==t&&(--g[N],++x)}b=t}return[new ti(g),b]},v1=function(e,t,r){return e.s==-1?Math.max(v1(e.l,t,r+1),v1(e.r,t,r+1)):t[e.s]=r},a2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new mn(++t),n=0,i=e[0],s=1,a=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return[r.subarray(0,n),t]},hc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},y1=function(e,t,r){var n=r.length,i=LI(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},o2=function(e,t,r,n,i,s,a,o,u,h,f){us(t,f++,r),++i[256];for(var p=Pv(i,15),v=p[0],g=p[1],b=Pv(s,15),x=b[0],_=b[1],w=a2(v),A=w[0],S=w[1],N=a2(x),P=N[0],O=N[1],j=new mn(19),D=0;D<A.length;++D)j[31&A[D]]++;for(D=0;D<P.length;++D)j[31&P[D]]++;for(var B=Pv(j,7),R=B[0],F=B[1],H=19;H>4&&!R[i2[H-1]];--H);var Y,V,K,Z,oe=h+5<<3,te=hc(i,Eo)+hc(s,Sp)+a,ce=hc(i,v)+hc(s,x)+a+14+3*H+hc(j,R)+(2*j[16]+3*j[17]+7*j[18]);if(oe<=te&&oe<=ce)return y1(t,f,e.subarray(u,u+h));if(us(t,f,1+(ce<te)),f+=2,ce<te){Y=Hc(v,g),V=v,K=Hc(x,_),Z=x;var L=Hc(R,F);for(us(t,f,S-257),us(t,f+5,O-1),us(t,f+10,H-4),f+=14,D=0;D<H;++D)us(t,f+3*D,R[i2[D]]);f+=3*H;for(var q=[A,P],re=0;re<2;++re){var $=q[re];for(D=0;D<$.length;++D){var de=31&$[D];us(t,f,L[de]),f+=R[de],de>15&&(us(t,f,$[D]>>>5&127),f+=$[D]>>>12)}}}else Y=z$,V=Eo,K=W$,Z=Sp;for(D=0;D<o;++D)if(n[D]>255){de=n[D]>>>18&31,dc(t,f,Y[de+257]),f+=V[de+257],de>7&&(us(t,f,n[D]>>>23&31),f+=fx[de]);var we=31&n[D];dc(t,f,K[we]),f+=Z[we],we>3&&(dc(t,f,n[D]>>>5&8191),f+=px[we])}else dc(t,f,Y[n[D]]),f+=V[n[D]];return dc(t,f,Y[256]),f+V[256]},q$=new Ml([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V$=(function(){for(var e=new Ml(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e})(),G$=function(e,t,r,n,i){return(function(s,a,o,u,h,f){var p=s.length,v=new ti(u+p+5*(1+Math.floor(p/7e3))+h),g=v.subarray(u,v.length-h),b=0;if(!a||p<8)for(var x=0;x<=p;x+=65535){var _=x+65535;_<p?b=y1(g,b,s.subarray(x,_)):(g[x]=f,b=y1(g,b,s.subarray(x,p)))}else{for(var w=q$[a-1],A=w>>>13,S=8191&w,N=(1<<o)-1,P=new mn(32768),O=new mn(N+1),j=Math.ceil(o/3),D=2*j,B=function(zt){return(s[zt]^s[zt+1]<<j^s[zt+2]<<D)&N},R=new Ml(25e3),F=new mn(288),H=new mn(32),Y=0,V=0,K=(x=0,0),Z=0,oe=0;x<p;++x){var te=B(x),ce=32767&x,L=O[te];if(P[ce]=L,O[te]=ce,Z<=x){var q=p-x;if((Y>7e3||K>24576)&&q>423){b=o2(s,g,0,R,F,H,V,K,oe,x-oe,b),K=Y=V=0,oe=x;for(var re=0;re<286;++re)F[re]=0;for(re=0;re<30;++re)H[re]=0}var $=2,de=0,we=S,_e=ce-L&32767;if(q>2&&te==B(x-_e))for(var Le=Math.min(A,q)-1,qe=Math.min(32767,x),ie=Math.min(258,q);_e<=qe&&--we&&ce!=L;){if(s[x+$]==s[x+$-_e]){for(var Ee=0;Ee<ie&&s[x+Ee]==s[x+Ee-_e];++Ee);if(Ee>$){if($=Ee,de=_e,Ee>Le)break;var Ke=Math.min(_e,Ee-2),pe=0;for(re=0;re<Ke;++re){var yt=x-_e+re+32768&32767,Te=yt-P[yt]+32768&32767;Te>pe&&(pe=Te,L=yt)}}}_e+=(ce=L)-(L=P[ce])+32768&32767}if(de){R[K++]=268435456|g1[$]<<18|s2[de];var Ze=31&g1[$],ft=31&s2[de];V+=fx[Ze]+px[ft],++F[257+Ze],++H[ft],Z=x+$,++Y}else R[K++]=s[x],++F[s[x]]}}b=o2(s,g,f,R,F,H,V,K,oe,x-oe,b)}return MI(v,0,u+LI(b)+h)})(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},jv=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function Y$(e,t){t===void 0&&(t={});var r=(function(){var o=4294967295;return{p:function(u){for(var h=o,f=0;f<u.length;++f)h=V$[255&h^u[f]]^h>>>8;o=h},d:function(){return 4294967295^o}}})(),n=e.length;r.p(e);var i,s=G$(e,t,10+((i=t).filename&&i.filename.length+1||0),8),a=s.length;return(function(o,u){var h=u.filename;if(o[0]=31,o[1]=139,o[2]=8,o[8]=u.level<2?4:u.level==9?2:0,o[9]=3,u.mtime!=0&&jv(o,4,Math.floor(new Date(u.mtime||Date.now())/1e3)),h){o[3]=8;for(var f=0;f<=h.length;++f)o[f+10]=h.charCodeAt(f)}})(s,t),jv(s,a-8,r.d()),jv(s,a-4,n),s}var K$=function(e){var t,r,n,i,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<n;i++){var a=e.charCodeAt(i),o=null;a<128?r++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Ps(o)||(r>t&&(s+=e.substring(t,r)),s+=o,t=r=i+1)}return r>t&&(s+=e.substring(t,e.length)),s},X$=!!Zb||!!Jb,l2="text/plain",Cp=function(e,t,r){var n;r===void 0&&(r=!0);var[i,s]=e.split("?"),a=Oe({},t),o=(n=s==null?void 0:s.split("&").map((h=>{var f,[p,v]=h.split("="),g=r&&(f=a[p])!==null&&f!==void 0?f:v;return delete a[p],p+"="+g})))!==null&&n!==void 0?n:[],u=t$(a);return u&&o.push(u),i+"?"+o.join("&")},Lc=(e,t)=>JSON.stringify(e,((r,n)=>typeof n=="bigint"?n.toString():n),t),Iv=e=>{var{data:t,compression:r}=e;if(t){if(r===ps.GZipJS){var n=Y$((function(u,h){var f=u.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(u);for(var p=new ti(u.length+(u.length>>>1)),v=0,g=function(w){p[v++]=w},b=0;b<f;++b){if(v+5>p.length){var x=new ti(v+8+(f-b<<1));x.set(p),p=x}var _=u.charCodeAt(b);_<128||h?g(_):_<2048?(g(192|_>>>6),g(128|63&_)):_>55295&&_<57344?(g(240|(_=65536+(1047552&_)|1023&u.charCodeAt(++b))>>>18),g(128|_>>>12&63),g(128|_>>>6&63),g(128|63&_)):(g(224|_>>>12),g(128|_>>>6&63),g(128|63&_))}return MI(p,0,v)})(Lc(t)),{mtime:0}),i=new Blob([n],{type:l2});return{contentType:l2,body:i,estimatedSize:i.size}}if(r===ps.Base64){var s=(function(u){var h,f,p,v,g,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=0,_=0,w="",A=[];if(!u)return u;u=K$(u);do h=(g=u.charCodeAt(x++)<<16|u.charCodeAt(x++)<<8|u.charCodeAt(x++))>>18&63,f=g>>12&63,p=g>>6&63,v=63&g,A[_++]=b.charAt(h)+b.charAt(f)+b.charAt(p)+b.charAt(v);while(x<u.length);switch(w=A.join(""),u.length%3){case 1:w=w.slice(0,-2)+"==";break;case 2:w=w.slice(0,-1)+"="}return w})(Lc(t)),a=(u=>"data="+encodeURIComponent(typeof u=="string"?u:Lc(u)))(s);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var o=Lc(t);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},ip=[];Jb&&ip.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:i,estimatedSize:s}=(t=Iv(e))!==null&&t!==void 0?t:{},a=new Headers;At(e.headers,(function(f,p){a.append(p,f)})),n&&a.append("Content-Type",n);var o=e.url,u=null;if(CS){var h=new CS;u={signal:h.signal,timeout:setTimeout((()=>h.abort()),e.timeout)}}Jb(o,Oe({method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(r=u)==null?void 0:r.signal},e.fetchOptions)).then((f=>f.text().then((p=>{var v={statusCode:f.status,text:p};if(f.status===200)try{v.json=JSON.parse(p)}catch(g){Ce.error(g)}e.callback==null||e.callback(v)})))).catch((f=>{Ce.error(f),e.callback==null||e.callback({statusCode:0,text:f})})).finally((()=>u?clearTimeout(u.timeout):null))}}),Zb&&ip.push({transport:"XHR",method:e=>{var t,r=new Zb;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:i}=(t=Iv(e))!==null&&t!==void 0?t:{};At(e.headers,(function(s,a){r.setRequestHeader(a,s)})),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var s={statusCode:r.status,text:r.responseText};if(r.status===200)try{s.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(s)}},r.send(i)}}),jn!=null&&jn.sendBeacon&&ip.push({transport:"sendBeacon",method:e=>{var t=Cp(e.url,{beacon:"1"});try{var r,{contentType:n,body:i}=(r=Iv(e))!==null&&r!==void 0?r:{},s=typeof i=="string"?new Blob([i],{type:n}):i;jn.sendBeacon(t,s)}catch{}}});var Ap=function(e,t){if(!(function(r){try{new RegExp(r)}catch{return!1}return!0})(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function u2(e,t,r){return Lc({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var FI={exact:(e,t)=>t.some((r=>e.some((n=>r===n)))),is_not:(e,t)=>t.every((r=>e.every((n=>r!==n)))),regex:(e,t)=>t.some((r=>e.some((n=>Ap(r,n))))),not_regex:(e,t)=>t.every((r=>e.every((n=>!Ap(r,n))))),icontains:(e,t)=>t.map(_f).some((r=>e.map(_f).some((n=>r.includes(n))))),not_icontains:(e,t)=>t.map(_f).every((r=>e.map(_f).every((n=>!r.includes(n)))))},_f=e=>e.toLowerCase();function BI(e,t){return!e||Object.entries(e).every((r=>{var[n,i]=r,s=t==null?void 0:t[n];if(ke(s)||Ps(s))return!1;var a=[String(s)],o=FI[i.operator];return!!o&&o(i.values,a)}))}var Rv=ar("[Error tracking]");class Q${constructor(t){var r,n;this.Jt=[],this.Kt=new x9([new O9,new B9,new j9,new P9,new M9,new L9,new R9,new F9],N9("web:javascript",T9,A9)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(s1))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,i,s=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],a=(i=t.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[s1]:this.Jt,[FS]:a})}get Yt(){var t,r=!!this._instance.get_property(FS),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void Rv.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void Rv.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void Rv.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce(((n,i)=>{var{type:s,value:a}=i;return sr(s)&&s.length>0&&n.$exception_types.push(s),sr(a)&&a.length>0&&n.$exception_values.push(a),n}),{$exception_types:[],$exception_values:[]});return this.Jt.some((n=>{var i=n.values.map((s=>{var a,o=FI[s.operator],u=xt(s.value)?s.value:[s.value],h=(a=r[s.key])!==null&&a!==void 0?a:[];return u.length>0&&o(u,h)}));return n.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(t){return t.flatMap((r=>{var n,i;return(n=(i=r.stacktrace)==null?void 0:i.frames)!==null&&n!==void 0?n:[]})).some((r=>r.filename&&r.filename.startsWith("chrome-extension://")))}ti(t){if(t.length>0){var r,n,i,s,a=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],o=a[a.length-1];return(i=o==null||(s=o.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(t){return!_t(t)&&xt(t)}}var yi=ar("[FeatureFlags]"),fc=ar("[FeatureFlags]",{debugEnabled:!0}),Dv="$active_feature_flags",ll="$override_feature_flags",c2="$feature_flag_payloads",pc="$override_feature_flag_payloads",d2="$feature_flag_request_id",h2="$feature_flag_evaluated_at",f2=e=>{var t={};for(var[r,n]of np(e||{}))n&&(t[r]=n);return t},J$=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((r=>t[r].enabled)).filter((r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload})).map((r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]})))):yi.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},Z$=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class eU{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter((r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||yi.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.vi({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(a1),r=this._instance.get_property(ll),n=this._instance.get_property(pc);if(!n&&!r)return t||{};var i=Gt({},t||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var a of s){var o,u,h=i[a],f=r==null?void 0:r[a],p=ke(f)?(o=h==null?void 0:h.enabled)!==null&&o!==void 0&&o:!!f,v=ke(f)?h.variant:typeof f=="string"?f:void 0,g=n==null?void 0:n[a],b=Oe({},h,{enabled:p,variant:p?v??(h==null?void 0:h.variant):void 0});p!==(h==null?void 0:h.enabled)&&(b.original_enabled=h==null?void 0:h.enabled),v!==(h==null?void 0:h.variant)&&(b.original_variant=h==null?void 0:h.variant),g&&(b.metadata=Oe({},h==null?void 0:h.metadata,{payload:g,original_payload:h==null||(u=h.metadata)==null?void 0:u.payload})),i[a]=b}return this.ii||(yi.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var t=this._instance.get_property(Sl),r=this._instance.get_property(ll);if(!r)return t||{};for(var n=Gt({},t),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(yi.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(c2),r=this._instance.get_property(pc);if(!r)return t||{};for(var n=Gt({},t||{}),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(yi.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.vi()}),5))}di(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}vi(t){var r;if(this.di(),!this._instance.O())if(this.ri)this.ni=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Oe({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Rc)||{}),group_properties:this._instance.get_property(no)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0),this.ui()&&(n.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,s=i?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",o=this._instance.requestRouter.endpointFor("flags",s+a);i&&(n.timezone=jI()),this.ri=!0,this._instance.ci({method:"POST",url:o,data:n,compression:this._instance.config.disable_compression?void 0:ps.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var h,f,p=!0;if(u.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),p=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((f=u.json)!==null&&f!==void 0?f:{})),!n.disable_flags||this.ni)if(this.ai=!p,u.json&&(h=u.json.quotaLimited)!=null&&h.includes(Z$.FeatureFlags))yi.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;n.disable_flags||this.receivedFeatureFlags((v=u.json)!==null&&v!==void 0?v:{},p),this.ni&&(this.ni=!1,this.vi())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],i=""+n,s=this._instance.get_property(d2)||void 0,a=this._instance.get_property(h2)||void 0,o=this._instance.get_property(vp)||{};if((r.send_event||!("send_event"in r))&&(!(t in o)||!o[t].includes(i))){var u,h,f,p,v,g,b,x,_;xt(o[t])?o[t].push(i):o[t]=[i],(u=this._instance.persistence)==null||u.register({[vp]:o});var w=this.getFeatureFlagDetails(t),A={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_evaluated_at:a,$feature_flag_bootstrapped_response:((h=this._instance.config.bootstrap)==null||(h=h.featureFlags)==null?void 0:h[t])||null,$feature_flag_bootstrapped_payload:((f=this._instance.config.bootstrap)==null||(f=f.featureFlagPayloads)==null?void 0:f[t])||null,$used_bootstrap_value:!this.ai};ke(w==null||(p=w.metadata)==null?void 0:p.version)||(A.$feature_flag_version=w.metadata.version);var S,N=(v=w==null||(g=w.reason)==null?void 0:g.description)!==null&&v!==void 0?v:w==null||(b=w.reason)==null?void 0:b.code;N&&(A.$feature_flag_reason=N),w!=null&&(x=w.metadata)!=null&&x.id&&(A.$feature_flag_id=w.metadata.id),ke(w==null?void 0:w.original_variant)&&ke(w==null?void 0:w.original_enabled)||(A.$feature_flag_original_response=ke(w.original_variant)?w.original_enabled:w.original_variant),w!=null&&(_=w.metadata)!=null&&_.original_payload&&(A.$feature_flag_original_payload=w==null||(S=w.metadata)==null?void 0:S.original_payload),this._instance.capture("$feature_flag_called",A)}return n}yi.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:ps.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var a,o=(a=s.json)==null?void 0:a.featureFlagPayloads;r((o==null?void 0:o[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return ke(n)?void 0:!!n}yi.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((r=>r!==t))}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),i=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(a,o,u,h,f){u===void 0&&(u={}),h===void 0&&(h={}),f===void 0&&(f={});var p=J$(a),v=p.flags,g=p.featureFlags,b=p.featureFlagPayloads;if(g){var x=a.requestId,_=a.evaluatedAt;if(xt(g)){yi.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(g)for(var A=0;A<g.length;A++)w[g[A]]=!0;o&&o.register({[Dv]:g,[Sl]:w})}else{var S=g,N=b,P=v;a.errorsWhileComputingFlags&&(S=Oe({},u,S),N=Oe({},h,N),P=Oe({},f,P)),o&&o.register(Oe({[Dv]:Object.keys(f2(S)),[Sl]:S||{},[c2]:N||{},[a1]:P||{}},x?{[d2]:x}:{},_?{[h2]:_}:{}))}}})(t,this._instance.persistence,n,i,s),this.pi(r)}}override(t,r){r===void 0&&(r=!1),yi.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return yi.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(ll),this._instance.persistence.unregister(pc),this.pi(),fc.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(ll),fc.info("Flag overrides cleared");else if(n.flags){if(xt(n.flags)){for(var i={},s=0;s<n.flags.length;s++)i[n.flags[s]]=!0;this._instance.persistence.register({[ll]:i})}else this._instance.persistence.register({[ll]:n.flags});fc.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(pc),fc.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[pc]:n.payloads}),fc.info("Payload overrides set",{payloads:n.payloads}))),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.gi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var i,s=(this._instance.get_property(Ic)||[]).find((h=>h.flagKey===t)),a={["$feature_enrollment/"+t]:r},o={$feature_flag:t,$feature_enrollment:r,$set:a};s&&(o.$early_access_feature_name=s.name),n&&(o.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",o),this.setPersonPropertiesForFlags(a,!1);var u=Oe({},this.getFlagVariants(),{[t]:r});(i=this._instance.persistence)==null||i.register({[Dv]:Object.keys(f2(u)),[Sl]:u}),this.pi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var i=this._instance.get_property(Ic),s=n?"&"+n.map((a=>"stage="+a)).join("&"):"";if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:a=>{var o,u;if(a.json){var h=a.json.earlyAccessFeatures;return(o=this._instance.persistence)==null||o.unregister(Ic),(u=this._instance.persistence)==null||u.register({[Ic]:h}),t(h)}}})}gi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter((n=>r[n])),flagVariants:Object.keys(r).filter((n=>r[n])).reduce(((n,i)=>(n[i]=r[i],n)),{})}}pi(t){var{flags:r,flagVariants:n}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(r,n,{errorsLoading:t})))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Rc)||{};this._instance.register({[Rc]:Oe({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Rc)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(no)||{};Object.keys(n).length!==0&&Object.keys(n).forEach((i=>{n[i]=Oe({},n[i],t[i]),delete t[i]})),this._instance.register({[no]:Oe({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(no)||{};this._instance.register({[no]:Oe({},r,{[t]:{}})})}else this._instance.unregister(no)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.di(),this.ii=!1}}var tU=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Lv{constructor(t,r){this.F=t,this.props={},this.mi=!1,this.yi=(n=>{var i="";return n.token&&(i=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+i+"_posthog"})(t),this.Y=this.bi(t),this.load(),t.debug&&Ce.info("Persistence loaded",t.persistence,Oe({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.wi}bi(t){tU.indexOf(t.persistence.toLowerCase())===-1&&(Ce.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Ut.H()?Ut:r==="localstorage+cookie"&&gf.H()?gf:r==="sessionstorage"&&Cr.H()?Cr:r==="memory"?h$:r==="cookie"?Vi:gf.H()?gf:Vi}properties(){var t={};return At(this.props,(function(r,n){if(n===Sl&&vr(r))for(var i=Object.keys(r),s=0;s<i.length;s++)t["$feature/"+i[s]]=r[i[s]];else o=n,u=!1,(Ps(a=q9)?u:SS&&a.indexOf===SS?a.indexOf(o)!=-1:(At(a,(function(h){if(u||(u=h===o))return mp})),u))||(t[n]=r);var a,o,u})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Gt({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.Si,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(vr(t)){ke(r)&&(r="None"),this.xi=ke(n)?this.$i:n;var i=!1;if(At(t,((s,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==r||(this.props[a]=s,i=!0)})),i)return this.save(),!0}return!1}register(t,r){if(vr(t)){this.xi=ke(r)?this.$i:r;var n=!1;if(At(t,((i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,n=!0)})),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=SI(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);Tl(sx(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=Se==null?void 0:Se.referrer)?AI(t):{})}update_referrer_info(){var t;this.register_once({$referrer:NI(),$referring_domain:Se!=null&&Se.referrer&&((t=xp(Se.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[c1]||this.props[d1]||this.register_once({[yp]:OI(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};At([d1,c1],(a=>{var o=this.props[a];o&&At(o,(function(u,h){t["$initial_"+e1(h)]=u}))}));var r,n,i=this.props[yp];if(i){var s=(r=PI(i),n={},At(r,(function(a,o){n["$initial_"+e1(o)]=a})),n);Gt(t,s)}return t}safe_merge(t){return At(this.props,(function(r,n){n in t||(t[n]=r)})),t}update_config(t,r,n){if(this.$i=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var i=this.bi(t),s=this.props;this.clear(),this.Y=i,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[jc]||{};n[t]=r,this.props[jc]=n,this.save()}remove_event_timer(t){var r=(this.props[jc]||{})[t];return ke(r)||(delete this.props[jc][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var mc=(function(e){return e.Activation="events",e.Cancellation="cancelEvents",e})({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var Mv=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var sp=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),p2=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),$I=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class mx{constructor(){this.ki={},this.ki={}}on(t,r){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(r),()=>{this.ki[t]=this.ki[t].filter((n=>n!==r))}}emit(t,r){for(var n of this.ki[t]||[])n(r);for(var i of this.ki["*"]||[])i(t,r)}}function ul(e,t,r){if(_t(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class rU{constructor(t){this.Pi=new mx,this.Ti=(r,n)=>this.Ri(r,n)&&this.Ii(r,n)&&this.Fi(r,n)&&this.Ci(r,n),this.Ri=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.Mi=new Set,this.Oi=new Set}init(){var t;if(!ke((t=this._instance)==null?void 0:t.Ai)){var r;(r=this._instance)==null||r.Ai(((n,i)=>{this.on(n,i)}))}}register(t){var r,n;if(!ke((r=this._instance)==null?void 0:r.Ai)&&(t.forEach((a=>{var o,u;(o=this.Oi)==null||o.add(a),(u=a.steps)==null||u.forEach((h=>{var f;(f=this.Mi)==null||f.add((h==null?void 0:h.event)||"")}))})),(n=this._instance)!=null&&n.autocapture)){var i,s=new Set;t.forEach((a=>{var o;(o=a.steps)==null||o.forEach((u=>{u!=null&&u.selector&&s.add(u==null?void 0:u.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(s)}}on(t,r){var n;r!=null&&t.length!=0&&(this.Mi.has(t)||this.Mi.has(r==null?void 0:r.event))&&this.Oi&&((n=this.Oi)==null?void 0:n.size)>0&&this.Oi.forEach((i=>{this.Di(r,i)&&this.Pi.emit("actionCaptured",i.name)}))}ji(t){this.onAction("actionCaptured",(r=>t(r)))}Di(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Ti(t,n))return!0;return!1}onAction(t,r){return this.Pi.on(t,r)}Ii(t,r){if(r!=null&&r.url){var n,i=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!i||typeof i!="string"||!ul(i,r.url,r.url_matching||"contains"))return!1}return!0}Fi(t,r){return!!this.Li(t,r)&&!!this.Ni(t,r)&&!!this.Ui(t,r)}Li(t,r){var n;if(r==null||!r.href)return!0;var i=this.zi(t);if(i.length>0)return i.some((o=>ul(o.href,r.href,r.href_matching||"exact")));var s,a=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!a&&ul((s=a.match(/(?::|")href="(.*?)"/))?s[1]:"",r.href,r.href_matching||"exact")}Ni(t,r){var n;if(r==null||!r.text)return!0;var i=this.zi(t);if(i.length>0)return i.some((h=>ul(h.text,r.text,r.text_matching||"exact")||ul(h.$el_text,r.text,r.text_matching||"exact")));var s,a,o,u=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!u&&(s=(function(h){for(var f,p=[],v=/(?::|")text="(.*?)"/g;!_t(f=v.exec(h));)p.includes(f[1])||p.push(f[1]);return p})(u),a=r.text,o=r.text_matching||"exact",s.some((h=>ul(h,a,o))))}Ui(t,r){var n,i;if(r==null||!r.selector)return!0;var s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(s!=null&&s.includes(r.selector))return!0;var a=(t==null||(i=t.properties)==null?void 0:i.$elements_chain)||"";if(r.selector_regex&&a)try{return new RegExp(r.selector_regex).test(a)}catch{return!1}return!1}zi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Ci(t,r){return r==null||!r.properties||r.properties.length===0||BI(r.properties.reduce(((n,i)=>{var s=xt(i.value)?i.value.map(String):i.value!=null?[String(i.value)]:[];return n[i.key]={values:s,operator:i.operator||"exact"},n}),{}),t==null?void 0:t.properties)}}var mt=ar("[Surveys]"),b1="seenSurvey_",nU=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},m2=e=>{var t=""+b1+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+b1+e.id+"_"+e.current_iteration),t},iU=[Mv.Popover,Mv.Widget,Mv.API],sU={ignoreConditions:!1,ignoreDelay:!1,displayType:$I.Popover};let aU=class{constructor(t){this._instance=t,this.Hi=new Map,this.Bi=new Map,this.qi=new Map}Wi(t,r){return!!t&&BI(t.propertyFilters,r==null?void 0:r.properties)}Gi(t,r){var n=new Map;return t.forEach((i=>{var s;(s=i.conditions)==null||(s=s[r])==null||(s=s.values)==null||s.forEach((a=>{if(a!=null&&a.name){var o=n.get(a.name)||[];o.push(i.id),n.set(a.name,o)}}))})),n}Vi(t,r,n){var i,s=(n===mc.Activation?this.Hi:this.Bi).get(t),a=[];return(i=this._instance)==null||i.getSurveys((o=>{a=o.filter((u=>s==null?void 0:s.includes(u.id)))})),a.filter((o=>{var u,h=(u=o.conditions)==null||(u=u[n])==null||(u=u.values)==null?void 0:u.find((f=>f.name===t));return this.Wi(h,r)}))}register(t){var r;ke((r=this._instance)==null?void 0:r.Ai)||(this.Ji(t),this.Ki(t))}Ki(t){var r=t.filter((n=>{var i,s;return((i=n.conditions)==null?void 0:i.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0}));r.length!==0&&(this.Yi==null&&(this.Yi=new rU(this._instance),this.Yi.init(),this.Yi.ji((n=>{this.onAction(n)}))),r.forEach((n=>{var i,s,a,o,u;n.conditions&&(i=n.conditions)!=null&&i.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0&&((o=this.Yi)==null||o.register(n.conditions.actions.values),(u=n.conditions)==null||(u=u.actions)==null||(u=u.values)==null||u.forEach((h=>{if(h&&h.name){var f=this.qi.get(h.name);f&&f.push(n.id),this.qi.set(h.name,f||[n.id])}})))})))}Ji(t){var r,n=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.events)&&((o=s.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0})),i=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.cancelEvents)&&((o=s.conditions)==null||(o=o.cancelEvents)==null||(o=o.values)==null?void 0:o.length)>0}));(n.length!==0||i.length!==0)&&((r=this._instance)==null||r.Ai(((s,a)=>{this.onEvent(s,a)})),this.Hi=this.Gi(t,mc.Activation),this.Bi=this.Gi(t,mc.Cancellation))}onEvent(t,r){var n,i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[mf])||[];if(sp.SHOWN===t&&r&&i.length>0){var s;mt.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:i});var a=r==null||(s=r.properties)==null?void 0:s.$survey_id;if(a){var o=i.indexOf(a);o>=0&&(i.splice(o,1),this.Xi(i))}}else{if(this.Bi.has(t)){var u=this.Vi(t,r,mc.Cancellation);u.length>0&&(mt.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:u.map((f=>f.id))}),u.forEach((f=>{var p,v=i.indexOf(f.id);v>=0&&i.splice(v,1),(p=this._instance)==null||p.cancelPendingSurvey(f.id)})),this.Xi(i))}if(this.Hi.has(t)){mt.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Hi.get(t)});var h=this.Vi(t,r,mc.Activation);this.Xi(i.concat(h.map((f=>f.id))||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[mf])||[];this.qi.has(t)&&this.Xi(n.concat(this.qi.get(t)||[]))}Xi(t){var r;mt.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[mf]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[mf];return r||[]}getEventToSurveys(){return this.Hi}Qi(){return this.Yi}};class oU{constructor(t){this.Zi=void 0,this._surveyManager=null,this.te=!1,this.ie=!1,this.ee=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(_t(r))return mt.warn("Flags not loaded yet. Not loading surveys.");var n=xt(r);this.Zi=n?r.length>0:r,mt.info("flags response received, isSurveysEnabled: "+this.Zi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(b1)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.ie)mt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)mt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())mt.info("Not loading surveys in cookieless mode without consent.");else{var t=Qe==null?void 0:Qe.__PosthogExtensions__;if(t){if(!ke(this.Zi)||this._instance.config.advanced_enable_surveys){var r=this.Zi||this._instance.config.advanced_enable_surveys;this.ie=!0;try{var n=t.generateSurveys;if(n)return void this.re(n,r);var i=t.loadExternalDependency;if(!i)return void this.se("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(s=>{s||!t.generateSurveys?this.se("Could not load surveys script",s):this.re(t.generateSurveys,r)}))}catch(s){throw this.se("Error initializing surveys",s),s}finally{this.ie=!1}}}else mt.error("PostHog Extensions not found.")}}re(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new aU(this._instance),mt.info("Surveys loaded successfully"),this.ne({isLoaded:!0})}se(t,r){mt.error(t,r),this.ne({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.ee.push(t),this._surveyManager&&this.ne({isLoaded:!0}),()=>{this.ee=this.ee.filter((r=>r!==t))}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return mt.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(o1);if(n&&!r)return t(n,{isLoaded:!0});if(this.te)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.te=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var s;this.te=!1;var a=i.statusCode;if(a!==200||!i.json){var o="Surveys API could not be loaded, status: "+a;return mt.error(o),t([],{isLoaded:!1,error:o})}var u,h=i.json.surveys||[],f=h.filter((p=>(function(v){return!(!v.start_date||v.end_date)})(p)&&((function(v){var g;return!((g=v.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)})(p)||(function(v){var g;return!((g=v.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)})(p))));return f.length>0&&((u=this._surveyEventReceiver)==null||u.register(f)),(s=this._instance.persistence)==null||s.register({[o1]:h}),t(h,{isLoaded:!0})}})}catch(i){throw this.te=!1,i}}ne(t){for(var r of this.ee)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){mt.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!_t(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);mt.warn("init was not called")}oe(t){var r=null;return this.getSurveys((n=>{var i;r=(i=n.find((s=>s.id===t)))!==null&&i!==void 0?i:null})),r}ae(t){if(_t(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.oe(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(_t(this._surveyManager))return mt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.ae(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return _t(this._surveyManager)?(mt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((n=>{this.getSurveys((i=>{var s,a=(s=i.find((u=>u.id===t)))!==null&&s!==void 0?s:null;if(a){var o=this.ae(a);n({visible:o.eligible,disabledReason:o.reason})}else n({visible:!1,disabledReason:"Survey not found"})}),r)}))}renderSurvey(t,r){var n;if(_t(this._surveyManager))mt.warn("init was not called");else{var i=typeof t=="string"?this.oe(t):t;if(i!=null&&i.id)if(iU.includes(i.type)){var s=Se==null?void 0:Se.querySelector(r);if(s)return(n=i.appearance)!=null&&n.surveyPopupDelaySeconds?(mt.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var a,o;mt.info("Rendering survey "+i.id+" with delay of "+((a=i.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(o=this._surveyManager)==null||o.renderSurvey(i,s),mt.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,s);mt.warn("Survey element not found")}else mt.warn("Surveys of type "+i.type+" cannot be rendered in the app");else mt.warn("Survey not found")}}displaySurvey(t,r){var n;if(_t(this._surveyManager))mt.warn("init was not called");else{var i=this.oe(t);if(i){var s=i;if((n=i.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(s=Oe({},i,{appearance:Oe({},i.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var a=this.canRenderSurvey(i);if(!a.visible)return void mt.warn("Survey is not eligible to be displayed: ",a.disabledReason)}r.displayType!==$I.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,r.selector)}else mt.warn("Survey not found")}}cancelPendingSurvey(t){_t(this._surveyManager)?mt.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var g2=ar("[RateLimiter]");class lU{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach((a=>{g2.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4}))}catch(a){return void g2.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:s})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,i;t===void 0&&(t=!1);var s=new Date().getTime(),a=(r=(n=this.instance.persistence)==null?void 0:n.get_property(u1))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||t||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(i=this.instance.persistence)==null||i.set_property(u1,a),{isRateLimited:o,remainingTokens:a.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Za=ar("[RemoteConfig]");class uU{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=Qe._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}le(t){var r,n;(r=Qe.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=Qe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",(()=>t(this.remoteConfig))):(Za.error("PostHog Extensions not found. Cannot load remote config."),t())}ue(t){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return Za.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.O())return void Za.warn("Remote config is disabled. Falling back to local config.");this.le((t=>{if(!t)return Za.info("No config found after loading remote JS config. Falling back to JSON."),void this.ue((r=>{this.fi(r)}));this.fi(t)}))}catch(t){Za.error("Error loading remote config",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Za.info("__preview_remote_config is disabled. Logging config instead",t):Za.error("Failed to fetch remote config from PostHog.")}}var _1=3e3;class cU{constructor(t,r){this.he=!0,this.ve=[],this.de=Hi((r==null?void 0:r.flush_interval_ms)||_1,250,5e3,Ce.createLogger("flush interval"),_1),this.ce=t}enqueue(t){this.ve.push(t),this.fe||this.pe()}unload(){this.ge();var t=this.ve.length>0?this._e():{},r=Object.values(t);[...r.filter((n=>n.url.indexOf("/e")===0)),...r.filter((n=>n.url.indexOf("/e")!==0))].map((n=>{this.ce(Oe({},n,{transport:"sendBeacon"}))}))}enable(){this.he=!1,this.pe()}pe(){var t=this;this.he||(this.fe=setTimeout((()=>{if(this.ge(),this.ve.length>0){var r=this._e(),n=function(){var s=r[i],a=new Date().getTime();s.data&&xt(s.data)&&At(s.data,(o=>{o.offset=Math.abs(o.timestamp-a),delete o.timestamp})),t.ce(s)};for(var i in r)n()}}),this.de))}ge(){clearTimeout(this.fe),this.fe=void 0}_e(){var t={};return At(this.ve,(r=>{var n,i=r,s=(i?i.batchKey:null)||i.url;ke(t[s])&&(t[s]=Oe({},i,{data:[]})),(n=t[s].data)==null||n.push(i.data)})),this.ve=[],t}}var dU=["retriesPerformedSoFar"];class hU{constructor(t){this.me=!1,this.ye=3e3,this.ve=[],this._instance=t,this.ve=[],this.be=!0,!ke(ae)&&"onLine"in ae.navigator&&(this.be=ae.navigator.onLine,this.we=()=>{this.be=!0,this.Dt()},this.xe=()=>{this.be=!1},Jt(ae,"online",this.we),Jt(ae,"offline",this.xe))}get length(){return this.ve.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=Dj(t,dU);Ki(r)&&r>0&&(n.url=Cp(n.url,{retry_count:r})),this._instance.ci(Oe({},n,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(r??0)<10?this.Se(Oe({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(i)}}))}Se(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=(function(a){var o=3e3*Math.pow(2,a),u=o/2,h=Math.min(18e5,o),f=(Math.random()-.5)*(h-u);return Math.ceil(h+f)})(r),i=Date.now()+n;this.ve.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),Ce.warn(s),this.me||(this.me=!0,this.Ee())}Ee(){if(this.$e&&clearTimeout(this.$e),this.ve.length===0)return this.me=!1,void(this.$e=void 0);this.$e=setTimeout((()=>{this.be&&this.ve.length>0&&this.Dt(),this.Ee()}),this.ye)}Dt(){var t=Date.now(),r=[],n=this.ve.filter((s=>s.retryAt<t||(r.push(s),!1)));if(this.ve=r,n.length>0)for(var{requestOptions:i}of n)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.$e&&(clearTimeout(this.$e),this.$e=void 0),this.me=!1,ke(ae)||(this.we&&(ae.removeEventListener("online",this.we),this.we=void 0),this.xe&&(ae.removeEventListener("offline",this.xe),this.xe=void 0)),this.ve))try{this._instance.ci(Oe({},t,{transport:"sendBeacon"}))}catch(r){Ce.error(r)}this.ve=[]}}class fU{constructor(t){this.ke=()=>{var r,n,i,s;this.Pe||(this.Pe={});var a=this.scrollElement(),o=this.scrollY(),u=a?Math.max(0,a.scrollHeight-a.clientHeight):0,h=o+((a==null?void 0:a.clientHeight)||0),f=(a==null?void 0:a.scrollHeight)||0;this.Pe.lastScrollY=Math.ceil(o),this.Pe.maxScrollY=Math.max(o,(r=this.Pe.maxScrollY)!==null&&r!==void 0?r:0),this.Pe.maxScrollHeight=Math.max(u,(n=this.Pe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Pe.lastContentY=h,this.Pe.maxContentY=Math.max(h,(i=this.Pe.maxContentY)!==null&&i!==void 0?i:0),this.Pe.maxContentHeight=Math.max(f,(s=this.Pe.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=t}getContext(){return this.Pe}resetContext(){var t=this.Pe;return setTimeout(this.ke,0),t}startMeasuringScrollPosition(){Jt(ae,"scroll",this.ke,{capture:!0}),Jt(ae,"scrollend",this.ke,{capture:!0}),Jt(ae,"resize",this.ke)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ae==null?void 0:ae.document.documentElement;var t=xt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ae==null?void 0:ae.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ae&&(ae.scrollY||ae.pageYOffset||ae.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ae&&(ae.scrollX||ae.pageXOffset||ae.document.documentElement.scrollLeft)||0}}var pU=e=>OI(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class v2{constructor(t,r,n,i){this.Te=s=>{var a=this.Re();if(!a||a.sessionId!==s){var o={sessionId:s,props:this.Ie(this._instance)};this.Fe.register({[l1]:o})}},this._instance=t,this.Ce=r,this.Fe=n,this.Ie=i||pU,this.Ce.onSessionId(this.Te)}Re(){return this.Fe.props[l1]}getSetOnceProps(){var t,r=(t=this.Re())==null?void 0:t.props;return r?"r"in r?PI(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return At(sx(this.getSetOnceProps()),((r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+e1(n)]=r})),t}}var Fv=ar("[SessionId]");class y2{on(t,r){return this.Me.on(t,r)}constructor(t,r,n){var i;if(this.Oe=[],this.Ae=void 0,this.Me=new mx,this.De=(f,p)=>Math.abs(f-p)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=t.config,this.Fe=t.persistence,this.je=void 0,this.Le=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ne=r||ba,this.Ue=n||ba;var s=this.F.persistence_name||this.F.token,a=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Hi(a,60,36e3,Fv.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.ze(),this.He="ph_"+s+"_window_id",this.Be="ph_"+s+"_primary_window_exists",this.qe()){var o=Cr.W(this.He),u=Cr.W(this.Be);o&&!u?this.je=o:Cr.V(this.He),Cr.G(this.Be,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var h=(f=>{var p=f.replace(/-/g,"");if(p.length!==32)throw new Error("Not a valid UUID");if(p[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(p.substring(0,12),16)})(this.F.bootstrap.sessionID);this.We(this.F.bootstrap.sessionID,new Date().getTime(),h)}catch(f){Fv.error("Invalid sessionID in bootstrap",f)}this.Ge()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return ke(this.Oe)&&(this.Oe=[]),this.Oe.push(t),this.Le&&t(this.Le,this.je),()=>{this.Oe=this.Oe.filter((r=>r!==t))}}qe(){return this.F.persistence!=="memory"&&!this.Fe.wi&&Cr.H()}Ve(t){t!==this.je&&(this.je=t,this.qe()&&Cr.G(this.He,t))}Je(){return this.je?this.je:this.qe()?Cr.W(this.He):null}We(t,r,n){t===this.Le&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.Le=t,this.Fe.register({[gp]:[r,t,n]}))}Ke(){var t=this.Fe.props[gp];return xt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.We(null,null,null)}destroy(){clearTimeout(this.Ye),this.Ye=void 0,this.Ae&&ae&&(ae.removeEventListener("beforeunload",this.Ae,{capture:!1}),this.Ae=void 0),this.Oe=[]}Ge(){this.Ae=()=>{this.qe()&&Cr.V(this.Be)},Jt(ae,"beforeunload",this.Ae,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[i,s,a]=this.Ke(),o=this.Je(),u=Ki(a)&&a>0&&Math.abs(n-a)>864e5,h=!1,f=!s,p=!f&&!t&&this.De(n,i);f||p||u?(s=this.Ne(),o=this.Ue(),Fv.info("new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:u}}),a=n,h=!0):o||(o=this.Ue(),h=!0);var v=i===0||!t||u?n:i,g=a===0?new Date().getTime():a;return this.Ve(o),this.We(s,v,g),t||this.ze(),h&&this.Oe.forEach((b=>b(s,o,h?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:u}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:g,changeReason:h?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:u}:void 0,lastActivityTimestamp:i}}ze(){clearTimeout(this.Ye),this.Ye=setTimeout((()=>{var[t]=this.Ke();if(this.De(new Date().getTime(),t)){var r=this.Le;this.resetSessionId(),this.Me.emit("forcedIdleReset",{idleSessionId:r})}}),1.1*this.sessionTimeoutMs)}}var mU=["$set_once","$set"],la=ar("[SiteApps]");class gU{constructor(t){this._instance=t,this.Xe=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Qe(t,r){if(r){var n=this.globalsForEvent(r);this.Xe.push(n),this.Xe.length>1e3&&(this.Xe=this.Xe.slice(10))}}get siteAppLoaders(){var t;return(t=Qe._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ai(this.Qe.bind(this));this.Ze=()=>{t(),this.Xe=[],this.Ze=void 0}}}globalsForEvent(t){var r,n,i,s,a,o,u;if(!t)throw new Error("Event payload is required");var h={},f=this._instance.get_property("$groups")||[],p=this._instance.get_property("$stored_group_properties")||{};for(var[v,g]of Object.entries(p))h[v]={id:f[v],type:v,properties:g};var{$set_once:b,$set:x}=t;return{event:Oe({},Dj(t,mU),{properties:Oe({},t.properties,x?{$set:Oe({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},x)}:{},b?{$set_once:Oe({},(i=(s=t.properties)==null?void 0:s.$set_once)!==null&&i!==void 0?i:{},b)}:{}),elements_chain:(a=(o=t.properties)==null?void 0:o.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(u=t.properties)==null?void 0:u.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:h}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var o;!r.errored&&this.Xe.length&&(la.info("Processing "+this.Xe.length+" events for site app with id "+t.id),this.Xe.forEach((u=>r.processEvent==null?void 0:r.processEvent(u))),r.processedBuffer=!0),Object.values(this.apps).every((u=>u.processedBuffer||u.errored))&&((o=this.Ze)==null||o.call(this))},i=!1,s=o=>{r.errored=!o,r.loaded=!0,la.info("Site app with id "+t.id+" "+(o?"loaded":"errored")),i&&n()};try{var{processEvent:a}=t.init({posthog:this._instance,callback:o=>{s(o)}});a&&(r.processEvent=a),i=!0}catch(o){la.error("Error while initializing PostHog app with config id "+t.id,o),s(!1)}if(i&&r.loaded)try{n()}catch(o){la.error("Error while processing buffered events PostHog app with config id "+t.id,o),r.errored=!0}}tr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ir(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(i){la.error("Error while processing event "+t.event+" for site app "+n.id,i)}}}onRemoteConfig(t){var r,n,i,s=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.tr(),void this._instance.on("eventCaptured",(h=>this.ir(h)))):void la.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.Ze)==null||n.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var a=function(h){var f;Qe["__$$ph_site_app_"+h]=s._instance,(f=Qe.__PosthogExtensions__)==null||f.loadSiteApp==null||f.loadSiteApp(s._instance,u,(p=>{if(p)return la.error("Error while initializing PostHog app with config id "+h,p)}))};for(var{id:o,url:u}of t.siteApps)a(o)}else la.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var UI=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&OS(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some((i=>OS(i==null?void 0:i.brand,t))))return!0}catch{}return!!e.webdriver},Mc=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),b2="i.posthog.com";class vU{constructor(t){this.er={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+b2,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.er[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=Mc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=Mc.EU:this.er[this.apiHost]=Mc.CUSTOM),this.er[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Mc.CUSTOM)return this.apiHost+r;var n=b2+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var yU={icontains:(e,t)=>!!ae&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ae&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ae&&Ap(t.href,e),not_regex:(e,t)=>!!ae&&!Ap(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Lr{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments((i=>{Lr.rr("retrieved web experiments from the server"),r.sr=new Map,i.forEach((s=>{if(s.feature_flag_key){var a;r.sr&&(Lr.rr("setting flag key ",s.feature_flag_key," to web experiment ",s),(a=r.sr)==null||a.set(s.feature_flag_key,s));var o=r._instance.getFeatureFlag(s.feature_flag_key);sr(o)&&s.variants[o]&&r.nr(s.name,o,s.variants[o].transforms)}else if(s.variants)for(var u in s.variants){var h=s.variants[u];Lr.ar(h)&&r.nr(s.name,u,h.transforms)}}))}),n)},this._instance=t,this._instance.onFeatureFlags((n=>{this.onFeatureFlags(n)}))}onFeatureFlags(t){if(this._is_bot())Lr.rr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(_t(this.sr))return this.sr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Lr.rr("applying feature flags",t),t.forEach((r=>{var n;if(this.sr&&(n=this.sr)!=null&&n.has(r)){var i,s=this._instance.getFeatureFlag(r),a=(i=this.sr)==null?void 0:i.get(r);s&&a!=null&&a.variants[s]&&this.nr(a.name,s,a.variants[s].transforms)}}))}}previewWebExperiment(){var t=Lr.getWindowLocation();if(t!=null&&t.search){var r=wp(t==null?void 0:t.search,"__experiment_id"),n=wp(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Lr.rr("previewing web experiments "+r+" && "+n),this.getWebExperiments((i=>{this.lr(parseInt(r),n,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var a=s.json.experiments||[];return t(a)}})}lr(t,r,n){var i=n.filter((s=>s.id===t));i&&i.length>0&&(Lr.rr("Previewing web experiment ["+i[0].name+"] with variant ["+r+"]"),this.nr(i[0].name,r,i[0].variants[r].transforms))}static ar(t){return!_t(t.conditions)&&Lr.ur(t)&&Lr.hr(t)}static ur(t){var r;if(_t(t.conditions)||_t((r=t.conditions)==null?void 0:r.url))return!0;var n,i,s,a=Lr.getWindowLocation();return!!a&&((n=t.conditions)==null||!n.url||yU[(i=(s=t.conditions)==null?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,a))}static getWindowLocation(){return ae==null?void 0:ae.location}static hr(t){var r;if(_t(t.conditions)||_t((r=t.conditions)==null?void 0:r.utm))return!0;var n=SI();if(n.utm_source){var i,s,a,o,u,h,f,p,v=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,g=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_source||((o=t.conditions)==null||(o=o.utm)==null?void 0:o.utm_source)==n.utm_source,b=(u=t.conditions)==null||(u=u.utm)==null||!u.utm_medium||((h=t.conditions)==null||(h=h.utm)==null?void 0:h.utm_medium)==n.utm_medium,x=(f=t.conditions)==null||(f=f.utm)==null||!f.utm_term||((p=t.conditions)==null||(p=p.utm)==null?void 0:p.utm_term)==n.utm_term;return v&&b&&x&&g}return!1}static rr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];Ce.info("[WebExperiments] "+t,n)}nr(t,r,n){this._is_bot()?Lr.rr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach((i=>{if(i.selector){var s;Lr.rr("applying transform of variant "+r+" for experiment "+t+" ",i);var a=(s=document)==null?void 0:s.querySelectorAll(i.selector);a==null||a.forEach((o=>{var u=o;i.html&&(u.innerHTML=i.html),i.css&&u.setAttribute("style",i.css)}))}})):Lr.rr("Control variants leave the page unmodified.")}_is_bot(){return jn&&this._instance?UI(jn,this._instance.config.custom_blocked_useragents):void 0}}var bU=ar("[PostHog ExternalIntegrations]"),_U={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class xU{constructor(t){this._instance=t}it(t,r){var n;(n=Qe.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,(i=>{if(i)return bU.error("failed to load script",i);r()}))}startIfEnabledOrStop(){var t=this,r=function(a){var o,u,h;!i||(o=Qe.__PosthogExtensions__)!=null&&(o=o.integrations)!=null&&o[a]||t.it(_U[a],(()=>{var f;(f=Qe.__PosthogExtensions__)==null||(f=f.integrations)==null||(f=f[a])==null||f.start(t._instance)})),!i&&(u=Qe.__PosthogExtensions__)!=null&&(u=u.integrations)!=null&&u[a]&&((h=Qe.__PosthogExtensions__)==null||(h=h.integrations)==null||(h=h[a])==null||h.stop())};for(var[n,i]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;r(n)}}}var x1="[SessionRecording]",gc=ar(x1);class _2{get started(){var t;return!((t=this.vr)==null||!t.isStarted)}get status(){return this.vr?this.vr.status:this.dr&&!this.cr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.dr=!1,this.pr=void 0,this._instance=t,!this._instance.sessionManager)throw gc.error("started without valid sessionManager"),new Error(x1+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(x1+' cannot be used with cookieless_mode="always"')}get cr(){var t,r=!((t=this._instance.get_property(Tv))==null||!t.enabled),n=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ae&&r&&n&&!i}startIfEnabledOrStop(t){var r;if(!this.cr||(r=this.vr)==null||!r.isStarted){var n=!ke(Object.assign)&&!ke(Array.from);this.cr&&n?(this.gr(t),gc.info("starting")):this.stopRecording()}}gr(t){var r,n,i;this.cr&&(Qe!=null&&(r=Qe.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=Qe.__PosthogExtensions__)!=null&&n.initSessionRecording?this._r(t):(i=Qe.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.mr,(s=>{if(s)return gc.error("could not load recorder",s);this._r(t)})))}stopRecording(){var t,r;(t=this.pr)==null||t.call(this),this.pr=void 0,(r=this.vr)==null||r.stop()}yr(){var t;(t=this._instance.persistence)==null||t.unregister(qj)}br(t){if(this._instance.persistence){var r,n,i=this._instance.persistence,s=()=>{var a=t.sessionRecording===!1?void 0:t.sessionRecording,o=a==null?void 0:a.sampleRate,u=_t(o)?null:parseFloat(o);_t(u)&&this.yr();var h=a==null?void 0:a.minimumDurationMilliseconds;i.register({[Tv]:Oe({enabled:!!a},a,{networkPayloadCapture:Oe({capturePerformance:t.capturePerformance},a==null?void 0:a.networkPayloadCapture),canvasRecording:{enabled:a==null?void 0:a.recordCanvas,fps:a==null?void 0:a.canvasFps,quality:a==null?void 0:a.canvasQuality},sampleRate:u,minimumDurationMilliseconds:ke(h)?null:h,endpoint:a==null?void 0:a.endpoint,triggerMatchType:a==null?void 0:a.triggerMatchType,masking:a==null?void 0:a.masking,urlTriggers:a==null?void 0:a.urlTriggers})})};s(),(r=this.pr)==null||r.call(this),this.pr=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.br(t),this.dr=!0,this.startIfEnabledOrStop()):this.dr=!0:gc.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.vr)!=null&&n.log?this.vr.log(t,r):gc.warn("log called before recorder was ready")}get mr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(Tv);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}_r(t){var r,n;if((r=Qe.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.vr||(this.vr=(n=Qe.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.vr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.vr.start(t)}onRRwebEmit(t){var r;(r=this.vr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.vr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.vr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.vr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.vr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.vr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.vr)==null||!n.tryAddCustomEvent(t,r))}}var zc={},w1=()=>{},_l="posthog",HI=!X$&&(dn==null?void 0:dn.indexOf("MSIE"))===-1&&(dn==null?void 0:dn.indexOf("Mozilla"))===-1,x2=e=>{var t;return Oe({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:W9(Se==null?void 0:Se.location),persistence:"localStorage+cookie",persistence_name:"",loaded:w1,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:fn&&sr(fn==null?void 0:fn.search)&&fn.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ae==null||(t=ae.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;Ce.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:_1},error_tracking:{},_onCapture:w1,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},w2=e=>{var t={};ke(e.process_person)||(t.person_profiles=e.process_person),ke(e.xhr_headers)||(t.request_headers=e.xhr_headers),ke(e.cookie_name)||(t.persistence_name=e.cookie_name),ke(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),ke(e.store_google)||(t.save_campaign_params=e.store_google),ke(e.verbose)||(t.debug=e.verbose);var r=Gt({},t,e);return xt(e.property_blacklist)&&(ke(e.property_denylist)?r.property_denylist=e.property_blacklist:xt(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ce.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class wU{constructor(){this.__forceAllowLocalhost=!1}get wr(){return this.__forceAllowLocalhost}set wr(t){Ce.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Lm{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new wU,this.Sr=!1,this.version=cs.LIB_VERSION,this.Er=new mx,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=x2(),this.SentryIntegration=b$,this.sentryIntegration=t=>(function(r,n){var i=uI(r,n);return{name:lI,processEvent:s=>i(s)}})(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$r=!1,this.kr=null,this.Pr=null,this.Tr=null,this.featureFlags=new eU(this),this.toolbar=new x$(this),this.scrollManager=new fU(this),this.pageViewManager=new U$(this),this.surveys=new oU(this),this.experiments=new Lr(this),this.exceptions=new Q$(this),this.rateLimiter=new lU(this),this.requestRouter=new vU(this),this.consent=new f$(this),this.externalIntegrations=new xU(this),this.people={set:(t,r,n)=>{var i=sr(t)?{[t]:r}:t;this.setPersonProperties(i),n==null||n({})},set_once:(t,r,n)=>{var i=sr(t)?{[t]:r}:t;this.setPersonProperties(void 0,i),n==null||n({})}},this.on("eventCaptured",(t=>Ce.info('send "'+(t==null?void 0:t.event)+'"',t)))}init(t,r,n){if(n&&n!==_l){var i,s=(i=zc[n])!==null&&i!==void 0?i:new Lm;return s._init(t,r,n),zc[n]=s,zc[_l][n]=s,s}return this._init(t,r,n)}_init(t,r,n){var i;if(r===void 0&&(r={}),ke(t)||t1(t))return Ce.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Rr(r.debug),this.Ir=r,this.Fr=[],r.person_profiles&&(this.Pr=r.person_profiles),this.set_config(Gt({},x2(r.defaults),w2(r),{name:n,token:t})),this.config.on_xhr_error&&Ce.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:ps.GZipJS;var s=this.Cr();this.persistence=new Lv(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Lv(Oe({},this.config,{persistence:"sessionStorage"}),s);var a=Oe({},this.persistence.props),o=Oe({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Mr=new cU((A=>this.Or(A)),this.config.request_queue_config),this.Ar=new hU(this),this.__request_queue=[];var u=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new y2(this),this.sessionPropsManager=new v2(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Ce.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Dr(u)}),0)):(Ce.info("Initializing extensions synchronously"),this.Dr(u)),cs.DEBUG=cs.DEBUG||this.config.debug,cs.DEBUG&&Ce.info("Starting in debug mode",{this:this,config:r,thisC:Oe({},this.config),p:a,s:o}),((i=r.bootstrap)==null?void 0:i.distinctID)!==void 0){var h,f,p=this.config.get_device_id(ba()),v=(h=r.bootstrap)!=null&&h.isIdentifiedID?p:r.bootstrap.distinctID;this.persistence.set_property(ds,(f=r.bootstrap)!=null&&f.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:v})}if(this.jr()){var g,b,x=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter((A=>{var S;return!((S=r.bootstrap)==null||(S=S.featureFlags)==null||!S[A])})).reduce(((A,S)=>{var N;return A[S]=((N=r.bootstrap)==null||(N=N.featureFlags)==null?void 0:N[S])||!1,A}),{}),_=Object.keys(((b=r.bootstrap)==null?void 0:b.featureFlagPayloads)||{}).filter((A=>x[A])).reduce(((A,S)=>{var N,P;return(N=r.bootstrap)!=null&&(N=N.featureFlagPayloads)!=null&&N[S]&&(A[S]=(P=r.bootstrap)==null||(P=P.featureFlagPayloads)==null?void 0:P[S]),A}),{});this.featureFlags.receivedFeatureFlags({featureFlags:x,featureFlagPayloads:_})}if(u)this.register_once({distinct_id:lc,$device_id:null},"");else if(!this.get_distinct_id()){var w=this.config.get_device_id(ba());this.register_once({distinct_id:w,$device_id:w},""),this.persistence.set_property(ds,"anonymous")}return Jt(ae,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?y$(this,(()=>this.Lr())):this.Lr(),xa(this.config._onCapture)&&this.config._onCapture!==w1&&(Ce.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(A=>this.config._onCapture(A.event,A)))),this.config.ip&&Ce.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Dr(t){var r=performance.now();this.historyAutocapture=new v$(this),this.historyAutocapture.startIfEnabled();var n=[];n.push((()=>{new E$(this).startIfEnabledOrStop()})),n.push((()=>{var i;this.siteApps=new gU(this),(i=this.siteApps)==null||i.init()})),t||n.push((()=>{this.sessionRecording=new _2(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||n.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),n.push((()=>{this.autocapture=new s$(this),this.autocapture.startIfEnabled()})),n.push((()=>{this.surveys.loadIfEnabled()})),n.push((()=>{this.heatmaps=new $$(this),this.heatmaps.startIfEnabled()})),n.push((()=>{this.webVitalsAutocapture=new F$(this)})),n.push((()=>{this.exceptionObserver=new g$(this),this.exceptionObserver.startIfEnabled()})),n.push((()=>{this.deadClicksAutocapture=new oI(this,m$),this.deadClicksAutocapture.startIfEnabled()})),n.push((()=>{if(this.Nr){var i=this.Nr;this.Nr=void 0,this.fi(i)}})),this.Ur(n,r)}Ur(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout((()=>{this.Ur(t,r)}),0);var n=t.shift();if(n)try{n()}catch(s){Ce.error("Error initializing extension:",s)}}var i=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&Ce.info("PostHog extensions initialized ("+i+"ms)")}fi(t){var r,n,i,s,a,o,u,h;if(!Se||!Se.body)return Ce.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Nr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=it(t.supportedCompression,ps.GZipJS)?ps.GZipJS:it(t.supportedCompression,ps.Base64)?ps.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Pr?this.Pr:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(s=this.autocapture)==null||s.onRemoteConfig(t),(a=this.heatmaps)==null||a.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(o=this.webVitalsAutocapture)==null||o.onRemoteConfig(t),(u=this.exceptionObserver)==null||u.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(h=this.deadClicksAutocapture)==null||h.onRemoteConfig(t)}Lr(){try{this.config.loaded(this)}catch(t){Ce.critical("`loaded` function failed",t)}this.zr(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Hr()}),1),new uU(this).load(),this.featureFlags.flags()}zr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Mr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Ea(this.__request_queue,(t=>this.Or(t))),this.__request_queue=[],this.zr()}_handle_unload(){var t,r;this.config.request_batching?(this.Br()&&this.capture("$pageleave"),(t=this.Mr)==null||t.unload(),(r=this.Ar)==null||r.unload()):this.Br()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(t){this.__loaded&&(HI?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Cp(t.url,{ip:this.config.ip?1:0}),t.headers=Oe({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,i,s,a=Oe({},r);a.timeout=a.timeout||6e4,a.url=Cp(a.url,{_:new Date().getTime().toString(),ver:cs.LIB_VERSION,compression:a.compression});var o=(n=a.transport)!==null&&n!==void 0?n:"fetch",u=ip.filter((f=>!a.disableTransport||!f.transport||!a.disableTransport.includes(f.transport))),h=(i=(s=Hj(u,(f=>f.transport===o)))==null?void 0:s.method)!==null&&i!==void 0?i:u[0].method;if(!h)throw new Error("No available transport method");h(a)})(Oe({},t,{callback:r=>{var n,i;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(i=this.config).on_request_error)==null||n.call(i,r)),t.callback==null||t.callback(r)}}))))}Or(t){this.Ar?this.Ar.retriableRequest(t):this.ci(t)}_execute_array(t){var r,n=[],i=[],s=[];Ea(t,(o=>{o&&(r=o[0],xt(r)?s.push(o):xa(o)?o.call(this):xt(o)&&r==="alias"?n.push(o):xt(o)&&r.indexOf("capture")!==-1&&xa(this[r])?s.push(o):i.push(o))}));var a=function(o,u){Ea(o,(function(h){if(xt(h[0])){var f=u;At(h,(function(p){f=f[p[0]].apply(f,p.slice(1))}))}else this[h[0]].apply(this,h.slice(1))}),u)};a(n,this),a(i,this),a(s,this)}jr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Mr){if(this.is_capturing())if(!ke(t)&&sr(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var a=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(a==null||!a.isRateLimited){r!=null&&r.$current_url&&!sr(r==null?void 0:r.$current_url)&&(Ce.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,u=(n==null?void 0:n.timestamp)||o,h=ba(),f={uuid:h,event:t,properties:this.calculateEventProperties(t,r||{},u,h)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&s&&(f.event="$bot_pageview",f.properties.$browser_type="bot"),a&&(f.properties.$lib_rate_limit_remaining_tokens=a.remainingTokens),n!=null&&n.$set&&(f.$set=n==null?void 0:n.$set);var p,v=this.qr(n==null?void 0:n.$set_once);if(v&&(f.$set_once=v),(f=H9(f,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=u,ke(n==null?void 0:n.timestamp)||(f.properties.$event_time_override_provided=!0,f.properties.$event_time_override_system_time=o),t===sp.DISMISSED||t===sp.SENT){var g=r==null?void 0:r[p2.SURVEY_ID],b=r==null?void 0:r[p2.SURVEY_ITERATION];p={id:g,current_iteration:b},localStorage.getItem(m2(p))||localStorage.setItem(m2(p),"true"),f.$set=Oe({},f.$set,{[nU({id:g,current_iteration:b},t===sp.SENT?"responded":"dismissed")]:!0})}var x=Oe({},f.properties.$set,f.$set);if(Tl(x)||this.setPersonPropertiesForFlags(x),!_t(this.config.before_send)){var _=this.Wr(f);if(!_)return;f=_}this.Er.emit("eventCaptured",f);var w={method:"POST",url:(i=n==null?void 0:n._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:f,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Or(w):this.Mr.enqueue(w),f}Ce.critical("This capture call is ignored due to client rate limiting.")}}else Ce.error("No event name provided to posthog.capture")}else Ce.uninitializedWarning("posthog.capture")}Ai(t){return this.on("eventCaptured",(r=>t(r.event,r)))}calculateEventProperties(t,r,n,i,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var a=s?void 0:this.persistence.remove_event_timer(t),o=Oe({},r);if(o.token=this.config.token,o.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(o.$cookieless_mode=!0),t==="$snapshot"){var u=Oe({},this.persistence.properties(),this.sessionPersistence.properties());return o.distinct_id=u.distinct_id,(!sr(o.distinct_id)&&!Ki(o.distinct_id)||t1(o.distinct_id))&&Ce.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var h,f=M$(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());o.$session_id=p,o.$window_id=v}this.sessionPropsManager&&Gt(o,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Gt(o,this.sessionRecording.sdkDebugProperties),o.$sdk_debug_retry_queue_size=(g=this.Ar)==null?void 0:g.length}catch(w){o.$sdk_debug_error_capturing_properties=String(w)}if(this.requestRouter.region===Mc.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),h=t!=="$pageview"||s?t!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,i),o=Gt(o,h),t==="$pageview"&&Se&&(o.title=Se.title),!ke(a)){var b=n.getTime()-a;o.$duration=parseFloat((b/1e3).toFixed(3))}dn&&this.config.opt_out_useragent_filter&&(o.$browser_type=this._is_bot()?"bot":"browser"),(o=Gt({},f,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),xt(this.config.property_denylist)?At(this.config.property_denylist,(function(w){delete o[w]})):Ce.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var x=this.config.sanitize_properties;x&&(Ce.error("sanitize_properties is deprecated. Use before_send instead"),o=x(o,t));var _=this.Gr();return o.$process_person_profile=_,_&&!s&&this.Vr("_calculate_event_properties"),o}qr(t){var r;if(!this.persistence||!this.Gr()||this.Sr)return t;var n=this.persistence.get_initial_props(),i=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),s=Gt({},n,i||{},t||{}),a=this.config.sanitize_properties;return a&&(Ce.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),this.Sr=!0,Tl(s)?void 0:s}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var i;(i=this.persistence)==null||i.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}Jr(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Er.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=sU),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return Ce.uninitializedWarning("posthog.identify");if(Ki(t)&&(t=t.toString(),Ce.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ce.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==lc){if(this.Vr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Pc)&&(this.unregister(Pc),this.register({distinct_id:t}));var a=(this.persistence.get_property(ds)||"anonymous")==="anonymous";t!==i&&a?(this.persistence.set_property(ds,"identified"),this.setPersonPropertiesForFlags(Oe({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:r||{},$set_once:n||{}}),this.Tr=u2(t,r,n),this.featureFlags.setAnonymousDistinctId(i)):(r||n)&&this.setPersonProperties(r,n),t!==i&&(this.reloadFeatureFlags(),this.unregister(vp))}}else Ce.critical('The string "'+lc+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Ce.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.Vr("posthog.setPersonProperties")){var n=u2(this.get_distinct_id(),t,r);this.Tr!==n?(this.setPersonPropertiesForFlags(Oe({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Tr=n):Ce.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){if(this.Vr("posthog.group")){var i=this.getGroups();i[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Oe({},i,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),i[t]===r||n||this.reloadFeatureFlags()}}else Ce.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.Vr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,i,s;if(Ce.info("reset"),!this.__loaded)return Ce.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(ds,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Tr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:lc,$device_id:null},"");else{var o=this.config.get_device_id(ba());this.register_once({distinct_id:o,$device_id:t?o:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-a,0)}return i}alias(t,r){return t===this.get_property(zj)?(Ce.critical("Attempting to create alias for existing People user - aborting."),-2):this.Vr("posthog.alias")?(ke(r)&&(r=this.get_distinct_id()),t!==r?(this.Jr(Pc,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(Ce.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=Oe({},this.config);if(vr(t)){var n,i,s,a,o;Gt(this.config,w2(t));var u=this.Cr();(n=this.persistence)==null||n.update_config(this.config,r,u),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Lv(Oe({},this.config,{persistence:"sessionStorage"}),u);var h=this.Rr(this.config.debug);wa(h)&&(this.config.debug=h),wa(this.config.debug)&&(this.config.debug?(cs.DEBUG=!0,Ut.H()&&Ut.G("ph_debug","true"),Ce.info("set_config",{config:t,oldConfig:r,newConfig:Oe({},this.config)})):(cs.DEBUG=!1,Ut.H()&&Ut.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.Kr(),(o=this.externalIntegrations)==null||o.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var i,s,a,o,u;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),n.url_trigger&&((o=this.sessionRecording)==null||o.overrideTrigger("url")),n.event_trigger&&((u=this.sessionRecording)==null||u.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(Oe({},i,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:_l;return r!==_l&&(r=_l+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(ds))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(ds))==="identified"}Gr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Tl(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Pc])&&((r=this.persistence)==null||(r=r.props)==null||!r[bp]))}Br(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Gr()||this.Vr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Vr(t){return this.config.person_profiles==="never"?(Ce.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Jr(bp,!0),!0)}Cr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}Kr(){var t,r,n,i,s=this.Cr();return((t=this.persistence)==null?void 0:t.wi)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((r=this.sessionPersistence)==null?void 0:r.wi)!==s&&((i=this.sessionPersistence)==null||i.set_disabled(s)),s}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,i;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new y2(this),this.persistence&&(this.sessionPropsManager=new v2(this,this.sessionManager,this.persistence)),this.sessionRecording=new _2(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Kr(),this.zr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(ke(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((i=t==null?void 0:t.captureEventName)!==null&&i!==void 0?i:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Hr()}else Ce.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Kr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:lc,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Hr())):Ce.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===hs.GRANTED?"granted":t===hs.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Kr()}_is_bot(){return jn?UI(jn,this.config.custom_blocked_useragents):void 0}Hr(){Se&&(Se.visibilityState==="visible"?this.$r||(this.$r=!0,this.capture("$pageview",{title:Se.title},{send_instantly:!0}),this.kr&&(Se.removeEventListener("visibilitychange",this.kr),this.kr=null)):this.kr||(this.kr=this.Hr.bind(this),Jt(Se,"visibilitychange",this.kr)))}debug(t){t===!1?(ae==null||ae.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ae==null||ae.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,i,s,a,o,u=this.Ir||{};return"advanced_disable_flags"in u?!!u.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Ce.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",i=!1,s=Ce,a=(r="advanced_disable_flags")in(t=u)&&!ke(t[r]),o=n in t&&!ke(t[n]),a?t[r]:o?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):i)}Wr(t){if(_t(this.config.before_send))return t;var r=xt(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var i of r){if(n=i(n),_t(n)){var s="Event '"+t.event+"' was rejected in beforeSend function";return m9(t.event)?Ce.warn(s+". This can cause unexpected behavior."):Ce.info(s),null}n.properties&&!Tl(n.properties)||Ce.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Rr(t){var r=wa(t)&&!t,n=Ut.H()&&Ut.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=U9(e.prototype[t[r]])})(Lm,["identify"]);var E2,xl=(E2=zc[_l]=new Lm,(function(){function e(){e.done||(e.done=!0,HI=!1,At(zc,(function(t){t._dom_loaded()})))}Se!=null&&Se.addEventListener?Se.readyState==="complete"?e():Jt(Se,"DOMContentLoaded",e,{capture:!1}):ae&&Ce.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),E2),gx=k.createContext({client:xl,bootstrap:void 0});function zI(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var s=0,a=n;s<a.length;s++){var o=a[s];if(!i.includes(o)||!zI(e[o],t[o],r))return!1}return!0}function EU(e){var t,r,n=e.children,i=e.client,s=e.apiKey,a=e.options,o=k.useRef(null),u=k.useMemo(function(){return i?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),a&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),xl)},[i,s,JSON.stringify(a)]);return k.useEffect(function(){if(!i){var h=o.current;h?(s!==h.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),a&&!zI(a,h.options)&&xl.set_config(a),o.current={apiKey:s,options:a??{}}):(xl.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),xl.init(s,a),o.current={apiKey:s,options:a??{}})}},[i,s,JSON.stringify(a)]),pn.createElement(gx.Provider,{value:{client:u,bootstrap:(t=a==null?void 0:a.bootstrap)!==null&&t!==void 0?t:(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.bootstrap}},n)}var Bv=function(e){return typeof e=="function"},Zr=function(){var e=k.useContext(gx).client;return e},E1=function(e,t){return E1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},E1(e,t)};function kU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");E1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var TU={componentStack:null,exceptionEvent:null,error:null},SU={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){kU(t,e);function t(r){var n=e.call(this,r)||this;return n.state=TU,n}return t.prototype.componentDidCatch=function(r,n){var i=this.props.additionalProperties,s;Bv(i)?s=i(r):typeof i=="object"&&(s=i);var a=this.context.client,o=a.captureException(r,s),u=n.componentStack;this.setState({error:r,componentStack:u,exceptionEvent:o})},t.prototype.render=function(){var r=this.props,n=r.children,i=r.fallback,s=this.state;if(s.componentStack==null)return Bv(n)?n():n;var a=Bv(i)?pn.createElement(i,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):i;return pn.isValidElement(a)?a:(console.warn(SU.INVALID_FALLBACK),pn.createElement(pn.Fragment,null))},t.contextType=gx,t})(pn.Component);var k1=function(e,t){return k1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},k1(e,t)};function WI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");k1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Np=function(){return Np=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Np.apply(this,arguments)};function iu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function qI(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(i<3?a(s):i>3?a(t,r,s):a(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function VI(e,t){return function(r,n){t(r,n,e)}}function GI(e,t,r,n,i,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=n.kind,u=o==="getter"?"get":o==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,f=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,v=!1,g=r.length-1;g>=0;g--){var b={};for(var x in n)b[x]=x==="access"?{}:n[x];for(var x in n.access)b.access[x]=n.access[x];b.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var _=(0,r[g])(o==="accessor"?{get:f.get,set:f.set}:f[u],b);if(o==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=a(_.get))&&(f.get=p),(p=a(_.set))&&(f.set=p),(p=a(_.init))&&i.unshift(p)}else(p=a(_))&&(o==="field"?i.unshift(p):f[u]=p)}h&&Object.defineProperty(h,n.name,f),v=!0}function YI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function KI(e){return typeof e=="symbol"?e:"".concat(e)}function XI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function QI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function De(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{h(n.next(f))}catch(p){a(p)}}function u(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?s(f.value):i(f.value).then(o,u)}h((n=n.apply(e,t||[])).next())})}function JI(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(h){return function(f){return u([h,f])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(f){h=[6,f],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Mm=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function ZI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mm(t,e,r)}function Op(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function e3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vx(arguments[t]));return e}function t3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function r3(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Fl(e){return this instanceof Fl?(this.v=e,this):new Fl(e)}function n3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(b){return Promise.resolve(b).then(g,p)}}function o(g,b){n[g]&&(i[g]=function(x){return new Promise(function(_,w){s.push([g,x,_,w])>1||u(g,x)})},b&&(i[g]=b(i[g])))}function u(g,b){try{h(n[g](b))}catch(x){v(s[0][3],x)}}function h(g){g.value instanceof Fl?Promise.resolve(g.value.v).then(f,p):v(s[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function v(g,b){g(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function i3(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(a){return(r=!r)?{value:Fl(e[i](a)),done:!1}:s?s(a):a}:s}}function s3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Op=="function"?Op(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(o,u){a=e[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(h){s({value:h,done:o})},a)}}function a3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var CU=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},T1=function(e){return T1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},T1(e)};function o3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=T1(e),n=0;n<r.length;n++)r[n]!=="default"&&Mm(t,e,r[n]);return CU(t,e),t}function l3(e){return e&&e.__esModule?e:{default:e}}function u3(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function c3(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function d3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function h3(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var AU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function f3(e){function t(s){e.error=e.hasError?new AU(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function p3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?t?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):e}const NU={__extends:WI,__assign:Np,__rest:iu,__decorate:qI,__param:VI,__esDecorate:GI,__runInitializers:YI,__propKey:KI,__setFunctionName:XI,__metadata:QI,__awaiter:De,__generator:JI,__createBinding:Mm,__exportStar:ZI,__values:Op,__read:vx,__spread:e3,__spreadArrays:t3,__spreadArray:r3,__await:Fl,__asyncGenerator:n3,__asyncDelegator:i3,__asyncValues:s3,__makeTemplateObject:a3,__importStar:o3,__importDefault:l3,__classPrivateFieldGet:u3,__classPrivateFieldSet:c3,__classPrivateFieldIn:d3,__addDisposableResource:h3,__disposeResources:f3,__rewriteRelativeImportExtension:p3},OU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:h3,get __assign(){return Np},__asyncDelegator:i3,__asyncGenerator:n3,__asyncValues:s3,__await:Fl,__awaiter:De,__classPrivateFieldGet:u3,__classPrivateFieldIn:d3,__classPrivateFieldSet:c3,__createBinding:Mm,__decorate:qI,__disposeResources:f3,__esDecorate:GI,__exportStar:ZI,__extends:WI,__generator:JI,__importDefault:l3,__importStar:o3,__makeTemplateObject:a3,__metadata:QI,__param:VI,__propKey:KI,__read:vx,__rest:iu,__rewriteRelativeImportExtension:p3,__runInitializers:YI,__setFunctionName:XI,__spread:e3,__spreadArray:r3,__spreadArrays:t3,__values:Op,default:NU},Symbol.toStringTag,{value:"Module"})),PU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class yx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class k2 extends yx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class T2 extends yx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class S2 extends yx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var S1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(S1||(S1={}));class jU{constructor(t,{headers:r={},customFetch:n,region:i=S1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=PU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return De(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:o,signal:u}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let v;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=o):typeof o=="string"?(h["Content-Type"]="text/plain",v=o):typeof FormData<"u"&&o instanceof FormData?v=o:(h["Content-Type"]="application/json",v=JSON.stringify(o)):v=o;const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:u}).catch(w=>{throw w.name==="AbortError"?w:new k2(w)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new T2(g);if(!g.ok)throw new S2(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield g.json():x==="application/octet-stream"||x==="application/pdf"?_=yield g.blob():x==="text/event-stream"?_=g:x==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new k2(s)}:{data:null,error:s,response:s instanceof S2||s instanceof T2?s.context:void 0}}})}}var Dr={};const su=RF(OU);var xf={},wf={},Ef={},kf={},Tf={},Sf={},C2;function m3(){if(C2)return Sf;C2=1,Object.defineProperty(Sf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sf.default=e,Sf}var A2;function g3(){if(A2)return Tf;A2=1,Object.defineProperty(Tf,"__esModule",{value:!0});const t=su.__importDefault(m3());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,f,p,v;let g=null,b=null,x=null,_=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const P=await u.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=P:b=JSON.parse(P))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&N&&N.length>1&&(x=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,_=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await u.text();try{g=JSON.parse(S),Array.isArray(g)&&u.status===404&&(b=[],g=null,_=200,w="OK")}catch{u.status===404&&S===""?(_=204,w="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((v=g==null?void 0:g.details)===null||v===void 0)&&v.includes("0 rows"))&&(g=null,_=200,w="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:b,count:x,status:_,statusText:w}});return this.shouldThrowOnError||(o=o.catch(u=>{var h,f,p;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return Tf.default=r,Tf}var N2;function v3(){if(N2)return kf;N2=1,Object.defineProperty(kf,"__esModule",{value:!0});const t=su.__importDefault(g3());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:u=o}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:u=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return kf.default=r,kf}var O2;function bx(){if(O2)return Ef;O2=1,Object.defineProperty(Ef,"__esModule",{value:!0});const t=su.__importDefault(v3()),r=new RegExp("[,()]");class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${h}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return Ef.default=n,Ef}var P2;function y3(){if(P2)return wf;P2=1,Object.defineProperty(wf,"__esModule",{value:!0});const t=su.__importDefault(bx());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},u=a?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return wf.default=r,wf}var j2;function IU(){if(j2)return xf;j2=1,Object.defineProperty(xf,"__esModule",{value:!0});const e=su,t=e.__importDefault(y3()),r=e.__importDefault(bx());class n{constructor(s,{headers:a={},schema:o,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:u=!1,count:h}={}){var f;let p;const v=new URL(`${this.url}/rpc/${s}`);let g;o||u?(p=o?"HEAD":"GET",Object.entries(a).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{v.searchParams.append(x,_)})):(p="POST",g=a);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new r.default({method:p,url:v,headers:b,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return xf.default=n,xf}var I2;function RU(){if(I2)return Dr;I2=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.PostgrestError=Dr.PostgrestBuilder=Dr.PostgrestTransformBuilder=Dr.PostgrestFilterBuilder=Dr.PostgrestQueryBuilder=Dr.PostgrestClient=void 0;const e=su,t=e.__importDefault(IU());Dr.PostgrestClient=t.default;const r=e.__importDefault(y3());Dr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(bx());Dr.PostgrestFilterBuilder=n.default;const i=e.__importDefault(v3());Dr.PostgrestTransformBuilder=i.default;const s=e.__importDefault(g3());Dr.PostgrestBuilder=s.default;const a=e.__importDefault(m3());return Dr.PostgrestError=a.default,Dr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Dr}var b3=RU();const _3=ai(b3),DU=gj({__proto__:null,default:_3},[b3]),{PostgrestClient:LU,PostgrestQueryBuilder:K0e,PostgrestFilterBuilder:X0e,PostgrestTransformBuilder:Q0e,PostgrestBuilder:J0e,PostgrestError:Z0e}=_3||DU;class MU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const FU="2.79.0",BU=`realtime-js/${FU}`,$U="1.0.0",C1=1e4,UU=1e3,HU=100;var Wc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wc||(Wc={}));var rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rr||(rr={}));var Ei;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ei||(Ei={}));var A1;(function(e){e.websocket="websocket"})(A1||(A1={}));var lo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lo||(lo={}));class zU{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const u=n.decode(t.slice(a,a+s));a=a+s;const h=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:h}}}class x3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const R2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=WU(a,e,t,i),s),{}):{}},WU=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?w3(s,a):N1(a)},w3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YU(t,r)}switch(e){case Tt.bool:return qU(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return VU(t);case Tt.json:case Tt.jsonb:return GU(t);case Tt.timestamp:return KU(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return N1(t);default:return N1(t)}},N1=e=>e,qU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>w3(t,o))}return e},KU=e=>typeof e=="string"?e.replace(" ","T"):e,E3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $v{constructor(t,r,n={},i=C1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var D2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(D2||(D2={}));class qc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=qc.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(s,(h,f)=>{a[h]||(u[h]=f)}),this.map(a,(h,f)=>{const p=s[h];if(p){const v=f.map(_=>_.presence_ref),g=p.map(_=>_.presence_ref),b=f.filter(_=>g.indexOf(_.presence_ref)<0),x=p.filter(_=>v.indexOf(_.presence_ref)<0);b.length>0&&(o[h]=b),x.length>0&&(u[h]=x)}else o[h]=f}),this.syncDiff(s,{joins:o,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,u)=>{var h;const f=(h=t[o])!==null&&h!==void 0?h:[];if(t[o]=this.cloneDeep(u),f.length>0){const p=t[o].map(g=>g.presence_ref),v=f.filter(g=>p.indexOf(g.presence_ref)<0);t[o].unshift(...v)}n(o,f,u)}),this.map(a,(o,u)=>{let h=t[o];if(!h)return;const f=u.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=h,i(o,h,u),h.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var L2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(L2||(L2={}));var Vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vc||(Vc={}));var fs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fs||(fs={}));class _x{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $v(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new x3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new qc(this),this.broadcastEndpointURL=E3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Vc.PRESENCE]&&this.bindings[Vc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(fs.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(fs.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t==null||t(fs.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,w=[];for(let A=0;A<_;A++){const S=x[A],{filter:{event:N,schema:P,table:O,filter:j}}=S,D=g&&g[A];if(D&&D.event===N&&D.schema===P&&D.table===O&&D.filter===j)w.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=rr.errored,t==null||t(fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(fs.SUBSCRIBED);return}}).receive("error",g=>{this.state=rr.errored,t==null||t(fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rr.joined&&t===Vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const h=await o.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,u;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new $v(this,Ei.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $v(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>HU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:h,join:f}=Ei;if(n&&[o,u,h,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,x,_;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(x=g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(g=>g.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,x,_,w,A,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const N=g.id,P=(b=g.filter)===null||b===void 0?void 0:b.event;return N&&((x=r.ids)===null||x===void 0?void 0:x.includes(N))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const N=(A=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return N==="*"||N===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:x,table:_,commit_timestamp:w,type:A,errors:S}=b;v=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:w,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(b))}g.callback(v,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&_x.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ei.close,{},t)}_onError(t){this._on(Ei.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=R2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=R2(t.columns,t.old_record)),r}}const Uv=()=>{},Cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XU=[1e3,2e3,5e3,1e4],QU=1e4,JU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=C1,this.transport=null,this.heartbeatIntervalMs=Cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uv,this.ref=0,this.reconnectTimer=null,this.logger=Uv,this.conn=null,this.sendBuffer=[],this.serializer=new zU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${A1.websocket}`,this.httpEndpoint=E3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$U}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wc.connecting:return lo.Connecting;case Wc.open:return lo.Open;case Wc.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new _x(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(UU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${o}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ei.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:BU};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ei.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new x3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,o,u,h,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:C1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Cf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Uv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:(p=>XU[p-1]||QU),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((p,v)=>v(JSON.stringify(p))),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class xx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class e7 extends xx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class O1 extends xx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const wx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),t7=()=>Response,P1=e=>{if(Array.isArray(e))return e.map(r=>P1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=P1(n)}),t},r7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},n7=(e,t,r)=>De(void 0,void 0,void 0,function*(){const n=yield t7();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new e7(Hv(i),s,a))}).catch(i=>{t(new O1(Hv(i),i))}):t(new O1(Hv(e),e))}),i7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(r7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function jd(e,t,r,n,i,s){return De(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,i7(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>n7(u,o,n))})})}function ud(e,t,r,n){return De(this,void 0,void 0,function*(){return jd(e,"GET",t,r,n)})}function wi(e,t,r,n,i){return De(this,void 0,void 0,function*(){return jd(e,"POST",t,n,i,r)})}function j1(e,t,r,n,i){return De(this,void 0,void 0,function*(){return jd(e,"PUT",t,n,i,r)})}function s7(e,t,r,n){return De(this,void 0,void 0,function*(){return jd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ex(e,t,r,n,i){return De(this,void 0,void 0,function*(){return jd(e,"DELETE",t,n,i,r)})}class a7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return De(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}var k3;class o7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[k3]="BlobDownloadBuilder",this.promise=null}asStream(){return new a7(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return De(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($t(t))return{data:null,error:t};throw t}})}}k3=Symbol.toStringTag;const l7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u7{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=wx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return De(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},M2),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(u))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),p=yield(t=="PUT"?j1:wi)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}upload(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return De(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const h=Object.assign({upsert:M2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield j1(this.fetch,o.toString(),u,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($t(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return De(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield wi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new xx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}update(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}copy(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield wi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return De(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield wi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return De(this,void 0,void 0,function*(){try{const i=yield wi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(t),u=()=>ud(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new o7(u,this.shouldThrowOnError)}info(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ud(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:P1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}exists(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield s7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n)&&n instanceof O1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${h}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield Ex(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}list(t,r,n){return De(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},l7),r),{prefix:t||""});return{data:yield wi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}listV2(t,r){return De(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield wi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const T3="2.79.0",S3={"X-Client-Info":`storage-js/${T3}`};class c7{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S3),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return De(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield ud(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield ud(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}createBucket(t){return De(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return De(this,void 0,void 0,function*(){try{return{data:yield j1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}emptyBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Ex(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class d7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S3),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBuckets(t){return De(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ud(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield Ex(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}const kx={"X-Client-Info":`storage-js/${T3}`,"Content-Type":"application/json"};class C3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class zv extends C3{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class h7 extends C3{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var F2;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(F2||(F2={}));const Tx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},B2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p7=(e,t,r)=>De(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new zv(B2(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new zv(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new zv(o,i,a))}}else t(new h7(B2(e),e))}),m7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(f7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function g7(e,t,r,n,i,s){return De(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,m7(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const h=u.headers.get("content-type");return!h||!h.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>p7(u,o,n))})})}function On(e,t,r,n,i){return De(this,void 0,void 0,function*(){return g7(e,"POST",t,n,i,r)})}class v7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kx),r),this.fetch=Tx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return De(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return De(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}listIndexes(t){return De(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return De(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nn(n))return{data:null,error:n};throw n}})}}class y7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kx),r),this.fetch=Tx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return De(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield On(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}getVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}listVectors(t){return De(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield On(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}queryVectors(t){return De(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return De(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield On(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}}class b7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kx),r),this.fetch=Tx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}getBucket(t){return De(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}listBuckets(){return De(this,arguments,void 0,function*(t={}){try{return{data:yield On(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return De(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nn(r))return{data:null,error:r};throw r}})}}class _7 extends b7{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new x7(this.url,this.headers,t,this.fetch)}}class x7 extends v7{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return De(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return De(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return De(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return De(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new w7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class w7 extends y7{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return De(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return De(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return De(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return De(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return De(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class E7 extends c7{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new u7(this.url,this.headers,t,this.fetch)}get vectors(){return new _7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d7(this.url+"/iceberg",this.headers,this.fetch)}}const k7="2.79.0";let Fc="";typeof Deno<"u"?Fc="deno":typeof document<"u"?Fc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fc="react-native":Fc="node";const T7={"X-Client-Info":`supabase-js-${Fc}/${k7}`},S7={headers:T7},C7={schema:"public"},A7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N7={},O7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P7=()=>Headers,j7=(e,t,r)=>{const n=O7(r),i=P7();return async(s,a)=>{var o;const u=(o=await t())!==null&&o!==void 0?o:e;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:h}))}};function I7(e){return e.endsWith("/")?e:e+"/"}function R7(e,t){var r,n;const{db:i,auth:s,realtime:a,global:o}=e,{db:u,auth:h,realtime:f,global:p}=t,v={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function D7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const A3="2.79.0",wl=30*1e3,I1=3,Wv=I1*wl,L7="http://localhost:9999",M7="supabase.auth.token",F7={"X-Client-Info":`gotrue-js/${A3}`},R1="X-Supabase-Api-Version",N3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$7=600*1e3;class cd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class U7 extends cd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function H7(e){return Me(e)&&e.name==="AuthApiError"}class uo extends cd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Na extends cd{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class bi extends Na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z7(e){return Me(e)&&e.name==="AuthSessionMissingError"}class cl extends Na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends Na{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nf extends Na{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W7(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class $2 extends Na{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D1 extends Na{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qv(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class U2 extends Na{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class L1 extends Na{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),H2=` 	
\r=`.split(""),q7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<H2.length;t+=1)e[H2[t].charCodeAt(0)]=-2;for(let t=0;t<Pp.length;t+=1)e[Pp[t].charCodeAt(0)]=t;return e})();function z2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pp[n]),t.queuedBits-=6}}function O3(e,t,r){const n=q7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function W2(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Y7(a,n,r)};for(let a=0;a<e.length;a+=1)O3(e.charCodeAt(a),i,s);return t.join("")}function V7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function G7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}V7(n,t)}}function Y7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)O3(e.charCodeAt(i),r,n);return new Uint8Array(t)}function K7(e){const t=[];return G7(e,r=>t.push(r)),new Uint8Array(t)}function ho(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>z2(i,r,n)),z2(null,r,n),t.join("")}function X7(e){return Math.round(Date.now()/1e3)+e}function Q7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mr=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},P3=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function J7(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const j3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Z7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",El=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},to=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ua=async(e,t)=>{await e.removeItem(t)};class Fm{constructor(){this.promise=new Fm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fm.promiseConstructor=Promise;function Vv(e){const t=e.split(".");if(t.length!==3)throw new L1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!B7.test(t[n]))throw new L1("JWT not in base64url format");return{header:JSON.parse(W2(t[0])),payload:JSON.parse(W2(t[1])),signature:Pl(t[2]),raw:{header:t[0],payload:t[1]}}}async function eH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tH(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function rH(e){return("0"+e.toString(16)).substr(-2)}function nH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,rH).join("")}async function iH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function sH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await iH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dl(e,t,r=!1){const n=nH();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await El(e,`${t}-code-verifier`,i);const s=await sH(n);return[s,n===s?"plain":"s256"]}const aH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oH(e){const t=e.headers.get(R1);if(!t||!t.match(aH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function uH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hl(e){if(!cH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dH(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function q2(e){return JSON.parse(JSON.stringify(e))}const io=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hH=[502,503,504];async function V2(e){var t;if(!Z7(e))throw new D1(io(e),0);if(hH.includes(e.status))throw new D1(io(e),e.status);let r;try{r=await e.json()}catch(s){throw new uo(io(s),s)}let n;const i=oH(e);if(i&&i.getTime()>=N3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new U2(io(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new U2(io(r),e.status,r.weak_password.reasons);throw new U7(io(r),e.status||500,n)}const fH=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ge(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[R1]||(s[R1]=N3["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await pH(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function pH(e,t,r,n,i,s){const a=fH(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new D1(io(u),0)}if(o.ok||await V2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await V2(u)}}function _i(e){var t;let r=null;vH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=X7(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function G2(e){const t=_i(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mH(e){return{data:e,error:null}}function gH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=iu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Y2(e){return e}function vH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yv=["global","local","others"];class yH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=j3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Yv[0]){if(Yv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yv.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:va})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iu(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:va})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,u;try{const h={nextPage:null,lastPage:0,total:0},f=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Y2});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);h[`${_}Page`]=x}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Me(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){hl(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:va})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hl(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:va})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){hl(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:va})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){hl(t.userId);try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hl(t.userId),hl(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,o,u;try{const h={nextPage:null,lastPage:0,total:0},f=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Y2});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);h[`${_}Page`]=x}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Me(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function K2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fl={debug:!!(globalThis&&P3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bH extends I3{}async function _H(e,t,r){fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function R3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wH(e){return parseInt(e,16)}function EH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function kH(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:u,resources:h,scheme:f,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=R3(e.address),b=f?`${f}://${n}`:n,x=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${g}

${x}`;let w=`URI: ${p}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),u&&(w+=`
Request ID: ${u}`),h){let A=`
Resources:`;for(const S of h){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);A+=`
- ${S}`}w+=A}return`${_}
${w}`}class Qt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class jp extends Qt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function TH({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(D3(a)){if(s.rp.id!==a)return new Qt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function SH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(D3(n)){if(r.rpId!==n)return new Qt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class CH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const AH=new CH;function NH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=iu(e,["challenge","user","excludeCredentials"]),s=Pl(t).buffer,a=Object.assign(Object.assign({},r),{id:Pl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:Pl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function OH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=iu(e,["challenge","allowCredentials"]),i=Pl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Pl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function PH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ho(new Uint8Array(e.response.attestationObject)),clientDataJSON:ho(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ho(new Uint8Array(i.authenticatorData)),clientDataJSON:ho(new Uint8Array(i.clientDataJSON)),signature:ho(new Uint8Array(i.signature)),userHandle:i.userHandle?ho(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function D3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function X2(){var e,t;return!!(Mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jp("Browser returned unexpected credential type",t)}:{data:null,error:new jp("Empty credential response",t)}}catch(t){return{data:null,error:TH({error:t,options:e})}}}async function RH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jp("Browser returned unexpected credential type",t)}:{data:null,error:new jp("Empty credential response",t)}}catch(t){return{data:null,error:SH({error:t,options:e})}}}const DH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},LH={userVerification:"preferred",hints:["security-key"]};function Ip(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const o=n[s];t(o)?n[s]=Ip(o,a):n[s]=Ip(a)}else n[s]=a}return n}function MH(e,t){return Ip(DH,e,t||{})}function FH(e,t){return Ip(LH,e,t||{})}class BH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const u=i??AH.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=MH(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await IH({publicKey:h,signal:u});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=FH(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await RH(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:u}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new cd("rpId is required for WebAuthn authentication")};try{if(!X2())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new cd("rpId is required for WebAuthn registration")};try{if(!X2())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:u,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in register",a)}}}}xH();const $H={url:L7,storageKey:M7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Q2(e,t,r){return await r()}const pl={};class dd{get jwks(){var t,r;return(r=(t=pl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pl[this.storageKey]=Object.assign(Object.assign({},pl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pl[this.storageKey]=Object.assign(Object.assign({},pl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dd.nextInstanceID,dd.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},$H),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=j3(i.fetch),this.lock=i.lock||Q2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_H:this.lock=Q2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new BH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:P3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=K2(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Mr()&&(r=J7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Mr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),W7(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new uo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:_i}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:v}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await dl(this.storage,this.storageKey)),s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:b},xform:_i})}else if("phone"in t){const{phone:f,password:p,options:v}=t;s=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:_i})}else throw new Af("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:G2})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:G2})}else throw new Af("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new cl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,o,u,h,f,p,v;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:x,wallet:_,statement:w,options:A}=t;let S;if(Mr())if(typeof _=="object")S=_;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")S=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const N=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href),P=await S.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=R3(P[0]);let j=(n=A==null?void 0:A.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const B=await S.request({method:"eth_chainId"});j=wH(B)}const D={domain:N.host,address:O,statement:w,uri:N.href,version:"1",chainId:j,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=A==null?void 0:A.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=kH(D),b=await S.request({method:"personal_sign",params:[EH(g),O]})}try{const{data:x,error:_}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_i});if(_)throw _;if(!x||!x.session||!x.user){const w=new cl;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(Me(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,i,s,a,o,u,h,f,p,v,g;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:_,wallet:w,statement:A,options:S}=t;let N;if(Mr())if(typeof w=="object")N=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))N=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const P=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const O=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),A?{statement:A}:null));let j;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")j=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)j=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${P.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const O=await N.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=O}}try{const{data:_,error:w}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ho(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:_i});if(w)throw w;if(!_||!_.session||!_.user){const A=new cl;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(Me(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_i});if(await ua(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new cl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_i}),{data:u,error:h}=o;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const f=new cl;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:u}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await dl(this.storage,this.storageKey));const{error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:o,options:u}=t,{data:h,error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new Af("You must provide either an email or phone number.")}catch(o){if(Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:_i});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,h=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;this.flowType==="pkce"&&([s,a]=await dl(this.storage,this.storageKey));const o=await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:mH});return this._returnResult(o)}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bi;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Af("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await to(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Gv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=dH(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:va}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bi}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:va})})}catch(r){if(Me(r))return z7(r)&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new bi;const a=i.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await dl(this.storage,this.storageKey));const{data:h,error:f}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:va});if(f)throw f;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Vv(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new bi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Mr())throw new Nf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $2("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:u,token_type:h}=t;if(!s||!o||!a||!h)throw new Nf("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let v=f+p;u&&(v=parseInt(u));const g=v-f;g*1e3<=wl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=v-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,f);const{data:x,error:_}=await this._getUser(s);if(_)throw _;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:a,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(H7(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Q7(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await dl(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,u,h,f;const{data:p,error:v}=s;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Mr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:u,access_token:h,nonce:f}=t,p=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:u,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_i}),{data:v,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new cl}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:g}))}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tH(async i=>(i>0&&await eH(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_i})),(i,s)=>{const a=200*Math.pow(2,i);return s&&qv(s)&&Date.now()+a-n<wl})}catch(n){if(this._debug(r,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await to(this.storage,this.storageKey);if(i&&this.userStorage){let a=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await El(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Gv()}else if(i&&!i.user&&!i.user){const a=await to(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ua(this.storage,this.storageKey+"-user"),await El(this.storage,this.storageKey,i)):i.user=Gv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Wv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),qv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fm;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new bi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Me(s)){const a={data:null,error:s};return qv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await El(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=q2(i);await El(this.storage,this.storageKey,s)}else{const i=q2(r);await El(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ua(this.storage,this.storageKey),await ua(this.storage,this.storageKey+"-code-verifier"),await ua(this.storage,this.storageKey+"-user"),this.userStorage&&await ua(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/wl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wl}ms, refresh threshold is ${I1} ticks`),i<=I1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await dl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:h}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PH(t.webauthn.credential_response):jH(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:NH(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:OH(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Vv(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const h=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new bi})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new bi});const a=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Mr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new bi});const a=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Mr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+$7>i)return n;const{data:s,error:a}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:u}}=Vv(n);r!=null&&r.allowExpired||lH(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=uH(i.alg),p=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,K7(`${o}.${u}`)))throw new L1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}}dd.nextInstanceID=0;const UH=dd;class HH extends UH{constructor(t){super(t)}}class zH{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const o=D7(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:C7,realtime:N7,auth:Object.assign(Object.assign({},A7),{storageKey:u}),global:S7},f=R7(n??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=j7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new LU(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new E7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new jU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:u,debug:h,throwOnError:f},p,v){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HH({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:u,debug:h,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ZU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WH=(e,t,r)=>new zH(e,t,r);function qH(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VH="https://ntmiycfydldoremofrbf.supabase.co",GH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im50bWl5Y2Z5ZGxkb3JlbW9mcmJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzMDUxNDcsImV4cCI6MjA3Nzg4MTE0N30.LvdzPQaM55tQ9t5yZt60K-lYNaKLRyTNtBQ92Mw5Kpc",Je=WH(VH,GH),xi={AUTH_ATTEMPT_STARTED:"auth_attempt_started",AUTH_SUCCESS:"auth_success",AUTH_FAILED:"auth_failed",AUTH_LOGOUT:"auth_logout",AUTH_REDIRECT_LOOP_DETECTED:"auth_redirect_loop_detected",FIRST_LOGIN_PAGE_VIEW:"first_login_page_view_in_session",AUTH_CALLBACK_STARTED:"auth_callback_started",AUTH_CALLBACK_SUCCESS:"auth_callback_success",AUTH_CALLBACK_ERROR:"auth_callback_error"},M1={GITHUB:"github",EMAIL:"email"},J2={LOGIN_PAGE:"login_page",AUTH_PAGE:"auth_page",AUTO_REDIRECT:"auto_redirect",PROTECTED_ROUTE:"protected_route"},Rp={NEW:"new",RETURNING:"returning"},cn={LOGIN_PAGE_VIEWS:"tb_login_page_views",LOGIN_PAGE_TRACKED:"tb_login_page_tracked",AUTH_ATTEMPT_ID:"tb_auth_attempt_id"},L3=k.createContext({}),Ln=()=>{const e=k.useContext(L3);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},YH=({children:e})=>{const[t,r]=k.useState(null),[n,i]=k.useState(null),[s,a]=k.useState(!0),o=Zr();k.useEffect(()=>{Je.auth.getSession().then(({data:{session:O}})=>{r((O==null?void 0:O.user)??null),O!=null&&O.user?f(O.user.id):a(!1)});const{data:{subscription:P}}=Je.auth.onAuthStateChange((O,j)=>{r((j==null?void 0:j.user)??null),j!=null&&j.user?f(j.user.id):(i(null),a(!1))});return()=>P.unsubscribe()},[]);const u=k.useCallback(()=>{try{sessionStorage.removeItem(cn.LOGIN_PAGE_VIEWS),sessionStorage.removeItem(cn.LOGIN_PAGE_TRACKED),sessionStorage.removeItem(cn.AUTH_ATTEMPT_ID)}catch{}},[]),h=k.useCallback(()=>{try{return sessionStorage.getItem(cn.AUTH_ATTEMPT_ID)}catch{return null}},[]),f=async(P,O=0,j=null)=>{try{const{data:R,error:F}=await Je.from("profiles").select("id, email, github_username, github_avatar_url, first_name, last_name, bio, linkedin_url, website_url, specialties, onboarding_completed, slack_joined, payments_setup, dev_env_setup, is_admin, created_at").eq("id",P).single();if(F){if(F.code==="PGRST116"&&O<3)return console.log(`Profile not ready yet, retrying in 500ms... (attempt ${O+1}/3)`),await new Promise(H=>setTimeout(H,500)),f(P,O+1,j);throw F}if(i(R),o&&R){const H=j||(R.github_username?M1.GITHUB:M1.EMAIL),Y=o.get_distinct_id()===P?Rp.RETURNING:Rp.NEW;o.capture(xi.AUTH_SUCCESS,{method:H,session_type:Y,attempt_id:h()}),o.identify(P,{email:R.email,github_username:R.github_username,name:[R.first_name,R.last_name].filter(Boolean).join(" ")||void 0,created_at:R.created_at,is_authenticated:!0,auth_method:H,last_auth_at:new Date().toISOString()}),u()}}catch(R){console.error("Error loading profile:",R),i(null)}finally{a(!1)}},N={user:t,profile:n,loading:s,signInWithGitHub:async()=>{try{const P=window.location.pathname.split("/").filter(Boolean);let O="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?P[0]==="Terminus-EC-Training-stateful"&&(O="/Terminus-EC-Training-stateful"):O="/Terminus-EC-Training-stateful";const j=`${window.location.origin}${O}/portal`;console.log(" OAuth Debug Info:"),console.log("  Current URL:",window.location.href),console.log("  Redirect To:",j),console.log("  Origin:",window.location.origin),console.log("  Pathname:",window.location.pathname);const{error:D}=await Je.auth.signInWithOAuth({provider:"github",options:{redirectTo:j}});if(D)throw D}catch(P){throw console.error("Error signing in with GitHub:",P),P}},signInWithEmail:async(P,O)=>{try{const{data:j,error:D}=await Je.auth.signInWithPassword({email:P,password:O});if(D)throw D;return j}catch(j){throw console.error("Error signing in with email:",j),j}},signUpWithEmail:async(P,O)=>{try{const j=window.location.pathname.split("/").slice(0,-1).join("/")||"",D=`${window.location.origin}${j}/portal`,{data:B,error:R}=await Je.auth.signUp({email:P,password:O,options:{emailRedirectTo:D}});if(R)throw R;return B}catch(j){throw console.error("Error signing up with email:",j),j}},signOut:async()=>{try{o&&o.capture(xi.AUTH_LOGOUT);const{error:P}=await Je.auth.signOut();if(P)throw P;i(null),o&&o.reset()}catch(P){throw console.error("Error signing out:",P),P}},deleteAccount:async()=>{try{const{error:P}=await Je.functions.invoke("delete-account",{method:"POST"});if(P)throw P;return r(null),i(null),o&&o.reset(),{error:null}}catch(P){return console.error("Error deleting account:",P),{error:P}}},completeOnboarding:async(P=[])=>{try{const O={onboarding_completed:!0};P&&P.length>0&&(O.specialties=P);const{error:j}=await Je.from("profiles").update(O).eq("id",t.id);if(j)throw j;i(D=>({...D,...O}))}catch(O){throw console.error("Error completing onboarding:",O),O}},updateProfile:async P=>{try{const{error:O}=await Je.from("profiles").update(P).eq("id",t.id);if(O)throw O;return i(j=>({...j,...P})),{error:null}}catch(O){return console.error("Error updating profile:",O),{error:O}}},resetPassword:async P=>{try{const O=window.location.pathname.split("/").filter(Boolean);let j="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?O[0]==="Terminus-EC-Training-stateful"&&(j="/Terminus-EC-Training-stateful"):j="/Terminus-EC-Training-stateful";const D=`${window.location.origin}${j}/reset-password`,{error:B}=await Je.auth.resetPasswordForEmail(P,{redirectTo:D});if(B)throw B;return{error:null}}catch(O){return console.error("Error resetting password:",O),{error:O}}},updatePassword:async P=>{try{const{error:O}=await Je.auth.updateUser({password:P});if(O)throw O;return{error:null}}catch(O){return console.error("Error updating password:",O),{error:O}}}};return c.jsx(L3.Provider,{value:N,children:e})},M3=k.createContext(),KH=({children:e})=>{const[t,r]=k.useState("light");k.useEffect(()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")},[]);const n=()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")};return c.jsx(M3.Provider,{value:{theme:t,toggleTheme:n},children:e})},F3=()=>k.useContext(M3),B3=k.createContext({}),$3=()=>{const e=k.useContext(B3);if(!e)throw new Error("useProgress must be used within a ProgressProvider");return e},XH=({children:e})=>{const{user:t}=Ln(),[r,n]=k.useState([]),[i,s]=k.useState({}),[a,o]=k.useState(!0);k.useEffect(()=>{u()},[]),k.useEffect(()=>{t?h():(s({}),o(!1))},[t]);const u=async()=>{try{const{data:_,error:w}=await Je.from("progress_items").select("id, category, title, display_order, is_core").order("display_order");if(w)throw w;n(_||[])}catch(_){console.error("Error fetching progress items:",_)}},h=async()=>{try{o(!0);const{data:_,error:w}=await Je.from("user_progress").select("progress_item_id, completed, completed_at").eq("user_id",t.id);if(w)throw w;const A={};_==null||_.forEach(S=>{A[S.progress_item_id]=S}),s(A)}catch(_){console.error("Error fetching user progress:",_)}finally{o(!1)}},x={progressItems:r,userProgress:i,loading:a,toggleCompletion:async _=>{if(!t)return;const w=i[_],A=!(w!=null&&w.completed);s(S=>({...S,[_]:{...S[_],completed:A,completed_at:A?new Date().toISOString():null}}));try{const{error:S}=await Je.from("user_progress").upsert({user_id:t.id,progress_item_id:_,completed:A,completed_at:A?new Date().toISOString():null},{onConflict:"user_id,progress_item_id"});if(S)throw S}catch(S){console.error("Error toggling completion:",S),s(N=>({...N,[_]:w}))}},isCompleted:_=>{var w;return((w=i[_])==null?void 0:w.completed)||!1},getCompletionPercentage:()=>{if(r.length===0)return 0;const _=Object.values(i).filter(w=>w.completed).length;return Math.round(_/r.length*100)},getCoreCompletionPercentage:()=>{const _=r.filter(A=>A.is_core);if(_.length===0)return 0;const w=_.filter(A=>{var S;return(S=i[A.id])==null?void 0:S.completed}).length;return Math.round(w/_.length*100)},getCompletedCount:()=>Object.values(i).filter(_=>_.completed).length,totalItems:r.length};return c.jsx(B3.Provider,{value:x,children:e})},QH={success:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),c.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),warning:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),c.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),c.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},JH=({id:e,type:t="info",message:r,onClose:n,duration:i=5e3})=>{const[s,a]=k.useState(!1);k.useEffect(()=>{const u=setTimeout(()=>{o()},i);return()=>clearTimeout(u)},[i]);const o=()=>{a(!0),setTimeout(()=>{n(e)},200)};return c.jsxs("div",{className:`ui-toast ${t} ${s?"closing":""}`,children:[c.jsx("div",{className:"ui-toast-icon",children:QH[t]}),c.jsx("div",{className:"ui-toast-content",children:r}),c.jsx("button",{className:"ui-toast-close",onClick:o,"aria-label":"Close notification",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},ZH=({toasts:e,removeToast:t})=>c.jsx("div",{className:"ui-toast-container",children:e.map(r=>c.jsx(JH,{...r,onClose:t},r.id))}),U3=k.createContext(null),ez=()=>{const e=k.useContext(U3);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},tz=({children:e})=>{const[t,r]=k.useState([]),n=k.useCallback(({type:f="info",message:p,duration:v=5e3})=>{const g=Math.random().toString(36).substr(2,9);return r(b=>[...b,{id:g,type:f,message:p,duration:v}]),g},[]),i=k.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),s=k.useCallback((f,p)=>n({type:"success",message:f,duration:p}),[n]),a=k.useCallback((f,p)=>n({type:"error",message:f,duration:p}),[n]),o=k.useCallback((f,p)=>n({type:"warning",message:f,duration:p}),[n]),u=k.useCallback((f,p)=>n({type:"info",message:f,duration:p}),[n]),h={addToast:n,removeToast:i,success:s,error:a,warning:o,info:u,toasts:t};return c.jsxs(U3.Provider,{value:h,children:[e,c.jsx(ZH,{toasts:t,removeToast:i})]})},rz=["Waking up the task hamsters...","Fetching challenges from the cloud...","Gathering inspiration...","Polishing the task gems...","Summoning the task wizards...","Loading amazing challenges...","Brewing fresh tasks...","Unpacking brain teasers...","Dusting off the puzzle shelf...","Herding digital cats...","Consulting the oracle...","Spinning up the challenge machine...","Searching for exciting problems...","Preparing your adventure...","Rolling for initiative...","Loading the good stuff...","Calibrating difficulty meters...","Warming up the neurons...","Charging the creativity core...","Assembling the quest board..."],H3=["Just a moment...","Almost there...","Loading the magic...","Working on it...","Hang tight...","Getting things ready..."],nz=["Gathering your conquests...","Locating your adventures...","Counting your victories...","Rounding up your challenges...","Retrieving your battle plans...","Fetching your quest log...","Loading your journey so far...","Summoning your progress...","Dusting off your trophy case...","Assembling your achievements..."],iz=["Unwrapping this challenge...","Fetching the details...","Preparing the briefing...","Loading the specifics...","Getting the full story...","Gathering intel...","Reading the fine print...","Assembling the facts..."],sz=["Checking your credentials...","Verifying your identity...","Opening the portal...","Rolling out the red carpet...","Finding your profile...","Preparing your workspace...","Unlocking the gates...","Waving you through...","Confirming it's really you...","Setting up your station..."],az=["Crunching the numbers...","Gathering insights...","Fetching the stats...","Counting all the things...","Consulting the oracles...","Running the analysis...","Preparing your command center...","Loading the control room..."];function oz(e=H3){return e[Math.floor(Math.random()*e.length)]}function Id(e=H3,t=2500){const[r,n]=k.useState(()=>oz(e)),i=k.useRef(new Set);return k.useEffect(()=>{i.current=new Set;const s=setInterval(()=>{i.current.size>=e.length&&(i.current=new Set);let a;do a=Math.floor(Math.random()*e.length);while(i.current.has(a)&&i.current.size<e.length);i.current.add(a),n(e[a])},t);return()=>clearInterval(s)},[e,t]),r}function We({variant:e="primary",size:t="md",loading:r=!1,disabled:n=!1,className:i="",children:s,...a}){const o=["ui-btn",`ui-btn-${e}`,`ui-btn-${t}`,r&&"ui-btn-loading",i].filter(Boolean).join(" ");return c.jsxs("button",{className:o,disabled:n||r,...a,children:[r&&c.jsx("span",{className:"ui-btn-spinner"}),c.jsx("span",{className:r?"ui-btn-content-hidden":"",children:s})]})}function z3({variant:e="default",padding:t="md",hoverable:r=!1,className:n="",children:i,...s}){const a=["ui-card",`ui-card-${e}`,`ui-card-padding-${t}`,r&&"ui-card-hoverable",n].filter(Boolean).join(" ");return c.jsx("div",{className:a,...s,children:i})}function Kv({type:e="text",label:t,error:r,id:n,className:i="",...s}){const a=n||`input-${Math.random().toString(36).substr(2,9)}`;return c.jsxs("div",{className:`ui-input-group ${r?"ui-input-error":""} ${i}`,children:[t&&c.jsx("label",{htmlFor:a,className:"ui-input-label",children:t}),c.jsx("input",{type:e,id:a,className:"ui-input",...s}),r&&c.jsx("span",{className:"ui-input-error-message",children:r})]})}function lz({className:e="",onClear:t,value:r,...n}){return c.jsxs("div",{className:`ui-search-wrapper ${e}`,children:[c.jsxs("svg",{className:"ui-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("path",{d:"m21 21-4.35-4.35"})]}),c.jsx("input",{type:"search",className:"ui-input ui-search-input",value:r,...n}),r&&t&&c.jsx("button",{type:"button",className:"ui-search-clear",onClick:t,"aria-label":"Clear search",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function Gi({variant:e="default",size:t="md",className:r="",children:n,...i}){const s=["ui-badge",`ui-badge-${e}`,`ui-badge-${t}`,r].filter(Boolean).join(" ");return c.jsx("span",{className:s,...i,children:n})}function Z2({checked:e=!1,indeterminate:t=!1,onChange:r,disabled:n=!1,size:i="md",label:s,className:a="",...o}){const u=k.useRef(null);k.useEffect(()=>{u.current&&(u.current.indeterminate=t)},[t]);const h=["ui-checkbox",`ui-checkbox-${i}`,e&&"ui-checkbox-checked",t&&"ui-checkbox-indeterminate",n&&"ui-checkbox-disabled",a].filter(Boolean).join(" "),f=v=>{n||r&&(v.stopPropagation(),r(!e))},p=c.jsxs("div",{className:h,onClick:f,children:[c.jsx("input",{ref:u,type:"checkbox",checked:e,disabled:n,onChange:()=>r==null?void 0:r(!e),className:"ui-checkbox-input",...o}),c.jsx("div",{className:"ui-checkbox-box",children:t?c.jsx("div",{className:"ui-checkbox-indeterminate-icon"}):c.jsx("svg",{className:"ui-checkbox-check-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})})]});return s?c.jsxs("label",{className:`ui-checkbox-label ${n?"ui-checkbox-label-disabled":""}`,children:[p,c.jsx("span",{className:"ui-checkbox-label-text",children:s})]}):p}const uz=100;function Sx({isOpen:e,onClose:t,closeOnOverlay:r=!0,closeOnEscape:n=!0,showCloseButton:i=!1,size:s="md",className:a="",children:o,...u}){const h=k.useRef(null),[f,p]=k.useState(0),[v,g]=k.useState(!1),b=k.useRef(0),x=k.useRef(0),_=k.useCallback(j=>{j.key==="Escape"&&n&&(t==null||t())},[n,t]);k.useEffect(()=>(e&&(document.addEventListener("keydown",_),document.body.style.overflow="hidden",p(0),g(!1)),()=>{document.removeEventListener("keydown",_),document.body.style.overflow=""}),[e,_]);const w=typeof window<"u"&&window.innerWidth<=480,A=k.useCallback(j=>{if(!w)return;const D=h.current;if(!D)return;const B=j.touches[0],R=D.getBoundingClientRect();B.clientY-R.top<=60&&(b.current=B.clientY,x.current=Date.now(),g(!0),j.preventDefault())},[w]),S=k.useCallback(j=>{if(!v||!w)return;const B=j.touches[0].clientY-b.current;B>0&&(p(B),j.preventDefault())},[v,w]),N=k.useCallback(()=>{if(!v||!w)return;const j=Date.now()-x.current,D=f/j;f>uz||D>.5&&f>30?(p(window.innerHeight),setTimeout(()=>{t==null||t(),p(0)},200)):p(0),g(!1)},[v,w,f,t]);if(!e)return null;const P=j=>{j.target===j.currentTarget&&r&&(t==null||t())},O=w&&f>0?{transform:`translateY(${f}px)`,transition:v?"none":"transform 0.2s ease-out"}:{};return c.jsx("div",{className:"ui-modal-overlay",onClick:P,...u,children:c.jsxs("div",{ref:h,className:`ui-modal-content ui-modal-${s} ${a}`,style:O,onTouchStart:A,onTouchMove:S,onTouchEnd:N,children:[i&&c.jsx("button",{className:"ui-modal-close",onClick:t,"aria-label":"Close",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o]})})}function W3({size:e="md",className:t="",...r}){const n=["ui-spinner",`ui-spinner-${e}`,t].filter(Boolean).join(" ");return c.jsx("div",{className:n,...r})}function Ta({size:e="md",message:t,className:r="",...n}){return c.jsxs("div",{className:`ui-loading-state ${r}`,...n,children:[c.jsx(W3,{size:e}),t&&c.jsx("p",{className:"ui-loading-message",children:t})]})}function cz({variant:e="warning",title:t,children:r,className:n="",dismissible:i=!1,onDismiss:s,...a}){const o={warning:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),c.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),c.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),success:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),c.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})};return c.jsxs("div",{className:`announcement-banner announcement-banner--${e} ${n}`,role:"alert",...a,children:[c.jsx("div",{className:"announcement-banner__icon",children:o[e]||o.warning}),c.jsxs("div",{className:"announcement-banner__content",children:[t&&c.jsx("strong",{className:"announcement-banner__title",children:t}),r&&c.jsx("div",{className:"announcement-banner__body",children:r})]}),i&&c.jsx("button",{type:"button",className:"announcement-banner__dismiss",onClick:s,"aria-label":"Dismiss",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}const q3=k.createContext(null);function dz({value:e,onChange:t,className:r="",children:n,...i}){return c.jsx(q3.Provider,{value:{value:e,onChange:t},children:c.jsx("div",{className:`ui-tabs ${r}`,...i,children:n})})}function Xv({value:e,className:t="",children:r,...n}){const i=k.useContext(q3);if(!i)throw new Error("Tab must be used within a Tabs component");const{value:s,onChange:a}=i,o=s===e;return c.jsx("button",{type:"button",className:`ui-tab ${o?"active":""} ${t}`,onClick:()=>a(e),role:"tab","aria-selected":o,...n,children:r})}function hz({steps:e=1,currentStep:t=0,onStepClick:r,className:n="",...i}){const s=a=>{r&&r(a)};return c.jsx("div",{className:`ui-step-indicators ${n}`,...i,children:Array.from({length:e},(a,o)=>c.jsx("button",{type:"button",className:["ui-step-dot",o===t&&"active",o<t&&"completed"].filter(Boolean).join(" "),onClick:()=>s(o),disabled:!r,"aria-label":`Step ${o+1} of ${e}`,"aria-current":o===t?"step":void 0},o))})}const V3=({className:e="",...t})=>c.jsx("div",{className:`ui-logo-lockup ${e}`,...t,children:c.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"ui-snorkel-logo-img"})}),G3=({className:e="",children:t,...r})=>c.jsx("nav",{className:`ui-navbar ${e}`,...r,children:t}),pa=({to:e,href:t,children:r,className:n="",active:i=!1,variant:s="default",as:a,...o})=>{const u=["ui-nav-link",i&&"active",s==="button"&&"variant-button",n].filter(Boolean).join(" ");return a?c.jsx(a,{className:u,...o,children:r}):t?c.jsx("a",{href:t,className:u,...o,children:r}):e?c.jsx(nr,{to:e,className:u,...o,children:r}):c.jsx("button",{className:u,...o,children:r})};function eC(e,t){return!t||!e?e:e.split(new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi")).map((n,i)=>n.toLowerCase()===t.toLowerCase()?c.jsx("mark",{className:"search-highlight",children:n},i):n)}function tC(e){if(!e)return null;const t=new Date(e),n=new Date-t,i=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),a=Math.floor(n/(1e3*60*60*24));return i<1?"Just now":i<60?`${i}m ago`:s<24?`${s}h ago`:a===1?"1 day ago":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} weeks ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const Cx=({difficulty:e})=>{const t=e==null?void 0:e.toLowerCase();let r=0;return t==="hard"?r=3:t==="medium"?r=2:t==="easy"&&(r=1),c.jsx("div",{className:"task-card-difficulty",title:`Difficulty: ${e}`,children:[...Array(3)].map((n,i)=>c.jsx("span",{className:i<r?"active":"inactive",children:""},i))})};function ko({task:e,isCompleted:t=!1,isHighlighted:r=!1,searchQuery:n="",onClick:i,footer:s,claimedAt:a,completedAt:o,statusBadge:u,className:h=""}){const f=k.useMemo(()=>{const x=(e==null?void 0:e.title)||"Task";return n?eC(x,n):x},[e==null?void 0:e.title,n]),p=k.useMemo(()=>{const x=(e==null?void 0:e.subcategory)||(e==null?void 0:e.subsubcategory);return!n||!x?x:eC(x,n)},[e==null?void 0:e.subcategory,e==null?void 0:e.subsubcategory,n]),v=!!i,g=["task-card",t&&"task-card--completed",r&&"task-card--highlighted",h].filter(Boolean).join(" "),b=x=>{const _=x==null?void 0:x.toLowerCase().replace(/\s+/g,"-");return _==="in-progress"?"info":_==="waiting-on-review"?"warning":_==="accepted"?"success":"default"};return c.jsxs(z3,{variant:"bordered",padding:"sm",hoverable:v,className:g,onClick:i,role:v?"button":void 0,tabIndex:v?0:void 0,onKeyDown:v?x=>x.key==="Enter"&&(i==null?void 0:i(x)):void 0,children:[t&&c.jsx("div",{className:"task-card__ribbon",children:c.jsx("span",{children:"Accepted"})}),c.jsx("div",{className:"task-card__subcategory",children:p||(e==null?void 0:e.category)}),c.jsx("div",{className:"task-card__divider"}),c.jsx("span",{className:"task-card__label",children:"Task"}),c.jsxs("div",{className:"task-card__title-row",children:[c.jsx("h3",{className:"task-card__title",title:(e==null?void 0:e.title)||"Task",children:f}),(e==null?void 0:e.difficulty)&&c.jsx(Cx,{difficulty:e.difficulty})]}),(a||o||u)&&c.jsxs("div",{className:"task-card__meta",children:[u&&c.jsx(Gi,{variant:b(u),size:"sm",children:u}),(a||o)&&c.jsxs("span",{className:`task-card__timestamp ${t&&o?"task-card__timestamp--accepted":""}`,children:[t&&o?c.jsx("span",{className:"task-card__timestamp-icon",children:""}):c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t&&o?`Accepted ${tC(o)}`:`Claimed ${tC(a)}`]})]}),s&&c.jsx("div",{className:"task-card__footer",children:s})]})}const Y3="tasks_cache_v5",fz=1800*1e3,pz=()=>{try{const e=localStorage.getItem(Y3);if(!e)return null;const{tasks:t,timestamp:r}=JSON.parse(e),n=Date.now()-r>fz;return{tasks:t,isExpired:n}}catch{return null}},mz=e=>{try{localStorage.setItem(Y3,JSON.stringify({tasks:e,timestamp:Date.now()}))}catch{}},rC=(e,t)=>{try{const r=pz();if(!(r!=null&&r.tasks))return;const n=r.tasks.map(i=>i.id===e?{...i,is_selected:t}:i);mz(n)}catch{}},Be={CLAIMED:"claimed",IN_PROGRESS:"in_progress",WAITING_REVIEW:"waiting_review",ACCEPTED:"accepted"},K3={[Be.CLAIMED]:"Claimed",[Be.IN_PROGRESS]:"In Progress",[Be.WAITING_REVIEW]:"Waiting on Review",[Be.ACCEPTED]:"Accepted"},Ui=3,X3="selected_tasks_cache_v3",gz=e=>{try{const t=localStorage.getItem(`${X3}_${e}`);return t?JSON.parse(t):null}catch{return null}},nC=(e,t)=>{try{localStorage.setItem(`${X3}_${e}`,JSON.stringify(t))}catch{}};function au(){const{user:e}=Ln(),t=Zr(),[r,n]=k.useState([]),[i,s]=k.useState(!0),[a,o]=k.useState(null),[u,h]=k.useState(0),f=k.useRef(null),p=k.useRef(!1);k.useEffect(()=>{var j;if(e){const D=gz(e.id);return((j=D==null?void 0:D.tasks)==null?void 0:j.length)>0?(n(D.tasks),h(D.activeCount||0),s(!1),v(!1)):v(!0),f.current=Je.channel(`my_tasks_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks",filter:`user_id=eq.${e.id}`},B=>{setTimeout(()=>v(!1),100)}).subscribe(),()=>{f.current&&Je.removeChannel(f.current)}}},[e]);const v=async(j=!0)=>{if(!p.current){p.current=!0;try{j&&s(!0),o(null);const{data:D,error:B}=await Je.from("selected_tasks").select("task_id, selected_at, first_commit_at, completed_at, status, started_at, submitted_for_review_at").eq("user_id",e.id);if(B)throw B;if(!D||D.length===0){n([]),h(0),s(!1),p.current=!1,e&&nC(e.id,{tasks:[],activeCount:0});return}const R=D.filter(K=>K.status===Be.CLAIMED||K.status===Be.IN_PROGRESS).length;h(R);const F=D.map(K=>K.task_id),{data:H,error:Y}=await Je.from("v_tasks_with_priorities").select("id, category, subcategory, subsubcategory, title, description, difficulty, is_selected, is_highlighted, priority_tag, tag_label, display_order").in("id",F);if(Y)throw Y;const V=(H==null?void 0:H.map(K=>{const Z=D.find(oe=>oe.task_id===K.id);return{...K,selected_at:Z==null?void 0:Z.selected_at,first_commit_at:Z==null?void 0:Z.first_commit_at,completed_at:Z==null?void 0:Z.completed_at,status:(Z==null?void 0:Z.status)||Be.CLAIMED,started_at:Z==null?void 0:Z.started_at,submitted_for_review_at:Z==null?void 0:Z.submitted_for_review_at}}).sort((K,Z)=>{const oe={[Be.IN_PROGRESS]:0,[Be.CLAIMED]:1,[Be.WAITING_REVIEW]:2,[Be.ACCEPTED]:3};return oe[K.status]!==oe[Z.status]?oe[K.status]-oe[Z.status]:new Date(Z.selected_at)-new Date(K.selected_at)}))||[];n(V),e&&nC(e.id,{tasks:V,activeCount:R})}catch(D){console.error("Error fetching selected tasks:",D),o(D.message)}finally{p.current=!1,s(!1)}}},g=async j=>{if(!e)throw new Error("User not authenticated");try{const D=r.find(R=>R.id===j),{error:B}=await Je.from("selected_tasks").delete().match({user_id:e.id,task_id:j});if(B)throw B;return t&&D&&t.capture("task_abandoned",{task_id:j,task_category:D.category,task_subcategory:D.subcategory,task_status_at_abandon:D.status,task_difficulty:D.difficulty}),n(R=>R.filter(F=>F.id!==j)),rC(j,!1),D&&(D.status===Be.CLAIMED||D.status===Be.IN_PROGRESS)&&h(R=>Math.max(0,R-1)),!0}catch(D){throw console.error("Error unselecting task:",D),await v(),D}},b=async(j,D)=>{if(!e)throw new Error("User not authenticated");try{const B=new Date().toISOString(),R={status:D},F=r.find(Y=>Y.id===j);D===Be.IN_PROGRESS?R.started_at=B:D===Be.WAITING_REVIEW?R.submitted_for_review_at=B:D===Be.ACCEPTED&&(R.completed_at=B);const{error:H}=await Je.from("selected_tasks").update(R).match({user_id:e.id,task_id:j});if(H)throw H;if(t&&F){const Y={[Be.IN_PROGRESS]:"task_started",[Be.WAITING_REVIEW]:"task_submitted_for_review",[Be.ACCEPTED]:"task_accepted"}[D];Y&&t.capture(Y,{task_id:j,category:F.category,subcategory:F.subcategory})}return n(Y=>{const V=Y.map(Z=>Z.id===j?{...Z,...R}:Z),K={[Be.IN_PROGRESS]:0,[Be.CLAIMED]:1,[Be.WAITING_REVIEW]:2,[Be.ACCEPTED]:3};return V.sort((Z,oe)=>K[Z.status]!==K[oe.status]?K[Z.status]-K[oe.status]:new Date(oe.selected_at)-new Date(Z.selected_at))}),D===Be.WAITING_REVIEW||D===Be.ACCEPTED?h(Y=>Math.max(0,Y-1)):(D===Be.CLAIMED||D===Be.IN_PROGRESS)&&h(Y=>Y+1),!0}catch(B){throw console.error("Error updating task status:",B),await v(),B}},x=j=>b(j,Be.IN_PROGRESS),_=j=>b(j,Be.WAITING_REVIEW),w=j=>b(j,Be.ACCEPTED),A=async j=>{if(!e)throw new Error("User not authenticated");if(u>=Ui)throw new Error(`You can only have up to ${Ui} active tasks. Submit tasks for review or wait for acceptance to free up slots.`);return b(j,Be.IN_PROGRESS)},S=w,N=A,P=async j=>{if(!e)throw new Error("User not authenticated");try{const D=new Date().toISOString(),{error:B}=await Je.from("selected_tasks").update({first_commit_at:D}).match({user_id:e.id,task_id:j});if(B)throw B;return n(R=>R.map(F=>F.id===j?{...F,first_commit_at:D}:F)),!0}catch(D){throw console.error("Error marking first commit:",D),await v(),D}},O=async(j,D={})=>{if(!e)throw new Error("User not authenticated");if(u>=Ui)throw new Error(`You can only have up to ${Ui} active tasks. Submit tasks for review or complete them to claim more.`);try{const{error:B}=await Je.from("selected_tasks").insert({user_id:e.id,task_id:j,status:"claimed"});if(B)throw B.code==="23505"?new Error("This task has already been selected by another user"):B.code==="P0001"?new Error(B.message):B;return h(R=>R+1),rC(j,!0),t&&t.capture("task_claimed",{task_id:j,category:D.category,subcategory:D.subcategory}),await v(!1),!0}catch(B){throw console.error("Error selecting task:",B),await v(!1),B}};return{selectedTasks:r,loading:i,error:a,activeTaskCount:u,canClaimMore:u<Ui,refetch:v,selectTask:O,unselectTask:g,markFirstCommit:P,startTask:x,submitForReview:_,acceptTask:w,reopenTask:A,updateTaskStatus:b,completeTask:S,uncompleteTask:N}}function Q3({task:e,isOpen:t,onClose:r,onTaskUpdate:n,contextTasks:i=[],onNavigate:s,showNavigation:a=!1}){const o=ht(),u=Zr(),{selectTask:h,unselectTask:f,activeTaskCount:p,canClaimMore:v}=au(),[g,b]=k.useState(!1),[x,_]=k.useState(!1),w=k.useRef(null),[A,S]=k.useState((e==null?void 0:e.description)||null),[N,P]=k.useState(!1);k.useEffect(()=>{if(!t||!(e!=null&&e.id))return;if(e.description){S(e.description);return}(async()=>{P(!0);try{const{data:V,error:K}=await Je.from("task_inspiration").select("description, title").eq("id",e.id).single();if(K)throw K;S((V==null?void 0:V.description)||"No description available."),V!=null&&V.title&&!e.title&&(e.title=V.title)}catch(V){console.error("Error fetching task description:",V),S("Failed to load description.")}finally{P(!1)}})()},[t,e==null?void 0:e.id,e==null?void 0:e.description]),k.useEffect(()=>{S((e==null?void 0:e.description)||null)},[e==null?void 0:e.id]),k.useEffect(()=>{t&&e&&u&&u.capture("task_card_viewed",{task_id:e.id,task_category:e.category,task_subcategory:e.subcategory,task_difficulty:e.difficulty,is_special:e.is_special||e.priority_tag||e.is_highlighted})},[t,e==null?void 0:e.id,u]),k.useEffect(()=>{(!t||!e)&&_(!1)},[t,e==null?void 0:e.id]),k.useEffect(()=>{if(!x||!w.current)return;const Y=w.current,V=["#fbbf24","#34d399","#60a5fa","#f472b6","#a78bfa","#fb923c"],K=50;for(let oe=0;oe<K;oe++){const te=document.createElement("div");te.className="confetti-piece",te.style.setProperty("--x",`${Math.random()*100-50}vw`),te.style.setProperty("--rotation",`${Math.random()*720-360}deg`),te.style.left=`${Math.random()*100}%`,te.style.backgroundColor=V[Math.floor(Math.random()*V.length)],te.style.animationDelay=`${Math.random()*.5}s`,te.style.animationDuration=`${1+Math.random()*1}s`,Y.appendChild(te)}const Z=setTimeout(()=>{Y.querySelectorAll(".confetti-piece").forEach(oe=>oe.remove())},3e3);return()=>clearTimeout(Z)},[x]),k.useEffect(()=>{if(!t||!a||x)return;const Y=V=>{V.key==="ArrowLeft"?B("prev"):V.key==="ArrowRight"&&B("next")};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[t,e,i,x,a]);const O=()=>{_(!1),r==null||r()},j=async()=>{if(!(!e||g)){b(!0);try{await h(e.id,{category:e.category,subcategory:e.subcategory}),_(!0),n==null||n()}catch(Y){console.error("Error claiming task:",Y),alert(Y.message||"Failed to claim task. Please try again.")}finally{b(!1)}}},D=async()=>{if(e&&window.confirm("Are you sure you want to release this task?"))try{await f(e.id),n==null||n(),O()}catch(Y){console.error("Error releasing task:",Y)}},B=Y=>{if(!e||i.length===0)return;const V=i.findIndex(Z=>Z.id===e.id);if(V===-1)return;let K;Y==="next"?(K=V+1,K<i.length&&(s==null||s(i[K]))):(K=V-1,K>=0&&(s==null||s(i[K])))},R=e&&i.length>0?i.findIndex(Y=>Y.id===e.id):-1,F=R>0,H=R!==-1&&R<i.length-1;return e?c.jsx(Sx,{isOpen:t,onClose:O,size:"lg",className:"task-detail-modal",children:x?c.jsxs("div",{className:"task-claim-success",ref:w,children:[c.jsx("div",{className:"success-icon-wrapper",children:c.jsx("div",{className:"success-icon",children:""})}),c.jsx("h2",{children:"Task Claimed!"}),c.jsx("p",{children:"This task has been added to your list."}),c.jsxs("div",{className:"success-actions-stack",children:[c.jsx(We,{variant:"primary",onClick:O,style:{width:"100%"},children:"Continue Browsing"}),c.jsx(We,{variant:"secondary",onClick:()=>{O(),o("/portal/my-tasks")},style:{width:"100%"},children:"Go to My Tasks"}),c.jsx(We,{variant:"ghost",onClick:D,style:{color:"#dc2626",width:"100%"},children:"Give task back"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"task-detail-modal-header",children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{children:[c.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[c.jsxs("div",{className:"task-breadcrumb",children:[c.jsx("span",{className:"breadcrumb-segment parent",children:e.category}),c.jsx("span",{className:"breadcrumb-separator",children:"/"}),c.jsx("span",{className:"breadcrumb-segment current",children:e.subcategory||e.subsubcategory})]}),e.difficulty&&c.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:c.jsx(Cx,{difficulty:e.difficulty})})]}),c.jsx("h2",{children:e.title||"Your challenge"})]}),a&&i.length>1&&c.jsxs("div",{className:"modal-navigation",style:{display:"flex",gap:"8px"},children:[c.jsx("button",{className:"modal-nav-btn",onClick:()=>B("prev"),disabled:!F,title:"Previous Task (Left Arrow)",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsx("button",{className:"modal-nav-btn",onClick:()=>B("next"),disabled:!H,title:"Next Task (Right Arrow)",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}),c.jsx("div",{className:"task-detail-modal-body",children:N?c.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"Loading description..."}):c.jsx("p",{children:A||"No description available."})}),c.jsxs("div",{className:"task-detail-modal-footer",children:[c.jsxs("div",{className:"modal-footer-info",children:[(e.is_special||e.priority_tag||e.is_highlighted)&&c.jsx(Gi,{variant:"accent",children:"Double Pay"}),c.jsxs("span",{className:"active-task-count",children:["Your Active Tasks: ",c.jsxs("strong",{style:{color:v?"var(--text-primary)":"var(--color-warning)"},children:[p,"/",Ui]})]})]}),c.jsxs("div",{className:"footer-buttons",children:[c.jsx(We,{variant:"ghost",onClick:O,disabled:g,className:"modal-cancel-btn",children:"Cancel"}),c.jsx(We,{variant:"secondary",onClick:()=>{O(),o("/portal/tasks")},disabled:g,children:"Browse Tasks"}),c.jsx(We,{variant:"primary",onClick:j,loading:g,disabled:!v,title:v?"":`You can only have ${Ui} active tasks. Submit tasks for review to free up slots.`,children:v?"Claim Task":"Limit Reached"})]})]})]})}):null}function J3({task:e,isOpen:t,onClose:r,onTaskUpdate:n}){const{unselectTask:i,startTask:s,submitForReview:a,acceptTask:o,reopenTask:u,canClaimMore:h}=au(),[f,p]=k.useState(!1),[v,g]=k.useState(null),b=(v==null?void 0:v.id)===(e==null?void 0:e.id)?v:e,x=()=>{g(null),r==null||r()},_=async()=>{if(!(!b||f)){p(!0);try{await s(b.id),x(),n==null||n({...b,status:Be.IN_PROGRESS,started_at:new Date().toISOString()})}catch(B){console.error("Error starting task:",B),alert(B.message)}finally{p(!1)}}},w=async()=>{if(!(!b||f)){p(!0);try{await a(b.id),x(),n==null||n({...b,status:Be.WAITING_REVIEW})}catch(B){console.error("Error submitting task for review:",B),alert(B.message)}finally{p(!1)}}},A=async()=>{if(!(!b||f)){p(!0);try{await o(b.id),x(),n==null||n({...b,status:Be.ACCEPTED,completed_at:new Date().toISOString()})}catch(B){console.error("Error accepting task:",B),alert(B.message)}finally{p(!1)}}},S=async()=>{if(!(!b||f)){p(!0);try{await u(b.id),x(),n==null||n({...b,status:Be.IN_PROGRESS})}catch(B){console.error("Error reopening task:",B),alert(B.message)}finally{p(!1)}}},N=async()=>{if(!(!b||f)&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await i(b.id),x()}catch(B){console.error("Error abandoning task:",B)}finally{p(!1)}}};if(!b)return null;const P=b.status,O=P===Be.CLAIMED||P===Be.IN_PROGRESS,j=P===Be.WAITING_REVIEW,D=P===Be.ACCEPTED;return c.jsx(Sx,{isOpen:t,onClose:x,size:"lg",className:"task-detail-modal",children:c.jsxs(c.Fragment,{children:[D&&c.jsx("div",{className:"modal-ribbon",children:c.jsx("span",{children:"Accepted"})}),c.jsx("div",{className:"task-detail-modal-header",children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[c.jsxs("div",{children:[c.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[c.jsxs("div",{className:"task-breadcrumb",children:[c.jsx("span",{className:"breadcrumb-segment parent",children:b.category}),c.jsx("span",{className:"breadcrumb-separator",children:"/"}),c.jsx("span",{className:"breadcrumb-segment current",children:b.subcategory||b.subsubcategory})]}),b.difficulty&&c.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:c.jsx(Cx,{difficulty:b.difficulty})})]}),c.jsx("h2",{children:"Your challenge"})]}),P===Be.IN_PROGRESS&&c.jsx(Gi,{variant:"info",style:{flexShrink:0},children:"In Progress"}),j&&c.jsx(Gi,{variant:"warning",style:{flexShrink:0},children:"Waiting on Review"})]})}),c.jsxs("div",{className:"task-detail-modal-body",children:[c.jsx("p",{children:b.description}),c.jsxs("div",{className:"modal-timeline-info",style:{marginTop:"var(--space-4)",fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:[b.selected_at&&c.jsxs("div",{children:["Claimed on ",new Date(b.selected_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),b.started_at&&c.jsxs("div",{children:["Started on ",new Date(b.started_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),b.submitted_for_review_at&&c.jsxs("div",{children:["Submitted for review on ",new Date(b.submitted_for_review_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),D&&b.completed_at&&c.jsxs("div",{children:[" Accepted on ",new Date(b.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]})]}),c.jsxs("div",{className:"task-detail-modal-footer",children:[(b.is_special||b.priority_tag||b.is_highlighted)&&c.jsx("div",{className:"modal-footer-info",children:c.jsx(Gi,{variant:"accent",children:"Double Pay"})}),O&&c.jsx(We,{variant:"danger",onClick:N,disabled:f,className:"modal-abandon-btn",children:"Abandon Task"}),P===Be.CLAIMED&&c.jsx(We,{variant:"primary",onClick:_,loading:f,children:"Started working on this task"}),P===Be.IN_PROGRESS&&c.jsx(We,{variant:"primary",onClick:w,loading:f,children:"Submitted for review"}),j&&c.jsx(We,{variant:"primary",onClick:A,loading:f,children:"Mark as Accepted"}),j&&c.jsx(We,{variant:"secondary",onClick:S,loading:f,disabled:!h,title:h?"":`You have ${Ui} active tasks. Submit or complete some first.`,children:"Go back to working on it"}),D&&c.jsx(We,{variant:"secondary",onClick:S,loading:f,disabled:!h,title:h?"":`You have ${Ui} active tasks. Submit or complete some first.`,children:"Re-open Task"})]})]})})}var Z3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iC=pn.createContext&&pn.createContext(Z3),vz=["attr","size","title"];function yz(e,t){if(e==null)return{};var r=bz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){_z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _z(e,t,r){return t=xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=wz(e,"string");return typeof t=="symbol"?t:t+""}function wz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eR(e){return e&&e.map((t,r)=>pn.createElement(t.tag,Lp({key:r},t.attr),eR(t.child)))}function Mn(e){return t=>pn.createElement(Ez,Dp({attr:Lp({},e.attr)},t),eR(e.child))}function Ez(e){var t=r=>{var{attr:n,size:i,title:s}=e,a=yz(e,vz),o=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),pn.createElement("svg",Dp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:u,style:Lp(Lp({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&pn.createElement("title",null,s),e.children)};return iC!==void 0?pn.createElement(iC.Consumer,null,r=>t(r)):t(Z3)}function kz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function Tz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Sz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Cz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Az(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Nz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Oz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Pz(e){return Mn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}const ml="/Terminus-EC-Training-stateful/",Of={"onboarding-platform":"onboarding-tile-platform","task-skeleton":"onboarding-tile-skeleton","submission-platform":"onboarding-tile-submission-platform","great-tasks":"onboarding-tile-great-tasks","video-walkthroughs":"onboarding-tile-videos"},jz=()=>{const{isCompleted:e,toggleCompletion:t}=$3(),{success:r}=ez(),n=ht(),i=Zr(),[s,a]=k.useState([]),[o,u]=k.useState(!1),h=[{id:"onboarding-platform",label:"Platform Onboarding",description:"New to Snorkel? Watch the onboarding video and download the slides to get familiar with the Expert Platform interface.",path:"/portal/docs/onboarding/platform-onboarding",image:`${ml}images/onboarding_platform.png`},{id:"task-skeleton",label:"Download Task Skeleton",description:"Get the starter files you need to build your task, including the directory structure and required configuration files.",path:`${ml}template-task.zip`,image:`${ml}images/onboardiing_download_skeleton.png`,isDownload:!0},{id:"submission-platform",label:"Platform Submissions",description:"Ready to submit? Follow our walkthrough to package your task, upload it to the platform, and track your submission through review.",path:"/portal/docs/submitting-tasks/platform-submission",image:`${ml}images/onboarding_submit_task2.png`},{id:"great-tasks",label:"What Makes Great TerminalBench Tasks",description:"Discover the key ingredients that make tasks challenging, realistic, and valuable for training AI agents. Learn patterns to follow and pitfalls to avoid.",path:"/portal/docs/understanding-tasks/what-makes-a-good-task",image:`${ml}images/onboarding_great_tb_task.png`},{id:"video-walkthroughs",label:"Video Walkthroughs",description:"Watch step-by-step videos showing how to create tasks, write solutions, and run tests. Perfect for visual learners.",path:"/portal/docs/creating-tasks/videos/creating-task",image:`${ml}images/onboarding_videos.png`}],p=h.filter(_=>e(Of[_.id])).map(_=>_.id),v=h.filter(_=>!p.includes(_.id)&&!s.includes(_.id));if(p.length===h.length)return null;const g=async()=>{if(!o){u(!0);try{const _=h.filter(S=>!e(Of[S.id])),w=_.map(S=>S.id);i&&_.length>0&&(_.forEach(S=>{i.capture("onboarding_step_completed",{resource_id:S.id,resource_label:S.label,source:"mark_all_complete"})}),i.capture("onboarding_all_completed",{resources_completed:_.map(S=>S.id),count:_.length})),a(S=>[...S,...w]),await new Promise(S=>setTimeout(S,300));const A=w.map(S=>t(Of[S]));await Promise.all(A),r("All onboarding tasks marked as complete!")}catch(_){console.error("Error marking all complete:",_)}finally{u(!1)}}},b=async(_,w)=>{_.stopPropagation();const A=Of[w],S=h.find(N=>N.id===w);i&&S&&i.capture("onboarding_step_completed",{resource_id:w,resource_label:S.label,source:"individual_card"}),a(N=>[...N,w]),setTimeout(async()=>{await t(A),a(N=>N.filter(P=>P!==w)),r("Progress saved!")},300)},x=_=>{if(i&&i.capture(_.isDownload?"skeleton_downloaded":"docs_viewed",{resource_id:_.id,resource_label:_.label}),_.isDownload){const w=document.createElement("a");w.href=_.path,w.download=_.path.split("/").pop(),document.body.appendChild(w),w.click(),document.body.removeChild(w)}else n(_.path)};return c.jsxs("section",{className:"get-started-section",children:[c.jsxs("div",{className:"section-header-row",children:[c.jsx("h2",{className:"section-header",children:"Onboarding Starter Kit"}),c.jsx(We,{variant:"ghost",onClick:g,disabled:o,className:"mark-all-complete-btn",children:"Hide onboarding"})]}),c.jsx("div",{className:`resources-grid cards-${v.length}`,children:v.map(_=>c.jsxs(z3,{variant:"minimal",hoverable:!0,className:`resource-card-rich ${s.includes(_.id)?"card-closing":""}`,onClick:()=>x(_),children:[c.jsxs("div",{className:"resource-preview",children:[_.image?c.jsx("img",{src:_.image,alt:_.label,className:"resource-image"}):c.jsx("div",{className:"image-placeholder",children:c.jsx("span",{className:"preview-placeholder-text",children:_.isDownload?"Download Skeleton":"Card cover image here"})}),c.jsx("div",{className:"preview-gradient"})]}),c.jsxs("div",{className:"resource-body",children:[c.jsx("h3",{className:"resource-title",children:_.label}),c.jsx("p",{className:"resource-description",children:_.description})]}),c.jsxs("div",{className:"resource-footer",children:[c.jsxs("button",{className:"mark-complete-link",onClick:w=>b(w,_.id),children:[c.jsx(Tz,{})," Mark complete"]}),c.jsx(We,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),x(_)},children:_.isDownload?c.jsxs(c.Fragment,{children:["Download ",c.jsx(Oz,{})]}):c.jsxs(c.Fragment,{children:["Learn more ",c.jsx(kz,{})]})})]})]},_.id))})]})},aC="/Terminus-EC-Training-stateful/assets/slack-CpGpJpI8.webp",Iz=()=>{const{profile:e,completeOnboarding:t,updateProfile:r}=Ln();ht();const[n,i]=k.useState(0),[s,a]=k.useState(!1),[o,u]=k.useState((e==null?void 0:e.first_name)||""),[h,f]=k.useState((e==null?void 0:e.last_name)||""),[p,v]=k.useState((e==null?void 0:e.github_username)||""),[g,b]=k.useState(!1);if(!e||e.onboarding_completed)return null;const x=async()=>{if(n===1){if(!o.trim()||!h.trim()||!p.trim())return;b(!0);try{const{error:S}=await r({first_name:o,last_name:h,github_username:p});if(S)throw S;i(N=>N+1)}catch(S){console.error("Failed to update profile:",S)}finally{b(!1)}}else i(S=>S+1)},_=()=>{i(S=>S-1)},w=async()=>{a(!0);try{await t()}catch(S){console.error("Failed to complete onboarding:",S),a(!1)}},A=[{content:c.jsxs("div",{className:"onboarding-step-content",children:[c.jsx("div",{className:"onboarding-logos",children:c.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo-onboarding"})}),c.jsx("h1",{className:"onboarding-title",style:{marginBottom:"8px"},children:"Welcome to TerminalBench."}),c.jsx("p",{style:{fontSize:"36px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"32px",lineHeight:"1.2",opacity:.9},children:"Were really glad youre here."}),c.jsx("p",{className:"onboarding-subtitle",children:"You've made the right choice to join the community of experts pushing the boundaries of agentic coding through coding challenges."})]})},{content:c.jsxs("div",{className:"onboarding-step-content",children:[c.jsx("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:"Outsmart the machines."}),c.jsx("p",{className:"onboarding-description",children:"Help push AI to its limits by creating real engineering challenges that todays best models still fail. Every accepted task advances agentic development, and earns you a payout."}),c.jsx("h3",{className:"onboarding-section-title",children:"Your details:"}),c.jsxs("div",{style:{marginTop:"32px",textAlign:"left",maxWidth:"400px",margin:"32px auto 0"},children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[c.jsx(Kv,{label:"First Name",placeholder:"e.g. Jane",value:o,onChange:S=>u(S.target.value),autoFocus:!0}),c.jsx(Kv,{label:"Last Name",placeholder:"e.g. Doe",value:h,onChange:S=>f(S.target.value)})]}),c.jsx(Kv,{label:"GitHub Username",placeholder:"e.g. janedoe",value:p,onChange:S=>v(S.target.value),helperText:"We use this to verify your contributions and link to your GitHub profile."}),c.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"24px"},children:"We use these details to match your profile with our internal systems and process payouts."})]})]})},{content:c.jsxs("div",{className:"onboarding-step-content",children:[c.jsxs("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:[c.jsx("span",{role:"img","aria-label":"celebration",style:{color:"#FFD700"},children:""})," Youre all set."]}),c.jsx("p",{className:"onboarding-description",children:"Youre now part of a global community pushing the boundaries of agentic AI. Lets get you plugged-in and ready to make an impact."}),c.jsx("h3",{className:"onboarding-section-title",style:{marginTop:"40px",marginBottom:"24px"},children:"Whats next?"}),c.jsxs("div",{className:"next-steps-list",style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"20px"},children:[c.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[c.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:c.jsx("img",{src:aC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),c.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[c.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Community"}),c.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"Connect with other TerminalBench contributors and chat with the team."})]}),c.jsx(We,{variant:"primary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203","_blank")},children:"Join"})]}),c.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[c.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:c.jsx("img",{src:aC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),c.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[c.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Announcements"}),c.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"The single source of truth for important announcements, updates, etc."})]}),c.jsx(We,{variant:"secondary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C0A1WM7EPK4","_blank")},children:"Join"})]})]})]})}];return c.jsx("div",{className:"onboarding-modal-overlay",children:c.jsxs("div",{className:"onboarding-modal-content",children:[c.jsx("div",{className:"onboarding-step-container",children:A[n].content},n),c.jsxs("div",{className:"onboarding-nav",children:[c.jsx(hz,{steps:A.length,currentStep:n}),c.jsxs("div",{className:"nav-buttons",children:[n>0&&c.jsx(We,{variant:"secondary",onClick:_,children:"Back"}),n<A.length-1?c.jsx(We,{variant:"primary",size:"lg",onClick:x,disabled:n===1&&(!o.trim()||!h.trim()||!p.trim()),loading:n===1&&g,children:n===0?"Start Onboarding":"Next Step"}):c.jsx(We,{variant:"primary",size:"lg",onClick:w,loading:s,children:"Start Building"})]})]})]})})};function Rz({children:e}){const{user:t,profile:r,loading:n}=Ln(),i=Id(sz,2200);return n?c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:c.jsx(Ta,{size:"lg",message:i})}):!t||!r?(console.log("ProtectedRoute: Redirecting to login - user or profile missing"),c.jsx(vi,{to:"/login",replace:!0})):e}const Dz=3;function tR(){const e=Zr();oi();const t=k.useRef(!1),r=k.useCallback(()=>{const v=`auth_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{sessionStorage.setItem(cn.AUTH_ATTEMPT_ID,v)}catch{}return v},[]),n=k.useCallback(()=>{try{return sessionStorage.getItem(cn.AUTH_ATTEMPT_ID)}catch{return null}},[]),i=k.useCallback((v,g=J2.LOGIN_PAGE,b={})=>{if(!e)return;const x=r();return e.capture(xi.AUTH_ATTEMPT_STARTED,{method:v,source:g,attempt_id:x,current_url:window.location.href,...b}),x},[e,r]),s=k.useCallback((v,g,b={})=>{if(!e)return;const x=n(),_=e.get_distinct_id()===v?Rp.RETURNING:Rp.NEW;e.capture(xi.AUTH_SUCCESS,{method:g,session_type:_,attempt_id:x}),e.identify(v,{is_authenticated:!0,auth_method:g,last_auth_at:new Date().toISOString(),...b}),f()},[e,n]),a=k.useCallback((v,g,b={})=>{if(!e)return;const x=n();e.capture(xi.AUTH_FAILED,{method:v,error_code:(g==null?void 0:g.code)||(g==null?void 0:g.name)||"unknown",error_message:(g==null?void 0:g.message)||String(g),attempt_id:x,...b})},[e,n]),o=k.useCallback(()=>{e&&e.capture(xi.AUTH_LOGOUT)},[e]),u=k.useCallback((v,g={})=>{if(!e)return;const b={started:xi.AUTH_CALLBACK_STARTED,success:xi.AUTH_CALLBACK_SUCCESS,error:xi.AUTH_CALLBACK_ERROR}[v];b&&e.capture(b,{attempt_id:n(),...g})},[e,n]),h=k.useCallback(()=>{if(e)try{const g=parseInt(sessionStorage.getItem(cn.LOGIN_PAGE_VIEWS)||"0",10)+1;sessionStorage.setItem(cn.LOGIN_PAGE_VIEWS,String(g)),g>Dz&&e.capture(xi.AUTH_REDIRECT_LOOP_DETECTED,{login_view_count:g,user_agent:navigator.userAgent,current_url:window.location.href,referrer:document.referrer}),t.current||(sessionStorage.getItem(cn.LOGIN_PAGE_TRACKED)||(e.capture(xi.FIRST_LOGIN_PAGE_VIEW,{referrer:document.referrer,current_url:window.location.href}),sessionStorage.setItem(cn.LOGIN_PAGE_TRACKED,"true")),t.current=!0)}catch{}},[e]),f=k.useCallback(()=>{try{sessionStorage.removeItem(cn.LOGIN_PAGE_VIEWS),sessionStorage.removeItem(cn.LOGIN_PAGE_TRACKED),sessionStorage.removeItem(cn.AUTH_ATTEMPT_ID)}catch{}},[]),p=k.useCallback(()=>{try{return parseInt(sessionStorage.getItem(cn.LOGIN_PAGE_VIEWS)||"0",10)}catch{return 0}},[]);return{trackAuthAttemptStarted:i,trackAuthSuccess:s,trackAuthFailed:a,trackLogout:o,trackAuthCallback:u,trackLoginPageView:h,clearLoginPageTracking:f,getLoginPageViewCount:p,AUTH_METHODS:M1,AUTH_SOURCES:J2}}function Lz(){const{signInWithGitHub:e,signInWithEmail:t,signUpWithEmail:r,user:n,profile:i}=Ln(),s=ht(),{trackAuthAttemptStarted:a,trackAuthFailed:o,trackLoginPageView:u,AUTH_METHODS:h,AUTH_SOURCES:f}=tR(),[p,v]=k.useState(!1),[g,b]=k.useState(null),[x,_]=k.useState(null),[w,A]=k.useState(!1),[S,N]=k.useState(!1),[P,O]=k.useState(""),[j,D]=k.useState("");k.useEffect(()=>{u()},[u]),k.useEffect(()=>{n&&i&&s("/portal")},[n,i,s]);const B=async()=>{try{v(!0),b(null),_(null),a(h.GITHUB,f.LOGIN_PAGE),await new Promise(H=>setTimeout(H,300)),await e()}catch(H){o(h.GITHUB,H),b(H.message),v(!1)}},R=async H=>{H.preventDefault();try{if(v(!0),b(null),_(null),a(h.EMAIL,f.LOGIN_PAGE,{is_signup:S}),S){const{user:Y}=await r(P,j);Y&&(_("Check your email to confirm your account."),N(!1),v(!1))}else await t(P,j)}catch(Y){o(h.EMAIL,Y,{is_signup:S}),b(Y.message),v(!1)}},F=()=>{N(!S),b(null),_(null)};return c.jsx("div",{className:"login-page",children:c.jsx("div",{className:"login-container",children:c.jsxs("div",{className:"login-card",children:[c.jsxs("div",{className:"login-header",children:[c.jsx("div",{className:"logos-container",children:c.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo"})}),c.jsx("h1",{children:S?"Create Account":"Welcome to TerminalBench"})]}),c.jsxs("div",{className:"login-content",children:[g&&c.jsx("div",{className:"error-message",children:g}),x&&c.jsx("div",{className:"success-message",children:x}),w?c.jsxs("form",{onSubmit:R,className:"email-login-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",value:P,onChange:H=>O(H.target.value),placeholder:"name@company.com",required:!0,className:"form-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:j,onChange:H=>D(H.target.value),placeholder:"",required:!0,className:"form-input"})]}),!S&&c.jsx("div",{className:"forgot-password-link",children:c.jsx(nr,{to:"/forgot-password",children:"Forgot your password?"})}),c.jsx("button",{type:"submit",disabled:p,className:"submit-button",children:p?S?"Creating account...":"Signing in...":S?"Create Account":"Sign In"}),c.jsxs("div",{className:"auth-mode-toggle",children:[c.jsx("span",{className:"toggle-text",children:S?"Already have an account?":"Don't have an account?"}),c.jsx("button",{type:"button",className:"text-button inline",onClick:F,children:S?"Sign in":"Sign up"})]}),c.jsx("div",{className:"regular-login-section",children:c.jsx("button",{type:"button",className:"text-button",onClick:()=>{A(!1),N(!1),b(null),_(null)},children:"Back to GitHub login"})})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:B,disabled:p,className:`github-button ${p?"github-button-loading":""}`,children:p?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"github-button-spinner"}),"Opening GitHub..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"github-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Login with GitHub"]})}),c.jsx("div",{className:"regular-login-section",children:c.jsx("button",{className:"text-button",onClick:()=>A(!0),children:"I don't have a GitHub account"})})]})]})]})})})}function Mz(){const{resetPassword:e}=Ln(),[t,r]=k.useState(""),[n,i]=k.useState(!1),[s,a]=k.useState(null),[o,u]=k.useState(!1),h=async f=>{f.preventDefault(),a(null),i(!0);try{const{error:p}=await e(t);if(p)throw p;u(!0)}catch(p){a(p.message)}finally{i(!1)}};return c.jsx("div",{className:"forgot-password-page",children:c.jsx("div",{className:"forgot-password-container",children:c.jsxs("div",{className:"forgot-password-card",children:[c.jsxs("div",{className:"forgot-password-header",children:[c.jsx("div",{className:"back-link-container",children:c.jsxs(nr,{to:"/login",className:"back-link",children:[c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to login"]})}),c.jsx("h1",{children:"Reset your password"}),c.jsx("p",{className:"forgot-password-subtitle",children:o?"Check your inbox for the reset link":"Enter your email and we'll send you a reset link"})]}),c.jsxs("div",{className:"forgot-password-content",children:[s&&c.jsx("div",{className:"error-message",children:s}),o?c.jsxs("div",{className:"success-state",children:[c.jsx("div",{className:"success-icon",children:c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),c.jsxs("p",{className:"success-text",children:["We've sent a password reset link to ",c.jsx("strong",{children:t})]}),c.jsxs("p",{className:"success-hint",children:["Didn't receive the email? Check your spam folder or"," ",c.jsx("button",{type:"button",className:"retry-button",onClick:()=>{u(!1),r("")},children:"try again"})]})]}):c.jsxs("form",{onSubmit:h,className:"forgot-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",value:t,onChange:f=>r(f.target.value),placeholder:"name@company.com",required:!0,className:"form-input",autoFocus:!0})]}),c.jsx("button",{type:"submit",disabled:n,className:"submit-button",children:n?"Sending...":"Send Reset Link"})]})]})]})})})}function Fz(){const{updatePassword:e,user:t}=Ln(),r=ht(),[n,i]=k.useState(""),[s,a]=k.useState(""),[o,u]=k.useState(!1),[h,f]=k.useState(null),[p,v]=k.useState(!1),[g,b]=k.useState(!1),[x,_]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const{data:{session:S}}=await Je.auth.getSession(),{data:{subscription:N}}=Je.auth.onAuthStateChange((P,O)=>{P==="PASSWORD_RECOVERY"&&(b(!0),_(!1))});return S&&b(!0),_(!1),()=>N.unsubscribe()}catch(S){console.error("Session check error:",S),_(!1)}})()},[]);const w=async A=>{if(A.preventDefault(),f(null),n!==s){f("Passwords do not match");return}if(n.length<6){f("Password must be at least 6 characters long");return}u(!0);try{const{error:S}=await e(n);if(S)throw S;v(!0),setTimeout(()=>{r("/portal")},2e3)}catch(S){f(S.message)}finally{u(!1)}};return x?c.jsx("div",{className:"reset-password-page",children:c.jsx("div",{className:"reset-password-container",children:c.jsx("div",{className:"reset-password-card",children:c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Verifying reset link..."})]})})})}):!g&&!t?c.jsx("div",{className:"reset-password-page",children:c.jsx("div",{className:"reset-password-container",children:c.jsx("div",{className:"reset-password-card",children:c.jsxs("div",{className:"invalid-link-state",children:[c.jsx("div",{className:"error-icon",children:c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),c.jsx("h2",{children:"Invalid or Expired Link"}),c.jsx("p",{children:"This password reset link is invalid or has expired."}),c.jsx("button",{onClick:()=>r("/forgot-password"),className:"request-new-link-button",children:"Request a New Link"})]})})})}):c.jsx("div",{className:"reset-password-page",children:c.jsx("div",{className:"reset-password-container",children:c.jsxs("div",{className:"reset-password-card",children:[c.jsxs("div",{className:"reset-password-header",children:[c.jsx("h1",{children:p?"Password Updated!":"Set New Password"}),c.jsx("p",{className:"reset-password-subtitle",children:p?"Redirecting you to the portal...":"Choose a strong password for your account"})]}),c.jsxs("div",{className:"reset-password-content",children:[h&&c.jsx("div",{className:"error-message",children:h}),p?c.jsxs("div",{className:"success-state",children:[c.jsx("div",{className:"success-icon",children:c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),c.jsx("p",{className:"success-text",children:"Your password has been successfully updated."})]}):c.jsxs("form",{onSubmit:w,className:"reset-password-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"New Password"}),c.jsx("input",{type:"password",id:"password",value:n,onChange:A=>i(A.target.value),placeholder:"",required:!0,minLength:6,className:"form-input",autoFocus:!0}),c.jsx("span",{className:"input-hint",children:"Must be at least 6 characters"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),c.jsx("input",{type:"password",id:"confirmPassword",value:s,onChange:A=>a(A.target.value),placeholder:"",required:!0,className:"form-input"})]}),c.jsx("button",{type:"submit",disabled:o,className:"submit-button",children:o?"Updating...":"Update Password"})]})]})]})})})}function Bz(){const e=ht(),t=oi(),{trackAuthCallback:r}=tR(),[n,i]=k.useState(null),[s,a]=k.useState(!0);k.useEffect(()=>{(async()=>{r("started",{has_hash:!!t.hash,callback_type:"oauth"});const h=new URLSearchParams(t.hash.substring(1)),f=h.get("error_code"),p=h.get("error_description"),v=h.get("type");if(f){const x=p?decodeURIComponent(p.replace(/\+/g," ")):"An error occurred";r("error",{error_code:f,error_description:x,callback_type:v||"unknown"}),i({code:f,description:x}),a(!1);return}if(h.get("access_token")){const{data:{session:x},error:_}=await Je.auth.getSession();if(_){r("error",{error_code:"session_error",error_description:_.message}),i({code:"session_error",description:_.message}),a(!1);return}if(r("success",{callback_type:v||"oauth",has_session:!!x}),v==="recovery"||x){e("/reset-password",{replace:!0});return}e("/portal",{replace:!0});return}const{data:{session:b}}=await Je.auth.getSession();b?(r("success",{callback_type:"existing_session"}),e("/portal",{replace:!0})):(r("error",{error_code:"no_session",error_description:"No session found after callback"}),e("/login",{replace:!0}))})()},[t,e,r]);const o=()=>{if(!n)return"";switch(n.code){case"otp_expired":return"This password reset link has expired. Please request a new one.";case"access_denied":return"Access was denied. The link may be invalid or expired.";default:return n.description||"An unexpected error occurred."}};return s?c.jsx("div",{className:"auth-callback-page",children:c.jsx("div",{className:"auth-callback-container",children:c.jsx("div",{className:"auth-callback-card",children:c.jsxs("div",{className:"loading-state",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Processing..."})]})})})}):n?c.jsx("div",{className:"auth-callback-page",children:c.jsx("div",{className:"auth-callback-container",children:c.jsx("div",{className:"auth-callback-card",children:c.jsxs("div",{className:"error-state",children:[c.jsx("div",{className:"error-icon",children:c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),c.jsx("h2",{children:"Link Expired or Invalid"}),c.jsx("p",{className:"error-description",children:o()}),c.jsxs("div",{className:"error-actions",children:[c.jsx("button",{onClick:()=>e("/forgot-password"),className:"primary-button",children:"Request New Link"}),c.jsx("button",{onClick:()=>e("/login"),className:"secondary-button",children:"Back to Login"})]})]})})})}):null}const $z=()=>{const e=ht(),{theme:t}=F3(),r=n=>{const i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})};return c.jsx("header",{className:"public-header",children:c.jsxs("div",{className:"public-header-content",children:[c.jsx(V3,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"})}),c.jsxs(G3,{className:"public-nav",children:[c.jsx(pa,{as:"button",onClick:()=>r("what-is-terminalbench"),children:"What is TerminalBench?"}),c.jsx(pa,{as:"button",onClick:()=>e("/login"),variant:"button",children:"Login"})]})]})})},rR=()=>{const e=k.useRef(null),{theme:t}=F3();return k.useEffect(()=>{const r=e.current,n=r.getContext("2d");let i,s=[];const a=["0","1","{","}","<",">","/","*","","","","","","::"],o=()=>{const b=window.devicePixelRatio||1;r.width=window.innerWidth*b,r.height=window.innerHeight*b,r.style.width=`${window.innerWidth}px`,r.style.height=`${window.innerHeight}px`,n.scale(b,b),f()},u={x:null,y:null,radius:100};class h{constructor(x,_,w,A,S,N,P){this.x=x,this.y=_,this.z=Math.random()*3+.3,this.baseSize=S,this.size=S*this.z,this.directionX=w*this.z,this.directionY=A*this.z,this.color=N,this.symbol=P,this.vx=0,this.vy=0,this.friction=.96}draw(){n.globalAlpha=Math.min(1,this.z/2.5*.85),n.font=`${Math.max(8,this.size*8)}px "JetBrains Mono", monospace`,n.fillStyle=this.color,n.fillText(this.symbol,this.x,this.y),n.globalAlpha=1}update(x,_){if(this.x>x+50&&(this.x=-50),this.x<-50&&(this.x=x+50),this.y>_+50&&(this.y=-50),this.y<-50&&(this.y=_+50),u.x!=null){let j=u.x-this.x,D=u.y-this.y,B=Math.sqrt(j*j+D*D);const R=u.radius*this.z;if(B<R){const F=j/B,H=D/B,Y=(R-B)/R,V=.3*this.z;this.vx-=F*Y*V,this.vy-=H*Y*V}}let w=x/2,A=_/2,S=280*this.z,N=w-this.x,P=A-this.y,O=Math.sqrt(N*N+P*P);if(O<S){let j=Math.atan2(P,N),D=(S-O)/S;this.vx-=Math.cos(j)*D*.6*this.z,this.vy-=Math.sin(j)*D*.6*this.z}this.x+=this.directionX,this.y+=this.directionY,this.x+=this.vx,this.y+=this.vy,this.vx*=this.friction,this.vy*=this.friction,this.draw()}}const f=()=>{s=[];const b=window.innerWidth,x=window.innerHeight;let _=b*x/15e3,w=t==="dark"?"#64ffda":"#0071e3";for(let A=0;A<_;A++){let S=Math.random()*1.5+.5,N=Math.random()*b,P=Math.random()*x,O=Math.random()*.2-.1,j=Math.random()*-.3-.05,D=a[Math.floor(Math.random()*a.length)];s.push(new h(N,P,O,j,S,w,D))}s.sort((A,S)=>A.z-S.z)},p=()=>{requestAnimationFrame(p),n.clearRect(0,0,window.innerWidth,window.innerHeight);for(let b=0;b<s.length;b++)s[b].update(window.innerWidth,window.innerHeight);v()},v=()=>{const b=window.innerWidth,x=window.innerHeight;for(let _=0;_<s.length;_++)for(let w=_;w<s.length;w++){if(Math.abs(s[_].z-s[w].z)>.2)continue;let A=(s[_].x-s[w].x)*(s[_].x-s[w].x)+(s[_].y-s[w].y)*(s[_].y-s[w].y),S=b/11*(x/11)*.5;if(A<S){let N=1-A/S,P=Math.min(1,s[_].z/2.5),O=t==="dark"?`rgba(100, 255, 218, ${N*.2*P})`:`rgba(0, 113, 227, ${N*.15*P})`;n.strokeStyle=O,n.lineWidth=.5,n.beginPath(),n.moveTo(s[_].x+5,s[_].y-5),n.lineTo(s[w].x+5,s[w].y-5),n.stroke()}}};window.addEventListener("resize",o);const g=b=>{u.x=b.x,u.y=b.y};return window.addEventListener("mousemove",g),window.addEventListener("mouseout",()=>{u.x=void 0,u.y=void 0}),o(),p(),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",g),cancelAnimationFrame(i)}},[t]),c.jsx("canvas",{ref:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"}})},Uz=()=>{const e=ht(),t=()=>{e("/login")},r=n=>{n.preventDefault();const i=document.getElementById("what-is-terminalbench");i&&i.scrollIntoView({behavior:"smooth"})};return c.jsxs("section",{className:"landing-hero",children:[c.jsx(rR,{}),c.jsxs("div",{className:"hero-content",children:[c.jsx("h1",{className:"hero-title",children:"Welcome to your new community of experts."}),c.jsxs("p",{className:"hero-subtitle",children:["Build challenging and ",c.jsx("b",{children:"real"})," engineering tasks, beat frontier LLMS, advance the state of agentic coding and ",c.jsx("b",{children:"get paid for your expertise."})]}),c.jsxs("div",{className:"hero-ctas",children:[c.jsxs("button",{onClick:t,className:"cta-button cta-primary",children:["Login to my portal",c.jsxs("svg",{className:"arrow-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M5 12h14"}),c.jsx("path",{d:"M12 5l7 7-7 7"})]})]}),c.jsx("a",{href:"#what-is-terminalbench",onClick:r,className:"cta-link",children:"What is TerminalBench?"}),c.jsx("div",{style:{marginTop:"0.5rem"},children:c.jsx("a",{href:"#how-it-works",onClick:n=>{n.preventDefault();const i=document.getElementById("how-it-works");i&&i.scrollIntoView({behavior:"smooth"})},className:"cta-link",style:{fontSize:"0.9rem",opacity:.8},children:"Learn how it works"})})]})]}),c.jsx("div",{className:"scroll-indicator",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M7 13l5 5 5-5M7 6l5 5 5-5"})})})]})},Hz=()=>c.jsxs("section",{id:"what-is-terminalbench",className:"landing-section what-is-section",children:[c.jsx("h2",{className:"section-title",children:"What is TerminalBench?"}),c.jsxs("div",{className:"what-is-content",children:[c.jsx("p",{className:"lead-text",children:"TerminalBench is a platform where developers complete real engineering tasks to benchmark and improve AI coding agents. Companies and research teams submit real problems, developers solve them, and human results are compared against agent performance to advance the next generation of AI-assisted software development."}),c.jsxs("p",{className:"lead-text",children:["TerminalBench was created by ",c.jsx("b",{children:"Stanford University"})," and the ",c.jsx("b",{children:"Laude Institute"}),", and has quickly become a leading benchmark for evaluating AI coding agents in command-line environments. Since launch, it has earned over 1,000 GitHub stars and attracted contributions from developers worldwide. This platform is a ",c.jsx("b",{children:"Snorkel AI initiative"})," to contribute to and expand the benchmark (not an official partnership)."]}),c.jsx("p",{className:"highlight-text",children:"You get paid for high-quality engineering work, and your contributions directly improve the future of agentic development."}),c.jsxs("div",{className:"research-card-wrapper",children:[c.jsx("div",{className:"research-divider"}),c.jsxs("a",{href:"https://snorkel.ai/blog/terminal-bench-2-0-raising-the-bar-for-ai-agent-evaluation/",target:"_blank",rel:"noopener noreferrer",className:"research-card",children:[c.jsx("div",{className:"research-icon",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),c.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),c.jsxs("div",{className:"research-content",children:[c.jsx("span",{className:"research-label",children:"Deep Dive"}),c.jsx("span",{className:"research-question",children:"Terminal-Bench 2.0: Raising the bar for AI agent evaluation"}),c.jsxs("span",{className:"research-cta",children:["Read about Snorkel's contribution to Terminal-Bench 2.0",c.jsxs("svg",{className:"arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),c.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})]})]})]}),zz=()=>{const[e,t]=k.useState(!1),r=[{number:"01",title:"Pick or Define a Task",description:"Browse our queue of real-world engineering problems or create a task that matches your expertise, from debugging to feature implementation.",hasLink:!0},{number:"02",title:"Build & Submit",description:"Work in your own IDE, preferred environment. Use standard tools to code your solution, then push for automated- and human verification."},{number:"03",title:"Get Paid",description:"Once your solution gets accepted, you get paid. Build your reputation and keep building tasks."}];return c.jsxs("section",{id:"how-it-works",className:"landing-section",children:[c.jsx("h2",{className:"section-title",children:"How does TerminalBench work?"}),c.jsx("div",{className:"timeline-container",children:r.map((n,i)=>c.jsx("div",{className:"timeline-step",children:c.jsxs("div",{className:"timeline-content",children:[c.jsx("span",{className:"step-number",children:n.number}),c.jsx("h3",{children:n.title}),c.jsx("p",{children:n.description}),n.hasLink&&c.jsx("a",{className:"learn-more-link",onClick:s=>{s.preventDefault(),t(!0)},children:"Learn more about our tasks "})]})},i))}),c.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:n=>{n.target===n.currentTarget&&t(!1)},children:c.jsxs("div",{className:"modal-content",children:[c.jsx("button",{className:"modal-close",onClick:()=>t(!1),children:""}),c.jsx("h3",{className:"modal-title",children:"Diverse Engineering Challenges"}),c.jsxs("div",{className:"modal-body",children:[c.jsx("p",{children:"Our platform hosts a massive variety of tasks designed to test and improve skills across the entire technology spectrum. From quick bug fixes to complex system architecture problems, there's something for every engineer."}),c.jsxs("p",{children:[c.jsx("b",{children:"Have a specific problem in mind?"})," You can also propose your own tasks and solutions to contribute to our growing library of engineering challenges."]}),c.jsx("p",{children:"Explore challenges in specialized fields including:"}),c.jsxs("div",{className:"modal-tags",children:[c.jsx("span",{className:"modal-tag",children:"Machine Learning"}),c.jsx("span",{className:"modal-tag",children:"Data Science"}),c.jsx("span",{className:"modal-tag",children:"Cyber Security"}),c.jsx("span",{className:"modal-tag",children:"Full Stack Web"}),c.jsx("span",{className:"modal-tag",children:"System Design"}),c.jsx("span",{className:"modal-tag",children:"Cloud Infrastructure"}),c.jsx("span",{className:"modal-tag",children:"Algorithms"}),c.jsx("span",{className:"modal-tag",children:"Database Optimization"}),c.jsx("span",{className:"modal-more-text",children:"And more..."})]})]})]})})]})},Wz=[{title:"Debug Race Condition",difficulty:"hard",language:"Go",description:"Identify and fix a race condition in a concurrent queue implementation."},{title:"Implement API Endpoint",difficulty:"medium",language:"Python",description:"Create a new REST endpoint with rate limiting and caching support."},{title:"Refactor Component",difficulty:"easy",language:"React",description:"Convert a class-based component to functional using hooks and optimize re-renders."},{title:"Optimize SQL Query",difficulty:"medium",language:"PostgreSQL",description:"Rewrite a slow reporting query to use appropriate indexes and CTEs."},{title:"Integrate Payment Gateway",difficulty:"hard",language:"Node.js",description:"Implement Stripe webhooks handling with idempotent processing."},{title:"Fix CSS Overflow",difficulty:"easy",language:"CSS",description:"Resolve horizontal scroll issue on mobile devices for the main dashboard."},{title:"Kubernetes Config",difficulty:"medium",language:"DevOps",description:"Create Helm charts for microservices deployment with auto-scaling."},{title:"Memory Leak Analysis",difficulty:"hard",language:"Rust",description:"Profile and fix memory leaks in a long-running background worker."},{title:"Unit Tests Coverage",difficulty:"easy",language:"Java",description:"Increase test coverage for the core business logic module to 90%."},{title:"Accessibility Audit",difficulty:"medium",language:"HTML/JS",description:"Fix WCAG 2.1 compliance issues in the navigation and form components."},{title:"Database Migration",difficulty:"hard",language:"SQL",description:"Safely migrate 50M+ records to a new schema structure with zero downtime."},{title:"GraphQL Resolver",difficulty:"medium",language:"TypeScript",description:"Implement N+1 query problem solution using DataLoader patterns."},{title:"Mobile Touch Events",difficulty:"medium",language:"React Native",description:"Fix touch event propagation issues in nested scroll views."},{title:"Secure JWT Auth",difficulty:"hard",language:"Go",description:"Implement secure JWT rotation and refresh token strategy."},{title:"Dockerize App",difficulty:"easy",language:"Docker",description:"Create optimized multi-stage Dockerfile for a Node.js application."},{title:"Redis Caching",difficulty:"medium",language:"Python",description:"Implement read-through caching pattern for expensive API calls."},{title:"Websocket Chat",difficulty:"hard",language:"Elixir",description:"Build a scalable realtime chat server handling 10k+ concurrent connections."},{title:"Fix Z-Index Stacking",difficulty:"easy",language:"CSS",description:"Debug and fix modal overlay z-index issues across the application."},{title:"Lambda Cold Starts",difficulty:"medium",language:"AWS",description:"Optimize AWS Lambda function initialization to reduce cold start latency."},{title:"Distributed Lock",difficulty:"hard",language:"Java",description:"Implement a distributed locking mechanism using Redis for job scheduling."},{title:"Form Validation",difficulty:"easy",language:"Vue",description:"Add client-side validation for email and password complexity."},{title:"Image Optimization",difficulty:"medium",language:"Shell",description:"Write a script to automatically compress and resize uploaded user avatars."},{title:"CI/CD Pipeline",difficulty:"hard",language:"GitHub Actions",description:"Set up a complete CI/CD pipeline with linting, testing, and blue-green deployment."},{title:"Internationalization",difficulty:"medium",language:"JavaScript",description:"Refactor hardcoded strings to use an i18n library for multi-language support."},{title:"State Management",difficulty:"medium",language:"Redux",description:"Migrate complex local state to global store with proper normalization."},{title:"Search Indexing",difficulty:"hard",language:"Elasticsearch",description:"Design and implement a custom analyzer for domain-specific search queries."},{title:"OEmbed Support",difficulty:"easy",language:"PHP",description:"Add OEmbed support to automatically preview links in user posts."},{title:"Three.js Performance",difficulty:"hard",language:"WebGL",description:"Optimize rendering pipeline to maintain 60fps with 10k+ particles."},{title:"Scrape Data",difficulty:"medium",language:"Python",description:"Build a robust scraper with proxy rotation and captcha handling."},{title:"Type Safety",difficulty:"easy",language:"TypeScript",description:"Add strict type definitions to legacy JavaScript utility functions."},{title:"Kafka Consumer",difficulty:"hard",language:"Scala",description:"Implement a fault-tolerant Kafka consumer group with exactly-once semantics."},{title:"Responsive Nav",difficulty:"easy",language:"Svelte",description:"Create a fully accessible, keyboard-navigable mobile menu component."},{title:"CSV Import",difficulty:"medium",language:"Ruby",description:"Build a background job to process large CSV uploads without memory spikes."},{title:"GDPR Compliance",difficulty:"medium",language:"SQL",description:"Create stored procedures to anonymize user data upon account deletion."},{title:"Video Transcoding",difficulty:"hard",language:"FFmpeg",description:"Set up an adaptive bitrate streaming pipeline for uploaded videos."},{title:"Dark Mode",difficulty:"easy",language:"CSS",description:"Implement system-preference aware dark mode theme using CSS variables."},{title:"Terraform Modules",difficulty:"medium",language:"HCL",description:"Refactor infrastructure code into reusable modules for multi-region deploy."},{title:"Load Balancing",difficulty:"hard",language:"Nginx",description:"Configure advanced load balancing strategies with health checks and failover."},{title:"PDF Generation",difficulty:"medium",language:"Node.js",description:"Generate dynamic invoices and reports as PDFs from HTML templates."},{title:"App Store Build",difficulty:"hard",language:"Swift",description:"Automate the iOS build and signing process for TestFlight distribution."},{title:"Lazy Loading",difficulty:"easy",language:"Angular",description:"Implement route-level lazy loading to improve initial bundle size."},{title:"Metrics Collection",difficulty:"medium",language:"Prometheus",description:"Instrument application code to expose custom business metrics."},{title:"Blockchain Verify",difficulty:"hard",language:"Solidity",description:"Write a smart contract to verify supply chain authenticity on-chain."},{title:"SVG Animation",difficulty:"easy",language:"SVG",description:"Create a lightweight loading spinner using pure SVG animations."},{title:"TensorFlow Model",difficulty:"hard",language:"Python",description:"Convert a PyTorch research model to TensorFlow Lite for mobile deployment."},{title:"CLI Tool",difficulty:"medium",language:"Rust",description:"Build a fast command-line utility for processing log files."},{title:"Rate Limiting",difficulty:"medium",language:"Redis",description:"Implement a sliding window rate limiter to prevent API abuse."},{title:"Email Templates",difficulty:"easy",language:"MJML",description:"Design responsive email templates that work in Outlook and Gmail."},{title:"OAuth2 Flow",difficulty:"medium",language:"C#",description:"Implement OAuth2 authorization code flow with PKCE for .NET Core API."},{title:"Data Visualization",difficulty:"easy",language:"D3.js",description:"Create an interactive line chart component with tooltips and zoom."},{title:"Microfrontend",difficulty:"hard",language:"Webpack",description:"Configure Module Federation for sharing components between React and Vue apps."},{title:"Geo-Spatial Query",difficulty:"medium",language:"PostGIS",description:"Optimize nearest-neighbor queries for a delivery dispatch system."},{title:"Service Worker",difficulty:"medium",language:"PWA",description:"Implement offline-first caching strategy for a news reader app."},{title:"Fuzz Testing",difficulty:"hard",language:"Go",description:"Add fuzz testing to the input parser to identify edge case crashes."},{title:"Slack Integration",difficulty:"easy",language:"Node.js",description:"Build a bot to notify channels about deployment status updates."},{title:"ETL Pipeline",difficulty:"medium",language:"Apache Airflow",description:"Design a DAG to extract, transform, and load daily analytics data."},{title:"WebAssembly",difficulty:"hard",language:"C++",description:"Compile a legacy image processing library to WASM for browser usage."},{title:"Feature Flags",difficulty:"medium",language:"Python",description:"Implement a feature flag service with percentage-based rollouts."},{title:"Keyboard Shortcuts",difficulty:"easy",language:"JavaScript",description:"Add global keyboard shortcuts for common actions in the admin panel."},{title:"Audit Logging",difficulty:"medium",language:"Java",description:"Implement tamper-evident audit logging for all sensitive user actions."},{title:"WebRTC Signaling",difficulty:"hard",language:"Go",description:"Build a custom signaling server for peer-to-peer video calls."},{title:"Dependency Injection",difficulty:"medium",language:"Kotlin",description:"Refactor a monolithic service to use dependency injection for better testability."},{title:"Infinite Scroll",difficulty:"easy",language:"React",description:"Implement virtualization for a list with thousands of items."},{title:"Vector Search",difficulty:"hard",language:"Pinecone",description:"Integrate vector database for semantic search over documentation."},{title:"Markdown Editor",difficulty:"medium",language:"Vue",description:"Create a rich text editor with live Markdown preview and syntax highlighting."},{title:"Rate Limit Middleware",difficulty:"easy",language:"Express",description:"Write middleware to block IPs exceeding 100 requests per minute."},{title:"Two-Factor Auth",difficulty:"medium",language:"PHP",description:"Add TOTP-based 2FA using Google Authenticator compatibility."},{title:"Graph Database",difficulty:"hard",language:"Neo4j",description:"Model a social network relationship graph and query friends-of-friends."},{title:"S3 Upload",difficulty:"easy",language:"AWS SDK",description:"Implement direct-to-S3 file uploads with signed URLs."},{title:"E2E Testing",difficulty:"medium",language:"Cypress",description:"Write robust end-to-end tests for the user checkout flow."},{title:"Memory Profiling",difficulty:"hard",language:"C",description:"Use Valgrind to detect and fix memory leaks in a system daemon."},{title:"Push Notifications",difficulty:"medium",language:"Firebase",description:"Integrate FCM for cross-platform mobile push notifications."},{title:"Search Autocomplete",difficulty:"easy",language:"JavaScript",description:"Build a debounced autocomplete input fetching suggestions from an API."},{title:"Data Encryption",difficulty:"hard",language:"Python",description:"Implement field-level encryption for PII in the database using AES-256."},{title:"Webhook Consumer",difficulty:"medium",language:"Ruby on Rails",description:"Create a generic webhook ingestion endpoint with signature verification."},{title:"Accessibility Fixes",difficulty:"easy",language:"ARIA",description:"Audit and fix ARIA labels for screen reader compatibility."}],qz=()=>{const e=Wz.slice(0,12).map((t,r)=>({id:r,subcategory:t.title,description:t.description,difficulty:t.difficulty,category:t.language}));return c.jsxs("section",{className:"landing-section full-width tasks-section",children:[c.jsx("h2",{className:"section-title",children:"Examples of Real Engineering Problems"}),c.jsx("p",{className:"section-subtitle",children:"Think you can beat the models? Prove it and get paid."}),c.jsxs("div",{className:"tasks-perspective-container",children:[c.jsx("div",{className:"tasks-perspective-grid",children:e.map((t,r)=>c.jsx("div",{className:"task-card-wrapper",style:{"--index":r},children:c.jsx(ko,{task:t})},r))}),c.jsx("div",{className:"tasks-fade-overlay"})]})]})},Vz=()=>c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg impact-icon",children:[c.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",fill:"currentColor",className:"impact-fill",opacity:"0.2"})]}),Gz=()=>c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg pay-icon",children:[c.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round",className:"pay-diamond"}),c.jsx("path",{d:"M6 22H58",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M19 22L32 60L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M32 4V22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M19 22L32 4L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",fill:"currentColor",className:"pay-fill",opacity:"0"})]}),Yz=()=>c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg brain-icon",children:[c.jsx("path",{d:"M12 32C12 20.9543 20.9543 12 32 12C36.4655 12 40.5963 13.4644 44 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),c.jsx("path",{d:"M52 32C52 43.0457 43.0457 52 32 52C27.5345 52 23.4037 50.5356 20 48",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),c.jsx("rect",{x:"22",y:"22",width:"20",height:"20",rx:"4",stroke:"currentColor",strokeWidth:"2.5"}),c.jsx("path",{d:"M32 22V42M22 32H42",stroke:"currentColor",strokeWidth:"2.5"}),c.jsx("circle",{cx:"32",cy:"32",r:"3",fill:"currentColor",className:"brain-pulse"}),c.jsx("path",{d:"M48 24L56 16M16 40L8 48",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"brain-connect"})]}),Kz=()=>c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg flex-icon",children:[c.jsx("circle",{cx:"32",cy:"32",r:"24",stroke:"currentColor",strokeWidth:"2.5"}),c.jsx("path",{d:"M32 8V56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),c.jsx("path",{d:"M8 32H56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),c.jsx("ellipse",{cx:"32",cy:"32",rx:"12",ry:"24",stroke:"currentColor",strokeWidth:"2.5",className:"flex-orbit"}),c.jsx("circle",{cx:"32",cy:"32",r:"6",fill:"currentColor",className:"flex-core"})]}),Xz=()=>{const e=[{icon:c.jsx(Vz,{}),title:"Real Impact",description:"Your work directly benchmarks and improves the capabilities of next-gen AI models."},{icon:c.jsx(Gz,{}),title:"Competitive Pay",description:"Earn competitive rates for high-quality engineering work. No bidding wars."},{icon:c.jsx(Yz,{}),title:"Hard Problems",description:"No CSS centering or button shifting. Tackle complex algorithmic and system design challenges."},{icon:c.jsx(Kz,{}),title:"Flexible Work",description:"Work from anywhere, anytime. Choose tasks that fit your schedule and interests."}];return c.jsxs("section",{id:"benefits",className:"landing-section",children:[c.jsx("h2",{className:"section-title",children:"You + TerminalBench"}),c.jsx("div",{className:"benefits-grid",children:e.map((t,r)=>c.jsxs("div",{className:"benefit-item",children:[c.jsx("div",{className:"benefit-icon-wrapper",children:t.icon}),c.jsx("h3",{children:t.title}),c.jsx("p",{children:t.description})]},r))})]})},Qz=()=>{const e=ht();return c.jsx("footer",{style:{backgroundColor:"#ffffff",padding:"6rem 2rem 4rem",marginTop:"0",borderTop:"1px solid #f0f0f0",color:"#1d1d1f"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"4rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"2rem"},children:[c.jsxs("div",{style:{maxWidth:"600px"},children:[c.jsxs("h3",{style:{fontSize:"2.5rem",fontWeight:"700",marginBottom:"2rem",lineHeight:"1.1",color:"#1d1d1f",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[c.jsx("span",{children:"Real work."}),c.jsx("span",{children:"Real payouts."}),c.jsx("span",{children:"Real impact."})]}),c.jsxs("p",{style:{fontSize:"1.25rem",color:"#86868b",maxWidth:"480px"},children:["The thing frontier agents are missing: ",c.jsx("b",{children:"your expertise"}),"."]})]}),c.jsx("div",{children:c.jsx("button",{onClick:()=>e("/login"),className:"cta-button cta-primary",style:{padding:"1rem 2.5rem",fontSize:"1.1rem"},children:"Login to my portal"})})]}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",borderTop:"1px solid #f0f0f0",paddingTop:"2rem",gap:"1.5rem"},children:[c.jsxs("div",{style:{display:"flex",gap:"2rem",color:"#424245",fontSize:"0.9rem",flexWrap:"wrap"},children:[c.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Terms"}),c.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Privacy"})]}),c.jsxs("p",{style:{color:"#86868b",fontSize:"0.8rem"},children:[" ",new Date().getFullYear()," Snorkel AI. All rights reserved. TerminalBench is a project of Stanford University and Laude Institute."]})]})]})})},Jz=()=>{const e=ht(),t=oi();return k.useEffect(()=>{if(t.hash){const r=new URLSearchParams(t.hash.substring(1)),n=r.get("error_code"),i=r.get("access_token"),s=r.get("type");(n||i||s==="recovery")&&e(`/auth/callback${t.hash}`,{replace:!0})}},[t,e]),c.jsxs("div",{className:"public-landing",children:[c.jsx($z,{}),c.jsx(Uz,{}),c.jsx(Hz,{}),c.jsx(zz,{}),c.jsx(qz,{}),c.jsx(Xz,{}),c.jsx(Qz,{})]})};function Zz(){var h,f;const{user:e,profile:t,signOut:r}=Ln(),[n,i]=k.useState(!1),s=k.useRef(null),a=ht(),o=(t==null?void 0:t.is_admin)||!1;k.useEffect(()=>{const p=v=>{s.current&&!s.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const u=async()=>{try{await r()}catch(p){console.error("Sign out error:",p)}a("/login")};return t?c.jsxs("div",{className:"user-menu",ref:s,children:[c.jsxs("button",{className:`user-menu-button ${n?"active":""}`,onClick:()=>i(!n),children:[t.github_avatar_url?c.jsx("img",{src:t.github_avatar_url,alt:t.github_username,className:"user-avatar"}):c.jsx("div",{className:"user-avatar-placeholder",children:((f=(h=t.github_username)==null?void 0:h[0])==null?void 0:f.toUpperCase())||"U"}),c.jsx("span",{className:"user-name",children:t.github_username||"User"}),c.jsx("svg",{className:`user-menu-chevron ${n?"open":""}`,width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:c.jsx("path",{d:"M4.427 6.573l3.396 3.396 3.396-3.396a.75.75 0 111.06 1.06l-3.926 3.927a.75.75 0 01-1.06 0L3.366 7.633a.75.75 0 011.06-1.06z"})})]}),n&&c.jsxs("div",{className:"user-menu-dropdown",children:[c.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/my-tasks"),i(!1)},children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:c.jsx("path",{d:"M2.5 2.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-11zM3 13h10V3H3v10zm2-2h6v1H5v-1zm0-3h6v1H5V8zm0-3h6v1H5V5z"})}),"My tasks"]}),c.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/profile"),i(!1)},children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:c.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})}),"Profile"]}),o&&c.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/admin"),i(!1)},children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[c.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"}),c.jsx("path",{d:"M8 4a.75.75 0 01.75.75v3.5h3.5a.75.75 0 010 1.5h-3.5v3.5a.75.75 0 01-1.5 0v-3.5h-3.5a.75.75 0 010-1.5h3.5v-3.5A.75.75 0 018 4z"})]}),"Admin Dashboard"]}),c.jsxs("button",{className:"user-menu-item user-menu-item-danger",onClick:u,children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[c.jsx("path",{d:"M3.5 2A1.5 1.5 0 002 3.5v9A1.5 1.5 0 003.5 14h5a.5.5 0 000-1h-5a.5.5 0 01-.5-.5v-9a.5.5 0 01.5-.5h5a.5.5 0 000-1h-5z"}),c.jsx("path",{d:"M11.854 8.354l2.5-2.5a.5.5 0 000-.708l-2.5-2.5a.5.5 0 10-.708.708L13.293 5.5H6.5a.5.5 0 000 1h6.793l-2.147 2.146a.5.5 0 00.708.708z"})]}),"Sign Out"]})]})]}):null}function eW(){const{profile:e}=Ln(),t=Zr(),r=ht(),n=oi(),[i,s]=k.useState(!1),[a,o]=k.useState(!1),u=k.useRef(null),h=k.useRef(null);if(!e)return null;k.useEffect(()=>{o(!1)},[n.pathname]),k.useEffect(()=>{const v=g=>{u.current&&!u.current.contains(g.target)&&s(!1),h.current&&!h.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),k.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const f=v=>v==="/"?n.pathname==="/portal"||n.pathname==="/portal/":n.pathname.startsWith(`/portal${v}`),p=()=>{t&&t.capture("browse_tasks_clicked",{source:"header_nav"})};return c.jsxs("header",{className:"app-header",children:[c.jsxs("div",{className:"header-content",children:[c.jsx("div",{className:"header-left",children:c.jsx(V3,{onClick:()=>r("/portal")})}),c.jsxs("div",{className:"header-right",children:[c.jsxs(G3,{className:"header-nav",children:[c.jsx(pa,{to:"/portal",active:f("/"),children:"Home"}),c.jsx(pa,{to:"/portal/overview",active:f("/overview"),children:"Our mission"}),c.jsx(pa,{to:"/portal/tasks",active:f("/tasks"),onClick:p,children:"Task gallery"}),c.jsx(pa,{to:"/portal/docs",active:f("/docs"),children:"Docs"}),c.jsxs("div",{className:"nav-dropdown-container",ref:u,children:[c.jsxs(pa,{as:"button",className:"dropdown-trigger",onClick:()=>s(!i),children:["Quick links",c.jsx("svg",{className:`dropdown-arrow ${i?"open":""}`,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),c.jsxs("div",{className:`nav-dropdown-menu ${i?"open":""}`,children:[c.jsx("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"dropdown-item",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"header_quick_links",file_title:"Task Skeleton"}),s(!1)},children:"Download Task Skeleton"}),c.jsx("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Snorkel Expert Platform"}),c.jsx("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Slack community"}),c.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"GitHub Repo"}),c.jsx(nr,{to:"/portal/docs/reference/glossary",className:"dropdown-item",onClick:()=>s(!1),children:"Glossary"}),c.jsx(nr,{to:"/portal/docs/reference/faq",className:"dropdown-item",onClick:()=>s(!1),children:"FAQ"})]})]}),c.jsx("div",{className:"nav-divider"}),c.jsx(pa,{to:"/portal/docs/reference/faq",active:f("/docs/reference/faq"),children:"Help"})]}),c.jsxs("button",{className:`mobile-menu-toggle ${a?"open":""}`,onClick:()=>o(!a),"aria-label":"Toggle menu",children:[c.jsx("span",{className:"hamburger-line"}),c.jsx("span",{className:"hamburger-line"}),c.jsx("span",{className:"hamburger-line"})]}),c.jsx(Zz,{})]})]}),Ij.createPortal(c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`mobile-nav-overlay ${a?"open":""}`,onClick:()=>o(!1)}),c.jsxs("nav",{className:`mobile-nav ${a?"open":""}`,ref:h,children:[c.jsxs("div",{className:"mobile-nav-header",children:[c.jsx("span",{className:"mobile-nav-title",children:"Menu"}),c.jsx("button",{className:"mobile-nav-close",onClick:()=>o(!1),"aria-label":"Close menu",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),c.jsxs("div",{className:"mobile-nav-links",children:[c.jsx(nr,{to:"/portal",className:`mobile-nav-link ${f("/")?"active":""}`,children:"Home"}),c.jsx(nr,{to:"/portal/overview",className:`mobile-nav-link ${f("/overview")?"active":""}`,children:"Our mission"}),c.jsx(nr,{to:"/portal/tasks",className:`mobile-nav-link ${f("/tasks")?"active":""}`,onClick:p,children:"Task gallery"}),c.jsx(nr,{to:"/portal/my-tasks",className:`mobile-nav-link ${f("/my-tasks")?"active":""}`,children:"My tasks"}),c.jsx(nr,{to:"/portal/docs",className:`mobile-nav-link ${f("/docs")?"active":""}`,children:"Docs"}),c.jsx(nr,{to:"/portal/docs/reference/faq",className:`mobile-nav-link ${f("/docs/reference/faq")?"active":""}`,children:"Help & FAQ"})]}),c.jsxs("div",{className:"mobile-nav-section",children:[c.jsx("span",{className:"mobile-nav-section-title",children:"Quick Links"}),c.jsxs("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"mobile-nav-link",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"mobile_quick_links",file_title:"Task Skeleton"})},children:["Download Task Skeleton",c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})]}),c.jsxs("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Snorkel Expert Platform",c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),c.jsxs("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Slack community",c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),c.jsxs("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["GitHub Repo",c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),c.jsx(nr,{to:"/portal/docs/reference/glossary",className:"mobile-nav-link",children:"Glossary"})]})]})]}),document.body)]})}function tW(e=15){const[t,r]=k.useState([]),[n,i]=k.useState(!0),[s,a]=k.useState(null),o=k.useRef(!1),u=k.useCallback(async(h=!0)=>{if(o.current)return null;o.current=!0;try{h&&i(!0);const{data:f,error:p}=await Je.rpc("get_random_available_tasks",{task_count:e});if(p)throw p;return r(f||[]),a(null),f}catch(f){return console.error("Error fetching random tasks:",f),a(f.message),null}finally{o.current=!1,i(!1)}},[e]);return{tasks:t,loading:n,error:s,refetch:u}}const nR=3,rW=280,nW=16,iW=46,sW=rW+nW;function oC(){return typeof window>"u"||typeof window.matchMedia!="function"?nR:window.matchMedia("(min-width: 1024px)").matches?3:window.matchMedia("(min-width: 768px)").matches?2:1}function aW(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}function Gc(e,t,r=new Set){return aW(e).filter(i=>i&&!r.has(i.id)).slice(0,t)}function Qv(e,t){const r=new Set(t!=null&&t.id?[t.id]:[]),[n,i]=Gc(e,2,r);return t?[n||t,t,i||t]:[]}function oW({pool:e,currentTask:t,winnerTask:r,minLength:n}){const i=[],s=new Set;t!=null&&t.id&&s.add(t.id),r!=null&&r.id&&s.add(r.id);const[a]=Gc(e,1,s);for(i.push(a||t),i.push(t);i.length<Math.max(n-2,3);){const[h]=Gc(e,1,new Set([...s,...i.map(f=>f==null?void 0:f.id).filter(Boolean)]));i.push(h||t)}i.push(r);const[o]=Gc(e,1,new Set([...s,...i.map(h=>h==null?void 0:h.id).filter(Boolean)]));i.push(o||r);const u=i.length-2;return{items:i,startIndex:1,winnerIndex:u}}function Pf(e){return iW-e*sW}function lW(e){if(!e)return null;const t=e.subcategory||e.subsubcategory||e.category||"Task";return c.jsxs("div",{className:"reel-stub",children:[c.jsx("div",{className:"reel-stub-title",title:t,children:t}),c.jsx("div",{className:"reel-stub-desc",title:e.description,children:e.description})]})}const uW=({onTaskUpdate:e})=>{const t=ht(),r=Zr(),{tasks:n,loading:i,refetch:s}=tW(15),[a,o]=k.useState(null),[u,h]=k.useState(oC),[f,p]=k.useState([]),[v,g]=k.useState(()=>Array.from({length:nR},()=>({items:[],index:1,locked:!0,justLocked:!1}))),[b,x]=k.useState(!1),_=k.useRef([]),w=k.useRef([]),A=k.useRef([]),S=k.useRef(0);k.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const R=window.matchMedia("(min-width: 1024px)"),F=window.matchMedia("(min-width: 768px)"),H=()=>h(oC());H();const Y=K=>K.addEventListener?K.addEventListener("change",H):K.addListener(H),V=K=>K.removeEventListener?K.removeEventListener("change",H):K.removeListener(H);return Y(R),Y(F),window.addEventListener("resize",H),()=>{V(R),V(F),window.removeEventListener("resize",H)}},[]),k.useEffect(()=>{s()},[]),k.useEffect(()=>{if(n.length===0)return;const R=v.slice(0,u).every(Y=>{var V;return(((V=Y.items)==null?void 0:V.length)||0)>0}),F=f.length===u;if(R&&F)return;const H=F?f:Gc(n,u);F||p(H),g(Y=>Y.map((V,K)=>{if(K>=u)return V;const Z=H[K];return{...V,items:Qv(n,Z),index:1,locked:!0,justLocked:!1}}))},[n,v,f,u]),k.useEffect(()=>{r&&f.length>0&&!b&&r.capture("task_roulette_viewed",{available_tasks_count:n.length,visible_task_ids:f.map(R=>R.id)})},[r,b,f.length]);const N=()=>{var R;for(const F of A.current)clearTimeout(F);A.current=[];for(const F of w.current)(R=F==null?void 0:F.cancel)==null||R.call(F);w.current=[]};k.useEffect(()=>{b&&(N(),x(!1),g(R=>R.map((F,H)=>H<u?{...F,locked:!0,justLocked:!1}:F)))},[u]);const P=async()=>{if(b||n.length<u)return;N(),S.current+=1;const R=S.current,F=typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;x(!0),g(Z=>Z.map(oe=>({...oe,locked:!1,justLocked:!1})));const H=v.slice(0,u).map((Z,oe)=>{var te;return((te=Z.items)==null?void 0:te[Z.index])||f[oe]}).filter(Boolean);r&&r.capture("task_roulette_spin_clicked",{previous_task_ids:H.map(Z=>Z==null?void 0:Z.id).filter(Boolean),available_tasks_count:n.length});const Y=await s(!1);if(S.current!==R||!Y||Y.length===0){x(!1);return}const V=Y.slice(0,u);if(F){g(Z=>Z.map((oe,te)=>te>=u?oe:{...oe,items:Qv(Y,V[te]),index:1,locked:!0,justLocked:!1})),p(V),A.current.push(setTimeout(()=>{g(Z=>Z.map((oe,te)=>te<u?{...oe,justLocked:!0}:oe))},0)),A.current.push(setTimeout(()=>{g(Z=>Z.map((oe,te)=>te<u?{...oe,justLocked:!1}:oe)),x(!1)},450));return}const K=V.map((Z,oe)=>{const te=H[oe]||Z;return oW({pool:Y,currentTask:te,winnerTask:Z,minLength:18+oe*6})});g(Z=>Z.map((oe,te)=>te>=u?oe:{...oe,items:K[te].items,index:K[te].startIndex,locked:!1,justLocked:!1})),A.current.push(setTimeout(()=>{if(S.current!==R)return;let Z=0;const oe=te=>{g(ce=>ce.map((L,q)=>q===te?{...L,justLocked:!0}:L)),A.current.push(setTimeout(()=>{g(ce=>ce.map((L,q)=>q===te?{...L,justLocked:!1}:L))},650))};K.forEach((te,ce)=>{const L=_.current[ce];if(!L)return;const q=Pf(te.startIndex),re=Pf(te.winnerIndex),$=q+(re-q)*.35,de=q+(re-q)*.88;L.style.transform=`translate3d(0, ${q}px, 0)`,L.style.opacity="1";const we=1150+ce*420+Math.floor(Math.random()*120),_e=L.animate([{offset:0,transform:`translate3d(0, ${q}px, 0)`,opacity:1,easing:"cubic-bezier(0.2, 0, 0.2, 1)"},{offset:.16,transform:`translate3d(0, ${$}px, 0)`,opacity:.96,easing:"linear"},{offset:.86,transform:`translate3d(0, ${de}px, 0)`,opacity:.96,easing:"cubic-bezier(0, 0, 0.15, 1)"},{offset:1,transform:`translate3d(0, ${re}px, 0)`,opacity:1}],{duration:we,fill:"forwards"});w.current[ce]=_e,_e.finished.then(()=>{if(S.current!==R)return;try{_e.cancel()}catch{}w.current[ce]=null,L.style.opacity="1",L.style.transform=`translate3d(0, ${Pf(1)}px, 0)`;const Le=V[ce];g(qe=>qe.map((ie,Ee)=>Ee!==ce?ie:{...ie,items:Qv(Y,Le),index:1,locked:!0})),oe(ce),Z+=1,Z===u&&(p(V),x(!1))}).catch(()=>{})})},0))};k.useEffect(()=>()=>N(),[]);const O=()=>{r&&r.capture("task_roulette_browse_all_clicked",{visible_task_ids:f.map(R=>R.id)}),t("/portal/tasks")},j=R=>{b||(r&&r.capture("task_roulette_task_opened",{task_id:R.id,task_category:R.category,task_subcategory:R.subcategory}),o(R))},D=()=>{o(null),s()},B=()=>{s(),e==null||e()};return i&&f.length===0?c.jsx(Ta,{message:"Finding tasks for you..."}):f.length===0?null:c.jsxs("section",{className:"recommended-tasks-section",children:[c.jsx("div",{className:"recommended-header",children:c.jsx("h2",{className:"recommended-title",children:"Your Task Roulette"})}),c.jsx("div",{className:"slot-machine-container",children:c.jsxs("div",{className:`slot-machine-viewport ${b?"spinning":""}`,children:[c.jsx("div",{className:"slot-machine-fade-top"}),c.jsx("div",{className:"slot-machine-fade-bottom"}),c.jsx("div",{className:`slot-glow ${b?"active":""}`}),c.jsx("div",{className:"recommended-grid",children:v.slice(0,u).map((R,F)=>{var Y;(Y=R.items)==null||Y[R.index];const H=["recommended-reel",b&&!R.locked?"spinning":"",R.locked?"locked":"",R.justLocked?"just-locked":""].filter(Boolean).join(" ");return c.jsx("div",{className:H,children:c.jsxs("div",{className:"reel-viewport","aria-hidden":b?"true":void 0,children:[c.jsx("div",{className:"reel-payline"}),c.jsx("div",{className:"reel-strip",ref:V=>{_.current[F]=V},style:{transform:`translate3d(0, ${Pf(R.index)}px, 0)`},children:R.items.map((V,K)=>{const Z=`${F}-${(V==null?void 0:V.id)||"empty"}-${K}`,oe=K===R.index,te=!b&&oe&&!!V,ce=!!V&&oe&&R.locked;return c.jsx("div",{className:`reel-item ${oe?"center":"peek"}`,children:V?ce?c.jsx(ko,{task:V,onClick:te?()=>j(V):void 0,className:"recommended-card"}):lW(V):c.jsx("div",{className:"recommended-card-placeholder"})},Z)})})]})},`reel-${F}`)})})]})}),c.jsxs("div",{className:"recommended-actions",children:[c.jsx(We,{variant:"ghost",onClick:P,className:"reshuffle-btn",disabled:b,children:"None of these? Spin again"}),c.jsx(We,{variant:"primary",size:"lg",onClick:O,children:"Browse all tasks "})]}),c.jsx(Q3,{task:a,isOpen:!!a,onClose:D,onTaskUpdate:B})]})},Jv=10,cW=()=>{const e=ht(),t=Zr(),{selectedTasks:r,loading:n,refetch:i}=au(),[s,a]=k.useState(null),[o,u]=k.useState(""),[h,f]=k.useState({key:"lastUpdated",direction:"desc"}),[p,v]=k.useState(1),g=r.filter(D=>D.status===Be.CLAIMED||D.status===Be.IN_PROGRESS||D.status===Be.WAITING_REVIEW),b=D=>{t&&t.capture("browse_tasks_clicked",{source:D,active_task_count:g.length}),e("/portal/tasks")},x=D=>{a(D)},_=()=>{a(null),i()},w=D=>{f(B=>({key:D,direction:B.key===D&&B.direction==="asc"?"desc":"asc"})),v(1)},A=D=>{const B=[D.started_at,D.selected_at,D.submitted_for_review_at,D.completed_at].filter(Boolean).map(R=>new Date(R).getTime());return B.length>0?Math.max(...B):0},S=k.useMemo(()=>{let D=[...g];if(o){const B=o.toLowerCase();D=D.filter(R=>{var F,H,Y;return((F=R.description)==null?void 0:F.toLowerCase().includes(B))||((H=R.category)==null?void 0:H.toLowerCase().includes(B))||((Y=R.subcategory)==null?void 0:Y.toLowerCase().includes(B))})}return D.sort((B,R)=>{let F,H;return h.key==="lastUpdated"?(F=A(B),H=A(R)):h.key==="category"?(F=`${B.category} ${B.subcategory||""}`,H=`${R.category} ${R.subcategory||""}`):(F=B[h.key],H=R[h.key]),F<H?h.direction==="asc"?-1:1:F>H?h.direction==="asc"?1:-1:0}),D},[g,o,h]),N=Math.ceil(S.length/Jv),P=S.slice((p-1)*Jv,p*Jv);if(n)return null;const O=D=>{switch(D){case Be.IN_PROGRESS:return"info";case Be.CLAIMED:return"secondary";case Be.WAITING_REVIEW:return"success";case Be.ACCEPTED:return"success";default:return"default"}},j=({columnKey:D})=>h.key!==D?c.jsx("span",{className:"sort-icon-placeholder"}):h.direction==="asc"?c.jsx(Nz,{}):c.jsx(Sz,{});return c.jsxs("section",{className:"task-preview-section my-tasks-section",children:[g.length>0&&c.jsxs("div",{className:"my-tasks-header-row",children:[c.jsxs("div",{className:"header-title-group",children:[c.jsx("h2",{children:"My Active Tasks"}),c.jsx(We,{variant:"ghost",size:"sm",onClick:()=>e("/portal/my-tasks"),className:"view-all-tasks-btn",children:"Show all tasks"})]}),c.jsx("div",{className:"header-actions",children:c.jsxs("div",{className:"search-input-container",children:[c.jsx(Pz,{className:"search-icon"}),c.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:D=>{u(D.target.value),v(1)},className:"task-search-input"})]})})]}),c.jsx("div",{className:"my-tasks-content",children:g.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"my-tasks-table-container",children:c.jsxs("table",{className:"my-tasks-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsxs("th",{className:"col-category sortable",onClick:()=>w("category"),children:["Category ",c.jsx(j,{columnKey:"category"})]}),c.jsxs("th",{className:"col-description sortable",onClick:()=>w("description"),children:["Description ",c.jsx(j,{columnKey:"description"})]}),c.jsxs("th",{className:"col-status sortable",onClick:()=>w("status"),children:["Status ",c.jsx(j,{columnKey:"status"})]}),c.jsxs("th",{className:"col-updated sortable",onClick:()=>w("lastUpdated"),children:["Updated ",c.jsx(j,{columnKey:"lastUpdated"})]})]})}),c.jsx("tbody",{children:P.length>0?P.map(D=>c.jsxs("tr",{onClick:()=>x(D),style:{cursor:"pointer"},children:[c.jsx("td",{children:c.jsx("span",{className:"task-category",title:`${D.category}${D.subcategory?" / "+D.subcategory:""}`,children:D.subcategory||D.category})}),c.jsx("td",{children:c.jsx("span",{className:"task-description",title:D.description,children:D.description})}),c.jsx("td",{children:c.jsx(Gi,{variant:O(D.status),children:K3[D.status]})}),c.jsx("td",{className:"task-date",children:new Date(A(D)).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},D.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"4",className:"no-results-cell",children:"No tasks match your search"})})})]})}),N>1&&c.jsxs("div",{className:"pagination-controls",children:[c.jsxs(We,{variant:"ghost",size:"sm",onClick:()=>v(D=>Math.max(1,D-1)),disabled:p===1,children:[c.jsx(Cz,{})," Prev"]}),c.jsxs("span",{className:"pagination-info",children:["Page ",p," of ",N]}),c.jsxs(We,{variant:"ghost",size:"sm",onClick:()=>v(D=>Math.min(N,D+1)),disabled:p===N,children:["Next ",c.jsx(Az,{})]})]}),c.jsx("div",{className:"my-tasks-footer",children:c.jsx(We,{variant:"primary",size:"lg",onClick:()=>b("landing_page_footer"),children:"Browse more tasks "})})]}):c.jsx(uW,{onTaskUpdate:i})}),c.jsx(J3,{task:s,isOpen:!!s,onClose:_,onTaskUpdate:()=>i()})]})};function dW(){var i,s;const{user:e,profile:t}=Ln(),r=Zr();k.useEffect(()=>{r&&r.capture("landing_page_viewed",{has_profile:!!t,has_github_username:!!(t!=null&&t.github_username)})},[r]);const n=(t==null?void 0:t.first_name)||(t==null?void 0:t.github_username)||((s=(i=e==null?void 0:e.user_metadata)==null?void 0:i.full_name)==null?void 0:s.split(" ")[0])||"there";return c.jsxs("div",{className:"landing-page",children:[c.jsxs("main",{className:"main-content",children:[c.jsx("section",{className:"welcome-strip",children:c.jsxs("div",{className:"welcome-content",children:[c.jsxs("h1",{className:"welcome-title",children:["Hello, ",n," ",c.jsx("span",{className:"wave",children:""})]}),c.jsx("p",{className:"welcome-subtitle",children:"Welcome to the community advancing agentic development."})]})}),c.jsx(cW,{}),c.jsx(jz,{})]}),c.jsx("footer",{className:"footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const hW=()=>c.jsxs("div",{className:"mission-page",children:[c.jsx("div",{className:"mission-background",children:c.jsx(rR,{})}),c.jsx("div",{className:"mission-content-container",children:c.jsxs("div",{className:"mission-content",children:[c.jsx("h1",{className:"mission-title",children:"Our Mission"}),c.jsx("h2",{className:"mission-subtitle",children:"Advancing the science of agentic AI through real engineering tasks"}),c.jsxs("div",{className:"mission-section",children:[c.jsx("p",{className:"mission-text",children:"Progress in agentic AI depends on more than next-token prediction."}),c.jsx("p",{className:"mission-text",children:"To evaluate and improve these systems, we need benchmarks that reflect the true complexity of real-world software engineering, including multistep reasoning, troubleshooting, environment manipulation, and recovery from failure."}),c.jsx("p",{className:"mission-text highlight",children:"TerminalBench was created to meet that need."}),c.jsx("p",{className:"mission-text",children:"TerminalBench, created by Stanford University and Laude Institute, provides a rigorous, end-to-end evaluation of how AI agents perform in realistic command-line environments. This platform is a Snorkel AI initiative to contribute to and expand the benchmark. Each task reveals specific model limitations, including gaps in reasoning, planning, execution, or robustness, that cannot be detected through synthetic datasets or code-completion benchmarks."})]}),c.jsxs("div",{className:"mission-section contributions",children:[c.jsx("h3",{children:"Your contributions directly shape this benchmark."}),c.jsx("p",{className:"mission-text",children:"By designing tasks that expose failure modes in frontier models, you help generate the empirical signal needed to:"}),c.jsxs("ul",{className:"mission-list",children:[c.jsx("li",{children:"Identify systematic weaknesses in agentic behavior"}),c.jsx("li",{children:"Guide model and policy improvements"}),c.jsx("li",{children:"Establish transparent, reproducible evaluation standards for the field"}),c.jsx("li",{children:"Accelerate research toward reliable, general-purpose coding agents"})]})]}),c.jsxs("div",{className:"mission-section closing",children:[c.jsx("p",{className:"mission-text strong",children:"This is not crowdsourced labeling, it is applied research, grounded in real engineering practice."}),c.jsx("p",{className:"mission-text",children:"TerminalBench advances only as far as its community of experts pushes it."}),c.jsx("p",{className:"mission-text",children:"Every accepted task becomes part of a shared scientific instrument used across academia and industry."}),c.jsx("p",{className:"mission-text welcome-message",children:"On behalf of the Snorkel team, welcome and thank you for helping build the foundation of next-generation agentic AI evaluation."})]})]})})]});function fW({section:e}){return e?c.jsxs("div",{className:"content",children:[c.jsx("h1",{className:"content-title",children:e.title}),c.jsx("div",{className:"content-body",children:e.content})]}):null}function pW({section:e}){const t=ht();return e?c.jsxs("div",{className:"guideline-section-page",children:[c.jsxs("header",{className:"guideline-section-header",children:[c.jsx("button",{className:"back-button",onClick:()=>t("/"),children:" Back to Home"}),c.jsx("div",{className:"section-logo",children:e.title})]}),c.jsx("main",{className:"guideline-section-main",children:c.jsx(fW,{section:e})}),c.jsx("footer",{className:"guideline-section-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]}):null}function mW(){const e=ht(),t=[{id:"92c2e195ac1c4b1e9b1177668dfcb81a",title:"1. Creating a Task"},{id:"22449b76123d41e6abff0efb39d0b960",title:"2. Running your task"},{id:"140f2cf8f16d404abf5cbd7dcc66b7cb",title:"3. Creating a solution/solve.sh"},{id:"a00541ff2787464c84bf4601415ee624",title:"4. Creating tests for your task"}];return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"Task Walkthrough Videos"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Task Walkthrough Videos"}),c.jsx("p",{className:"videos-subtitle",children:"Watch these step-by-step videos to learn how to create and submit tasks"}),c.jsx("div",{className:"videos-grid",children:t.map((r,n)=>c.jsxs("div",{className:"video-card",children:[c.jsx("h3",{className:"video-card-title",children:r.title}),c.jsx("div",{className:"video-wrapper",children:c.jsx("iframe",{src:`https://www.loom.com/embed/${r.id}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:r.title})})]},r.id))})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const gW="/Terminus-EC-Training-stateful/";function vW(){const e=ht();return c.jsxs("div",{className:"workbook-page",children:[c.jsxs("header",{className:"workbook-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"workbook-logo",children:"CI Feedback Video and Notebook"})]}),c.jsxs("main",{className:"workbook-content",children:[c.jsx("h1",{className:"workbook-title",children:"CI Feedback Video and Notebook"}),c.jsxs("div",{className:"workbook-intro",children:[c.jsx("p",{children:"CI checks are programmatic evaluations of task correctness and completeness. You need to iterate on your task until all checks pass. This page provides a practice workbook where you can do so, along with a video explaining the solution and walking through how to iterate on CI feedback."}),c.jsx("p",{children:c.jsx("a",{href:`${gW}ci_feedback_training.ipynb`,download:"ci_feedback_training.ipynb",className:"notebook-download-link",children:" Download CI Feedback Training Notebook"})})]}),c.jsx("div",{className:"workbook-video-section",children:c.jsxs("div",{className:"video-card",children:[c.jsx("h3",{className:"video-card-title",children:"CI Feedback Tutorial"}),c.jsx("div",{className:"video-wrapper",children:c.jsx("iframe",{src:"https://www.loom.com/embed/db35a5b03c1c43ab80f46f481fa02be1?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Practice Workbook Tutorial"})})]})}),c.jsxs("div",{className:"workbook-checks-section",children:[c.jsx("h2",{children:"Automated Checks"}),c.jsx("p",{children:"The following automated checks are run on all submissions:"}),c.jsx("h3",{children:"LLMAJ Checks"}),c.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Check Name"}),c.jsx("th",{children:"Description"}),c.jsx("th",{children:"How to Fix"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"behavior_in_task_description"})}),c.jsx("td",{children:"Whether all behavior checked in tests is described in the task"}),c.jsx("td",{children:"Review your test cases and ensure all tested behaviors are explicitly described in the task.toml instructions"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"behavior_in_tests"})}),c.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"}),c.jsx("td",{children:"Review your task.toml instructions and ensure each requirement has a corresponding test case in test_outputs.py"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"informative_test_docstrings"})}),c.jsx("td",{children:"Whether test cases have informative docstrings"}),c.jsx("td",{children:"Add docstrings to each test function that describe which behavior or requirement the test is checking"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"anti_cheating_measures"})}),c.jsx("td",{children:"Is it hard for the agent to cheat on the task?"}),c.jsx("td",{children:"Ensure agents cannot cheat by editing data files, looking inside files for solution strings, or training on the test set. If Dockerfile involves git cloning, ensure the agent won't see newer commits"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"structured_data_schema"})}),c.jsx("td",{children:"If agent produces structured data, is exact schema described?"}),c.jsx("td",{children:"If the agent produces structured data (e.g., API responses), describe the exact schema in task.toml or a separate file"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"hardcoded_solution"})}),c.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"}),c.jsx("td",{children:"Ensure your solution/solve.sh demonstrates a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Using echo/cat to write source files or scripts that are then executed is acceptable"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"file_reference_mentioned"})}),c.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.toml?"}),c.jsx("td",{children:"If tests check for specific files, ensure those filenames are explicitly mentioned in the task.toml instructions"})]})]})]}),c.jsx("h3",{children:"CI Checks"}),c.jsx("p",{children:"The following automated checks validate technical requirements:"}),c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Check Name"}),c.jsx("th",{children:"Description"}),c.jsx("th",{children:"How to Fix"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"pinned_dependencies"})}),c.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"}),c.jsx("td",{children:"Pin all Python dependencies to specific versions. Apt packages should not be pinned, but all pip/uv dependencies should be"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"typos"})}),c.jsx("td",{children:"Check for typos in file and variable names"}),c.jsx("td",{children:"Carefully review file and variable names for typos, as these can be hard to catch"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"tests_or_solution_in_image"})}),c.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"}),c.jsx("td",{children:"Remove any COPY commands for tests/ folder or solution files from your Dockerfile. The /tests folder is automatically copied by the harness"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"test_deps_in_image"})}),c.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"}),c.jsx("td",{children:"Move any test dependency installations from the Dockerfile to the run-tests.sh script"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_canary"})}),c.jsx("td",{children:"Checks if canary string is present at top of required files"}),c.jsx("td",{children:"Add the canary string to the top of all required files (task.yaml, solution/solve.sh, Dockerfile, test_outputs.py)"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_dockerfile_references"})}),c.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"}),c.jsx("td",{children:'Remove any references to "solution.yaml", "solution/solve.sh", "run-tests.sh", or "test_outputs.py" from your Dockerfile'})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_run-tests_sh"})}),c.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.toml keywords"}),c.jsx("td",{children:"Update run-tests.sh to contain uv init or uv venv, or add global or system-wide keywords to task.toml"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_task_absolute_path"})}),c.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"}),c.jsx("td",{children:"Update all file paths in task.toml instructions to use absolute paths (starting with /) instead of relative paths"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_privileged_containers"})}),c.jsx("td",{children:"No privileged containers in docker-compose.yaml"}),c.jsx("td",{children:"Remove any privileged: true or privileged container settings from docker-compose.yaml"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"ruff"})}),c.jsx("td",{children:"Lint checks"}),c.jsx("td",{children:"Run ruff linting checks before submitting and fix any linting errors"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_task_sizes"})}),c.jsx("td",{children:"Every file is under 1MB"}),c.jsx("td",{children:"Remove or condense any files that are over 1MB in size"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"validate_task_fields"})}),c.jsx("td",{children:"All required fields are present in task.toml"}),c.jsx("td",{children:"Add any missing required fields to your task.toml file"})]})]})]})]})]}),c.jsx("footer",{className:"workbook-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const yW="/Terminus-EC-Training-stateful/";function bW(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"OracleAgent Video and Notebook"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"OracleAgent Video and Notebook"}),c.jsx("div",{className:"workbook-intro",children:c.jsx("p",{children:"This page covers what the Oracle Agent is, how to run it, how to debug its output, and how to submit a debugged task. Use the practice workbook to iterate on your task and watch the video tutorial for a step-by-step walkthrough."})}),c.jsxs("div",{className:"workbook-resources",children:[c.jsxs("div",{className:"download-card",children:[c.jsx("div",{className:"download-icon",children:""}),c.jsx("h3",{children:"Oracle Agent Training Notebook"}),c.jsx("p",{children:"Download the Jupyter notebook for hands-on practice with the Oracle Agent"}),c.jsx("a",{href:`${yW}oracle_agent_training.ipynb`,download:"oracle_agent_training.ipynb",className:"download-button",children:"Download Notebook"})]}),c.jsxs("div",{className:"video-card",children:[c.jsx("h3",{className:"video-card-title",children:"Oracle Training Tutorial"}),c.jsx("div",{className:"video-wrapper",children:c.jsx("iframe",{src:"https://www.loom.com/embed/72b70216a5314068823bc6ed0350e672?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Oracle Training Tutorial"})})]})]})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const lC="/Terminus-EC-Training-stateful/";function _W(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"Onboarding Video and Slides"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Onboarding Video and Slides"}),c.jsx("div",{className:"workbook-intro",children:c.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project."})}),c.jsxs("div",{className:"workbook-resources",children:[c.jsxs("div",{className:"download-card",children:[c.jsx("div",{className:"download-icon",children:""}),c.jsx("h3",{children:"Onboarding Slides"}),c.jsx("p",{children:"Download or view the onboarding presentation slides"}),c.jsx("a",{href:`${lC}Terminus%20EC%20Onboarding.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),c.jsxs("div",{className:"video-card",children:[c.jsx("h3",{className:"video-card-title",children:"Onboarding Video"}),c.jsx("div",{className:"video-wrapper",children:c.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},onError:t=>{console.error("Video load error:",t),console.error("Video src:",t.target.currentSrc)},children:[c.jsx("source",{src:`${lC}video1251502681.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function iR({itemId:e,label:t}){const{isCompleted:r,toggleCompletion:n}=$3(),[i,s]=k.useState(!1),a=r(e),o=async()=>{s(!0),await n(e),s(!1)};return c.jsxs("button",{className:`completion-toggle ${a?"completed":""}`,onClick:o,disabled:i,title:a?"Mark as incomplete":"Mark as complete",children:[c.jsx("span",{className:"completion-checkbox",children:a&&c.jsx("svg",{className:"completion-checkmark",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),c.jsx("span",{className:"completion-label",children:t||(a?"Completed":"Mark as Complete")})]})}const uC="/Terminus-EC-Training-stateful/";function xW(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/portal"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"Expert Platform Onboarding Materials"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Expert Platform Onboarding Materials"}),c.jsx("div",{className:"workbook-intro",children:c.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project on the Snorkel Expert Platform."})}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",maxWidth:"800px",margin:"0 auto",marginTop:"2rem"},children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"12px",padding:"2rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",width:"100%"},children:[c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ffffff",marginBottom:"1.5rem",textAlign:"center"},children:"Expert Platform Onboarding Materials"}),c.jsx("div",{style:{marginBottom:"2rem",textAlign:"center"},children:c.jsx("a",{href:`${uC}Terminus EC Onboarding - Platform.pdf`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",backgroundColor:"#ffffff",color:"#1e40af",padding:"0.875rem 2rem",fontSize:"1rem",fontWeight:600,textDecoration:"none",borderRadius:"8px",transition:"all 0.3s",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.2)"},children:"View/Download Onboarding Slides"})}),c.jsxs("div",{children:[c.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:600,color:"#ffffff",marginBottom:"1rem",textAlign:"center"},children:"Onboarding Video"}),c.jsx("div",{className:"video-wrapper",children:c.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[c.jsx("source",{src:`${uC}platform_onboarding_11-25-2025.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})}),c.jsx("div",{style:{marginTop:"2rem",maxWidth:"800px",margin:"2rem auto 0"},children:c.jsx(iR,{itemId:"resource-expert-platform-onboarding"})})]})]})}const cC="/Terminus-EC-Training-stateful/";function wW(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"Office Hours Videos and Slides"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Office Hours Videos and Slides"}),c.jsx("div",{className:"workbook-intro",children:c.jsx("p",{children:"Access Office Hours videos and feedback presentation slides to learn about common issues and best practices."})}),c.jsxs("div",{className:"workbook-resources",children:[c.jsxs("div",{className:"video-card",children:[c.jsx("h3",{className:"video-card-title",children:"Office Hours 11/12"}),c.jsx("div",{className:"video-wrapper",children:c.jsxs("video",{controls:!0,className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[c.jsx("source",{src:"/Terminus-EC-Training/video1344882306.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),c.jsxs("div",{className:"download-card",children:[c.jsx("div",{className:"download-icon",children:""}),c.jsx("h3",{children:"Feedback 10/31"}),c.jsx("p",{children:"Feedback slides from October 31st"}),c.jsx("a",{href:`${cC}Feedback%2010_31.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),c.jsxs("div",{className:"download-card",children:[c.jsx("div",{className:"download-icon",children:""}),c.jsx("h3",{children:"Feedback 11/3"}),c.jsx("p",{children:"Feedback slides from November 3rd"}),c.jsx("a",{href:`${cC}Feedback%2011_3.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]})]})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function EW(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"FAQ"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Frequently Asked Questions"}),c.jsxs("div",{className:"faq-container",children:[c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"1. Do I need to attend onboarding to get started?"}),c.jsx("p",{className:"faq-answer",children:"No, you do not need to attend a live onboarding. We encourage this so that you can ask questions and they're scheduled every couple of days in case you can't make one day. However, we also have a recording and slides from this session on this site, so you're free to look at those to familiarize yourself and get started right away."})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"2. I didn't receive an assessment, do I need to take one?"}),c.jsx("p",{className:"faq-answer",children:"No, there is currently no assessment for this project, you can get started familiarizing yourself with the task and working on it immediately."})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"3. How do I receive my API keys?"}),c.jsx("p",{className:"faq-answer",children:"You should receive an email with your OpenAI API key shortly after joining the project. If you haven't received it within a day or two, please reach out to Puyun Tafreshi or Alejandro Sanchez on Slack. You will only need the OpenAI key - our infrastructure will allow you to run Anthropic models using only this key."})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"4. Why do I not see anything in my Snorkel Expert Platform?"}),c.jsx("p",{className:"faq-answer",children:"This project is currently being run entirely outside of the Snorkel Expert Platform. Therefore, you should not and will not see anything related to the project on the platform. Everything will be done through the GitHub repo at this point in time."})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"5. How do I get served a task?"}),c.jsx("p",{className:"faq-answer",children:'You will not be "served" a task to complete like in other Snorkel projects. You will be ideating and creating the task completely from scratch. Please see the Task Walkthrough videos for more detail on how to do this.'})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"6. How do I get an idea for my task?"}),c.jsx("p",{className:"faq-answer",children:'You can either come up with a task from scratch or take a task idea from our sheet of task ideas, this is up to you. You can also use the task ideas as "inspiration" and come up with a similar or more complex version.'})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"7. How do I claim an existing task idea from the sheet?"}),c.jsx("p",{className:"faq-answer",children:"To claim a task, please DM Puyun Tafreshi or Alejandro Sanchez on Slack with the line number of the task that you would like to claim. Please do not request more than 2-3 tasks at once, you will be capped at this until you have completed one or more of the tasks that you have previously requested."})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"8. What are the daily Office Hours sessions?"}),c.jsx("p",{className:"faq-answer",children:"These are open forums that are entirely for you. You can come and ask any general questions or specific questions about your task. These are not required, but we encourage attending either to ask questions yourself or just to learn from listening to other people."})]}),c.jsxs("div",{className:"faq-item",children:[c.jsx("h2",{className:"faq-question",children:"9. How do I make a hard task?"}),c.jsxs("p",{className:"faq-answer",children:[c.jsx("strong",{children:"Important:"}),' Tasks that are not at least "Easy" difficulty rating will NOT be accepted. Here are some suggestions and guidelines to make harder tasks:']}),c.jsxs("ul",{style:{marginTop:"0.75rem",paddingLeft:"1.5rem",color:"#64748b"},children:[c.jsxs("li",{style:{marginBottom:"0.75rem"},children:[c.jsx("strong",{children:"Make a debugging-style task:"})," When an agent has to figure out the root cause of an issue, it inherently requires reasoning."]}),c.jsxs("li",{style:{marginBottom:"0.75rem"},children:[c.jsx("strong",{children:"Make tasks requiring special/niche knowledge:"})," Knowledge is publicly available but LLMs have not been well-trained on it due to niche nature. Example: ",c.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/103",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Blockchains/NFT task"})]}),c.jsxs("li",{style:{marginBottom:"0.75rem"},children:[c.jsx("strong",{children:"Use a bespoke rule buried in common rules:"})," The task.toml still has to clearly define it, but a bespoke rule seems to confuse an agent. Example: ",c.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/174#discussion_r2497044356",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Bespoke rule example"})]}),c.jsxs("li",{style:{marginBottom:"0.75rem"},children:[c.jsx("strong",{children:"Develop a complex, multi-step task:"})," Each step has a certain amount of chance that an agent fails, making the overall failure rate higher."]})]})]})]}),c.jsx("div",{className:"workbook-actions",style:{marginTop:"2rem"},children:c.jsx(iR,{itemId:"resource-faq"})})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function kW(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"Glossary"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Glossary"}),c.jsx("div",{className:"content-body",style:{maxWidth:"1000px",margin:"0 auto",textAlign:"left"},children:c.jsxs("div",{className:"glossary-grid",children:[c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Canary String"}),c.jsx("p",{style:{marginBottom:0},children:"A special string that must be present at the top of all required files (task.toml, solution/solve.sh, Dockerfile, test_outputs.py). Used to verify that these files have been properly reviewed and meet project standards."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"CI Checks"}),c.jsx("p",{style:{marginBottom:0},children:"Automated checks that validate technical requirements for submissions. Include checks for pinned dependencies, typos, canary strings, Dockerfile references, absolute paths, privileged containers, linting (ruff), file sizes, and required task.toml fields. All CI checks must pass before a submission can be accepted."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"docker-compose.yaml"}),c.jsx("p",{style:{marginBottom:0},children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources. Must not use privileged containers."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Dockerfile"}),c.jsx("p",{style:{marginBottom:0},children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode. Must not copy tests/ folder or solution files, as these are automatically copied by the harness."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"LLMAJ Checks"}),c.jsx("p",{style:{marginBottom:0},children:"Automated checks that evaluate task quality and correctness. Include checks for behavior alignment between task description and tests, informative test docstrings, anti-cheating measures, structured data schema description, hardcoded solutions, and file reference mentions. These checks ensure the task is well-designed and properly tested."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Oracle Agent"}),c.jsx("p",{style:{marginBottom:0},children:"Agent that is run in created environment to check the solution implemented in the solution/solve.sh file. Checks that the solution runs correctly and without bugs, and tests the output of the solution against the created pytests to ensure that the solution passes."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Pass Rate Difficulty"}),c.jsx("p",{style:{marginBottom:0},children:"The average pass rate for an acceptable task must be <80%. This ensures tasks are challenging enough to provide meaningful evaluation of agent capabilities."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"run-tests.sh"}),c.jsx("p",{style:{marginBottom:0},children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. Must be deterministic, portable, and callable directly from the project root. Should use uv init or uv venv, or have proper task.yaml keywords."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"solution/solve.sh"}),c.jsx("p",{style:{marginBottom:0},children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task. Must demonstrate a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Used by the Oracle Agent to verify the task is solvable."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"stb"}),c.jsxs("p",{style:{marginBottom:0},children:["Command-line tool for Terminal-Bench tasks. Used with commands like ",c.jsx("code",{children:"uv run stb tasks create"}),"to create new task structures and manage task-related operations."]})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"task.toml"}),c.jsx("p",{style:{marginBottom:0},children:"Clear and self-contained description of the task to be accomplished by the agent. Includes references to relevant resources, rules and constraints, success criteria, and task metadata. Must be written by a human and should explicitly mention any filenames that agents need to produce."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"tb run"}),c.jsxs("p",{style:{marginBottom:0},children:["Command used to run tasks with different agents. Example: ",c.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"}),"runs the Oracle Agent on a specified task to verify the solution works correctly."]})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"test_outputs.py"}),c.jsx("p",{style:{marginBottom:0},children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment. Each test should have informative docstrings describing which behavior or requirement the test is checking. All behavior described in task.toml should have corresponding tests."})]}),c.jsxs("div",{className:"info-box",style:{marginTop:0},children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"uv"}),c.jsx("p",{style:{marginBottom:0},children:"A fast Python package installer and resolver written in Rust. Used in the Terminus project for managing Python dependencies and virtual environments. Required for running tasks and managing test dependencies."})]})]})})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function TW(){const e=ht();return c.jsxs("div",{className:"videos-page",children:[c.jsxs("header",{className:"videos-header",children:[c.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),c.jsx("div",{className:"videos-logo",children:"Local Testing Info"})]}),c.jsxs("main",{className:"videos-content",children:[c.jsx("h1",{className:"videos-title",children:"Local Testing Info"}),c.jsxs("div",{className:"content-body",style:{maxWidth:"900px",margin:"0 auto",textAlign:"left"},children:[c.jsx("p",{style:{marginBottom:"2rem",lineHeight:"1.7",color:"#475569"},children:"Running agents locally allows you to iterate on your tasks more effectively compared to needing to submit your PR before receiving test results. By testing locally, you can quickly identify issues, refine your task design, and validate solutions before submitting. You'll receive your API key from Snorkel via email, which you'll need to set up your environment for local testing."}),c.jsx("h2",{children:"Test SOTA agent performance on your task"}),c.jsxs("ol",{children:[c.jsx("li",{children:"Receive API key from Snorkel via email"}),c.jsxs("li",{children:["Update environmental variables:",c.jsx("pre",{children:c.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),c.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",c.jsx("pre",{children:c.jsx("code",{children:"# GPT-5 tb run --agent terminus-2 --model openai/@openai-tbench/gpt-5 --task-id <task_id> # Claude Sonnet 4.5 tb run --agent terminus-2 --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929 --task-id <task_id>"})})]})]}),c.jsx("h2",{children:"Check that your solution passes CI and LLMaJ checks"}),c.jsxs("ol",{children:[c.jsx("li",{children:"Receive API key from Snorkel via email"}),c.jsxs("li",{children:["Update environmental variables:",c.jsx("pre",{children:c.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),c.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",c.jsx("pre",{children:c.jsx("code",{children:"# GPT-5 tb tasks check <task_id> --model openai/@openai-tbench/gpt-5 # Claude Sonnet 4.5 tb tasks check <task_id> --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929"})})]})]})]})]}),c.jsx("footer",{className:"videos-footer",children:c.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const SW=[{id:"overview",title:"Project Overview",content:c.jsxs(c.Fragment,{children:[c.jsx("h3",{children:"Project Goal"}),c.jsx("p",{children:"This project aims to develop a high-quality dataset in the style of Terminal-Bench. Terminal-Bench is a suite of multi-step agentic tasks executed in a Command-Line Interface (CLI) environment, designed to benchmark the performance of models. You will design these tasks and include the necessary components to be compatible with the Terminus framework."}),c.jsx("h3",{children:"Your Role as a Coding Expert"}),c.jsx("p",{children:"Your role is to develop a task, solution, and associated tests to verify the solution. These should be quite difficult, targeting an accuracy of below 80% for GPT-5 or Sonnet 4.5."}),c.jsx("p",{children:c.jsx("strong",{children:"Task Difficulty Classifications:"})}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Hard"})," - accuracy < 40% for GPT-5 or Sonnet 4.5"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Medium"})," - accuracy < 60% for either GPT-5 or Sonnet 4.5"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Easy"})," - accuracy < 80% for either GPT-5 or Sonnet 4.5"]})]}),c.jsx("p",{children:"You will create the task locally, validate that it meets all project criteria, and then package it as part of your submissions. Each submission undergoes independent review by another qualified coding expert with experience in the corresponding practice area to ensure accuracy and completeness."}),c.jsx("h3",{children:"Resources"}),c.jsxs("ul",{children:[c.jsxs("li",{children:["Slack for all project-related questions: ",c.jsx("strong",{children:"#ec-terminus-submission"})]}),c.jsxs("li",{children:["Terminal-Bench site: ",c.jsx("a",{href:"https://www.tbench.ai/",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/"})]}),c.jsx("li",{children:"While this project is NOT affiliated with the official Terminal-Bench project, this is a valuable resource given their similarities"}),c.jsx("li",{children:"Tickets for non-project-specific questions (i.e., payments): Expert Support Form"})]})]})},{id:"components",title:"Task Components",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Key Submission Components"}),c.jsx("h3",{children:"Components that Define the Task"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Instruction/Prompt (task.yaml)"}),c.jsx("p",{children:"Clear and self-contained description of the task to be accomplished by the agent. The instructions will include references to the relevant resources necessary for task completion, rules and additional constraints, and a description of the success criteria. This will also contain task metadata that is not available to the agent at runtime."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Docker Environment (Dockerfile)"}),c.jsx("p",{children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"docker-compose.yaml"}),c.jsx("p",{children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Oracle Solution (solution/solve.sh)"}),c.jsx("p",{children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"run-tests.sh"}),c.jsx("p",{children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. It must be deterministic, portable, and callable directly from the project root."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Python Tests"}),c.jsx("p",{children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment."})]}),c.jsx("h3",{children:"Optional Components"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Supporting Data Files:"})," Any additional inputs (e.g., data, configuration files, etc.) that are required for the task itself"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Custom Tools:"})," Custom tools to be used by the agent can be delivered in multiple ways, from source code files to companion containers"]})]}),c.jsxs("p",{className:"warning-box",children:[c.jsx("strong",{children:"Note:"})," See the template task in the GitHub repository for an example of submission structure."]})]})},{id:"taxonomy",title:"Task Type Taxonomy",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Task Type Taxonomy"}),c.jsx("p",{children:"The following taxonomy is used to label each task and describes the primary theme, topic, or activity in the task:"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"system-administration"}),c.jsx("p",{children:"Tasks involving OS-level configuration, user management, package management, processes, or installing, configuring, and bringing up services, networks, and environments."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"build-and-dependency-management"}),c.jsx("p",{children:"Compile code, manage dependencies, build components."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"data-processing"}),c.jsx("p",{children:"Tasks that transform, parse, filter, aggregate datasets or files and directories and generate derived output."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"games"}),c.jsx("p",{children:"Tasks centered on game-like or simulated environments, interactive puzzles, or simulation games that run in the terminal."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"software-engineering"}),c.jsx("p",{children:"Tasks focused on developing or testing features and algorithms, fixing bugs and improving/optimizing an existing feature, implementing tests, or maintaining software projects."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"machine-learning"}),c.jsx("p",{children:"Tasks requiring training, fine-tuning, running inference, or evaluating machine learning models, including dependency setup, running training loops, and managing data pipelines for ML tasks."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"debugging"}),c.jsx("p",{children:"Tasks that require identifying, diagnosing, and fixing errors in scripts, codebases, or system configurations."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"security"}),c.jsx("p",{children:"Tasks related to cryptography, authentication, permissions, penetration-style tests, exploit, validate vulnerabilities, reverse engineering or security configuration."})]}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"scientific-computing"}),c.jsx("p",{children:"Tasks using scientific libraries or workflows, such as numerical computation, simulations, or domain-specific research code."})]}),c.jsxs("p",{className:"warning-box",children:[c.jsx("strong",{children:"Note:"})," If your Terminal-Bench tasks are designed to be relevant to a particular domain, such as financial services, an additional taxonomy specific to that domain can be developed."]})]})},{id:"workflow",title:"Setup + Workflow",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Environment Setup and Tasking Workflow"}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Before Beginning:"})," Familiarize yourself with Terminal-Bench and its existing tasks here:",c.jsx("a",{href:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1"}),". Our project, while not a direct contribution to Terminal-Bench, will mimic the style closely."]}),c.jsx("h3",{children:"Submissions Workflow"}),c.jsxs("p",{children:["Submissions will be created through a private GitHub repository: ",c.jsx("code",{children:"https://github.com/snorkel-ai/snorkel-tb-tasks"})]}),c.jsx("p",{children:"Once you receive access to this repository, please do the following:"}),c.jsxs("ol",{children:[c.jsx("li",{children:"Clone the repository"}),c.jsxs("li",{children:["Create a task in your local environment under ",c.jsx("code",{children:"tasks"})," directory"]}),c.jsx("li",{children:"Ensure the oracle solution passes and minimum criteria for difficulty are met"}),c.jsxs("li",{children:["Push a branch (e.g. ",c.jsx("code",{children:"username/<task-id>"}),")"]}),c.jsxs("li",{children:["Create a pull request against the repository and make sure the title starts with ",c.jsx("strong",{children:"Task:"})]}),c.jsx("li",{children:"Iterate on that branch until all CI/Evals pass"})]}),c.jsxs("p",{className:"info-box",children:[c.jsx("strong",{children:"Estimated Time:"})," The submission task is expected to require around 2-5 hours to complete."]}),c.jsx("h3",{children:"Initial Setup (one-time)"}),c.jsxs("ol",{children:[c.jsxs("li",{children:["Install uv",c.jsx("pre",{children:c.jsx("code",{children:"curl -LsSf https://astral.sh/uv/install.sh | sh"})})]}),c.jsxs("li",{children:["Clone the repository",c.jsx("pre",{children:c.jsx("code",{children:"git clone https://github.com/snorkel-ai/snorkel-tb-tasks.git"})})]}),c.jsxs("li",{children:["Navigate to the created local directory",c.jsx("pre",{children:c.jsx("code",{children:"cd snorkel-tb-tasks"})})]})]}),c.jsx("h3",{children:"Creating the File Structure for a New Task"}),c.jsxs("ol",{children:[c.jsx("li",{children:"Download the task skeleton template from the training site"}),c.jsx("li",{children:"Extract and rename the folder to match your task name"}),c.jsx("li",{children:"[Optional] Enter 'y' to receive an overview of Terminal-Bench, or 'n' to skip"}),c.jsxs("li",{children:["Follow the steps given in the terminal to:",c.jsxs("ul",{children:[c.jsx("li",{children:"Provide a unique name for your task"}),c.jsx("li",{children:"Provide the task description/what the task is"}),c.jsx("li",{children:"Indicate whether interactive commands are required (most cases: no)"}),c.jsx("li",{children:"Please skip entering your name and email (we will track this through the app)"}),c.jsx("li",{children:"Enter a category for your task corresponding to one in the Taxonomy"}),c.jsx("li",{children:"Enter 3-6 tags for your task (separated by spaces)"}),c.jsx("li",{children:"Provide an easy/medium/hard rating based on how long it would take an expert to solve"}),c.jsx("li",{children:"Provide a completion time estimate for an expert engineer"}),c.jsx("li",{children:"Provide a completion time estimate for a junior engineer"})]})]})]}),c.jsxs("p",{children:["This will create a new folder in your ",c.jsx("code",{children:"snorkel-tb-tasks/tasks"})," directory, with a name corresponding to the unique name provided. The contents contain all the necessary files needed for task submission (unless you need to add additional data files)."]}),c.jsx("h3",{children:"Completing a Task After Creation"}),c.jsxs("ol",{children:[c.jsxs("li",{children:["Edit the created Dockerfile to set up your task environment",c.jsxs("ul",{children:[c.jsx("li",{children:"Add any dependencies of the task, such as additional required packages"}),c.jsx("li",{children:"If you require a multi-container environment or other custom configuration, see the documentation for customizing your docker-compose.yaml"})]})]}),c.jsxs("li",{children:["Enter your task container in interactive mode",c.jsx("pre",{children:c.jsx("code",{children:"tb tasks interact -t <task-name>"})})]}),c.jsx("li",{children:"While interacting with your task container, test your solution idea to make sure it works as expected"}),c.jsx("li",{children:"Once solution is verified, record it and exit the container"}),c.jsxs("li",{children:["Modify the solution file (solution/solve.sh) with the verified commands",c.jsxs("ul",{children:[c.jsx("li",{children:"This file will be used by the OracleAgent to ensure the task is solvable"}),c.jsx("li",{children:"If you need to run commands that are not possible with a bash script (e.g. vim), use a solution.yaml file"})]})]}),c.jsxs("li",{children:["Update the tests/test_outputs.py file to verify task completion",c.jsxs("ul",{children:[c.jsx("li",{children:"Create pytest unit tests to ensure that the task was completed correctly"}),c.jsx("li",{children:"If tests require any file dependencies, place them in the tests/ directory"})]})]}),c.jsxs("li",{children:["Test your task solution passes and meets all requirements",c.jsx("pre",{children:c.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"})})]}),c.jsx("li",{children:"Push a branch (e.g. my-task-1) to the repository"}),c.jsx("li",{children:"Create a PR to submit your task"})]})]})},{id:"requirements",title:"Task Requirements",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Task Design Requirements"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Frontier Models and Agents:"})," The following combinations are used to evaluate each task (evaluations are repeated 5 times):",c.jsxs("ul",{children:[c.jsx("li",{children:"Codex agent with GPT-5-Codex"}),c.jsx("li",{children:"Claude Code agent with Sonnet 4.5"})]})]}),c.jsxs("div",{className:"checklist",children:[c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"Pass Rate Difficulty:"})," Average pass rate for acceptable task is <80%"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"Multi-Step:"})," Tasks must require chaining multiple commands, handling intermediate states, and some reasoning"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"Testable:"})," Each task must be fully specified with sufficient information for the agent to complete without ambiguity"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"Unique:"})," All tasks must be unique and distinct from all existing Terminal-Bench tasks"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"No Privileged Ops:"})," Tasks must not require root-level privileges or unsafe Docker settings"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"Standalone:"})," Tasks must run to completion without additional user input after start"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"Task Type Distribution:"})," No single type will exceed ~30% of offerings, with at least four types each representing 10%"]}),c.jsxs("div",{className:"checklist-item",children:[c.jsx("strong",{children:"(Optional) Domain Relevance:"})," Tasks should reflect real-world skills for the relevant domain"]})]}),c.jsx("h3",{children:"Submission Checklist"}),c.jsxs("div",{className:"checklist",children:[c.jsx("div",{className:"checklist-item",children:"All behavior checked in the test cases is described in the task instruction"}),c.jsx("div",{className:"checklist-item",children:"All behavior described in the task instruction is checked in the unit tests"}),c.jsx("div",{className:"checklist-item",children:"Test cases have informative docstrings that describe which behavior they check"}),c.jsx("div",{className:"checklist-item",children:"Hard for agent to cheat (e.g. by editing data files or looking inside files for solutions)"}),c.jsx("div",{className:"checklist-item",children:"task.yaml was written by a human"}),c.jsx("div",{className:"checklist-item",children:"solution/solve.sh was written by a human (with minimal LLM help)"}),c.jsx("div",{className:"checklist-item",children:"If agent produces structured data, exact schema is described in task.yaml or separate file"}),c.jsx("div",{className:"checklist-item",children:"External dependencies have pinned versions for reproducibility"}),c.jsx("div",{className:"checklist-item",children:"Ran task using agent with powerful model and analyzed failing runs to confirm task validity"}),c.jsx("div",{className:"checklist-item",children:"Formatted and linted the task (Ruff)"})]})]})},{id:"examples",title:"Example Tasks",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Example Tasks"}),c.jsx("h3",{children:"Example 1: VimGolf Challenge"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Category:"})," games",c.jsx("br",{}),c.jsx("strong",{children:"Difficulty:"})," medium",c.jsx("br",{}),c.jsx("strong",{children:"Tags:"})," games, vim, text-editing"]}),c.jsx("pre",{children:c.jsx("code",{children:`instruction: |-
  You are given a fresh install with python installed.
  First, use pip to install vimgolf.
  Then, read the file "/challenge.txt" to get the challenge id.
  Then, use vimgolf show <CHALLENGE_ID> to get the best scores,
  as well as the start file and end file.
  Then, write the Start File to /start.txt and End File to /end.txt
  Attempt the vimgolf challenge using vimgolf local /start.txt /end.txt,
  and output the string of vim inputs in "/score.txt".
  
  Your primary objective is to solve the problem within the
  minimum score * 1.5 in the leaderboard.`})}),c.jsx("h3",{children:"Example 2: OpenCV Debugging"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Category:"})," computer-vision",c.jsx("br",{}),c.jsx("strong",{children:"Difficulty:"})," medium",c.jsx("br",{}),c.jsx("strong",{children:"Tags:"})," computer-vision, jupyter-notebooks, bugfix"]}),c.jsx("pre",{children:c.jsx("code",{children:`instruction: |-
  A Jupyter notebook at /app/opencv_analysis.ipynb contains
  several OpenCV image processing operations, but it has multiple
  errors preventing it from running successfully.
  Fix all errors in the notebook so that it executes completely
  without errors and produces the expected output image.`})}),c.jsx("h3",{children:"Example 3: Python Bytecode Decompilation"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Category:"})," software-engineering",c.jsx("br",{}),c.jsx("strong",{children:"Difficulty:"})," hard",c.jsx("br",{}),c.jsx("strong",{children:"Tags:"})," software-engineering, python, bytecode, serialization"]}),c.jsx("pre",{children:c.jsx("code",{children:`instruction: |
  Your task is to decompile a Python function in bytecode format,
  compiled in CPython 3.8, and save the function in decompiled.py
  in the same folder as task.yaml.
  The function name should be "func".
  Note that the function is pickled using dill and serialized
  using base64 in the file called func.serialized.`})}),c.jsx("h3",{children:"Example 4: Python Environment Setup"}),c.jsxs("div",{className:"info-box",children:[c.jsx("strong",{children:"Category:"})," system-administration",c.jsx("br",{}),c.jsx("strong",{children:"Difficulty:"})," medium",c.jsx("br",{}),c.jsx("strong",{children:"Tags:"})," environment-setup, python, virtualenv, dependency-management"]}),c.jsx("pre",{children:c.jsx("code",{children:`instruction: |
  Install Python using pyenv, create a virtual environment using
  pyenv/virtualenv called "venv", activate it and install
  numpy 1.26.4 in it.
  You shouldn't get any warning during Python installation.
  Make sure that tkinter is also available in the virtual environment.`})})]})},{id:"ci-quality",title:"CI + Quality Control",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Quality Control"}),c.jsx("h3",{children:"Manual Peer Review"}),c.jsx("p",{children:"Peer reviewers will provide additional expert oversight on oracle correctness, prompt clarity, environment correctness, and tagging. Disagreements are adjudicated by Snorkel's in-house experts."}),c.jsx("h3",{children:"LLMAJ Checks"}),c.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Check Name"}),c.jsx("th",{children:"Description"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"behavior_in_task_description"})}),c.jsx("td",{children:"Whether all behavior checked in tests is described in the task"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"behavior_in_tests"})}),c.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"informative_test_docstrings"})}),c.jsx("td",{children:"Whether test cases have informative docstrings"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"anti_cheating_measures"})}),c.jsx("td",{children:"Is it hard for the agent to cheat on the task?"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"structured_data_schema"})}),c.jsx("td",{children:"If agent produces structured data, is exact schema described?"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"hardcoded_solution"})}),c.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"file_reference_mentioned"})}),c.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.yaml?"})]})]})]}),c.jsx("h3",{children:"CI Checks"}),c.jsx("p",{children:"The following automated checks validate technical requirements:"}),c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Check Name"}),c.jsx("th",{children:"Description"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"pinned_dependencies"})}),c.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"typos"})}),c.jsx("td",{children:"Check for typos in file and variable names"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"tests_or_solution_in_image"})}),c.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"test_deps_in_image"})}),c.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_canary"})}),c.jsx("td",{children:"Checks if canary string is present at top of required files"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_dockerfile_references"})}),c.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_run-tests_sh"})}),c.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.yaml keywords"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_task_absolute_path"})}),c.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_privileged_containers"})}),c.jsx("td",{children:"No privileged containers in docker-compose.yaml"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"ruff"})}),c.jsx("td",{children:"Lint checks"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"check_task_sizes"})}),c.jsx("td",{children:"Every file is under 1MB"})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("code",{children:"validate_task_fields"})}),c.jsx("td",{children:"All required fields are present in task.yaml"})]})]})]})]})},{id:"review",title:"Review Guidelines",content:c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Review Guidelines"}),c.jsx("h3",{children:"Steps for Checking Tasks"}),c.jsx("h4",{children:"1. Read the Task Description"}),c.jsxs("div",{className:"checklist",children:[c.jsx("div",{className:"checklist-item",children:"Check that the task description looks like it's written by a person"}),c.jsx("div",{className:"checklist-item",children:"Imagine you're a malicious agent - does the description give extra information that makes cheating easier?"}),c.jsx("div",{className:"checklist-item",children:"Carefully read each requirement and verify there is a corresponding test"})]}),c.jsx("h4",{children:"2. Read the Tests"}),c.jsxs("div",{className:"checklist",children:[c.jsx("div",{className:"checklist-item",children:"Do the tests seem brittle, with many hardcoded strings?"}),c.jsx("div",{className:"checklist-item",children:"Are there hardcoded thresholds? Do these thresholds seem reasonable?"}),c.jsx("div",{className:"checklist-item",children:"Are there any tests that unreasonably assume behavior not mentioned in the description?"})]}),c.jsx("h4",{children:"3. Check Timeouts, Time Estimates, and Difficulty"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Difficulty should be based on effort required by a human"}),c.jsx("li",{children:"Junior estimate is for an L3 at Google, expert is a domain expert"}),c.jsx("li",{children:"Timeout should be high enough that it likely won't be the limiting factor"})]}),c.jsx("h4",{children:"4. On the Task Viewer"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Watch the terminal recording. If the agent fails, is it failing for a good reason?"}),c.jsx("li",{children:"Check the analysis. Are the identified issues real?"}),c.jsx("li",{children:"Read the debug pane, which shows why an agent failed the task"})]}),c.jsx("h3",{children:"Common Errors to Watch For"}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Testing Behavior:"})," It is almost always better to test a behavior by actually running the code or environment the agent writes than trying to statically analyze it."]}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Tool Specifications:"})," Task instructions shouldn't mention specific tools that the agent should use unless there's a way to check if these tools were actually used. For example, don't ask the agent to use vim to write a text file because we can't confirm it was used over sed or emacs."]}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Randomness:"})," Tasks or solutions that involve randomness MUST NOT assume the solution matches that same random order or implementation. Don't depend on particular ",c.jsx("code",{children:"np.random.seed"}),"values."]}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Test Complexity:"})," Test files should be as clear and simple as possible. Long test files are almost always wrong since more tests means more opportunities for error. Similarly, a task should be carefully defined. It's usually a bad sign if a task description is long with many requirements."]}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Data Formats:"})," Be especially paranoid about specifying data formats like API structures, json response schemas, etc. For example, if you're telling the model it needs to output a CSV you'll also need to specify whether it needs a header."]}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"String Matching:"})," Avoid tests that rely on string matching. This is almost always too brittle. For example, checking for a python import by looking for ",c.jsx("code",{children:"import pandas.DataFrame"}),"could fail because the agent could write ",c.jsx("code",{children:"from pandas import DataFrame"}),"."]}),c.jsxs("div",{className:"warning-box",children:[c.jsx("strong",{children:"Anti-Cheating:"})," Think about how agents could cheat. Examples:",c.jsxs("ul",{children:[c.jsx("li",{children:"If an answer is hidden in a program, ensure agents cannot directly get the answer by decompiling it"}),c.jsx("li",{children:"If task requires running programs and reporting behavior, ensure agents can't pass by replacing programs with dummy versions"}),c.jsx("li",{children:"If task exposes test cases, ensure they cannot pass real tests by deleting tests"})]})]})]})}];function CW({stats:e}){const t=[{label:"Total ECs",value:e.totalUsers,icon:"",color:"#667eea"},{label:"Active (7 days)",value:e.activeUsers7d,icon:"",color:"#48bb78"},{label:"Active (30 days)",value:e.activeUsers30d,icon:"",color:"#4299e1"},{label:"Avg Completion",value:`${e.avgCompletion}%`,icon:"",color:"#ed8936"},{label:"New (7 days)",value:e.newUsers7d,icon:"",color:"#9f7aea"}];return c.jsx("div",{className:"overview-stats",children:t.map((r,n)=>c.jsxs("div",{className:"stat-card",style:{borderTopColor:r.color},children:[c.jsx("div",{className:"stat-icon",children:r.icon}),c.jsxs("div",{className:"stat-content",children:[c.jsx("div",{className:"stat-label",children:r.label}),c.jsx("div",{className:"stat-value",children:r.value})]})]},n))})}function AW({users:e}){const[t,r]=k.useState(""),[n,i]=k.useState("all"),[s,a]=k.useState("created_at"),[o,u]=k.useState("desc"),h=e.filter(g=>{var _,w;const b=((_=g.github_username)==null?void 0:_.toLowerCase().includes(t.toLowerCase()))||((w=g.email)==null?void 0:w.toLowerCase().includes(t.toLowerCase())),x=n==="all"||g.status===n;return b&&x}).sort((g,b)=>{let x=g[s],_=b[s];return s==="completion_percentage"&&(x=parseFloat(x)||0,_=parseFloat(_)||0),o==="asc"?x>_?1:-1:x<_?1:-1}),f=g=>{s===g?u(o==="asc"?"desc":"asc"):(a(g),u("desc"))},p=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=g=>{const b={active:{bg:"#f0fff4",color:"#22543d",border:"#48bb78"},inactive:{bg:"#fffaf0",color:"#744210",border:"#ed8936"},dormant:{bg:"#fff5f5",color:"#742a2a",border:"#f56565"}},x=b[g]||b.dormant;return c.jsx("span",{className:"status-badge",style:{background:x.bg,color:x.color,borderColor:x.border},children:g})};return c.jsxs("div",{className:"user-stats-table",children:[c.jsxs("div",{className:"table-header",children:[c.jsx("h2",{children:"User Progress"}),c.jsxs("div",{className:"table-controls",children:[c.jsx("input",{type:"text",placeholder:"Search by name or email...",value:t,onChange:g=>r(g.target.value),className:"search-input"}),c.jsxs("select",{value:n,onChange:g=>i(g.target.value),className:"filter-select",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"dormant",children:"Dormant"})]})]})]}),c.jsxs("div",{className:"table-scroll",children:[c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsxs("th",{onClick:()=>f("github_username"),children:["Name ",s==="github_username"&&(o==="asc"?"":"")]}),c.jsxs("th",{onClick:()=>f("created_at"),children:["Joined ",s==="created_at"&&(o==="asc"?"":"")]}),c.jsxs("th",{onClick:()=>f("last_active"),children:["Last Active ",s==="last_active"&&(o==="asc"?"":"")]}),c.jsxs("th",{onClick:()=>f("completion_percentage"),children:["Progress ",s==="completion_percentage"&&(o==="asc"?"":"")]}),c.jsxs("th",{onClick:()=>f("status"),children:["Status ",s==="status"&&(o==="asc"?"":"")]})]})}),c.jsx("tbody",{children:h.map(g=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsxs("div",{className:"user-cell",children:[g.github_avatar_url&&c.jsx("img",{src:g.github_avatar_url,alt:g.github_username,className:"user-avatar-small"}),c.jsxs("div",{children:[c.jsx("div",{className:"user-name",children:g.github_username||"Unknown"}),c.jsx("div",{className:"user-email",children:g.email})]})]})}),c.jsx("td",{children:p(g.created_at)}),c.jsx("td",{children:p(g.last_active)}),c.jsx("td",{children:c.jsxs("div",{className:"progress-cell",children:[c.jsx("div",{className:"progress-bar-mini",children:c.jsx("div",{className:"progress-fill-mini",style:{width:`${g.completion_percentage||0}%`}})}),c.jsxs("span",{className:"progress-text",children:[g.completion_percentage||0,"%"]})]})}),c.jsx("td",{children:v(g.status)})]},g.id))})]}),h.length===0&&c.jsx("div",{className:"no-results",children:"No users found matching your criteria"})]}),c.jsxs("div",{className:"table-footer",children:["Showing ",h.length," of ",e.length," users"]})]})}function sR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sR(e))&&(n&&(n+=" "),n+=t);return n}var NW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ax(e){if(typeof e!="string")return!1;var t=NW;return t.includes(e)}var OW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aR(e){if(typeof e!="string")return!1;var t=OW;return t.includes(e)}function oR(e){return typeof e=="string"&&e.startsWith("data-")}function ks(e){var t=Object.entries(e).filter(r=>{var[n]=r;return aR(n)||oR(n)});return Object.fromEntries(t)}function Nx(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ks(t)}return typeof e=="object"&&!Array.isArray(e)?ks(e):null}function ri(e){var t=Object.entries(e).filter(r=>{var[n]=r;return aR(n)||oR(n)||Ax(n)});return Object.fromEntries(t)}var PW=["children","width","height","viewBox","className","style","title","desc"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(null,arguments)}function jW(e,t){if(e==null)return{};var r,n,i=IW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lR=k.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:u,desc:h}=e,f=jW(e,PW),p=s||{width:n,height:i,x:0,y:0},v=It("recharts-surface",a);return k.createElement("svg",F1({},ri(f),{className:v,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),k.createElement("title",null,u),k.createElement("desc",null,h),r)}),RW=["children","className"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(null,arguments)}function DW(e,t){if(e==null)return{};var r,n,i=LW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ca=k.forwardRef((e,t)=>{var{children:r,className:n}=e,i=DW(e,RW),s=It("recharts-layer",n);return k.createElement("g",B1({className:s},ri(i),{ref:t}),r)}),MW=k.createContext(null);function Ct(e){return function(){return e}}const uR=Math.cos,Mp=Math.sin,Pi=Math.sqrt,Fp=Math.PI,Bm=2*Fp,$1=Math.PI,U1=2*$1,so=1e-6,FW=U1-so;function cR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cR;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $W{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cR:BW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=n-t,h=i-r,f=a-t,p=o-r,v=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>so)if(!(Math.abs(p*u-h*f)>so)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-a,b=i-o,x=u*u+h*h,_=g*g+b*b,w=Math.sqrt(x),A=Math.sqrt(v),S=s*Math.tan(($1-Math.acos((x+v-_)/(2*w*A)))/2),N=S/A,P=S/w;Math.abs(N-1)>so&&this._append`L${t+N*f},${r+N*p}`,this._append`A${s},${s},0,0,${+(p*g>f*b)},${this._x1=t+P*u},${this._y1=r+P*h}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),u=n*Math.sin(i),h=t+o,f=r+u,p=1^a,v=a?i-s:s-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>so||Math.abs(this._y1-f)>so)&&this._append`L${h},${f}`,n&&(v<0&&(v=v%U1+U1),v>FW?this._append`A${n},${n},0,1,${p},${t-o},${r-u}A${n},${n},0,1,${p},${this._x1=h},${this._y1=f}`:v>so&&this._append`A${n},${n},0,${+(v>=$1)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ox(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $W(t)}function Px(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dR(e){this._context=e}dR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $m(e){return new dR(e)}function hR(e){return e[0]}function fR(e){return e[1]}function pR(e,t){var r=Ct(!0),n=null,i=$m,s=null,a=Ox(o);e=typeof e=="function"?e:e===void 0?hR:Ct(e),t=typeof t=="function"?t:t===void 0?fR:Ct(t);function o(u){var h,f=(u=Px(u)).length,p,v=!1,g;for(n==null&&(s=i(g=a())),h=0;h<=f;++h)!(h<f&&r(p=u[h],h,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,h,u),+t(p,h,u));if(g)return s=null,g+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ct(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ct(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),o):n},o}function jf(e,t,r){var n=null,i=Ct(!0),s=null,a=$m,o=null,u=Ox(h);e=typeof e=="function"?e:e===void 0?hR:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?fR:Ct(+r);function h(p){var v,g,b,x=(p=Px(p)).length,_,w=!1,A,S=new Array(x),N=new Array(x);for(s==null&&(o=a(A=u())),v=0;v<=x;++v){if(!(v<x&&i(_=p[v],v,p))===w)if(w=!w)g=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=v-1;b>=g;--b)o.point(S[b],N[b]);o.lineEnd(),o.areaEnd()}w&&(S[v]=+e(_,v,p),N[v]=+t(_,v,p),o.point(n?+n(_,v,p):S[v],r?+r(_,v,p):N[v]))}if(A)return o=null,A+""||null}function f(){return pR().defined(i).curve(a).context(s)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(!!p),h):i},h.curve=function(p){return arguments.length?(a=p,s!=null&&(o=a(s)),h):a},h.context=function(p){return arguments.length?(p==null?s=o=null:o=a(s=p),h):s},h}class mR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function UW(e){return new mR(e,!0)}function HW(e){return new mR(e,!1)}const jx={draw(e,t){const r=Pi(t/Fp);e.moveTo(r,0),e.arc(0,0,r,0,Bm)}},zW={draw(e,t){const r=Pi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gR=Pi(1/3),WW=gR*2,qW={draw(e,t){const r=Pi(t/WW),n=r*gR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VW={draw(e,t){const r=Pi(t),n=-r/2;e.rect(n,n,r,r)}},GW=.8908130915292852,vR=Mp(Fp/10)/Mp(7*Fp/10),YW=Mp(Bm/10)*vR,KW=-uR(Bm/10)*vR,XW={draw(e,t){const r=Pi(t*GW),n=YW*r,i=KW*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Bm*s/5,o=uR(a),u=Mp(a);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*i,u*n+o*i)}e.closePath()}},Zv=Pi(3),QW={draw(e,t){const r=-Pi(t/(Zv*3));e.moveTo(0,r*2),e.lineTo(-Zv*r,-r),e.lineTo(Zv*r,-r),e.closePath()}},Gn=-.5,Yn=Pi(3)/2,H1=1/Pi(12),JW=(H1/2+1)*3,ZW={draw(e,t){const r=Pi(t/JW),n=r/2,i=r*H1,s=n,a=r*H1+r,o=-s,u=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(o,u),e.lineTo(Gn*n-Yn*i,Yn*n+Gn*i),e.lineTo(Gn*s-Yn*a,Yn*s+Gn*a),e.lineTo(Gn*o-Yn*u,Yn*o+Gn*u),e.lineTo(Gn*n+Yn*i,Gn*i-Yn*n),e.lineTo(Gn*s+Yn*a,Gn*a-Yn*s),e.lineTo(Gn*o+Yn*u,Gn*u-Yn*o),e.closePath()}};function eq(e,t){let r=null,n=Ox(i);e=typeof e=="function"?e:Ct(e||jx),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Bp(){}function $p(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yR(e){this._context=e}yR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tq(e){return new yR(e)}function bR(e){this._context=e}bR.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rq(e){return new bR(e)}function _R(e){this._context=e}_R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nq(e){return new _R(e)}function xR(e){this._context=e}xR.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iq(e){return new xR(e)}function dC(e){return e<0?-1:1}function hC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(dC(s)+dC(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function fC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ey(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function Up(e){this._context=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ey(this,this._t0,fC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ey(this,fC(this,r=hC(this,e,t)),r);break;default:ey(this,this._t0,r=hC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wR(e){this._context=new ER(e)}(wR.prototype=Object.create(Up.prototype)).point=function(e,t){Up.prototype.point.call(this,t,e)};function ER(e){this._context=e}ER.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function sq(e){return new Up(e)}function aq(e){return new wR(e)}function kR(e){this._context=e}kR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pC(e),i=pC(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pC(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function oq(e){return new kR(e)}function Um(e,t){this._context=e,this._t=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function lq(e){return new Um(e,.5)}function uq(e){return new Um(e,0)}function cq(e){return new Um(e,1)}function Bl(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,o=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function z1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function dq(e,t){return e[t]}function hq(e){const t=[];return t.key=e,t}function fq(){var e=Ct([]),t=z1,r=Bl,n=dq;function i(s){var a=Array.from(e.apply(this,arguments),hq),o,u=a.length,h=-1,f;for(const p of s)for(o=0,++h;o<u;++o)(a[o][h]=[0,+n(p,a[o].key,h,s)]).data=p;for(o=0,f=Px(t(a));o<u;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ct(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?z1:typeof s=="function"?s:Ct(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Bl,i):r},i}function pq(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Bl(e,t)}}function mq(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=e[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Bl(e,t)}}function gq(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,u=0,h=0;o<a;++o){for(var f=e[t[o]],p=f[n][1]||0,v=f[n-1][1]||0,g=(p-v)/2,b=0;b<o;++b){var x=e[t[b]],_=x[n][1]||0,w=x[n-1][1]||0;g+=_-w}u+=p,h+=g*p}i[n-1][1]+=i[n-1][0]=r,u&&(r-=h/u)}i[n-1][1]+=i[n-1][0]=r,Bl(e,t)}}var ty={},ry={},mC;function vq(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ry)),ry}var ny={},gC;function TR(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ny)),ny}var iy={},vC;function Ix(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(iy)),iy}var sy={},ay={},yC;function yq(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ay)),ay}var bC;function Rx(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yq(),r=Ix();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,u="",h="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const p=i[o];h?p==="\\"&&o+1<a?(o++,u+=i[o]):p===h?h="":u+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,s.push(u),u=""):u+=p:p==="["?(f=!0,u&&(s.push(u),u="")):p==="."?u&&(s.push(u),u=""):u+=p,o++}return u&&s.push(u),s}e.toPath=n})(sy)),sy}var _C;function Dx(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vq(),r=TR(),n=Ix(),i=Rx();function s(o,u,h){if(o==null)return h;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return h;const f=o[u];return f===void 0?r.isDeepKey(u)?s(o,i.toPath(u),h):h:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=o[u];return f===void 0?h:f}default:{if(Array.isArray(u))return a(o,u,h);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return h;const f=o[u];return f===void 0?h:f}}}function a(o,u,h){if(u.length===0)return h;let f=o;for(let p=0;p<u.length;p++){if(f==null||t.isUnsafeProperty(u[p]))return h;f=f[u[p]]}return f===void 0?h:f}e.get=s})(ty)),ty}var oy,xC;function bq(){return xC||(xC=1,oy=Dx().get),oy}var _q=bq();const $l=ai(_q);var gn=e=>e===0?0:e>0?1:-1,ni=e=>typeof e=="number"&&e!=+e,Ts=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!ni(e),Xi=e=>Fe(e)||typeof e=="string",xq=0,hd=e=>{var t=++xq;return"".concat(e||"").concat(t)},Ai=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return n;var s;if(Ts(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return ni(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},SR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Gr(e,t,r){return Fe(e)&&Fe(t)?e+r*(t-e):t}function wq(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):$l(n,t))===r)}var br=e=>e===null||typeof e>"u",Rd=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Eq=["type","size","sizeType"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W1.apply(null,arguments)}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cq(e,t){if(e==null)return{};var r,n,i=Aq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CR={symbolCircle:jx,symbolCross:zW,symbolDiamond:qW,symbolSquare:VW,symbolStar:XW,symbolTriangle:QW,symbolWye:ZW},Nq=Math.PI/180,Oq=e=>{var t="symbol".concat(Rd(e));return CR[t]||jx},Pq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Nq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jq=(e,t)=>{CR["symbol".concat(Rd(e))]=t},AR=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Cq(e,Eq),s=EC(EC({},i),{},{type:t,size:r,sizeType:n}),a="circle";typeof t=="string"&&(a=t);var o=()=>{var v=Oq(a),g=eq().type(v).size(Pq(r,n,a)),b=g();if(b!==null)return b},{className:u,cx:h,cy:f}=s,p=ri(s);return h===+h&&f===+f&&r===+r?k.createElement("path",W1({},p,{className:It("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:o()})):null};AR.registerSymbol=jq;var Iq=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Ax(i)&&(n[i]=(s=>r[i](r,s)))}),n},Rq=(e,t,r)=>n=>(e(t,r,n),null),Lx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Ax(i)&&typeof s=="function"&&(n||(n={}),n[i]=Rq(s,t,r))}),n},ly={},uy={},kC;function Dq(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(uy)),uy}var cy={},TC;function NR(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(cy)),cy}var dy={},hy={},fy={},SC;function Lq(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(fy)),fy}var CC;function Mx(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lq();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(hy)),hy}var py={},AC;function Mq(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(py)),py}var NC;function Fq(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mx(),r=Mq();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(dy)),dy}var my={},gy={},OC;function Bq(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dx();function r(n){return function(i){return t.get(i,n)}}e.property=r})(gy)),gy}var vy={},yy={},by={},_y={},PC;function OR(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(_y)),_y}var xy={},jC;function PR(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(xy)),xy}var wy={},IC;function jR(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(wy)),wy}var RC;function $q(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OR(),r=PR(),n=jR();function i(f,p,v){return typeof v!="function"?i(f,p,()=>{}):s(f,p,function g(b,x,_,w,A,S){const N=v(b,x,_,w,A,S);return N!==void 0?!!N:s(b,x,g,S)},new Map)}function s(f,p,v,g){if(p===f)return!0;switch(typeof p){case"object":return a(f,p,v,g);case"function":return Object.keys(p).length>0?s(f,{...p},v,g):n.eq(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function a(f,p,v,g){if(p==null)return!0;if(Array.isArray(p))return u(f,p,v,g);if(p instanceof Map)return o(f,p,v,g);if(p instanceof Set)return h(f,p,v,g);const b=Object.keys(p);if(f==null)return b.length===0;if(b.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===f;g==null||g.set(p,f);try{for(let x=0;x<b.length;x++){const _=b[x];if(!r.isPrimitive(f)&&!(_ in f)||p[_]===void 0&&f[_]!==void 0||p[_]===null&&f[_]!==null||!v(f[_],p[_],_,f,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function o(f,p,v,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,x]of p.entries()){const _=f.get(b);if(v(_,x,b,f,p,g)===!1)return!1}return!0}function u(f,p,v,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let x=0;x<p.length;x++){const _=p[x];let w=!1;for(let A=0;A<f.length;A++){if(b.has(A))continue;const S=f[A];let N=!1;if(v(S,_,x,f,p,g)&&(N=!0),N){b.add(A),w=!0;break}}if(!w)return!1}return!0}function h(f,p,v,g){return p.size===0?!0:f instanceof Set?u([...f],[...p],v,g):!1}e.isMatchWith=i,e.isSetMatch=h})(by)),by}var DC;function IR(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$q();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(yy)),yy}var Ey={},ky={},Ty={},LC;function Uq(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ty)),Ty}var Sy={},MC;function RR(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Sy)),Sy}var Cy={},FC;function DR(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",u="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",v="[object ArrayBuffer]",g="[object Object]",b="[object Error]",x="[object DataView]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",N="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",D="[object BigInt64Array]",B="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=B,e.float64ArrayTag=R,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=j,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=A,e.uint32ArrayTag=S,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=w})(Cy)),Cy}var Ay={},BC;function Hq(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ay)),Ay}var $C;function LR(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uq(),r=RR(),n=DR(),i=PR(),s=Hq();function a(f,p){return o(f,void 0,f,new Map,p)}function o(f,p,v,g=new Map,b=void 0){const x=b==null?void 0:b(f,p,v,g);if(x!==void 0)return x;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const _=new Array(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=o(f[w],w,v,g,b);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;g.set(f,_);for(const[w,A]of f)_.set(w,o(A,w,v,g,b));return _}if(f instanceof Set){const _=new Set;g.set(f,_);for(const w of f)_.add(o(w,void 0,v,g,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=o(f[w],w,v,g,b);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,_),u(_,f,v,g,b),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return g.set(f,_),u(_,f,v,g,b),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return g.set(f,_),u(_,f,v,g,b),_}if(f instanceof Error){const _=new f.constructor;return g.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,u(_,f,v,g,b),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return g.set(f,_),u(_,f,v,g,b),_}if(f instanceof Number){const _=new Number(f.valueOf());return g.set(f,_),u(_,f,v,g,b),_}if(f instanceof String){const _=new String(f.valueOf());return g.set(f,_),u(_,f,v,g,b),_}if(typeof f=="object"&&h(f)){const _=Object.create(Object.getPrototypeOf(f));return g.set(f,_),u(_,f,v,g,b),_}return f}function u(f,p,v=f,g,b){const x=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<x.length;_++){const w=x[_],A=Object.getOwnPropertyDescriptor(f,w);(A==null||A.writable)&&(f[w]=o(p[w],w,v,g,b))}}function h(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=u})(ky)),ky}var UC;function zq(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Ey)),Ey}var HC;function Wq(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IR(),r=zq();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(vy)),vy}var Ny={},Oy={},Py={},zC;function qq(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR(),r=DR();function n(i,s){return t.cloneDeepWith(i,(a,o,u,h)=>{const f=s==null?void 0:s(a,o,u,h);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Py)),Py}var WC;function Vq(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qq();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Oy)),Oy}var jy={},Iy={},qC;function MR(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Iy)),Iy}var Ry={},VC;function Gq(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RR();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ry)),Ry}var GC;function Yq(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR(),r=MR(),n=Gq(),i=Rx();function s(a,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let h=a;for(let f=0;f<u.length;f++){const p=u[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=s})(jy)),jy}var YC;function Kq(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IR(),r=Ix(),n=Vq(),i=Dx(),s=Yq();function a(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(h){const f=i.get(h,o);return f===void 0?s.has(h,o):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=a})(Ny)),Ny}var KC;function Xq(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NR(),r=Bq(),n=Wq(),i=Kq();function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(my)),my}var XC;function Qq(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dq(),r=NR(),n=Fq(),i=Xq();function s(a,o=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(ly)),ly}var Dy,QC;function Jq(){return QC||(QC=1,Dy=Qq().uniqBy),Dy}var Zq=Jq();const JC=ai(Zq);function eV(e,t,r){return t===!0?JC(e,r):typeof t=="function"?JC(e,t):e}var Ly={exports:{}},My={},Fy={exports:{}},By={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function tV(){if(ZC)return By;ZC=1;var e=Jl();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(p,v){var g=v(),b=n({inst:{value:g,getSnapshot:v}}),x=b[0].inst,_=b[1];return s(function(){x.value=g,x.getSnapshot=v,u(x)&&_({inst:x})},[p,g,v]),i(function(){return u(x)&&_({inst:x}),p(function(){u(x)&&_({inst:x})})},[p]),a(g),g}function u(p){var v=p.getSnapshot;p=p.value;try{var g=v();return!r(p,g)}catch{return!0}}function h(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:o;return By.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,By}var eA;function rV(){return eA||(eA=1,Fy.exports=tV()),Fy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function nV(){if(tA)return My;tA=1;var e=Jl(),t=rV();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return My.useSyncExternalStoreWithSelector=function(h,f,p,v,g){var b=s(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=o(function(){function w(O){if(!A){if(A=!0,S=O,O=v(O),g!==void 0&&x.hasValue){var j=x.value;if(g(j,O))return N=j}return N=O}if(j=N,n(S,O))return j;var D=v(O);return g!==void 0&&g(j,D)?(S=O,j):(S=O,N=D)}var A=!1,S,N,P=p===void 0?null:p;return[function(){return w(f())},P===null?void 0:function(){return w(P())}]},[f,p,v,g]);var _=i(h,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=_},[_]),u(_),_},My}var rA;function iV(){return rA||(rA=1,Ly.exports=nV()),Ly.exports}var sV=iV(),Fx=k.createContext(null),aV=e=>e,or=()=>{var e=k.useContext(Fx);return e?e.store.dispatch:aV},ap=()=>{},oV=()=>ap,lV=(e,t)=>e===t;function $e(e){var t=k.useContext(Fx);return sV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:oV,t?t.store.getState:ap,t?t.store.getState:ap,t?e:ap,lV)}function uV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function dV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var nA=e=>Array.isArray(e)?e:[e];function hV(e){const t=Array.isArray(e[0])?e[0]:e;return dV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fV(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var pV=class{constructor(e){this.value=e}deref(){return this.value}},mV=typeof WeakRef<"u"?WeakRef:pV,gV=0,iA=1;function If(){return{s:gV,v:void 0,o:null,p:null}}function FR(e,t={}){let r=If();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var p;let o=r;const{length:u}=arguments;for(let v=0,g=u;v<g;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const _=x.get(b);_===void 0?(o=If(),x.set(b,o)):o=_}else{let x=o.p;x===null&&(o.p=x=new Map);const _=x.get(b);_===void 0?(o=If(),x.set(b,o)):o=_}}const h=o;let f;if(o.s===iA)f=o.v;else if(f=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,f)&&(f=v,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new mV(f):f}return h.s=iA,h.v=f,f}return a.clearCache=()=>{r=If(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function vV(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,o,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),uV(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...u},{memoize:p,memoizeOptions:v=[],argsMemoize:g=FR,argsMemoizeOptions:b=[]}=f,x=nA(v),_=nA(b),w=hV(i),A=p(function(){return s++,h.apply(null,arguments)},...x),S=g(function(){a++;const P=fV(w,arguments);return o=A.apply(null,P),o},..._);return Object.assign(S,{resultFunc:h,memoizedResultFunc:A,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var se=vV(FR),yV=Object.assign((e,t=se)=>{cV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,o,u)=>(a[r[u]]=o,a),{}))},{withTypes:()=>yV}),$y={},Uy={},Hy={},sA;function bV(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),o=t(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=r})(Hy)),Hy}var zy={},Wy={},aA;function BR(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Wy)),Wy}var oA;function _V(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BR(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(zy)),zy}var lA;function xV(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bV(),r=_V(),n=Rx();function i(s,a,o,u){if(s==null)return[];o=u?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const h=(g,b)=>{let x=g;for(let _=0;_<b.length&&x!=null;++_)x=x[b[_]];return x},f=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:h(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?h(b,g):typeof b=="object"?b[g]:b,p=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:p.map(b=>f(b,g))})).slice().sort((g,b)=>{for(let x=0;x<p.length;x++){const _=t.compareValues(g.criteria[x],b.criteria[x],o[x]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=i})(Uy)),Uy}var qy={},uA;function wV(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(o,u)=>{for(let h=0;h<o.length;h++){const f=o[h];Array.isArray(f)&&u<s?a(f,u+1):i.push(f)}};return a(r,0),i}e.flatten=t})(qy)),qy}var Vy={},cA;function $R(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MR(),r=Mx(),n=OR(),i=jR();function s(a,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.eq(u[o],a):!1}e.isIterateeCall=s})(Vy)),Vy}var dA;function EV(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xV(),r=wV(),n=$R();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})($y)),$y}var Gy,hA;function kV(){return hA||(hA=1,Gy=EV().sortBy),Gy}var TV=kV();const Hm=ai(TV);var UR=e=>e.legend.settings,SV=e=>e.legend.size,CV=e=>e.legend.payload;se([CV,UR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Hm(n,r):n});var Rf=1;function AV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Rf||Math.abs(a.left-t.left)>Rf||Math.abs(a.top-t.top)>Rf||Math.abs(a.width-t.width)>Rf)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Sr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NV=typeof Symbol=="function"&&Symbol.observable||"@@observable",fA=NV,Yy=()=>Math.random().toString(36).substring(7).split("").join("."),OV={INIT:`@@redux/INIT${Yy()}`,REPLACE:`@@redux/REPLACE${Yy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yy()}`},Hp=OV;function Bx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HR(e,t,r){if(typeof e!="function")throw new Error(Sr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Sr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Sr(1));return r(HR)(e,t)}let n=e,i=t,s=new Map,a=s,o=0,u=!1;function h(){a===s&&(a=new Map,s.forEach((_,w)=>{a.set(w,_)}))}function f(){if(u)throw new Error(Sr(3));return i}function p(_){if(typeof _!="function")throw new Error(Sr(4));if(u)throw new Error(Sr(5));let w=!0;h();const A=o++;return a.set(A,_),function(){if(w){if(u)throw new Error(Sr(6));w=!1,h(),a.delete(A),s=null}}}function v(_){if(!Bx(_))throw new Error(Sr(7));if(typeof _.type>"u")throw new Error(Sr(8));if(typeof _.type!="string")throw new Error(Sr(17));if(u)throw new Error(Sr(9));try{u=!0,i=n(i,_)}finally{u=!1}return(s=a).forEach(A=>{A()}),_}function g(_){if(typeof _!="function")throw new Error(Sr(10));n=_,v({type:Hp.REPLACE})}function b(){const _=p;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Sr(11));function A(){const N=w;N.next&&N.next(f())}return A(),{unsubscribe:_(A)}},[fA](){return this}}}return v({type:Hp.INIT}),{dispatch:v,subscribe:p,getState:f,replaceReducer:g,[fA]:b}}function PV(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hp.INIT})>"u")throw new Error(Sr(12));if(typeof r(void 0,{type:Hp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sr(13))})}function zR(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{PV(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let u=!1;const h={};for(let f=0;f<n.length;f++){const p=n[f],v=r[p],g=a[p],b=v(g,o);if(typeof b>"u")throw o&&o.type,new Error(Sr(14));h[p]=b,u=u||b!==g}return u=u||n.length!==Object.keys(a).length,u?h:a}}function zp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function jV(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Sr(15))};const a={getState:i.getState,dispatch:(u,...h)=>s(u,...h)},o=e.map(u=>u(a));return s=zp(...o)(i.dispatch),{...i,dispatch:s}}}function WR(e){return Bx(e)&&"type"in e&&typeof e.type=="string"}var qR=Symbol.for("immer-nothing"),pA=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function ki(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fd=Object.getPrototypeOf;function To(e){return!!e&&!!e[Dn]}function Ss(e){var t;return e?VR(e)||Array.isArray(e)||!!e[pA]||!!((t=e.constructor)!=null&&t[pA])||Dd(e)||Wm(e):!1}var IV=Object.prototype.constructor.toString(),mA=new WeakMap;function VR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=mA.get(r);return n===void 0&&(n=Function.toString.call(r),mA.set(r,n)),n===IV}function Wp(e,t,r=!0){zm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function zm(e){const t=e[Dn];return t?t.type_:Array.isArray(e)?1:Dd(e)?2:Wm(e)?3:0}function q1(e,t){return zm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GR(e,t,r){const n=zm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function RV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dd(e){return e instanceof Map}function Wm(e){return e instanceof Set}function ao(e){return e.copy_||e.base_}function V1(e,t){if(Dd(e))return new Map(e);if(Wm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=VR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Dn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(fd(e),n)}else{const n=fd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function $x(e,t=!1){return qm(e)||To(e)||!Ss(e)||(zm(e)>1&&Object.defineProperties(e,{set:Df,add:Df,clear:Df,delete:Df}),Object.freeze(e),t&&Object.values(e).forEach(r=>$x(r,!0))),e}function DV(){ki(2)}var Df={value:DV};function qm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var LV={};function So(e){const t=LV[e];return t||ki(0,e),t}var pd;function YR(){return pd}function MV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gA(e,t){t&&(So("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function G1(e){Y1(e),e.drafts_.forEach(FV),e.drafts_=null}function Y1(e){e===pd&&(pd=e.parent_)}function vA(e){return pd=MV(pd,e)}function FV(e){const t=e[Dn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Dn].modified_&&(G1(t),ki(4)),Ss(e)&&(e=qp(t,e),t.parent_||Vp(t,e)),t.patches_&&So("Patches").generateReplacementPatches_(r[Dn].base_,e,t.patches_,t.inversePatches_)):e=qp(t,r,[]),G1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qR?e:void 0}function qp(e,t,r){if(qm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Dn];if(!i)return Wp(t,(s,a)=>bA(e,i,t,s,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Vp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),Wp(a,(u,h)=>bA(e,i,s,u,h,r,o),n),Vp(e,s,!1),r&&e.patches_&&So("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function bA(e,t,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=qm(i);if(!(o&&!a)){if(To(i)){const u=s&&t&&t.type_!==3&&!q1(t.assigned_,n)?s.concat(n):void 0,h=qp(e,i,u);if(GR(r,n,h),To(h))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ss(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;qp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Dd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Vp(e,i)}}}function Vp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$x(t,r)}function BV(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:YR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Ux;r&&(i=[n],s=md);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var Ux={get(e,t){if(t===Dn)return e;const r=ao(e);if(!q1(r,t))return $V(e,r,t);const n=r[t];return e.finalized_||!Ss(n)?n:n===Ky(e.base_,t)?(Xy(e),e.copy_[t]=X1(n,e)):n},has(e,t){return t in ao(e)},ownKeys(e){return Reflect.ownKeys(ao(e))},set(e,t,r){const n=KR(ao(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ky(ao(e),t),s=i==null?void 0:i[Dn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(RV(r,i)&&(r!==void 0||q1(e.base_,t)))return!0;Xy(e),K1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ky(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xy(e),K1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ao(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ki(11)},getPrototypeOf(e){return fd(e.base_)},setPrototypeOf(){ki(12)}},md={};Wp(Ux,(e,t)=>{md[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});md.deleteProperty=function(e,t){return md.set.call(this,e,t,void 0)};md.set=function(e,t,r){return Ux.set.call(this,e[0],t,r,e[0])};function Ky(e,t){const r=e[Dn];return(r?ao(r):e)[t]}function $V(e,t,r){var i;const n=KR(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function KR(e,t){if(!(t in e))return;let r=fd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fd(r)}}function K1(e){e.modified_||(e.modified_=!0,e.parent_&&K1(e.parent_))}function Xy(e){e.copy_||(e.copy_=V1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(u=s,...h){return a.produce(u,f=>r.call(this,f,...h))}}typeof r!="function"&&ki(6),n!==void 0&&typeof n!="function"&&ki(7);let i;if(Ss(t)){const s=vA(this),a=X1(t,void 0);let o=!0;try{i=r(a),o=!1}finally{o?G1(s):Y1(s)}return gA(s,n),yA(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===qR&&(i=void 0),this.autoFreeze_&&$x(i,!0),n){const s=[],a=[];So("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else ki(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,u=>t(u,...o));let n,i;return[this.produce(t,r,(a,o)=>{n=a,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ss(e)||ki(8),To(e)&&(e=xs(e));const t=vA(this),r=X1(e,void 0);return r[Dn].isManual_=!0,Y1(t),r}finishDraft(e,t){const r=e&&e[Dn];(!r||!r.isManual_)&&ki(9);const{scope_:n}=r;return gA(n,t),yA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=So("Patches").applyPatches_;return To(e)?n(e,t):this.produce(e,i=>n(i,t))}};function X1(e,t){const r=Dd(e)?So("MapSet").proxyMap_(e,t):Wm(e)?So("MapSet").proxySet_(e,t):BV(e,t);return(t?t.scope_:YR()).drafts_.push(r),r}function xs(e){return To(e)||ki(10,e),XR(e)}function XR(e){if(!Ss(e)||qm(e))return e;const t=e[Dn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=V1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=V1(e,!0);return Wp(r,(i,s)=>{GR(r,i,XR(s))},n),t&&(t.finalized_=!1),r}var Q1=new UV,QR=Q1.produce,HV=Q1.setUseStrictIteration.bind(Q1);function JR(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var zV=JR(),WV=JR,qV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zp:zp.apply(null,arguments)};function ii(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(In(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>WR(n)&&n.type===e,r}var ZR=class Bc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bc.prototype)}static get[Symbol.species](){return Bc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bc(...t[0].concat(this)):new Bc(...t.concat(this))}};function _A(e){return Ss(e)?QR(e,()=>{}):e}function Lf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function VV(e){return typeof e=="boolean"}var GV=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new ZR;return r&&(VV(r)?a.push(zV):a.push(WV(r.extraArgument))),a},eD="RTK_autoBatch",Yr=()=>e=>({payload:e,meta:{[eD]:!0}}),xA=e=>t=>{setTimeout(t,e)},tD=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xA(10):e.type==="callback"?e.queueNotification:xA(e.timeout),h=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),v=n.subscribe(p);return o.add(f),()=>{v(),o.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[eD]),s=!i,s&&(a||(a=!0,u(h))),n.dispatch(f)}finally{i=!0}}})},YV=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new ZR(e);return n&&i.push(tD(typeof n=="object"?n:void 0)),i};function KV(e){const t=GV(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Bx(r))o=zR(r);else throw new Error(In(1));let u;typeof n=="function"?u=n(t):u=t();let h=zp;i&&(h=qV({trace:!1,...typeof i=="object"&&i}));const f=jV(...u),p=YV(f);let v=typeof a=="function"?a(p):p();const g=h(...v);return HR(o,s,g)}function rD(e){const t={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(In(28));if(o in t)throw new Error(In(29));return t[o]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}HV(!1);function XV(e){return typeof e=="function"}function QV(e,t){let[r,n,i]=rD(t),s;if(XV(e))s=()=>_A(e());else{const o=_A(e);s=()=>o}function a(o=s(),u){let h=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(To(f)){const g=p(f,u);return g===void 0?f:g}else{if(Ss(f))return QR(f,v=>p(v,u));{const v=p(f,u);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},o)}return a.getInitialState=s,a}var JV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZV=(e=21)=>{let t="",r=e;for(;r--;)t+=JV[Math.random()*64|0];return t},eG=Symbol.for("rtk-slice-createasyncthunk");function tG(e,t){return`${e}/${t}`}function rG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[eG];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(In(11));const o=(typeof i.reducers=="function"?i.reducers(iG()):i.reducers)||{},u=Object.keys(o),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,P){const O=typeof N=="string"?N:N.type;if(!O)throw new Error(In(12));if(O in h.sliceCaseReducersByType)throw new Error(In(13));return h.sliceCaseReducersByType[O]=P,f},addMatcher(N,P){return h.sliceMatchers.push({matcher:N,reducer:P}),f},exposeAction(N,P){return h.actionCreators[N]=P,f},exposeCaseReducer(N,P){return h.sliceCaseReducersByName[N]=P,f}};u.forEach(N=>{const P=o[N],O={reducerName:N,type:tG(s,N),createNotation:typeof i.reducers=="function"};aG(P)?lG(O,P,f,t):sG(O,P,f)});function p(){const[N={},P=[],O=void 0]=typeof i.extraReducers=="function"?rD(i.extraReducers):[i.extraReducers],j={...N,...h.sliceCaseReducersByType};return QV(i.initialState,D=>{for(let B in j)D.addCase(B,j[B]);for(let B of h.sliceMatchers)D.addMatcher(B.matcher,B.reducer);for(let B of P)D.addMatcher(B.matcher,B.reducer);O&&D.addDefaultCase(O)})}const v=N=>N,g=new Map,b=new WeakMap;let x;function _(N,P){return x||(x=p()),x(N,P)}function w(){return x||(x=p()),x.getInitialState()}function A(N,P=!1){function O(D){let B=D[N];return typeof B>"u"&&P&&(B=Lf(b,O,w)),B}function j(D=v){const B=Lf(g,P,()=>new WeakMap);return Lf(B,D,()=>{const R={};for(const[F,H]of Object.entries(i.selectors??{}))R[F]=nG(H,D,()=>Lf(b,D,w),P);return R})}return{reducerPath:N,getSelectors:j,get selectors(){return j(O)},selectSlice:O}}const S={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:w,...A(a),injectInto(N,{reducerPath:P,...O}={}){const j=P??a;return N.inject({reducerPath:j,reducer:_},O),{...S,...A(j,!0)}}};return S}}function nG(e,t,r,n){function i(s,...a){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...a)}return i.unwrapped=e,i}var Fn=rG();function iG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function sG({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!oG(n))throw new Error(In(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?ii(e,a):ii(e))}function aG(e){return e._reducerDefinitionType==="asyncThunk"}function oG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function lG({type:e,reducerName:t},r,n,i){if(!i)throw new Error(In(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:u,settled:h,options:f}=r,p=i(e,s,f);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),o&&n.addCase(p.pending,o),u&&n.addCase(p.rejected,u),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(t,{fulfilled:a||Mf,pending:o||Mf,rejected:u||Mf,settled:h||Mf})}function Mf(){}var uG="task",nD="listener",iD="completed",Hx="cancelled",cG=`task-${Hx}`,dG=`task-${iD}`,J1=`${nD}-${Hx}`,hG=`${nD}-${iD}`,Vm=class{constructor(e){mv(this,"name","TaskAbortError");mv(this,"message");this.code=e,this.message=`${uG} ${Hx} (reason: ${e})`}},zx=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},Gp=()=>{},sD=(e,t=Gp)=>(e.catch(t),e),aD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},yo=e=>{if(e.aborted){const{reason:t}=e;throw new Vm(t)}};function oD(e,t){let r=Gp;return new Promise((n,i)=>{const s=()=>i(new Vm(e.reason));if(e.aborted){s();return}r=aD(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gp})}var fG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Vm?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yp=e=>t=>sD(oD(e,t).then(r=>(yo(e),r))),lD=e=>{const t=Yp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:jl}=Object,wA={},Gm="listenerMiddleware",pG=(e,t)=>{const r=n=>aD(e,()=>vo(n,e.reason));return(n,i)=>{zx(n);const s=new AbortController;r(s);const a=fG(async()=>{yo(e),yo(s.signal);const o=await n({pause:Yp(s.signal),delay:lD(s.signal),signal:s.signal});return yo(s.signal),o},()=>vo(s,dG));return i!=null&&i.autoJoin&&t.push(a.catch(Gp)),{result:Yp(e)(a),cancel(){vo(s,cG)}}}},mG=(e,t)=>{const r=async(n,i)=>{yo(t);let s=()=>{};const o=[new Promise((u,h)=>{let f=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),u([p,v.getState(),v.getOriginalState()])}});s=()=>{f(),h()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await oD(t,Promise.race(o));return yo(t),u}finally{s()}};return(n,i)=>sD(r(n,i))},uD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=ii(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(In(21));return zx(s),{predicate:i,type:t,effect:s}},cD=jl(e=>{const{type:t,predicate:r,effect:n}=uD(e);return{id:ZV(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>cD}),EA=(e,t)=>{const{type:r,effect:n,predicate:i}=uD(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Z1=e=>{e.pending.forEach(t=>{vo(t,J1)})},gG=(e,t)=>()=>{for(const r of t.keys())Z1(r);e.clear()},kA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dD=jl(ii(`${Gm}/add`),{withTypes:()=>dD}),vG=ii(`${Gm}/removeAll`),hD=jl(ii(`${Gm}/remove`),{withTypes:()=>hD}),yG=(...e)=>{console.error(`${Gm}/error`,...e)},Ld=(e={})=>{const t=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},i=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:s,onError:a=yG}=e;zx(a);const o=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),b=>{g.unsubscribe(),b!=null&&b.cancelActive&&Z1(g)}),u=g=>{const b=EA(t,g)??cD(g);return o(b)};jl(u,{withTypes:()=>u});const h=g=>{const b=EA(t,g);return b&&(b.unsubscribe(),g.cancelActive&&Z1(b)),!!b};jl(h,{withTypes:()=>h});const f=async(g,b,x,_)=>{const w=new AbortController,A=mG(u,w.signal),S=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(b,jl({},x,{getOriginalState:_,condition:(N,P)=>A(N,P).then(Boolean),take:A,delay:lD(w.signal),pause:Yp(w.signal),extra:s,signal:w.signal,fork:pG(w.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((N,P,O)=>{N!==w&&(vo(N,J1),O.delete(N))})},cancel:()=>{vo(w,J1),g.pending.delete(w)},throwIfCancelled:()=>{yo(w.signal)}})))}catch(N){N instanceof Vm||kA(a,N,{raisedBy:"effect"})}finally{await Promise.all(S),vo(w,hG),i(g),g.pending.delete(w)}},p=gG(t,r);return{middleware:g=>b=>x=>{if(!WR(x))return b(x);if(dD.match(x))return u(x.payload);if(vG.match(x)){p();return}if(hD.match(x))return h(x.payload);let _=g.getState();const w=()=>{if(_===wA)throw new Error(In(23));return _};let A;try{if(A=b(x),t.size>0){const S=g.getState(),N=Array.from(t.values());for(const P of N){let O=!1;try{O=P.predicate(x,S,_)}catch(j){O=!1,kA(a,j,{raisedBy:"predicate"})}O&&f(P,x,g,w)}}}finally{_=wA}return A},startListening:u,stopListening:h,clearListeners:p}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fD=Fn({name:"chartLayout",initialState:bG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:_G,setLayout:xG,setChartSize:wG,setScale:EG}=fD.actions,kG=fD.reducer;function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return(t=SG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp=Math.PI/180,AG=e=>e*180/Math.PI,Or=(e,t,r,n)=>({x:e+Math.cos(-Kp*n)*r,y:t+Math.sin(-Kp*n)*r}),NG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},OG=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},PG=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=OG({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,u=Math.acos(o);return n>s&&(u=2*Math.PI-u),{radius:a,angle:AG(u),angleInRadian:u}},jG=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},IG=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},RG=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=PG({x:r,y:n},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:u,endAngle:h}=jG(t),f=s,p;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=u}return p?SA(SA({},t),{},{radius:i,angle:IG(f,t)}):null};function pD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=MG(e,"string");return typeof t=="symbol"?t:t+""}function MG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(e,t,r){return br(e)||br(t)?r:Xi(t)?$l(e,t,r):typeof t=="function"?t(e):r}var FG=(e,t,r,n,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var h=u>0?r[u-1].coordinate:r[o-1].coordinate,f=r[u].coordinate,p=u>=o-1?r[0].coordinate:r[u+1].coordinate,v=void 0;if(gn(f-h)!==gn(p-f)){var g=[];if(gn(p-f)===gn(i[1]-i[0])){v=p;var b=f+i[1]-i[0];g[0]=Math.min(b,(b+h)/2),g[1]=Math.max(b,(b+h)/2)}else{v=h;var x=p+i[1]-i[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){({index:a}=r[u]);break}}else{var w=Math.min(h,p),A=Math.max(h,p);if(e>(w+f)/2&&e<=(A+f)/2){({index:a}=r[u]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:a}=t[S]);break}}return a},BG=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Fe(e[s]))return Xn(Xn({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Fe(e[a]))return Xn(Xn({},e),{},{[a]:e[a]+(i||0)})}return e},jo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mD=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(r),a},gD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:u,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:v,axisType:g}=e;if(!a)return null;var b=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(x=g==="angleAxis"&&s&&s.length>=2?gn(s[0]-s[1])*2*x:x,p||v){var _=(p||v||[]).map((w,A)=>{var S=n?n.indexOf(w):w;return{coordinate:a(S)+x,value:w,offset:x,index:A}});return _.filter(w=>!ni(w.coordinate))}return u&&h?h.map((w,A)=>({coordinate:a(w)+x,value:w,index:A,offset:x})):a.ticks&&f!=null?a.ticks(f).map((w,A)=>({coordinate:a(w)+x,value:w,offset:x,index:A})):a.domain().map((w,A)=>({coordinate:a(w)+x,value:n?n[w]:w,index:A,offset:x}))},AA=1e-4,$G=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-AA,s=Math.max(n[0],n[1])+AA,a=e(t[0]),o=e(t[r-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[r-1]])}},UG=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<r)&&(i[0]=r),(!Fe(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},HG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var o=ni(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1])}},zG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=ni(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},WG={sign:HG,expand:pq,none:Bl,silhouette:mq,wiggle:gq,positive:zG},qG=(e,t,r)=>{var n=WG[r],i=fq().keys(t).value((s,a)=>+Jr(s,a,0)).order(z1).offset(n);return i(e)};function VG(e){return e==null?void 0:String(e)}var NA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var o=Jr(s,t.dataKey,t.scale.domain()[a]);return br(o)?null:t.scale(o)-i/2+n},GG=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},YG=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},KG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XG=(e,t,r)=>{if(e!=null)return KG(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((u,h)=>{var f=pD(h,t,r),p=YG(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},OA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wx=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Hm(t,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var u=i[a],h=i[a-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function jA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Xn(Xn({},t),{},{dataKey:r,payload:n,value:i,name:s})}function vD(e,t){if(e)return String(e);if(typeof t=="string")return t}function QG(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?RG({x:e,y:t},n):null}var JG=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return Xn(Xn(Xn({},n),Or(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:u}=n;return Xn(Xn(Xn({},n),Or(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},ZG=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,js=e=>e.layout.width,Is=e=>e.layout.height,eY=e=>e.layout.scale,yD=e=>e.layout.margin,Ym=se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Km=se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tY="data-recharts-item-index",rY="data-recharts-item-data-key",Md=60;function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aY=e=>e.brush.height;function oY(e){var t=Km(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Md;return r+i}return r},0)}function lY(e){var t=Km(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Md;return r+i}return r},0)}function uY(e){var t=Ym(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function cY(e){var t=Ym(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _r=se([js,Is,yD,aY,oY,lY,uY,cY,UR,SV],(e,t,r,n,i,s,a,o,u,h)=>{var f={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+a,bottom:(r.bottom||0)+o},v=Ff(Ff({},p),f),g=v.bottom;v.bottom+=n,v=BG(v,u,h);var b=e-v.left-v.right,x=t-v.top-v.bottom;return Ff(Ff({brushBottom:g},v),{},{width:Math.max(b,0),height:Math.max(x,0)})}),dY=se(_r,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),qx=se(js,Is,(e,t)=>({x:0,y:0,width:e,height:t})),hY=k.createContext(null),Bn=()=>k.useContext(hY)!=null,Xm=e=>e.brush,Qm=se([Xm,_r,yD],(e,t,r)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Fe(e.width)?e.width:t.width})),Qy={},Jy={},Zy={},RA;function fY(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,o=null;const u=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),f=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},p=()=>{h&&f(),x()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},b=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{b(),a=void 0,o=null},_=()=>{f()},w=function(...A){if(i!=null&&i.aborted)return;a=this,o=A;const S=v==null;g(),u&&S&&f()};return w.schedule=g,w.cancel=x,w.flush=_,i==null||i.addEventListener("abort",x,{once:!0}),w}e.debounce=t})(Zy)),Zy}var DA;function pY(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fY();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:u}=s,h=Array(2);a&&(h[0]="leading"),o&&(h[1]="trailing");let f,p=null;const v=t.debounce(function(...x){f=n.apply(this,x),p=null},i,{edges:h}),g=function(...x){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=n.apply(this,x),p=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,x),f)},b=()=>(v.flush(),f);return g.cancel=v.cancel,g.flush=b,g}e.debounce=r})(Jy)),Jy}var LA;function mY(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pY();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:o})}e.throttle=r})(Qy)),Qy}var eb,MA;function gY(){return MA||(MA=1,eb=mY().throttle),eb}var vY=gY();const yY=ai(vY);var Xp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},bD=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=Ts(n)?e:Number(n),u=Ts(i)?t:Number(i);return s&&s>0&&(o?u=o/s:u&&(o=u*s),a&&u>a&&(u=a)),{calculatedWidth:o,calculatedHeight:u}},bY={width:0,height:0,overflow:"visible"},_Y={width:0,overflowX:"visible"},xY={height:0,overflowY:"visible"},wY={},EY=e=>{var{width:t,height:r}=e,n=Ts(t),i=Ts(r);return n&&i?bY:n?_Y:i?xY:wY};function kY(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function Ur(e){return Number.isFinite(e)}function Ul(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _D=k.createContext({width:-1,height:-1});function xD(e){var{children:t,width:r,height:n}=e,i=k.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:k.createElement(_D.Provider,{value:i},t)}var Vx=()=>k.useContext(_D),AY=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:u,children:h,debounce:f=0,id:p,className:v,onResize:g,style:b={}}=e,x=k.useRef(null),_=k.useRef();_.current=g,k.useImperativeHandle(t,()=>x.current);var[w,A]=k.useState({containerWidth:n.width,containerHeight:n.height}),S=k.useCallback((D,B)=>{A(R=>{var F=Math.round(D),H=Math.round(B);return R.containerWidth===F&&R.containerHeight===H?R:{containerWidth:F,containerHeight:H}})},[]);k.useEffect(()=>{var D=H=>{var Y,{width:V,height:K}=H[0].contentRect;S(V,K),(Y=_.current)===null||Y===void 0||Y.call(_,V,K)};f>0&&(D=yY(D,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),{width:R,height:F}=x.current.getBoundingClientRect();return S(R,F),B.observe(x.current),()=>{B.disconnect()}},[S,f]);var{containerWidth:N,containerHeight:P}=w;Xp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:j}=bD(N,P,{width:i,height:s,aspect:r,maxHeight:u});return Xp(O>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,j,i,s,a,o,r),k.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",v),style:BA(BA({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:u}),ref:x},k.createElement("div",{style:EY({width:i,height:s})},k.createElement(xD,{width:O,height:j},h)))}),NY=k.forwardRef((e,t)=>{var r=Vx();if(Ul(r.width)&&Ul(r.height))return e.children;var{width:n,height:i}=kY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=bD(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Fe(s)&&Fe(a)?k.createElement(xD,{width:s,height:a},e.children):k.createElement(AY,e_({},e,{width:n,height:i,ref:t}))}),Jm=()=>{var e,t=Bn(),r=$e(dY),n=$e(Qm),i=(e=$e(Xm))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},OY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wD=()=>{var e;return(e=$e(_r))!==null&&e!==void 0?e:OY},ED=()=>$e(js),kD=()=>$e(Is),vt=e=>e.layout.layoutType,Gx=()=>$e(vt),Zm=e=>{var t=or(),r=Bn(),{width:n,height:i}=e,s=Vx(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),k.useEffect(()=>{!r&&Ul(a)&&Ul(o)&&t(wG({width:a,height:o}))},[t,r,a,o]),null},PY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TD=Fn({name:"legend",initialState:PY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Yr()},removeLegendPayload:{reducer(e,t){var r=xs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Yr()}}}),{setLegendSize:eve,setLegendSettings:tve,addLegendPayload:jY,removeLegendPayload:IY}=TD.actions,RY=TD.reducer;function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(null,arguments)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t,r){return(t=LY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FY(e){return Array.isArray(e)&&Xi(e[0])&&Xi(e[1])?e.join(" ~ "):e}var BY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:u,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:v=!1}=e,g=()=>{if(s&&s.length){var P={padding:0,margin:0},O=(o?Hm(s,o):s).map((j,D)=>{if(j.type==="none")return null;var B=j.formatter||a||FY,{value:R,name:F}=j,H=R,Y=F;if(B){var V=B(R,F,j,D,s);if(Array.isArray(V))[H,Y]=V;else if(V!=null)H=V;else return null}var K=tb({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},Xi(Y)?k.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Xi(Y)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},H),k.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},b=tb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=tb({margin:0},i),_=!br(f),w=_?f:"",A=It("recharts-default-tooltip",u),S=It("recharts-tooltip-label",h);_&&p&&s!==void 0&&s!==null&&(w=p(f,s));var N=v?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",t_({className:A,style:b},N),k.createElement("p",{className:S,style:x},k.isValidElement(w)?w:"".concat(w)),g())},vc="recharts-tooltip-wrapper",$Y={visibility:"hidden"};function UY(e){var{coordinate:t,translateX:r,translateY:n}=e;return It(vc,{["".concat(vc,"-right")]:Fe(r)&&t&&Fe(t.x)&&r>=t.x,["".concat(vc,"-left")]:Fe(r)&&t&&Fe(t.x)&&r<t.x,["".concat(vc,"-bottom")]:Fe(n)&&t&&Fe(t.y)&&n>=t.y,["".concat(vc,"-top")]:Fe(n)&&t&&Fe(t.y)&&n<t.y})}function UA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:u,viewBoxDimension:h}=e;if(s&&Fe(s[n]))return s[n];var f=r[n]-o-(i>0?i:0),p=r[n]+i;if(t[n])return a[n]?f:p;var v=u[n];if(v==null)return 0;if(a[n]){var g=f,b=v;return g<b?Math.max(p,v):Math.max(f,v)}if(h==null)return 0;var x=p+o,_=v+h;return x>_?Math.max(f,v):Math.max(p,v)}function HY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function zY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:u}=e,h,f,p;return a.height>0&&a.width>0&&r?(f=UA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=UA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),h=HY({translateX:f,translateY:p,useTranslate3d:o})):h=$Y,{cssProperties:h,cssClasses:UY({translateX:f,translateY:p,coordinate:r})}}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){r_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VY extends k.PureComponent{constructor(){super(...arguments),r_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),r_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:u,offset:h,position:f,reverseDirection:p,useTranslate3d:v,viewBox:g,wrapperStyle:b,lastBoundingBox:x,innerRef:_,hasPortalFromProps:w}=this.props,{cssClasses:A,cssProperties:S}=zY({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:g}),N=w?{}:Bf(Bf({transition:u&&t?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Bf(Bf({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:P,ref:_},s)}}var GY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ou={devToolsEnabled:!1,isSsr:GY()},SD=()=>$e(e=>e.rootProps.accessibilityLayer);function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(null,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=KY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qA={curveBasisClosed:rq,curveBasisOpen:nq,curveBasis:tq,curveBumpX:UW,curveBumpY:HW,curveLinearClosed:iq,curveLinear:$m,curveMonotoneX:sq,curveMonotoneY:aq,curveNatural:oq,curveStep:lq,curveStepAfter:cq,curveStepBefore:uq},$f=e=>Ur(e.x)&&Ur(e.y),yc=e=>e.x,bc=e=>e.y,QY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Rd(e));return(r==="curveMonotone"||r==="curveBump")&&t?qA["".concat(r).concat(t==="vertical"?"Y":"X")]:qA[r]||$m},JY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=QY(t,i),o=s?r.filter($f):r,u;if(Array.isArray(n)){var h=s?n.filter(p=>$f(p)):n,f=o.map((p,v)=>WA(WA({},p),{},{base:h[v]}));return i==="vertical"?u=jf().y(bc).x1(yc).x0(p=>p.base.x):u=jf().x(yc).y1(bc).y0(p=>p.base.y),u.defined($f).curve(a),u(f)}return i==="vertical"&&Fe(n)?u=jf().y(bc).x1(yc).x0(n):Fe(n)?u=jf().x(yc).y1(bc).y0(n):u=pR().x(yc).y(bc),u.defined($f).curve(a),u(o)},ZY=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?JY(e):n;return k.createElement("path",n_({},ks(e),Iq(e),{className:It("recharts-curve",t),d:s===null?void 0:s,ref:i}))},eK=["x","y","top","left","width","height","className"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){rK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sK(e,t){if(e==null)return{};var r,n,i=aK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oK=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),lK=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=e,u=sK(e,eK),h=tK({x:t,y:r,top:n,left:i,width:s,height:a},u);return!Fe(t)||!Fe(r)||!Fe(s)||!Fe(a)||!Fe(n)||!Fe(i)?null:k.createElement("path",i_({},ri(h),{className:It("recharts-cross",o),d:oK(t,r,s,a,n,i)}))};function uK(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){dK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dK(e,t,r){return(t=hK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function li(e,t){var r=cK({},e),n=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function pK(){}function mK(e){return e!=null}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){gK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gK(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CD=(e,t,r)=>e.map(n=>"".concat(bK(n)," ").concat(t,"ms ").concat(r)).join(","),_K=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),gd=(e,t)=>Object.keys(t).reduce((r,n)=>KA(KA({},r),{},{[n]:e(n,t[n])}),{});function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qp=(e,t,r)=>e+(t-e)*r,s_=e=>{var{from:t,to:r}=e;return t!==r},AD=(e,t,r)=>{var n=gd((i,s)=>{if(s_(s)){var[a,o]=e(s.from,s.to,s.velocity);return Ar(Ar({},s),{},{from:a,velocity:o})}return s},t);return r<1?gd((i,s)=>s_(s)?Ar(Ar({},s),{},{velocity:Qp(s.velocity,n[i].velocity,r),from:Qp(s.from,n[i].from,r)}):s,t):AD(e,n,r-1)};function kK(e,t,r,n,i,s){var a,o=n.reduce((v,g)=>Ar(Ar({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>gd((v,g)=>g.from,o),h=()=>!Object.values(o).filter(s_).length,f=null,p=v=>{a||(a=v);var g=v-a,b=g/r.dt;o=AD(r,o,b),i(Ar(Ar(Ar({},e),t),u())),a=v,h()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{f()})}function TK(e,t,r,n,i,s,a){var o=null,u=i.reduce((p,v)=>Ar(Ar({},p),{},{[v]:[e[v],t[v]]}),{}),h,f=p=>{h||(h=p);var v=(p-h)/n,g=gd((x,_)=>Qp(..._,r(v)),u);if(s(Ar(Ar(Ar({},e),t),g)),v<1)o=a.setTimeout(f);else{var b=gd((x,_)=>Qp(..._,r(1)),u);s(Ar(Ar(Ar({},e),t),b))}};return()=>(o=a.setTimeout(f),()=>{o()})}const SK=(e,t,r,n,i,s)=>{var a=_K(e,t);return r.isStepper===!0?kK(e,t,r,a,i,s):TK(e,t,r,n,a,i,s)};var Jp=1e-4,ND=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),QA=(e,t)=>r=>{var n=ND(e,t);return OD(n,r)},CK=(e,t)=>r=>{var n=ND(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return OD(i,r)},JA=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else a.length===4&&([t,n,r,i]=a);var h=QA(t,r),f=QA(n,i),p=CK(t,r),v=b=>b>1?1:b<0?0:b,g=b=>{for(var x=b>1?1:b,_=x,w=0;w<8;++w){var A=h(_)-x,S=p(_);if(Math.abs(A-x)<Jp||S<Jp)return f(_);_=v(_-A/S)}return f(_)};return g.isStepper=!1,g},AK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,o,u)=>{var h=-(a-o)*r,f=u*n,p=u+(h-f)*i/1e3,v=u*i/1e3+a;return Math.abs(v-o)<Jp&&Math.abs(p)<Jp?[o,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},NK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JA(e);case"spring":return AK();default:if(e.split("(")[0]==="cubic-bezier")return JA(e)}return typeof e=="function"?e:null};function OK(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[u,...h]=o;if(typeof u=="number"){i=e.setTimeout(s.bind(null,h),u);return}s(u),i=e.setTimeout(s.bind(null,h));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class PK{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function jK(){return OK(new PK)}var IK=k.createContext(jK);function RK(e,t){var r=k.useContext(IK);return k.useMemo(()=>t??r(e),[e,t,r])}var DK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZA={t:0},rb={t:1};function Yx(e){var t=li(e,DK),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:u,children:h}=t,f=RK(t.animationId,t.animationManager),[p,v]=k.useState(r?ZA:rb),g=k.useRef(null);return k.useEffect(()=>{r||v(rb)},[r]),k.useEffect(()=>{if(!r||!n)return pK;var b=SK(ZA,rb,NK(s),i,v,f.getTimeoutController()),x=()=>{g.current=b()};return f.start([u,a,x,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,u,o,f]),h(p.t)}function Kx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(hd(t)),n=k.useRef(e);return n.current!==e&&(r.current=hd(t),n.current=e),r.current}var LK=["radius"],MK=["radius"];function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){FK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t,r){return(t=BK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(null,arguments)}function rN(e,t){if(e==null)return{};var r,n,i=UK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=i[p]>s?s:i[p];h="M".concat(e,",").concat(t+a*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+o*f[0],",").concat(t)),h+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+a*f[1])),h+="L ".concat(e+r,",").concat(t+n-a*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-o*f[2],",").concat(t+n)),h+="L ".concat(e+o*f[3],",").concat(t+n),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-a*f[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);h="M ".concat(e,",").concat(t+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+o*g,",").concat(t,`
            L `).concat(e+r-o*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(t+a*g,`
            L `).concat(e+r,",").concat(t+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-o*g,",").concat(t+n,`
            L `).concat(e+o*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(t+n-a*g," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},HK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PD=e=>{var t=li(e,HK),r=k.useRef(null),[n,i]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:s,y:a,width:o,height:u,radius:h,className:f}=t,{animationEasing:p,animationDuration:v,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:x}=t,_=k.useRef(o),w=k.useRef(u),A=k.useRef(s),S=k.useRef(a),N=k.useMemo(()=>({x:s,y:a,width:o,height:u,radius:h}),[s,a,o,u,h]),P=Kx(N,"rectangle-");if(s!==+s||a!==+a||o!==+o||u!==+u||o===0||u===0)return null;var O=It("recharts-rectangle",f);if(!x){var j=ri(t),{radius:D}=j,B=rN(j,LK);return k.createElement("path",Zp({},B,{radius:typeof h=="number"?h:void 0,className:O,d:nN(s,a,o,u,h)}))}var R=_.current,F=w.current,H=A.current,Y=S.current,V="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),Z=CD(["strokeDasharray"],v,typeof p=="string"?p:void 0);return k.createElement(Yx,{animationId:P,key:P,canBegin:n>0,duration:v,easing:p,isActive:x,begin:g},oe=>{var te=Gr(R,o,oe),ce=Gr(F,u,oe),L=Gr(H,s,oe),q=Gr(Y,a,oe);r.current&&(_.current=te,w.current=ce,A.current=L,S.current=q);var re;b?oe>0?re={transition:Z,strokeDasharray:K}:re={strokeDasharray:V}:re={strokeDasharray:K};var $=ri(t),{radius:de}=$,we=rN($,MK);return k.createElement("path",Zp({},we,{radius:typeof h=="number"?h:void 0,className:O,d:nN(L,q,te,ce,h),ref:r,style:tN(tN({},re),t.style)}))})};function jD(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Or(t,r,n,i),o=Or(t,r,n,s);return{points:[a,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a_.apply(null,arguments)}var zK=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Uf=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:u}=e,h=o*(a?1:-1)+n,f=Math.asin(o/h)/Kp,p=u?i:i+s*f,v=Or(t,r,h,p),g=Or(t,r,n,p),b=u?i-s*f:i,x=Or(t,r,h*Math.cos(f*Kp),b);return{center:v,circleTangency:g,lineTangency:x,theta:f}},ID=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,o=zK(s,a),u=s+o,h=Or(t,r,i,s),f=Or(t,r,i,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var v=Or(t,r,n,s),g=Or(t,r,n,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},WK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:u,endAngle:h}=e,f=gn(h-u),{circleTangency:p,lineTangency:v,theta:g}=Uf({cx:t,cy:r,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:x,theta:_}=Uf({cx:t,cy:r,radius:i,angle:h,sign:-f,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(u-h):Math.abs(u-h)-g-_;if(w<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ID({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:h});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:N,theta:P}=Uf({cx:t,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:O,lineTangency:j,theta:D}=Uf({cx:t,cy:r,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),B=o?Math.abs(u-h):Math.abs(u-h)-P-D;if(B<0&&s===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},qK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RD=e=>{var t=li(e,qK),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:f,className:p}=t;if(s<i||h===f)return null;var v=It("recharts-sector",p),g=s-i,b=Ai(a,g,0,!0),x;return b>0&&Math.abs(h-f)<360?x=WK({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,g/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:f}):x=ID({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:f}),k.createElement("path",a_({},ri(t),{className:v,d:x}))};function VK(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:h,outerRadius:f,angle:p}=t,v=Or(o,u,h,p),g=Or(o,u,f,p);n=v.x,i=v.y,s=g.x,a=g.y}else return jD(t);return[{x:n,y:i},{x:s,y:a}]}var nb={},ib={},sb={},iN;function GK(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BR();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(sb)),sb}var sN;function YK(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GK();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ib)),ib}var aN;function KK(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R(),r=YK();function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(o);for(let h=0;h<o;h++)u[h]=i,i+=a;return u}e.range=n})(nb)),nb}var ab,oN;function XK(){return oN||(oN=1,ab=KK().range),ab}var QK=XK();const DD=ai(QK);function Sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xx(e){let t,r,n;e.length!==2?(t=Sa,r=(o,u)=>Sa(e(o),u),n=(o,u)=>e(o)-u):(t=e===Sa||e===JK?e:ZK,r=e,n=e);function i(o,u,h=0,f=o.length){if(h<f){if(t(u,u)!==0)return f;do{const p=h+f>>>1;r(o[p],u)<0?h=p+1:f=p}while(h<f)}return h}function s(o,u,h=0,f=o.length){if(h<f){if(t(u,u)!==0)return f;do{const p=h+f>>>1;r(o[p],u)<=0?h=p+1:f=p}while(h<f)}return h}function a(o,u,h=0,f=o.length){const p=i(o,u,h,f-1);return p>h&&n(o[p-1],u)>-n(o[p],u)?p-1:p}return{left:i,center:a,right:s}}function ZK(){return 0}function LD(e){return e===null?NaN:+e}function*eX(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tX=Xx(Sa),Fd=tX.right;Xx(LD).center;class lN extends Map{constructor(t,r=iX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(uN(this,t))}has(t){return super.has(uN(this,t))}set(t,r){return super.set(rX(this,t),r)}delete(t){return super.delete(nX(this,t))}}function uN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function iX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sX(e=Sa){if(e===Sa)return MD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aX=Math.sqrt(50),oX=Math.sqrt(10),lX=Math.sqrt(2);function em(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=aX?10:s>=oX?5:s>=lX?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/a,o=Math.round(e*h),u=Math.round(t*h),o/h<e&&++o,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*a,o=Math.round(e/h),u=Math.round(t/h),o*h<e&&++o,u*h>t&&--u),u<o&&.5<=r&&r<2?em(e,t,r*2):[o,u,h]}function o_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?em(t,e,r):em(e,t,r);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(n)if(a<0)for(let h=0;h<o;++h)u[h]=(s-h)/-a;else for(let h=0;h<o;++h)u[h]=(s-h)*a;else if(a<0)for(let h=0;h<o;++h)u[h]=(i+h)/-a;else for(let h=0;h<o;++h)u[h]=(i+h)*a;return u}function l_(e,t,r){return t=+t,e=+e,r=+r,em(e,t,r)[2]}function u_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?l_(t,e,r):l_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function cN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function dN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FD(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?MD:sX(i);n>r;){if(n-r>600){const u=n-r+1,h=t-r+1,f=Math.log(u),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(u-p)/u)*(h-u/2<0?-1:1),g=Math.max(r,Math.floor(t-h*p/u+v)),b=Math.min(n,Math.floor(t+(u-h)*p/u+v));FD(e,t,g,b,i)}const s=e[t];let a=r,o=n;for(_c(e,r,t),i(e[n],s)>0&&_c(e,r,n);a<o;){for(_c(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[r],s)===0?_c(e,r,o):(++o,_c(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function _c(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function uX(e,t,r){if(e=Float64Array.from(eX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return dN(e);if(t>=1)return cN(e);var n,i=(n-1)*t,s=Math.floor(i),a=cN(FD(e,s).subarray(0,s+1)),o=dN(e.subarray(s+1));return a+(o-a)*(i-s)}}function cX(e,t,r=LD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function dX(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Rs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const c_=Symbol("implicit");function Qx(){var e=new lN,t=[],r=[],n=c_;function i(s){let a=e.get(s);if(a===void 0){if(n!==c_)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new lN;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Qx(t,r).unknown(n)},ui.apply(i,arguments),i}function Jx(){var e=Qx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,o=!1,u=0,h=0,f=.5;delete e.unknown;function p(){var v=t().length,g=i<n,b=g?i:n,x=g?n:i;s=(x-b)/Math.max(1,v-u+h*2),o&&(s=Math.floor(s)),b+=(x-b-s*(v-u))*f,a=s*(1-u),o&&(b=Math.round(b),a=Math.round(a));var _=dX(v).map(function(w){return b+s*w});return r(g?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,o=!0,p()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(v){return arguments.length?(o=!!v,p()):o},e.padding=function(v){return arguments.length?(u=Math.min(1,h=+v),p()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),p()):u},e.paddingOuter=function(v){return arguments.length?(h=+v,p()):h},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),p()):f},e.copy=function(){return Jx(t(),[n,i]).round(o).paddingInner(u).paddingOuter(h).align(f)},ui.apply(p(),arguments)}function BD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BD(t())},e}function hX(){return BD(Jx.apply(null,arguments).paddingInner(1))}function Zx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $D(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Bd(){}var vd=.7,tm=1/vd,Il="\\s*([+-]?\\d+)\\s*",yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fX=/^#([0-9a-f]{3,8})$/,pX=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),mX=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),gX=new RegExp(`^rgba\\(${Il},${Il},${Il},${yd}\\)$`),vX=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${yd}\\)$`),yX=new RegExp(`^hsl\\(${yd},${Yi},${Yi}\\)$`),bX=new RegExp(`^hsla\\(${yd},${Yi},${Yi},${yd}\\)$`),hN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zx(Bd,bd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fN,formatHex:fN,formatHex8:_X,formatHsl:xX,formatRgb:pN,toString:pN});function fN(){return this.rgb().formatHex()}function _X(){return this.rgb().formatHex8()}function xX(){return UD(this).formatHsl()}function pN(){return this.rgb().formatRgb()}function bd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?mN(t):r===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pX.exec(e))?new vn(t[1],t[2],t[3],1):(t=mX.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gX.exec(e))?Hf(t[1],t[2],t[3],t[4]):(t=vX.exec(e))?Hf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yX.exec(e))?yN(t[1],t[2]/100,t[3]/100,1):(t=bX.exec(e))?yN(t[1],t[2]/100,t[3]/100,t[4]):hN.hasOwnProperty(e)?mN(hN[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function mN(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function Hf(e,t,r,n){return n<=0&&(e=t=r=NaN),new vn(e,t,r,n)}function wX(e){return e instanceof Bd||(e=bd(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function d_(e,t,r,n){return arguments.length===1?wX(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Zx(vn,d_,$D(Bd,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(bo(this.r),bo(this.g),bo(this.b),rm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gN,formatHex:gN,formatHex8:EX,formatRgb:vN,toString:vN}));function gN(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}`}function EX(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}${fo((isNaN(this.opacity)?1:this.opacity)*255)}`}function vN(){const e=rm(this.opacity);return`${e===1?"rgb(":"rgba("}${bo(this.r)}, ${bo(this.g)}, ${bo(this.b)}${e===1?")":`, ${e})`}`}function rm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fo(e){return e=bo(e),(e<16?"0":"")+e.toString(16)}function yN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ti(e,t,r,n)}function UD(e){if(e instanceof Ti)return new Ti(e.h,e.s,e.l,e.opacity);if(e instanceof Bd||(e=bd(e)),!e)return new Ti;if(e instanceof Ti)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,u=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new Ti(a,o,u,e.opacity)}function kX(e,t,r,n){return arguments.length===1?UD(e):new Ti(e,t,r,n??1)}function Ti(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Zx(Ti,kX,$D(Bd,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new Ti(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new Ti(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new vn(ob(e>=240?e-240:e+120,i,n),ob(e,i,n),ob(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ti(bN(this.h),zf(this.s),zf(this.l),rm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rm(this.opacity);return`${e===1?"hsl(":"hsla("}${bN(this.h)}, ${zf(this.s)*100}%, ${zf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bN(e){return e=(e||0)%360,e<0?e+360:e}function zf(e){return Math.max(0,Math.min(1,e||0))}function ob(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ew=e=>()=>e;function TX(e,t){return function(r){return e+r*t}}function SX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function CX(e){return(e=+e)==1?HD:function(t,r){return r-t?SX(t,r,e):ew(isNaN(t)?r:t)}}function HD(e,t){var r=t-e;return r?TX(e,r):ew(isNaN(e)?t:e)}const _N=(function e(t){var r=CX(t);function n(i,s){var a=r((i=d_(i)).r,(s=d_(s)).r),o=r(i.g,s.g),u=r(i.b,s.b),h=HD(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=u(f),i.opacity=h(f),i+""}}return n.gamma=e,n})(1);function AX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function NX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=lu(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function PX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function nm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jX(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=lu(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var h_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lb=new RegExp(h_.source,"g");function IX(e){return function(){return e}}function RX(e){return function(t){return e(t)+""}}function DX(e,t){var r=h_.lastIndex=lb.lastIndex=0,n,i,s,a=-1,o=[],u=[];for(e=e+"",t=t+"";(n=h_.exec(e))&&(i=lb.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:nm(n,i)})),r=lb.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?RX(u[0].x):IX(t):(t=u.length,function(h){for(var f=0,p;f<t;++f)o[(p=u[f]).i]=p.x(h);return o.join("")})}function lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?ew(t):(r==="number"?nm:r==="string"?(n=bd(t))?(t=n,_N):DX:t instanceof bd?_N:t instanceof Date?PX:NX(t)?AX:Array.isArray(t)?OX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jX:nm)(e,t)}function tw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function LX(e,t){t===void 0&&(t=e,e=lu);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function MX(e){return function(){return e}}function im(e){return+e}var xN=[0,1];function Qr(e){return e}function f_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MX(isNaN(t)?NaN:.5)}function FX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function BX(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=f_(i,n),s=r(a,s)):(n=f_(n,i),s=r(s,a)),function(o){return s(n(o))}}function $X(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=f_(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(o){var u=Fd(e,o,1,n)-1;return s[u](i[u](o))}}function $d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eg(){var e=xN,t=xN,r=lu,n,i,s,a=Qr,o,u,h;function f(){var v=Math.min(e.length,t.length);return a!==Qr&&(a=FX(e[0],e[v-1])),o=v>2?$X:BX,u=h=null,p}function p(v){return v==null||isNaN(v=+v)?s:(u||(u=o(e.map(n),t,r)))(n(a(v)))}return p.invert=function(v){return a(i((h||(h=o(t,e.map(n),nm)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,im),f()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=tw,f()},p.clamp=function(v){return arguments.length?(a=v?!0:Qr,f()):a!==Qr},p.interpolate=function(v){return arguments.length?(r=v,f()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,g){return n=v,i=g,f()}}function rw(){return eg()(Qr,Qr)}function UX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hl(e){return e=sm(Math.abs(e)),e?e[1]:NaN}function HX(e,t){return function(r,n){for(var i=r.length,s=[],a=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),s.push(r.substring(i-=o,i+o)),!((u+=o+1)>n));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function zX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var WX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _d(e){if(!(t=WX.exec(e)))throw new Error("invalid format: "+e);var t;return new nw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_d.prototype=nw.prototype;function nw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qX(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var zD;function VX(e,t){var r=sm(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(zD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+sm(e,Math.max(0,t+s-1))[0]}function wN(e,t){var r=sm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const EN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wN(e*100,t),r:wN,s:VX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kN(e){return e}var TN=Array.prototype.map,SN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GX(e){var t=e.grouping===void 0||e.thousands===void 0?kN:HX(TN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?kN:zX(TN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=_d(p);var v=p.fill,g=p.align,b=p.sign,x=p.symbol,_=p.zero,w=p.width,A=p.comma,S=p.precision,N=p.trim,P=p.type;P==="n"?(A=!0,P="g"):EN[P]||(S===void 0&&(S=12),N=!0,P="g"),(_||v==="0"&&g==="=")&&(_=!0,v="0",g="=");var O=x==="$"?r:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",j=x==="$"?n:/[%p]/.test(P)?a:"",D=EN[P],B=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(F){var H=O,Y=j,V,K,Z;if(P==="c")Y=D(F)+Y,F="";else{F=+F;var oe=F<0||1/F<0;if(F=isNaN(F)?u:D(Math.abs(F),S),N&&(F=qX(F)),oe&&+F==0&&b!=="+"&&(oe=!1),H=(oe?b==="("?b:o:b==="-"||b==="("?"":b)+H,Y=(P==="s"?SN[8+zD/3]:"")+Y+(oe&&b==="("?")":""),B){for(V=-1,K=F.length;++V<K;)if(Z=F.charCodeAt(V),48>Z||Z>57){Y=(Z===46?i+F.slice(V+1):F.slice(V))+Y,F=F.slice(0,V);break}}}A&&!_&&(F=t(F,1/0));var te=H.length+F.length+Y.length,ce=te<w?new Array(w-te+1).join(v):"";switch(A&&_&&(F=t(ce+F,ce.length?w-Y.length:1/0),ce=""),g){case"<":F=H+F+Y+ce;break;case"=":F=H+ce+F+Y;break;case"^":F=ce.slice(0,te=ce.length>>1)+H+F+Y+ce.slice(te);break;default:F=ce+H+F+Y;break}return s(F)}return R.toString=function(){return p+""},R}function f(p,v){var g=h((p=_d(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Hl(v)/3)))*3,x=Math.pow(10,-b),_=SN[8+b/3];return function(w){return g(x*w)+_}}return{format:h,formatPrefix:f}}var Wf,iw,WD;YX({thousands:",",grouping:[3],currency:["$",""]});function YX(e){return Wf=GX(e),iw=Wf.format,WD=Wf.formatPrefix,Wf}function KX(e){return Math.max(0,-Hl(Math.abs(e)))}function XX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hl(t)/3)))*3-Hl(Math.abs(e)))}function QX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hl(t)-Hl(e))+1}function qD(e,t,r,n){var i=u_(e,t,r),s;switch(n=_d(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=XX(i,a))&&(n.precision=s),WD(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=QX(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=KX(i))&&(n.precision=s-(n.type==="%")*2);break}}return iw(n)}function Oa(e){var t=e.domain;return e.ticks=function(r){var n=t();return o_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return qD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],o=n[s],u,h,f=10;for(o<a&&(h=a,a=o,o=h,h=i,i=s,s=h);f-- >0;){if(h=l_(a,o,r),h===u)return n[i]=a,n[s]=o,t(n);if(h>0)a=Math.floor(a/h)*h,o=Math.ceil(o/h)*h;else if(h<0)a=Math.ceil(a*h)/h,o=Math.floor(o*h)/h;else break;u=h}return e},e}function VD(){var e=rw();return e.copy=function(){return $d(e,VD())},ui.apply(e,arguments),Oa(e)}function GD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,im),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GD(e).unknown(t)},e=arguments.length?Array.from(e,im):[0,1],Oa(r)}function YD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function CN(e){return Math.log(e)}function AN(e){return Math.exp(e)}function JX(e){return-Math.log(-e)}function ZX(e){return-Math.exp(-e)}function eQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tQ(e){return e===10?eQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NN(e){return(t,r)=>-e(-t,r)}function sw(e){const t=e(CN,AN),r=t.domain;let n=10,i,s;function a(){return i=rQ(n),s=tQ(n),r()[0]<0?(i=NN(i),s=NN(s),e(JX,ZX)):e(CN,AN),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=o=>{const u=r();let h=u[0],f=u[u.length-1];const p=f<h;p&&([h,f]=[f,h]);let v=i(h),g=i(f),b,x;const _=o==null?10:+o;let w=[];if(!(n%1)&&g-v<_){if(v=Math.floor(v),g=Math.ceil(g),h>0){for(;v<=g;++v)for(b=1;b<n;++b)if(x=v<0?b/s(-v):b*s(v),!(x<h)){if(x>f)break;w.push(x)}}else for(;v<=g;++v)for(b=n-1;b>=1;--b)if(x=v>0?b/s(-v):b*s(v),!(x<h)){if(x>f)break;w.push(x)}w.length*2<_&&(w=o_(h,f,_))}else w=o_(v,g,Math.min(g-v,_)).map(s);return p?w.reverse():w},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=_d(u)).precision==null&&(u.trim=!0),u=iw(u)),o===1/0)return u;const h=Math.max(1,n*o/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=h?u(f):""}},t.nice=()=>r(YD(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function KD(){const e=sw(eg()).domain([1,10]);return e.copy=()=>$d(e,KD()).base(e.base()),ui.apply(e,arguments),e}function ON(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function PN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aw(e){var t=1,r=e(ON(t),PN(t));return r.constant=function(n){return arguments.length?e(ON(t=+n),PN(t)):t},Oa(r)}function XD(){var e=aw(eg());return e.copy=function(){return $d(e,XD()).constant(e.constant())},ui.apply(e,arguments)}function jN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iQ(e){return e<0?-e*e:e*e}function ow(e){var t=e(Qr,Qr),r=1;function n(){return r===1?e(Qr,Qr):r===.5?e(nQ,iQ):e(jN(r),jN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Oa(t)}function lw(){var e=ow(eg());return e.copy=function(){return $d(e,lw()).exponent(e.exponent())},ui.apply(e,arguments),e}function sQ(){return lw.apply(null,arguments).exponent(.5)}function IN(e){return Math.sign(e)*e*e}function aQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QD(){var e=rw(),t=[0,1],r=!1,n;function i(s){var a=aQ(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(IN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,im)).map(IN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return QD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ui.apply(i,arguments),Oa(i)}function JD(){var e=[],t=[],r=[],n;function i(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=cX(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Fd(r,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Sa),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return JD().domain(e).range(t).unknown(n)},ui.apply(s,arguments)}function ZD(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Fd(n,u,0,r)]:s}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,o()):i.slice()},a.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return ZD().domain([e,t]).range(i).unknown(s)},ui.apply(Oa(a),arguments)}function eL(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Fd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return eL().domain(e).range(t).unknown(r)},ui.apply(i,arguments)}const ub=new Date,cb=new Date;function lr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let h;do u.push(h=new Date(+s)),t(s,o),e(s);while(h<s&&s<a);return u},i.filter=s=>lr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(ub.setTime(+s),cb.setTime(+a),e(ub),e(cb),Math.floor(r(ub,cb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const am=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);am.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):am);am.range;const ys=1e3,Zn=ys*60,bs=Zn*60,Cs=bs*24,uw=Cs*7,RN=Cs*30,db=Cs*365,po=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCSeconds());po.range;const cw=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getMinutes());cw.range;const dw=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCMinutes());dw.range;const hw=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys-e.getMinutes()*Zn)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getHours());hw.range;const fw=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCHours());fw.range;const Ud=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/Cs,e=>e.getDate()-1);Ud.range;const tg=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cs,e=>e.getUTCDate()-1);tg.range;const tL=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Cs,e=>Math.floor(e/Cs));tL.range;function Io(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/uw)}const rg=Io(0),om=Io(1),oQ=Io(2),lQ=Io(3),zl=Io(4),uQ=Io(5),cQ=Io(6);rg.range;om.range;oQ.range;lQ.range;zl.range;uQ.range;cQ.range;function Ro(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/uw)}const ng=Ro(0),lm=Ro(1),dQ=Ro(2),hQ=Ro(3),Wl=Ro(4),fQ=Ro(5),pQ=Ro(6);ng.range;lm.range;dQ.range;hQ.range;Wl.range;fQ.range;pQ.range;const pw=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pw.range;const mw=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mw.range;const As=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());As.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});As.range;const Ns=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ns.range;function rL(e,t,r,n,i,s){const a=[[po,1,ys],[po,5,5*ys],[po,15,15*ys],[po,30,30*ys],[s,1,Zn],[s,5,5*Zn],[s,15,15*Zn],[s,30,30*Zn],[i,1,bs],[i,3,3*bs],[i,6,6*bs],[i,12,12*bs],[n,1,Cs],[n,2,2*Cs],[r,1,uw],[t,1,RN],[t,3,3*RN],[e,1,db]];function o(h,f,p){const v=f<h;v&&([h,f]=[f,h]);const g=p&&typeof p.range=="function"?p:u(h,f,p),b=g?g.range(h,+f+1):[];return v?b.reverse():b}function u(h,f,p){const v=Math.abs(f-h)/p,g=Xx(([,,_])=>_).right(a,v);if(g===a.length)return e.every(u_(h/db,f/db,p));if(g===0)return am.every(Math.max(u_(h,f,p),1));const[b,x]=a[v/a[g-1][2]<a[g][2]/v?g-1:g];return b.every(x)}return[o,u]}const[mQ,gQ]=rL(Ns,mw,ng,tL,fw,dw),[vQ,yQ]=rL(As,pw,rg,Ud,hw,cw);function hb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,u=e.shortMonths,h=wc(i),f=Ec(i),p=wc(s),v=Ec(s),g=wc(a),b=Ec(a),x=wc(o),_=Ec(o),w=wc(u),A=Ec(u),S={a:oe,A:te,b:ce,B:L,c:null,d:$N,e:$N,f:HQ,g:JQ,G:eJ,H:BQ,I:$Q,j:UQ,L:nL,m:zQ,M:WQ,p:q,q:re,Q:zN,s:WN,S:qQ,u:VQ,U:GQ,V:YQ,w:KQ,W:XQ,x:null,X:null,y:QQ,Y:ZQ,Z:tJ,"%":HN},N={a:$,A:de,b:we,B:_e,c:null,d:UN,e:UN,f:sJ,g:mJ,G:vJ,H:rJ,I:nJ,j:iJ,L:sL,m:aJ,M:oJ,p:Le,q:qe,Q:zN,s:WN,S:lJ,u:uJ,U:cJ,V:dJ,w:hJ,W:fJ,x:null,X:null,y:pJ,Y:gJ,Z:yJ,"%":HN},P={a:R,A:F,b:H,B:Y,c:V,d:FN,e:FN,f:DQ,g:MN,G:LN,H:BN,I:BN,j:PQ,L:RQ,m:OQ,M:jQ,p:B,q:NQ,Q:MQ,s:FQ,S:IQ,u:kQ,U:TQ,V:SQ,w:EQ,W:CQ,x:K,X:Z,y:MN,Y:LN,Z:AQ,"%":LQ};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),N.x=O(r,N),N.X=O(n,N),N.c=O(t,N);function O(ie,Ee){return function(Ke){var pe=[],yt=-1,Te=0,Ze=ie.length,ft,zt,La;for(Ke instanceof Date||(Ke=new Date(+Ke));++yt<Ze;)ie.charCodeAt(yt)===37&&(pe.push(ie.slice(Te,yt)),(zt=DN[ft=ie.charAt(++yt)])!=null?ft=ie.charAt(++yt):zt=ft==="e"?" ":"0",(La=Ee[ft])&&(ft=La(Ke,zt)),pe.push(ft),Te=yt+1);return pe.push(ie.slice(Te,yt)),pe.join("")}}function j(ie,Ee){return function(Ke){var pe=xc(1900,void 0,1),yt=D(pe,ie,Ke+="",0),Te,Ze;if(yt!=Ke.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ee&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Te=fb(xc(pe.y,0,1)),Ze=Te.getUTCDay(),Te=Ze>4||Ze===0?lm.ceil(Te):lm(Te),Te=tg.offset(Te,(pe.V-1)*7),pe.y=Te.getUTCFullYear(),pe.m=Te.getUTCMonth(),pe.d=Te.getUTCDate()+(pe.w+6)%7):(Te=hb(xc(pe.y,0,1)),Ze=Te.getDay(),Te=Ze>4||Ze===0?om.ceil(Te):om(Te),Te=Ud.offset(Te,(pe.V-1)*7),pe.y=Te.getFullYear(),pe.m=Te.getMonth(),pe.d=Te.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Ze="Z"in pe?fb(xc(pe.y,0,1)).getUTCDay():hb(xc(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Ze+5)%7:pe.w+pe.U*7-(Ze+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,fb(pe)):hb(pe)}}function D(ie,Ee,Ke,pe){for(var yt=0,Te=Ee.length,Ze=Ke.length,ft,zt;yt<Te;){if(pe>=Ze)return-1;if(ft=Ee.charCodeAt(yt++),ft===37){if(ft=Ee.charAt(yt++),zt=P[ft in DN?Ee.charAt(yt++):ft],!zt||(pe=zt(ie,Ke,pe))<0)return-1}else if(ft!=Ke.charCodeAt(pe++))return-1}return pe}function B(ie,Ee,Ke){var pe=h.exec(Ee.slice(Ke));return pe?(ie.p=f.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function R(ie,Ee,Ke){var pe=g.exec(Ee.slice(Ke));return pe?(ie.w=b.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function F(ie,Ee,Ke){var pe=p.exec(Ee.slice(Ke));return pe?(ie.w=v.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function H(ie,Ee,Ke){var pe=w.exec(Ee.slice(Ke));return pe?(ie.m=A.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function Y(ie,Ee,Ke){var pe=x.exec(Ee.slice(Ke));return pe?(ie.m=_.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function V(ie,Ee,Ke){return D(ie,t,Ee,Ke)}function K(ie,Ee,Ke){return D(ie,r,Ee,Ke)}function Z(ie,Ee,Ke){return D(ie,n,Ee,Ke)}function oe(ie){return a[ie.getDay()]}function te(ie){return s[ie.getDay()]}function ce(ie){return u[ie.getMonth()]}function L(ie){return o[ie.getMonth()]}function q(ie){return i[+(ie.getHours()>=12)]}function re(ie){return 1+~~(ie.getMonth()/3)}function $(ie){return a[ie.getUTCDay()]}function de(ie){return s[ie.getUTCDay()]}function we(ie){return u[ie.getUTCMonth()]}function _e(ie){return o[ie.getUTCMonth()]}function Le(ie){return i[+(ie.getUTCHours()>=12)]}function qe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ee=O(ie+="",S);return Ee.toString=function(){return ie},Ee},parse:function(ie){var Ee=j(ie+="",!1);return Ee.toString=function(){return ie},Ee},utcFormat:function(ie){var Ee=O(ie+="",N);return Ee.toString=function(){return ie},Ee},utcParse:function(ie){var Ee=j(ie+="",!0);return Ee.toString=function(){return ie},Ee}}}var DN={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,_Q=/^%/,xQ=/[\\^$*+?|[\]().{}]/g;function dt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function wQ(e){return e.replace(xQ,"\\$&")}function wc(e){return new RegExp("^(?:"+e.map(wQ).join("|")+")","i")}function Ec(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function EQ(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kQ(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TQ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function SQ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CQ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function LN(e,t,r){var n=xr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function MN(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function AQ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function NQ(e,t,r){var n=xr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OQ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function FN(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function PQ(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function BN(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jQ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function IQ(e,t,r){var n=xr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function RQ(e,t,r){var n=xr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function DQ(e,t,r){var n=xr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function LQ(e,t,r){var n=_Q.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function MQ(e,t,r){var n=xr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function FQ(e,t,r){var n=xr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $N(e,t){return dt(e.getDate(),t,2)}function BQ(e,t){return dt(e.getHours(),t,2)}function $Q(e,t){return dt(e.getHours()%12||12,t,2)}function UQ(e,t){return dt(1+Ud.count(As(e),e),t,3)}function nL(e,t){return dt(e.getMilliseconds(),t,3)}function HQ(e,t){return nL(e,t)+"000"}function zQ(e,t){return dt(e.getMonth()+1,t,2)}function WQ(e,t){return dt(e.getMinutes(),t,2)}function qQ(e,t){return dt(e.getSeconds(),t,2)}function VQ(e){var t=e.getDay();return t===0?7:t}function GQ(e,t){return dt(rg.count(As(e)-1,e),t,2)}function iL(e){var t=e.getDay();return t>=4||t===0?zl(e):zl.ceil(e)}function YQ(e,t){return e=iL(e),dt(zl.count(As(e),e)+(As(e).getDay()===4),t,2)}function KQ(e){return e.getDay()}function XQ(e,t){return dt(om.count(As(e)-1,e),t,2)}function QQ(e,t){return dt(e.getFullYear()%100,t,2)}function JQ(e,t){return e=iL(e),dt(e.getFullYear()%100,t,2)}function ZQ(e,t){return dt(e.getFullYear()%1e4,t,4)}function eJ(e,t){var r=e.getDay();return e=r>=4||r===0?zl(e):zl.ceil(e),dt(e.getFullYear()%1e4,t,4)}function tJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function UN(e,t){return dt(e.getUTCDate(),t,2)}function rJ(e,t){return dt(e.getUTCHours(),t,2)}function nJ(e,t){return dt(e.getUTCHours()%12||12,t,2)}function iJ(e,t){return dt(1+tg.count(Ns(e),e),t,3)}function sL(e,t){return dt(e.getUTCMilliseconds(),t,3)}function sJ(e,t){return sL(e,t)+"000"}function aJ(e,t){return dt(e.getUTCMonth()+1,t,2)}function oJ(e,t){return dt(e.getUTCMinutes(),t,2)}function lJ(e,t){return dt(e.getUTCSeconds(),t,2)}function uJ(e){var t=e.getUTCDay();return t===0?7:t}function cJ(e,t){return dt(ng.count(Ns(e)-1,e),t,2)}function aL(e){var t=e.getUTCDay();return t>=4||t===0?Wl(e):Wl.ceil(e)}function dJ(e,t){return e=aL(e),dt(Wl.count(Ns(e),e)+(Ns(e).getUTCDay()===4),t,2)}function hJ(e){return e.getUTCDay()}function fJ(e,t){return dt(lm.count(Ns(e)-1,e),t,2)}function pJ(e,t){return dt(e.getUTCFullYear()%100,t,2)}function mJ(e,t){return e=aL(e),dt(e.getUTCFullYear()%100,t,2)}function gJ(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function vJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Wl(e):Wl.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function yJ(){return"+0000"}function HN(){return"%"}function zN(e){return+e}function WN(e){return Math.floor(+e/1e3)}var gl,oL,lL;bJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bJ(e){return gl=bQ(e),oL=gl.format,gl.parse,lL=gl.utcFormat,gl.utcParse,gl}function _J(e){return new Date(e)}function xJ(e){return e instanceof Date?+e:+new Date(+e)}function gw(e,t,r,n,i,s,a,o,u,h){var f=rw(),p=f.invert,v=f.domain,g=h(".%L"),b=h(":%S"),x=h("%I:%M"),_=h("%I %p"),w=h("%a %d"),A=h("%b %d"),S=h("%B"),N=h("%Y");function P(O){return(u(O)<O?g:o(O)<O?b:a(O)<O?x:s(O)<O?_:n(O)<O?i(O)<O?w:A:r(O)<O?S:N)(O)}return f.invert=function(O){return new Date(p(O))},f.domain=function(O){return arguments.length?v(Array.from(O,xJ)):v().map(_J)},f.ticks=function(O){var j=v();return e(j[0],j[j.length-1],O??10)},f.tickFormat=function(O,j){return j==null?P:h(j)},f.nice=function(O){var j=v();return(!O||typeof O.range!="function")&&(O=t(j[0],j[j.length-1],O??10)),O?v(YD(j,O)):f},f.copy=function(){return $d(f,gw(e,t,r,n,i,s,a,o,u,h))},f}function wJ(){return ui.apply(gw(vQ,yQ,As,pw,rg,Ud,hw,cw,po,oL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EJ(){return ui.apply(gw(mQ,gQ,Ns,mw,ng,tg,fw,dw,po,lL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ig(){var e=0,t=1,r,n,i,s,a=Qr,o=!1,u;function h(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(s(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(o=!!p,h):o},h.interpolator=function(p){return arguments.length?(a=p,h):a};function f(p){return function(v){var g,b;return arguments.length?([g,b]=v,a=p(g,b),h):[a(0),a(1)]}}return h.range=f(lu),h.rangeRound=f(tw),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function Pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uL(){var e=Oa(ig()(Qr));return e.copy=function(){return Pa(e,uL())},Rs.apply(e,arguments)}function cL(){var e=sw(ig()).domain([1,10]);return e.copy=function(){return Pa(e,cL()).base(e.base())},Rs.apply(e,arguments)}function dL(){var e=aw(ig());return e.copy=function(){return Pa(e,dL()).constant(e.constant())},Rs.apply(e,arguments)}function vw(){var e=ow(ig());return e.copy=function(){return Pa(e,vw()).exponent(e.exponent())},Rs.apply(e,arguments)}function kJ(){return vw.apply(null,arguments).exponent(.5)}function hL(){var e=[],t=Qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Sa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>uX(e,s/n))},r.copy=function(){return hL(t).domain(e)},Rs.apply(r,arguments)}function sg(){var e=0,t=.5,r=1,n=1,i,s,a,o,u,h=Qr,f,p=!1,v;function g(x){return isNaN(x=+x)?v:(x=.5+((x=+f(x))-s)*(n*x<n*s?o:u),h(p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,i=f(e=+e),s=f(t=+t),a=f(r=+r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(h=x,g):h};function b(x){return function(_){var w,A,S;return arguments.length?([w,A,S]=_,h=LX(x,[w,A,S]),g):[h(0),h(.5),h(1)]}}return g.range=b(lu),g.rangeRound=b(tw),g.unknown=function(x){return arguments.length?(v=x,g):v},function(x){return f=x,i=x(e),s=x(t),a=x(r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function fL(){var e=Oa(sg()(Qr));return e.copy=function(){return Pa(e,fL())},Rs.apply(e,arguments)}function pL(){var e=sw(sg()).domain([.1,1,10]);return e.copy=function(){return Pa(e,pL()).base(e.base())},Rs.apply(e,arguments)}function mL(){var e=aw(sg());return e.copy=function(){return Pa(e,mL()).constant(e.constant())},Rs.apply(e,arguments)}function yw(){var e=ow(sg());return e.copy=function(){return Pa(e,yw()).exponent(e.exponent())},Rs.apply(e,arguments)}function TJ(){return yw.apply(null,arguments).exponent(.5)}const $c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jx,scaleDiverging:fL,scaleDivergingLog:pL,scaleDivergingPow:yw,scaleDivergingSqrt:TJ,scaleDivergingSymlog:mL,scaleIdentity:GD,scaleImplicit:c_,scaleLinear:VD,scaleLog:KD,scaleOrdinal:Qx,scalePoint:hX,scalePow:lw,scaleQuantile:JD,scaleQuantize:ZD,scaleRadial:QD,scaleSequential:uL,scaleSequentialLog:cL,scaleSequentialPow:vw,scaleSequentialQuantile:hL,scaleSequentialSqrt:kJ,scaleSequentialSymlog:dL,scaleSqrt:sQ,scaleSymlog:XD,scaleThreshold:eL,scaleTime:wJ,scaleUtc:EJ,tickFormat:qD},Symbol.toStringTag,{value:"Module"}));var ja=e=>e.chartData,SJ=se([ja],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bw=(e,t,r,n)=>n?SJ(e):ja(e);function Co(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ur(t)&&Ur(r))return!0}return!1}function qN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Ur(r))i=r;else if(typeof r=="function")return;if(Ur(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Co(a))return a}}function CJ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Co(n))return qN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(Fe(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&OA.test(i)){var u=OA.exec(i);if(u==null||t==null)a=void 0;else{var h=+u[1];a=t[0]-h}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(Fe(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&PA.test(s)){var f=PA.exec(s);if(f==null||t==null)o=void 0;else{var p=+f[1];o=t[1]+p}}else o=t==null?void 0:t[1];var v=[a,o];if(Co(v))return t==null?v:qN(v,t,r)}}}var uu=1e9,AJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xw,Lt=!0,si="[DecimalError] ",_o=si+"Invalid argument: ",_w=si+"Exponent out of range: ",cu=Math.floor,oo=Math.pow,NJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,gr=1e7,Pt=7,vL=9007199254740991,um=cu(vL/Pt),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(e){return ws(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,r=t.constructor;return wt(ws(t,new r(e),0,1),r.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return Zt(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pn))throw Error(si+"NaN");if(r.s<1)throw Error(si+(r.s?"NaN":"-Infinity"));return r.eq(Pn)?new n(0):(Lt=!1,t=ws(xd(r,s),xd(e,s),s),Lt=!0,wt(t,i))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_L(t,e):yL(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(si+"NaN");return r.s?(Lt=!1,t=ws(r,e,0,1).times(e),Lt=!0,r.minus(t)):wt(new n(r),i)};Pe.naturalExponential=Pe.exp=function(){return bL(this)};Pe.naturalLogarithm=Pe.ln=function(){return xd(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yL(t,e):_L(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_o+e);if(t=Zt(i)+1,n=i.d.length-1,r=n*Pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pe.squareRoot=Pe.sqrt=function(){var e,t,r,n,i,s,a,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(si+"NaN")}for(e=Zt(o),Lt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Wi(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=cu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(ws(o,s,a+2)).times(.5),Wi(s.d).slice(0,a)===(t=Wi(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;a+=4}return Lt=!0,wt(n,r)};Pe.times=Pe.mul=function(e){var t,r,n,i,s,a,o,u,h,f=this,p=f.constructor,v=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,u=v.length,h=g.length,u<h&&(s=v,v=g,g=s,a=u,u=h,h=a),s=[],a=u+h,n=a;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=u+n;i>n;)o=s[i]+g[n]*v[i-n-1]+t,s[i--]=o%gr|0,t=o/gr|0;s[i]=(s[i]+t)%gr|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lt?wt(e,p.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qi(e,0,uu),t===void 0?t=n.rounding:Qi(t,0,8),wt(r,e+Zt(r)+1,t))};Pe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ao(n,!0):(Qi(e,0,uu),t===void 0?t=i.rounding:Qi(t,0,8),n=wt(new i(n),e+1,t),r=Ao(n,!0,e+1)),r};Pe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ao(i):(Qi(e,0,uu),t===void 0?t=s.rounding:Qi(t,0,8),n=wt(new s(i),e+Zt(i)+1,t),r=Ao(n.abs(),!1,e+Zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return wt(new t(e),Zt(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,r,n,i,s,a,o=this,u=o.constructor,h=12,f=+(e=new u(e));if(!e.s)return new u(Pn);if(o=new u(o),!o.s){if(e.s<1)throw Error(si+"Infinity");return o}if(o.eq(Pn))return o;if(n=u.precision,e.eq(Pn))return wt(o,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=o.s,a){if((r=f<0?-f:f)<=vL){for(i=new u(Pn),t=Math.ceil(n/Pt+4),Lt=!1;r%2&&(i=i.times(o),GN(i.d,t)),r=cu(r/2),r!==0;)o=o.times(o),GN(o.d,t);return Lt=!0,e.s<0?new u(Pn).div(i):wt(i,n)}}else if(s<0)throw Error(si+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Lt=!1,i=e.times(xd(o,n+h)),Lt=!0,i=bL(i),i.s=s,i};Pe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Zt(i),n=Ao(i,r<=s.toExpNeg||r>=s.toExpPos)):(Qi(e,1,uu),t===void 0?t=s.rounding:Qi(t,0,8),i=wt(new s(i),e,t),r=Zt(i),n=Ao(i,e<=r||r<=s.toExpNeg,e)),n};Pe.toSignificantDigits=Pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qi(e,1,uu),t===void 0?t=n.rounding:Qi(t,0,8)),wt(new n(r),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),r=e.constructor;return Ao(e,t<=r.toExpNeg||t>=r.toExpPos)};function yL(e,t){var r,n,i,s,a,o,u,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Lt?wt(t,p):t;if(u=e.d,h=t.d,a=e.e,i=t.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,o=h.length):(n=h,i=a,o=u.length),a=Math.ceil(p/Pt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=u.length,s=h.length,o-s<0&&(s=o,n=h,h=u,u=n),r=0;s;)r=(u[--s]=u[s]+h[s]+r)/gr|0,u[s]%=gr;for(r&&(u.unshift(r),++i),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=i,Lt?wt(t,p):t}function Qi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_o+e)}function Wi(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Pt-n.length,r&&(s+=ma(r)),s+=n;a=e[t],n=a+"",r=Pt-n.length,r&&(s+=ma(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ws=(function(){function e(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%gr|0,a=s/gr|0;return a&&n.unshift(a),n}function t(n,i,s,a){var o,u;if(s!=a)u=s>a?1:-1;else for(o=u=0;o<s;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*gr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,u,h,f,p,v,g,b,x,_,w,A,S,N,P,O,j,D,B=n.constructor,R=n.s==i.s?1:-1,F=n.d,H=i.d;if(!n.s)return new B(n);if(!i.s)throw Error(si+"Division by zero");for(u=n.e-i.e,j=H.length,P=F.length,g=new B(R),b=g.d=[],h=0;H[h]==(F[h]||0);)++h;if(H[h]>(F[h]||0)&&--u,s==null?A=s=B.precision:a?A=s+(Zt(n)-Zt(i))+1:A=s,A<0)return new B(0);if(A=A/Pt+2|0,h=0,j==1)for(f=0,H=H[0],A++;(h<P||f)&&A--;h++)S=f*gr+(F[h]||0),b[h]=S/H|0,f=S%H|0;else{for(f=gr/(H[0]+1)|0,f>1&&(H=e(H,f),F=e(F,f),j=H.length,P=F.length),N=j,x=F.slice(0,j),_=x.length;_<j;)x[_++]=0;D=H.slice(),D.unshift(0),O=H[0],H[1]>=gr/2&&++O;do f=0,o=t(H,x,j,_),o<0?(w=x[0],j!=_&&(w=w*gr+(x[1]||0)),f=w/O|0,f>1?(f>=gr&&(f=gr-1),p=e(H,f),v=p.length,_=x.length,o=t(p,x,v,_),o==1&&(f--,r(p,j<v?D:H,v))):(f==0&&(o=f=1),p=H.slice()),v=p.length,v<_&&p.unshift(0),r(x,p,_),o==-1&&(_=x.length,o=t(H,x,j,_),o<1&&(f++,r(x,j<_?D:H,_))),_=x.length):o===0&&(f++,x=[0]),b[h++]=f,o&&x[0]?x[_++]=F[N]||0:(x=[F[N]],_=1);while((N++<P||x[0]!==void 0)&&A--)}return b[0]||b.shift(),g.e=u,wt(g,a?s+Zt(g)+1:s)}})();function bL(e,t){var r,n,i,s,a,o,u=0,h=0,f=e.constructor,p=f.precision;if(Zt(e)>16)throw Error(_w+Zt(e));if(!e.s)return new f(Pn);for(Lt=!1,o=p,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(n=Math.log(oo(2,h))/Math.LN10*2+5|0,o+=n,r=i=s=new f(Pn),f.precision=o;;){if(i=wt(i.times(e),o),r=r.times(++u),a=s.plus(ws(i,r,o)),Wi(a.d).slice(0,o)===Wi(s.d).slice(0,o)){for(;h--;)s=wt(s.times(s),o);return f.precision=p,t==null?(Lt=!0,wt(s,p)):s}s=a}}function Zt(e){for(var t=e.e*Pt,r=e.d[0];r>=10;r/=10)t++;return t}function pb(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(si+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function ma(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var r,n,i,s,a,o,u,h,f,p=1,v=10,g=e,b=g.d,x=g.constructor,_=x.precision;if(g.s<1)throw Error(si+(g.s?"NaN":"-Infinity"));if(g.eq(Pn))return new x(0);if(t==null?(Lt=!1,h=_):h=t,g.eq(10))return t==null&&(Lt=!0),pb(x,h);if(h+=v,x.precision=h,r=Wi(b),n=r.charAt(0),s=Zt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Wi(g.d),n=r.charAt(0),p++;s=Zt(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return u=pb(x,h+2,_).times(s+""),g=xd(new x(n+"."+r.slice(1)),h-v).plus(u),x.precision=_,t==null?(Lt=!0,wt(g,_)):g;for(o=a=g=ws(g.minus(Pn),g.plus(Pn),h),f=wt(g.times(g),h),i=3;;){if(a=wt(a.times(f),h),u=o.plus(ws(a,new x(i),h)),Wi(u.d).slice(0,h)===Wi(o.d).slice(0,h))return o=o.times(2),s!==0&&(o=o.plus(pb(x,h+2,_).times(s+""))),o=ws(o,new x(p),h),x.precision=_,t==null?(Lt=!0,wt(o,_)):o;o=u,i+=2}}function VN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=cu(r/Pt),e.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Pt;n<i;)e.d.push(+t.slice(n,n+=Pt));t=t.slice(n),n=Pt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>um||e.e<-um))throw Error(_w+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,i,s,a,o,u,h,f,p=e.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Pt,i=t,h=p[f=0];else{if(f=Math.ceil((n+1)/Pt),s=p.length,f>=s)return e;for(h=s=p[f],a=1;s>=10;s/=10)a++;n%=Pt,i=n-Pt+a}if(r!==void 0&&(s=oo(10,a-i-1),o=h/s%10|0,u=t<0||p[f+1]!==void 0||h%s,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?i>0?h/oo(10,a-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return u?(s=Zt(e),p.length=1,t=t-s-1,p[0]=oo(10,(Pt-t%Pt)%Pt),e.e=cu(-t/Pt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=oo(10,Pt-n),p[f]=i>0?(h/oo(10,a-i)%oo(10,i)|0)*s:0),u)for(;;)if(f==0){(p[0]+=s)==gr&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=gr)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Lt&&(e.e>um||e.e<-um))throw Error(_w+Zt(e));return e}function _L(e,t){var r,n,i,s,a,o,u,h,f,p,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Lt?wt(t,g):t;if(u=e.d,p=t.d,n=t.e,h=e.e,u=u.slice(),a=h-n,a){for(f=a<0,f?(r=u,a=-a,o=p.length):(r=p,n=h,o=u.length),i=Math.max(Math.ceil(g/Pt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}a=0}for(f&&(r=u,u=p,p=r,t.s=-t.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=gr-1;--u[s],u[i]+=gr}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Lt?wt(t,g):t):new v(0)}function Ao(e,t,r){var n,i=Zt(e),s=Wi(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ma(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ma(-i-1)+s,r&&(n=r-a)>0&&(s+=ma(n))):i>=a?(s+=ma(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ma(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ma(n))),e.s<0?"-"+s:s}function GN(e,t){if(e.length>t)return e.length=t,!0}function xL(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_o+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return VN(a,s.toString())}else if(typeof s!="string")throw Error(_o+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,NJ.test(s))VN(a,s);else throw Error(_o+s)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xL,i.config=i.set=OJ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function OJ(e){if(!e||typeof e!="object")throw Error(si+"Object expected");var t,r,n,i=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(cu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(_o+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_o+r+": "+n);return this}var xw=xL(AJ);Pn=new xw(1);const gt=xw;var PJ=e=>e,wL={},EL=e=>e===wL,YN=e=>function t(){return arguments.length===0||arguments.length===1&&EL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},kL=(e,t)=>e===1?t:YN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==wL).length;return s>=e?t(...n):kL(e-s,YN(function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var h=n.map(f=>EL(f)?o.shift():f);return t(...h,...o)}))}),ag=e=>kL(e.length,e),p_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},jJ=ag((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),IJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PJ;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,u)=>u(o),s(...arguments))}},m_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),TL=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,o)=>{var u;return a===((u=t)===null||u===void 0?void 0:u[o])})||(t=i,r=e(...i)),r}};function SL(e){var t;return e===0?t=1:t=Math.floor(new gt(e).abs().log(10).toNumber())+1,t}function CL(e,t,r){for(var n=new gt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}ag((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});ag((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});ag((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var AL=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},NL=(e,t,r)=>{if(e.lte(0))return new gt(0);var n=SL(e.toNumber()),i=new gt(10).pow(n),s=e.div(i),a=n!==1?.05:.1,o=new gt(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=o.mul(i);return t?new gt(u.toNumber()):new gt(Math.ceil(u.toNumber()))},RJ=(e,t,r)=>{var n=new gt(1),i=new gt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new gt(10).pow(SL(e)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new gt(Math.floor(e)))}else e===0?i=new gt(Math.floor((t-1)/2)):r||(i=new gt(Math.floor(e)));var a=Math.floor((t-1)/2),o=IJ(jJ(u=>i.add(new gt(u-a).mul(n)).toNumber()),p_);return o(0,t)},OL=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var a=NL(new gt(r).sub(t).div(n-1),i,s),o;t<=0&&r>=0?o=new gt(0):(o=new gt(t).add(r).div(2),o=o.sub(new gt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),h=Math.ceil(new gt(r).sub(o).div(a).toNumber()),f=u+h+1;return f>n?OL(t,r,n,i,s+1):(f<n&&(h=r>0?h+(n-f):h,u=r>0?u:u+(n-f)),{step:a,tickMin:o.sub(new gt(u).mul(a)),tickMax:o.add(new gt(h).mul(a))})};function DJ(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=AL([t,r]);if(a===-1/0||o===1/0){var u=o===1/0?[a,...p_(0,n-1).map(()=>1/0)]:[...p_(0,n-1).map(()=>-1/0),o];return t>r?m_(u):u}if(a===o)return RJ(a,n,i);var{step:h,tickMin:f,tickMax:p}=OL(a,o,s,i,0),v=CL(f,p.add(new gt(.1).mul(h)),h);return t>r?m_(v):v}function LJ(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=AL([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(t,2),u=NL(new gt(a).sub(s).div(o-1),i,0),h=[...CL(new gt(s),new gt(a),u),a];return i===!1&&(h=h.map(f=>Math.round(f))),r>n?m_(h):h}var MJ=TL(DJ),FJ=TL(LJ),PL=e=>e.rootProps.maxBarSize,BJ=e=>e.rootProps.barGap,jL=e=>e.rootProps.barCategoryGap,$J=e=>e.rootProps.barSize,og=e=>e.rootProps.stackOffset,ww=e=>e.options.chartName,Ew=e=>e.rootProps.syncId,IL=e=>e.rootProps.syncMethod,kw=e=>e.options.eventEmitter,ms={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},UJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:ms.type,unit:void 0},HJ={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,ticks:void 0,type:Cn.type,unit:void 0},zJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WJ={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,ticks:void 0,type:"category",unit:void 0},Tw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?zJ:UJ,Sw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?WJ:HJ,ug=e=>e.polarOptions,Cw=se([js,Is,_r],NG),RL=se([ug,Cw],(e,t)=>{if(e!=null)return Ai(e.innerRadius,t,0)}),DL=se([ug,Cw],(e,t)=>{if(e!=null)return Ai(e.outerRadius,t,t*.8)}),qJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},LL=se([ug],qJ);se([Tw,LL],lg);var ML=se([Cw,RL,DL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});se([Sw,ML],lg);var FL=se([vt,ug,RL,DL,js,Is],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:o,startAngle:u,endAngle:h}=t;return{cx:Ai(a,i,i/2),cy:Ai(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:h,clockWise:!1}}}),ur=(e,t)=>t,cg=(e,t,r)=>r;function Aw(e){return e==null?void 0:e.id}var cr=e=>{var t=vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},du=e=>e.tooltip.settings.axisId,dr=e=>{var t=cr(e),r=du(e);return Hd(e,t,r)},BL=se([dr],e=>e==null?void 0:e.dataKey);function $L(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return e.forEach(o=>{var u,h=(u=o.data)!==null&&u!==void 0?u:n;if(!(h==null||h.length===0)){var f=Aw(o);h.forEach((p,v)=>{var g=s==null||i?v:String(Jr(p,s,null)),b=Jr(p,o.dataKey,0),x;a.has(g)?x=a.get(g):x={},Object.assign(x,{[f]:b}),a.set(g,x)})}}),Array.from(a.values())}function dg(e){return e.stackId!=null&&e.dataKey!=null}var hg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function fg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){VJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VJ(e,t,r){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g_=[0,"auto"],Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},UL=(e,t)=>e.cartesianAxis.xAxis[t],Ds=(e,t)=>{var r=UL(e,t);return r??Tn},Sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:g_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Md},HL=(e,t)=>e.cartesianAxis.yAxis[t],Ls=(e,t)=>{var r=HL(e,t);return r??Sn},KJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Nw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??KJ},en=(e,t,r)=>{switch(t){case"xAxis":return Ds(e,r);case"yAxis":return Ls(e,r);case"zAxis":return Nw(e,r);case"angleAxis":return Tw(e,r);case"radiusAxis":return Sw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XJ=(e,t,r)=>{switch(t){case"xAxis":return Ds(e,r);case"yAxis":return Ls(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Hd=(e,t,r)=>{switch(t){case"xAxis":return Ds(e,r);case"yAxis":return Ls(e,r);case"angleAxis":return Tw(e,r);case"radiusAxis":return Sw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function WL(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ow=e=>e.graphicalItems.cartesianItems,QJ=se([ur,cg],WL),qL=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),zd=se([Ow,en,QJ],qL,{memoizeOptions:{resultEqualityCheck:fg}}),VL=se([zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(dg)),GL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),JJ=se([zd],GL),YL=e=>e.map(t=>t.data).filter(Boolean).flat(1),ZJ=se([zd],YL,{memoizeOptions:{resultEqualityCheck:fg}}),KL=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Pw=se([ZJ,bw],KL),XL=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Jr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Jr(i,n)}))):e.map(n=>({value:n})),pg=se([Pw,en,zd],XL);function QL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function op(e){if(Xi(e)||e instanceof Date){var t=Number(e);if(Ur(t))return t}}function XN(e){if(Array.isArray(e)){var t=[op(e[0]),op(e[1])];return Co(t)?t:void 0}var r=op(e);if(r!=null)return[r,r]}function hu(e){return e.map(op).filter(mK)}function eZ(e,t,r){return!r||typeof t!="number"||ni(t)?[]:r.length?hu(r.flatMap(n=>{var i=Jr(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ur(s)||!Ur(a)))return[t-s,t+a]})):[]}var tZ=se([VL,bw,dr],$L),JL=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,u=o.map(Aw);return[a,{stackedData:qG(e,u,r),graphicalItems:o}]}))},v_=se([tZ,VL,og],JL),ZL=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var a=XG(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},rZ=se([en],e=>e.allowDataOverflow),jw=e=>{var t;if(e==null||!("domain"in e))return g_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=hu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:g_},e6=se([en],jw),t6=se([e6,rZ],gL),nZ=se([v_,ja,ur,t6],ZL,{memoizeOptions:{resultEqualityCheck:hg}}),Iw=e=>e.errorBars,iZ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>QL(r,n)),dm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},r6=(e,t,r,n,i)=>{var s,a;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var h,f,p=(h=n[u.id])===null||h===void 0?void 0:h.filter(w=>QL(i,w)),v=Jr(o,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),g=eZ(o,v,p);if(g.length>=2){var b=Math.min(...g),x=Math.max(...g);(s==null||b<s)&&(s=b),(a==null||x>a)&&(a=x)}var _=XN(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var u=XN(Jr(o,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Ur(s)&&Ur(a))return[s,a]},sZ=se([Pw,en,JJ,Iw,ur],r6,{memoizeOptions:{resultEqualityCheck:hg}});function aZ(e){var{value:t}=e;if(Xi(t)||t instanceof Date)return t}var oZ=(e,t,r)=>{var n=e.map(aZ).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&SR(n))?DD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},n6=e=>e.referenceElements.dots,fu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),lZ=se([n6,ur,cg],fu),i6=e=>e.referenceElements.areas,uZ=se([i6,ur,cg],fu),s6=e=>e.referenceElements.lines,cZ=se([s6,ur,cg],fu),a6=(e,t)=>{var r=hu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},dZ=se(lZ,ur,a6),o6=(e,t)=>{var r=hu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hZ=se([uZ,ur],o6),l6=(e,t)=>{var r=hu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fZ=se(cZ,ur,l6),pZ=se(dZ,fZ,hZ,(e,t,r)=>dm(e,r,t)),u6=(e,t,r,n,i,s,a,o)=>{if(r!=null)return r;var u=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",h=u?dm(n,s,i):dm(s,i);return CJ(t,h,e.allowDataOverflow)},mZ=se([en,e6,t6,nZ,sZ,pZ,vt,ur],u6,{memoizeOptions:{resultEqualityCheck:hg}}),gZ=[0,1],c6=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:u}=e,h=jo(t,s);return h&&o==null?DD(0,r.length):u==="category"?oZ(n,e,h):i==="expand"?gZ:a}},Rw=se([en,vt,Pw,pg,og,ur,mZ],c6),d6=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Rd(s));return o in $c?o:"point"}}},Wd=se([en,vt,zL,ww,ur],d6);function vZ(e){if(e!=null){if(e in $c)return $c[e]();var t="scale".concat(Rd(e));if(t in $c)return $c[t]()}}function Dw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=vZ(t);if(i!=null){var s=i.domain(r).range(n);return $G(s),s}}}var h6=(e,t,r)=>{var n=jw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Co(e))return MJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Co(e))return FJ(e,t.tickCount,t.allowDecimals)}},Lw=se([Rw,Hd,Wd],h6),f6=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Co(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},yZ=se([en,Rw,Lw,ur],f6),bZ=se(pg,en,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(hu(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),p6=se(bZ,vt,jL,_r,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Ur(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Ai(r,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),_Z=(e,t)=>{var r=Ds(e,t);return r==null||typeof r.padding!="string"?0:p6(e,"xAxis",t,r.padding)},xZ=(e,t)=>{var r=Ls(e,t);return r==null||typeof r.padding!="string"?0:p6(e,"yAxis",t,r.padding)},wZ=se(Ds,_Z,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),EZ=se(Ls,xZ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),kZ=se([_r,wZ,Qm,Xm,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),TZ=se([_r,vt,EZ,Qm,Xm,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),qd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return kZ(e,r,n);case"yAxis":return TZ(e,r,n);case"zAxis":return(i=Nw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return LL(e);case"radiusAxis":return ML(e,r);default:return}},m6=se([en,qd],lg),pu=se([en,Wd,yZ,m6],Dw);se([zd,Iw,ur],iZ);function g6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mg=(e,t)=>t,gg=(e,t,r)=>r,SZ=se(Ym,mg,gg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(g6)),CZ=se(Km,mg,gg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(g6)),v6=(e,t)=>({width:e.width,height:t.height}),AZ=(e,t)=>{var r=typeof t.width=="number"?t.width:Md;return{width:r,height:e.height}},y6=se(_r,Ds,v6),NZ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},OZ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},PZ=se(Is,_r,SZ,mg,gg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var u=v6(t,o);a==null&&(a=NZ(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(h)*u.height,a+=(h?-1:1)*u.height}),s}),jZ=se(js,_r,CZ,mg,gg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var u=AZ(t,o);a==null&&(a=OZ(t,n,e));var h=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(h)*u.width,a+=(h?-1:1)*u.width}),s}),IZ=(e,t)=>{var r=Ds(e,t);if(r!=null)return PZ(e,r.orientation,r.mirror)},RZ=se([_r,Ds,IZ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),DZ=(e,t)=>{var r=Ls(e,t);if(r!=null)return jZ(e,r.orientation,r.mirror)},LZ=se([_r,Ls,DZ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),b6=se(_r,Ls,(e,t)=>{var r=typeof t.width=="number"?t.width:Md;return{width:r,height:e.height}}),QN=(e,t,r)=>{switch(t){case"xAxis":return y6(e,r).width;case"yAxis":return b6(e,r).height;default:return}},_6=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=jo(e,n),u=t.map(h=>h.value);if(a&&o&&s==="category"&&i&&SR(u))return u}},Mw=se([vt,pg,en,ur],_6),x6=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=jo(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},Fw=se([vt,pg,Hd,ur],x6),JN=se([vt,XJ,Wd,pu,Mw,Fw,qd,Lw,ur],(e,t,r,n,i,s,a,o,u)=>{if(t==null)return null;var h=jo(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:o,range:a,realScaleType:r,scale:n}}),MZ=(e,t,r,n,i,s,a,o,u)=>{if(!(t==null||n==null)){var h=jo(e,u),{type:f,ticks:p,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=f==="category"&&n.bandwidth?n.bandwidth()/g:0;b=u==="angleAxis"&&s!=null&&s.length>=2?gn(s[0]-s[1])*2*b:b;var x=p||i;if(x){var _=x.map((w,A)=>{var S=a?a.indexOf(w):w;return{index:A,coordinate:n(S)+b,value:w,offset:b}});return _.filter(w=>!ni(w.coordinate))}return h&&o?o.map((w,A)=>({coordinate:n(w)+b,value:w,index:A,offset:b})):n.ticks?n.ticks(v).map(w=>({coordinate:n(w)+b,value:w,offset:b})):n.domain().map((w,A)=>({coordinate:n(w)+b,value:a?a[w]:w,index:A,offset:b}))}},w6=se([vt,Hd,Wd,pu,Lw,qd,Mw,Fw,ur],MZ),FZ=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=jo(e,a),{tickCount:u}=t,h=0;return h=a==="angleAxis"&&(n==null?void 0:n.length)>=2?gn(n[0]-n[1])*2*h:h,o&&s?s.map((f,p)=>({coordinate:r(f)+h,value:f,index:p,offset:h})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+h,value:f,offset:h})):r.domain().map((f,p)=>({coordinate:r(f)+h,value:i?i[f]:f,index:p,offset:h}))}},ql=se([vt,Hd,pu,qd,Mw,Fw,ur],FZ),Vl=se(en,pu,(e,t)=>{if(!(e==null||t==null))return cm(cm({},e),{},{scale:t})}),BZ=se([en,Wd,Rw,m6],Dw);se((e,t,r)=>Nw(e,r),BZ,(e,t)=>{if(!(e==null||t==null))return cm(cm({},e),{},{scale:t})});var $Z=se([vt,Ym,Km],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),E6=e=>e.options.defaultTooltipEventType,k6=e=>e.options.validateTooltipEventTypes;function T6(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Bw(e,t){var r=E6(e),n=k6(e);return T6(t,r,n)}function UZ(e){return $e(t=>Bw(t,e))}var S6=(e,t)=>{var r,n=Number(t);if(!(ni(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},HZ=e=>e.tooltip.settings,ya={active:!1,index:null,dataKey:void 0,coordinate:void 0},zZ={itemInteraction:{click:ya,hover:ya},axisInteraction:{click:ya,hover:ya},keyboardInteraction:ya,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},C6=Fn({name:"tooltip",initialState:zZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Yr()},removeTooltipEntrySettings:{reducer(e,t){var r=xs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Yr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:WZ,removeTooltipEntrySettings:qZ,setTooltipSettingsState:VZ,setActiveMouseOverItemIndex:A6,mouseLeaveItem:GZ,mouseLeaveChart:N6,setActiveClickItemIndex:YZ,setMouseOverAxisIndex:O6,setMouseClickAxisIndex:KZ,setSyncInteraction:y_,setKeyboardInteraction:b_}=C6.actions,XZ=C6.reducer;function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){QZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QZ(e,t,r){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tee(e){return e.index!=null}var P6=(e,t,r,n)=>{if(t==null)return ya;var i=eee(e,t,r);if(i==null)return ya;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(tee(i)){if(s)return qf(qf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return qf(qf({},ya),{},{coordinate:i.coordinate})},$w=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ur(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},j6=(e,t,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var u=a[0],h=u==null?void 0:o(u.positions,s);if(h!=null)return h;var f=i==null?void 0:i[Number(s)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},I6=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Vd=e=>e.options.tooltipPayloadSearcher,mu=e=>e.tooltip;function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ree(e,t,r){return(t=nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function see(e,t){return e??t}var R6=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:u,dataStartIndex:h,dataEndIndex:f}=r,p=[];return e.reduce((v,g)=>{var b,{dataDefinedOnItem:x,settings:_}=g,w=see(x,o),A=Array.isArray(w)?pD(w,h,f):w,S=(b=_==null?void 0:_.dataKey)!==null&&b!==void 0?b:n,N=_==null?void 0:_.nameKey,P;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&a==="axis"?P=wq(A,n,i):P=s(A,t,u,N),Array.isArray(P))P.forEach(j=>{var D=tO(tO({},_),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});v.push(jA({tooltipEntrySettings:D,dataKey:j.dataKey,payload:j.payload,value:Jr(j.payload,j.dataKey),name:j.name}))});else{var O;v.push(jA({tooltipEntrySettings:_,dataKey:S,payload:P,value:Jr(P,S),name:(O=Jr(P,N))!==null&&O!==void 0?O:_==null?void 0:_.name}))}return v},p)}},Uw=se([dr,vt,zL,ww,cr],d6),aee=se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oee=se([cr,du],WL),Gd=se([aee,dr,oee],qL,{memoizeOptions:{resultEqualityCheck:fg}}),lee=se([Gd],e=>e.filter(dg)),uee=se([Gd],YL,{memoizeOptions:{resultEqualityCheck:fg}}),gu=se([uee,ja],KL),cee=se([lee,ja,dr],$L),Hw=se([gu,dr,Gd],XL),D6=se([dr],jw),dee=se([dr],e=>e.allowDataOverflow),L6=se([D6,dee],gL),hee=se([Gd],e=>e.filter(dg)),fee=se([cee,hee,og],JL),pee=se([fee,ja,cr,L6],ZL),mee=se([Gd],GL),gee=se([gu,dr,mee,Iw,cr],r6,{memoizeOptions:{resultEqualityCheck:hg}}),vee=se([n6,cr,du],fu),yee=se([vee,cr],a6),bee=se([i6,cr,du],fu),_ee=se([bee,cr],o6),xee=se([s6,cr,du],fu),wee=se([xee,cr],l6),Eee=se([yee,wee,_ee],dm),kee=se([dr,D6,L6,pee,gee,Eee,vt,cr],u6),M6=se([dr,vt,gu,Hw,og,cr,kee],c6),Tee=se([M6,dr,Uw],h6),See=se([dr,M6,Tee,cr],f6),F6=e=>{var t=cr(e),r=du(e),n=!1;return qd(e,t,r,n)},B6=se([dr,F6],lg),$6=se([dr,Uw,See,B6],Dw),Cee=se([vt,Hw,dr,cr],_6),Aee=se([vt,Hw,dr,cr],x6),Nee=(e,t,r,n,i,s,a,o)=>{if(t){var{type:u}=t,h=jo(e,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?gn(i[0]-i[1])*2*p:p,h&&a?a.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:s?s[v]:v,index:g,offset:p}))}}},Ms=se([vt,dr,Uw,$6,F6,Cee,Aee,cr],Nee),zw=se([E6,k6,HZ],(e,t,r)=>T6(r.shared,e,t)),U6=e=>e.tooltip.settings.trigger,Ww=e=>e.tooltip.settings.defaultIndex,vg=se([mu,zw,U6,Ww],P6),Gl=se([vg,gu],$w),H6=se([Ms,Gl],S6),z6=se([vg],e=>{if(e)return e.dataKey}),W6=se([mu,zw,U6,Ww],I6),Oee=se([js,Is,vt,_r,Ms,Ww,W6,Vd],j6),Pee=se([vg,Oee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jee=se([vg],e=>e.active),Iee=se([W6,Gl,ja,BL,H6,Vd,zw],R6);se([Iee],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mee=()=>$e(dr),Fee=()=>{var e=Mee(),t=$e(Ms),r=$e($6);return Wx(nO(nO({},e),{},{scale:r}),t)},Bee=()=>$e(ww),qw=(e,t)=>t,q6=(e,t,r)=>r,Vw=(e,t,r,n)=>n,$ee=se(Ms,e=>Hm(e,t=>t.coordinate)),Gw=se([mu,qw,q6,Vw],P6),V6=se([Gw,gu],$w),Uee=(e,t,r)=>{if(t!=null){var n=mu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},G6=se([mu,qw,q6,Vw],I6),hm=se([js,Is,vt,_r,Ms,Vw,G6,Vd],j6),Hee=se([Gw,hm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Y6=se(Ms,V6,S6),zee=se([G6,V6,ja,BL,Y6,Vd,qw],R6),Wee=se([Gw],e=>({isActive:e.active,activeIndex:e.index})),qee=(e,t,r,n,i,s,a,o)=>{if(!(!e||!t||!n||!i||!s)){var u=QG(e.chartX,e.chartY,t,r,o);if(u){var h=ZG(u,t),f=FG(h,a,s,n,i),p=JG(t,s,f,u);return{activeIndex:String(f),activeCoordinate:p}}}};function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(null,arguments)}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){Vee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vee(e,t,r){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kee(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:u,chartName:h}=e,f=t,p=r,v=n;if(!o||!f||h!=="ScatterChart"&&u!=="axis")return null;var g,b;if(h==="ScatterChart")g=f,b=lK;else if(h==="BarChart")g=uK(a,f,i,s),b=PD;else if(a==="radial"){var{cx:x,cy:_,radius:w,startAngle:A,endAngle:S}=jD(f);g={cx:x,cy:_,startAngle:A,endAngle:S,innerRadius:w,outerRadius:w},b=RD}else g={points:VK(a,f,i)},b=ZY;var N=typeof o=="object"&&"className"in o?o.className:void 0,P=Vf(Vf(Vf(Vf({stroke:"#ccc",pointerEvents:"none"},i),g),Nx(o)),{},{payload:p,payloadIndex:v,className:It("recharts-tooltip-cursor",N)});return k.isValidElement(o)?k.cloneElement(o,P):k.createElement(b,P)}function Xee(e){var t=Fee(),r=wD(),n=Gx(),i=Bee();return k.createElement(Kee,__({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var K6=k.createContext(null),Qee=()=>k.useContext(K6),mb={exports:{}},sO;function Jee(){return sO||(sO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||u,v),b=r?r+h:h;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function a(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)t.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},o.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,b=new Array(g);v<g;v++)b[v]=p[v].fn;return b},o.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(h,f,p,v,g,b){var x=r?r+h:h;if(!this._events[x])return!1;var _=this._events[x],w=arguments.length,A,S;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,v),!0;case 5:return _.fn.call(_.context,f,p,v,g),!0;case 6:return _.fn.call(_.context,f,p,v,g,b),!0}for(S=1,A=new Array(w-1);S<w;S++)A[S-1]=arguments[S];_.fn.apply(_.context,A)}else{var N=_.length,P;for(S=0;S<N;S++)switch(_[S].once&&this.removeListener(h,_[S].fn,void 0,!0),w){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,f);break;case 3:_[S].fn.call(_[S].context,f,p);break;case 4:_[S].fn.call(_[S].context,f,p,v);break;default:if(!A)for(P=1,A=new Array(w-1);P<w;P++)A[P-1]=arguments[P];_[S].fn.apply(_[S].context,A)}}return!0},o.prototype.on=function(h,f,p){return s(this,h,f,p,!1)},o.prototype.once=function(h,f,p){return s(this,h,f,p,!0)},o.prototype.removeListener=function(h,f,p,v){var g=r?r+h:h;if(!this._events[g])return this;if(!f)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===f&&(!v||b.once)&&(!p||b.context===p)&&a(this,g);else{for(var x=0,_=[],w=b.length;x<w;x++)(b[x].fn!==f||v&&!b[x].once||p&&b[x].context!==p)&&_.push(b[x]);_.length?this._events[g]=_.length===1?_[0]:_:a(this,g)}return this},o.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(mb)),mb.exports}var Zee=Jee();const ete=ai(Zee);var wd=new ete,x_="recharts.syncEvent.tooltip",aO="recharts.syncEvent.brush";function tte(e,t){if(t){var r=Number.parseInt(t,10);if(!ni(r))return e==null?void 0:e[r]}}var rte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},X6=Fn({name:"options",initialState:rte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nte=X6.reducer,{createEventEmitter:ite}=X6.actions;function ste(e){return e.tooltip.syncInteraction}var ate={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Q6=Fn({name:"chartData",initialState:ate,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:oO,setDataStartEndIndexes:ote,setComputedData:rve}=Q6.actions,lte=Q6.reducer,ute=["x","y"];function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cte(e,t,r){return(t=dte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fte(e,t){if(e==null)return{};var r,n,i=pte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J6=()=>{};function mte(){var e=$e(Ew),t=$e(kw),r=or(),n=$e(IL),i=$e(Ms),s=Gx(),a=Jm(),o=$e(u=>u.rootProps.className);k.useEffect(()=>{if(e==null)return J6;var u=(h,f,p)=>{if(t!==p&&e===h){if(n==="index"){var v;if(a&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:b,y:x}=g,_=fte(g,ute),{x:w,y:A,width:S,height:N}=f.payload.sourceViewBox,P=vl(vl({},_),{},{x:a.x+(S?(b-w)/S:0)*a.width,y:a.y+(N?(x-A)/N:0)*a.height});r(vl(vl({},f),{},{payload:vl(vl({},f.payload),{},{coordinate:P})}))}else r(f);return}if(i!=null){var O;if(typeof n=="function"){var j={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},D=n(i,j);O=i[D]}else n==="value"&&(O=i.find(Z=>String(Z.value)===f.payload.label));var{coordinate:B}=f.payload;if(O==null||f.payload.active===!1||B==null||a==null){r(y_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:F}=B,H=Math.min(R,a.x+a.width),Y=Math.min(F,a.y+a.height),V={x:s==="horizontal"?O.coordinate:H,y:s==="horizontal"?Y:O.coordinate},K=y_({active:f.payload.active,coordinate:V,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});r(K)}}};return wd.on(x_,u),()=>{wd.off(x_,u)}},[o,r,t,e,n,i,s,a])}function gte(){var e=$e(Ew),t=$e(kw),r=or();k.useEffect(()=>{if(e==null)return J6;var n=(i,s,a)=>{t!==a&&e===i&&r(ote(s))};return wd.on(aO,n),()=>{wd.off(aO,n)}},[r,t,e])}function vte(){var e=or();k.useEffect(()=>{e(ite())},[e]),mte(),gte()}function yte(e,t,r,n,i,s){var a=$e(g=>Uee(g,e,t)),o=$e(kw),u=$e(Ew),h=$e(IL),f=$e(ste),p=f==null?void 0:f.active,v=Jm();k.useEffect(()=>{if(!p&&u!=null&&o!=null){var g=y_({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v});wd.emit(x_,u,g,o)}},[p,r,a,i,n,o,u,h,s,v])}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wte(e){return e.dataKey}function Ete(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(BY,t)}var dO=[],kte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ou.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tte(e){var t=li(e,kte),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:u,offset:h,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:b,cursor:x,shared:_,trigger:w,defaultIndex:A,portal:S,axisId:N}=t,P=or(),O=typeof A=="number"?String(A):A;k.useEffect(()=>{P(VZ({shared:_,trigger:w,axisId:N,active:r,defaultIndex:O}))},[P,_,w,N,r,O]);var j=Jm(),D=SD(),B=UZ(_),{activeIndex:R,isActive:F}=$e(we=>Wee(we,B,w,O)),H=$e(we=>zee(we,B,w,O)),Y=$e(we=>Y6(we,B,w,O)),V=$e(we=>Hee(we,B,w,O)),K=H,Z=Qee(),oe=r??F,[te,ce]=AV([K,oe]),L=B==="axis"?Y:void 0;yte(B,w,V,L,R,oe);var q=S??Z;if(q==null)return null;var re=K??dO;oe||(re=dO),o&&re.length&&(re=eV(K.filter(we=>we.value!=null&&(we.hide!==!0||t.includeHidden)),f,wte));var $=re.length>0,de=k.createElement(VY,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:u,active:oe,coordinate:V,hasPayload:$,offset:h,position:p,reverseDirection:v,useTranslate3d:g,viewBox:j,wrapperStyle:b,lastBoundingBox:te,innerRef:ce,hasPortalFromProps:!!S},Ete(a,cO(cO({},t),{},{payload:re,label:L,active:oe,coordinate:V,accessibilityLayer:D})));return k.createElement(k.Fragment,null,Ij.createPortal(de,q),oe&&k.createElement(Xee,{cursor:x,tooltipEventType:B,coordinate:V,payload:K,index:R}))}var Yw=e=>null;Yw.displayName="Cell";function Ste(e,t,r){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nte{constructor(t){Ste(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ote(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Pte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pte(e,t,r){return(t=jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rte={cacheSize:2e3,enableCache:!0},Z6=Ote({},Rte),fO=new Nte(Z6.cacheSize),Dte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pO="recharts_measurement_span";function Lte(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var mO=(e,t)=>{try{var r=document.getElementById(pO);r||(r=document.createElement("span"),r.setAttribute("id",pO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Dte,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ou.isSsr)return{width:0,height:0};if(!Z6.enableCache)return mO(t,r);var n=Lte(t,r),i=fO.get(n);if(i)return i;var s=mO(t,r);return fO.set(n,s),s},gO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,e4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bte=Object.keys(e4),Cl="NaN";function $te(e,t){return e*e4[t]}class hn{static parse(t){var r,[,n,i]=(r=Fte.exec(t))!==null&&r!==void 0?r:[];return new hn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ni(t)&&(this.unit=""),r!==""&&!Mte.test(r)&&(this.num=NaN,this.unit=""),Bte.includes(r)&&(this.num=$te(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ni(this.num)}}function t4(e){if(e.includes(Cl))return Cl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=gO.exec(t))!==null&&r!==void 0?r:[],a=hn.parse(n??""),o=hn.parse(s??""),u=i==="*"?a.multiply(o):a.divide(o);if(u.isNaN())return Cl;t=t.replace(gO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,p,v]=(h=vO.exec(t))!==null&&h!==void 0?h:[],g=hn.parse(f??""),b=hn.parse(v??""),x=p==="+"?g.add(b):g.subtract(b);if(x.isNaN())return Cl;t=t.replace(vO,x.toString())}return t}var yO=/\(([^()]*)\)/;function Ute(e){for(var t=e,r;(r=yO.exec(t))!=null;){var[,n]=r;t=t.replace(yO,t4(n))}return t}function Hte(e){var t=e.replace(/\s+/g,"");return t=Ute(t),t=t4(t),t}function zte(e){try{return Hte(e)}catch{return Cl}}function gb(e){var t=zte(e.slice(5,-1));return t===Cl?"":t}var Wte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qte=["dx","dy","angle","className","breakAll"];function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(null,arguments)}function bO(e,t){if(e==null)return{};var r,n,i=Vte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r4=/[ \f\n\r\t\v\u2028\u2029]+/,n4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];br(t)||(r?i=t.toString().split(""):i=t.toString().split(r4));var s=i.map(o=>({word:o,width:Yc(o,n).width})),a=r?0:Yc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Gte=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:u}=e,h=Fe(s),f=a,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((H,Y)=>{var{word:V,width:K}=Y,Z=H[H.length-1];if(Z&&(n==null||i||Z.width+K+r<Number(n)))Z.words.push(V),Z.width+=K+r;else{var oe={words:[V],width:K};H.push(oe)}return H},[])},v=p(t),g=R=>R.reduce((F,H)=>F.width>H.width?F:H);if(!h||i)return v;var b=v.length>s||g(v).width>Number(n);if(!b)return v;for(var x="",_=R=>{var F=f.slice(0,R),H=n4({breakAll:u,style:o,children:F+x}).wordsWithComputedWidth,Y=p(H),V=Y.length>s||g(Y).width>Number(n);return[V,Y]},w=0,A=f.length-1,S=0,N;w<=A&&S<=f.length-1;){var P=Math.floor((w+A)/2),O=P-1,[j,D]=_(O),[B]=_(P);if(!j&&!B&&(w=P+1),j&&B&&(A=P-1),!j&&B){N=D;break}S++}return N||v},_O=e=>{var t=br(e)?[]:e.toString().split(r4);return[{words:t}]},Yte=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!ou.isSsr){var o,u,h=n4({breakAll:s,children:n,style:i});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;o=f,u=p}else return _O(n);return Gte({breakAll:s,children:n,maxLines:a,style:i},o,u,t,r)}return _O(n)},xO="#808080",Kw=k.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:u="end",fill:h=xO}=e,f=bO(e,Wte),p=k.useMemo(()=>Yte({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:a,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,a,f.style,f.width]),{dx:v,dy:g,angle:b,className:x,breakAll:_}=f,w=bO(f,qte);if(!Xi(r)||!Xi(n)||p.length===0)return null;var A=r+(Fe(v)?v:0),S=n+(Fe(g)?g:0),N;switch(u){case"start":N=gb("calc(".concat(s,")"));break;case"middle":N=gb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:N=gb("calc(".concat(p.length-1," * -").concat(i,")"));break}var P=[];if(a){var O=p[0].width,{width:j}=f;P.push("scale(".concat(Fe(j)?j/O:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(A,", ").concat(S,")")),P.length&&(w.transform=P.join(" ")),k.createElement("text",w_({},ri(w),{ref:t,x:A,y:S,className:It("recharts-text",x),textAnchor:o,fill:h.includes("url")?xO:h}),p.map((D,B)=>{var R=D.words.join(_?"":" ");return k.createElement("tspan",{x:A,dy:B===0?N:i,key:"".concat(R,"-").concat(B)},R)}))});Kw.displayName="Text";var Kte=["labelRef"];function Xte(e,t){if(e==null)return{};var r,n,i=Qte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){Jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jte(e,t,r){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(null,arguments)}var i4=k.createContext(null),tre=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,a=k.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return k.createElement(i4.Provider,{value:a},s)},s4=()=>{var e=k.useContext(i4),t=Jm();return e||t},rre=k.createContext(null),nre=()=>{var e=k.useContext(rre),t=$e(FL);return e||t},ire=e=>{var{value:t,formatter:r}=e,n=br(e.children)?t:e.children;return typeof r=="function"?r(n):n},Xw=e=>e!=null&&typeof e=="function",sre=(e,t)=>{var r=gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},are=(e,t,r,n,i)=>{var{offset:s,className:a}=e,{cx:o,cy:u,innerRadius:h,outerRadius:f,startAngle:p,endAngle:v,clockWise:g}=i,b=(h+f)/2,x=sre(p,v),_=x>=0?1:-1,w,A;switch(t){case"insideStart":w=p+_*s,A=g;break;case"insideEnd":w=v-_*s,A=!g;break;case"end":w=v+_*s,A=g;break;default:throw new Error("Unsupported position ".concat(t))}A=x<=0?A:!A;var S=Or(o,u,b,w),N=Or(o,u,b,w+(A?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(N.x,",").concat(N.y),O=br(e.id)?hd("recharts-radial-line-"):e.id;return k.createElement("text",gs({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",a)}),k.createElement("defs",null,k.createElement("path",{id:O,d:P})),k.createElement("textPath",{xlinkHref:"#".concat(O)},r))},ore=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:u}=e,h=(o+u)/2;if(r==="outside"){var{x:f,y:p}=Or(n,i,a+t,h);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+a)/2,{x:g,y:b}=Or(n,i,v,h);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},a4=e=>"cx"in e&&Fe(e.cx),lre=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!a4(r)&&(s=r);var{x:a,y:o,width:u,height:h}=t,f=h>=0?1:-1,p=f*n,v=f>0?"end":"start",g=f>0?"start":"end",b=u>=0?1:-1,x=b*n,_=b>0?"end":"start",w=b>0?"start":"end";if(i==="top"){var A={x:a+u/2,y:o-f*n,textAnchor:"middle",verticalAnchor:v};return Vt(Vt({},A),s?{height:Math.max(o-s.y,0),width:u}:{})}if(i==="bottom"){var S={x:a+u/2,y:o+h+p,textAnchor:"middle",verticalAnchor:g};return Vt(Vt({},S),s?{height:Math.max(s.y+s.height-(o+h),0),width:u}:{})}if(i==="left"){var N={x:a-x,y:o+h/2,textAnchor:_,verticalAnchor:"middle"};return Vt(Vt({},N),s?{width:Math.max(N.x-s.x,0),height:h}:{})}if(i==="right"){var P={x:a+u+x,y:o+h/2,textAnchor:w,verticalAnchor:"middle"};return Vt(Vt({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:h}:{})}var O=s?{width:u,height:h}:{};return i==="insideLeft"?Vt({x:a+x,y:o+h/2,textAnchor:w,verticalAnchor:"middle"},O):i==="insideRight"?Vt({x:a+u-x,y:o+h/2,textAnchor:_,verticalAnchor:"middle"},O):i==="insideTop"?Vt({x:a+u/2,y:o+p,textAnchor:"middle",verticalAnchor:g},O):i==="insideBottom"?Vt({x:a+u/2,y:o+h-p,textAnchor:"middle",verticalAnchor:v},O):i==="insideTopLeft"?Vt({x:a+x,y:o+p,textAnchor:w,verticalAnchor:g},O):i==="insideTopRight"?Vt({x:a+u-x,y:o+p,textAnchor:_,verticalAnchor:g},O):i==="insideBottomLeft"?Vt({x:a+x,y:o+h-p,textAnchor:w,verticalAnchor:v},O):i==="insideBottomRight"?Vt({x:a+u-x,y:o+h-p,textAnchor:_,verticalAnchor:v},O):i&&typeof i=="object"&&(Fe(i.x)||Ts(i.x))&&(Fe(i.y)||Ts(i.y))?Vt({x:a+Ai(i.x,u),y:o+Ai(i.y,h),textAnchor:"end",verticalAnchor:"end"},O):Vt({x:a+u/2,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ure={offset:5};function ga(e){var t=li(e,ure),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:u,labelRef:h}=t,f=nre(),p=s4(),v=n==="center"?p:f??p,g=r||v;if(!g||br(i)&&br(s)&&!k.isValidElement(a)&&typeof a!="function")return null;var b=Vt(Vt({},t),{},{viewBox:g});if(k.isValidElement(a)){var{labelRef:x}=b,_=Xte(b,Kte);return k.cloneElement(a,_)}var w;if(typeof a=="function"){if(w=k.createElement(a,b),k.isValidElement(w))return w}else w=ire(t);var A=a4(g),S=ri(t);if(A&&(n==="insideStart"||n==="insideEnd"||n==="end"))return are(t,n,w,S,g);var N=A?ore(g,t.offset,t.position):lre(t,g);return k.createElement(Kw,gs({ref:h,className:It("recharts-label",o)},S,N,{breakAll:u}),w)}ga.displayName="Label";var cre=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(ga,gs({key:"label-implicit"},n)):Xi(e)?k.createElement(ga,gs({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===ga?k.cloneElement(e,Vt({key:"label-implicit"},n)):k.createElement(ga,gs({key:"label-implicit",content:e},n)):Xw(e)?k.createElement(ga,gs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(ga,gs({},e,{key:"label-implicit"},n)):null};function dre(e){var{label:t,labelRef:r}=e,n=s4();return cre(t,n,r)||null}var vb={},yb={},EO;function hre(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yb)),yb}var bb={},kO;function fre(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(bb)),bb}var TO;function pre(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hre(),r=fre(),n=Mx();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(vb)),vb}var _b,SO;function mre(){return SO||(SO=1,_b=pre().last),_b}var gre=mre();const vre=ai(gre);var yre=["valueAccessor"],bre=["dataKey","clockWise","id","textBreakAll"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}function CO(e,t){if(e==null)return{};var r,n,i=_re(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _re(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xre=e=>Array.isArray(e.value)?vre(e.value):e.value,o4=k.createContext(void 0),wre=o4.Provider,l4=k.createContext(void 0);l4.Provider;function Ere(){return k.useContext(o4)}function kre(){return k.useContext(l4)}function lp(e){var{valueAccessor:t=xre}=e,r=CO(e,yre),{dataKey:n,clockWise:i,id:s,textBreakAll:a}=r,o=CO(r,bre),u=Ere(),h=kre(),f=u||h;return!f||!f.length?null:k.createElement(Ca,{className:"recharts-label-list"},f.map((p,v)=>{var g,b=br(n)?t(p,v):Jr(p&&p.payload,n),x=br(s)?{}:{id:"".concat(s,"-").concat(v)};return k.createElement(ga,fm({key:"label-".concat(v)},ri(p),o,x,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:v}))}))}lp.displayName="LabelList";function Tre(e){var{label:t}=e;return t?t===!0?k.createElement(lp,{key:"labelList-implicit"}):k.isValidElement(t)||Xw(t)?k.createElement(lp,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(lp,fm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Sre={radiusAxis:{},angleAxis:{}},u4=Fn({name:"polarAxis",initialState:Sre,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:nve,removeRadiusAxis:ive,addAngleAxis:sve,removeAngleAxis:ave}=u4.actions,Cre=u4.reducer,xb={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function Are(){if(AO)return bt;AO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case e:switch(x=x.type,x){case r:case i:case n:case u:case h:case v:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case p:case f:return x;case s:return x;default:return _}}case t:return _}}}return bt.ContextConsumer=s,bt.ContextProvider=a,bt.Element=e,bt.ForwardRef=o,bt.Fragment=r,bt.Lazy=p,bt.Memo=f,bt.Portal=t,bt.Profiler=i,bt.StrictMode=n,bt.Suspense=u,bt.SuspenseList=h,bt.isContextConsumer=function(x){return b(x)===s},bt.isContextProvider=function(x){return b(x)===a},bt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},bt.isForwardRef=function(x){return b(x)===o},bt.isFragment=function(x){return b(x)===r},bt.isLazy=function(x){return b(x)===p},bt.isMemo=function(x){return b(x)===f},bt.isPortal=function(x){return b(x)===t},bt.isProfiler=function(x){return b(x)===i},bt.isStrictMode=function(x){return b(x)===n},bt.isSuspense=function(x){return b(x)===u},bt.isSuspenseList=function(x){return b(x)===h},bt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===u||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===a||x.$$typeof===s||x.$$typeof===o||x.$$typeof===g||x.getModuleId!==void 0)},bt.typeOf=b,bt}var NO;function Nre(){return NO||(NO=1,xb.exports=Are()),xb.exports}var Ore=Nre(),OO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",PO=null,wb=null,c4=e=>{if(e===PO&&Array.isArray(wb))return wb;var t=[];return k.Children.forEach(e,r=>{br(r)||(Ore.isFragment(r)?t=t.concat(c4(r.props.children)):t.push(r))}),wb=t,PO=e,t};function Pre(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>OO(i)):n=[OO(t)],c4(e).forEach(i=>{var s=$l(i,"type.displayName")||$l(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var Eb={},jO;function jre(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Eb)),Eb}var kb,IO;function Ire(){return IO||(IO=1,kb=jre().isPlainObject),kb}var Rre=Ire();const Dre=ai(Rre);function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lre(e,t,r){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(null,arguments)}var LO=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},Bre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$re=e=>{var t=li(e,Bre),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=t,{animationEasing:u,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=t,v=k.useRef(null),[g,b]=k.useState(-1),x=k.useRef(i),_=k.useRef(s),w=k.useRef(a),A=k.useRef(r),S=k.useRef(n),N=Kx(e,"trapezoid-");if(k.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var V=v.current.getTotalLength();V&&b(V)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=It("recharts-trapezoid",o);if(!p)return k.createElement("g",null,k.createElement("path",pm({},ri(t),{className:P,d:LO(r,n,i,s,a)})));var O=x.current,j=_.current,D=w.current,B=A.current,R=S.current,F="0px ".concat(g===-1?1:g,"px"),H="".concat(g,"px 0px"),Y=CD(["strokeDasharray"],h,u);return k.createElement(Yx,{animationId:N,key:N,canBegin:g>0,duration:h,easing:u,isActive:p,begin:f},V=>{var K=Gr(O,i,V),Z=Gr(j,s,V),oe=Gr(D,a,V),te=Gr(B,r,V),ce=Gr(R,n,V);v.current&&(x.current=K,_.current=Z,w.current=oe,A.current=te,S.current=ce);var L=V>0?{transition:Y,strokeDasharray:H}:{strokeDasharray:F};return k.createElement("path",pm({},ri(t),{className:P,d:LO(te,ce,K,Z,oe),ref:v,style:DO(DO({},L),t.style)}))})},Ure=["option","shapeType","propTransformer","activeClassName","isActive"];function Hre(e,t){if(e==null)return{};var r,n,i=zre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wre(e,t,r){return(t=qre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gre(e,t){return mm(mm({},t),e)}function Yre(e,t){return e==="symbols"}function FO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return k.createElement(PD,r);case"trapezoid":return k.createElement($re,r);case"sector":return k.createElement(RD,r);case"symbols":if(Yre(t))return k.createElement(AR,r);break;default:return null}}function Kre(e){return k.isValidElement(e)?e.props:e}function Xre(e){var{option:t,shapeType:r,propTransformer:n=Gre,activeClassName:i="recharts-active-shape",isActive:s}=e,a=Hre(e,Ure),o;if(k.isValidElement(t))o=k.cloneElement(t,mm(mm({},a),Kre(t)));else if(typeof t=="function")o=t(a);else if(Dre(t)&&typeof t!="boolean"){var u=n(t,a);o=k.createElement(FO,{shapeType:r,elementProps:u})}else{var h=a;o=k.createElement(FO,{shapeType:r,elementProps:h})}return s?k.createElement(Ca,{className:i},o):o}var d4=(e,t)=>{var r=or();return(n,i)=>s=>{e==null||e(n,i,s),r(A6({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},h4=e=>{var t=or();return(r,n)=>i=>{e==null||e(r,n,i),t(GZ())}},f4=(e,t)=>{var r=or();return(n,i)=>s=>{e==null||e(n,i,s),r(YZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Qre(e){var{fn:t,args:r}=e,n=or(),i=Bn();return k.useLayoutEffect(()=>{if(!i){var s=t(r);return n(WZ(s)),()=>{n(qZ(s))}}},[t,r,n,i]),null}var Jre=()=>{};function Zre(e){var{legendPayload:t}=e,r=or(),n=Bn();return k.useLayoutEffect(()=>n?Jre:(r(jY(t)),()=>{r(IY(t))}),[r,n,t]),null}var Tb,ene=()=>{var[e]=k.useState(()=>hd("uid-"));return e},tne=(Tb=FF.useId)!==null&&Tb!==void 0?Tb:ene;function rne(e,t){var r=tne();return t||(e?"".concat(e,"-").concat(r):r)}var nne=k.createContext(void 0),ine=e=>{var{id:t,type:r,children:n}=e,i=rne("recharts-".concat(r),t);return k.createElement(nne.Provider,{value:i},n(i))},sne={cartesianItems:[],polarItems:[]},p4=Fn({name:"graphicalItems",initialState:sne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Yr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=xs(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Yr()},removeCartesianGraphicalItem:{reducer(e,t){var r=xs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Yr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Yr()},removePolarGraphicalItem:{reducer(e,t){var r=xs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Yr()}}}),{addCartesianGraphicalItem:ane,replaceCartesianGraphicalItem:one,removeCartesianGraphicalItem:lne,addPolarGraphicalItem:ove,removePolarGraphicalItem:lve}=p4.actions,une=p4.reducer;function cne(e){var t=or(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(ane(e)):r.current!==e&&t(one({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(lne(r.current)),r.current=null)},[t]),null}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dne(e,t,r){return(t=hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pne={xAxis:{},yAxis:{},zAxis:{}},m4=Fn({name:"cartesianAxis",initialState:pne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Yr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Yr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Yr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Yr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Yr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Yr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);e.yAxis[r]=$O($O({},e.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:mne,removeXAxis:gne,addYAxis:vne,removeYAxis:yne,addZAxis:uve,removeZAxis:cve,updateYAxisWidth:bne}=m4.actions,_ne=m4.reducer,xne=se([_r],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wne=se([xne,js,Is],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),g4=()=>$e(wne),Ene="Invariant failed";function kne(e,t){throw new Error(Ene)}var Tne=["x","y"];function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(null,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e,t){if(e==null)return{};var r,n,i=One(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function One(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pne(e,t){var{x:r,y:n}=e,i=Nne(e,Tne),s="".concat(r),a=parseInt(s,10),o="".concat(n),u=parseInt(o,10),h="".concat(t.height||i.height),f=parseInt(h,10),p="".concat(t.width||i.width),v=parseInt(p,10);return kc(kc(kc(kc(kc({},t),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function Qw(e){return k.createElement(Xre,E_({shapeType:"rectangle",propTransformer:Pne,activeClassName:"recharts-active-bar"},e))}var jne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Fe(t))return t;var s=Fe(n)||br(n);return s?t(n,i):(s||kne(),r)}},Ine={},v4=Fn({name:"errorBars",initialState:Ine,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:dve,replaceErrorBar:hve,removeErrorBar:fve}=v4.actions,Rne=v4.reducer,Dne=["children"];function Lne(e,t){if(e==null)return{};var r,n,i=Mne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Mne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bne=k.createContext(Fne);function $ne(e){var{children:t}=e,r=Lne(e,Dne);return k.createElement(Bne.Provider,{value:r},t)}function y4(e,t){var r,n,i=$e(h=>Ds(h,e)),s=$e(h=>Ls(h,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Tn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Sn.allowDataOverflow,u=a||o;return{needClip:u,needClipX:a,needClipY:o}}function Une(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=g4(),{needClipX:s,needClipY:a,needClip:o}=y4(t,r);if(!o)return null;var{x:u,y:h,width:f,height:p}=i;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?u:u-f/2,y:a?h:h-p/2,width:s?f:f*2,height:a?p:p*2}))}var Hne=["onMouseEnter","onMouseLeave","onClick"],zne=["value","background","tooltipPosition"],Wne=["id"],qne=["onMouseEnter","onClick","onMouseLeave"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gm(e,t){if(e==null)return{};var r,n,i=Kne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xne=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:vD(r,t),payload:e}]};function Qne(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:vD(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function Jne(e){var t=$e(Gl),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:u}=s,h=gm(s,Hne),f=d4(a,n),p=h4(o),v=f4(u,n);if(!i||r==null)return null;var g=Nx(i);return k.createElement(k.Fragment,null,r.map((b,x)=>{var{value:_,background:w,tooltipPosition:A}=b,S=gm(b,zne);if(!w)return null;var N=f(b,x),P=p(b,x),O=v(b,x),j=Kr(Kr(Kr(Kr(Kr({option:i,isActive:String(x)===t},S),{},{fill:"#eee"},w),g),Lx(h,b,x)),{},{onMouseEnter:N,onMouseLeave:P,onClick:O,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return k.createElement(Qw,Aa({key:"background-bar-".concat(x)},j))}))}function Zne(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return Kr(Kr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return k.createElement(wre,{value:t?i:void 0},r)}function eie(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=e,o=$e(Gl),u=$e(z6),h=r&&String(s)===o&&(u==null||a===u),f=h?r:t;return k.createElement(Qw,Aa({},n,{name:String(n.name)},i,{isActive:h,option:f,index:s,dataKey:a}))}function tie(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return k.createElement(Qw,Aa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function rie(e){var{data:t,props:r}=e,n=ks(r),{id:i}=n,s=gm(n,Wne),{shape:a,dataKey:o,activeBar:u}=r,{onMouseEnter:h,onClick:f,onMouseLeave:p}=r,v=gm(r,qne),g=d4(h,o),b=h4(p),x=f4(f,o);return t?k.createElement(k.Fragment,null,t.map((_,w)=>k.createElement(Ca,Aa({key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(w),className:"recharts-bar-rectangle"},Lx(v,_,w),{onMouseEnter:g(_,w),onMouseLeave:b(_,w),onClick:x(_,w)}),u?k.createElement(eie,{shape:a,activeBar:u,baseProps:s,entry:_,index:w,dataKey:o}):k.createElement(tie,{shape:a,baseProps:s,entry:_,index:w,dataKey:o})))):null}function nie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:u,onAnimationEnd:h,onAnimationStart:f}=t,p=r.current,v=Kx(t,"recharts-bar-"),[g,b]=k.useState(!1),x=!g,_=k.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),w=k.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return k.createElement(Zne,{showLabels:x,rects:n},k.createElement(Yx,{animationId:v,begin:a,duration:o,isActive:s,easing:u,onAnimationEnd:_,onAnimationStart:w,key:v},A=>{var S=A===1?n:n==null?void 0:n.map((N,P)=>{var O=p&&p[P];if(O)return Kr(Kr({},N),{},{x:Gr(O.x,N.x,A),y:Gr(O.y,N.y,A),width:Gr(O.width,N.width,A),height:Gr(O.height,N.height,A)});if(i==="horizontal"){var j=Gr(0,N.height,A);return Kr(Kr({},N),{},{y:N.y+N.height-j,height:j})}var D=Gr(0,N.width,A);return Kr(Kr({},N),{},{width:D})});return A>0&&(r.current=S??null),S==null?null:k.createElement(Ca,null,k.createElement(rie,{props:t,data:S}))}),k.createElement(Tre,{label:t.label}),t.children)}function iie(e){var t=k.useRef(null);return k.createElement(nie,{previousRectanglesRef:t,props:e})}var b4=0,sie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Jr(e,t)}};class aie extends k.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:u,id:h}=this.props;if(t||r==null)return null;var f=It("recharts-bar",i),p=h;return k.createElement(Ca,{className:f,id:h},o&&k.createElement("defs",null,k.createElement(Une,{clipPathId:p,xAxisId:s,yAxisId:a})),k.createElement(Ca,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},k.createElement(Jne,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),k.createElement(iie,this.props)))}}var oie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ou.isSsr,legendType:"rect",minPointSize:b4,xAxisId:0,yAxisId:0};function lie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:u,animationEasing:h,isAnimationActive:f}=e,{needClip:p}=y4(t,r),v=Gx(),g=Bn(),b=Pre(e.children,Yw),x=$e(A=>Lie(A,t,r,g,e.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var _,w=x==null?void 0:x[0];return w==null||w.height==null||w.width==null?_=0:_=v==="vertical"?w.height/2:w.width/2,k.createElement($ne,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:sie,errorBarOffset:_},k.createElement(aie,Aa({},e,{layout:v,needClip:p,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:u,animationEasing:h,isAnimationActive:f})))}function uie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:u,yAxisTicks:h,stackedData:f,displayedData:p,offset:v,cells:g,parentViewBox:b}=e,x=t==="horizontal"?o:a,_=f?x.scale.domain():null,w=GG({numericAxis:x});return p.map((A,S)=>{var N,P,O,j,D,B;f?N=UG(f[S],_):(N=Jr(A,r),Array.isArray(N)||(N=[w,N]));var R=jne(n,b4)(N[1],S);if(t==="horizontal"){var F,[H,Y]=[o.scale(N[0]),o.scale(N[1])];P=NA({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:A,index:S}),O=(F=Y??H)!==null&&F!==void 0?F:void 0,j=i.size;var V=H-Y;if(D=ni(V)?0:V,B={x:P,y:v.top,width:j,height:v.height},Math.abs(R)>0&&Math.abs(D)<Math.abs(R)){var K=gn(D||R)*(Math.abs(R)-Math.abs(D));O-=K,D+=K}}else{var[Z,oe]=[a.scale(N[0]),a.scale(N[1])];if(P=Z,O=NA({axis:o,ticks:h,bandSize:s,offset:i.offset,entry:A,index:S}),j=oe-Z,D=i.size,B={x:v.left,y:O,width:v.width,height:D},Math.abs(R)>0&&Math.abs(j)<Math.abs(R)){var te=gn(j||R)*(Math.abs(R)-Math.abs(j));j+=te}}if(P==null||O==null||j==null||D==null)return null;var ce=Kr(Kr({},A),{},{x:P,y:O,width:j,height:D,value:f?N:N[1],payload:A,background:B,tooltipPosition:{x:P+j/2,y:O+D/2},parentViewBox:b},g&&g[S]&&g[S].props);return ce}).filter(Boolean)}function cie(e){var t=li(e,oie),r=Bn();return k.createElement(ine,{id:t.id,type:"bar"},n=>k.createElement(k.Fragment,null,k.createElement(Zre,{legendPayload:Xne(t)}),k.createElement(Qre,{fn:Qne,args:t}),k.createElement(cne,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:VG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),k.createElement(lie,Aa({},t,{id:n}))))}var _4=k.memo(cie);_4.displayName="Bar";function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function die(e,t,r){return(t=hie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hie(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pie=(e,t)=>t,mie=(e,t,r)=>r,gie=(e,t,r,n)=>n,vie=(e,t,r,n,i)=>i,Yd=se([Ow,vie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),yie=se([Yd],e=>e==null?void 0:e.maxBarSize),bie=(e,t,r,n,i,s)=>s,WO=(e,t,r)=>{var n=r??e;if(!br(n))return Ai(n,t,0)},_ie=se([vt,Ow,pie,mie,gie],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),xie=(e,t,r,n)=>{var i=vt(e);return i==="horizontal"?v_(e,"yAxis",r,n):v_(e,"xAxis",t,n)},wie=(e,t,r)=>{var n=vt(e);return n==="horizontal"?QN(e,"xAxis",t):QN(e,"yAxis",r)},Eie=(e,t,r)=>{var n={},i=e.filter(dg),s=e.filter(h=>h.stackId==null),a=i.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),n),o=Object.entries(a).map(h=>{var[f,p]=h,v=p.map(b=>b.dataKey),g=WO(t,r,p[0].barSize);return{stackId:f,dataKeys:v,barSize:g}}),u=s.map(h=>{var f=[h.dataKey].filter(v=>v!=null),p=WO(t,r,h.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...o,...u]},kie=se([_ie,$J,wie],Eie),Tie=(e,t,r,n,i)=>{var s,a,o=Yd(e,t,r,n,i);if(o!=null){var u=vt(e),h=PL(e),{maxBarSize:f}=o,p=br(f)?h:f,v,g;return u==="horizontal"?(v=Vl(e,"xAxis",t,n),g=ql(e,"xAxis",t,n)):(v=Vl(e,"yAxis",r,n),g=ql(e,"yAxis",r,n)),(s=(a=Wx(v,g,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},x4=(e,t,r,n)=>{var i=vt(e),s,a;return i==="horizontal"?(s=Vl(e,"xAxis",t,n),a=ql(e,"xAxis",t,n)):(s=Vl(e,"yAxis",r,n),a=ql(e,"yAxis",r,n)),Wx(s,a)};function Sie(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Ai(e,r,0,!0),o,u=[];if(Ur(n[0].barSize)){var h=!1,f=r/s,p=n.reduce((w,A)=>w+(A.barSize||0),0);p+=(s-1)*a,p>=r&&(p-=(s-1)*a,a=0),p>=r&&f>0&&(h=!0,f*=.9,p=s*f);var v=(r-p)/2>>0,g={offset:v-a,size:0};o=n.reduce((w,A)=>{var S,N={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:g.offset+g.size+a,size:h?f:(S=A.barSize)!==null&&S!==void 0?S:0}},P=[...w,N];return g=P[P.length-1].position,P},u)}else{var b=Ai(t,r,0,!0);r-2*b-(s-1)*a<=0&&(a=0);var x=(r-2*b-(s-1)*a)/s;x>1&&(x>>=0);var _=Ur(i)?Math.min(x,i):x;o=n.reduce((w,A,S)=>[...w,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b+(x+a)*S+(x-_)/2,size:_}}],u)}return o}}var Cie=(e,t,r,n,i,s,a)=>{var o=br(a)?t:a,u=Sie(r,n,i!==s?i:s,e,o);return i!==s&&u!=null&&(u=u.map(h=>Gf(Gf({},h),{},{position:Gf(Gf({},h.position),{},{offset:h.position.offset-i/2})}))),u},Aie=se([kie,PL,BJ,jL,Tie,x4,yie],Cie),Nie=(e,t,r,n)=>Vl(e,"xAxis",t,n),Oie=(e,t,r,n)=>Vl(e,"yAxis",r,n),Pie=(e,t,r,n)=>ql(e,"xAxis",t,n),jie=(e,t,r,n)=>ql(e,"yAxis",r,n),Iie=se([Aie,Yd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Rie=(e,t)=>{var r=Aw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},Die=se([xie,Yd],Rie),Lie=se([_r,qx,Nie,Oie,Pie,jie,Iie,vt,bw,x4,Die,Yd,bie],(e,t,r,n,i,s,a,o,u,h,f,p,v)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:x}=u;if(!(p==null||a==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||s==null||h==null)){var{data:_}=p,w;if(_!=null&&_.length>0?w=_:w=g==null?void 0:g.slice(b,x+1),w!=null)return uie({layout:o,barSettings:p,pos:a,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:w,offset:e,cells:v})}}),Mie=e=>{var{chartData:t}=e,r=or(),n=Bn();return k.useEffect(()=>n?()=>{}:(r(oO(t)),()=>{r(oO(void 0))}),[t,r,n]),null},qO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},w4=Fn({name:"brush",initialState:qO,reducers:{setBrushSettings(e,t){return t.payload==null?qO:t.payload}}}),{setBrushSettings:pve}=w4.actions,Fie=w4.reducer;function Bie(e,t,r){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jw{static create(t){return new Jw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Bie(Jw,"EPS",1e-4);function Hie(e){return(e%180+180)%180}var zie=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Hie(i),a=s*Math.PI/180,o=Math.atan(n/r),u=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},Wie={dots:[],areas:[],lines:[]},E4=Fn({name:"referenceElements",initialState:Wie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mve,removeDot:gve,addArea:vve,removeArea:yve,addLine:bve,removeLine:_ve}=E4.actions,qie=E4.reducer,Vie=k.createContext(void 0),Gie=e=>{var{children:t}=e,[r]=k.useState("".concat(hd("recharts"),"-clip")),n=g4();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return k.createElement(Vie.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function Yl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function k4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Yie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zie(n,r)}function Kie(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function vm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Xie(e,t){return k4(e,t+1)}function Qie(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=t,u=0,h=1,f=a,p=function(){var b=n==null?void 0:n[u];if(b===void 0)return{v:k4(n,h)};var x=u,_,w=()=>(_===void 0&&(_=r(b,x)),_),A=b.coordinate,S=u===0||vm(e,A,w,f,o);S||(u=0,f=a,h+=1),S&&(f=A+e*(w()/2+i),u+=h)},v;h<=s.length;)if(v=p(),v)return v.v;return[]}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=ese(e,"string");return typeof t=="symbol"?t:t+""}function ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tse(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=t,{end:u}=t,h=function(v){var g=s[v],b,x=()=>(b===void 0&&(b=r(g,v)),b);if(v===a-1){var _=e*(g.coordinate+e*x()/2-u);s[v]=g=Fr(Fr({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else s[v]=g=Fr(Fr({},g),{},{tickCoord:g.coordinate});var w=vm(e,g.tickCoord,x,o,u);w&&(u=g.tickCoord-e*(x()/2+i),s[v]=Fr(Fr({},g),{},{isShow:!0}))},f=a-1;f>=0;f--)h(f);return s}function rse(e,t,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:u,end:h}=t;if(s){var f=n[o-1],p=r(f,o-1),v=e*(f.coordinate+e*p/2-h);a[o-1]=f=Fr(Fr({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate});var g=vm(e,f.tickCoord,()=>p,u,h);g&&(h=f.tickCoord-e*(p/2+i),a[o-1]=Fr(Fr({},f),{},{isShow:!0}))}for(var b=s?o-1:o,x=function(A){var S=a[A],N,P=()=>(N===void 0&&(N=r(S,A)),N);if(A===0){var O=e*(S.coordinate-e*P()/2-u);a[A]=S=Fr(Fr({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else a[A]=S=Fr(Fr({},S),{},{tickCoord:S.coordinate});var j=vm(e,S.tickCoord,P,u,h);j&&(u=S.tickCoord+e*(P()/2+i),a[A]=Fr(Fr({},S),{},{isShow:!0}))},_=0;_<b;_++)x(_);return a}function Zw(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:u,tickFormatter:h,unit:f,angle:p}=e;if(!i||!i.length||!n)return[];if(Fe(u)||ou.isSsr){var v;return(v=Xie(i,Fe(u)?u:0))!==null&&v!==void 0?v:[]}var g=[],b=o==="top"||o==="bottom"?"width":"height",x=f&&b==="width"?Yc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(S,N)=>{var P=typeof h=="function"?h(S.value,N):S.value;return b==="width"?Yie(Yc(P,{fontSize:t,letterSpacing:r}),x,p):Yc(P,{fontSize:t,letterSpacing:r})[b]},w=i.length>=2?gn(i[1].coordinate-i[0].coordinate):1,A=Kie(s,w,b);return u==="equidistantPreserveStart"?Qie(w,A,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?g=rse(w,A,_,i,a,u==="preserveStartEnd"):g=tse(w,A,_,i,a),g.filter(S=>S.isShow))}var nse=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var o=r?r.getBoundingClientRect().width:0,u=i+s,h=a+u+o+(r?n:0);return Math.round(h)}return 0},ise=["axisLine","width","height","className","hide","ticks"],sse=["viewBox"],ase=["viewBox"];function k_(e,t){if(e==null)return{};var r,n,i=ose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(null,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function dse(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var h=ir(ir(ir({},u),ks(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);h=ir(ir({},h),{},{x1:t,y1:r+f*i,x2:t+n,y2:r+f*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);h=ir(ir({},h),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return k.createElement("line",No({},h,{className:It("recharts-cartesian-axis-line",$l(o,"className"))}))}function hse(e,t,r,n,i,s,a,o,u){var h,f,p,v,g,b,x=o?-1:1,_=e.tickSize||a,w=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=f=e.coordinate,v=r+ +!o*i,p=v-x*_,b=p-x*u,g=w;break;case"left":p=v=e.coordinate,f=t+ +!o*n,h=f-x*_,g=h-x*u,b=w;break;case"right":p=v=e.coordinate,f=t+ +o*n,h=f+x*_,g=h+x*u,b=w;break;default:h=f=e.coordinate,v=r+ +o*i,p=v+x*_,b=p+x*u,g=w;break}return{line:{x1:h,y1:p,x2:f,y2:v},tick:{x:g,y:b}}}function fse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pse(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mse(e){var{option:t,tickProps:r,value:n}=e,i,s=It(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))i=k.cloneElement(t,ir(ir({},r),{},{className:s}));else if(typeof t=="function")i=t(ir(ir({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=It(a,t==null?void 0:t.className)),i=k.createElement(Kw,No({},r,{className:a}),n)}return i}function gse(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:u,orientation:h,mirror:f,x:p,y:v,width:g,height:b,tickSize:x,tickMargin:_,fontSize:w,letterSpacing:A,getTicksConfig:S,events:N}=e,P=Zw(ir(ir({},S),{},{ticks:t}),w,A),O=fse(h,f),j=pse(h,f),D=ks(S),B=Nx(r),R={};typeof n=="object"&&(R=n);var F=ir(ir({},D),{},{fill:"none"},R),H=P.map((Y,V)=>{var{line:K,tick:Z}=hse(Y,p,v,g,b,h,x,f,_),oe=ir(ir(ir(ir({textAnchor:O,verticalAnchor:j},D),{},{stroke:"none",fill:i},B),Z),{},{index:V,payload:Y,visibleTicksCount:P.length,tickFormatter:s,padding:o},u);return k.createElement(Ca,No({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},Lx(N,Y,V)),n&&k.createElement("line",No({},F,K,{className:It("recharts-cartesian-axis-tick-line",$l(n,"className"))})),r&&k.createElement(mse,{option:r,tickProps:oe,value:"".concat(typeof s=="function"?s(Y.value,V):Y.value).concat(a||"")}))});return H.length>0?k.createElement("g",{className:"recharts-cartesian-axis-ticks"},H):null}var vse=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o}=e,u=k_(e,ise),[h,f]=k.useState(""),[p,v]=k.useState(""),g=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return nse({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=k.useCallback(x=>{if(x){var _=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var w=_[0];if(w){var A=window.getComputedStyle(w),S=A.fontSize,N=A.letterSpacing;(S!==h||N!==p)&&(f(S),v(N))}}},[h,p]);return a||n!=null&&n<=0||i!=null&&i<=0?null:k.createElement(Ca,{className:It("recharts-cartesian-axis",s),ref:b},k.createElement(dse,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ks(e)}),k.createElement(gse,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:e,events:u}),k.createElement(tre,{x:e.x,y:e.y,width:e.width,height:e.height},k.createElement(dre,{label:e.label,labelRef:e.labelRef}),e.children))}),yse=k.memo(vse,(e,t)=>{var{viewBox:r}=e,n=k_(e,sse),{viewBox:i}=t,s=k_(t,ase);return Yl(r,i)&&Yl(n,s)}),tE=k.forwardRef((e,t)=>{var r=li(e,eE);return k.createElement(yse,No({},r,{ref:t}))});tE.displayName="CartesianAxis";var bse=["x1","y1","x2","y2","key"],_se=["offset"],xse=["xAxisId","yAxisId"],wse=["xAxisId","yAxisId"];function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){Ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ese(e,t,r){return(t=kse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kse(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function ym(e,t){if(e==null)return{};var r,n,i=Sse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=e;return k.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function T4(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=t,u=ym(t,bse),h=ks(u),{offset:f}=h,p=ym(h,_se);r=k.createElement("line",mo({},p,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Ase(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=ym(e,xse),u=i.map((h,f)=>{var p=Br(Br({},o),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(f),index:f});return T4(n,p)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Nse(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=ym(e,wse),u=i.map((h,f)=>{var p=Br(Br({},o),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(f),index:f});return T4(n,p)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Ose(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var h=o.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var f=h.map((p,v)=>{var g=!h[v+1],b=g?i+a-p:h[v+1]-p;if(b<=0)return null;var x=v%t.length;return k.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:b,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Pse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var f=h.map((p,v)=>{var g=!h[v+1],b=g?i+a-p:h[v+1]-p;if(b<=0)return null;var x=v%r.length;return k.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:b,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jse=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return mD(Zw(Br(Br(Br({},eE),r),{},{ticks:gD(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},Ise=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return mD(Zw(Br(Br(Br({},eE),r),{},{ticks:gD(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},Rse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function S4(e){var t=ED(),r=kD(),n=wD(),i=Br(Br({},li(e,Rse)),{},{x:Fe(e.x)?e.x:n.left,y:Fe(e.y)?e.y:n.top,width:Fe(e.width)?e.width:n.width,height:Fe(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:u,width:h,height:f,syncWithTicks:p,horizontalValues:v,verticalValues:g}=i,b=Bn(),x=$e(B=>JN(B,"xAxis",s,b)),_=$e(B=>JN(B,"yAxis",a,b));if(!Fe(h)||h<=0||!Fe(f)||f<=0||!Fe(o)||o!==+o||!Fe(u)||u!==+u)return null;var w=i.verticalCoordinatesGenerator||jse,A=i.horizontalCoordinatesGenerator||Ise,{horizontalPoints:S,verticalPoints:N}=i;if((!S||!S.length)&&typeof A=="function"){var P=v&&v.length,O=A({yAxis:_?Br(Br({},_),{},{ticks:P?v:_.ticks}):void 0,width:t,height:r,offset:n},P?!0:p);Xp(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}if((!N||!N.length)&&typeof w=="function"){var j=g&&g.length,D=w({xAxis:x?Br(Br({},x),{},{ticks:j?g:x.ticks}):void 0,width:t,height:r,offset:n},j?!0:p);Xp(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Cse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement(Ose,mo({},i,{horizontalPoints:S})),k.createElement(Pse,mo({},i,{verticalPoints:N})),k.createElement(Ase,mo({},i,{offset:n,horizontalPoints:S,xAxis:x,yAxis:_})),k.createElement(Nse,mo({},i,{offset:n,verticalPoints:N,xAxis:x,yAxis:_})))}S4.displayName="CartesianGrid";var Dse=["dangerouslySetInnerHTML","ticks"],Lse=["id"],Mse=["domain"],Fse=["domain"];function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}function bm(e,t){if(e==null)return{};var r,n,i=Bse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $se(e){var t=or();return k.useLayoutEffect(()=>(t(mne(e)),()=>{t(gne(e))}),[e,t]),null}var Use=e=>{var{xAxisId:t,className:r}=e,n=$e(qx),i=Bn(),s="xAxis",a=$e(_=>pu(_,s,t,i)),o=$e(_=>w6(_,s,t,i)),u=$e(_=>y6(_,t)),h=$e(_=>RZ(_,t)),f=$e(_=>UL(_,t));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,g=bm(e,Dse),{id:b}=f,x=bm(f,Lse);return k.createElement(tE,T_({},g,x,{scale:a,x:h.x,y:h.y,width:u.width,height:u.height,className:It("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Hse={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,height:Tn.height,hide:!1,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tickCount:Tn.tickCount,type:Tn.type,xAxisId:0},zse=e=>{var t,r,n,i,s,a=li(e,Hse);return k.createElement(k.Fragment,null,k.createElement($se,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),k.createElement(Use,a))},Wse=(e,t)=>{var{domain:r}=e,n=bm(e,Mse),{domain:i}=t,s=bm(t,Fse);return Yl(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Yl({domain:r},{domain:i}):!1},C4=k.memo(zse,Wse);C4.displayName="XAxis";var qse=["dangerouslySetInnerHTML","ticks"],Vse=["id"],Gse=["domain"],Yse=["domain"];function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(null,arguments)}function _m(e,t){if(e==null)return{};var r,n,i=Kse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xse(e){var t=or();return k.useLayoutEffect(()=>(t(vne(e)),()=>{t(yne(e))}),[e,t]),null}var Qse=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=k.useRef(null),a=k.useRef(null),o=$e(qx),u=Bn(),h=or(),f="yAxis",p=$e(P=>pu(P,f,t,u)),v=$e(P=>b6(P,t)),g=$e(P=>LZ(P,t)),b=$e(P=>w6(P,f,t,u)),x=$e(P=>HL(P,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Xw(i)||k.isValidElement(i)||x==null)){var P=s.current;if(P){var O=P.getCalculatedWidth();Math.round(v.width)!==Math.round(O)&&h(bne({id:t,width:O}))}}},[b,v,h,i,t,n,x]),v==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:_,ticks:w}=e,A=_m(e,qse),{id:S}=x,N=_m(x,Vse);return k.createElement(tE,S_({},A,N,{ref:s,labelRef:a,scale:p,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:It("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:b}))},Jse={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:Sn.allowDecimals,allowDuplicatedCategory:Sn.allowDuplicatedCategory,hide:!1,mirror:Sn.mirror,orientation:Sn.orientation,padding:Sn.padding,reversed:Sn.reversed,scale:Sn.scale,tickCount:Sn.tickCount,type:Sn.type,width:Sn.width,yAxisId:0},Zse=e=>{var t,r,n,i,s,a=li(e,Jse);return k.createElement(k.Fragment,null,k.createElement(Xse,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),k.createElement(Qse,a))},eae=(e,t)=>{var{domain:r}=e,n=_m(e,Gse),{domain:i}=t,s=_m(t,Yse);return Yl(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Yl({domain:r},{domain:i}):!1},A4=k.memo(Zse,eae);A4.displayName="YAxis";var Sb={exports:{}},Cb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function tae(){if(KO)return Cb;KO=1;var e=Jl();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return Cb.useSyncExternalStoreWithSelector=function(u,h,f,p,v){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function _(P){if(!w){if(w=!0,A=P,P=p(P),v!==void 0&&b.hasValue){var O=b.value;if(v(O,P))return S=O}return S=P}if(O=S,r(A,P))return O;var j=p(P);return v!==void 0&&v(O,j)?(A=P,O):(A=P,S=j)}var w=!1,A,S,N=f===void 0?null:f;return[function(){return _(h())},N===null?void 0:function(){return _(N())}]},[h,f,p,v]);var x=n(u,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=x},[x]),o(x),x},Cb}var XO;function rae(){return XO||(XO=1,Sb.exports=tae()),Sb.exports}rae();function nae(e){e()}function iae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var QO={notify(){},get:()=>[]};function sae(e,t){let r,n=QO,i=0,s=!1;function a(x){f();const _=n.subscribe(x);let w=!1;return()=>{w||(w=!0,_(),p())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return s}function f(){i++,r||(r=e.subscribe(u),n=iae())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=QO)}function v(){s||(s=!0,f())}function g(){s&&(s=!1,p())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:h,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return b}var aae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oae=aae(),lae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uae=lae(),cae=()=>oae||uae?k.useLayoutEffect:k.useEffect,dae=cae(),Ab=Symbol.for("react-redux-context"),Nb=typeof globalThis<"u"?globalThis:{};function hae(){if(!k.createContext)return{};const e=Nb[Ab]??(Nb[Ab]=new Map);let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var fae=hae();function pae(e){const{children:t,context:r,serverState:n,store:i}=e,s=k.useMemo(()=>{const u=sae(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),a=k.useMemo(()=>i.getState(),[i]);dae(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const o=r||fae;return k.createElement(o.Provider,{value:s},t)}var mae=pae,gae=(e,t)=>t,rE=se([gae,vt,FL,cr,B6,Ms,$ee,_r],qee),nE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},N4=ii("mouseClick"),O4=Ld();O4.startListening({actionCreator:N4,effect:(e,t)=>{var r=e.payload,n=rE(t.getState(),nE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(KZ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var C_=ii("mouseMove"),P4=Ld();P4.startListening({actionCreator:C_,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Bw(n,n.tooltip.settings.shared),s=rE(n,nE(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(O6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(N6()))}});var JO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},j4=Fn({name:"rootProps",initialState:JO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),vae=j4.reducer,{updateOptions:yae}=j4.actions,I4=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xve}=I4.actions,bae=I4.reducer,R4=ii("keyDown"),D4=ii("focus"),iE=Ld();iE.startListening({actionCreator:R4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number($w(i,gu(r))),o=Ms(r);if(s==="Enter"){var u=hm(r,"axis","hover",String(i.index));t.dispatch(b_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var h=$Z(r),f=h==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=a+p*f;if(!(o==null||v>=o.length||v<0)){var g=hm(r,"axis","hover",String(v));t.dispatch(b_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});iE.startListening({actionCreator:D4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=hm(r,"axis","hover",String(s));t.dispatch(b_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Kn=ii("externalEvent"),L4=Ld();L4.startListening({actionCreator:Kn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Pee(r),activeDataKey:z6(r),activeIndex:Gl(r),activeLabel:H6(r),activeTooltipIndex:Gl(r),isTooltipActive:jee(r)};e.payload.handler(n,e.payload.reactEvent)}}});var _ae=se([mu],e=>e.tooltipItemPayloads),xae=se([_ae,Vd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),M4=ii("touchMove"),F4=Ld();F4.startListening({actionCreator:M4,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Bw(n,n.tooltip.settings.shared);if(i==="axis"){var s=rE(n,nE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(O6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(tY),f=(a=u.getAttribute(rY))!==null&&a!==void 0?a:void 0,p=xae(t.getState(),h,f);t.dispatch(A6({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}});var wae=zR({brush:Fie,cartesianAxis:_ne,chartData:lte,errorBars:Rne,graphicalItems:une,layout:kG,legend:RY,options:nte,polarAxis:Cre,polarOptions:bae,referenceElements:qie,rootProps:vae,tooltip:XZ}),Eae=function(t){return KV({reducer:wae,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([O4.middleware,P4.middleware,iE.middleware,L4.middleware,F4.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(tD({type:"raf"}))},devTools:ou.devToolsEnabled})};function kae(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Bn(),s=k.useRef(null);if(i)return r;s.current==null&&(s.current=Eae(t));var a=Fx;return k.createElement(mae,{context:a,store:s.current},r)}function Tae(e){var{layout:t,margin:r}=e,n=or(),i=Bn();return k.useEffect(()=>{i||(n(xG(t)),n(_G(r)))},[n,i,t,r]),null}function Sae(e){var t=or();return k.useEffect(()=>{t(yae(e))},[t,e]),null}var Cae=["children"];function Aae(e,t){if(e==null)return{};var r,n,i=Nae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xm.apply(null,arguments)}var Oae={width:"100%",height:"100%",display:"block"},Pae=k.forwardRef((e,t)=>{var r=ED(),n=kD(),i=SD();if(!Ul(r)||!Ul(n))return null;var{children:s,otherAttributes:a,title:o,desc:u}=e,h,f;return typeof a.tabIndex=="number"?h=a.tabIndex:h=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0,k.createElement(lR,xm({},a,{title:o,desc:u,role:f,tabIndex:h,width:r,height:n,style:Oae,ref:t}),s)}),jae=e=>{var{children:t}=e,r=$e(Qm);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return k.createElement(lR,{width:n,height:i,x:a,y:s},t)},ZO=k.forwardRef((e,t)=>{var{children:r}=e,n=Aae(e,Cae),i=Bn();return i?k.createElement(jae,null,r):k.createElement(Pae,xm({ref:t},n),r)});function Iae(){var e=or(),[t,r]=k.useState(null),n=$e(eY);return k.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ur(s)&&s!==n&&e(EG(s))}},[t,e,n]),r}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){Dae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dae(e,t,r){return(t=Lae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(null,arguments)}var Fae=()=>(vte(),null);function wm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Bae=k.forwardRef((e,t)=>{var r,n,i=k.useRef(null),[s,a]=k.useState({containerWidth:wm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:wm((n=e.style)===null||n===void 0?void 0:n.height)}),o=k.useCallback((h,f)=>{a(p=>{var v=Math.round(h),g=Math.round(f);return p.containerWidth===v&&p.containerHeight===g?p:{containerWidth:v,containerHeight:g}})},[]),u=k.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();o(f,p);var v=b=>{var{width:x,height:_}=b[0].contentRect;o(x,_)},g=new ResizeObserver(v);g.observe(h),i.current=g}},[t,o]);return k.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[o]),k.createElement(k.Fragment,null,k.createElement(Zm,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",Oo({ref:u},e)))}),$ae=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=k.useState({containerWidth:wm(r),containerHeight:wm(n)}),a=k.useCallback((u,h)=>{s(f=>{var p=Math.round(u),v=Math.round(h);return f.containerWidth===p&&f.containerHeight===v?f:{containerWidth:p,containerHeight:v}})},[]),o=k.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:f}=u.getBoundingClientRect();a(h,f)}},[t,a]);return k.createElement(k.Fragment,null,k.createElement(Zm,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",Oo({ref:o},e)))}),Uae=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(Zm,{width:r,height:n}),k.createElement("div",Oo({ref:t},e)))}),Hae=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ts(r)||Ts(n)?k.createElement($ae,Oo({},e,{ref:t})):k.createElement(Uae,Oo({},e,{ref:t}))});function zae(e){return e===!0?Bae:Hae}var Wae=k.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:u,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:v,onTouchEnd:g,onTouchMove:b,onTouchStart:x,style:_,width:w,responsive:A,dispatchTouchEvents:S=!0}=e,N=k.useRef(null),P=or(),[O,j]=k.useState(null),[D,B]=k.useState(null),R=Iae(),F=Vx(),H=(F==null?void 0:F.width)>0?F.width:w,Y=(F==null?void 0:F.height)>0?F.height:i,V=k.useCallback(ie=>{R(ie),typeof t=="function"&&t(ie),j(ie),B(ie),ie!=null&&(N.current=ie)},[R,t,j,B]),K=k.useCallback(ie=>{P(N4(ie)),P(Kn({handler:s,reactEvent:ie}))},[P,s]),Z=k.useCallback(ie=>{P(C_(ie)),P(Kn({handler:h,reactEvent:ie}))},[P,h]),oe=k.useCallback(ie=>{P(N6()),P(Kn({handler:f,reactEvent:ie}))},[P,f]),te=k.useCallback(ie=>{P(C_(ie)),P(Kn({handler:p,reactEvent:ie}))},[P,p]),ce=k.useCallback(()=>{P(D4())},[P]),L=k.useCallback(ie=>{P(R4(ie.key))},[P]),q=k.useCallback(ie=>{P(Kn({handler:a,reactEvent:ie}))},[P,a]),re=k.useCallback(ie=>{P(Kn({handler:o,reactEvent:ie}))},[P,o]),$=k.useCallback(ie=>{P(Kn({handler:u,reactEvent:ie}))},[P,u]),de=k.useCallback(ie=>{P(Kn({handler:v,reactEvent:ie}))},[P,v]),we=k.useCallback(ie=>{P(Kn({handler:x,reactEvent:ie}))},[P,x]),_e=k.useCallback(ie=>{S&&P(M4(ie)),P(Kn({handler:b,reactEvent:ie}))},[P,S,b]),Le=k.useCallback(ie=>{P(Kn({handler:g,reactEvent:ie}))},[P,g]),qe=zae(A);return k.createElement(K6.Provider,{value:O},k.createElement(MW.Provider,{value:D},k.createElement(qe,{width:H??(_==null?void 0:_.width),height:Y??(_==null?void 0:_.height),className:It("recharts-wrapper",n),style:Rae({position:"relative",cursor:"default",width:H,height:Y},_),onClick:K,onContextMenu:q,onDoubleClick:re,onFocus:ce,onKeyDown:L,onMouseDown:$,onMouseEnter:Z,onMouseLeave:oe,onMouseMove:te,onMouseUp:de,onTouchEnd:Le,onTouchMove:_e,onTouchStart:we,ref:V},k.createElement(Fae,null),r)))}),qae=["width","height","responsive","children","className","style","compact","title","desc"];function Vae(e,t){if(e==null)return{};var r,n,i=Gae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yae=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:u,title:h,desc:f}=e,p=Vae(e,qae),v=ks(p);return u?k.createElement(k.Fragment,null,k.createElement(Zm,{width:r,height:n}),k.createElement(ZO,{otherAttributes:v,title:h,desc:f},s)):k.createElement(Wae,{className:a,style:o,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(ZO,{otherAttributes:v,title:h,desc:f,ref:t},k.createElement(Gie,null,s)))});function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A_.apply(null,arguments)}var Kae={top:5,right:5,bottom:5,left:5},Xae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Qae=k.forwardRef(function(t,r){var n,i=li(t.categoricalChartProps,Xae),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:h}=t,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(kae,{preloadedState:{options:f},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},k.createElement(Mie,{chartData:h.data}),k.createElement(Tae,{layout:i.layout,margin:i.margin}),k.createElement(Sae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),k.createElement(Yae,A_({},i,{ref:r})))}),Jae=["axis","item"],Zae=k.forwardRef((e,t)=>k.createElement(Qae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jae,tooltipPayloadSearcher:tte,categoricalChartProps:e,ref:t}));function eoe({sections:e}){const t=e.map(i=>({name:i.title.length>20?i.title.substring(0,20)+"...":i.title,fullName:i.title,rate:parseFloat(i.completion_rate)||0,completed:i.completed_by,total:i.total_users})).sort((i,s)=>i.rate-s.rate),r=i=>i>=75?"#48bb78":i>=50?"#4299e1":i>=25?"#ed8936":"#f56565",n=({active:i,payload:s})=>{if(i&&s&&s.length){const a=s[0].payload;return c.jsxs("div",{className:"custom-tooltip",children:[c.jsx("p",{className:"tooltip-title",children:a.fullName}),c.jsxs("p",{className:"tooltip-value",children:["Completion: ",a.rate.toFixed(1),"%"]}),c.jsxs("p",{className:"tooltip-detail",children:[a.completed," of ",a.total," users"]})]})}return null};return c.jsxs("div",{className:"section-stats",children:[c.jsxs("div",{className:"section-stats-header",children:[c.jsx("h2",{children:"Section Completion Rates"}),c.jsx("p",{children:"Identify sections with low completion (potential issues)"})]}),c.jsx("div",{className:"chart-container",children:c.jsx(NY,{width:"100%",height:400,children:c.jsxs(Zae,{data:t,layout:"vertical",margin:{left:120,right:20,top:20,bottom:20},children:[c.jsx(S4,{strokeDasharray:"3 3",horizontal:!1}),c.jsx(C4,{type:"number",domain:[0,100]}),c.jsx(A4,{type:"category",dataKey:"name",width:110,tick:{fontSize:12}}),c.jsx(Tte,{content:c.jsx(n,{})}),c.jsx(_4,{dataKey:"rate",radius:[0,4,4,0],children:t.map((i,s)=>c.jsx(Yw,{fill:r(i.rate)},`cell-${s}`))})]})})}),c.jsxs("div",{className:"legend",children:[c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#48bb78"}}),c.jsx("span",{children:"75%+ (Good)"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#4299e1"}}),c.jsx("span",{children:"50-75% (Fair)"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#ed8936"}}),c.jsx("span",{children:"25-50% (Low)"})]}),c.jsxs("div",{className:"legend-item",children:[c.jsx("span",{className:"legend-color",style:{background:"#f56565"}}),c.jsx("span",{children:"<25% (Critical)"})]})]})]})}function toe(){var O;const[e,t]=k.useState([]),[r,n]=k.useState([]),[i,s]=k.useState(!0),[a,o]=k.useState(!1),[u,h]=k.useState(""),[f,p]=k.useState(""),[v,g]=k.useState("$"),[b,x]=k.useState("Higher Pay"),[_,w]=k.useState(0);k.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0);const{data:j,error:D}=await Je.from("task_inspiration").select("category, subcategory").order("category").order("subcategory");if(D)throw D;const B=new Map;j.forEach(({category:Y,subcategory:V})=>{B.has(Y)||B.set(Y,new Set),V&&B.get(Y).add(V)});const R=Array.from(B.entries()).map(([Y,V])=>({category:Y,subcategories:Array.from(V).sort()}));t(R);const{data:F,error:H}=await Je.from("task_priorities").select("*").order("display_order").order("category");if(H)throw H;n(F||[])}catch(j){console.error("Error fetching data:",j)}finally{s(!1)}},S=async j=>{if(j.preventDefault(),!!u)try{o(!0);const{error:D}=await Je.from("task_priorities").insert({category:u,subcategory:f||null,is_highlighted:!0,priority_tag:v||null,tag_label:b||null,display_order:_});if(D){if(D.code==="23505"){alert("This category/subcategory combination already has a priority setting.");return}throw D}h(""),p(""),g("$"),x("Higher Pay"),w(0),await A()}catch(D){console.error("Error adding priority:",D),alert("Failed to add priority: "+D.message)}finally{o(!1)}},N=async j=>{if(confirm("Remove this priority setting?"))try{const{error:D}=await Je.from("task_priorities").delete().eq("id",j);if(D)throw D;await A()}catch(D){console.error("Error deleting priority:",D),alert("Failed to delete priority: "+D.message)}},P=((O=e.find(j=>j.category===u))==null?void 0:O.subcategories)||[];return i?c.jsx("div",{className:"task-priorities-loading",children:"Loading..."}):c.jsxs("div",{className:"task-priorities",children:[c.jsxs("div",{className:"priorities-header",children:[c.jsx("h2",{children:"Task Priorities & Highlighting"}),c.jsx("p",{children:"Highlight task categories to make them more visible to ECs. Add tags like $ to indicate higher pay opportunities."})]}),c.jsxs("div",{className:"priorities-content",children:[c.jsxs("div",{className:"add-priority-section",children:[c.jsx("h3",{children:"Add New Priority"}),c.jsxs("form",{onSubmit:S,className:"priority-form",children:[c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"category",children:"Category *"}),c.jsxs("select",{id:"category",value:u,onChange:j=>{h(j.target.value),p("")},required:!0,children:[c.jsx("option",{value:"",children:"Select category..."}),e.map(({category:j})=>c.jsx("option",{value:j,children:j},j))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"subcategory",children:"Subcategory (optional)"}),c.jsxs("select",{id:"subcategory",value:f,onChange:j=>p(j.target.value),disabled:!u,children:[c.jsx("option",{value:"",children:"All subcategories"}),P.map(j=>c.jsx("option",{value:j,children:j},j))]})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"priorityTag",children:"Tag (shown in corner)"}),c.jsxs("select",{id:"priorityTag",value:v,onChange:j=>g(j.target.value),children:[c.jsx("option",{value:"",children:"No tag"}),c.jsx("option",{value:"$",children:"$ (Standard)"}),c.jsx("option",{value:"$$",children:"$$ (Higher)"}),c.jsx("option",{value:"$$$",children:"$$$ (Highest)"}),c.jsx("option",{value:"",children:" (Diamond)"}),c.jsx("option",{value:"",children:" (Hot)"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"tagLabel",children:"Tag Label (hover text)"}),c.jsx("input",{type:"text",id:"tagLabel",value:b,onChange:j=>x(j.target.value),placeholder:"e.g., Higher Pay, Urgent"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"displayOrder",children:"Display Order"}),c.jsx("input",{type:"number",id:"displayOrder",value:_,onChange:j=>w(parseInt(j.target.value)),min:"0",placeholder:"0 = highest"})]})]}),c.jsx(We,{type:"submit",variant:"primary",loading:a,disabled:!u,children:"Add Priority"})]})]}),c.jsxs("div",{className:"priorities-list-section",children:[c.jsxs("h3",{children:["Current Priorities (",r.length,")"]}),r.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"No task priorities configured yet."})}):c.jsx("div",{className:"priorities-table",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Order"}),c.jsx("th",{children:"Category"}),c.jsx("th",{children:"Subcategory"}),c.jsx("th",{children:"Tag"}),c.jsx("th",{children:"Label"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:r.map(j=>c.jsxs("tr",{children:[c.jsx("td",{children:j.display_order}),c.jsx("td",{className:"category-cell",children:j.category}),c.jsx("td",{children:j.subcategory||c.jsx("em",{children:"All"})}),c.jsx("td",{className:"tag-cell",children:j.priority_tag&&c.jsx("span",{className:"preview-tag",title:j.tag_label,children:j.priority_tag})}),c.jsx("td",{children:j.tag_label}),c.jsx("td",{children:c.jsx(We,{variant:"danger",size:"sm",onClick:()=>N(j.id),children:"Remove"})})]},j.id))})]})})]})]})]})}function roe(){const{user:e,profile:t}=Ln(),r=ht(),[n,i]=k.useState("overview"),[s,a]=k.useState(!0),[o,u]=k.useState(null),[h,f]=k.useState([]),[p,v]=k.useState([]),g=Id(az,2200),b=(t==null?void 0:t.is_admin)||!1;k.useEffect(()=>{if(!b){r("/");return}x()},[b,r]);const x=async()=>{try{a(!0);const{data:_,error:w}=await Je.from("v_admin_user_stats").select("*").order("created_at",{ascending:!1});if(w)throw w;f(_||[]);const{data:A,error:S}=await Je.from("v_section_stats").select("*").order("display_order");if(S)throw S;v(A||[]);const N=(_==null?void 0:_.filter(R=>R.status==="active").length)||0,P=(_==null?void 0:_.filter(R=>R.status==="active"||R.status==="inactive").length)||0,O=(_==null?void 0:_.reduce((R,F)=>R+(parseFloat(F.completion_percentage)||0),0))/((_==null?void 0:_.length)||1),j=new Date,D=new Date(j.getTime()-10080*60*1e3),B=(_==null?void 0:_.filter(R=>new Date(R.created_at)>D).length)||0;u({totalUsers:(_==null?void 0:_.length)||0,activeUsers7d:N,activeUsers30d:P,avgCompletion:Math.round(O),newUsers7d:B})}catch(_){console.error("Error fetching dashboard data:",_)}finally{a(!1)}};return b?s?c.jsx("div",{className:"admin-loading",children:c.jsx(Ta,{size:"lg",message:g})}):c.jsxs("div",{className:"admin-dashboard",children:[c.jsxs("div",{className:"admin-header",children:[c.jsxs("div",{children:[c.jsx("h1",{children:"Admin Dashboard"}),c.jsx("p",{children:"Monitor EC progress and engagement"})]}),c.jsx(We,{variant:"ghost",onClick:()=>r("/"),children:" Back to Home"})]}),c.jsxs("div",{className:"admin-tabs",children:[c.jsx("button",{className:`admin-tab ${n==="overview"?"active":""}`,onClick:()=>i("overview"),children:"Overview"}),c.jsx("button",{className:`admin-tab ${n==="users"?"active":""}`,onClick:()=>i("users"),children:"User Progress"}),c.jsx("button",{className:`admin-tab ${n==="sections"?"active":""}`,onClick:()=>i("sections"),children:"Section Stats"}),c.jsx("button",{className:`admin-tab ${n==="priorities"?"active":""}`,onClick:()=>i("priorities"),children:"Task Priorities"})]}),c.jsxs("div",{className:"admin-content",children:[n==="overview"&&o&&c.jsx(CW,{stats:o}),n==="users"&&c.jsx(AW,{users:h}),n==="sections"&&c.jsx(eoe,{sections:p}),n==="priorities"&&c.jsx(toe,{})]})]}):null}function noe(e){return Mn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function ioe(e){return Mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function soe(e){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function aoe(e){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function ooe(e){return Mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}const loe=["Machine Learning","Data Science","Cyber Security","Full Stack Web","System Design","Cloud Infrastructure","Algorithms","Database Optimization","Mobile Development","Distributed Systems","Frontend Architecture","Backend Development","Reverse Engineering","Penetration Testing","NLP","Computer Vision","Embedded Systems","Blockchain","Game Development","AR/VR","Operating Systems","Compilers","Cryptography","Bioinformatics","Robotics","Quantum Computing","IoT","Edge Computing"],uoe=()=>{var Ke,pe,yt;const{user:e,profile:t,updateProfile:r,signOut:n,deleteAccount:i,updatePassword:s}=Ln(),a=ht();au();const[o,u]=k.useState({first_name:"",last_name:"",bio:"",linkedin_url:"",github_username:"",website_url:"",specialties:[]}),[h,f]=k.useState(""),[p,v]=k.useState([]),[g,b]=k.useState(!1),[x,_]=k.useState(null),[w,A]=k.useState(!1),[S,N]=k.useState(!1),[P,O]=k.useState(""),[j,D]=k.useState(!1),[B,R]=k.useState(!1),[F,H]=k.useState({newPassword:"",confirmPassword:""}),[Y,V]=k.useState(!1),[K,Z]=k.useState(null),oe=((Ke=e==null?void 0:e.app_metadata)==null?void 0:Ke.provider)==="email",[te,ce]=k.useState({onboarding_completed:!1,slack_joined:!1,payments_setup:!1,dev_env_setup:!1});k.useEffect(()=>{t&&(u({first_name:t.first_name||"",last_name:t.last_name||"",bio:t.bio||"",linkedin_url:t.linkedin_url||"",github_username:t.github_username||"",website_url:t.website_url||"",specialties:t.specialties||[]}),ce({onboarding_completed:t.onboarding_completed||!1,slack_joined:t.slack_joined||!1,payments_setup:t.payments_setup||!1,dev_env_setup:t.dev_env_setup||!1}))},[t]);const L=Te=>{u({...o,[Te.target.name]:Te.target.value})},q=Te=>{const Ze=Te.target.value;if(f(Ze),Ze.length>0){const ft=loe.filter(zt=>zt.toLowerCase().includes(Ze.toLowerCase())&&!o.specialties.includes(zt));v(ft)}else v([])},re=Te=>{Te.key==="Enter"&&h.trim()&&(Te.preventDefault(),$(h.trim()))},$=Te=>{Te&&!o.specialties.includes(Te)&&(u(Ze=>({...Ze,specialties:[...Ze.specialties,Te]})),f(""),v([]))},de=Te=>{u(Ze=>({...Ze,specialties:Ze.specialties.filter(ft=>ft!==Te)}))},we=async Te=>{Te.preventDefault(),b(!0),_(null);const{error:Ze}=await r(o);b(!1),Ze?_({type:"error",text:"Failed to update profile"}):(_({type:"success",text:"Profile updated successfully"}),setTimeout(()=>_(null),3e3))},_e=async()=>{if(P==="DELETE"){N(!0),_(null);try{const{error:Te}=await i();if(Te)throw Te;a("/",{replace:!0})}catch(Te){console.error("Error deleting account:",Te),_({type:"error",text:"Failed to delete account. Please try again or reach out to Snorkel."}),N(!1),D(!1),O("")}}},Le=()=>{D(!1),O("")},qe=async Te=>{if(Te.preventDefault(),Z(null),F.newPassword!==F.confirmPassword){Z({type:"error",text:"Passwords do not match"});return}if(F.newPassword.length<6){Z({type:"error",text:"Password must be at least 6 characters long"});return}V(!0);try{const{error:Ze}=await s(F.newPassword);if(Ze)throw Ze;Z({type:"success",text:"Password updated successfully"}),H({newPassword:"",confirmPassword:""}),setTimeout(()=>Z(null),3e3)}catch(Ze){Z({type:"error",text:Ze.message||"Failed to update password"})}finally{V(!1)}};if(!t)return c.jsx("div",{className:"loading",children:"Loading profile..."});const ie=`${o.first_name} ${o.last_name}`.trim()||((pe=t.email)==null?void 0:pe.split("@")[0]),Ee=ie.split(" ").map(Te=>Te[0]).join("").toUpperCase().slice(0,2);return c.jsxs("div",{className:"profile-page",children:[c.jsxs("div",{className:"profile-header-card",children:[c.jsx("div",{className:"profile-avatar-wrapper",children:t.github_avatar_url?c.jsx("img",{src:t.github_avatar_url,alt:"Profile",className:"profile-avatar"}):c.jsx("div",{className:"profile-avatar-placeholder",children:Ee})}),c.jsxs("div",{className:"profile-info",children:[c.jsx("h1",{children:ie}),c.jsxs("div",{className:"profile-meta",children:[c.jsxs("span",{className:"meta-item",children:[c.jsx(aoe,{})," ",t.email]}),t.github_username&&c.jsxs("span",{className:"meta-item",children:[c.jsx(noe,{})," ",t.github_username]}),o.linkedin_url&&c.jsxs("a",{href:o.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"meta-item",children:[c.jsx(ioe,{})," LinkedIn"]})]})]})]}),x&&c.jsxs("div",{className:`toast-message ${x.type==="error"?"error":"success"}`,children:[x.type==="success"&&c.jsx(soe,{style:{color:"#4CAF50"}}),x.text]}),c.jsx("div",{className:"profile-grid",children:c.jsxs("div",{className:"profile-main",children:[c.jsx("section",{className:"profile-card",children:c.jsxs("form",{onSubmit:we,children:[c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"First Name"}),c.jsx("input",{type:"text",name:"first_name",value:o.first_name,onChange:L,placeholder:"Jane"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Last Name"}),c.jsx("input",{type:"text",name:"last_name",value:o.last_name,onChange:L,placeholder:"Doe"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Bio"}),c.jsx("textarea",{name:"bio",value:o.bio,onChange:L,placeholder:"Tell us a bit about yourself...",rows:4})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"LinkedIn URL"}),c.jsx("input",{type:"url",name:"linkedin_url",value:o.linkedin_url,onChange:L,placeholder:"https://linkedin.com/in/..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"GitHub Username"}),c.jsx("input",{type:"text",name:"github_username",value:o.github_username,onChange:L,placeholder:"username",disabled:((yt=e==null?void 0:e.app_metadata)==null?void 0:yt.provider)==="github"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Portfolio / Website"}),c.jsx("input",{type:"url",name:"website_url",value:o.website_url,onChange:L,placeholder:"https://..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Areas of expertise"}),c.jsxs("div",{className:"tags-input-container",style:{position:"relative"},children:[c.jsx("div",{className:"tags-list",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"8px"},children:o.specialties.map(Te=>c.jsxs("span",{className:"tag-pill",children:[Te," ",c.jsx("button",{type:"button",onClick:()=>de(Te),className:"tag-remove",children:""})]},Te))}),c.jsx("input",{type:"text",value:h,onChange:q,onKeyDown:re,placeholder:"Type to search or add your own...",className:"tag-input-field",style:{width:"100%"}}),p.length>0&&c.jsx("div",{className:"specialties-suggestions",style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:p.map((Te,Ze)=>c.jsx("div",{onClick:()=>$(Te),style:{padding:"10px 16px",cursor:"pointer",borderBottom:Ze<p.length-1?"1px solid var(--border-color)":"none",transition:"background-color 0.2s"},onMouseEnter:ft=>ft.target.style.backgroundColor="var(--bg-secondary)",onMouseLeave:ft=>ft.target.style.backgroundColor="transparent",children:Te},Ze))})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:c.jsx(We,{type:"submit",variant:"primary",loading:g,children:"Save Changes"})})]})}),oe&&c.jsxs("section",{className:"profile-card password-section",children:[c.jsxs("div",{className:"password-header",onClick:()=>R(!B),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("h2",{style:{margin:0,border:"none",padding:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(ooe,{style:{fontSize:"1rem"}})," Change Password"]}),c.jsx("span",{style:{transform:B?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),B&&c.jsxs("div",{className:"password-content",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--border-color)"},children:[K&&c.jsx("div",{className:`password-message ${K.type}`,style:{padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",backgroundColor:K.type==="error"?"rgba(255, 68, 68, 0.1)":"rgba(76, 175, 80, 0.1)",border:`1px solid ${K.type==="error"?"rgba(255, 68, 68, 0.3)":"rgba(76, 175, 80, 0.3)"}`,color:K.type==="error"?"#ff4444":"#4CAF50"},children:K.text}),c.jsxs("form",{onSubmit:qe,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"New Password"}),c.jsx("input",{type:"password",value:F.newPassword,onChange:Te=>H({...F,newPassword:Te.target.value}),placeholder:"",required:!0,minLength:6}),c.jsx("small",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Must be at least 6 characters"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Confirm New Password"}),c.jsx("input",{type:"password",value:F.confirmPassword,onChange:Te=>H({...F,confirmPassword:Te.target.value}),placeholder:"",required:!0})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:c.jsx(We,{type:"submit",variant:"primary",loading:Y,children:"Update Password"})})]})]})]}),c.jsxs("section",{className:"profile-card danger-zone",children:[c.jsxs("div",{className:"danger-header",onClick:()=>A(!w),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("h2",{style:{margin:0,border:"none",padding:0},children:"Danger Zone"}),c.jsx("span",{style:{transform:w?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),w&&c.jsx("div",{className:"danger-actions",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255, 68, 68, 0.25)"},children:j?c.jsxs("div",{className:"delete-confirm-flow",style:{width:"100%"},children:[c.jsxs("div",{className:"danger-warning",style:{backgroundColor:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[c.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:600,color:"var(--color-error)"},children:"This action is irreversible"}),c.jsx("small",{style:{color:"var(--text-secondary)"},children:"Deleting your account will permanently remove all your data including your profile, progress, and selected tasks. This cannot be undone."})]}),c.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[c.jsxs("label",{style:{marginBottom:"0.5rem",display:"block"},children:["Type ",c.jsx("strong",{children:"DELETE"})," to confirm:"]}),c.jsx("input",{type:"text",value:P,onChange:Te=>O(Te.target.value),placeholder:"DELETE",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)"},disabled:S})]}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[c.jsx(We,{variant:"secondary",onClick:Le,disabled:S,children:"Cancel"}),c.jsx(We,{variant:"danger",onClick:_e,disabled:P!=="DELETE"||S,loading:S,children:S?"Deleting...":"Permanently Delete Account"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"danger-text",children:[c.jsx("p",{children:"Delete Account"}),c.jsx("small",{children:"Permanently remove your account and all associated data."})]}),c.jsx(We,{variant:"danger",onClick:()=>D(!0),children:"Delete Account"})]})})]})]})})]})};function coe(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[i,s]=k.useState(null),[a,o]=k.useState({}),[u,h]=k.useState({}),[f,p]=k.useState(null),[v,g]=k.useState(null),[b,x]=k.useState(!1),_=k.useRef(!1),w=k.useCallback(async()=>{if(!_.current){_.current=!0;try{n(!0);const[R,F]=await Promise.all([Je.rpc("get_tasks_preview_by_category",{tasks_per_category:15}),Je.rpc("get_category_counts")]);if(R.error)throw R.error;if(F.error)throw F.error;t(R.data||[]);const H={};(F.data||[]).forEach(Y=>{H[Y.category]={total:Y.total_count,available:Y.available_count}}),o(H),s(null)}catch(R){console.error("Error fetching task preview:",R),s(R.message)}finally{_.current=!1,n(!1)}}},[]),A=k.useCallback(async R=>{if(u[R])return u[R];try{p(R);const{data:F,error:H}=await Je.rpc("get_tasks_by_category",{target_category:R});if(H)throw H;return h(Y=>({...Y,[R]:F||[]})),F||[]}catch(F){throw console.error(`Error fetching category ${R}:`,F),F}finally{p(null)}},[u]),S=k.useCallback(async R=>{if(!R||R.trim().length===0)return g(null),null;try{x(!0);const{data:F,error:H}=await Je.rpc("search_tasks",{search_query:R.trim(),max_results:100});if(H)throw H;return g(F||[]),F||[]}catch(F){throw console.error("Error searching tasks:",F),F}finally{x(!1)}},[]),N=k.useCallback(()=>{g(null)},[]),P=k.useCallback(R=>u[R]?u[R]:e.filter(F=>F.category===R),[u,e]),O=k.useCallback(R=>e.filter(H=>H.category===R).length>=15,[e]),j=k.useCallback(R=>a[R]||{total:0,available:0},[a]),D=[...new Set(e.map(R=>R.category))].sort(),B=k.useCallback((R,F)=>{t(H=>H.map(Y=>Y.id===R?{...Y,is_selected:F}:Y)),h(H=>{const Y={};for(const[V,K]of Object.entries(H))Y[V]=K.map(Z=>Z.id===R?{...Z,is_selected:F}:Z);return Y}),v&&g(H=>H.map(Y=>Y.id===R?{...Y,is_selected:F}:Y))},[v]);return k.useEffect(()=>{w()},[w]),k.useEffect(()=>{const R=Je.channel("gallery_tasks_realtime_"+Date.now()).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks"},F=>{var H,Y;F.eventType==="INSERT"&&((H=F.new)!=null&&H.task_id)?B(F.new.task_id,!0):F.eventType==="DELETE"&&((Y=F.old)!=null&&Y.task_id)&&B(F.old.task_id,!1)}).subscribe();return()=>{Je.removeChannel(R)}},[B]),{previewTasks:e,categories:D,categoryCounts:a,searchResults:v,loading:r,error:i,loadingCategory:f,searchLoading:b,fetchPreview:w,fetchCategory:A,searchTasks:S,clearSearch:N,getTasksForCategory:P,categoryHasMore:O,getCategoryCount:j,updateTaskSelection:B}}const doe=k.forwardRef(function({onSubmit:t,onClear:r,placeholder:n="Search tasks... (press Enter)",initialValue:i="",variant:s="default"},a){const[o,u]=k.useState(!1),[h,f]=k.useState(!!i),p=k.useRef(null);k.useImperativeHandle(a,()=>({focus:()=>{var w;return(w=p.current)==null?void 0:w.focus()},getValue:()=>{var w;return((w=p.current)==null?void 0:w.value)||""},setValue:w=>{p.current&&(p.current.value=w,f(!!w))},clear:()=>{p.current&&(p.current.value="",f(!1))}}));const v=k.useMemo(()=>{var w,A;return typeof navigator>"u"?!1:(w=navigator.userAgentData)!=null&&w.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((A=navigator.platform)==null?void 0:A.toLowerCase().includes("mac"))??!1},[]);k.useEffect(()=>{const w=A=>{var S;(A.metaKey||A.ctrlKey)&&A.key==="k"&&(A.preventDefault(),(S=p.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const g=k.useCallback(w=>{var A,S;if(w.key==="Enter"){w.preventDefault();const N=((A=p.current)==null?void 0:A.value)||"";t==null||t(N)}else w.key==="Escape"&&((S=p.current)==null||S.blur())},[t]),b=k.useCallback(()=>{var w;f(!!((w=p.current)!=null&&w.value))},[]),x=k.useCallback(()=>{u(!0)},[]),_=k.useCallback(()=>{u(!1)},[]);return k.useCallback(()=>{p.current&&(p.current.value="",f(!1),p.current.focus()),r==null||r()},[r]),c.jsx("div",{className:`task-search-bar ${s} ${o?"focused":""}`,children:c.jsxs("div",{className:"search-input-wrapper",children:[c.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("path",{d:"m21 21-4.35-4.35"})]}),c.jsx("input",{ref:p,type:"text",className:"search-input",placeholder:n,defaultValue:i,onChange:b,onKeyDown:g,onFocus:x,onBlur:_,"aria-label":"Search tasks",autoComplete:"off"}),h?c.jsx("button",{className:"search-submit",onClick:()=>{var w;return t==null?void 0:t(((w=p.current)==null?void 0:w.value)||"")},type:"button","aria-label":"Submit search",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})}):c.jsxs("div",{className:"search-shortcut",children:[c.jsx("kbd",{children:v?"":"Ctrl"}),c.jsx("kbd",{children:"K"})]})]})})});function hoe({onSearch:e,onClearSearch:t,onOpenFilters:r}){const n=k.useRef(null),i=o=>{var u;o.target.closest(".search-clear")||(u=n.current)==null||u.focus()},s=o=>{e==null||e(o)},a=()=>{var o;(o=n.current)==null||o.clear(),t==null||t()};return c.jsxs("div",{className:"task-search-header",children:[c.jsxs("div",{className:"header-section search-section",onClick:i,children:[c.jsx("div",{className:"section-label",children:"Where"}),c.jsx(doe,{ref:n,onSubmit:s,onClear:a,variant:"embedded",placeholder:"Search tasks... (press Enter)"})]}),c.jsx("div",{className:"header-divider"}),c.jsx("div",{className:"header-section filter-section",children:c.jsxs("div",{className:"filter-button-container",onClick:r,children:[c.jsxs("div",{className:"filter-text-group",children:[c.jsx("div",{className:"section-label",children:"Filters"}),c.jsx("div",{className:"section-value",children:"Advanced"})]}),c.jsx("div",{className:"filter-icon-wrapper",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),c.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),c.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),c.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),c.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),c.jsx("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),c.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),c.jsx("line",{x1:"17",y1:"16",x2:"23",y2:"16"})]})})]})})]})}function foe({value:e,duration:t=300}){const[r,n]=k.useState(e),i=k.useRef(null),s=k.useRef(e);return k.useEffect(()=>{i.current&&cancelAnimationFrame(i.current);const a=s.current,o=e,u=performance.now(),h=o-a;if(h===0)return;const f=p=>{const v=p-u,g=Math.min(v/t,1),b=1-Math.pow(1-g,3),x=Math.round(a+h*b);n(x),g<1?i.current=requestAnimationFrame(f):s.current=o};return i.current=requestAnimationFrame(f),()=>{i.current&&cancelAnimationFrame(i.current)}},[e,t]),c.jsx("span",{className:"animated-count",children:r})}function poe({isOpen:e,onClose:t,tasks:r=[],filters:n,onFilterChange:i}){var A,S;const[s,a]=k.useState(""),[o,u]=k.useState({}),h=k.useMemo(()=>{const N={};return r.forEach(P=>{if(P.is_selected)return;const O=P.category||"Uncategorized",j=P.subcategory||"General";N[O]||(N[O]={count:0,subcategories:{}}),N[O].count++,N[O].subcategories[j]||(N[O].subcategories[j]=0),N[O].subcategories[j]++}),Object.keys(N).sort().reduce((P,O)=>(P[O]=N[O],P),{})},[r]),f=k.useMemo(()=>{if(!s)return h;const N=s.toLowerCase(),P={};return Object.entries(h).forEach(([O,j])=>{const D=O.toLowerCase().includes(N),B={};let R=!1;Object.entries(j.subcategories).forEach(([F,H])=>{(F.toLowerCase().includes(N)||D)&&(B[F]=H,R=!0)}),(D||R)&&(P[O]={count:j.count,subcategories:B})}),P},[h,s]),p=()=>{i({...n,priorityOnly:!n.priorityOnly})},v=N=>{const P=n.categories||[],O=P.includes(N);let j,D=[...n.subcategories||[]];if(O){j=P.filter(R=>R!==N);const B=h[N];if(B&&B.subcategories){const R=Object.keys(B.subcategories);D=D.filter(F=>!R.includes(F))}}else{j=[...P,N];const B=h[N];B&&B.subcategories&&Object.keys(B.subcategories).forEach(F=>{D.includes(F)||D.push(F)})}i({...n,categories:j,subcategories:D})},g=(N,P)=>{const O=n.subcategories||[],j=O.includes(N);let D;j?D=O.filter(H=>H!==N):D=[...O,N];let R=[...n.categories||[]];const F=h[P];if(F&&F.subcategories){const H=Object.keys(F.subcategories),Y=H.filter(V=>D.includes(V)).length;Y===H.length&&H.length>0?R.includes(P)||R.push(P):Y===0?R=R.filter(V=>V!==P):R.includes(P)||R.push(P)}i({...n,categories:R,subcategories:D})},b=N=>{u(P=>({...P,[N]:!P[N]}))},x=()=>{i({categories:[],subcategories:[],priorityOnly:!1,search:""}),a("")},_=(((A=n.categories)==null?void 0:A.length)||0)+(((S=n.subcategories)==null?void 0:S.length)||0)+(n.priorityOnly?1:0),w=k.useMemo(()=>r.filter(N=>{var P;if(N.is_selected||n.priorityOnly&&!N.is_highlighted)return!1;if(((P=n.subcategories)==null?void 0:P.length)>0){const O=N.subcategory||"General";if(!n.subcategories.includes(O))return!1}return!0}).length,[r,n]);return c.jsx(Sx,{isOpen:e,onClose:t,title:"Filter Tasks",size:"md",children:c.jsxs("div",{className:"task-filters-modal",children:[c.jsxs("div",{className:"filter-section",children:[c.jsx("h4",{children:"Priority"}),c.jsxs("div",{className:`priority-toggle-row ${n.priorityOnly?"active":""}`,onClick:p,children:[c.jsx("div",{className:"priority-info",children:c.jsxs("span",{className:"priority-label",children:["Only show Priority tasks",c.jsxs("span",{className:"tooltip-wrapper",onClick:N=>N.stopPropagation(),children:[c.jsxs("svg",{className:"help-icon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),c.jsx("path",{d:"M12 17h.01"})]}),c.jsx("span",{className:"tooltip",children:"Tasks prioritized by Snorkel with increased payout"})]})]})}),c.jsx("div",{className:"toggle-switch"})]})]}),c.jsxs("div",{className:"filter-section",style:{flex:1,minHeight:0},children:[c.jsx("h4",{children:"Categories"}),c.jsxs("div",{className:"categories-container",children:[c.jsx("div",{className:"search-container",children:c.jsx(lz,{placeholder:"Search categories...",value:s,onChange:N=>a(N.target.value),onClear:()=>a(""),className:"category-search-input"})}),c.jsx("div",{className:"category-tree",children:Object.keys(f).length===0?c.jsx("div",{className:"empty-search-state",children:c.jsx("p",{children:"No categories found"})}):Object.entries(f).map(([N,P])=>{var V;const O=o[N]||s.length>0,j=Object.keys(P.subcategories),D=j.filter(K=>{var Z;return(Z=n.subcategories)==null?void 0:Z.includes(K)}),B=j.length,R=B>0&&D.length===B,F=D.length>0&&D.length<B,H=B===0?(V=n.categories)==null?void 0:V.includes(N):R,Y=F;return c.jsxs("div",{className:"tree-node",children:[c.jsxs("div",{className:"tree-header",children:[c.jsxs("div",{className:"tree-label-group",children:[c.jsx("div",{className:`expand-icon ${O?"expanded":""}`,onClick:K=>{K.stopPropagation(),b(N)},children:B>0&&c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})}),c.jsxs("div",{className:"checkbox-label-group",onClick:()=>v(N),style:{flex:1},children:[c.jsx(Z2,{checked:H,indeterminate:Y}),c.jsx("span",{className:"node-label",children:N})]})]}),c.jsx("span",{className:"filter-count",children:P.count})]}),O&&B>0&&c.jsx("div",{className:"tree-children",children:Object.entries(P.subcategories).map(([K,Z])=>{var te;const oe=(te=n.subcategories)==null?void 0:te.includes(K);return c.jsxs("div",{className:`child-node ${oe?"active":""}`,onClick:()=>g(K,N),children:[c.jsxs("div",{className:"checkbox-label-group",children:[c.jsx(Z2,{checked:oe}),c.jsx("span",{children:K})]}),c.jsx("span",{className:"filter-count",children:Z})]},K)})})]},N)})})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx(We,{variant:"ghost",onClick:x,disabled:_===0,children:"Clear all"}),c.jsxs(We,{variant:"primary",onClick:t,children:["Show ",c.jsx(foe,{value:w})," ",w===1?"Result":"Results"]})]})]})})}function tP({task:e,isSelected:t,isMine:r,onSelect:n,onUnselect:i,onComplete:s,onUncomplete:a,isCompleted:o,showActions:u=!0,searchQuery:h=""}){const[f,p]=k.useState(!1),v=async w=>{if(w==null||w.stopPropagation(),!(f||r)){p(!0);try{await(n==null?void 0:n(e.id))}catch(A){console.error("Error selecting task:",A)}finally{p(!1)}}},g=async w=>{if(w==null||w.stopPropagation(),!f&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await(i==null?void 0:i(e.id))}catch(A){console.error("Error unselecting task:",A)}finally{p(!1)}}},b=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(s==null?void 0:s(e.id))}catch(A){console.error("Error completing task:",A)}finally{p(!1)}}},x=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(a==null?void 0:a(e.id))}catch(A){console.error("Error uncompleting task:",A)}finally{p(!1)}}},_=()=>!u||!r?null:c.jsxs("div",{className:"task-card-actions",children:[s&&!o&&c.jsx(We,{variant:"primary",size:"sm",onClick:b,loading:f,children:"Accept"}),a&&o&&c.jsx(We,{variant:"secondary",size:"sm",onClick:x,loading:f,children:"Mark Active"}),c.jsx(We,{variant:"danger",size:"sm",onClick:g,loading:f,children:"Abandon Task"})]});return c.jsx(ko,{task:e,isCompleted:o,isHighlighted:e==null?void 0:e.is_highlighted,searchQuery:h,onClick:r?void 0:v,footer:_(),className:`${t?"selected":""} ${r?"mine":""}`})}function B4({title:e,tasks:t=[],totalCount:r,totalInCategory:n=0,onTaskSelect:i,onTaskUnselect:s,onTaskComplete:a,onTaskUncomplete:o,onExplore:u,searchQuery:h,showAll:f=!1,isMine:p=!1}){const[v,g]=k.useState(!1),b=k.useRef(null),x=w=>{b.current&&b.current.scrollBy({left:w==="left"?-400:400,behavior:"smooth"})},_=t.some(w=>w.is_special||w.priority_tag);return t.length===0?n===0?null:c.jsxs("div",{className:"task-category-section",children:[c.jsx("div",{className:"section-header",children:c.jsx("div",{className:"section-title-group",children:c.jsx("div",{className:"section-title-wrapper",children:c.jsxs("h3",{children:[e,c.jsx("span",{className:"section-count section-count-empty",children:"0"})]})})})}),c.jsx("div",{className:"section-content",children:c.jsxs("div",{className:"category-empty-state",children:[c.jsx("div",{className:"empty-state-icon-wrapper",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M5.8 11.3 2 22l10.7-3.79"}),c.jsx("path",{d:"M4 3h.01"}),c.jsx("path",{d:"M22 8h.01"}),c.jsx("path",{d:"M15 2h.01"}),c.jsx("path",{d:"M22 20h.01"}),c.jsx("path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"}),c.jsx("path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17"}),c.jsx("path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.51 9 6.22V7"})]})}),c.jsxs("div",{className:"empty-state-text",children:[c.jsx("h4",{children:"All Tasks Claimed"}),c.jsxs("p",{children:["All ",c.jsx("strong",{children:n})," tasks in this category have been claimed by the community."]}),c.jsx("span",{className:"empty-state-hint",children:"Check back later as tasks may reopen if they are released."})]})]})})]}):c.jsxs("div",{className:`task-category-section ${_?"prioritized-section":""}`,children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("div",{className:"section-title-group",onClick:()=>g(!v),children:[c.jsx("button",{className:`collapse-btn ${v?"collapsed":""}`,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})}),c.jsxs("div",{className:"section-title-wrapper",children:[c.jsxs("h3",{children:[e,c.jsx("button",{className:"section-count section-count-link",onClick:w=>{w.stopPropagation(),u==null||u(e)},title:"Explore all tasks in this category",children:r??t.length})]}),_&&c.jsx(Gi,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})]}),!v&&!f&&c.jsxs("div",{className:"section-controls",children:[c.jsx(We,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:w=>{w.stopPropagation(),u(e)},children:c.jsxs("span",{className:"explore-btn-content",children:[c.jsx("span",{children:"Explore domain"}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),c.jsx("button",{className:"scroll-btn",onClick:()=>x("left"),"aria-label":"Scroll left",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsx("button",{className:"scroll-btn",onClick:()=>x("right"),"aria-label":"Scroll right",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]}),!v&&c.jsx("div",{className:"section-content",children:f?c.jsx("div",{className:"tasks-grid-row show-all",children:t.map(w=>c.jsx("div",{className:"grid-item",children:c.jsx(tP,{task:w,isSelected:w.is_selected,isMine:p,isCompleted:!!w.completed_at,onSelect:()=>i==null?void 0:i(w,t),onUnselect:()=>s==null?void 0:s(w.id),onComplete:()=>a==null?void 0:a(w.id),onUncomplete:()=>o==null?void 0:o(w.id),showActions:!0,searchQuery:h})},w.id))}):c.jsxs("div",{className:"tasks-carousel",ref:b,children:[t.map(w=>c.jsx("div",{className:"carousel-item",children:c.jsx(tP,{task:w,isSelected:w.is_selected,isMine:p,isCompleted:!!w.completed_at,onSelect:()=>i==null?void 0:i(w,t),onUnselect:()=>s==null?void 0:s(w.id),onComplete:()=>a==null?void 0:a(w.id),onUncomplete:()=>o==null?void 0:o(w.id),showActions:!0,searchQuery:h})},w.id)),r&&r>t.length&&c.jsx("div",{className:"carousel-item carousel-explore-more",children:c.jsx("button",{className:"explore-more-card",onClick:()=>u==null?void 0:u(e),children:c.jsxs("div",{className:"explore-more-content",children:[c.jsx("div",{className:"explore-icon-wrapper",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),c.jsxs("div",{className:"explore-stats",children:[c.jsxs("span",{className:"explore-more-count",children:["+",r-t.length]}),c.jsx("span",{className:"explore-more-label",children:"more tasks"})]}),c.jsxs("div",{className:"explore-more-cta",children:[c.jsx("span",{children:"View All"}),c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),c.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})})})]})})]})}function moe({category:e,tasks:t=[],onTaskSelect:r,onBack:n,searchQuery:i=""}){const s=k.useMemo(()=>{const o={};return t.forEach(u=>{const h=u.subcategory||"General";o[h]||(o[h]=[]),o[h].push(u)}),Object.entries(o).sort((u,h)=>h[1].length-u[1].length)},[t]),a=t.some(o=>o.is_special||o.priority_tag);return c.jsxs("div",{className:"category-explore-view",children:[c.jsxs("div",{className:"explore-header",children:[c.jsx(We,{variant:"ghost",size:"sm",onClick:n,className:"back-btn",children:c.jsxs("span",{className:"back-btn-content",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})}),c.jsx("span",{children:"Back to all categories"})]})}),c.jsx("div",{className:"explore-title-section",children:c.jsxs("div",{className:"explore-title-row",children:[c.jsx("h2",{className:"explore-title",children:e}),a&&c.jsx(Gi,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})})]}),c.jsx("div",{className:"tasks-grouped-layout",children:s.map(([o,u])=>c.jsx(B4,{title:o,tasks:u,onTaskSelect:r,onTaskUnselect:()=>{},onExplore:()=>{},searchQuery:i,showAll:!0},o))})]})}function goe(){var re,$;const{previewTasks:e,loading:t,error:r,searchResults:n,searchLoading:i,searchTasks:s,clearSearch:a,fetchCategory:o,loadingCategory:u,getCategoryCount:h,categoryCounts:f}=coe();au();const p=Zr(),v=k.useRef(!1),[g,b]=k.useState(null),[x,_]=k.useState([]),w=Id(rz,2200),[A,S]=k.useState(!1),[N,P]=k.useState({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""});k.useEffect(()=>{p&&e.length>0&&!v.current&&(p.capture("gallery_viewed",{total_tasks:e.length,available_tasks:e.filter(de=>!de.is_selected).length}),v.current=!0)},[p,e]);const O=k.useCallback(async de=>{P(we=>({...we,search:de||""})),de&&de.trim()?await s(de):a()},[s,a]),j=k.useCallback(()=>{P(de=>({...de,search:""})),a()},[a]),D=k.useMemo(()=>N.search&&n?n:e,[N.search,n,e]),B=k.useMemo(()=>D.filter(de=>{var we;if(de.is_selected||N.priorityOnly&&!de.is_highlighted||N.categories.length>0&&!N.categories.includes(de.category)||N.subcategories.length>0&&!N.subcategories.includes(de.subcategory))return!1;if(N.difficulties.length>0){const _e=((we=de.difficulty)==null?void 0:we.toLowerCase())||"unknown";if(!N.difficulties.includes(_e))return!1}return!0}),[D,N]);k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[N]);const R=k.useMemo(()=>{const de={};return B.forEach(_e=>{const Le=_e.category||"Uncategorized";de[Le]||(de[Le]=[]),de[Le].push(_e)}),N.search||N.categories.length>0||N.subcategories.length>0||N.difficulties.length>0||N.priorityOnly||Object.entries(f).forEach(([_e,Le])=>{Le.available===0&&Le.total>0&&!de[_e]&&(de[_e]=[])}),Object.entries(de).sort((_e,Le)=>{if(_e[1].length===0&&Le[1].length>0)return 1;if(_e[1].length>0&&Le[1].length===0)return-1;const qe=_e[1].some(Ee=>Ee.is_special||Ee.priority_tag),ie=Le[1].some(Ee=>Ee.is_special||Ee.priority_tag);return qe&&!ie?-1:!qe&&ie?1:Le[1].length-_e[1].length})},[B,N,f]),F=(de,we=[])=>{b(de),_(we)},H=()=>{b(null),_([])},Y=de=>{b(de)},[V,K]=k.useState(null),[Z,oe]=k.useState([]),te=async de=>{K(de),window.scrollTo({top:0,behavior:"smooth"});try{const we=await o(de);oe(we)}catch(we){console.error("Error loading category:",we)}},ce=()=>{K(null),oe([])},L=(((re=N.categories)==null?void 0:re.length)||0)+((($=N.difficulties)==null?void 0:$.length)||0)+(N.priorityOnly?1:0),q=N.search||L>0;return t?c.jsxs("div",{className:"tasks-view",children:[c.jsxs("div",{className:"tasks-header",children:[c.jsx("h1",{children:"Task Inspiration"}),c.jsx("p",{children:"Browse and select tasks to work on"})]}),c.jsx("div",{className:"tasks-loading",children:c.jsx(Ta,{size:"lg",message:w})})]}):r?c.jsxs("div",{className:"tasks-view",children:[c.jsxs("div",{className:"tasks-header",children:[c.jsx("h1",{children:"Task Inspiration"}),c.jsx("p",{children:"Browse and select tasks to work on"})]}),c.jsxs("div",{className:"tasks-error",children:[c.jsxs("p",{children:["Error loading tasks: ",r]}),c.jsx(We,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):c.jsxs("div",{className:"tasks-view tasks-gallery",children:[c.jsxs("div",{className:"tasks-header",children:[c.jsx("h1",{children:"Pick Your Next Challenge."}),c.jsx("p",{children:"Real problems frontier models still struggle with. Choose one and start building."})]}),c.jsxs("div",{className:"gallery-container",children:[c.jsx(hoe,{onSearch:O,onClearSearch:j,onOpenFilters:()=>S(!0)}),c.jsxs("div",{className:"gallery-content",children:[c.jsxs("div",{className:"tasks-results-header",children:[c.jsx("p",{className:"results-count",children:q&&c.jsxs(c.Fragment,{children:["Found ",B.length," tasks"]})}),q&&c.jsx(We,{variant:"ghost",size:"sm",onClick:()=>{j(),P({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},children:"Clear all filters"})]}),V?u===V?c.jsx("div",{className:"tasks-loading",children:c.jsx(Ta,{size:"lg",message:`Loading ${V}...`})}):c.jsx(moe,{category:V,tasks:Z.filter(de=>!de.is_selected),onTaskSelect:F,onBack:ce,searchQuery:N.search}):i?c.jsx("div",{className:"tasks-loading",children:c.jsx(Ta,{size:"lg",message:"Searching..."})}):B.length===0?c.jsxs("div",{className:"tasks-empty",children:[c.jsx("div",{className:"empty-icon",children:c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("path",{d:"m21 21-4.35-4.35"})]})}),c.jsx("h3",{children:"No tasks found"}),c.jsx("p",{children:"Try adjusting your search or filters to find what you're looking for."}),c.jsx(We,{variant:"secondary",onClick:()=>{j(),P({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},children:"Clear All Filters"})]}):c.jsx("div",{className:"tasks-grouped-layout",children:R.map(([de,we])=>{var Le;const _e=h(de);return c.jsx(B4,{title:de,tasks:we,totalCount:_e.available,totalInCategory:_e.total,onTaskSelect:F,onTaskUnselect:()=>{},onExplore:te,searchQuery:N.search,showAll:(Le=N.categories)==null?void 0:Le.includes(de)},de)})})]})]}),c.jsx(poe,{isOpen:A,onClose:()=>S(!1),tasks:e,filters:N,onFilterChange:P}),c.jsx(Q3,{task:g,isOpen:!!g,onClose:H,contextTasks:x,onNavigate:Y,showNavigation:x.length>1})]})}function voe({sections:e,currentSlug:t,onSearchClick:r,isOpen:n,onClose:i,onNavClick:s}){const a=()=>{s&&s(),i()},o=k.useMemo(()=>{var u,h;return typeof navigator>"u"?!1:(u=navigator.userAgentData)!=null&&u.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((h=navigator.platform)==null?void 0:h.toLowerCase().includes("mac"))??!1},[]);return c.jsxs(c.Fragment,{children:[n&&c.jsx("div",{className:"docs-sidebar-overlay",onClick:i}),c.jsxs("aside",{className:`docs-sidebar ${n?"docs-sidebar--open":""}`,children:[c.jsxs("div",{className:"docs-sidebar-header",children:[c.jsxs(nr,{to:"/portal",className:"docs-back-link",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to Portal"]}),c.jsx("h2",{className:"docs-sidebar-title",children:"Documentation"})]}),c.jsxs("button",{className:"docs-search-trigger",onClick:r,children:[c.jsxs("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("path",{d:"M21 21l-4.35-4.35"})]}),c.jsx("span",{children:"Search docs..."}),c.jsx("kbd",{children:o?"K":"Ctrl+K"})]}),c.jsx("nav",{className:"docs-nav",children:e.map(u=>c.jsxs("div",{className:"docs-nav-section",children:[c.jsx("h3",{className:"docs-nav-section-title",children:u.title}),c.jsx("ul",{className:"docs-nav-list",children:u.items.map(h=>c.jsx("li",{children:c.jsx(nr,{to:`/portal/docs/${h.slug}`,className:`docs-nav-link ${t===h.slug?"docs-nav-link--active":""}`,onClick:a,children:h.title})},h.slug))})]},u.title))})]})]})}function rP(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function $4(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const yoe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,boe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_oe={};function nP(e,t){return(_oe.jsx?boe:yoe).test(e)}const xoe=/[ \t\n\f\r]/g;function woe(e){return typeof e=="object"?e.type==="text"?iP(e.value):!1:iP(e)}function iP(e){return e.replace(xoe,"")===""}class Kd{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Kd.prototype.normal={};Kd.prototype.property={};Kd.prototype.space=void 0;function U4(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Kd(r,n,t)}function Ed(e){return e.toLowerCase()}class yn{constructor(t,r){this.attribute=r,this.property=t}}yn.prototype.attribute="";yn.prototype.booleanish=!1;yn.prototype.boolean=!1;yn.prototype.commaOrSpaceSeparated=!1;yn.prototype.commaSeparated=!1;yn.prototype.defined=!1;yn.prototype.mustUseProperty=!1;yn.prototype.number=!1;yn.prototype.overloadedBoolean=!1;yn.prototype.property="";yn.prototype.spaceSeparated=!1;yn.prototype.space=void 0;let Eoe=0;const et=Do(),Xt=Do(),N_=Do(),ye=Do(),St=Do(),Rl=Do(),kn=Do();function Do(){return 2**++Eoe}const O_=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:Xt,commaOrSpaceSeparated:kn,commaSeparated:Rl,number:ye,overloadedBoolean:N_,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),Ob=Object.keys(O_);class sE extends yn{constructor(t,r,n,i){let s=-1;if(super(t,r),sP(this,"space",i),typeof n=="number")for(;++s<Ob.length;){const a=Ob[s];sP(this,Ob[s],(n&O_[a])===O_[a])}}}sE.prototype.defined=!0;function sP(e,t,r){r&&(e[t]=r)}function vu(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new sE(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Ed(n)]=n,r[Ed(s.attribute)]=n}return new Kd(t,r,e.space)}const H4=vu({properties:{ariaActiveDescendant:null,ariaAtomic:Xt,ariaAutoComplete:null,ariaBusy:Xt,ariaChecked:Xt,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:Xt,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:Xt,ariaFlowTo:St,ariaGrabbed:Xt,ariaHasPopup:null,ariaHidden:Xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:ye,ariaLive:null,ariaModal:Xt,ariaMultiLine:Xt,ariaMultiSelectable:Xt,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:Xt,ariaReadOnly:Xt,ariaRelevant:null,ariaRequired:Xt,ariaRoleDescription:St,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:Xt,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function z4(e,t){return t in e?e[t]:t}function W4(e,t){return z4(e,t.toLowerCase())}const koe=vu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Rl,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:St,autoFocus:et,autoPlay:et,blocking:St,capture:null,charSet:null,checked:et,cite:null,className:St,cols:ye,colSpan:null,content:null,contentEditable:Xt,controls:et,controlsList:St,coords:ye|Rl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:N_,draggable:Xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:St,height:ye,hidden:N_,high:ye,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:St,itemRef:St,itemScope:et,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ye,pattern:null,ping:St,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:St,required:et,reversed:et,rows:ye,rowSpan:ye,sandbox:St,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:Xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:Xt,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:Xt,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:W4}),Toe=vu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:kn,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Rl,g2:Rl,glyphName:Rl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kn,rev:kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kn,requiredFeatures:kn,requiredFonts:kn,requiredFormats:kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kn,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:z4}),q4=vu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),V4=vu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:W4}),G4=vu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Soe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Coe=/[A-Z]/g,aP=/-[a-z]/g,Aoe=/^data[-\w.:]+$/i;function yg(e,t){const r=Ed(t);let n=t,i=yn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Aoe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(aP,Ooe);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!aP.test(s)){let a=s.replace(Coe,Noe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=sE}return new i(n,t)}function Noe(e){return"-"+e.toLowerCase()}function Ooe(e){return e.charAt(1).toUpperCase()}const Xd=U4([H4,koe,q4,V4,G4],"html"),Ia=U4([H4,Toe,q4,V4,G4],"svg");function oP(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Y4(e){return e.join(" ").trim()}var yl={},Pb,lP;function Poe(){if(lP)return Pb;lP=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,h="/",f="*",p="",v="comment",g="declaration";function b(_,w){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];w=w||{};var A=1,S=1;function N(V){var K=V.match(t);K&&(A+=K.length);var Z=V.lastIndexOf(u);S=~Z?V.length-Z:S+V.length}function P(){var V={line:A,column:S};return function(K){return K.position=new O(V),B(),K}}function O(V){this.start=V,this.end={line:A,column:S},this.source=w.source}O.prototype.content=_;function j(V){var K=new Error(w.source+":"+A+":"+S+": "+V);if(K.reason=V,K.filename=w.source,K.line=A,K.column=S,K.source=_,!w.silent)throw K}function D(V){var K=V.exec(_);if(K){var Z=K[0];return N(Z),_=_.slice(Z.length),K}}function B(){D(r)}function R(V){var K;for(V=V||[];K=F();)K!==!1&&V.push(K);return V}function F(){var V=P();if(!(h!=_.charAt(0)||f!=_.charAt(1))){for(var K=2;p!=_.charAt(K)&&(f!=_.charAt(K)||h!=_.charAt(K+1));)++K;if(K+=2,p===_.charAt(K-1))return j("End of comment missing");var Z=_.slice(2,K-2);return S+=2,N(Z),_=_.slice(K),S+=2,V({type:v,comment:Z})}}function H(){var V=P(),K=D(n);if(K){if(F(),!D(i))return j("property missing ':'");var Z=D(s),oe=V({type:g,property:x(K[0].replace(e,p)),value:Z?x(Z[0].replace(e,p)):p});return D(a),oe}}function Y(){var V=[];R(V);for(var K;K=H();)K!==!1&&(V.push(K),R(V));return V}return B(),Y()}function x(_){return _?_.replace(o,p):p}return Pb=b,Pb}var uP;function joe(){if(uP)return yl;uP=1;var e=yl&&yl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yl,"__esModule",{value:!0}),yl.default=r;const t=e(Poe());function r(n,i){let s=null;if(!n||typeof n!="string")return s;const a=(0,t.default)(n),o=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:h,value:f}=u;o?i(h,f,u):f&&(s=s||{},s[h]=f)}),s}return yl}var Tc={},cP;function Ioe(){if(cP)return Tc;cP=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(h){return!h||r.test(h)||e.test(h)},a=function(h,f){return f.toUpperCase()},o=function(h,f){return"".concat(f,"-")},u=function(h,f){return f===void 0&&(f={}),s(h)?h:(h=h.toLowerCase(),f.reactCompat?h=h.replace(i,o):h=h.replace(n,o),h.replace(t,a))};return Tc.camelCase=u,Tc}var Sc,dP;function Roe(){if(dP)return Sc;dP=1;var e=Sc&&Sc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(joe()),r=Ioe();function n(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,u){o&&u&&(a[(0,r.camelCase)(o,s)]=u)}),a}return n.default=n,Sc=n,Sc}var Doe=Roe();const Loe=ai(Doe),bg=K4("end"),Ji=K4("start");function K4(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Moe(e){const t=Ji(e),r=bg(e);if(t&&r)return{start:t,end:r}}function Kc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hP(e.position):"start"in e||"end"in e?hP(e):"line"in e||"column"in e?P_(e):""}function P_(e){return fP(e&&e.line)+":"+fP(e&&e.column)}function hP(e){return P_(e&&e.start)+"-"+P_(e&&e.end)}function fP(e){return e&&typeof e=="number"?e:1}class Hr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?s.ruleId=n:(s.source=n.slice(0,u),s.ruleId=n.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Kc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Hr.prototype.file="";Hr.prototype.name="";Hr.prototype.reason="";Hr.prototype.message="";Hr.prototype.stack="";Hr.prototype.column=void 0;Hr.prototype.line=void 0;Hr.prototype.ancestors=void 0;Hr.prototype.cause=void 0;Hr.prototype.fatal=void 0;Hr.prototype.place=void 0;Hr.prototype.ruleId=void 0;Hr.prototype.source=void 0;const aE={}.hasOwnProperty,Foe=new Map,Boe=/[A-Z]/g,$oe=new Set(["table","tbody","thead","tfoot","tr"]),Uoe=new Set(["td","th"]),X4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Hoe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=Xoe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=Koe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ia:Xd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Q4(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Q4(e,t,r){if(t.type==="element")return zoe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Woe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Voe(e,t,r);if(t.type==="mdxjsEsm")return qoe(e,t);if(t.type==="root")return Goe(e,t,r);if(t.type==="text")return Yoe(e,t)}function zoe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Ia,e.schema=i),e.ancestors.push(t);const s=Z4(e,t.tagName,!1),a=Qoe(e,t);let o=lE(e,t);return $oe.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!woe(u):!0})),J4(e,a,s,t),oE(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function Woe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}kd(e,t.position)}function qoe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);kd(e,t.position)}function Voe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Ia,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Z4(e,t.name,!0),a=Joe(e,t),o=lE(e,t);return J4(e,a,s,t),oE(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function Goe(e,t,r){const n={};return oE(n,lE(e,t)),e.create(t,e.Fragment,n,r)}function Yoe(e,t){return t.value}function J4(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function oE(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Koe(e,t,r){return n;function n(i,s,a,o){const h=Array.isArray(a.children)?r:t;return o?h(s,a,o):h(s,a)}}function Xoe(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),u=Ji(n);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Qoe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&aE.call(t.properties,i)){const s=Zoe(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Uoe.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function Joe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else kd(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else kd(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function lE(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:Foe;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const h=i.get(u)||0;a=u+"-"+h,i.set(u,h+1)}}const o=Q4(e,s,a);o!==void 0&&r.push(o)}return r}function Zoe(e,t,r){const n=yg(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?$4(r):Y4(r)),n.property==="style"){let i=typeof r=="object"?r:ele(e,String(r));return e.stylePropertyNameCase==="css"&&(i=tle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?Soe[n.property]||n.property:n.attribute,r]}}function ele(e,t){try{return Loe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Hr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=X4+"#cannot-parse-style-attribute",i}}function Z4(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=nP(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=nP(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return aE.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);kd(e)}function kd(e,t){const r=new Hr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=X4+"#cannot-handle-mdx-estrees-without-createevaluater",r}function tle(e){const t={};let r;for(r in e)aE.call(e,r)&&(t[rle(r)]=e[r]);return t}function rle(e){let t=e.replace(Boe,nle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function nle(e){return"-"+e.toLowerCase()}const jb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ile={};function uE(e,t){const r=ile,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return eM(e,n,i)}function eM(e,t,r){if(sle(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return pP(e.children,t,r)}return Array.isArray(e)?pP(e,t,r):""}function pP(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=eM(e[i],t,r);return n.join("")}function sle(e){return!!(e&&typeof e=="object")}const mP=document.createElement("i");function cE(e){const t="&"+e+";";mP.innerHTML=t;const r=mP.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Rn(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Qn(e,t){return e.length>0?(Rn(e,e.length,0,t),e):t}const gP={}.hasOwnProperty;function tM(e){const t={};let r=-1;for(;++r<e.length;)ale(t,e[r]);return t}function ale(e,t){let r;for(r in t){const i=(gP.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){gP.call(i,a)||(i[a]=[]);const o=s[a];ole(i[a],Array.isArray(o)?o:o?[o]:[])}}}function ole(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Rn(e,0,0,n)}function rM(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Si(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xr=Ra(/[A-Za-z]/),$r=Ra(/[\dA-Za-z]/),lle=Ra(/[#-'*+\--9=?A-Z^-~]/);function Em(e){return e!==null&&(e<32||e===127)}const j_=Ra(/\d/),ule=Ra(/[\dA-Fa-f]/),cle=Ra(/[!-/:-@[-`{-~]/);function ze(e){return e!==null&&e<-2}function Et(e){return e!==null&&(e<0||e===32)}function st(e){return e===-2||e===-1||e===32}const _g=Ra(new RegExp("\\p{P}|\\p{S}","u")),Po=Ra(/\s/);function Ra(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function yu(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&$r(e.charCodeAt(r+1))&&$r(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function ot(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return st(u)?(e.enter(r),o(u)):t(u)}function o(u){return st(u)&&s++<i?(e.consume(u),o):(e.exit(r),t(u))}}const dle={tokenize:hle};function hle(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ot(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ze(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const fle={tokenize:ple},vP={tokenize:mle};function ple(e){const t=this,r=[];let n=0,i,s,a;return o;function o(S){if(n<r.length){const N=r[n];return t.containerState=N[1],e.attempt(N[0].continuation,u,h)(S)}return h(S)}function u(S){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&A();const N=t.events.length;let P=N,O;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){O=t.events[P][1].end;break}w(n);let j=N;for(;j<t.events.length;)t.events[j][1].end={...O},j++;return Rn(t.events,P+1,0,t.events.slice(N)),t.events.length=j,h(S)}return o(S)}function h(S){if(n===r.length){if(!i)return v(S);if(i.currentConstruct&&i.currentConstruct.concrete)return b(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vP,f,p)(S)}function f(S){return i&&A(),w(n),v(S)}function p(S){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,b(S)}function v(S){return t.containerState={},e.attempt(vP,g,b)(S)}function g(S){return n++,r.push([t.currentConstruct,t.containerState]),v(S)}function b(S){if(S===null){i&&A(),w(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(S)}function x(S){if(S===null){_(e.exit("chunkFlow"),!0),w(0),e.consume(S);return}return ze(S)?(e.consume(S),_(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(S),x)}function _(S,N){const P=t.sliceStream(S);if(N&&P.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(P),t.parser.lazy[S.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<a&&(!i.events[O][1].end||i.events[O][1].end.offset>a))return;const j=t.events.length;let D=j,B,R;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(B){R=t.events[D][1].end;break}B=!0}for(w(n),O=j;O<t.events.length;)t.events[O][1].end={...R},O++;Rn(t.events,D+1,0,t.events.slice(j)),t.events.length=O}}function w(S){let N=r.length;for(;N-- >S;){const P=r[N];t.containerState=P[1],P[0].exit.call(t,e)}r.length=S}function A(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function mle(e,t,r){return ot(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kl(e){if(e===null||Et(e)||Po(e))return 1;if(_g(e))return 2}function xg(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const I_={name:"attention",resolveAll:gle,tokenize:vle};function gle(e,t){let r=-1,n,i,s,a,o,u,h,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const p={...e[n][1].end},v={...e[r][1].start};yP(p,-u),yP(v,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[n][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},s={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},h=[],e[n][1].end.offset-e[n][1].start.offset&&(h=Qn(h,[["enter",e[n][1],t],["exit",e[n][1],t]])),h=Qn(h,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),h=Qn(h,xg(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),h=Qn(h,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,h=Qn(h,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,Rn(e,n-1,r-n+3,h),r=n+h.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function vle(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Kl(n);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const h=e.exit("attentionSequence"),f=Kl(u),p=!f||f===2&&i||r.includes(u),v=!i||i===2&&f||r.includes(n);return h._open=!!(s===42?p:p&&(i||!v)),h._close=!!(s===42?v:v&&(f||!p)),t(u)}}function yP(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yle={name:"autolink",tokenize:ble};function ble(e,t,r){let n=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return Xr(g)?(e.consume(g),a):g===64?r(g):h(g)}function a(g){return g===43||g===45||g===46||$r(g)?(n=1,o(g)):h(g)}function o(g){return g===58?(e.consume(g),n=0,u):(g===43||g===45||g===46||$r(g))&&n++<32?(e.consume(g),o):(n=0,h(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||Em(g)?r(g):(e.consume(g),u)}function h(g){return g===64?(e.consume(g),f):lle(g)?(e.consume(g),h):r(g)}function f(g){return $r(g)?p(g):r(g)}function p(g){return g===46?(e.consume(g),n=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):v(g)}function v(g){if((g===45||$r(g))&&n++<63){const b=g===45?v:p;return e.consume(g),b}return r(g)}}const Qd={partial:!0,tokenize:_le};function _le(e,t,r){return n;function n(s){return st(s)?ot(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ze(s)?t(s):r(s)}}const nM={continuation:{tokenize:wle},exit:Ele,name:"blockQuote",tokenize:xle};function xle(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return st(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function wle(e,t,r){const n=this;return i;function i(a){return st(a)?ot(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(nM,t,r)(a)}}function Ele(e){e.exit("blockQuote")}const iM={name:"characterEscape",tokenize:kle};function kle(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return cle(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const sM={name:"characterReference",tokenize:Tle};function Tle(e,t,r){const n=this;let i=0,s,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),s=31,a=$r,f(p))}function h(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=ule,f):(e.enter("characterReferenceValue"),s=7,a=j_,f(p))}function f(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return a===$r&&!cE(n.sliceSerialize(v))?r(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<s?(e.consume(p),f):r(p)}}const bP={partial:!0,tokenize:Cle},_P={concrete:!0,name:"codeFenced",tokenize:Sle};function Sle(e,t,r){const n=this,i={partial:!0,tokenize:P};let s=0,a=0,o;return u;function u(O){return h(O)}function h(O){const j=n.events[n.events.length-1];return s=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=O,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(O)}function f(O){return O===o?(a++,e.consume(O),f):a<3?r(O):(e.exit("codeFencedFenceSequence"),st(O)?ot(e,p,"whitespace")(O):p(O))}function p(O){return O===null||ze(O)?(e.exit("codeFencedFence"),n.interrupt?t(O):e.check(bP,x,N)(O)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(O))}function v(O){return O===null||ze(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(O)):st(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ot(e,g,"whitespace")(O)):O===96&&O===o?r(O):(e.consume(O),v)}function g(O){return O===null||ze(O)?p(O):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(O))}function b(O){return O===null||ze(O)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(O)):O===96&&O===o?r(O):(e.consume(O),b)}function x(O){return e.attempt(i,N,_)(O)}function _(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),w}function w(O){return s>0&&st(O)?ot(e,A,"linePrefix",s+1)(O):A(O)}function A(O){return O===null||ze(O)?e.check(bP,x,N)(O):(e.enter("codeFlowValue"),S(O))}function S(O){return O===null||ze(O)?(e.exit("codeFlowValue"),A(O)):(e.consume(O),S)}function N(O){return e.exit("codeFenced"),t(O)}function P(O,j,D){let B=0;return R;function R(K){return O.enter("lineEnding"),O.consume(K),O.exit("lineEnding"),F}function F(K){return O.enter("codeFencedFence"),st(K)?ot(O,H,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):H(K)}function H(K){return K===o?(O.enter("codeFencedFenceSequence"),Y(K)):D(K)}function Y(K){return K===o?(B++,O.consume(K),Y):B>=a?(O.exit("codeFencedFenceSequence"),st(K)?ot(O,V,"whitespace")(K):V(K)):D(K)}function V(K){return K===null||ze(K)?(O.exit("codeFencedFence"),j(K)):D(K)}}}function Cle(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const Ib={name:"codeIndented",tokenize:Nle},Ale={partial:!0,tokenize:Ole};function Nle(e,t,r){const n=this;return i;function i(h){return e.enter("codeIndented"),ot(e,s,"linePrefix",5)(h)}function s(h){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(h):r(h)}function a(h){return h===null?u(h):ze(h)?e.attempt(Ale,a,u)(h):(e.enter("codeFlowValue"),o(h))}function o(h){return h===null||ze(h)?(e.exit("codeFlowValue"),a(h)):(e.consume(h),o)}function u(h){return e.exit("codeIndented"),t(h)}}function Ole(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):ot(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):ze(a)?i(a):r(a)}}const Ple={name:"codeText",previous:Ile,resolve:jle,tokenize:Rle};function jle(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function Ile(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rle(e,t,r){let n=0,i,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),n++,o):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?r(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):ze(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),h(p))}function h(p){return p===null||p===32||p===96||ze(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),h)}function f(p){return p===96?(e.consume(p),i++,f):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",h(p))}}class Dle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Cc(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Cc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Cc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Cc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Cc(this.left,r.reverse())}}}function Cc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function aM(e){const t={};let r=-1,n,i,s,a,o,u,h;const f=new Dle(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Lle(f,r)),r=t[r],h=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},o=f.slice(i,r),o.unshift(n),f.splice(i,r-i+1,o))}}return Rn(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function Lle(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],h={};let f,p,v=-1,g=r,b=0,x=0;const _=[x];for(;g;){for(;e.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=n.sliceStream(g),g.next||f.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=r;++v<o.length;)o[v][0]==="exit"&&o[v-1][0]==="enter"&&o[v][1].type===o[v-1][1].type&&o[v][1].start.line!==o[v][1].end.line&&(x=v+1,_.push(x),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):_.pop(),v=_.length;v--;){const w=o.slice(_[v],_[v+1]),A=s.pop();u.push([A,A+w.length-1]),e.splice(A,2,w)}for(u.reverse(),v=-1;++v<u.length;)h[b+u[v][0]]=b+u[v][1],b+=u[v][1]-u[v][0]-1;return h}const Mle={resolve:Ble,tokenize:$le},Fle={partial:!0,tokenize:Ule};function Ble(e){return aM(e),e}function $le(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ze(o)?e.check(Fle,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Ule(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ot(e,s,"linePrefix")}function s(a){if(a===null||ze(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function oM(e,t,r,n,i,s,a,o,u){const h=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(w){return w===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(w),e.exit(s),v):w===null||w===32||w===41||Em(w)?r(w):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(w))}function v(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(e.exit("chunkString"),e.exit(o),v(w)):w===null||w===60||ze(w)?r(w):(e.consume(w),w===92?b:g)}function b(w){return w===60||w===62||w===92?(e.consume(w),g):g(w)}function x(w){return!f&&(w===null||w===41||Et(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(w)):f<h&&w===40?(e.consume(w),f++,x):w===41?(e.consume(w),f--,x):w===null||w===32||w===40||Em(w)?r(w):(e.consume(w),w===92?_:x)}function _(w){return w===40||w===41||w===92?(e.consume(w),x):x(w)}}function lM(e,t,r,n,i,s){const a=this;let o=0,u;return h;function h(g){return e.enter(n),e.enter(i),e.consume(g),e.exit(i),e.enter(s),f}function f(g){return o>999||g===null||g===91||g===93&&!u||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(g):g===93?(e.exit(s),e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):ze(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||ze(g)||o++>999?(e.exit("chunkString"),f(g)):(e.consume(g),u||(u=!st(g)),g===92?v:p)}function v(g){return g===91||g===92||g===93?(e.consume(g),o++,p):p(g)}}function uM(e,t,r,n,i,s){let a;return o;function o(v){return v===34||v===39||v===40?(e.enter(n),e.enter(i),e.consume(v),e.exit(i),a=v===40?41:v,u):r(v)}function u(v){return v===a?(e.enter(i),e.consume(v),e.exit(i),e.exit(n),t):(e.enter(s),h(v))}function h(v){return v===a?(e.exit(s),u(a)):v===null?r(v):ze(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ot(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===a||v===null||ze(v)?(e.exit("chunkString"),h(v)):(e.consume(v),v===92?p:f)}function p(v){return v===a||v===92?(e.consume(v),f):f(v)}}function Xc(e,t){let r;return n;function n(i){return ze(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):st(i)?ot(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Hle={name:"definition",tokenize:Wle},zle={partial:!0,tokenize:qle};function Wle(e,t,r){const n=this;let i;return s;function s(g){return e.enter("definition"),a(g)}function a(g){return lM.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=Si(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):r(g)}function u(g){return Et(g)?Xc(e,h)(g):h(g)}function h(g){return oM(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(zle,p,p)(g)}function p(g){return st(g)?ot(e,v,"whitespace")(g):v(g)}function v(g){return g===null||ze(g)?(e.exit("definition"),n.parser.defined.push(i),t(g)):r(g)}}function qle(e,t,r){return n;function n(o){return Et(o)?Xc(e,i)(o):r(o)}function i(o){return uM(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return st(o)?ot(e,a,"whitespace")(o):a(o)}function a(o){return o===null||ze(o)?t(o):r(o)}}const Vle={name:"hardBreakEscape",tokenize:Gle};function Gle(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ze(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const Yle={name:"headingAtx",resolve:Kle,tokenize:Xle};function Kle(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Rn(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Xle(e,t,r){let n=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&n++<6?(e.consume(f),a):f===null||Et(f)?(e.exit("atxHeadingSequence"),o(f)):r(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||ze(f)?(e.exit("atxHeading"),t(f)):st(f)?ot(e,o,"whitespace")(f):(e.enter("atxHeadingText"),h(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),o(f))}function h(f){return f===null||f===35||Et(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),h)}}const Qle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xP=["pre","script","style","textarea"],Jle={concrete:!0,name:"htmlFlow",resolveTo:tue,tokenize:rue},Zle={partial:!0,tokenize:iue},eue={partial:!0,tokenize:nue};function tue(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rue(e,t,r){const n=this;let i,s,a,o,u;return h;function h($){return f($)}function f($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),p}function p($){return $===33?(e.consume($),v):$===47?(e.consume($),s=!0,x):$===63?(e.consume($),i=3,n.interrupt?t:L):Xr($)?(e.consume($),a=String.fromCharCode($),_):r($)}function v($){return $===45?(e.consume($),i=2,g):$===91?(e.consume($),i=5,o=0,b):Xr($)?(e.consume($),i=4,n.interrupt?t:L):r($)}function g($){return $===45?(e.consume($),n.interrupt?t:L):r($)}function b($){const de="CDATA[";return $===de.charCodeAt(o++)?(e.consume($),o===de.length?n.interrupt?t:H:b):r($)}function x($){return Xr($)?(e.consume($),a=String.fromCharCode($),_):r($)}function _($){if($===null||$===47||$===62||Et($)){const de=$===47,we=a.toLowerCase();return!de&&!s&&xP.includes(we)?(i=1,n.interrupt?t($):H($)):Qle.includes(a.toLowerCase())?(i=6,de?(e.consume($),w):n.interrupt?t($):H($)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r($):s?A($):S($))}return $===45||$r($)?(e.consume($),a+=String.fromCharCode($),_):r($)}function w($){return $===62?(e.consume($),n.interrupt?t:H):r($)}function A($){return st($)?(e.consume($),A):R($)}function S($){return $===47?(e.consume($),R):$===58||$===95||Xr($)?(e.consume($),N):st($)?(e.consume($),S):R($)}function N($){return $===45||$===46||$===58||$===95||$r($)?(e.consume($),N):P($)}function P($){return $===61?(e.consume($),O):st($)?(e.consume($),P):S($)}function O($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),u=$,j):st($)?(e.consume($),O):D($)}function j($){return $===u?(e.consume($),u=null,B):$===null||ze($)?r($):(e.consume($),j)}function D($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Et($)?P($):(e.consume($),D)}function B($){return $===47||$===62||st($)?S($):r($)}function R($){return $===62?(e.consume($),F):r($)}function F($){return $===null||ze($)?H($):st($)?(e.consume($),F):r($)}function H($){return $===45&&i===2?(e.consume($),Z):$===60&&i===1?(e.consume($),oe):$===62&&i===4?(e.consume($),q):$===63&&i===3?(e.consume($),L):$===93&&i===5?(e.consume($),ce):ze($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Zle,re,Y)($)):$===null||ze($)?(e.exit("htmlFlowData"),Y($)):(e.consume($),H)}function Y($){return e.check(eue,V,re)($)}function V($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),K}function K($){return $===null||ze($)?Y($):(e.enter("htmlFlowData"),H($))}function Z($){return $===45?(e.consume($),L):H($)}function oe($){return $===47?(e.consume($),a="",te):H($)}function te($){if($===62){const de=a.toLowerCase();return xP.includes(de)?(e.consume($),q):H($)}return Xr($)&&a.length<8?(e.consume($),a+=String.fromCharCode($),te):H($)}function ce($){return $===93?(e.consume($),L):H($)}function L($){return $===62?(e.consume($),q):$===45&&i===2?(e.consume($),L):H($)}function q($){return $===null||ze($)?(e.exit("htmlFlowData"),re($)):(e.consume($),q)}function re($){return e.exit("htmlFlow"),t($)}}function nue(e,t,r){const n=this;return i;function i(a){return ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function iue(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Qd,t,r)}}const sue={name:"htmlText",tokenize:aue};function aue(e,t,r){const n=this;let i,s,a;return o;function o(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),u}function u(L){return L===33?(e.consume(L),h):L===47?(e.consume(L),P):L===63?(e.consume(L),S):Xr(L)?(e.consume(L),D):r(L)}function h(L){return L===45?(e.consume(L),f):L===91?(e.consume(L),s=0,b):Xr(L)?(e.consume(L),A):r(L)}function f(L){return L===45?(e.consume(L),g):r(L)}function p(L){return L===null?r(L):L===45?(e.consume(L),v):ze(L)?(a=p,oe(L)):(e.consume(L),p)}function v(L){return L===45?(e.consume(L),g):p(L)}function g(L){return L===62?Z(L):L===45?v(L):p(L)}function b(L){const q="CDATA[";return L===q.charCodeAt(s++)?(e.consume(L),s===q.length?x:b):r(L)}function x(L){return L===null?r(L):L===93?(e.consume(L),_):ze(L)?(a=x,oe(L)):(e.consume(L),x)}function _(L){return L===93?(e.consume(L),w):x(L)}function w(L){return L===62?Z(L):L===93?(e.consume(L),w):x(L)}function A(L){return L===null||L===62?Z(L):ze(L)?(a=A,oe(L)):(e.consume(L),A)}function S(L){return L===null?r(L):L===63?(e.consume(L),N):ze(L)?(a=S,oe(L)):(e.consume(L),S)}function N(L){return L===62?Z(L):S(L)}function P(L){return Xr(L)?(e.consume(L),O):r(L)}function O(L){return L===45||$r(L)?(e.consume(L),O):j(L)}function j(L){return ze(L)?(a=j,oe(L)):st(L)?(e.consume(L),j):Z(L)}function D(L){return L===45||$r(L)?(e.consume(L),D):L===47||L===62||Et(L)?B(L):r(L)}function B(L){return L===47?(e.consume(L),Z):L===58||L===95||Xr(L)?(e.consume(L),R):ze(L)?(a=B,oe(L)):st(L)?(e.consume(L),B):Z(L)}function R(L){return L===45||L===46||L===58||L===95||$r(L)?(e.consume(L),R):F(L)}function F(L){return L===61?(e.consume(L),H):ze(L)?(a=F,oe(L)):st(L)?(e.consume(L),F):B(L)}function H(L){return L===null||L===60||L===61||L===62||L===96?r(L):L===34||L===39?(e.consume(L),i=L,Y):ze(L)?(a=H,oe(L)):st(L)?(e.consume(L),H):(e.consume(L),V)}function Y(L){return L===i?(e.consume(L),i=void 0,K):L===null?r(L):ze(L)?(a=Y,oe(L)):(e.consume(L),Y)}function V(L){return L===null||L===34||L===39||L===60||L===61||L===96?r(L):L===47||L===62||Et(L)?B(L):(e.consume(L),V)}function K(L){return L===47||L===62||Et(L)?B(L):r(L)}function Z(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):r(L)}function oe(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),te}function te(L){return st(L)?ot(e,ce,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):ce(L)}function ce(L){return e.enter("htmlTextData"),a(L)}}const dE={name:"labelEnd",resolveAll:cue,resolveTo:due,tokenize:hue},oue={tokenize:fue},lue={tokenize:pue},uue={tokenize:mue};function cue(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Rn(e,0,e.length,r),e}function due(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",u,t],["enter",h,t]],o=Qn(o,e.slice(s+1,s+n+3)),o=Qn(o,[["enter",f,t]]),o=Qn(o,xg(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Qn(o,[["exit",f,t],e[a-2],e[a-1],["exit",h,t]]),o=Qn(o,e.slice(a+1)),o=Qn(o,[["exit",u,t]]),Rn(e,s,e.length,o),e}function hue(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(v){return s?s._inactive?p(v):(a=n.parser.defined.includes(Si(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),u):r(v)}function u(v){return v===40?e.attempt(oue,f,a?f:p)(v):v===91?e.attempt(lue,f,a?h:p)(v):a?f(v):p(v)}function h(v){return e.attempt(uue,f,p)(v)}function f(v){return t(v)}function p(v){return s._balanced=!0,r(v)}}function fue(e,t,r){return n;function n(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Et(p)?Xc(e,s)(p):s(p)}function s(p){return p===41?f(p):oM(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Et(p)?Xc(e,u)(p):f(p)}function o(p){return r(p)}function u(p){return p===34||p===39||p===40?uM(e,h,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function h(p){return Et(p)?Xc(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):r(p)}}function pue(e,t,r){const n=this;return i;function i(o){return lM.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(Si(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function mue(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const gue={name:"labelStartImage",resolveAll:dE.resolveAll,tokenize:vue};function vue(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const yue={name:"labelStartLink",resolveAll:dE.resolveAll,tokenize:bue};function bue(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const Rb={name:"lineEnding",tokenize:_ue};function _ue(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ot(e,t,"linePrefix")}}const up={name:"thematicBreak",tokenize:xue};function xue(e,t,r){let n=0,i;return s;function s(h){return e.enter("thematicBreak"),a(h)}function a(h){return i=h,o(h)}function o(h){return h===i?(e.enter("thematicBreakSequence"),u(h)):n>=3&&(h===null||ze(h))?(e.exit("thematicBreak"),t(h)):r(h)}function u(h){return h===i?(e.consume(h),n++,u):(e.exit("thematicBreakSequence"),st(h)?ot(e,o,"whitespace")(h):o(h))}}const un={continuation:{tokenize:Tue},exit:Cue,name:"list",tokenize:kue},wue={partial:!0,tokenize:Aue},Eue={partial:!0,tokenize:Sue};function kue(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const b=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:j_(g)){if(n.containerState.type||(n.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(up,r,h)(g):h(g);if(!n.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return r(g)}function u(g){return j_(g)&&++a<10?(e.consume(g),u):(!n.interrupt||a<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),h(g)):r(g)}function h(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,e.check(Qd,n.interrupt?r:f,e.attempt(wue,v,p))}function f(g){return n.containerState.initialBlankLine=!0,s++,v(g)}function p(g){return st(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),v):r(g)}function v(g){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function Tue(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Qd,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ot(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!st(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(Eue,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,ot(e,e.attempt(un,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Sue(e,t,r){const n=this;return ot(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function Cue(e){e.exit(this.containerState.type)}function Aue(e,t,r){const n=this;return ot(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!st(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const wP={name:"setextUnderline",resolveTo:Nue,tokenize:Oue};function Nue(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function Oue(e,t,r){const n=this;let i;return s;function s(h){let f=n.events.length,p;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){p=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(e.enter("setextHeadingLine"),i=h,a(h)):r(h)}function a(h){return e.enter("setextHeadingLineSequence"),o(h)}function o(h){return h===i?(e.consume(h),o):(e.exit("setextHeadingLineSequence"),st(h)?ot(e,u,"lineSuffix")(h):u(h))}function u(h){return h===null||ze(h)?(e.exit("setextHeadingLine"),t(h)):r(h)}}const Pue={tokenize:jue};function jue(e){const t=this,r=e.attempt(Qd,n,e.attempt(this.parser.constructs.flowInitial,i,ot(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Mle,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const Iue={resolveAll:dM()},Rue=cM("string"),Due=cM("text");function cM(e){return{resolveAll:dM(e==="text"?Lue:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(f){return h(f)?s(f):o(f)}function o(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),u}function u(f){return h(f)?(r.exit("data"),s(f)):(r.consume(f),u)}function h(f){if(f===null)return!0;const p=i[f];let v=-1;if(p)for(;++v<p.length;){const g=p[v];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function dM(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function Lue(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,u;for(;s--;){const h=i[s];if(typeof h=="string"){for(a=h.length;h.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(h===-2)u=!0,o++;else if(h!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const h={type:r===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...h.start},n.start.offset===n.end.offset?Object.assign(n,h):(e.splice(r,0,["enter",h,t],["exit",h,t]),r+=2)}r++}return e}const Mue={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:nM},Fue={91:Hle},Bue={[-2]:Ib,[-1]:Ib,32:Ib},$ue={35:Yle,42:up,45:[wP,up],60:Jle,61:wP,95:up,96:_P,126:_P},Uue={38:sM,92:iM},Hue={[-5]:Rb,[-4]:Rb,[-3]:Rb,33:gue,38:sM,42:I_,60:[yle,sue],91:yue,92:[Vle,iM],93:dE,95:I_,96:Ple},zue={null:[I_,Iue]},Wue={null:[42,95]},que={null:[]},Vue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Wue,contentInitial:Fue,disable:que,document:Mue,flow:$ue,flowInitial:Bue,insideSpan:zue,string:Uue,text:Hue},Symbol.toStringTag,{value:"Module"}));function Gue(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:j(P),check:j(O),consume:A,enter:S,exit:N,interrupt:j(O,{interrupt:!0})},h={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:e,previous:null,sliceSerialize:v,sliceStream:g,write:p};let f=t.tokenize.call(h,u);return t.resolveAll&&s.push(t),h;function p(F){return a=Qn(a,F),_(),a[a.length-1]!==null?[]:(D(t,0),h.events=xg(s,h.events,h),h.events)}function v(F,H){return Kue(g(F),H)}function g(F){return Yue(a,F)}function b(){const{_bufferIndex:F,_index:H,line:Y,column:V,offset:K}=n;return{_bufferIndex:F,_index:H,line:Y,column:V,offset:K}}function x(F){i[F.line]=F.column,R()}function _(){let F;for(;n._index<a.length;){const H=a[n._index];if(typeof H=="string")for(F=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===F&&n._bufferIndex<H.length;)w(H.charCodeAt(n._bufferIndex));else w(H)}}function w(F){f=f(F)}function A(F){ze(F)?(n.line++,n.column=1,n.offset+=F===-3?2:1,R()):F!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),h.previous=F}function S(F,H){const Y=H||{};return Y.type=F,Y.start=b(),h.events.push(["enter",Y,h]),o.push(Y),Y}function N(F){const H=o.pop();return H.end=b(),h.events.push(["exit",H,h]),H}function P(F,H){D(F,H.from)}function O(F,H){H.restore()}function j(F,H){return Y;function Y(V,K,Z){let oe,te,ce,L;return Array.isArray(V)?re(V):"tokenize"in V?re([V]):q(V);function q(_e){return Le;function Le(qe){const ie=qe!==null&&_e[qe],Ee=qe!==null&&_e.null,Ke=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return re(Ke)(qe)}}function re(_e){return oe=_e,te=0,_e.length===0?Z:$(_e[te])}function $(_e){return Le;function Le(qe){return L=B(),ce=_e,_e.partial||(h.currentConstruct=_e),_e.name&&h.parser.constructs.disable.null.includes(_e.name)?we():_e.tokenize.call(H?Object.assign(Object.create(h),H):h,u,de,we)(qe)}}function de(_e){return F(ce,L),K}function we(_e){return L.restore(),++te<oe.length?$(oe[te]):Z}}}function D(F,H){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&Rn(h.events,H,h.events.length-H,F.resolve(h.events.slice(H),h)),F.resolveTo&&(h.events=F.resolveTo(h.events,h))}function B(){const F=b(),H=h.previous,Y=h.currentConstruct,V=h.events.length,K=Array.from(o);return{from:V,restore:Z};function Z(){n=F,h.previous=H,h.currentConstruct=Y,h.events.length=V,o=K,R()}}function R(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Yue(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Kue(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Xue(e){const n={constructs:tM([Vue,...(e||{}).extensions||[]]),content:i(dle),defined:[],document:i(fle),flow:i(Pue),lazy:{},string:i(Rue),text:i(Due)};return n;function i(s){return a;function a(o){return Gue(n,s,o)}}}function Que(e){for(;!aM(e););return e}const EP=/[\0\t\n\r]/g;function Jue(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const u=[];let h,f,p,v,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",r&&(s.charCodeAt(0)===65279&&p++,r=void 0);p<s.length;){if(EP.lastIndex=p,h=EP.exec(s),v=h&&h.index!==void 0?h.index:s.length,g=s.charCodeAt(v),!h){t=s.slice(p);break}if(g===10&&p===v&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),p<v&&(u.push(s.slice(p,v)),e+=v-p),g){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}p=v+1}return o&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const Zue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ece(e){return e.replace(Zue,tce)}function tce(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return rM(r.slice(s?2:1),s?16:10)}return cE(r)||e}const hM={}.hasOwnProperty;function rce(e,t,r){return typeof t!="string"&&(r=t,t=void 0),nce(r)(Que(Xue(r).document().write(Jue()(e,t,!0))))}function nce(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Mo),autolinkProtocol:B,autolinkEmail:B,atxHeading:s(Ze),blockQuote:s(Ee),characterEscape:B,characterReference:B,codeFenced:s(Ke),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ke,a),codeText:s(pe,a),codeTextData:B,data:B,codeFlowValue:B,definition:s(yt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Te),hardBreakEscape:s(ft),hardBreakTrailing:s(ft),htmlFlow:s(zt,a),htmlFlowData:B,htmlText:s(zt,a),htmlTextData:B,image:s(La),label:a,link:s(Mo),listItem:s($s),listItemValue:v,listOrdered:s(Bs,p),listUnordered:s(Bs),paragraph:s(Eu),reference:$,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ze),strong:s(th),thematicBreak:s(nh)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:ie,autolinkProtocol:qe,blockQuote:u(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:_e,characterReference:Le,codeFenced:u(_),codeFencedFence:x,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:R,codeIndented:u(w),codeText:u(K),codeTextData:R,data:R,definition:u(),definitionDestinationString:N,definitionLabelString:A,definitionTitleString:S,emphasis:u(),hardBreakEscape:u(H),hardBreakTrailing:u(H),htmlFlow:u(Y),htmlFlowData:R,htmlText:u(V),htmlTextData:R,image:u(oe),label:ce,labelText:te,lineEnding:F,link:u(Z),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:de,resourceDestinationString:L,resourceTitleString:q,resource:re,setextHeading:u(D),setextHeadingLineSequence:j,setextHeadingText:O,strong:u(),thematicBreak:u()}};fM(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ue){let xe={type:"root",children:[]};const Ve={stack:[xe],tokenStack:[],config:t,enter:o,exit:h,buffer:a,resume:f,data:r},tt=[];let lt=-1;for(;++lt<ue.length;)if(ue[lt][1].type==="listOrdered"||ue[lt][1].type==="listUnordered")if(ue[lt][0]==="enter")tt.push(lt);else{const wr=tt.pop();lt=i(ue,wr,lt)}for(lt=-1;++lt<ue.length;){const wr=t[ue[lt][0]];hM.call(wr,ue[lt][1].type)&&wr[ue[lt][1].type].call(Object.assign({sliceSerialize:ue[lt][2].sliceSerialize},Ve),ue[lt][1])}if(Ve.tokenStack.length>0){const wr=Ve.tokenStack[Ve.tokenStack.length-1];(wr[1]||kP).call(Ve,void 0,wr[0])}for(xe.position={start:ca(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:ca(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)xe=t.transforms[lt](xe)||xe;return xe}function i(ue,xe,Ve){let tt=xe-1,lt=-1,wr=!1,es,$n,Us,Ma;for(;++tt<=Ve;){const Er=ue[tt];switch(Er[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Er[0]==="enter"?lt++:lt--,Ma=void 0;break}case"lineEndingBlank":{Er[0]==="enter"&&(es&&!Ma&&!lt&&!Us&&(Us=tt),Ma=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ma=void 0}if(!lt&&Er[0]==="enter"&&Er[1].type==="listItemPrefix"||lt===-1&&Er[0]==="exit"&&(Er[1].type==="listUnordered"||Er[1].type==="listOrdered")){if(es){let Ii=tt;for($n=void 0;Ii--;){const bn=ue[Ii];if(bn[1].type==="lineEnding"||bn[1].type==="lineEndingBlank"){if(bn[0]==="exit")continue;$n&&(ue[$n][1].type="lineEndingBlank",wr=!0),bn[1].type="lineEnding",$n=Ii}else if(!(bn[1].type==="linePrefix"||bn[1].type==="blockQuotePrefix"||bn[1].type==="blockQuotePrefixWhitespace"||bn[1].type==="blockQuoteMarker"||bn[1].type==="listItemIndent"))break}Us&&(!$n||Us<$n)&&(es._spread=!0),es.end=Object.assign({},$n?ue[$n][1].start:Er[1].end),ue.splice($n||tt,0,["exit",es,Er[2]]),tt++,Ve++}if(Er[1].type==="listItemPrefix"){const Ii={type:"listItem",_spread:!1,start:Object.assign({},Er[1].start),end:void 0};es=Ii,ue.splice(tt,0,["enter",Ii,Er[2]]),tt++,Ve++,Us=void 0,Ma=!0}}}return ue[xe][1]._spread=wr,Ve}function s(ue,xe){return Ve;function Ve(tt){o.call(this,ue(tt),tt),xe&&xe.call(this,tt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ue,xe,Ve){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([xe,Ve||void 0]),ue.position={start:ca(xe.start),end:void 0}}function u(ue){return xe;function xe(Ve){ue&&ue.call(this,Ve),h.call(this,Ve)}}function h(ue,xe){const Ve=this.stack.pop(),tt=this.tokenStack.pop();if(tt)tt[0].type!==ue.type&&(xe?xe.call(this,ue,tt[0]):(tt[1]||kP).call(this,ue,tt[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Kc({start:ue.start,end:ue.end})+"): its not open");Ve.position.end=ca(ue.end)}function f(){return uE(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(ue){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=ue}function b(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=ue}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue.replace(/(\r?\n|\r)$/g,"")}function A(ue){const xe=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=xe,Ve.identifier=Si(this.sliceSerialize(ue)).toLowerCase()}function S(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ue}function N(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ue}function P(ue){const xe=this.stack[this.stack.length-1];if(!xe.depth){const Ve=this.sliceSerialize(ue).length;xe.depth=Ve}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function j(ue){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function B(ue){const Ve=this.stack[this.stack.length-1].children;let tt=Ve[Ve.length-1];(!tt||tt.type!=="text")&&(tt=rh(),tt.position={start:ca(ue.start),end:void 0},Ve.push(tt)),this.stack.push(tt)}function R(ue){const xe=this.stack.pop();xe.value+=this.sliceSerialize(ue),xe.position.end=ca(ue.end)}function F(ue){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=xe.children[xe.children.length-1];Ve.position.end=ca(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(xe.type)&&(B.call(this,ue),R.call(this,ue))}function H(){this.data.atHardBreak=!0}function Y(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue}function V(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue}function K(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ue}function Z(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=xe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function oe(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=xe,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function te(ue){const xe=this.sliceSerialize(ue),Ve=this.stack[this.stack.length-2];Ve.label=ece(xe),Ve.identifier=Si(xe).toLowerCase()}function ce(){const ue=this.stack[this.stack.length-1],xe=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const tt=ue.children;Ve.children=tt}else Ve.alt=xe}function L(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ue}function q(){const ue=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ue}function re(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function de(ue){const xe=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=xe,Ve.identifier=Si(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function we(ue){this.data.characterReferenceType=ue.type}function _e(ue){const xe=this.sliceSerialize(ue),Ve=this.data.characterReferenceType;let tt;Ve?(tt=rM(xe,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tt=cE(xe);const lt=this.stack[this.stack.length-1];lt.value+=tt}function Le(ue){const xe=this.stack.pop();xe.position.end=ca(ue.end)}function qe(ue){R.call(this,ue);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(ue)}function ie(ue){R.call(this,ue);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(ue)}function Ee(){return{type:"blockquote",children:[]}}function Ke(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function Ze(){return{type:"heading",depth:0,children:[]}}function ft(){return{type:"break"}}function zt(){return{type:"html",value:""}}function La(){return{type:"image",title:null,url:"",alt:null}}function Mo(){return{type:"link",title:null,url:"",children:[]}}function Bs(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function $s(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function Eu(){return{type:"paragraph",children:[]}}function th(){return{type:"strong",children:[]}}function rh(){return{type:"text",value:""}}function nh(){return{type:"thematicBreak"}}}function ca(e){return{line:e.line,column:e.column,offset:e.offset}}function fM(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?fM(e,n):ice(e,n)}}function ice(e,t){let r;for(r in t)if(hM.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function kP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Kc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Kc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Kc({start:t.start,end:t.end})+") is still open")}function sce(e){const t=this;t.parser=r;function r(n){return rce(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ace(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function oce(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function lce(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function uce(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cce(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dce(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=yu(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,h),e.applyData(t,h)}function hce(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fce(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function pM(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function pce(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return pM(e,t);const i={src:yu(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function mce(e,t){const r={src:yu(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function gce(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function vce(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return pM(e,t);const i={href:yu(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function yce(e,t){const r={href:yu(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bce(e,t,r){const n=e.all(t),i=r?_ce(r):mM(t),s={},a=[];if(typeof t.checked=="boolean"){const f=n[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const f=n[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const u=n[n.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,h),e.applyData(t,h)}function _ce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=mM(r[n])}return t}function mM(e){const t=e.spread;return t??e.children.length>1}function xce(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function wce(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ece(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function kce(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Tce(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Ji(t.children[1]),u=bg(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Sce(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let u=-1;const h=[];for(;++u<o;){const p=t.children[u],v={},g=a?a[u]:void 0;g&&(v.align=g);let b={type:"element",tagName:s,properties:v,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),h.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,f),e.applyData(t,f)}function Cce(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const TP=9,SP=32;function Ace(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(CP(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(CP(t.slice(i),i>0,!1)),s.join("")}function CP(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===TP||s===SP;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===TP||s===SP;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function Nce(e,t){const r={type:"text",value:Ace(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function Oce(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Pce={blockquote:ace,break:oce,code:lce,delete:uce,emphasis:cce,footnoteReference:dce,heading:hce,html:fce,imageReference:pce,image:mce,inlineCode:gce,linkReference:vce,link:yce,listItem:bce,list:xce,paragraph:wce,root:Ece,strong:kce,table:Tce,tableCell:Cce,tableRow:Sce,text:Nce,thematicBreak:Oce,toml:Yf,yaml:Yf,definition:Yf,footnoteDefinition:Yf};function Yf(){}const gM=-1,wg=0,Qc=1,km=2,hE=3,fE=4,pE=5,mE=6,vM=7,yM=8,AP=typeof self=="object"?self:globalThis,jce=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case wg:case gM:return r(a,i);case Qc:{const o=r([],i);for(const u of a)o.push(n(u));return o}case km:{const o=r({},i);for(const[u,h]of a)o[n(u)]=n(h);return o}case hE:return r(new Date(a),i);case fE:{const{source:o,flags:u}=a;return r(new RegExp(o,u),i)}case pE:{const o=r(new Map,i);for(const[u,h]of a)o.set(n(u),n(h));return o}case mE:{const o=r(new Set,i);for(const u of a)o.add(n(u));return o}case vM:{const{name:o,message:u}=a;return r(new AP[o](u),i)}case yM:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new AP[s](a),i)};return n},NP=e=>jce(new Map,e)(0),bl="",{toString:Ice}={},{keys:Rce}=Object,Ac=e=>{const t=typeof e;if(t!=="object"||!e)return[wg,t];const r=Ice.call(e).slice(8,-1);switch(r){case"Array":return[Qc,bl];case"Object":return[km,bl];case"Date":return[hE,bl];case"RegExp":return[fE,bl];case"Map":return[pE,bl];case"Set":return[mE,bl];case"DataView":return[Qc,r]}return r.includes("Array")?[Qc,r]:r.includes("Error")?[vM,r]:[km,r]},Kf=([e,t])=>e===wg&&(t==="function"||t==="symbol"),Dce=(e,t,r,n)=>{const i=(a,o)=>{const u=n.push(a)-1;return r.set(o,u),u},s=a=>{if(r.has(a))return r.get(a);let[o,u]=Ac(a);switch(o){case wg:{let f=a;switch(u){case"bigint":o=yM,f=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([gM],a)}return i([o,f],a)}case Qc:{if(u){let v=a;return u==="DataView"?v=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(v=new Uint8Array(a)),i([u,[...v]],a)}const f=[],p=i([o,f],a);for(const v of a)f.push(s(v));return p}case km:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const f=[],p=i([o,f],a);for(const v of Rce(a))(e||!Kf(Ac(a[v])))&&f.push([s(v),s(a[v])]);return p}case hE:return i([o,a.toISOString()],a);case fE:{const{source:f,flags:p}=a;return i([o,{source:f,flags:p}],a)}case pE:{const f=[],p=i([o,f],a);for(const[v,g]of a)(e||!(Kf(Ac(v))||Kf(Ac(g))))&&f.push([s(v),s(g)]);return p}case mE:{const f=[],p=i([o,f],a);for(const v of a)(e||!Kf(Ac(v)))&&f.push(s(v));return p}}const{message:h}=a;return i([o,{name:u,message:h}],a)};return s},OP=(e,{json:t,lossy:r}={})=>{const n=[];return Dce(!(t||r),!!t,new Map,n)(e),n},Xl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?NP(OP(e,t)):structuredClone(e):(e,t)=>NP(OP(e,t));function Lce(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Mce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Fce(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Lce,n=e.options.footnoteBackLabel||Mce,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[u]);if(!h)continue;const f=e.all(h),p=String(h.identifier).toUpperCase(),v=yu(p.toLowerCase());let g=0;const b=[],x=e.footnoteCounts.get(p);for(;x!==void 0&&++g<=x;){b.length>0&&b.push({type:"text",value:" "});let A=typeof r=="string"?r:r(u,g);typeof A=="string"&&(A={type:"text",value:A}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,g),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const _=f[f.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const A=_.children[_.children.length-1];A&&A.type==="text"?A.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...b)}else f.push(...b);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(f,!0)};e.patch(h,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Xl(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Eg=(function(e){if(e==null)return Hce;if(typeof e=="function")return kg(e);if(typeof e=="object")return Array.isArray(e)?Bce(e):$ce(e);if(typeof e=="string")return Uce(e);throw new Error("Expected function, string, or object as test")});function Bce(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Eg(e[r]);return kg(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function $ce(e){const t=e;return kg(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Uce(e){return kg(t);function t(r){return r&&r.type===e}}function kg(e){return t;function t(r,n,i){return!!(zce(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Hce(){return!0}function zce(e){return e!==null&&typeof e=="object"&&"type"in e}const bM=[],Wce=!0,R_=!1,qce="skip";function _M(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=Eg(i),a=n?-1:1;o(e,void 0,[])();function o(u,h,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return v;function v(){let g=bM,b,x,_;if((!t||s(u,h,f[f.length-1]||void 0))&&(g=Vce(r(u,f)),g[0]===R_))return g;if("children"in u&&u.children){const w=u;if(w.children&&g[0]!==qce)for(x=(n?w.children.length:-1)+a,_=f.concat(w);x>-1&&x<w.children.length;){const A=w.children[x];if(b=o(A,x,_)(),b[0]===R_)return b;x=typeof b[1]=="number"?b[1]:x+a}}return g}}}function Vce(e){return Array.isArray(e)?e:typeof e=="number"?[Wce,e]:e==null?bM:[e]}function Tg(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),_M(e,s,o,i);function o(u,h){const f=h[h.length-1],p=f?f.children.indexOf(u):void 0;return a(u,p,f)}}const D_={}.hasOwnProperty,Gce={};function Yce(e,t){const r=t||Gce,n=new Map,i=new Map,s=new Map,a={...Pce,...r.handlers},o={all:h,applyData:Xce,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:r,patch:Kce,wrap:Jce};return Tg(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?n:i,v=String(f.identifier).toUpperCase();p.has(v)||p.set(v,f)}}),o;function u(f,p){const v=f.type,g=o.handlers[v];if(D_.call(o.handlers,v)&&g)return g(o,f,p);if(o.options.passThrough&&o.options.passThrough.includes(v)){if("children"in f){const{children:x,..._}=f,w=Xl(_);return w.children=o.all(f),w}return Xl(f)}return(o.options.unknownHandler||Qce)(o,f,p)}function h(f){const p=[];if("children"in f){const v=f.children;let g=-1;for(;++g<v.length;){const b=o.one(v[g],f);if(b){if(g&&v[g-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=PP(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=PP(x.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function Kce(e,t){e.position&&(t.position=Moe(e))}function Xce(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Xl(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Qce(e,t){const r=t.data||{},n="value"in t&&!(D_.call(r,"hProperties")||D_.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jce(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function PP(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function jP(e,t){const r=Yce(e,t),n=r.one(e,void 0),i=Fce(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Zce(e,t){return e&&"run"in e?async function(r,n){const i=jP(r,{file:n,...t});await e.run(i,n)}:function(r,n){return jP(r,{file:n,...e||t})}}function IP(e){if(e)throw e}var Db,RP;function ede(){if(RP)return Db;RP=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):t.call(h)==="[object Array]"},s=function(h){if(!h||t.call(h)!=="[object Object]")return!1;var f=e.call(h,"constructor"),p=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!f&&!p)return!1;var v;for(v in h);return typeof v>"u"||e.call(h,v)},a=function(h,f){r&&f.name==="__proto__"?r(h,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):h[f.name]=f.newValue},o=function(h,f){if(f==="__proto__")if(e.call(h,f)){if(n)return n(h,f).value}else return;return h[f]};return Db=function u(){var h,f,p,v,g,b,x=arguments[0],_=1,w=arguments.length,A=!1;for(typeof x=="boolean"&&(A=x,x=arguments[1]||{},_=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});_<w;++_)if(h=arguments[_],h!=null)for(f in h)p=o(x,f),v=o(h,f),x!==v&&(A&&v&&(s(v)||(g=i(v)))?(g?(g=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},a(x,{name:f,newValue:u(A,b,v)})):typeof v<"u"&&a(x,{name:f,newValue:v}));return x},Db}var tde=ede();const Lb=ai(tde);function L_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function rde(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...h){const f=e[++s];let p=-1;if(u){a(u);return}for(;++p<i.length;)(h[p]===null||h[p]===void 0)&&(h[p]=i[p]);i=h,f?nde(f,o)(...h):a(null,...h)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function nde(e,t){let r;return n;function n(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(h){const f=h;if(o&&r)throw f;return i(f)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const Bi={basename:ide,dirname:sde,extname:ade,join:ode,sep:"/"};function ide(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jd(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function sde(e){if(Jd(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ade(e){Jd(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function ode(...e){let t=-1,r;for(;++t<e.length;)Jd(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":lde(r)}function lde(e){Jd(e);const t=e.codePointAt(0)===47;let r=ude(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function ude(e,t){let r="",n=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function Jd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const cde={cwd:dde};function dde(){return"/"}function M_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function hde(e){if(typeof e=="string")e=new URL(e);else if(!M_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return fde(e)}function fde(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Mb=["history","path","basename","stem","extname","dirname"];class xM{constructor(t){let r;t?M_(t)?r={path:t}:typeof t=="string"||pde(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":cde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Mb.length;){const s=Mb[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)Mb.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Bi.basename(this.path):void 0}set basename(t){Bb(t,"basename"),Fb(t,"basename"),this.path=Bi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Bi.dirname(this.path):void 0}set dirname(t){DP(this.basename,"dirname"),this.path=Bi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Bi.extname(this.path):void 0}set extname(t){if(Fb(t,"extname"),DP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){M_(t)&&(t=hde(t)),Bb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Bi.basename(this.path,this.extname):void 0}set stem(t){Bb(t,"stem"),Fb(t,"stem"),this.path=Bi.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Hr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Fb(e,t){if(e&&e.includes(Bi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bi.sep+"`")}function Bb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function DP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function pde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const mde=(function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),gde={}.hasOwnProperty;class gE extends mde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=rde()}copy(){const t=new gE;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Lb(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Hb("data",this.frozen),this.namespace[t]=r,this):gde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Hb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Xf(t),n=this.parser||this.Parser;return $b("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),$b("process",this.parser||this.Parser),Ub("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=Xf(t),u=n.parse(o);n.run(u,o,function(f,p,v){if(f||!p||!v)return h(f);const g=p,b=n.stringify(g,v);bde(b)?v.value=b:v.result=b,h(f,v)});function h(f,p){f||!p?a(f):s?s(p):r(void 0,p)}}}processSync(t){let r=!1,n;return this.freeze(),$b("processSync",this.parser||this.Parser),Ub("processSync",this.compiler||this.Compiler),this.process(t,i),MP("processSync","process",r),n;function i(s,a){r=!0,IP(s),n=a}}run(t,r,n){LP(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const u=Xf(r);i.run(t,u,h);function h(f,p,v){const g=p||t;f?o(f):a?a(g):n(void 0,g,v)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),MP("runSync","run",n),i;function s(a,o){IP(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=Xf(r),i=this.compiler||this.Compiler;return Ub("stringify",i),LP(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Hb("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[f,...p]=h;u(f,p)}else a(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function a(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(h.plugins),h.settings&&(i.settings=Lb(!0,i.settings,h.settings))}function o(h){let f=-1;if(h!=null)if(Array.isArray(h))for(;++f<h.length;){const p=h[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,f){let p=-1,v=-1;for(;++p<n.length;)if(n[p][0]===h){v=p;break}if(v===-1)n.push([h,...f]);else if(f.length>0){let[g,...b]=f;const x=n[v][1];L_(x)&&L_(g)&&(g=Lb(!0,x,g)),n[v]=[h,g,...b]}}}}const vde=new gE().freeze();function $b(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ub(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Hb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LP(e){if(!L_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function MP(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Xf(e){return yde(e)?e:new xM(e)}function yde(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function bde(e){return typeof e=="string"||_de(e)}function _de(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",FP=[],BP={allowDangerousHtml:!0},wde=/^(https?|ircs?|mailto|xmpp)$/i,Ede=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function kde(e){const t=Tde(e),r=Sde(e);return Cde(t.runSync(t.parse(r),r),e)}function Tde(e){const t=e.rehypePlugins||FP,r=e.remarkPlugins||FP,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...BP}:BP;return vde().use(sce).use(r).use(Zce,n).use(t)}function Sde(e){const t=e.children||"",r=new xM;return typeof t=="string"&&(r.value=t),r}function Cde(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||Ade;for(const f of Ede)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+xde+f.id,void 0);return Tg(e,h),Hoe(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function h(f,p,v){if(f.type==="raw"&&v&&typeof p=="number")return a?v.children.splice(p,1):v.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let g;for(g in jb)if(Object.hasOwn(jb,g)&&Object.hasOwn(f.properties,g)){const b=f.properties[g],x=jb[g];(x===null||x.includes(f.tagName))&&(f.properties[g]=u(String(b||""),g,f))}}if(f.type==="element"){let g=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&n&&typeof p=="number"&&(g=!n(f,p,v)),g&&v&&typeof p=="number")return o&&f.children?v.children.splice(p,1,...f.children):v.children.splice(p,1),p}}}function Ade(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||wde.test(e.slice(0,t))?e:""}function $P(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function Nde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ode(e,t,r){const i=Eg((r||{}).ignore||[]),s=Pde(t);let a=-1;for(;++a<s.length;)_M(e,"text",o);function o(h,f){let p=-1,v;for(;++p<f.length;){const g=f[p],b=v?v.children:void 0;if(i(g,b?b.indexOf(g):void 0,v))return;v=g}if(v)return u(h,f)}function u(h,f){const p=f[f.length-1],v=s[a][0],g=s[a][1];let b=0;const _=p.children.indexOf(h);let w=!1,A=[];v.lastIndex=0;let S=v.exec(h.value);for(;S;){const N=S.index,P={index:S.index,input:S.input,stack:[...f,h]};let O=g(...S,P);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?v.lastIndex=N+1:(b!==N&&A.push({type:"text",value:h.value.slice(b,N)}),Array.isArray(O)?A.push(...O):O&&A.push(O),b=N+S[0].length,w=!0),!v.global)break;S=v.exec(h.value)}return w?(b<h.value.length&&A.push({type:"text",value:h.value.slice(b)}),p.children.splice(_,1,...A)):A=[h],_+A.length}}function Pde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([jde(i[0]),Ide(i[1])])}return t}function jde(e){return typeof e=="string"?new RegExp(Nde(e),"g"):e}function Ide(e){return typeof e=="function"?e:function(){return e}}const zb="phrasing",Wb=["autolink","link","image","label"];function Rde(){return{transforms:[Ude],enter:{literalAutolink:Lde,literalAutolinkEmail:qb,literalAutolinkHttp:qb,literalAutolinkWww:qb},exit:{literalAutolink:$de,literalAutolinkEmail:Bde,literalAutolinkHttp:Mde,literalAutolinkWww:Fde}}}function Dde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:zb,notInConstruct:Wb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:zb,notInConstruct:Wb},{character:":",before:"[ps]",after:"\\/",inConstruct:zb,notInConstruct:Wb}]}}function Lde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function qb(e){this.config.enter.autolinkProtocol.call(this,e)}function Mde(e){this.config.exit.autolinkProtocol.call(this,e)}function Fde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Bde(e){this.config.exit.autolinkEmail.call(this,e)}function $de(e){this.exit(e)}function Ude(e){Ode(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Hde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),zde]],{ignore:["link","linkReference"]})}function Hde(e,t,r,n,i){let s="";if(!wM(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!Wde(r)))return!1;const a=qde(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function zde(e,t,r,n){return!wM(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Wde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function qde(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=$P(e,"(");let s=$P(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function wM(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Po(r)||_g(r))&&(!t||r!==47)}EM.peek=ehe;function Vde(){this.buffer()}function Gde(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Yde(){this.buffer()}function Kde(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Xde(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Si(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Qde(e){this.exit(e)}function Jde(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Si(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Zde(e){this.exit(e)}function ehe(){return"["}function EM(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function the(){return{enter:{gfmFootnoteCallString:Vde,gfmFootnoteCall:Gde,gfmFootnoteDefinitionLabelString:Yde,gfmFootnoteDefinition:Kde},exit:{gfmFootnoteCallString:Xde,gfmFootnoteCall:Qde,gfmFootnoteDefinitionLabelString:Jde,gfmFootnoteDefinition:Zde}}}function rhe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:EM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const h=s.enter("footnoteDefinition"),f=s.enter("label");return u+=o.move(s.safe(s.associationId(n),{before:u,after:"]"})),f(),u+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?kM:nhe))),h(),u}}function nhe(e,t,r){return t===0?e:kM(e,t,r)}function kM(e,t,r){return(r?"":"    ")+e}const ihe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];TM.peek=uhe;function she(){return{canContainEols:["delete"],enter:{strikethrough:ohe},exit:{strikethrough:lhe}}}function ahe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ihe}],handlers:{delete:TM}}}function ohe(e){this.enter({type:"delete",children:[]},e)}function lhe(e){this.exit(e)}function TM(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function uhe(){return"~"}function che(e){return e.length}function dhe(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||che,s=[],a=[],o=[],u=[];let h=0,f=-1;for(;++f<e.length;){const x=[],_=[];let w=-1;for(e[f].length>h&&(h=e[f].length);++w<e[f].length;){const A=hhe(e[f][w]);if(r.alignDelimiters!==!1){const S=i(A);_[w]=S,(u[w]===void 0||S>u[w])&&(u[w]=S)}x.push(A)}a[f]=x,o[f]=_}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<h;)s[p]=UP(n[p]);else{const x=UP(n);for(;++p<h;)s[p]=x}p=-1;const v=[],g=[];for(;++p<h;){const x=s[p];let _="",w="";x===99?(_=":",w=":"):x===108?_=":":x===114&&(w=":");let A=r.alignDelimiters===!1?1:Math.max(1,u[p]-_.length-w.length);const S=_+"-".repeat(A)+w;r.alignDelimiters!==!1&&(A=_.length+A+w.length,A>u[p]&&(u[p]=A),g[p]=A),v[p]=S}a.splice(1,0,v),o.splice(1,0,g),f=-1;const b=[];for(;++f<a.length;){const x=a[f],_=o[f];p=-1;const w=[];for(;++p<h;){const A=x[p]||"";let S="",N="";if(r.alignDelimiters!==!1){const P=u[p]-(_[p]||0),O=s[p];O===114?S=" ".repeat(P):O===99?P%2?(S=" ".repeat(P/2+.5),N=" ".repeat(P/2-.5)):(S=" ".repeat(P/2),N=S):N=" ".repeat(P)}r.delimiterStart!==!1&&!p&&w.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&A==="")&&(r.delimiterStart!==!1||p)&&w.push(" "),r.alignDelimiters!==!1&&w.push(S),w.push(A),r.alignDelimiters!==!1&&w.push(N),r.padding!==!1&&w.push(" "),(r.delimiterEnd!==!1||p!==h-1)&&w.push("|")}b.push(r.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return b.join(`
`)}function hhe(e){return e==null?"":String(e)}function UP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const HP={}.hasOwnProperty;function SM(e,t){const r=t||{};function n(i,...s){let a=n.invalid;const o=n.handlers;if(i&&HP.call(i,e)){const u=String(i[e]);a=HP.call(o,u)?o[u]:n.unknown}if(a)return a.call(this,i,...s)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function fhe(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),phe);return i(),a}function phe(e,t,r){return">"+(r?"":" ")+e}function mhe(e,t){return zP(e,t.inConstruct,!0)&&!zP(e,t.notInConstruct,!1)}function zP(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function WP(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&mhe(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function ghe(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function vhe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function yhe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function bhe(e,t,r,n){const i=yhe(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(vhe(e,r)){const p=r.enter("codeIndented"),v=r.indentLines(s,_he);return p(),v}const o=r.createTracker(n),u=i.repeat(Math.max(ghe(s,i)+1,3)),h=r.enter("codeFenced");let f=o.move(u);if(e.lang){const p=r.enter(`codeFencedLang${a}`);f+=o.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=r.enter(`codeFencedMeta${a}`);f+=o.move(" "),f+=o.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),p()}return f+=o.move(`
`),s&&(f+=o.move(s+`
`)),f+=o.move(u),h(),f}function _he(e,t,r){return(r?"":"    ")+e}function vE(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function xhe(e,t,r,n){const i=vE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const u=r.createTracker(n);let h=u.move("[");return h+=u.move(r.safe(r.associationId(e),{before:h,after:"]",...u.current()})),h+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(o=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=r.enter(`title${s}`),h+=u.move(" "+i),h+=u.move(r.safe(e.title,{before:h,after:i,...u.current()})),h+=u.move(i),o()),a(),h}function whe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Td(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Tm(e,t,r){const n=Kl(e),i=Kl(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}CM.peek=Ehe;function CM(e,t,r,n){const i=whe(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let u=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const h=u.charCodeAt(0),f=Tm(n.before.charCodeAt(n.before.length-1),h,i);f.inside&&(u=Td(h)+u.slice(1));const p=u.charCodeAt(u.length-1),v=Tm(n.after.charCodeAt(0),p,i);v.inside&&(u=u.slice(0,-1)+Td(p));const g=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+u+g}function Ehe(e,t,r){return r.options.emphasis||"*"}function khe(e,t){let r=!1;return Tg(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,R_}),!!((!e.depth||e.depth<3)&&uE(e)&&(t.options.setext||r))}function The(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(khe(e,r)){const f=r.enter("headingSetext"),p=r.enter("phrasing"),v=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),u=r.enter("phrasing");s.move(a+" ");let h=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=Td(h.charCodeAt(0))+h.slice(1)),h=h?a+" "+h:a,r.options.closeAtx&&(h+=" "+a),u(),o(),h}AM.peek=She;function AM(e){return e.value||""}function She(){return"<"}NM.peek=Che;function NM(e,t,r,n){const i=vE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const u=r.createTracker(n);let h=u.move("![");return h+=u.move(r.safe(e.alt,{before:h,after:"]",...u.current()})),h+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(o=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=r.enter(`title${s}`),h+=u.move(" "+i),h+=u.move(r.safe(e.title,{before:h,after:i,...u.current()})),h+=u.move(i),o()),h+=u.move(")"),a(),h}function Che(){return"!"}OM.peek=Ahe;function OM(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let u=o.move("![");const h=r.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(h+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:u,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!h||h!==p?u+=o.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Ahe(){return"!"}PM.peek=Nhe;function PM(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(n);){let h=u.index;n.charCodeAt(h)===10&&n.charCodeAt(h-1)===13&&h--,n=n.slice(0,h)+" "+n.slice(u.index+1)}}return i+n+i}function Nhe(){return"`"}function jM(e,t){const r=uE(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}IM.peek=Ohe;function IM(e,t,r,n){const i=vE(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,u;if(jM(e,r)){const f=r.stack;r.stack=[],o=r.enter("autolink");let p=a.move("<");return p+=a.move(r.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),r.stack=f,p}o=r.enter("link"),u=r.enter("label");let h=a.move("[");return h+=a.move(r.containerPhrasing(e,{before:h,after:"](",...a.current()})),h+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),h+=a.move("<"),h+=a.move(r.safe(e.url,{before:h,after:">",...a.current()})),h+=a.move(">")):(u=r.enter("destinationRaw"),h+=a.move(r.safe(e.url,{before:h,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=r.enter(`title${s}`),h+=a.move(" "+i),h+=a.move(r.safe(e.title,{before:h,after:i,...a.current()})),h+=a.move(i),u()),h+=a.move(")"),o(),h}function Ohe(e,t,r){return jM(e,r)?"<":"["}RM.peek=Phe;function RM(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let u=o.move("[");const h=r.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(h+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:u,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!h||h!==p?u+=o.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Phe(){return"["}function yE(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function jhe(e){const t=yE(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Ihe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function DM(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Rhe(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?Ihe(r):yE(r);const o=e.ordered?a==="."?")":".":jhe(r);let u=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),DM(r)===a&&f){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),r.bulletCurrent=a;const h=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),h}function Dhe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Lhe(e,t,r,n){const i=Dhe(r);let s=r.bulletCurrent||yE(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=r.enter("listItem"),h=r.indentLines(r.containerFlow(e,o.current()),f);return u(),h;function f(p,v,g){return v?(g?"":" ".repeat(a))+p:(g?s:s+" ".repeat(a-s.length))+p}}function Mhe(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const Fhe=Eg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Bhe(e,t,r,n){return(e.children.some(function(a){return Fhe(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function $he(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}LM.peek=Uhe;function LM(e,t,r,n){const i=$he(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let u=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const h=u.charCodeAt(0),f=Tm(n.before.charCodeAt(n.before.length-1),h,i);f.inside&&(u=Td(h)+u.slice(1));const p=u.charCodeAt(u.length-1),v=Tm(n.after.charCodeAt(0),p,i);v.inside&&(u=u.slice(0,-1)+Td(p));const g=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+u+g}function Uhe(e,t,r){return r.options.strong||"*"}function Hhe(e,t,r,n){return r.safe(e.value,n)}function zhe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Whe(e,t,r){const n=(DM(r)+(r.options.ruleSpaces?" ":"")).repeat(zhe(r));return r.options.ruleSpaces?n.slice(0,-1):n}const MM={blockquote:fhe,break:WP,code:bhe,definition:xhe,emphasis:CM,hardBreak:WP,heading:The,html:AM,image:NM,imageReference:OM,inlineCode:PM,link:IM,linkReference:RM,list:Rhe,listItem:Lhe,paragraph:Mhe,root:Bhe,strong:LM,text:Hhe,thematicBreak:Whe};function qhe(){return{enter:{table:Vhe,tableData:qP,tableHeader:qP,tableRow:Yhe},exit:{codeText:Khe,table:Ghe,tableData:Vb,tableHeader:Vb,tableRow:Vb}}}function Vhe(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Ghe(e){this.exit(e),this.data.inTable=void 0}function Yhe(e){this.enter({type:"tableRow",children:[]},e)}function Vb(e){this.exit(e)}function qP(e){this.enter({type:"tableCell",children:[]},e)}function Khe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Xhe));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Xhe(e,t){return t==="|"?t:e}function Qhe(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:u,tableRow:o}};function a(g,b,x,_){return h(f(g,x,_),g.align)}function o(g,b,x,_){const w=p(g,x,_),A=h([w]);return A.slice(0,A.indexOf(`
`))}function u(g,b,x,_){const w=x.enter("tableCell"),A=x.enter("phrasing"),S=x.containerPhrasing(g,{..._,before:s,after:s});return A(),w(),S}function h(g,b){return dhe(g,{align:b,alignDelimiters:n,padding:r,stringLength:i})}function f(g,b,x){const _=g.children;let w=-1;const A=[],S=b.enter("table");for(;++w<_.length;)A[w]=p(_[w],b,x);return S(),A}function p(g,b,x){const _=g.children;let w=-1;const A=[],S=b.enter("tableRow");for(;++w<_.length;)A[w]=u(_[w],g,b,x);return S(),A}function v(g,b,x){let _=MM.inlineCode(g,b,x);return x.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Jhe(){return{exit:{taskListCheckValueChecked:VP,taskListCheckValueUnchecked:VP,paragraph:efe}}}function Zhe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:tfe}}}function VP(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function efe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function tfe(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let u=MM.listItem(e,t,r,{...n,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),u;function h(f){return f+a}}function rfe(){return[Rde(),the(),she(),qhe(),Jhe()]}function nfe(e){return{extensions:[Dde(),rhe(e),ahe(),Qhe(e),Zhe()]}}const ife={tokenize:cfe,partial:!0},FM={tokenize:dfe,partial:!0},BM={tokenize:hfe,partial:!0},$M={tokenize:ffe,partial:!0},sfe={tokenize:pfe,partial:!0},UM={name:"wwwAutolink",tokenize:lfe,previous:zM},HM={name:"protocolAutolink",tokenize:ufe,previous:WM},Fs={name:"emailAutolink",tokenize:ofe,previous:qM},Zi={};function afe(){return{text:Zi}}let ro=48;for(;ro<123;)Zi[ro]=Fs,ro++,ro===58?ro=65:ro===91&&(ro=97);Zi[43]=Fs;Zi[45]=Fs;Zi[46]=Fs;Zi[95]=Fs;Zi[72]=[Fs,HM];Zi[104]=[Fs,HM];Zi[87]=[Fs,UM];Zi[119]=[Fs,UM];function ofe(e,t,r){const n=this;let i,s;return a;function a(p){return!F_(p)||!qM.call(n,n.previous)||bE(n.events)?r(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return F_(p)?(e.consume(p),o):p===64?(e.consume(p),u):r(p)}function u(p){return p===46?e.check(sfe,f,h)(p):p===45||p===95||$r(p)?(s=!0,e.consume(p),u):f(p)}function h(p){return e.consume(p),i=!0,u}function f(p){return s&&i&&Xr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):r(p)}}function lfe(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!zM.call(n,n.previous)||bE(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ife,e.attempt(FM,e.attempt(BM,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function ufe(e,t,r){const n=this;let i="",s=!1;return a;function a(p){return(p===72||p===104)&&WM.call(n,n.previous)&&!bE(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),o):r(p)}function o(p){if(Xr(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),u}return r(p)}function u(p){return p===47?(e.consume(p),s?h:(s=!0,u)):r(p)}function h(p){return p===null||Em(p)||Et(p)||Po(p)||_g(p)?r(p):e.attempt(FM,e.attempt(BM,f),r)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function cfe(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function dfe(e,t,r){let n,i,s;return a;function a(h){return h===46||h===95?e.check($M,u,o)(h):h===null||Et(h)||Po(h)||h!==45&&_g(h)?u(h):(s=!0,e.consume(h),a)}function o(h){return h===95?n=!0:(i=n,n=void 0),e.consume(h),a}function u(h){return i||n||!s?r(h):t(h)}}function hfe(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check($M,t,s)(a):a===null||Et(a)||Po(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function ffe(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Et(o)||Po(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||Et(o)||Po(o)?t(o):n(o)}function s(o){return Xr(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):Xr(o)?(e.consume(o),a):r(o)}}function pfe(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return $r(s)?r(s):t(s)}}function zM(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Et(e)}function WM(e){return!Xr(e)}function qM(e){return!(e===47||F_(e))}function F_(e){return e===43||e===45||e===46||e===95||$r(e)}function bE(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const mfe={tokenize:Efe,partial:!0};function gfe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_fe,continuation:{tokenize:xfe},exit:wfe}},text:{91:{name:"gfmFootnoteCall",tokenize:bfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:vfe,resolveTo:yfe}}}}function vfe(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const u=n.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return r(u);const h=Si(n.sliceSerialize({start:a.end,end:n.now()}));return h.codePointAt(0)!==94||!s.includes(h.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function yfe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function bfe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?r(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(p){if(s>999||p===93&&!a||p===null||p===91||Et(p))return r(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(Si(n.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(p)}return Et(p)||(a=!0),s++,e.consume(p),p===92?f:h}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,h):h(p)}}function _fe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(b)}function f(b){if(a>999||b===93&&!o||b===null||b===91||Et(b))return r(b);if(b===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=Si(n.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Et(b)||(o=!0),a++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,f):f(b)}function v(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),ot(e,g,"gfmFootnoteDefinitionWhitespace")):r(b)}function g(b){return t(b)}}function xfe(e,t,r){return e.check(Qd,t,e.attempt(mfe,t,r))}function wfe(e){e.exit("gfmFootnoteDefinition")}function Efe(e,t,r){const n=this;return ot(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function kfe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let h=u;for(;h--;)if(a[h][0]==="exit"&&a[h][1].type==="strikethroughSequenceTemporary"&&a[h][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[h][1].end.offset-a[h][1].start.offset){a[u][1].type="strikethroughSequence",a[h][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[h][1].start),end:Object.assign({},a[u][1].end)},p={type:"strikethroughText",start:Object.assign({},a[h][1].end),end:Object.assign({},a[u][1].start)},v=[["enter",f,o],["enter",a[h][1],o],["exit",a[h][1],o],["enter",p,o]],g=o.parser.constructs.insideSpan.null;g&&Rn(v,v.length,0,xg(g,a.slice(h+1,u),o)),Rn(v,v.length,0,[["exit",p,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",f,o]]),Rn(a,h-1,u-h+3,v),u=h+v.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const h=this.previous,f=this.events;let p=0;return v;function v(b){return h===126&&f[f.length-1][1].type!=="characterEscape"?u(b):(a.enter("strikethroughSequenceTemporary"),g(b))}function g(b){const x=Kl(h);if(b===126)return p>1?u(b):(a.consume(b),p++,g);if(p<2&&!r)return u(b);const _=a.exit("strikethroughSequenceTemporary"),w=Kl(b);return _._open=!w||w===2&&!!x,_._close=!x||x===2&&!!w,o(b)}}}class Tfe{constructor(){this.map=[]}add(t,r,n){Sfe(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function Sfe(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function Cfe(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Afe(){return{flow:{null:{name:"table",tokenize:Nfe,resolveAll:Ofe}}}}function Nfe(e,t,r){const n=this;let i=0,s=0,a;return o;function o(R){let F=n.events.length-1;for(;F>-1;){const V=n.events[F][1].type;if(V==="lineEnding"||V==="linePrefix")F--;else break}const H=F>-1?n.events[F][1].type:null,Y=H==="tableHead"||H==="tableRow"?O:u;return Y===O&&n.parser.lazy[n.now().line]?r(R):Y(R)}function u(R){return e.enter("tableHead"),e.enter("tableRow"),h(R)}function h(R){return R===124||(a=!0,s+=1),f(R)}function f(R){return R===null?r(R):ze(R)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),g):r(R):st(R)?ot(e,f,"whitespace")(R):(s+=1,a&&(a=!1,i+=1),R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),a=!0,f):(e.enter("data"),p(R)))}function p(R){return R===null||R===124||Et(R)?(e.exit("data"),f(R)):(e.consume(R),R===92?v:p)}function v(R){return R===92||R===124?(e.consume(R),p):p(R)}function g(R){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(R):(e.enter("tableDelimiterRow"),a=!1,st(R)?ot(e,b,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):b(R))}function b(R){return R===45||R===58?_(R):R===124?(a=!0,e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),x):P(R)}function x(R){return st(R)?ot(e,_,"whitespace")(R):_(R)}function _(R){return R===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),w):R===45?(s+=1,w(R)):R===null||ze(R)?N(R):P(R)}function w(R){return R===45?(e.enter("tableDelimiterFiller"),A(R)):P(R)}function A(R){return R===45?(e.consume(R),A):R===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(R))}function S(R){return st(R)?ot(e,N,"whitespace")(R):N(R)}function N(R){return R===124?b(R):R===null||ze(R)?!a||i!==s?P(R):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(R)):P(R)}function P(R){return r(R)}function O(R){return e.enter("tableRow"),j(R)}function j(R){return R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),j):R===null||ze(R)?(e.exit("tableRow"),t(R)):st(R)?ot(e,j,"whitespace")(R):(e.enter("data"),D(R))}function D(R){return R===null||R===124||Et(R)?(e.exit("data"),j(R)):(e.consume(R),R===92?B:D)}function B(R){return R===92||R===124?(e.consume(R),D):D(R)}}function Ofe(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,h,f,p;const v=new Tfe;for(;++r<e.length;){const g=e[r],b=g[1];g[0]==="enter"?b.type==="tableHead"?(o=!1,u!==0&&(GP(v,t,u,h,f),f=void 0,u=0),h={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(r,0,[["enter",h,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(r,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],p=Qf(v,t,s,i,void 0,p),s=[0,0,0,0]),a[2]=r)):b.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],p=Qf(v,t,s,i,void 0,p)),s=a,a=[s[1],r,0,0])):b.type==="tableHead"?(o=!0,u=r):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=r,s[1]!==0?(a[0]=a[1],p=Qf(v,t,s,i,r,p)):a[1]!==0&&(p=Qf(v,t,a,i,r,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=r)}for(u!==0&&GP(v,t,u,h,f),v.consume(t.events),r=-1;++r<t.events.length;){const g=t.events[r];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Cfe(t.events,r))}return e}function Qf(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},kl(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const u=kl(t.events,r[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const h=kl(t.events,r[2]),f=kl(t.events,r[3]),p={type:o,start:Object.assign({},h),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",p,t]]),n!==2){const v=t.events[r[2]],g=t.events[r[3]];if(v[1].end=Object.assign({},g[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const b=r[2]+1,x=r[3]-r[2]-1;e.add(b,x,[])}}e.add(r[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},kl(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function GP(e,t,r,n,i){const s=[],a=kl(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function kl(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const Pfe={name:"tasklistCheck",tokenize:Ife};function jfe(){return{text:{91:Pfe}}}function Ife(e,t,r){const n=this;return i;function i(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return Et(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):r(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(u)}function o(u){return ze(u)?t(u):st(u)?e.check({tokenize:Rfe},t,r)(u):r(u)}}function Rfe(e,t,r){return ot(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Dfe(e){return tM([afe(),gfe(),kfe(e),Afe(),jfe()])}const Lfe={};function Mfe(e){const t=this,r=e||Lfe,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Dfe(r)),s.push(rfe()),a.push(nfe(r))}const YP=/[#.]/g;function Ffe(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){YP.lastIndex=i;const o=YP.exec(r),u=r.slice(i,o?o.index:r.length);u&&(s?s==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function VM(e,t,r){const n=r?Hfe(r):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const h=a;o.unshift(h)}else{u=Ffe(s,t);const h=u.tagName.toLowerCase(),f=n?n.get(h):void 0;if(u.tagName=f||h,Bfe(a))o.unshift(a);else for(const[p,v]of Object.entries(a))$fe(e,u.properties,p,v)}for(const h of o)B_(u.children,h);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function Bfe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function $fe(e,t,r,n){const i=yg(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=oP(n):i.commaSeparated?s=rP(n):i.commaOrSpaceSeparated?s=oP(rP(n).join(" ")):s=KP(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?Ufe(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(KP(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function B_(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)B_(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?B_(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function KP(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Ed(r)===Ed(t)))return!0}return r}function Ufe(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function Hfe(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const zfe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Wfe=VM(Xd,"div"),qfe=VM(Ia,"g",zfe);function Vfe(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=r[a];if(o===void 0){const u=XP(t,r[a-1]);o=u===-1?t.length+1:u+1,r[a]=o}if(o>s)return{line:a+1,column:s-(a>0?r[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const o=r[r.length-1],u=XP(t,o),h=u===-1?t.length+1:u+1;if(o===h)break;r.push(h)}const a=(s.line>1?r[s.line-2]:0)+s.column-1;if(a<r[s.line-1])return a}}}function XP(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const go={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},GM={}.hasOwnProperty,Gfe=Object.prototype;function Yfe(e,t){const r=t||{};return _E({file:r.file||void 0,location:!1,schema:r.space==="svg"?Ia:Xd,verbose:r.verbose||!1},e)}function _E(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},cp(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:YM(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=Vfe(s),o=a.toPoint(0),u=a.toPoint(s.length);r.position={start:o,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},cp(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},cp(e,n,r),r}default:return r=Kfe(e,t),r}}function YM(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=_E(e,t[r]);n.push(i)}return n}function Kfe(e,t){const r=e.schema;e.schema=t.namespaceURI===go.svg?Ia:Xd;let n=-1;const i={};for(;++n<t.attrs.length;){const o=t.attrs[n],u=(o.prefix?o.prefix+":":"")+o.name;GM.call(Gfe,u)||(i[u]=o.value)}const a=(e.schema.space==="svg"?qfe:Wfe)(t.tagName,i,YM(e,t.childNodes));if(cp(e,t,a),a.tagName==="template"){const o=t,u=o.sourceCodeLocation,h=u&&u.startTag&&Al(u.startTag),f=u&&u.endTag&&Al(u.endTag),p=_E(e,o.content);h&&f&&e.file&&(p.position={start:h.end,end:f.start}),a.content=p}return e.schema=r,a}function cp(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=Xfe(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function Xfe(e,t,r){const n=Al(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(r.attrs)for(a in r.attrs)GM.call(r.attrs,a)&&(s[yg(e.schema,a).property]=Al(r.attrs[a]));r.startTag;const o=Al(r.startTag),u=r.endTag?Al(r.endTag):void 0,h={opening:o};u&&(h.closing=u),h.properties=s,t.data={position:h}}}return n}function Al(e){const t=QP({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=QP({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function QP(e){return e.line&&e.column?e:void 0}const Qfe={},Jfe={}.hasOwnProperty,KM=SM("type",{handlers:{root:epe,element:spe,text:npe,comment:ipe,doctype:rpe}});function Zfe(e,t){const n=(t||Qfe).space;return KM(e,n==="svg"?Ia:Xd)}function epe(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=xE(e.children,r,t),bu(e,r),r}function tpe(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=xE(e.children,r,t),bu(e,r),r}function rpe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return bu(e,t),t}function npe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return bu(e,t),t}function ipe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return bu(e,t),t}function spe(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=Ia);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Jfe.call(e.properties,s)){const u=ape(n,s,e.properties[s]);u&&i.push(u)}}const a=n.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:go[a],childNodes:[],parentNode:null};return o.childNodes=xE(e.children,o,n),bu(e,o),e.tagName==="template"&&e.content&&(o.content=tpe(e.content,n)),o}function ape(e,t,r){const n=yg(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?$4(r):Y4(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=n.attribute.slice(0,s)),i.namespace=go[n.space]}return i}function xE(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const s=KM(e[n],r);s.parentNode=t,i.push(s)}return i}function bu(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const ope=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],lpe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Dt="";var M;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(M||(M={}));const ln={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function XM(e){return e>=55296&&e<=57343}function upe(e){return e>=56320&&e<=57343}function cpe(e,t){return(e-55296)*1024+9216+t}function QM(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function JM(e){return e>=64976&&e<=65007||lpe.has(e)}var le;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(le||(le={}));const dpe=65536;class hpe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=dpe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,a=i+r,o=s+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(upe(r))return this.pos++,this._addGap(),cpe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,M.EOF;return this._err(le.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;const n=this.html.charCodeAt(r);return n===M.CARRIAGE_RETURN?M.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let t=this.html.charCodeAt(this.pos);return t===M.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,M.LINE_FEED):t===M.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,XM(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===M.LINE_FEED||t===M.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){QM(t)?this._err(le.controlCharacterInInputStream):JM(t)&&this._err(le.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var nt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(nt||(nt={}));function ZM(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const fpe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),ppe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function mpe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=ppe.get(e))!==null&&t!==void 0?t:e}var yr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(yr||(yr={}));const gpe=32;var _a;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(_a||(_a={}));function $_(e){return e>=yr.ZERO&&e<=yr.NINE}function vpe(e){return e>=yr.UPPER_A&&e<=yr.UPPER_F||e>=yr.LOWER_A&&e<=yr.LOWER_F}function ype(e){return e>=yr.UPPER_A&&e<=yr.UPPER_Z||e>=yr.LOWER_A&&e<=yr.LOWER_Z||$_(e)}function bpe(e){return e===yr.EQUALS||ype(e)}var mr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(mr||(mr={}));var vs;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(vs||(vs={}));class _pe{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=mr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=vs.Strict}startEntity(t){this.decodeMode=t,this.state=mr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case mr.EntityStart:return t.charCodeAt(r)===yr.NUM?(this.state=mr.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=mr.NamedEntity,this.stateNamedEntity(t,r));case mr.NumericStart:return this.stateNumericStart(t,r);case mr.NumericDecimal:return this.stateNumericDecimal(t,r);case mr.NumericHex:return this.stateNumericHex(t,r);case mr.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|gpe)===yr.LOWER_X?(this.state=mr.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=mr.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if($_(i)||vpe(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if($_(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===yr.SEMI)this.consumed+=1;else if(this.decodeMode===vs.Strict)return 0;return this.emitCodePoint(mpe(this.result),this.consumed),this.errors&&(t!==yr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&_a.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=xpe(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===vs.Attribute&&(s===0||bpe(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&_a.VALUE_LENGTH)>>14,s!==0){if(a===yr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==vs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&_a.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~_a.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case mr.NamedEntity:return this.result!==0&&(this.decodeMode!==vs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case mr.NumericDecimal:return this.emitNumericEntity(0,2);case mr.NumericHex:return this.emitNumericEntity(0,3);case mr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mr.EntityStart:return 0}}}function xpe(e,t,r,n){const i=(t&_a.BRANCH_LENGTH)>>7,s=t&_a.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const u=n-s;return u<0||u>=i?-1:e[r+u]-1}let a=r,o=a+i-1;for(;a<=o;){const u=a+o>>>1,h=e[u];if(h<n)a=u+1;else if(h>n)o=u-1;else return e[u+i]}return-1}var fe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(fe||(fe={}));var xo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(xo||(xo={}));var Jn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Jn||(Jn={}));var J;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(J||(J={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(E||(E={}));const wpe=new Map([[J.A,E.A],[J.ADDRESS,E.ADDRESS],[J.ANNOTATION_XML,E.ANNOTATION_XML],[J.APPLET,E.APPLET],[J.AREA,E.AREA],[J.ARTICLE,E.ARTICLE],[J.ASIDE,E.ASIDE],[J.B,E.B],[J.BASE,E.BASE],[J.BASEFONT,E.BASEFONT],[J.BGSOUND,E.BGSOUND],[J.BIG,E.BIG],[J.BLOCKQUOTE,E.BLOCKQUOTE],[J.BODY,E.BODY],[J.BR,E.BR],[J.BUTTON,E.BUTTON],[J.CAPTION,E.CAPTION],[J.CENTER,E.CENTER],[J.CODE,E.CODE],[J.COL,E.COL],[J.COLGROUP,E.COLGROUP],[J.DD,E.DD],[J.DESC,E.DESC],[J.DETAILS,E.DETAILS],[J.DIALOG,E.DIALOG],[J.DIR,E.DIR],[J.DIV,E.DIV],[J.DL,E.DL],[J.DT,E.DT],[J.EM,E.EM],[J.EMBED,E.EMBED],[J.FIELDSET,E.FIELDSET],[J.FIGCAPTION,E.FIGCAPTION],[J.FIGURE,E.FIGURE],[J.FONT,E.FONT],[J.FOOTER,E.FOOTER],[J.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[J.FORM,E.FORM],[J.FRAME,E.FRAME],[J.FRAMESET,E.FRAMESET],[J.H1,E.H1],[J.H2,E.H2],[J.H3,E.H3],[J.H4,E.H4],[J.H5,E.H5],[J.H6,E.H6],[J.HEAD,E.HEAD],[J.HEADER,E.HEADER],[J.HGROUP,E.HGROUP],[J.HR,E.HR],[J.HTML,E.HTML],[J.I,E.I],[J.IMG,E.IMG],[J.IMAGE,E.IMAGE],[J.INPUT,E.INPUT],[J.IFRAME,E.IFRAME],[J.KEYGEN,E.KEYGEN],[J.LABEL,E.LABEL],[J.LI,E.LI],[J.LINK,E.LINK],[J.LISTING,E.LISTING],[J.MAIN,E.MAIN],[J.MALIGNMARK,E.MALIGNMARK],[J.MARQUEE,E.MARQUEE],[J.MATH,E.MATH],[J.MENU,E.MENU],[J.META,E.META],[J.MGLYPH,E.MGLYPH],[J.MI,E.MI],[J.MO,E.MO],[J.MN,E.MN],[J.MS,E.MS],[J.MTEXT,E.MTEXT],[J.NAV,E.NAV],[J.NOBR,E.NOBR],[J.NOFRAMES,E.NOFRAMES],[J.NOEMBED,E.NOEMBED],[J.NOSCRIPT,E.NOSCRIPT],[J.OBJECT,E.OBJECT],[J.OL,E.OL],[J.OPTGROUP,E.OPTGROUP],[J.OPTION,E.OPTION],[J.P,E.P],[J.PARAM,E.PARAM],[J.PLAINTEXT,E.PLAINTEXT],[J.PRE,E.PRE],[J.RB,E.RB],[J.RP,E.RP],[J.RT,E.RT],[J.RTC,E.RTC],[J.RUBY,E.RUBY],[J.S,E.S],[J.SCRIPT,E.SCRIPT],[J.SEARCH,E.SEARCH],[J.SECTION,E.SECTION],[J.SELECT,E.SELECT],[J.SOURCE,E.SOURCE],[J.SMALL,E.SMALL],[J.SPAN,E.SPAN],[J.STRIKE,E.STRIKE],[J.STRONG,E.STRONG],[J.STYLE,E.STYLE],[J.SUB,E.SUB],[J.SUMMARY,E.SUMMARY],[J.SUP,E.SUP],[J.TABLE,E.TABLE],[J.TBODY,E.TBODY],[J.TEMPLATE,E.TEMPLATE],[J.TEXTAREA,E.TEXTAREA],[J.TFOOT,E.TFOOT],[J.TD,E.TD],[J.TH,E.TH],[J.THEAD,E.THEAD],[J.TITLE,E.TITLE],[J.TR,E.TR],[J.TRACK,E.TRACK],[J.TT,E.TT],[J.U,E.U],[J.UL,E.UL],[J.SVG,E.SVG],[J.VAR,E.VAR],[J.WBR,E.WBR],[J.XMP,E.XMP]]);function _u(e){var t;return(t=wpe.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const ve=E,Epe={[fe.HTML]:new Set([ve.ADDRESS,ve.APPLET,ve.AREA,ve.ARTICLE,ve.ASIDE,ve.BASE,ve.BASEFONT,ve.BGSOUND,ve.BLOCKQUOTE,ve.BODY,ve.BR,ve.BUTTON,ve.CAPTION,ve.CENTER,ve.COL,ve.COLGROUP,ve.DD,ve.DETAILS,ve.DIR,ve.DIV,ve.DL,ve.DT,ve.EMBED,ve.FIELDSET,ve.FIGCAPTION,ve.FIGURE,ve.FOOTER,ve.FORM,ve.FRAME,ve.FRAMESET,ve.H1,ve.H2,ve.H3,ve.H4,ve.H5,ve.H6,ve.HEAD,ve.HEADER,ve.HGROUP,ve.HR,ve.HTML,ve.IFRAME,ve.IMG,ve.INPUT,ve.LI,ve.LINK,ve.LISTING,ve.MAIN,ve.MARQUEE,ve.MENU,ve.META,ve.NAV,ve.NOEMBED,ve.NOFRAMES,ve.NOSCRIPT,ve.OBJECT,ve.OL,ve.P,ve.PARAM,ve.PLAINTEXT,ve.PRE,ve.SCRIPT,ve.SECTION,ve.SELECT,ve.SOURCE,ve.STYLE,ve.SUMMARY,ve.TABLE,ve.TBODY,ve.TD,ve.TEMPLATE,ve.TEXTAREA,ve.TFOOT,ve.TH,ve.THEAD,ve.TITLE,ve.TR,ve.TRACK,ve.UL,ve.WBR,ve.XMP]),[fe.MATHML]:new Set([ve.MI,ve.MO,ve.MN,ve.MS,ve.MTEXT,ve.ANNOTATION_XML]),[fe.SVG]:new Set([ve.TITLE,ve.FOREIGN_OBJECT,ve.DESC]),[fe.XLINK]:new Set,[fe.XML]:new Set,[fe.XMLNS]:new Set},U_=new Set([ve.H1,ve.H2,ve.H3,ve.H4,ve.H5,ve.H6]);J.STYLE,J.SCRIPT,J.XMP,J.IFRAME,J.NOEMBED,J.NOFRAMES,J.PLAINTEXT;var U;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(U||(U={}));const Yt={DATA:U.DATA,RCDATA:U.RCDATA,RAWTEXT:U.RAWTEXT,SCRIPT_DATA:U.SCRIPT_DATA,PLAINTEXT:U.PLAINTEXT,CDATA_SECTION:U.CDATA_SECTION};function kpe(e){return e>=M.DIGIT_0&&e<=M.DIGIT_9}function Uc(e){return e>=M.LATIN_CAPITAL_A&&e<=M.LATIN_CAPITAL_Z}function Tpe(e){return e>=M.LATIN_SMALL_A&&e<=M.LATIN_SMALL_Z}function ha(e){return Tpe(e)||Uc(e)}function JP(e){return ha(e)||kpe(e)}function Jf(e){return e+32}function e5(e){return e===M.SPACE||e===M.LINE_FEED||e===M.TABULATION||e===M.FORM_FEED}function ZP(e){return e5(e)||e===M.SOLIDUS||e===M.GREATER_THAN_SIGN}function Spe(e){return e===M.NULL?le.nullCharacterReference:e>1114111?le.characterReferenceOutsideUnicodeRange:XM(e)?le.surrogateCharacterReference:JM(e)?le.noncharacterCharacterReference:QM(e)||e===M.CARRIAGE_RETURN?le.controlCharacterReference:null}class Cpe{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=U.DATA,this.returnState=U.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new hpe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new _pe(fpe,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(le.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(le.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=Spe(n);i&&this._err(i,1)}}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:nt.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:nt.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:nt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:nt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(ZM(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(le.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=_u(t.tagName),t.type===nt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(le.endTagWithAttributes),t.selfClosing&&this._err(le.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case nt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case nt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case nt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:nt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=e5(t)?nt.WHITESPACE_CHARACTER:t===M.NULL?nt.NULL_CHARACTER:nt.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(nt.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=U.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?vs.Attribute:vs.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===U.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case U.DATA:{this._stateData(t);break}case U.RCDATA:{this._stateRcdata(t);break}case U.RAWTEXT:{this._stateRawtext(t);break}case U.SCRIPT_DATA:{this._stateScriptData(t);break}case U.PLAINTEXT:{this._statePlaintext(t);break}case U.TAG_OPEN:{this._stateTagOpen(t);break}case U.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case U.TAG_NAME:{this._stateTagName(t);break}case U.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case U.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case U.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case U.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case U.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case U.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case U.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case U.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case U.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case U.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case U.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case U.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case U.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case U.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case U.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case U.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case U.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case U.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case U.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case U.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case U.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case U.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case U.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case U.BOGUS_COMMENT:{this._stateBogusComment(t);break}case U.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case U.COMMENT_START:{this._stateCommentStart(t);break}case U.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case U.COMMENT:{this._stateComment(t);break}case U.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case U.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case U.COMMENT_END:{this._stateCommentEnd(t);break}case U.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case U.DOCTYPE:{this._stateDoctype(t);break}case U.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case U.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case U.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case U.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case U.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case U.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case U.CDATA_SECTION:{this._stateCdataSection(t);break}case U.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case U.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case U.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case U.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=U.TAG_OPEN;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitCodePoint(t);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case M.AMPERSAND:{this._startCharacterReference();break}case M.LESS_THAN_SIGN:{this.state=U.RCDATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitChars(Dt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case M.LESS_THAN_SIGN:{this.state=U.RAWTEXT_LESS_THAN_SIGN;break}case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitChars(Dt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitChars(Dt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitChars(Dt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ha(t))this._createStartTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case M.EXCLAMATION_MARK:{this.state=U.MARKUP_DECLARATION_OPEN;break}case M.SOLIDUS:{this.state=U.END_TAG_OPEN;break}case M.QUESTION_MARK:{this._err(le.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t);break}case M.EOF:{this._err(le.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(le.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=U.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ha(t))this._createEndTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case M.GREATER_THAN_SIGN:{this._err(le.missingEndTagName),this.state=U.DATA;break}case M.EOF:{this._err(le.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(le.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=U.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.tagName+=Dt;break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Uc(t)?Jf(t):t)}}_stateRcdataLessThanSign(t){t===M.SOLIDUS?this.state=U.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ha(t)?(this.state=U.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=U.BEFORE_ATTRIBUTE_NAME,!1;case M.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=U.SELF_CLOSING_START_TAG,!1;case M.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=U.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===M.SOLIDUS?this.state=U.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ha(t)?(this.state=U.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case M.SOLIDUS:{this.state=U.SCRIPT_DATA_END_TAG_OPEN;break}case M.EXCLAMATION_MARK:{this.state=U.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=U.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ha(t)?(this.state=U.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===M.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===M.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitChars(Dt);break}case M.EOF:{this._err(le.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case M.EOF:{this._err(le.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case M.EOF:{this._err(le.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===M.SOLIDUS?this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ha(t)?(this._emitChars("<"),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ha(t)?(this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ln.SCRIPT,!1)&&ZP(this.preprocessor.peek(ln.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ln.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(le.unexpectedNullCharacter),this._emitChars(Dt);break}case M.EOF:{this._err(le.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case M.EOF:{this._err(le.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case M.EOF:{this._err(le.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===M.SOLIDUS?(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ln.SCRIPT,!1)&&ZP(this.preprocessor.peek(ln.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ln.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._err(le.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=U.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this._leaveAttrName(),this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._leaveAttrName(),this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:{this._err(le.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.currentAttr.name+=Dt;break}default:this.currentAttr.name+=String.fromCodePoint(Uc(t)?Jf(t):t)}}_stateAfterAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case M.EQUALS_SIGN:{this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{this.state=U.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this.state=U.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(le.missingAttributeValue),this.state=U.DATA,this.emitCurrentTagToken();break}default:this.state=U.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case M.QUOTATION_MARK:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case M.APOSTROPHE:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(le.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:case M.EQUALS_SIGN:case M.GRAVE_ACCENT:{this._err(le.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this._leaveAttrValue(),this.state=U.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:this._err(le.missingWhitespaceBetweenAttributes),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case M.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=U.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(le.eofInTag),this._emitEOFToken();break}default:this._err(le.unexpectedSolidusInTag),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(r);break}case M.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.data+=Dt;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ln.DASH_DASH,!0)?(this._createCommentToken(ln.DASH_DASH.length+1),this.state=U.COMMENT_START):this._consumeSequenceIfMatch(ln.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ln.DOCTYPE.length+1),this.state=U.DOCTYPE):this._consumeSequenceIfMatch(ln.CDATA_START,!0)?this.inForeignNode?this.state=U.CDATA_SECTION:(this._err(le.cdataInHtmlContent),this._createCommentToken(ln.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=U.BOGUS_COMMENT):this._ensureHibernation()||(this._err(le.incorrectlyOpenedComment),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case M.HYPHEN_MINUS:{this.state=U.COMMENT_START_DASH;break}case M.GREATER_THAN_SIGN:{this._err(le.abruptClosingOfEmptyComment),this.state=U.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case M.GREATER_THAN_SIGN:{this._err(le.abruptClosingOfEmptyComment),this.state=U.DATA,this.emitCurrentComment(r);break}case M.EOF:{this._err(le.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=U.COMMENT_END_DASH;break}case M.LESS_THAN_SIGN:{r.data+="<",this.state=U.COMMENT_LESS_THAN_SIGN;break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.data+=Dt;break}case M.EOF:{this._err(le.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case M.EXCLAMATION_MARK:{r.data+="!",this.state=U.COMMENT_LESS_THAN_SIGN_BANG;break}case M.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===M.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=U.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===M.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=U.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==M.GREATER_THAN_SIGN&&t!==M.EOF&&this._err(le.nestedComment),this.state=U.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case M.EOF:{this._err(le.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(r);break}case M.EXCLAMATION_MARK:{this.state=U.COMMENT_END_BANG;break}case M.HYPHEN_MINUS:{r.data+="-";break}case M.EOF:{this._err(le.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{r.data+="--!",this.state=U.COMMENT_END_DASH;break}case M.GREATER_THAN_SIGN:{this._err(le.incorrectlyClosedComment),this.state=U.DATA,this.emitCurrentComment(r);break}case M.EOF:{this._err(le.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=U.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case M.EOF:{this._err(le.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingWhitespaceBeforeDoctypeName),this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Uc(t))this._createDoctypeToken(String.fromCharCode(Jf(t))),this.state=U.DOCTYPE_NAME;else switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.NULL:{this._err(le.unexpectedNullCharacter),this._createDoctypeToken(Dt),this.state=U.DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this._err(le.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.EOF:{this._err(le.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=U.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=U.AFTER_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.name+=Dt;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Uc(t)?Jf(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ln.PUBLIC,!1)?this.state=U.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ln.SYSTEM,!1)?this.state=U.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(le.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(le.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(le.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(le.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(le.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.publicId+=Dt;break}case M.GREATER_THAN_SIGN:{this._err(le.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.publicId+=Dt;break}case M.GREATER_THAN_SIGN:{this._err(le.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case M.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.QUOTATION_MARK:{this._err(le.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(le.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.QUOTATION_MARK:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(le.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(le.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(le.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(le.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.systemId+=Dt;break}case M.GREATER_THAN_SIGN:{this._err(le.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(le.unexpectedNullCharacter),r.systemId+=Dt;break}case M.GREATER_THAN_SIGN:{this._err(le.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.EOF:{this._err(le.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(le.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case M.NULL:{this._err(le.unexpectedNullCharacter);break}case M.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case M.RIGHT_SQUARE_BRACKET:{this.state=U.CDATA_SECTION_BRACKET;break}case M.EOF:{this._err(le.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===M.RIGHT_SQUARE_BRACKET?this.state=U.CDATA_SECTION_END:(this._emitChars("]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case M.GREATER_THAN_SIGN:{this.state=U.DATA;break}case M.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(M.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&JP(this.preprocessor.peek(1))?U.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){JP(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===M.SEMICOLON&&this._err(le.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const t5=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),ej=new Set([...t5,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),Sm=new Set([E.APPLET,E.CAPTION,E.HTML,E.MARQUEE,E.OBJECT,E.TABLE,E.TD,E.TEMPLATE,E.TH]),Ape=new Set([...Sm,E.OL,E.UL]),Npe=new Set([...Sm,E.BUTTON]),tj=new Set([E.ANNOTATION_XML,E.MI,E.MN,E.MO,E.MS,E.MTEXT]),rj=new Set([E.DESC,E.FOREIGN_OBJECT,E.TITLE]),Ope=new Set([E.TR,E.TEMPLATE,E.HTML]),Ppe=new Set([E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML]),jpe=new Set([E.TABLE,E.TEMPLATE,E.HTML]),Ipe=new Set([E.TD,E.TH]);class Rpe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===fe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==fe.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(U_,fe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ipe,fe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(jpe,fe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Ppe,fe.HTML)}clearBackToTableRowContext(){this.clearBackTo(Ope,fe.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case fe.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case fe.SVG:{if(rj.has(i))return!1;break}case fe.MATHML:{if(tj.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Sm)}hasInListItemScope(t){return this.hasInDynamicScope(t,Ape)}hasInButtonScope(t){return this.hasInDynamicScope(t,Npe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case fe.HTML:{if(U_.has(r))return!0;if(Sm.has(r))return!1;break}case fe.SVG:{if(rj.has(r))return!1;break}case fe.MATHML:{if(tj.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===fe.HTML)switch(this.tagIDs[r]){case t:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===fe.HTML)switch(this.tagIDs[t]){case E.TBODY:case E.THEAD:case E.TFOOT:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===fe.HTML)switch(this.tagIDs[r]){case t:return!0;case E.OPTION:case E.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&t5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&ej.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&ej.has(this.currentTagId);)this.pop()}}const Gb=3;var $i;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})($i||($i={}));const nj={type:$i.Marker};class Dpe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===$i.Marker)break;const{element:h}=u;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===a){const f=this.treeAdapter.getAttrList(h);f.length===i&&n.push({idx:o,attrs:f})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<Gb)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<Gb)return;const i=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Gb&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(nj)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:$i.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:$i.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(nj);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===$i.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===$i.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===$i.Element&&r.element===t)}}const fa={createDocument(){return{nodeName:"#document",mode:Jn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};fa.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(fa.isTextNode(r)){r.value+=t;return}}fa.appendChild(e,fa.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&fa.isTextNode(n)?n.value+=t:fa.insertBefore(e,fa.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},r5="html",Lpe="about:legacy-compat",Mpe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",n5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Fpe=[...n5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Bpe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),i5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],$pe=[...i5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function ij(e,t){return t.some(r=>e.startsWith(r))}function Upe(e){return e.name===r5&&e.publicId===null&&(e.systemId===null||e.systemId===Lpe)}function Hpe(e){if(e.name!==r5)return Jn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Mpe)return Jn.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Bpe.has(r))return Jn.QUIRKS;let n=t===null?Fpe:n5;if(ij(r,n))return Jn.QUIRKS;if(n=t===null?i5:$pe,ij(r,n))return Jn.LIMITED_QUIRKS}return Jn.NO_QUIRKS}const sj={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},zpe="definitionurl",Wpe="definitionURL",qpe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Vpe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:fe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:fe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:fe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:fe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:fe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:fe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:fe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:fe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:fe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:fe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:fe.XMLNS}]]),Gpe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ype=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function Kpe(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:n})=>n===xo.COLOR||n===xo.SIZE||n===xo.FACE)||Ype.has(t)}function s5(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===zpe){e.attrs[t].name=Wpe;break}}function a5(e){for(let t=0;t<e.attrs.length;t++){const r=qpe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function wE(e){for(let t=0;t<e.attrs.length;t++){const r=Vpe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function Xpe(e){const t=Gpe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=_u(e.tagName))}function Qpe(e,t){return t===fe.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function Jpe(e,t,r){if(t===fe.MATHML&&e===E.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===xo.ENCODING){const i=r[n].value.toLowerCase();return i===sj.TEXT_HTML||i===sj.APPLICATION_XML}}return t===fe.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function Zpe(e,t,r,n){return(!n||n===fe.HTML)&&Jpe(e,t,r)||(!n||n===fe.MATHML)&&Qpe(e,t)}const eme="hidden",tme=8,rme=3;var W;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const nme={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},o5=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),aj={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:fa,onParseError:null};class oj{constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...aj,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Cpe(this.options,this),this.activeFormattingElements=new Dpe(this.treeAdapter),this.fragmentContextID=n?_u(this.treeAdapter.getTagName(n)):E.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Rpe(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...aj,...r};t??(t=n.treeAdapter.createElement(J.TEMPLATE,fe.HTML,[]));const i=n.treeAdapter.createElement("documentmock",fe.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:nme,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===fe.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,fe.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=Yt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===J.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==fe.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Yt.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Yt.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Yt.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Yt.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,fe.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,fe.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(J.HTML,fe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:h,endOffset:f}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:h,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===nt.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(r)===J.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===fe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,fe.HTML)}_processToken(t){switch(t.type){case nt.CHARACTER:{this.onCharacter(t);break}case nt.NULL_CHARACTER:{this.onNullCharacter(t);break}case nt.COMMENT:{this.onComment(t);break}case nt.DOCTYPE:{this.onDoctype(t);break}case nt.START_TAG:{this._processStartTag(t);break}case nt.END_TAG:{this.onEndTag(t);break}case nt.EOF:{this.onEof(t);break}case nt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return Zpe(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===$i.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=W.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=W.IN_TABLE;return}case E.BODY:{this.insertionMode=W.IN_BODY;return}case E.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=W.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===E.TEMPLATE)break;if(n===E.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(t){return o5.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===fe.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case E.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return Epe[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Ige(this,t);return}switch(this.insertionMode){case W.INITIAL:{Nc(this,t);break}case W.BEFORE_HTML:{Jc(this,t);break}case W.BEFORE_HEAD:{Zc(this,t);break}case W.IN_HEAD:{ed(this,t);break}case W.IN_HEAD_NO_SCRIPT:{td(this,t);break}case W.AFTER_HEAD:{rd(this,t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{u5(this,t);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Yb(this,t);break}case W.IN_TABLE_TEXT:{m5(this,t);break}case W.IN_COLUMN_GROUP:{Cm(this,t);break}case W.AFTER_BODY:{Am(this,t);break}case W.AFTER_AFTER_BODY:{dp(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){jge(this,t);return}switch(this.insertionMode){case W.INITIAL:{Nc(this,t);break}case W.BEFORE_HTML:{Jc(this,t);break}case W.BEFORE_HEAD:{Zc(this,t);break}case W.IN_HEAD:{ed(this,t);break}case W.IN_HEAD_NO_SCRIPT:{td(this,t);break}case W.AFTER_HEAD:{rd(this,t);break}case W.TEXT:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Yb(this,t);break}case W.IN_COLUMN_GROUP:{Cm(this,t);break}case W.AFTER_BODY:{Am(this,t);break}case W.AFTER_AFTER_BODY:{dp(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){H_(this,t);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{H_(this,t);break}case W.IN_TABLE_TEXT:{Oc(this,t);break}case W.AFTER_BODY:{cme(this,t);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{dme(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{hme(this,t);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(t,le.misplacedDoctype);break}case W.IN_TABLE_TEXT:{Oc(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,le.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Rge(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{Nc(this,t);break}case W.BEFORE_HTML:{fme(this,t);break}case W.BEFORE_HEAD:{mme(this,t);break}case W.IN_HEAD:{ji(this,t);break}case W.IN_HEAD_NO_SCRIPT:{yme(this,t);break}case W.AFTER_HEAD:{_me(this,t);break}case W.IN_BODY:{zr(this,t);break}case W.IN_TABLE:{Ql(this,t);break}case W.IN_TABLE_TEXT:{Oc(this,t);break}case W.IN_CAPTION:{gge(this,t);break}case W.IN_COLUMN_GROUP:{TE(this,t);break}case W.IN_TABLE_BODY:{Ag(this,t);break}case W.IN_ROW:{Ng(this,t);break}case W.IN_CELL:{bge(this,t);break}case W.IN_SELECT:{y5(this,t);break}case W.IN_SELECT_IN_TABLE:{xge(this,t);break}case W.IN_TEMPLATE:{Ege(this,t);break}case W.AFTER_BODY:{Tge(this,t);break}case W.IN_FRAMESET:{Sge(this,t);break}case W.AFTER_FRAMESET:{Age(this,t);break}case W.AFTER_AFTER_BODY:{Oge(this,t);break}case W.AFTER_AFTER_FRAMESET:{Pge(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Dge(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{Nc(this,t);break}case W.BEFORE_HTML:{pme(this,t);break}case W.BEFORE_HEAD:{gme(this,t);break}case W.IN_HEAD:{vme(this,t);break}case W.IN_HEAD_NO_SCRIPT:{bme(this,t);break}case W.AFTER_HEAD:{xme(this,t);break}case W.IN_BODY:{Cg(this,t);break}case W.TEXT:{age(this,t);break}case W.IN_TABLE:{Sd(this,t);break}case W.IN_TABLE_TEXT:{Oc(this,t);break}case W.IN_CAPTION:{vge(this,t);break}case W.IN_COLUMN_GROUP:{yge(this,t);break}case W.IN_TABLE_BODY:{z_(this,t);break}case W.IN_ROW:{v5(this,t);break}case W.IN_CELL:{_ge(this,t);break}case W.IN_SELECT:{b5(this,t);break}case W.IN_SELECT_IN_TABLE:{wge(this,t);break}case W.IN_TEMPLATE:{kge(this,t);break}case W.AFTER_BODY:{x5(this,t);break}case W.IN_FRAMESET:{Cge(this,t);break}case W.AFTER_FRAMESET:{Nge(this,t);break}case W.AFTER_AFTER_BODY:{dp(this,t);break}}}onEof(t){switch(this.insertionMode){case W.INITIAL:{Nc(this,t);break}case W.BEFORE_HTML:{Jc(this,t);break}case W.BEFORE_HEAD:{Zc(this,t);break}case W.IN_HEAD:{ed(this,t);break}case W.IN_HEAD_NO_SCRIPT:{td(this,t);break}case W.AFTER_HEAD:{rd(this,t);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{f5(this,t);break}case W.TEXT:{oge(this,t);break}case W.IN_TABLE_TEXT:{Oc(this,t);break}case W.IN_TEMPLATE:{_5(this,t);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{kE(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===M.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{l5(this,t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Yb(this,t);break}case W.IN_TABLE_TEXT:{p5(this,t);break}}}}function ime(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):h5(e,t),r}function sme(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function ame(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==r;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),u=o&&s>=rme;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=ome(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function ome(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function lme(e,t,r){const n=e.treeAdapter.getTagName(t),i=_u(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===E.TEMPLATE&&s===fe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function ume(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}function EE(e,t){for(let r=0;r<tme;r++){const n=ime(e,t);if(!n)break;const i=sme(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=ame(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),a&&lme(e,a,s),ume(e,i,n)}}function H_(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function cme(e,t){e._appendCommentNode(t,e.openElements.items[0])}function dme(e,t){e._appendCommentNode(t,e.document)}function kE(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function hme(e,t){e._setDocumentType(t);const r=t.forceQuirks?Jn.QUIRKS:Hpe(t);Upe(t)||e._err(t,le.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=W.BEFORE_HTML}function Nc(e,t){e._err(t,le.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Jn.QUIRKS),e.insertionMode=W.BEFORE_HTML,e._processToken(t)}function fme(e,t){t.tagID===E.HTML?(e._insertElement(t,fe.HTML),e.insertionMode=W.BEFORE_HEAD):Jc(e,t)}function pme(e,t){const r=t.tagID;(r===E.HTML||r===E.HEAD||r===E.BODY||r===E.BR)&&Jc(e,t)}function Jc(e,t){e._insertFakeRootElement(),e.insertionMode=W.BEFORE_HEAD,e._processToken(t)}function mme(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.HEAD:{e._insertElement(t,fe.HTML),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD;break}default:Zc(e,t)}}function gme(e,t){const r=t.tagID;r===E.HEAD||r===E.BODY||r===E.HTML||r===E.BR?Zc(e,t):e._err(t,le.endTagWithoutMatchingOpenElement)}function Zc(e,t){e._insertFakeElement(J.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD,e._processToken(t)}function ji(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Yt.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Yt.RAWTEXT):(e._insertElement(t,fe.HTML),e.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Yt.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Yt.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=W.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case E.HEAD:{e._err(t,le.misplacedStartTagForHeadElement);break}default:ed(e,t)}}function vme(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=W.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{ed(e,t);break}case E.TEMPLATE:{Lo(e,t);break}default:e._err(t,le.endTagWithoutMatchingOpenElement)}}function Lo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,le.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,le.endTagWithoutMatchingOpenElement)}function ed(e,t){e.openElements.pop(),e.insertionMode=W.AFTER_HEAD,e._processToken(t)}function yme(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{ji(e,t);break}case E.NOSCRIPT:{e._err(t,le.nestedNoscriptInHead);break}default:td(e,t)}}function bme(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=W.IN_HEAD;break}case E.BR:{td(e,t);break}default:e._err(t,le.endTagWithoutMatchingOpenElement)}}function td(e,t){const r=t.type===nt.EOF?le.openElementsLeftAfterEof:le.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=W.IN_HEAD,e._processToken(t)}function _me(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.BODY:{e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=W.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,fe.HTML),e.insertionMode=W.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,le.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),ji(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,le.misplacedStartTagForHeadElement);break}default:rd(e,t)}}function xme(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{rd(e,t);break}case E.TEMPLATE:{Lo(e,t);break}default:e._err(t,le.endTagWithoutMatchingOpenElement)}}function rd(e,t){e._insertFakeElement(J.BODY,E.BODY),e.insertionMode=W.IN_BODY,Sg(e,t)}function Sg(e,t){switch(t.type){case nt.CHARACTER:{u5(e,t);break}case nt.WHITESPACE_CHARACTER:{l5(e,t);break}case nt.COMMENT:{H_(e,t);break}case nt.START_TAG:{zr(e,t);break}case nt.END_TAG:{Cg(e,t);break}case nt.EOF:{f5(e,t);break}}}function l5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function u5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function wme(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Eme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function kme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,fe.HTML),e.insertionMode=W.IN_FRAMESET)}function Tme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML)}function Sme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&U_.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,fe.HTML)}function Cme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Ame(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),r||(e.formElement=e.openElements.current))}function Nme(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===E.LI&&i===E.LI||(r===E.DD||r===E.DT)&&(i===E.DD||i===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==E.ADDRESS&&i!==E.DIV&&i!==E.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML)}function Ome(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.tokenizer.state=Yt.PLAINTEXT}function Pme(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.framesetOk=!1}function jme(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(J.A);r&&(EE(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ime(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Rme(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(EE(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Dme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Lme(e,t){e.treeAdapter.getDocumentMode(e.document)!==Jn.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=W.IN_TABLE}function c5(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function d5(e){const t=ZM(e,xo.TYPE);return t!=null&&t.toLowerCase()===eme}function Mme(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,fe.HTML),d5(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Fme(e,t){e._appendElement(t,fe.HTML),t.ackSelfClosing=!0}function Bme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function $me(e,t){t.tagName=J.IMG,t.tagID=E.IMG,c5(e,t)}function Ume(e,t){e._insertElement(t,fe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Yt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=W.TEXT}function Hme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Yt.RAWTEXT)}function zme(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Yt.RAWTEXT)}function lj(e,t){e._switchToTextParsing(t,Yt.RAWTEXT)}function Wme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===W.IN_TABLE||e.insertionMode===W.IN_CAPTION||e.insertionMode===W.IN_TABLE_BODY||e.insertionMode===W.IN_ROW||e.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function qme(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML)}function Vme(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,fe.HTML)}function Gme(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,fe.HTML)}function Yme(e,t){e._reconstructActiveFormattingElements(),s5(t),wE(t),t.selfClosing?e._appendElement(t,fe.MATHML):e._insertElement(t,fe.MATHML),t.ackSelfClosing=!0}function Kme(e,t){e._reconstructActiveFormattingElements(),a5(t),wE(t),t.selfClosing?e._appendElement(t,fe.SVG):e._insertElement(t,fe.SVG),t.ackSelfClosing=!0}function uj(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML)}function zr(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{Ime(e,t);break}case E.A:{jme(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{Sme(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{Tme(e,t);break}case E.LI:case E.DD:case E.DT:{Nme(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{c5(e,t);break}case E.HR:{Bme(e,t);break}case E.RB:case E.RTC:{Vme(e,t);break}case E.RT:case E.RP:{Gme(e,t);break}case E.PRE:case E.LISTING:{Cme(e,t);break}case E.XMP:{Hme(e,t);break}case E.SVG:{Kme(e,t);break}case E.HTML:{wme(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{ji(e,t);break}case E.BODY:{Eme(e,t);break}case E.FORM:{Ame(e,t);break}case E.NOBR:{Rme(e,t);break}case E.MATH:{Yme(e,t);break}case E.TABLE:{Lme(e,t);break}case E.INPUT:{Mme(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{Fme(e,t);break}case E.IMAGE:{$me(e,t);break}case E.BUTTON:{Pme(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{Dme(e,t);break}case E.IFRAME:{zme(e,t);break}case E.SELECT:{Wme(e,t);break}case E.OPTION:case E.OPTGROUP:{qme(e,t);break}case E.NOEMBED:case E.NOFRAMES:{lj(e,t);break}case E.FRAMESET:{kme(e,t);break}case E.TEXTAREA:{Ume(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?lj(e,t):uj(e,t);break}case E.PLAINTEXT:{Ome(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:uj(e,t)}}function Xme(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=W.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function Qme(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=W.AFTER_BODY,x5(e,t))}function Jme(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function Zme(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):r&&e.openElements.remove(r))}function ege(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(J.P,E.P),e._closePElement()}function tge(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function rge(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function nge(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function ige(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function sge(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(J.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function h5(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(n===a&&(n!==E.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function Cg(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{EE(e,t);break}case E.P:{ege(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{Jme(e,t);break}case E.LI:{tge(e);break}case E.DD:case E.DT:{rge(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{nge(e);break}case E.BR:{sge(e);break}case E.BODY:{Xme(e,t);break}case E.HTML:{Qme(e,t);break}case E.FORM:{Zme(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{ige(e,t);break}case E.TEMPLATE:{Lo(e,t);break}default:h5(e,t)}}function f5(e,t){e.tmplInsertionModeStack.length>0?_5(e,t):kE(e,t)}function age(e,t){var r;t.tagID===E.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function oge(e,t){e._err(t,le.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Yb(e,t){if(e.openElements.currentTagId!==void 0&&o5.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=W.IN_TABLE_TEXT,t.type){case nt.CHARACTER:{m5(e,t);break}case nt.WHITESPACE_CHARACTER:{p5(e,t);break}}else Zd(e,t)}function lge(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,fe.HTML),e.insertionMode=W.IN_CAPTION}function uge(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,fe.HTML),e.insertionMode=W.IN_COLUMN_GROUP}function cge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.COLGROUP,E.COLGROUP),e.insertionMode=W.IN_COLUMN_GROUP,TE(e,t)}function dge(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,fe.HTML),e.insertionMode=W.IN_TABLE_BODY}function hge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.TBODY,E.TBODY),e.insertionMode=W.IN_TABLE_BODY,Ag(e,t)}function fge(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function pge(e,t){d5(t)?e._appendElement(t,fe.HTML):Zd(e,t),t.ackSelfClosing=!0}function mge(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,fe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Ql(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{hge(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{ji(e,t);break}case E.COL:{cge(e,t);break}case E.FORM:{mge(e,t);break}case E.TABLE:{fge(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{dge(e,t);break}case E.INPUT:{pge(e,t);break}case E.CAPTION:{lge(e,t);break}case E.COLGROUP:{uge(e,t);break}default:Zd(e,t)}}function Sd(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{Lo(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Zd(e,t)}}function Zd(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Sg(e,t),e.fosterParentingEnabled=r}function p5(e,t){e.pendingCharacterTokens.push(t)}function m5(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Oc(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Zd(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const g5=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function gge(e,t){const r=t.tagID;g5.has(r)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,Ql(e,t)):zr(e,t)}function vge(e,t){const r=t.tagID;switch(r){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,r===E.TABLE&&Sd(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Cg(e,t)}}function TE(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.COL:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{ji(e,t);break}default:Cm(e,t)}}function yge(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case E.TEMPLATE:{Lo(e,t);break}case E.COL:break;default:Cm(e,t)}}function Cm(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE,e._processToken(t))}function Ag(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,fe.HTML),e.insertionMode=W.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(J.TR,E.TR),e.insertionMode=W.IN_ROW,Ng(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Ql(e,t));break}default:Ql(e,t)}}function z_(e,t){const r=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Sd(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Sd(e,t)}}function Ng(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,fe.HTML),e.insertionMode=W.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,Ag(e,t));break}default:Ql(e,t)}}function v5(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,z_(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,z_(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Sd(e,t)}}function bge(e,t){const r=t.tagID;g5.has(r)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),Ng(e,t)):zr(e,t)}function _ge(e,t){const r=t.tagID;switch(r){case E.TD:case E.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),v5(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:Cg(e,t)}}function y5(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,fe.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,fe.HTML);break}case E.HR:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{ji(e,t);break}}}function b5(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{Lo(e,t);break}}}function xge(e,t){const r=t.tagID;r===E.CAPTION||r===E.TABLE||r===E.TBODY||r===E.TFOOT||r===E.THEAD||r===E.TR||r===E.TD||r===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):y5(e,t)}function wge(e,t){const r=t.tagID;r===E.CAPTION||r===E.TABLE||r===E.TBODY||r===E.TFOOT||r===E.THEAD||r===E.TR||r===E.TD||r===E.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):b5(e,t)}function Ege(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{ji(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=W.IN_TABLE,e.insertionMode=W.IN_TABLE,Ql(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,e.insertionMode=W.IN_COLUMN_GROUP,TE(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,e.insertionMode=W.IN_TABLE_BODY,Ag(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=W.IN_ROW,e.insertionMode=W.IN_ROW,Ng(e,t);break}default:e.tmplInsertionModeStack[0]=W.IN_BODY,e.insertionMode=W.IN_BODY,zr(e,t)}}function kge(e,t){t.tagID===E.TEMPLATE&&Lo(e,t)}function _5(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):kE(e,t)}function Tge(e,t){t.tagID===E.HTML?zr(e,t):Am(e,t)}function x5(e,t){var r;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=W.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Am(e,t)}function Am(e,t){e.insertionMode=W.IN_BODY,Sg(e,t)}function Sge(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.FRAMESET:{e._insertElement(t,fe.HTML);break}case E.FRAME:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{ji(e,t);break}}}function Cge(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=W.AFTER_FRAMESET))}function Age(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.NOFRAMES:{ji(e,t);break}}}function Nge(e,t){t.tagID===E.HTML&&(e.insertionMode=W.AFTER_AFTER_FRAMESET)}function Oge(e,t){t.tagID===E.HTML?zr(e,t):dp(e,t)}function dp(e,t){e.insertionMode=W.IN_BODY,Sg(e,t)}function Pge(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.NOFRAMES:{ji(e,t);break}}}function jge(e,t){t.chars=Dt,e._insertCharacters(t)}function Ige(e,t){e._insertCharacters(t),e.framesetOk=!1}function w5(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==fe.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Rge(e,t){if(Kpe(t))w5(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===fe.MATHML?s5(t):n===fe.SVG&&(Xpe(t),a5(t)),wE(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function Dge(e,t){if(t.tagID===E.P||t.tagID===E.BR){w5(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===fe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}J.AREA,J.BASE,J.BASEFONT,J.BGSOUND,J.BR,J.COL,J.EMBED,J.FRAME,J.HR,J.IMG,J.INPUT,J.KEYGEN,J.LINK,J.META,J.PARAM,J.SOURCE,J.TRACK,J.WBR;const Lge=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Mge=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),cj={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function E5(e,t){const r=Gge(e),n=SM("type",{handlers:{root:Fge,element:Bge,text:$ge,comment:T5,doctype:Uge,raw:zge},unknown:Wge}),i={parser:r?new oj(cj):oj.getFragmentParser(void 0,cj),handle(o){n(o,i)},stitches:!1,options:t||{}};n(e,i),xu(i,Ji());const s=r?i.parser.document:i.parser.getFragment(),a=Yfe(s,{file:i.options.file});return i.stitches&&Tg(a,"comment",function(o,u,h){const f=o;if(f.value.stitch&&h&&u!==void 0){const p=h.children;return p[u]=f.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function k5(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function Fge(e,t){k5(e.children,t)}function Bge(e,t){qge(e,t),k5(e.children,t),Vge(e,t)}function $ge(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:nt.CHARACTER,chars:e.value,location:eh(e)};xu(t,Ji(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Uge(e,t){const r={type:nt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:eh(e)};xu(t,Ji(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Hge(e,t){t.stitches=!0;const r=Yge(e);if("children"in e&&"children"in r){const n=E5({type:"root",children:e.children},t.options);r.children=n.children}T5({type:"comment",value:{stitch:r}},t)}function T5(e,t){const r=e.value,n={type:nt.COMMENT,data:r,location:eh(e)};xu(t,Ji(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function zge(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,S5(t,Ji(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Lge,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function Wge(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))Hge(r,t);else{let n="";throw Mge.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function xu(e,t){S5(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Yt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function S5(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function qge(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Yt.PLAINTEXT)return;xu(t,Ji(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:go.html;i===go.html&&r==="svg"&&(i=go.svg);const s=Zfe({...e,children:[]},{space:i===go.svg?"svg":"html"}),a={type:nt.START_TAG,tagName:r,tagID:_u(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:eh(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function Vge(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&ope.includes(r)||t.parser.tokenizer.state===Yt.PLAINTEXT)return;xu(t,bg(e));const n={type:nt.END_TAG,tagName:r,tagID:_u(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:eh(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Yt.RCDATA||t.parser.tokenizer.state===Yt.RAWTEXT||t.parser.tokenizer.state===Yt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Yt.DATA)}function Gge(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function eh(e){const t=Ji(e)||{line:void 0,column:void 0,offset:void 0},r=bg(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function Yge(e){return"children"in e?Xl({...e,children:[]}):Xl(e)}function Kge(e){return function(t,r){return E5(t,{...e,file:r})}}function Xge({src:e,title:t}){const r=Zr(),n=k.useRef(!1),i=k.useRef(!1),s="/Terminus-EC-Training-stateful/",a=e!=null&&e.startsWith("/")&&!(e!=null&&e.startsWith(s))?`${s.replace(/\/$/,"")}${e}`:e,o=k.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"local"}),n.current=!0)},[r,e,t]),u=k.useCallback(()=>{r&&!i.current&&(r.capture("docs_video_completed",{video_src:e,video_title:t||e,video_type:"local"}),i.current=!0)},[r,e,t]);return c.jsxs("div",{className:"video-embed",children:[t&&c.jsx("h4",{className:"video-embed-title",children:t}),c.jsx("div",{className:"video-embed-wrapper",children:c.jsxs("video",{controls:!0,preload:"metadata",className:"video-embed-player",title:t,onPlay:o,onEnded:u,children:[c.jsx("source",{src:a,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}function Qge({id:e,title:t}){const r=Zr(),n=k.useRef(!1),i=`https://www.loom.com/embed/${e}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,s=k.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"loom"}),n.current=!0)},[r,e,t]);return c.jsxs("div",{className:"video-embed",children:[t&&c.jsx("h4",{className:"video-embed-title",children:t}),c.jsx("div",{className:"video-embed-wrapper",children:c.jsx("iframe",{src:i,frameBorder:"0",allowFullScreen:!0,className:"video-embed-iframe",title:t||"Loom video",onLoad:s})})]})}function Jge({src:e,title:t}){const r=Zr(),n="/Terminus-EC-Training-stateful/",i=e!=null&&e.startsWith("/")&&!(e!=null&&e.startsWith(n))?`${n.replace(/\/$/,"")}${e}`:e,s=e.split("/").pop(),a=s.endsWith(".ipynb"),o=s.endsWith(".zip"),u=s.includes("template-task")||s.includes("skeleton"),h=a?"":o?"":"",f=a?"Jupyter Notebook":o?"ZIP Archive":"PDF Document",p=()=>{if(r){const v=u?"skeleton_downloaded":"docs_file_downloaded";r.capture(v,{file_name:s,file_title:t||s,file_type:f,source:"docs"})}};return c.jsxs("div",{className:"pdf-download",children:[c.jsx("div",{className:"pdf-download-icon",children:h}),c.jsxs("div",{className:"pdf-download-info",children:[c.jsx("span",{className:"pdf-download-title",children:t||s}),c.jsx("span",{className:"pdf-download-type",children:f})]}),c.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"pdf-download-button",download:a||o?s:void 0,onClick:p,children:a||o?"Download":"View / Download"})]})}const Zge=({inline:e,className:t,children:r})=>{const i=String(r).includes(`
`),s=t==null?void 0:t.startsWith("language-");if(e===!0||!s&&!i)return c.jsx("code",{className:"docs-inline-code",children:r});const[o,u]=k.useState(!1),h=(t==null?void 0:t.replace("language-",""))||"",f=()=>{navigator.clipboard.writeText(String(r).replace(/\n$/,"")),u(!0),setTimeout(()=>u(!1),2e3)};return c.jsxs("div",{className:"docs-code-wrapper",children:[c.jsxs("div",{className:"docs-code-header",children:[c.jsx("span",{className:"docs-code-lang",children:h}),c.jsx("button",{className:`docs-code-copy-btn ${o?"copied":""}`,onClick:f,"aria-label":"Copy code",children:o?c.jsxs(c.Fragment,{children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})}),c.jsx("span",{children:"Copied"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),c.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),c.jsx("span",{children:"Copy"})]})})]}),c.jsx("pre",{className:"docs-code-block",children:c.jsx("code",{className:t,children:r})})]})};function e0e({content:e,loading:t,title:r,prevDoc:n,nextDoc:i,onPaginationClick:s}){return t?c.jsxs("div",{className:"docs-content-loading",children:[c.jsx(W3,{size:"lg"}),c.jsx("p",{children:"Loading documentation..."})]}):c.jsxs("article",{className:"docs-content",children:[c.jsx(kde,{remarkPlugins:[Mfe],rehypePlugins:[Kge],components:{"video-embed":({node:a})=>{var o,u;return c.jsx(Xge,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(u=a==null?void 0:a.properties)==null?void 0:u.title})},"video-loom":({node:a})=>{var o,u;return c.jsx(Qge,{id:(o=a==null?void 0:a.properties)==null?void 0:o.id,title:(u=a==null?void 0:a.properties)==null?void 0:u.title})},"pdf-download":({node:a})=>{var o,u;return c.jsx(Jge,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(u=a==null?void 0:a.properties)==null?void 0:u.title})},h1:({children:a})=>c.jsx("h1",{className:"docs-h1",children:a}),h2:({children:a})=>c.jsx("h2",{className:"docs-h2",children:a}),h3:({children:a})=>c.jsx("h3",{className:"docs-h3",children:a}),h4:({children:a})=>c.jsx("h4",{className:"docs-h4",children:a}),p:({children:a})=>c.jsx("p",{className:"docs-p",children:a}),code:Zge,img:({src:a,alt:o,className:u})=>{const h="/Terminus-EC-Training-stateful/",f=a!=null&&a.startsWith("/")&&!(a!=null&&a.startsWith(h))?`${h.replace(/\/$/,"")}${a}`:a;return c.jsxs("figure",{className:`docs-figure ${u||""}`,children:[c.jsx("img",{src:f,alt:o,className:`docs-image ${u||""}`,loading:"lazy"}),o&&c.jsx("figcaption",{className:"docs-figcaption",children:o})]})},a:({href:a,children:o})=>(a==null?void 0:a.startsWith("http"))?c.jsxs("a",{href:a,className:"docs-link",target:"_blank",rel:"noopener noreferrer",children:[o,c.jsx("svg",{className:"docs-external-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}):c.jsx(nr,{to:a,className:"docs-link",children:o}),blockquote:({children:a})=>c.jsx("blockquote",{className:"docs-callout",children:a}),table:({children:a})=>c.jsx("div",{className:"docs-table-wrapper",children:c.jsx("table",{className:"docs-table",children:a})}),ul:({children:a})=>c.jsx("ul",{className:"docs-ul",children:a}),ol:({children:a})=>c.jsx("ol",{className:"docs-ol",children:a}),li:({children:a})=>c.jsx("li",{className:"docs-li",children:a}),hr:()=>c.jsx("hr",{className:"docs-hr"})},children:e}),c.jsxs("nav",{className:"docs-pagination",children:[n?c.jsxs(nr,{to:`/portal/docs/${n.slug}`,className:"docs-pagination-link docs-pagination-prev",onClick:s,children:[c.jsx("span",{className:"docs-pagination-label",children:"Previous"}),c.jsxs("span",{className:"docs-pagination-title",children:[c.jsx("span",{className:"docs-pagination-icon",children:n.icon}),n.title]})]}):c.jsx("div",{}),i?c.jsxs(nr,{to:`/portal/docs/${i.slug}`,className:"docs-pagination-link docs-pagination-next",onClick:s,children:[c.jsx("span",{className:"docs-pagination-label",children:"Next"}),c.jsxs("span",{className:"docs-pagination-title",children:[i.title,c.jsx("span",{className:"docs-pagination-icon",children:i.icon})]})]}):c.jsx("div",{})]})]})}function Os(e){return Array.isArray?Array.isArray(e):N5(e)==="[object Array]"}function t0e(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function r0e(e){return e==null?"":t0e(e)}function qi(e){return typeof e=="string"}function C5(e){return typeof e=="number"}function n0e(e){return e===!0||e===!1||i0e(e)&&N5(e)=="[object Boolean]"}function A5(e){return typeof e=="object"}function i0e(e){return A5(e)&&e!==null}function An(e){return e!=null}function Kb(e){return!e.trim().length}function N5(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const s0e="Incorrect 'index' type",a0e=e=>`Invalid value for key ${e}`,o0e=e=>`Pattern length exceeds max of ${e}.`,l0e=e=>`Missing ${e} property in key`,u0e=e=>`Property 'weight' in key '${e}' must be a positive integer`,dj=Object.prototype.hasOwnProperty;class c0e{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=O5(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function O5(e){let t=null,r=null,n=null,i=1,s=null;if(qi(e)||Os(e))n=e,t=hj(e),r=W_(e);else{if(!dj.call(e,"name"))throw new Error(l0e("name"));const a=e.name;if(n=a,dj.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(u0e(a));t=hj(a),r=W_(a),s=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:s}}function hj(e){return Os(e)?e:e.split(".")}function W_(e){return Os(e)?e.join("."):e}function d0e(e,t){let r=[],n=!1;const i=(s,a,o)=>{if(An(s))if(!a[o])r.push(s);else{let u=a[o];const h=s[u];if(!An(h))return;if(o===a.length-1&&(qi(h)||C5(h)||n0e(h)))r.push(r0e(h));else if(Os(h)){n=!0;for(let f=0,p=h.length;f<p;f+=1)i(h[f],a,o+1)}else a.length&&i(h,a,o+1)}};return i(e,qi(t)?t.split("."):t,0),n?r:r[0]}const h0e={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},f0e={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},p0e={location:0,threshold:.6,distance:100},m0e={useExtendedSearch:!1,getFn:d0e,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ye={...f0e,...h0e,...p0e,...m0e};const g0e=/[^ ]+/g;function v0e(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const s=i.match(g0e).length;if(r.has(s))return r.get(s);const a=1/Math.pow(s,.5*e),o=parseFloat(Math.round(a*n)/n);return r.set(s,o),o},clear(){r.clear()}}}class SE{constructor({getFn:t=Ye.getFn,fieldNormWeight:r=Ye.fieldNormWeight}={}){this.norm=v0e(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,qi(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();qi(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!An(t)||Kb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(An(a)){if(Os(a)){let o=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:h,value:f}=u.pop();if(An(f))if(qi(f)&&!Kb(f)){let p={v:f,i:h,n:this.norm.get(f)};o.push(p)}else Os(f)&&f.forEach((p,v)=>{u.push({nestedArrIndex:v,value:p})})}n.$[s]=o}else if(qi(a)&&!Kb(a)){let o={v:a,n:this.norm.get(a)};n.$[s]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function P5(e,t,{getFn:r=Ye.getFn,fieldNormWeight:n=Ye.fieldNormWeight}={}){const i=new SE({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(O5)),i.setSources(t),i.create(),i}function y0e(e,{getFn:t=Ye.getFn,fieldNormWeight:r=Ye.fieldNormWeight}={}){const{keys:n,records:i}=e,s=new SE({getFn:t,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}function Zf(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Ye.distance,ignoreLocation:s=Ye.ignoreLocation}={}){const a=t/e.length;if(s)return a;const o=Math.abs(n-r);return i?a+o/i:o?1:a}function b0e(e=[],t=Ye.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let a=e.length;s<a;s+=1){let o=e[s];o&&n===-1?n=s:!o&&n!==-1&&(i=s-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[s-1]&&s-n>=t&&r.push([n,s-1]),r}const co=32;function _0e(e,t,r,{location:n=Ye.location,distance:i=Ye.distance,threshold:s=Ye.threshold,findAllMatches:a=Ye.findAllMatches,minMatchCharLength:o=Ye.minMatchCharLength,includeMatches:u=Ye.includeMatches,ignoreLocation:h=Ye.ignoreLocation}={}){if(t.length>co)throw new Error(o0e(co));const f=t.length,p=e.length,v=Math.max(0,Math.min(n,p));let g=s,b=v;const x=o>1||u,_=x?Array(p):[];let w;for(;(w=e.indexOf(t,b))>-1;){let j=Zf(t,{currentLocation:w,expectedLocation:v,distance:i,ignoreLocation:h});if(g=Math.min(j,g),b=w+f,x){let D=0;for(;D<f;)_[w+D]=1,D+=1}}b=-1;let A=[],S=1,N=f+p;const P=1<<f-1;for(let j=0;j<f;j+=1){let D=0,B=N;for(;D<B;)Zf(t,{errors:j,currentLocation:v+B,expectedLocation:v,distance:i,ignoreLocation:h})<=g?D=B:N=B,B=Math.floor((N-D)/2+D);N=B;let R=Math.max(1,v-B+1),F=a?p:Math.min(v+B,p)+f,H=Array(F+2);H[F+1]=(1<<j)-1;for(let V=F;V>=R;V-=1){let K=V-1,Z=r[e.charAt(K)];if(x&&(_[K]=+!!Z),H[V]=(H[V+1]<<1|1)&Z,j&&(H[V]|=(A[V+1]|A[V])<<1|1|A[V+1]),H[V]&P&&(S=Zf(t,{errors:j,currentLocation:K,expectedLocation:v,distance:i,ignoreLocation:h}),S<=g)){if(g=S,b=K,b<=v)break;R=Math.max(1,2*v-b)}}if(Zf(t,{errors:j+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:h})>g)break;A=H}const O={isMatch:b>=0,score:Math.max(.001,S)};if(x){const j=b0e(_,o);j.length?u&&(O.indices=j):O.isMatch=!1}return O}function x0e(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Nm=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class j5{constructor(t,{location:r=Ye.location,threshold:n=Ye.threshold,distance:i=Ye.distance,includeMatches:s=Ye.includeMatches,findAllMatches:a=Ye.findAllMatches,minMatchCharLength:o=Ye.minMatchCharLength,isCaseSensitive:u=Ye.isCaseSensitive,ignoreDiacritics:h=Ye.ignoreDiacritics,ignoreLocation:f=Ye.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:h,ignoreLocation:f},t=u?t:t.toLowerCase(),t=h?Nm(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const p=(g,b)=>{this.chunks.push({pattern:g,alphabet:x0e(g),startIndex:b})},v=this.pattern.length;if(v>co){let g=0;const b=v%co,x=v-b;for(;g<x;)p(this.pattern.substr(g,co),g),g+=co;if(b){const _=v-co;p(this.pattern.substr(_),_)}}else p(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Nm(t):t,this.pattern===t){let x={isMatch:!0,score:0};return i&&(x.indices=[[0,t.length-1]]),x}const{location:s,distance:a,threshold:o,findAllMatches:u,minMatchCharLength:h,ignoreLocation:f}=this.options;let p=[],v=0,g=!1;this.chunks.forEach(({pattern:x,alphabet:_,startIndex:w})=>{const{isMatch:A,score:S,indices:N}=_0e(t,x,_,{location:s+w,distance:a,threshold:o,findAllMatches:u,minMatchCharLength:h,includeMatches:i,ignoreLocation:f});A&&(g=!0),v+=S,A&&N&&(p=[...p,...N])});let b={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(b.indices=p),b}}class Da{constructor(t){this.pattern=t}static isMultiMatch(t){return fj(t,this.multiRegex)}static isSingleMatch(t){return fj(t,this.singleRegex)}search(){}}function fj(e,t){const r=e.match(t);return r?r[1]:null}class w0e extends Da{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class E0e extends Da{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class k0e extends Da{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class T0e extends Da{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class S0e extends Da{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class C0e extends Da{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class I5 extends Da{constructor(t,{location:r=Ye.location,threshold:n=Ye.threshold,distance:i=Ye.distance,includeMatches:s=Ye.includeMatches,findAllMatches:a=Ye.findAllMatches,minMatchCharLength:o=Ye.minMatchCharLength,isCaseSensitive:u=Ye.isCaseSensitive,ignoreDiacritics:h=Ye.ignoreDiacritics,ignoreLocation:f=Ye.ignoreLocation}={}){super(t),this._bitapSearch=new j5(t,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:h,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class R5 extends Da{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],s=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const q_=[w0e,R5,k0e,T0e,C0e,S0e,E0e,I5],pj=q_.length,A0e=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,N0e="|";function O0e(e,t={}){return e.split(N0e).map(r=>{let n=r.trim().split(A0e).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=n.length;s<a;s+=1){const o=n[s];let u=!1,h=-1;for(;!u&&++h<pj;){const f=q_[h];let p=f.isMultiMatch(o);p&&(i.push(new f(p,t)),u=!0)}if(!u)for(h=-1;++h<pj;){const f=q_[h];let p=f.isSingleMatch(o);if(p){i.push(new f(p,t));break}}}return i})}const P0e=new Set([I5.type,R5.type]);class j0e{constructor(t,{isCaseSensitive:r=Ye.isCaseSensitive,ignoreDiacritics:n=Ye.ignoreDiacritics,includeMatches:i=Ye.includeMatches,minMatchCharLength:s=Ye.minMatchCharLength,ignoreLocation:a=Ye.ignoreLocation,findAllMatches:o=Ye.findAllMatches,location:u=Ye.location,threshold:h=Ye.threshold,distance:f=Ye.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:a,location:u,threshold:h,distance:f},t=r?t:t.toLowerCase(),t=n?Nm(t):t,this.pattern=t,this.query=O0e(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:s}=this.options;t=i?t:t.toLowerCase(),t=s?Nm(t):t;let a=0,o=[],u=0;for(let h=0,f=r.length;h<f;h+=1){const p=r[h];o.length=0,a=0;for(let v=0,g=p.length;v<g;v+=1){const b=p[v],{isMatch:x,indices:_,score:w}=b.search(t);if(x){if(a+=1,u+=w,n){const A=b.constructor.type;P0e.has(A)?o=[...o,..._]:o.push(_)}}else{u=0,a=0,o.length=0;break}}if(a){let v={isMatch:!0,score:u/a};return n&&(v.indices=o),v}}return{isMatch:!1,score:1}}}const V_=[];function I0e(...e){V_.push(...e)}function G_(e,t){for(let r=0,n=V_.length;r<n;r+=1){let i=V_[r];if(i.condition(e,t))return new i(e,t)}return new j5(e,t)}const Om={AND:"$and",OR:"$or"},Y_={PATH:"$path",PATTERN:"$val"},K_=e=>!!(e[Om.AND]||e[Om.OR]),R0e=e=>!!e[Y_.PATH],D0e=e=>!Os(e)&&A5(e)&&!K_(e),mj=e=>({[Om.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function D5(e,t,{auto:r=!0}={}){const n=i=>{let s=Object.keys(i);const a=R0e(i);if(!a&&s.length>1&&!K_(i))return n(mj(i));if(D0e(i)){const u=a?i[Y_.PATH]:s[0],h=a?i[Y_.PATTERN]:i[u];if(!qi(h))throw new Error(a0e(u));const f={keyId:W_(u),pattern:h};return r&&(f.searcher=G_(h,t)),f}let o={children:[],operator:s[0]};return s.forEach(u=>{const h=i[u];Os(h)&&h.forEach(f=>{o.children.push(n(f))})}),o};return K_(e)||(e=mj(e)),n(e)}function L0e(e,{ignoreFieldNorm:t=Ye.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:a})=>{const o=i?i.weight:null;n*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:s))}),r.score=n})}function M0e(e,t){const r=e.matches;t.matches=[],An(r)&&r.forEach(n=>{if(!An(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let a={indices:i,value:s};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function F0e(e,t){t.score=e.score}function B0e(e,t,{includeMatches:r=Ye.includeMatches,includeScore:n=Ye.includeScore}={}){const i=[];return r&&i.push(M0e),n&&i.push(F0e),e.map(s=>{const{idx:a}=s,o={item:t[a],refIndex:a};return i.length&&i.forEach(u=>{u(s,o)}),o})}class wu{constructor(t,r={},n){this.options={...Ye,...r},this.options.useExtendedSearch,this._keyStore=new c0e(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof SE))throw new Error(s0e);this._myIndex=r||P5(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){An(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:o}=this.options;let u=qi(t)?qi(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return L0e(u,{ignoreFieldNorm:o}),s&&u.sort(a),C5(r)&&r>-1&&(u=u.slice(0,r)),B0e(u,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=G_(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:a,n:o})=>{if(!An(s))return;const{isMatch:u,score:h,indices:f}=r.searchIn(s);u&&i.push({item:s,idx:a,matches:[{score:h,value:s,norm:o,indices:f}]})}),i}_searchLogical(t){const r=D5(t,this.options),n=(o,u,h)=>{if(!o.children){const{keyId:p,searcher:v}=o,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(u,p),searcher:v});return g&&g.length?[{idx:h,item:u,matches:g}]:[]}const f=[];for(let p=0,v=o.children.length;p<v;p+=1){const g=o.children[p],b=n(g,u,h);if(b.length)f.push(...b);else if(o.operator===Om.AND)return[]}return f},i=this._myIndex.records,s={},a=[];return i.forEach(({$:o,i:u})=>{if(An(o)){let h=n(r,o,u);h.length&&(s[u]||(s[u]={idx:u,item:o,matches:[]},a.push(s[u])),h.forEach(({matches:f})=>{s[u].matches.push(...f)}))}}),a}_searchObjectList(t){const r=G_(t,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:o})=>{if(!An(a))return;let u=[];n.forEach((h,f)=>{u.push(...this._findMatches({key:h,value:a[f],searcher:r}))}),u.length&&s.push({idx:o,item:a,matches:u})}),s}_findMatches({key:t,value:r,searcher:n}){if(!An(r))return[];let i=[];if(Os(r))r.forEach(({v:s,i:a,n:o})=>{if(!An(s))return;const{isMatch:u,score:h,indices:f}=n.searchIn(s);u&&i.push({score:h,key:t,value:s,idx:a,norm:o,indices:f})});else{const{v:s,n:a}=r,{isMatch:o,score:u,indices:h}=n.searchIn(s);o&&i.push({score:u,key:t,value:s,norm:a,indices:h})}return i}}wu.version="7.1.0";wu.createIndex=P5;wu.parseIndex=y0e;wu.config=Ye;wu.parseQuery=D5;I0e(j0e);const L5={sections:[{title:"Getting Started",items:[{slug:"getting-started/welcome",title:"Welcome to TerminalBench"},{slug:"getting-started/quick-start",title:"Quick Start Guide"},{slug:"onboarding/platform-onboarding",title:"Onboarding Video and Slides"}]},{title:"Submission Process",items:[{slug:"submitting-tasks/platform-submission",title:"Platform Submission"},{slug:"submitting-tasks/submission-checklist",title:"Submission Checklist"},{slug:"submitting-tasks/after-submission",title:"After Submission"}]},{title:"Understanding Tasks",items:[{slug:"understanding-tasks/what-makes-a-good-task",title:"What Makes a Good Task"},{slug:"understanding-tasks/task-components",title:"Task Components"},{slug:"understanding-tasks/task-requirements",title:"Task Requirements"},{slug:"understanding-tasks/task-taxonomy",title:"Task Taxonomy"},{slug:"understanding-tasks/example-tasks",title:"Example Tasks"},{slug:"understanding-tasks/difficulty-guidelines",title:"Difficulty Guidelines"}]},{title:"Detailed Tasking Guides",items:[{slug:"creating-tasks/videos/creating-task",title:"Creating a Task"},{slug:"creating-tasks/videos/running-your-task",title:"Running Your Task"},{slug:"creating-tasks/writing-task-yaml",title:"Writing Instructions & Config"},{slug:"creating-tasks/creating-docker-environment",title:"Docker Environment"},{slug:"creating-tasks/writing-oracle-solution",title:"Writing Oracle Solution"},{slug:"creating-tasks/writing-tests",title:"Writing Tests"}]},{title:"Testing & Validation",items:[{slug:"testing-and-validation/oracle-agent",title:"Oracle Agent"},{slug:"testing-and-validation/running-real-agents",title:"Testing Agent Performance"},{slug:"testing-and-validation/ci-feedback-training",title:"CI Feedback Training"},{slug:"testing-and-validation/ci-checks-reference",title:"CI Checks Reference"},{slug:"testing-and-validation/llmaj-checks-reference",title:"LLMaJ Checks Reference"}]},{title:"Reviewing Tasks",items:[{slug:"reviewing-tasks/review-guidelines",title:"Review Guidelines"},{slug:"reviewing-tasks/common-errors",title:"Common Errors"},{slug:"reviewing-tasks/defending-your-submission",title:"Defending Your Submission"}]},{title:"Reference",items:[{slug:"reference/quality-guidelines",title:"Quality Guidelines"},{slug:"reference/faq",title:"FAQ"},{slug:"reference/glossary",title:"Glossary"},{slug:"reference/rate-schedule",title:"Rate Schedule"},{slug:"reference/troubleshooting",title:"Troubleshooting"},{slug:"reference/office-hours",title:"Office Hours"},{slug:"reference/external-resources",title:"External Resources"},{slug:"reference/v1-to-v2-changes",title:"V1 to V2 Changes"}]}]},X_=()=>L5.sections.flatMap(e=>e.items.map(t=>({...t,section:e.title}))),M5=async e=>{const r=await fetch(`/Terminus-EC-Training-stateful/docs/${e}.md`);if(!r.ok)throw new Error(`Doc not found: ${e}`);return r.text()},$0e=(e,t,r=120)=>{if(!e||!t)return null;const n=e.toLowerCase(),i=t.toLowerCase(),s=n.indexOf(i);if(s===-1)return null;const a=Math.floor((r-t.length)/2);let o=Math.max(0,s-a),u=Math.min(e.length,s+t.length+a);if(o>0){const f=e.indexOf(" ",o);f!==-1&&f<s&&(o=f+1)}if(u<e.length){const f=e.lastIndexOf(" ",u);f>s+t.length&&(u=f)}let h=e.slice(o,u).trim();return o>0&&(h="..."+h),u<e.length&&(h=h+"..."),h};function U0e({isOpen:e,onClose:t,onSelect:r}){const n=Zr(),[i,s]=k.useState(""),[a,o]=k.useState([]),[u,h]=k.useState(0),f=k.useRef(null),p=k.useRef("");k.useEffect(()=>{(async()=>{const x=X_(),_=await Promise.all(x.map(async w=>{try{const S=(await M5(w.slug)).replace(/#{1,6}\s/g,"").replace(/\*\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`[^`]+`/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim().slice(0,8e3);return{...w,content:S}}catch{return{...w,content:w.title}}}));o(_)})()},[]);const v=k.useMemo(()=>new wu(a,{keys:[{name:"title",weight:3},{name:"section",weight:2},{name:"content",weight:1}],threshold:.15,includeMatches:!0,minMatchCharLength:2,ignoreLocation:!0,findAllMatches:!0}),[a]),g=i.length>=2?v.search(i).slice(0,8):[];return k.useEffect(()=>{h(0)},[g.length]),k.useEffect(()=>{if(i.length<2||i===p.current)return;const b=setTimeout(()=>{n&&i.length>=2&&(n.capture("docs_search_performed",{search_query:i,results_count:g.length,has_results:g.length>0}),p.current=i)},500);return()=>clearTimeout(b)},[i,g.length,n]),k.useEffect(()=>{e&&f.current&&(f.current.focus(),s(""))},[e]),k.useEffect(()=>{if(!e)return;const b=x=>{switch(x.key){case"Escape":t();break;case"ArrowDown":x.preventDefault(),h(_=>Math.min(_+1,g.length-1));break;case"ArrowUp":x.preventDefault(),h(_=>Math.max(_-1,0));break;case"Enter":x.preventDefault(),g[u]&&r(g[u].item.slug,i);break}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,t,r,g,u]),e?c.jsx("div",{className:"docs-search-overlay",onClick:t,children:c.jsxs("div",{className:"docs-search-modal",onClick:b=>b.stopPropagation(),children:[c.jsxs("div",{className:"docs-search-header",children:[c.jsxs("svg",{className:"docs-search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("path",{d:"M21 21l-4.35-4.35"})]}),c.jsx("input",{ref:f,type:"text",className:"docs-search-input",placeholder:"Search documentation...",value:i,onChange:b=>s(b.target.value)}),c.jsx("kbd",{className:"docs-search-esc",children:"ESC"})]}),c.jsx("div",{className:"docs-search-results",children:i.length<2?c.jsxs("div",{className:"docs-search-hint",children:[c.jsx("p",{children:"Type to search all documentation..."}),c.jsxs("div",{className:"docs-search-shortcuts",children:[c.jsxs("span",{children:[c.jsx("kbd",{children:""}),c.jsx("kbd",{children:""})," Navigate"]}),c.jsxs("span",{children:[c.jsx("kbd",{children:""})," Select"]}),c.jsxs("span",{children:[c.jsx("kbd",{children:"ESC"})," Close"]})]})]}):g.length===0?c.jsxs("div",{className:"docs-search-empty",children:[c.jsxs("p",{children:['No results for "',c.jsx("strong",{children:i}),'"']}),c.jsx("p",{className:"docs-search-empty-hint",children:"Try different keywords or check spelling"})]}):c.jsx("ul",{className:"docs-search-list",children:g.map(({item:b},x)=>{const _=$0e(b.content,i);return c.jsx("li",{children:c.jsxs("button",{className:`docs-search-result ${x===u?"docs-search-result--selected":""}`,onClick:()=>r(b.slug,i),onMouseEnter:()=>h(x),children:[c.jsx("span",{className:"docs-search-result-icon",children:b.icon}),c.jsxs("div",{className:"docs-search-result-text",children:[c.jsx("span",{className:"docs-search-result-title",children:b.title}),c.jsx("span",{className:"docs-search-result-section",children:b.section}),_&&c.jsx("span",{className:"docs-search-result-snippet",children:_})]}),c.jsx("svg",{className:"docs-search-result-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]})},b.slug)})})})]})}):null}function H0e(){const{"*":e}=Tj(),t=e||"getting-started/welcome",r=ht(),n=Zr(),[i,s]=k.useState(""),[a,o]=k.useState(!0),[u,h]=k.useState(!1),[f,p]=k.useState(!1),v=k.useRef("direct");k.useEffect(()=>{o(!0),M5(t).then(S=>{if(s(S),n){const P=X_().find(O=>O.slug===t);n.capture("doc_viewed",{doc_slug:t,doc_title:(P==null?void 0:P.title)||t,doc_section:(P==null?void 0:P.section)||"unknown",navigation_source:v.current})}v.current="direct"}).catch(()=>s(`# Page Not Found

This documentation page doesn't exist yet.

[ Back to Welcome](/portal/docs/getting-started/welcome)`)).finally(()=>o(!1))},[t,n]),k.useEffect(()=>{const S=N=>{(N.metaKey||N.ctrlKey)&&N.key==="k"&&(N.preventDefault(),g("keyboard"))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const g=(S="button")=>{h(!0),n&&n.capture("docs_search_opened",{trigger:S,current_doc_slug:t})};k.useEffect(()=>{p(!1),window.scrollTo(0,0)},[t]);const b=X_(),x=b.find(S=>S.slug===t),_=b.findIndex(S=>S.slug===t),w=_>0?b[_-1]:null,A=_<b.length-1?b[_+1]:null;return c.jsxs("div",{className:"docs-layout",children:[c.jsx("button",{className:"docs-mobile-menu-btn",onClick:()=>p(!f),"aria-label":"Toggle menu",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?c.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):c.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),c.jsx(voe,{sections:L5.sections,currentSlug:t,onSearchClick:()=>g("button"),isOpen:f,onClose:()=>p(!1),onNavClick:()=>{v.current="sidebar"}}),c.jsx("main",{className:"docs-main",children:c.jsx(e0e,{content:i,loading:a,title:x==null?void 0:x.title,prevDoc:w,nextDoc:A,onPaginationClick:()=>{v.current="pagination"}})}),c.jsx(U0e,{isOpen:u,onClose:()=>h(!1),onSelect:(S,N)=>{v.current="search",n&&n.capture("docs_search_result_clicked",{search_query:N,selected_doc_slug:S,current_doc_slug:t}),r(`/portal/docs/${S}`),h(!1)}})]})}function z0e({category:e,tasks:t,onTaskClick:r}){const[n,i]=k.useState(!1),[s,a]=k.useState(!1),o=k.useRef(null),u=t.length>4,h=f=>{o.current&&o.current.scrollBy({left:f==="left"?-400:400,behavior:"smooth"})};return c.jsxs("div",{className:"task-category-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("div",{className:"section-title-group",onClick:()=>i(!n),children:[c.jsx("button",{className:`collapse-btn ${n?"collapsed":""}`,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})}),c.jsx("div",{className:"section-title-wrapper",children:c.jsxs("h3",{children:[e,c.jsx("span",{className:"section-count",children:t.length})]})})]}),!n&&!s&&u&&c.jsxs("div",{className:"section-controls",children:[c.jsx(We,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!0)},children:c.jsxs("span",{className:"explore-btn-content",children:[c.jsx("span",{children:"View all"}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),c.jsx("button",{className:"scroll-btn",onClick:()=>h("left"),"aria-label":"Scroll left",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsx("button",{className:"scroll-btn",onClick:()=>h("right"),"aria-label":"Scroll right",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),!n&&s&&c.jsx("div",{className:"section-controls",children:c.jsx(We,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!1)},children:c.jsxs("span",{className:"explore-btn-content",children:[c.jsx("span",{children:"Collapse"}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})]})})})]}),!n&&c.jsx("div",{className:"section-content",children:s?c.jsx("div",{className:"tasks-grid-row show-all",children:t.map(f=>c.jsx("div",{className:"grid-item",children:c.jsx(ko,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))}):c.jsx("div",{className:"tasks-carousel",ref:o,children:t.map(f=>c.jsx("div",{className:"carousel-item",children:c.jsx(ko,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))})})]})}function W0e(){const e=ht(),{selectedTasks:t,loading:r,error:n,activeTaskCount:i,canClaimMore:s,refetch:a}=au(),[o,u]=k.useState(null),[h,f]=k.useState("active"),p=Id(nz,2200),v=t.filter(A=>A.status===Be.CLAIMED||A.status===Be.IN_PROGRESS),g=t.filter(A=>A.status===Be.WAITING_REVIEW),b=t.filter(A=>A.status===Be.ACCEPTED),x=k.useMemo(()=>{const A={};return b.forEach(S=>{const N=S.category||"Uncategorized";A[N]||(A[N]=[]),A[N].push(S)}),Object.entries(A).sort((S,N)=>N[1].length-S[1].length)},[b]),_=A=>{u(A)},w=()=>{u(null),a()};return r?c.jsxs("div",{className:"tasks-view my-tasks-view",children:[c.jsxs("div",{className:"tasks-header",children:[c.jsx("h1",{children:"My Tasks"}),c.jsx("p",{children:"Track your progress and complete challenges"})]}),c.jsx("div",{className:"tasks-loading",children:c.jsx(Ta,{size:"lg",message:p})})]}):n?c.jsxs("div",{className:"tasks-view my-tasks-view",children:[c.jsxs("div",{className:"tasks-header",children:[c.jsx("h1",{children:"My Tasks"}),c.jsx("p",{children:"Track your progress and complete challenges"})]}),c.jsxs("div",{className:"tasks-error",children:[c.jsxs("p",{children:["Error loading your tasks: ",n]}),c.jsx(We,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):c.jsxs("div",{className:"tasks-view my-tasks-view",children:[c.jsxs("div",{className:"tasks-header",children:[c.jsx("h1",{children:"My Tasks"}),c.jsx("p",{children:"Track your progress as you work on tasks."})]}),t.length===0?c.jsxs("div",{className:"tasks-empty",children:[c.jsx("div",{className:"empty-icon",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),c.jsx("h3",{children:"No challenges yet"}),c.jsx("p",{children:"Browse tasks and claim challenges to get started."}),c.jsx(We,{variant:"primary",onClick:()=>e("/portal/tasks"),children:"Browse Tasks"})]}):c.jsxs("div",{className:"gallery-content",style:{marginTop:"var(--space-6)"},children:[c.jsx("div",{className:"claim-limit-indicator",style:{marginBottom:"var(--space-4)",padding:"var(--space-3) var(--space-4)",background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:c.jsxs("span",{style:{fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:["Active Task Quota: ",c.jsxs("strong",{style:{color:s?"var(--text-primary)":"var(--color-warning)"},children:[i," / ",Ui]})]})}),c.jsxs(dz,{value:h,onChange:f,children:[c.jsxs(Xv,{value:"active",children:["Active Tasks",v.length>0&&c.jsx("span",{className:"tab-count",children:v.length})]}),c.jsxs(Xv,{value:"review",children:["In Review",g.length>0&&c.jsx("span",{className:"tab-count",children:g.length})]}),c.jsxs(Xv,{value:"accepted",children:["Accepted",b.length>0&&c.jsx("span",{className:"tab-count",children:b.length})]})]}),c.jsxs("div",{className:"my-tasks-tab-content",children:[h==="active"&&(v.length===0?c.jsxs("div",{className:"tasks-empty-tab",children:[c.jsxs("p",{children:["No active challenges. ",s?"Claim some tasks to get started!":"Submit tasks for review to free up slots."]}),s&&c.jsx(We,{variant:"secondary",onClick:()=>e("/portal/tasks"),children:"Find Challenges"})]}):c.jsx("div",{className:"my-tasks-grid",children:v.map(A=>c.jsx(ko,{task:A,isCompleted:!1,isHighlighted:A.is_highlighted,claimedAt:A.selected_at,statusBadge:K3[A.status],onClick:()=>_(A)},A.id))})),h==="review"&&(g.length===0?c.jsx("div",{className:"tasks-empty-tab",children:c.jsx("p",{children:"No tasks waiting for review."})}):c.jsx("div",{className:"my-tasks-grid",children:g.map(A=>c.jsx(ko,{task:A,isCompleted:!1,isHighlighted:A.is_highlighted,claimedAt:A.selected_at,statusBadge:"Waiting on Review",onClick:()=>_(A)},A.id))})),h==="accepted"&&(b.length===0?c.jsx("div",{className:"tasks-empty-tab",children:c.jsx("p",{children:"No accepted challenges yet. Keep going!"})}):c.jsx("div",{className:"tasks-grouped-layout",children:x.map(([A,S])=>c.jsx(z0e,{category:A,tasks:S,onTaskClick:_},A))}))]})]}),c.jsx(J3,{task:o,isOpen:!!o,onClose:w,onTaskUpdate:()=>a()})]})}const q0e=()=>{const{taskId:e}=Tj(),t=ht(),{user:r}=Ln(),[n,i]=k.useState(null),[s,a]=k.useState(!0),[o,u]=k.useState(!1),[h,f]=k.useState(!1),[p,v]=k.useState(null),g=Id(iz,2200);k.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{a(!0);const{data:_,error:w}=await Je.from("task_inspiration").select("id, category, subcategory, subsubcategory, title, description, difficulty, tags").eq("id",e).single();if(w)throw w;if(i(_),r){const{data:A,error:S}=await Je.from("selected_tasks").select("id").eq("user_id",r.id).eq("task_id",e).maybeSingle();S&&console.error("Error checking selection:",S),A&&f(!0)}}catch(_){console.error("Error loading task:",_),v(_.message)}finally{a(!1)}},x=async()=>{if(r)try{u(!0);const{error:_}=await Je.from("selected_tasks").insert({user_id:r.id,task_id:e});if(_)if(_.code==="23505")f(!0),alert("You have already claimed this task.");else throw _;else f(!0),window.confirm("Task claimed successfully! Would you like to view your tasks?")&&t("/portal/my-tasks")}catch(_){console.error("Error claiming task:",_),alert("Failed to claim task: "+_.message)}finally{u(!1)}};return s?c.jsx("div",{className:"task-detail-loading",children:c.jsx(Ta,{size:"lg",message:g})}):p||!n?c.jsxs("div",{className:"task-detail-error",children:[c.jsx("h2",{children:"Task not found"}),c.jsx("p",{children:p||"The requested task could not be loaded."}),c.jsx(We,{variant:"secondary",onClick:()=>t("/portal/tasks"),children:"Back to Gallery"})]}):c.jsxs("div",{className:"task-detail-page",children:[c.jsx(We,{variant:"ghost",size:"sm",className:"back-btn",onClick:()=>t(-1),children:" Back"}),c.jsxs("div",{className:"task-detail-card",children:[c.jsxs("div",{className:"task-detail-header",children:[c.jsxs("div",{className:"task-meta-top",children:[c.jsx("span",{className:"task-category",children:n.category}),n.subcategory&&c.jsxs("span",{className:"task-subcategory",children:[" / ",n.subcategory]})]}),c.jsx("h1",{children:n.subcategory||n.subsubcategory||"Engineering Task"}),c.jsxs("div",{className:"task-meta-badges",children:[n.difficulty&&c.jsx(Gi,{variant:n.difficulty,size:"lg",children:n.difficulty.toUpperCase()}),n.tags&&n.tags.map(_=>c.jsx(Gi,{variant:"tag",size:"lg",children:_},_))]})]}),c.jsx("div",{className:"task-detail-body",children:c.jsxs("section",{className:"detail-section",children:[c.jsx("h3",{children:"Description"}),c.jsx("p",{children:n.description})]})}),c.jsx("div",{className:"task-detail-actions",children:h?c.jsx(We,{variant:"primary",size:"lg",disabled:!0,className:"claim-btn claimed",children:" Task Claimed"}):c.jsx(We,{variant:"primary",size:"lg",className:"claim-btn",onClick:x,loading:o,children:"Claim This Task"})})]})]})};function V0e(){return c.jsx(KH,{children:c.jsx(tz,{children:c.jsx(YH,{children:c.jsx(XH,{children:c.jsxs(ES,{children:[c.jsx(at,{path:"/",element:c.jsx(Jz,{})}),c.jsx(at,{path:"/login",element:c.jsx(Lz,{})}),c.jsx(at,{path:"/forgot-password",element:c.jsx(Mz,{})}),c.jsx(at,{path:"/reset-password",element:c.jsx(Fz,{})}),c.jsx(at,{path:"/auth/callback",element:c.jsx(Bz,{})}),c.jsx(at,{path:"/portal/*",element:c.jsx(Rz,{children:c.jsxs("div",{className:"app",children:[c.jsx(Iz,{}),c.jsx(eW,{}),c.jsx(cz,{variant:"subtle",title:"Please do not reach out to reviewers directly; ",children:"messaging them will not speed up your review."}),c.jsxs(ES,{children:[c.jsx(at,{path:"/",element:c.jsx(dW,{})}),c.jsx(at,{path:"/overview",element:c.jsx(hW,{})}),c.jsx(at,{path:"/tasks",element:c.jsx(goe,{})}),c.jsx(at,{path:"/task/:taskId",element:c.jsx(q0e,{})}),c.jsx(at,{path:"/my-tasks",element:c.jsx(W0e,{})}),c.jsx(at,{path:"/videos",element:c.jsx(mW,{})}),c.jsx(at,{path:"/workbook",element:c.jsx(vW,{})}),c.jsx(at,{path:"/oracle",element:c.jsx(bW,{})}),c.jsx(at,{path:"/onboarding",element:c.jsx(_W,{})}),c.jsx(at,{path:"/environment-setup",element:c.jsx(vi,{to:"/portal/docs/getting-started/quick-start",replace:!0})}),c.jsx(at,{path:"/local-testing",element:c.jsx(TW,{})}),c.jsx(at,{path:"/expert-platform-onboarding",element:c.jsx(xW,{})}),c.jsx(at,{path:"/expert-platform-walkthrough",element:c.jsx(vi,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),c.jsx(at,{path:"/feedback",element:c.jsx(wW,{})}),c.jsx(at,{path:"/faq",element:c.jsx(EW,{})}),c.jsx(at,{path:"/glossary",element:c.jsx(kW,{})}),c.jsx(at,{path:"/docs/*",element:c.jsx(H0e,{})}),c.jsx(at,{path:"/docs-platform-onboarding",element:c.jsx(vi,{to:"/portal/docs/onboarding/platform-onboarding",replace:!0})}),c.jsx(at,{path:"/docs-platform-submission",element:c.jsx(vi,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),c.jsx(at,{path:"/docs-ci-training",element:c.jsx(vi,{to:"/portal/docs/testing-and-validation/ci-feedback-training",replace:!0})}),c.jsx(at,{path:"/docs-oracle-training",element:c.jsx(vi,{to:"/portal/docs/testing-and-validation/oracle-training",replace:!0})}),c.jsx(at,{path:"/docs-faq",element:c.jsx(vi,{to:"/portal/docs/reference/faq",replace:!0})}),c.jsx(at,{path:"/docs-glossary",element:c.jsx(vi,{to:"/portal/docs/reference/glossary",replace:!0})}),c.jsx(at,{path:"/profile",element:c.jsx(uoe,{})}),c.jsx(at,{path:"/admin",element:c.jsx(roe,{})}),SW.map(e=>c.jsx(at,{path:`/${e.id}`,element:c.jsx(pW,{section:e})},e.id)),c.jsx(at,{path:"*",element:c.jsx(vi,{to:"/portal",replace:!0})})]})]})})}),c.jsx(at,{path:"*",element:c.jsx(vi,{to:"/",replace:!0})})]})})})})})}const hp="/Terminus-EC-Training-stateful/",Q_=new URLSearchParams(window.location.search),ep=Q_.get("redirect");if(ep){const e=Q_.get("search")||"",t=Q_.get("hash")||"",r=hp.endsWith("/")?hp.slice(0,-1):hp,n=ep.startsWith("/")?ep:"/"+ep;window.history.replaceState(null,"",r+n+e+t)}zF.createRoot(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(EU,{apiKey:"phc_ywGAskGEiQwP7kudLchm56fN5s07jrWgFjpGzk995cl",options:{api_host:"https://us.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:c.jsx(t9,{basename:hp,children:c.jsx(V0e,{})})})}));
