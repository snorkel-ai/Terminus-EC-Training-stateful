var CF=Object.defineProperty;var AF=(e,t,r)=>t in e?CF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fv=(e,t,r)=>AF(e,typeof t!="symbol"?t+"":t,r);function fI(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OF(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var pv={exports:{}},ac={},mv={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function NF(){if(uS)return Ze;uS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function _(q,X,F){this.props=q,this.context=X,this.refs=x,this.updater=F||g}_.prototype.isReactComponent={},_.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function w(){}w.prototype=_.prototype;function C(q,X,F){this.props=q,this.context=X,this.refs=x,this.updater=F||g}var S=C.prototype=new w;S.constructor=C,b(S,_.prototype),S.isPureReactComponent=!0;var O=Array.isArray,P=Object.prototype.hasOwnProperty,N={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function R(q,X,F){var _e,Te={},Ne=null,Xe=null;if(X!=null)for(_e in X.ref!==void 0&&(Xe=X.ref),X.key!==void 0&&(Ne=""+X.key),X)P.call(X,_e)&&!j.hasOwnProperty(_e)&&(Te[_e]=X[_e]);var Ye=arguments.length-2;if(Ye===1)Te.children=F;else if(1<Ye){for(var ae=Array(Ye),Se=0;Se<Ye;Se++)ae[Se]=arguments[Se+2];Te.children=ae}if(q&&q.defaultProps)for(_e in Ye=q.defaultProps,Ye)Te[_e]===void 0&&(Te[_e]=Ye[_e]);return{$$typeof:e,type:q,key:Ne,ref:Xe,props:Te,_owner:N.current}}function $(q,X){return{$$typeof:e,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function U(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(F){return X[F]})}var W=/\/+/g;function Q(q,X){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):X.toString(36)}function Y(q,X,F,_e,Te){var Ne=typeof q;(Ne==="undefined"||Ne==="boolean")&&(q=null);var Xe=!1;if(q===null)Xe=!0;else switch(Ne){case"string":case"number":Xe=!0;break;case"object":switch(q.$$typeof){case e:case t:Xe=!0}}if(Xe)return Xe=q,Te=Te(Xe),q=_e===""?"."+Q(Xe,0):_e,O(Te)?(F="",q!=null&&(F=q.replace(W,"$&/")+"/"),Y(Te,X,F,"",function(Se){return Se})):Te!=null&&(L(Te)&&(Te=$(Te,F+(!Te.key||Xe&&Xe.key===Te.key?"":(""+Te.key).replace(W,"$&/")+"/")+q)),X.push(Te)),1;if(Xe=0,_e=_e===""?".":_e+":",O(q))for(var Ye=0;Ye<q.length;Ye++){Ne=q[Ye];var ae=_e+Q(Ne,Ye);Xe+=Y(Ne,X,F,ae,Te)}else if(ae=v(q),typeof ae=="function")for(q=ae.call(q),Ye=0;!(Ne=q.next()).done;)Ne=Ne.value,ae=_e+Q(Ne,Ye++),Xe+=Y(Ne,X,F,ae,Te);else if(Ne==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Xe}function V(q,X,F){if(q==null)return q;var _e=[],Te=0;return Y(q,_e,"","",function(Ne){return X.call(F,Ne,Te++)}),_e}function le(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(F){(q._status===0||q._status===-1)&&(q._status=1,q._result=F)},function(F){(q._status===0||q._status===-1)&&(q._status=2,q._result=F)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},te={transition:null},ue={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:te,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:V,forEach:function(q,X,F){V(q,function(){X.apply(this,arguments)},F)},count:function(q){var X=0;return V(q,function(){X++}),X},toArray:function(q){return V(q,function(X){return X})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=_,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=C,Ze.StrictMode=n,Ze.Suspense=u,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ze.act=D,Ze.cloneElement=function(q,X,F){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var _e=b({},q.props),Te=q.key,Ne=q.ref,Xe=q._owner;if(X!=null){if(X.ref!==void 0&&(Ne=X.ref,Xe=N.current),X.key!==void 0&&(Te=""+X.key),q.type&&q.type.defaultProps)var Ye=q.type.defaultProps;for(ae in X)P.call(X,ae)&&!j.hasOwnProperty(ae)&&(_e[ae]=X[ae]===void 0&&Ye!==void 0?Ye[ae]:X[ae])}var ae=arguments.length-2;if(ae===1)_e.children=F;else if(1<ae){Ye=Array(ae);for(var Se=0;Se<ae;Se++)Ye[Se]=arguments[Se+2];_e.children=Ye}return{$$typeof:e,type:q.type,key:Te,ref:Ne,props:_e,_owner:Xe}},Ze.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Ze.createElement=R,Ze.createFactory=function(q){var X=R.bind(null,q);return X.type=q,X},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:o,render:q}},Ze.isValidElement=L,Ze.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:le}},Ze.memo=function(q,X){return{$$typeof:h,type:q,compare:X===void 0?null:X}},Ze.startTransition=function(q){var X=te.transition;te.transition={};try{q()}finally{te.transition=X}},Ze.unstable_act=D,Ze.useCallback=function(q,X){return oe.current.useCallback(q,X)},Ze.useContext=function(q){return oe.current.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},Ze.useEffect=function(q,X){return oe.current.useEffect(q,X)},Ze.useId=function(){return oe.current.useId()},Ze.useImperativeHandle=function(q,X,F){return oe.current.useImperativeHandle(q,X,F)},Ze.useInsertionEffect=function(q,X){return oe.current.useInsertionEffect(q,X)},Ze.useLayoutEffect=function(q,X){return oe.current.useLayoutEffect(q,X)},Ze.useMemo=function(q,X){return oe.current.useMemo(q,X)},Ze.useReducer=function(q,X,F){return oe.current.useReducer(q,X,F)},Ze.useRef=function(q){return oe.current.useRef(q)},Ze.useState=function(q){return oe.current.useState(q)},Ze.useSyncExternalStore=function(q,X,F){return oe.current.useSyncExternalStore(q,X,F)},Ze.useTransition=function(){return oe.current.useTransition()},Ze.version="18.3.1",Ze}var cS;function Ql(){return cS||(cS=1,mv.exports=NF()),mv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function PF(){if(dS)return ac;dS=1;var e=Ql(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,h){var f,p={},v=null,g=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)n.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(o&&o.defaultProps)for(f in u=o.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:o,key:v,ref:g,props:p,_owner:i.current}}return ac.Fragment=r,ac.jsx=a,ac.jsxs=a,ac}var hS;function IF(){return hS||(hS=1,pv.exports=PF()),pv.exports}var d=IF(),T=Ql();const fn=ni(T),jF=fI({__proto__:null,default:fn},[T]);var df={},gv={exports:{}},on={},vv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function RF(){return fS||(fS=1,(function(e){function t(te,ue){var D=te.length;te.push(ue);e:for(;0<D;){var q=D-1>>>1,X=te[q];if(0<i(X,ue))te[q]=ue,te[D]=X,D=q;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ue=te[0],D=te.pop();if(D!==ue){te[0]=D;e:for(var q=0,X=te.length,F=X>>>1;q<F;){var _e=2*(q+1)-1,Te=te[_e],Ne=_e+1,Xe=te[Ne];if(0>i(Te,D))Ne<X&&0>i(Xe,Te)?(te[q]=Xe,te[Ne]=D,q=Ne):(te[q]=Te,te[_e]=D,q=_e);else if(Ne<X&&0>i(Xe,D))te[q]=Xe,te[Ne]=D,q=Ne;else break e}}return ue}function i(te,ue){var D=te.sortIndex-ue.sortIndex;return D!==0?D:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],h=[],f=1,p=null,v=3,g=!1,b=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(te){for(var ue=r(h);ue!==null;){if(ue.callback===null)n(h);else if(ue.startTime<=te)n(h),ue.sortIndex=ue.expirationTime,t(u,ue);else break;ue=r(h)}}function O(te){if(x=!1,S(te),!b)if(r(u)!==null)b=!0,le(P);else{var ue=r(h);ue!==null&&oe(O,ue.startTime-te)}}function P(te,ue){b=!1,x&&(x=!1,w(R),R=-1),g=!0;var D=v;try{for(S(ue),p=r(u);p!==null&&(!(p.expirationTime>ue)||te&&!U());){var q=p.callback;if(typeof q=="function"){p.callback=null,v=p.priorityLevel;var X=q(p.expirationTime<=ue);ue=e.unstable_now(),typeof X=="function"?p.callback=X:p===r(u)&&n(u),S(ue)}else n(u);p=r(u)}if(p!==null)var F=!0;else{var _e=r(h);_e!==null&&oe(O,_e.startTime-ue),F=!1}return F}finally{p=null,v=D,g=!1}}var N=!1,j=null,R=-1,$=5,L=-1;function U(){return!(e.unstable_now()-L<$)}function W(){if(j!==null){var te=e.unstable_now();L=te;var ue=!0;try{ue=j(!0,te)}finally{ue?Q():(N=!1,j=null)}}else N=!1}var Q;if(typeof C=="function")Q=function(){C(W)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,V=Y.port2;Y.port1.onmessage=W,Q=function(){V.postMessage(null)}}else Q=function(){_(W,0)};function le(te){j=te,N||(N=!0,Q())}function oe(te,ue){R=_(function(){te(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,le(P))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(te){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var D=v;v=ue;try{return te()}finally{v=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var D=v;v=te;try{return ue()}finally{v=D}},e.unstable_scheduleCallback=function(te,ue,D){var q=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?q+D:q):D=q,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=D+X,te={id:f++,callback:ue,priorityLevel:te,startTime:D,expirationTime:X,sortIndex:-1},D>q?(te.sortIndex=D,t(h,te),r(u)===null&&te===r(h)&&(x?(w(R),R=-1):x=!0,oe(O,D-q))):(te.sortIndex=X,t(u,te),b||g||(b=!0,le(P))),te},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(te){var ue=v;return function(){var D=v;v=ue;try{return te.apply(this,arguments)}finally{v=D}}}})(yv)),yv}var pS;function DF(){return pS||(pS=1,vv.exports=RF()),vv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function LF(){if(mS)return on;mS=1;var e=Ql(),t=DF();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,c){a(l,c),a(l+"Capture",c)}function a(l,c){for(i[l]=c,l=0;l<c.length;l++)n.add(c[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(l){return u.call(p,l)?!0:u.call(f,l)?!1:h.test(l)?p[l]=!0:(f[l]=!0,!1)}function g(l,c,m,y){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,c,m,y){if(c===null||typeof c>"u"||g(l,c,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function x(l,c,m,y,k,A,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=l,this.type=c,this.sanitizeURL=A,this.removeEmptyString=I}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];_[c]=new x(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(w,C);_[c]=new x(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(w,C);_[c]=new x(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(w,C);_[c]=new x(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,c,m,y){var k=_.hasOwnProperty(c)?_[c]:null;(k!==null?k.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(b(c,m,k,y)&&(m=null),y||k===null?v(c)&&(m===null?l.removeAttribute(c):l.setAttribute(c,""+m)):k.mustUseProperty?l[k.propertyName]=m===null?k.type===3?!1:"":m:(c=k.attributeName,y=k.attributeNamespace,m===null?l.removeAttribute(c):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,y?l.setAttributeNS(y,c,m):l.setAttribute(c,m))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),te=Symbol.iterator;function ue(l){return l===null||typeof l!="object"?null:(l=te&&l[te]||l["@@iterator"],typeof l=="function"?l:null)}var D=Object.assign,q;function X(l){if(q===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+l}var F=!1;function _e(l,c){if(!l||F)return"";F=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var y=re}Reflect.construct(l,[],c)}else{try{c.call()}catch(re){y=re}l.call(c.prototype)}else{try{throw Error()}catch(re){y=re}l()}}catch(re){if(re&&y&&typeof re.stack=="string"){for(var k=re.stack.split(`
`),A=y.stack.split(`
`),I=k.length-1,H=A.length-1;1<=I&&0<=H&&k[I]!==A[H];)H--;for(;1<=I&&0<=H;I--,H--)if(k[I]!==A[H]){if(I!==1||H!==1)do if(I--,H--,0>H||k[I]!==A[H]){var K=`
`+k[I].replace(" at new "," at ");return l.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",l.displayName)),K}while(1<=I&&0<=H);break}}}finally{F=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?X(l):""}function Te(l){switch(l.tag){case 5:return X(l.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return l=_e(l.type,!1),l;case 11:return l=_e(l.type.render,!1),l;case 1:return l=_e(l.type,!0),l;default:return""}}function Ne(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case j:return"Fragment";case N:return"Portal";case $:return"Profiler";case R:return"StrictMode";case Q:return"Suspense";case Y:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case U:return(l.displayName||"Context")+".Consumer";case L:return(l._context.displayName||"Context")+".Provider";case W:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case V:return c=l.displayName||null,c!==null?c:Ne(l.type)||"Memo";case le:c=l._payload,l=l._init;try{return Ne(l(c))}catch{}}return null}function Xe(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ye(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ae(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Se(l){var c=ae(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),y=""+l[c];if(!l.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,A=m.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return k.call(this)},set:function(I){y=""+I,A.call(this,I)}}),Object.defineProperty(l,c,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ge(l){l._valueTracker||(l._valueTracker=Se(l))}function pe(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var m=c.getValue(),y="";return l&&(y=ae(l)?l.checked?"true":"false":l.value),l=y,l!==m?(c.setValue(l),!0):!1}function St(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function nt(l,c){var m=c.checked;return D({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function $t(l,c){var m=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;m=Ye(c.value!=null?c.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ut(l,c){c=c.checked,c!=null&&S(l,"checked",c,!1)}function cr(l,c){Ut(l,c);var m=Ye(c.value),y=c.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?Ro(l,c.type,m):c.hasOwnProperty("defaultValue")&&Ro(l,c.type,Ye(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function ja(l,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,m||c===l.value||(l.value=c),l.defaultValue=c}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Ro(l,c,m){(c!=="number"||St(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Ms=Array.isArray;function Fs(l,c,m,y){if(l=l.options,c){c={};for(var k=0;k<m.length;k++)c["$"+m[k]]=!0;for(m=0;m<l.length;m++)k=c.hasOwnProperty("$"+l[m].value),l[m].selected!==k&&(l[m].selected=k),k&&y&&(l[m].defaultSelected=!0)}else{for(m=""+Ye(m),c=null,k=0;k<l.length;k++){if(l[k].value===m){l[k].selected=!0,y&&(l[k].defaultSelected=!0);return}c!==null||l[k].disabled||(c=l[k])}c!==null&&(c.selected=!0)}}function Eu(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return D({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function eh(l,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(r(92));if(Ms(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),m=c}l._wrapperState={initialValue:Ye(m)}}function th(l,c){var m=Ye(c.value),y=Ye(c.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),c.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function rh(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function be(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?ce(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ze,Je=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,y,k){MSApp.execUnsafeLocalFunction(function(){return l(c,m,y,k)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ze.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function at(l,c){if(c){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=c;return}}l.textContent=c}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xi=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(l){Xi.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),xr[c]=xr[l]})});function Mn(l,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||xr.hasOwnProperty(l)&&xr[l]?(""+c).trim():c+"px"}function Bs(l,c){l=l.style;for(var m in c)if(c.hasOwnProperty(m)){var y=m.indexOf("--")===0,k=Mn(m,c[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,k):l[m]=k}}var Ra=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wr(l,c){if(c){if(Ra[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Ni(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yn=null;function Ag(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Og=null,Do=null,Lo=null;function SE(l){if(l=qu(l)){if(typeof Og!="function")throw Error(r(280));var c=l.stateNode;c&&(c=Th(c),Og(l.stateNode,l.type,c))}}function CE(l){Do?Lo?Lo.push(l):Lo=[l]:Do=l}function AE(){if(Do){var l=Do,c=Lo;if(Lo=Do=null,SE(l),c)for(l=0;l<c.length;l++)SE(c[l])}}function OE(l,c){return l(c)}function NE(){}var Ng=!1;function PE(l,c,m){if(Ng)return l(c,m);Ng=!0;try{return OE(l,c,m)}finally{Ng=!1,(Do!==null||Lo!==null)&&(NE(),AE())}}function ku(l,c){var m=l.stateNode;if(m===null)return null;var y=Th(m);if(y===null)return null;m=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Pg=!1;if(o)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){Pg=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Pg=!1}function j5(l,c,m,y,k,A,I,H,K){var re=Array.prototype.slice.call(arguments,3);try{c.apply(m,re)}catch(fe){this.onError(fe)}}var Su=!1,nh=null,ih=!1,Ig=null,R5={onError:function(l){Su=!0,nh=l}};function D5(l,c,m,y,k,A,I,H,K){Su=!1,nh=null,j5.apply(R5,arguments)}function L5(l,c,m,y,k,A,I,H,K){if(D5.apply(this,arguments),Su){if(Su){var re=nh;Su=!1,nh=null}else throw Error(r(198));ih||(ih=!0,Ig=re)}}function Da(l){var c=l,m=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(m=c.return),l=c.return;while(l)}return c.tag===3?m:null}function IE(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function jE(l){if(Da(l)!==l)throw Error(r(188))}function M5(l){var c=l.alternate;if(!c){if(c=Da(l),c===null)throw Error(r(188));return c!==l?null:l}for(var m=l,y=c;;){var k=m.return;if(k===null)break;var A=k.alternate;if(A===null){if(y=k.return,y!==null){m=y;continue}break}if(k.child===A.child){for(A=k.child;A;){if(A===m)return jE(k),l;if(A===y)return jE(k),c;A=A.sibling}throw Error(r(188))}if(m.return!==y.return)m=k,y=A;else{for(var I=!1,H=k.child;H;){if(H===m){I=!0,m=k,y=A;break}if(H===y){I=!0,y=k,m=A;break}H=H.sibling}if(!I){for(H=A.child;H;){if(H===m){I=!0,m=A,y=k;break}if(H===y){I=!0,y=A,m=k;break}H=H.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:c}function RE(l){return l=M5(l),l!==null?DE(l):null}function DE(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=DE(l);if(c!==null)return c;l=l.sibling}return null}var LE=t.unstable_scheduleCallback,ME=t.unstable_cancelCallback,F5=t.unstable_shouldYield,B5=t.unstable_requestPaint,zt=t.unstable_now,$5=t.unstable_getCurrentPriorityLevel,jg=t.unstable_ImmediatePriority,FE=t.unstable_UserBlockingPriority,sh=t.unstable_NormalPriority,U5=t.unstable_LowPriority,BE=t.unstable_IdlePriority,ah=null,Pi=null;function H5(l){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(ah,l,void 0,(l.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:q5,z5=Math.log,W5=Math.LN2;function q5(l){return l>>>=0,l===0?32:31-(z5(l)/W5|0)|0}var oh=64,lh=4194304;function Cu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function uh(l,c){var m=l.pendingLanes;if(m===0)return 0;var y=0,k=l.suspendedLanes,A=l.pingedLanes,I=m&268435455;if(I!==0){var H=I&~k;H!==0?y=Cu(H):(A&=I,A!==0&&(y=Cu(A)))}else I=m&~k,I!==0?y=Cu(I):A!==0&&(y=Cu(A));if(y===0)return 0;if(c!==0&&c!==y&&(c&k)===0&&(k=y&-y,A=c&-c,k>=A||k===16&&(A&4194240)!==0))return c;if((y&4)!==0&&(y|=m&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=y;0<c;)m=31-li(c),k=1<<m,y|=l[m],c&=~k;return y}function V5(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K5(l,c){for(var m=l.suspendedLanes,y=l.pingedLanes,k=l.expirationTimes,A=l.pendingLanes;0<A;){var I=31-li(A),H=1<<I,K=k[I];K===-1?((H&m)===0||(H&y)!==0)&&(k[I]=V5(H,c)):K<=c&&(l.expiredLanes|=H),A&=~H}}function Rg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function $E(){var l=oh;return oh<<=1,(oh&4194240)===0&&(oh=64),l}function Dg(l){for(var c=[],m=0;31>m;m++)c.push(l);return c}function Au(l,c,m){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-li(c),l[c]=m}function Y5(l,c){var m=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var k=31-li(m),A=1<<k;c[k]=0,y[k]=-1,l[k]=-1,m&=~A}}function Lg(l,c){var m=l.entangledLanes|=c;for(l=l.entanglements;m;){var y=31-li(m),k=1<<y;k&c|l[y]&c&&(l[y]|=c),m&=~k}}var dt=0;function UE(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var HE,Mg,zE,WE,qE,Fg=!1,ch=[],$s=null,Us=null,Hs=null,Ou=new Map,Nu=new Map,zs=[],G5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VE(l,c){switch(l){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Ou.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(c.pointerId)}}function Pu(l,c,m,y,k,A){return l===null||l.nativeEvent!==A?(l={blockedOn:c,domEventName:m,eventSystemFlags:y,nativeEvent:A,targetContainers:[k]},c!==null&&(c=qu(c),c!==null&&Mg(c)),l):(l.eventSystemFlags|=y,c=l.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),l)}function X5(l,c,m,y,k){switch(c){case"focusin":return $s=Pu($s,l,c,m,y,k),!0;case"dragenter":return Us=Pu(Us,l,c,m,y,k),!0;case"mouseover":return Hs=Pu(Hs,l,c,m,y,k),!0;case"pointerover":var A=k.pointerId;return Ou.set(A,Pu(Ou.get(A)||null,l,c,m,y,k)),!0;case"gotpointercapture":return A=k.pointerId,Nu.set(A,Pu(Nu.get(A)||null,l,c,m,y,k)),!0}return!1}function KE(l){var c=La(l.target);if(c!==null){var m=Da(c);if(m!==null){if(c=m.tag,c===13){if(c=IE(m),c!==null){l.blockedOn=c,qE(l.priority,function(){zE(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function dh(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var m=$g(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);yn=y,m.target.dispatchEvent(y),yn=null}else return c=qu(m),c!==null&&Mg(c),l.blockedOn=m,!1;c.shift()}return!0}function YE(l,c,m){dh(l)&&m.delete(c)}function Q5(){Fg=!1,$s!==null&&dh($s)&&($s=null),Us!==null&&dh(Us)&&(Us=null),Hs!==null&&dh(Hs)&&(Hs=null),Ou.forEach(YE),Nu.forEach(YE)}function Iu(l,c){l.blockedOn===c&&(l.blockedOn=null,Fg||(Fg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Q5)))}function ju(l){function c(k){return Iu(k,l)}if(0<ch.length){Iu(ch[0],l);for(var m=1;m<ch.length;m++){var y=ch[m];y.blockedOn===l&&(y.blockedOn=null)}}for($s!==null&&Iu($s,l),Us!==null&&Iu(Us,l),Hs!==null&&Iu(Hs,l),Ou.forEach(c),Nu.forEach(c),m=0;m<zs.length;m++)y=zs[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<zs.length&&(m=zs[0],m.blockedOn===null);)KE(m),m.blockedOn===null&&zs.shift()}var Mo=O.ReactCurrentBatchConfig,hh=!0;function J5(l,c,m,y){var k=dt,A=Mo.transition;Mo.transition=null;try{dt=1,Bg(l,c,m,y)}finally{dt=k,Mo.transition=A}}function Z5(l,c,m,y){var k=dt,A=Mo.transition;Mo.transition=null;try{dt=4,Bg(l,c,m,y)}finally{dt=k,Mo.transition=A}}function Bg(l,c,m,y){if(hh){var k=$g(l,c,m,y);if(k===null)n0(l,c,y,fh,m),VE(l,y);else if(X5(k,l,c,m,y))y.stopPropagation();else if(VE(l,y),c&4&&-1<G5.indexOf(l)){for(;k!==null;){var A=qu(k);if(A!==null&&HE(A),A=$g(l,c,m,y),A===null&&n0(l,c,y,fh,m),A===k)break;k=A}k!==null&&y.stopPropagation()}else n0(l,c,y,null,m)}}var fh=null;function $g(l,c,m,y){if(fh=null,l=Ag(y),l=La(l),l!==null)if(c=Da(l),c===null)l=null;else if(m=c.tag,m===13){if(l=IE(c),l!==null)return l;l=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return fh=l,null}function GE(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($5()){case jg:return 1;case FE:return 4;case sh:case U5:return 16;case BE:return 536870912;default:return 16}default:return 16}}var Ws=null,Ug=null,ph=null;function XE(){if(ph)return ph;var l,c=Ug,m=c.length,y,k="value"in Ws?Ws.value:Ws.textContent,A=k.length;for(l=0;l<m&&c[l]===k[l];l++);var I=m-l;for(y=1;y<=I&&c[m-y]===k[A-y];y++);return ph=k.slice(l,1<y?1-y:void 0)}function mh(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function gh(){return!0}function QE(){return!1}function bn(l){function c(m,y,k,A,I){this._reactName=m,this._targetInst=k,this.type=y,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var H in l)l.hasOwnProperty(H)&&(m=l[H],this[H]=m?m(A):A[H]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?gh:QE,this.isPropagationStopped=QE,this}return D(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),c}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=bn(Fo),Ru=D({},Fo,{view:0,detail:0}),e8=bn(Ru),zg,Wg,Du,vh=D({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Du&&(Du&&l.type==="mousemove"?(zg=l.screenX-Du.screenX,Wg=l.screenY-Du.screenY):Wg=zg=0,Du=l),zg)},movementY:function(l){return"movementY"in l?l.movementY:Wg}}),JE=bn(vh),t8=D({},vh,{dataTransfer:0}),r8=bn(t8),n8=D({},Ru,{relatedTarget:0}),qg=bn(n8),i8=D({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),s8=bn(i8),a8=D({},Fo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),o8=bn(a8),l8=D({},Fo,{data:0}),ZE=bn(l8),u8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h8(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=d8[l])?!!c[l]:!1}function Vg(){return h8}var f8=D({},Ru,{key:function(l){if(l.key){var c=u8[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=mh(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?c8[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vg,charCode:function(l){return l.type==="keypress"?mh(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?mh(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),p8=bn(f8),m8=D({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ek=bn(m8),g8=D({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vg}),v8=bn(g8),y8=D({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),b8=bn(y8),_8=D({},vh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),x8=bn(_8),w8=[9,13,27,32],Kg=o&&"CompositionEvent"in window,Lu=null;o&&"documentMode"in document&&(Lu=document.documentMode);var E8=o&&"TextEvent"in window&&!Lu,tk=o&&(!Kg||Lu&&8<Lu&&11>=Lu),rk=" ",nk=!1;function ik(l,c){switch(l){case"keyup":return w8.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Bo=!1;function k8(l,c){switch(l){case"compositionend":return sk(c);case"keypress":return c.which!==32?null:(nk=!0,rk);case"textInput":return l=c.data,l===rk&&nk?null:l;default:return null}}function T8(l,c){if(Bo)return l==="compositionend"||!Kg&&ik(l,c)?(l=XE(),ph=Ug=Ws=null,Bo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return tk&&c.locale!=="ko"?null:c.data;default:return null}}var S8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ak(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!S8[l.type]:c==="textarea"}function ok(l,c,m,y){CE(y),c=wh(c,"onChange"),0<c.length&&(m=new Hg("onChange","change",null,m,y),l.push({event:m,listeners:c}))}var Mu=null,Fu=null;function C8(l){Tk(l,0)}function yh(l){var c=Wo(l);if(pe(c))return l}function A8(l,c){if(l==="change")return c}var lk=!1;if(o){var Yg;if(o){var Gg="oninput"in document;if(!Gg){var uk=document.createElement("div");uk.setAttribute("oninput","return;"),Gg=typeof uk.oninput=="function"}Yg=Gg}else Yg=!1;lk=Yg&&(!document.documentMode||9<document.documentMode)}function ck(){Mu&&(Mu.detachEvent("onpropertychange",dk),Fu=Mu=null)}function dk(l){if(l.propertyName==="value"&&yh(Fu)){var c=[];ok(c,Fu,l,Ag(l)),PE(C8,c)}}function O8(l,c,m){l==="focusin"?(ck(),Mu=c,Fu=m,Mu.attachEvent("onpropertychange",dk)):l==="focusout"&&ck()}function N8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return yh(Fu)}function P8(l,c){if(l==="click")return yh(c)}function I8(l,c){if(l==="input"||l==="change")return yh(c)}function j8(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var ui=typeof Object.is=="function"?Object.is:j8;function Bu(l,c){if(ui(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var m=Object.keys(l),y=Object.keys(c);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var k=m[y];if(!u.call(c,k)||!ui(l[k],c[k]))return!1}return!0}function hk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function fk(l,c){var m=hk(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=c&&y>=c)return{node:m,offset:c-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=hk(m)}}function pk(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?pk(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function mk(){for(var l=window,c=St();c instanceof l.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)l=c.contentWindow;else break;c=St(l.document)}return c}function Xg(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function R8(l){var c=mk(),m=l.focusedElem,y=l.selectionRange;if(c!==m&&m&&m.ownerDocument&&pk(m.ownerDocument.documentElement,m)){if(y!==null&&Xg(m)){if(c=y.start,l=y.end,l===void 0&&(l=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(l,m.value.length);else if(l=(c=m.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var k=m.textContent.length,A=Math.min(y.start,k);y=y.end===void 0?A:Math.min(y.end,k),!l.extend&&A>y&&(k=y,y=A,A=k),k=fk(m,A);var I=fk(m,y);k&&I&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),l.removeAllRanges(),A>y?(l.addRange(c),l.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),l.addRange(c)))}}for(c=[],l=m;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)l=c[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var D8=o&&"documentMode"in document&&11>=document.documentMode,$o=null,Qg=null,$u=null,Jg=!1;function gk(l,c,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Jg||$o==null||$o!==St(y)||(y=$o,"selectionStart"in y&&Xg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),$u&&Bu($u,y)||($u=y,y=wh(Qg,"onSelect"),0<y.length&&(c=new Hg("onSelect","select",null,c,m),l.push({event:c,listeners:y}),c.target=$o)))}function bh(l,c){var m={};return m[l.toLowerCase()]=c.toLowerCase(),m["Webkit"+l]="webkit"+c,m["Moz"+l]="moz"+c,m}var Uo={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},Zg={},vk={};o&&(vk=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function _h(l){if(Zg[l])return Zg[l];if(!Uo[l])return l;var c=Uo[l],m;for(m in c)if(c.hasOwnProperty(m)&&m in vk)return Zg[l]=c[m];return l}var yk=_h("animationend"),bk=_h("animationiteration"),_k=_h("animationstart"),xk=_h("transitionend"),wk=new Map,Ek="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(l,c){wk.set(l,c),s(c,[l])}for(var e0=0;e0<Ek.length;e0++){var t0=Ek[e0],L8=t0.toLowerCase(),M8=t0[0].toUpperCase()+t0.slice(1);qs(L8,"on"+M8)}qs(yk,"onAnimationEnd"),qs(bk,"onAnimationIteration"),qs(_k,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(xk,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function kk(l,c,m){var y=l.type||"unknown-event";l.currentTarget=m,L5(y,c,void 0,l),l.currentTarget=null}function Tk(l,c){c=(c&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],k=y.event;y=y.listeners;e:{var A=void 0;if(c)for(var I=y.length-1;0<=I;I--){var H=y[I],K=H.instance,re=H.currentTarget;if(H=H.listener,K!==A&&k.isPropagationStopped())break e;kk(k,H,re),A=K}else for(I=0;I<y.length;I++){if(H=y[I],K=H.instance,re=H.currentTarget,H=H.listener,K!==A&&k.isPropagationStopped())break e;kk(k,H,re),A=K}}}if(ih)throw l=Ig,ih=!1,Ig=null,l}function Ct(l,c){var m=c[u0];m===void 0&&(m=c[u0]=new Set);var y=l+"__bubble";m.has(y)||(Sk(c,l,2,!1),m.add(y))}function r0(l,c,m){var y=0;c&&(y|=4),Sk(m,l,y,c)}var xh="_reactListening"+Math.random().toString(36).slice(2);function Hu(l){if(!l[xh]){l[xh]=!0,n.forEach(function(m){m!=="selectionchange"&&(F8.has(m)||r0(m,!1,l),r0(m,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[xh]||(c[xh]=!0,r0("selectionchange",!1,c))}}function Sk(l,c,m,y){switch(GE(c)){case 1:var k=J5;break;case 4:k=Z5;break;default:k=Bg}m=k.bind(null,c,m,l),k=void 0,!Pg||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),y?k!==void 0?l.addEventListener(c,m,{capture:!0,passive:k}):l.addEventListener(c,m,!0):k!==void 0?l.addEventListener(c,m,{passive:k}):l.addEventListener(c,m,!1)}function n0(l,c,m,y,k){var A=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var H=y.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if(I===4)for(I=y.return;I!==null;){var K=I.tag;if((K===3||K===4)&&(K=I.stateNode.containerInfo,K===k||K.nodeType===8&&K.parentNode===k))return;I=I.return}for(;H!==null;){if(I=La(H),I===null)return;if(K=I.tag,K===5||K===6){y=A=I;continue e}H=H.parentNode}}y=y.return}PE(function(){var re=A,fe=Ag(m),me=[];e:{var de=wk.get(l);if(de!==void 0){var ke=Hg,Pe=l;switch(l){case"keypress":if(mh(m)===0)break e;case"keydown":case"keyup":ke=p8;break;case"focusin":Pe="focus",ke=qg;break;case"focusout":Pe="blur",ke=qg;break;case"beforeblur":case"afterblur":ke=qg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=JE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=r8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=v8;break;case yk:case bk:case _k:ke=s8;break;case xk:ke=b8;break;case"scroll":ke=e8;break;case"wheel":ke=x8;break;case"copy":case"cut":case"paste":ke=o8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=ek}var Ie=(c&4)!==0,Wt=!Ie&&l==="scroll",J=Ie?de!==null?de+"Capture":null:de;Ie=[];for(var G=re,ee;G!==null;){ee=G;var ye=ee.stateNode;if(ee.tag===5&&ye!==null&&(ee=ye,J!==null&&(ye=ku(G,J),ye!=null&&Ie.push(zu(G,ye,ee)))),Wt)break;G=G.return}0<Ie.length&&(de=new ke(de,Pe,null,m,fe),me.push({event:de,listeners:Ie}))}}if((c&7)===0){e:{if(de=l==="mouseover"||l==="pointerover",ke=l==="mouseout"||l==="pointerout",de&&m!==yn&&(Pe=m.relatedTarget||m.fromElement)&&(La(Pe)||Pe[Qi]))break e;if((ke||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,ke?(Pe=m.relatedTarget||m.toElement,ke=re,Pe=Pe?La(Pe):null,Pe!==null&&(Wt=Da(Pe),Pe!==Wt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(ke=null,Pe=re),ke!==Pe)){if(Ie=JE,ye="onMouseLeave",J="onMouseEnter",G="mouse",(l==="pointerout"||l==="pointerover")&&(Ie=ek,ye="onPointerLeave",J="onPointerEnter",G="pointer"),Wt=ke==null?de:Wo(ke),ee=Pe==null?de:Wo(Pe),de=new Ie(ye,G+"leave",ke,m,fe),de.target=Wt,de.relatedTarget=ee,ye=null,La(fe)===re&&(Ie=new Ie(J,G+"enter",Pe,m,fe),Ie.target=ee,Ie.relatedTarget=Wt,ye=Ie),Wt=ye,ke&&Pe)t:{for(Ie=ke,J=Pe,G=0,ee=Ie;ee;ee=Ho(ee))G++;for(ee=0,ye=J;ye;ye=Ho(ye))ee++;for(;0<G-ee;)Ie=Ho(Ie),G--;for(;0<ee-G;)J=Ho(J),ee--;for(;G--;){if(Ie===J||J!==null&&Ie===J.alternate)break t;Ie=Ho(Ie),J=Ho(J)}Ie=null}else Ie=null;ke!==null&&Ck(me,de,ke,Ie,!1),Pe!==null&&Wt!==null&&Ck(me,Wt,Pe,Ie,!0)}}e:{if(de=re?Wo(re):window,ke=de.nodeName&&de.nodeName.toLowerCase(),ke==="select"||ke==="input"&&de.type==="file")var je=A8;else if(ak(de))if(lk)je=I8;else{je=N8;var Be=O8}else(ke=de.nodeName)&&ke.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(je=P8);if(je&&(je=je(l,re))){ok(me,je,m,fe);break e}Be&&Be(l,de,re),l==="focusout"&&(Be=de._wrapperState)&&Be.controlled&&de.type==="number"&&Ro(de,"number",de.value)}switch(Be=re?Wo(re):window,l){case"focusin":(ak(Be)||Be.contentEditable==="true")&&($o=Be,Qg=re,$u=null);break;case"focusout":$u=Qg=$o=null;break;case"mousedown":Jg=!0;break;case"contextmenu":case"mouseup":case"dragend":Jg=!1,gk(me,m,fe);break;case"selectionchange":if(D8)break;case"keydown":case"keyup":gk(me,m,fe)}var $e;if(Kg)e:{switch(l){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Bo?ik(l,m)&&(Ve="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Ve="onCompositionStart");Ve&&(tk&&m.locale!=="ko"&&(Bo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Bo&&($e=XE()):(Ws=fe,Ug="value"in Ws?Ws.value:Ws.textContent,Bo=!0)),Be=wh(re,Ve),0<Be.length&&(Ve=new ZE(Ve,l,null,m,fe),me.push({event:Ve,listeners:Be}),$e?Ve.data=$e:($e=sk(m),$e!==null&&(Ve.data=$e)))),($e=E8?k8(l,m):T8(l,m))&&(re=wh(re,"onBeforeInput"),0<re.length&&(fe=new ZE("onBeforeInput","beforeinput",null,m,fe),me.push({event:fe,listeners:re}),fe.data=$e))}Tk(me,c)})}function zu(l,c,m){return{instance:l,listener:c,currentTarget:m}}function wh(l,c){for(var m=c+"Capture",y=[];l!==null;){var k=l,A=k.stateNode;k.tag===5&&A!==null&&(k=A,A=ku(l,m),A!=null&&y.unshift(zu(l,A,k)),A=ku(l,c),A!=null&&y.push(zu(l,A,k))),l=l.return}return y}function Ho(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ck(l,c,m,y,k){for(var A=c._reactName,I=[];m!==null&&m!==y;){var H=m,K=H.alternate,re=H.stateNode;if(K!==null&&K===y)break;H.tag===5&&re!==null&&(H=re,k?(K=ku(m,A),K!=null&&I.unshift(zu(m,K,H))):k||(K=ku(m,A),K!=null&&I.push(zu(m,K,H)))),m=m.return}I.length!==0&&l.push({event:c,listeners:I})}var B8=/\r\n?/g,$8=/\u0000|\uFFFD/g;function Ak(l){return(typeof l=="string"?l:""+l).replace(B8,`
`).replace($8,"")}function Eh(l,c,m){if(c=Ak(c),Ak(l)!==c&&m)throw Error(r(425))}function kh(){}var i0=null,s0=null;function a0(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var o0=typeof setTimeout=="function"?setTimeout:void 0,U8=typeof clearTimeout=="function"?clearTimeout:void 0,Ok=typeof Promise=="function"?Promise:void 0,H8=typeof queueMicrotask=="function"?queueMicrotask:typeof Ok<"u"?function(l){return Ok.resolve(null).then(l).catch(z8)}:o0;function z8(l){setTimeout(function(){throw l})}function l0(l,c){var m=c,y=0;do{var k=m.nextSibling;if(l.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(y===0){l.removeChild(k),ju(c);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=k}while(m);ju(c)}function Vs(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function Nk(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return l;c--}else m==="/$"&&c++}l=l.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Ii="__reactFiber$"+zo,Wu="__reactProps$"+zo,Qi="__reactContainer$"+zo,u0="__reactEvents$"+zo,W8="__reactListeners$"+zo,q8="__reactHandles$"+zo;function La(l){var c=l[Ii];if(c)return c;for(var m=l.parentNode;m;){if(c=m[Qi]||m[Ii]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(l=Nk(l);l!==null;){if(m=l[Ii])return m;l=Nk(l)}return c}l=m,m=l.parentNode}return null}function qu(l){return l=l[Ii]||l[Qi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Wo(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Th(l){return l[Wu]||null}var c0=[],qo=-1;function Ks(l){return{current:l}}function At(l){0>qo||(l.current=c0[qo],c0[qo]=null,qo--)}function xt(l,c){qo++,c0[qo]=l.current,l.current=c}var Ys={},Pr=Ks(Ys),tn=Ks(!1),Ma=Ys;function Vo(l,c){var m=l.type.contextTypes;if(!m)return Ys;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var k={},A;for(A in m)k[A]=c[A];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=k),k}function rn(l){return l=l.childContextTypes,l!=null}function Sh(){At(tn),At(Pr)}function Pk(l,c,m){if(Pr.current!==Ys)throw Error(r(168));xt(Pr,c),xt(tn,m)}function Ik(l,c,m){var y=l.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var k in y)if(!(k in c))throw Error(r(108,Xe(l)||"Unknown",k));return D({},m,y)}function Ch(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ys,Ma=Pr.current,xt(Pr,l),xt(tn,tn.current),!0}function jk(l,c,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=Ik(l,c,Ma),y.__reactInternalMemoizedMergedChildContext=l,At(tn),At(Pr),xt(Pr,l)):At(tn),xt(tn,m)}var Ji=null,Ah=!1,d0=!1;function Rk(l){Ji===null?Ji=[l]:Ji.push(l)}function V8(l){Ah=!0,Rk(l)}function Gs(){if(!d0&&Ji!==null){d0=!0;var l=0,c=dt;try{var m=Ji;for(dt=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}Ji=null,Ah=!1}catch(k){throw Ji!==null&&(Ji=Ji.slice(l+1)),LE(jg,Gs),k}finally{dt=c,d0=!1}}return null}var Ko=[],Yo=0,Oh=null,Nh=0,Fn=[],Bn=0,Fa=null,Zi=1,es="";function Ba(l,c){Ko[Yo++]=Nh,Ko[Yo++]=Oh,Oh=l,Nh=c}function Dk(l,c,m){Fn[Bn++]=Zi,Fn[Bn++]=es,Fn[Bn++]=Fa,Fa=l;var y=Zi;l=es;var k=32-li(y)-1;y&=~(1<<k),m+=1;var A=32-li(c)+k;if(30<A){var I=k-k%5;A=(y&(1<<I)-1).toString(32),y>>=I,k-=I,Zi=1<<32-li(c)+k|m<<k|y,es=A+l}else Zi=1<<A|m<<k|y,es=l}function h0(l){l.return!==null&&(Ba(l,1),Dk(l,1,0))}function f0(l){for(;l===Oh;)Oh=Ko[--Yo],Ko[Yo]=null,Nh=Ko[--Yo],Ko[Yo]=null;for(;l===Fa;)Fa=Fn[--Bn],Fn[Bn]=null,es=Fn[--Bn],Fn[Bn]=null,Zi=Fn[--Bn],Fn[Bn]=null}var _n=null,xn=null,It=!1,ci=null;function Lk(l,c){var m=zn(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=l,c=l.deletions,c===null?(l.deletions=[m],l.flags|=16):c.push(m)}function Mk(l,c){switch(l.tag){case 5:var m=l.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,_n=l,xn=Vs(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,_n=l,xn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=Fa!==null?{id:Zi,overflow:es}:null,l.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=zn(18,null,null,0),m.stateNode=c,m.return=l,l.child=m,_n=l,xn=null,!0):!1;default:return!1}}function p0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function m0(l){if(It){var c=xn;if(c){var m=c;if(!Mk(l,c)){if(p0(l))throw Error(r(418));c=Vs(m.nextSibling);var y=_n;c&&Mk(l,c)?Lk(y,m):(l.flags=l.flags&-4097|2,It=!1,_n=l)}}else{if(p0(l))throw Error(r(418));l.flags=l.flags&-4097|2,It=!1,_n=l}}}function Fk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;_n=l}function Ph(l){if(l!==_n)return!1;if(!It)return Fk(l),It=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!a0(l.type,l.memoizedProps)),c&&(c=xn)){if(p0(l))throw Bk(),Error(r(418));for(;c;)Lk(l,c),c=Vs(c.nextSibling)}if(Fk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(c===0){xn=Vs(l.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}l=l.nextSibling}xn=null}}else xn=_n?Vs(l.stateNode.nextSibling):null;return!0}function Bk(){for(var l=xn;l;)l=Vs(l.nextSibling)}function Go(){xn=_n=null,It=!1}function g0(l){ci===null?ci=[l]:ci.push(l)}var K8=O.ReactCurrentBatchConfig;function Vu(l,c,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var k=y,A=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(I){var H=k.refs;I===null?delete H[A]:H[A]=I},c._stringRef=A,c)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Ih(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function $k(l){var c=l._init;return c(l._payload)}function Uk(l){function c(J,G){if(l){var ee=J.deletions;ee===null?(J.deletions=[G],J.flags|=16):ee.push(G)}}function m(J,G){if(!l)return null;for(;G!==null;)c(J,G),G=G.sibling;return null}function y(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function k(J,G){return J=na(J,G),J.index=0,J.sibling=null,J}function A(J,G,ee){return J.index=ee,l?(ee=J.alternate,ee!==null?(ee=ee.index,ee<G?(J.flags|=2,G):ee):(J.flags|=2,G)):(J.flags|=1048576,G)}function I(J){return l&&J.alternate===null&&(J.flags|=2),J}function H(J,G,ee,ye){return G===null||G.tag!==6?(G=ov(ee,J.mode,ye),G.return=J,G):(G=k(G,ee),G.return=J,G)}function K(J,G,ee,ye){var je=ee.type;return je===j?fe(J,G,ee.props.children,ye,ee.key):G!==null&&(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===le&&$k(je)===G.type)?(ye=k(G,ee.props),ye.ref=Vu(J,G,ee),ye.return=J,ye):(ye=rf(ee.type,ee.key,ee.props,null,J.mode,ye),ye.ref=Vu(J,G,ee),ye.return=J,ye)}function re(J,G,ee,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=lv(ee,J.mode,ye),G.return=J,G):(G=k(G,ee.children||[]),G.return=J,G)}function fe(J,G,ee,ye,je){return G===null||G.tag!==7?(G=Ka(ee,J.mode,ye,je),G.return=J,G):(G=k(G,ee),G.return=J,G)}function me(J,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return G=ov(""+G,J.mode,ee),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case P:return ee=rf(G.type,G.key,G.props,null,J.mode,ee),ee.ref=Vu(J,null,G),ee.return=J,ee;case N:return G=lv(G,J.mode,ee),G.return=J,G;case le:var ye=G._init;return me(J,ye(G._payload),ee)}if(Ms(G)||ue(G))return G=Ka(G,J.mode,ee,null),G.return=J,G;Ih(J,G)}return null}function de(J,G,ee,ye){var je=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return je!==null?null:H(J,G,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===je?K(J,G,ee,ye):null;case N:return ee.key===je?re(J,G,ee,ye):null;case le:return je=ee._init,de(J,G,je(ee._payload),ye)}if(Ms(ee)||ue(ee))return je!==null?null:fe(J,G,ee,ye,null);Ih(J,ee)}return null}function ke(J,G,ee,ye,je){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return J=J.get(ee)||null,H(G,J,""+ye,je);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case P:return J=J.get(ye.key===null?ee:ye.key)||null,K(G,J,ye,je);case N:return J=J.get(ye.key===null?ee:ye.key)||null,re(G,J,ye,je);case le:var Be=ye._init;return ke(J,G,ee,Be(ye._payload),je)}if(Ms(ye)||ue(ye))return J=J.get(ee)||null,fe(G,J,ye,je,null);Ih(G,ye)}return null}function Pe(J,G,ee,ye){for(var je=null,Be=null,$e=G,Ve=G=0,fr=null;$e!==null&&Ve<ee.length;Ve++){$e.index>Ve?(fr=$e,$e=null):fr=$e.sibling;var lt=de(J,$e,ee[Ve],ye);if(lt===null){$e===null&&($e=fr);break}l&&$e&&lt.alternate===null&&c(J,$e),G=A(lt,G,Ve),Be===null?je=lt:Be.sibling=lt,Be=lt,$e=fr}if(Ve===ee.length)return m(J,$e),It&&Ba(J,Ve),je;if($e===null){for(;Ve<ee.length;Ve++)$e=me(J,ee[Ve],ye),$e!==null&&(G=A($e,G,Ve),Be===null?je=$e:Be.sibling=$e,Be=$e);return It&&Ba(J,Ve),je}for($e=y(J,$e);Ve<ee.length;Ve++)fr=ke($e,J,Ve,ee[Ve],ye),fr!==null&&(l&&fr.alternate!==null&&$e.delete(fr.key===null?Ve:fr.key),G=A(fr,G,Ve),Be===null?je=fr:Be.sibling=fr,Be=fr);return l&&$e.forEach(function(ia){return c(J,ia)}),It&&Ba(J,Ve),je}function Ie(J,G,ee,ye){var je=ue(ee);if(typeof je!="function")throw Error(r(150));if(ee=je.call(ee),ee==null)throw Error(r(151));for(var Be=je=null,$e=G,Ve=G=0,fr=null,lt=ee.next();$e!==null&&!lt.done;Ve++,lt=ee.next()){$e.index>Ve?(fr=$e,$e=null):fr=$e.sibling;var ia=de(J,$e,lt.value,ye);if(ia===null){$e===null&&($e=fr);break}l&&$e&&ia.alternate===null&&c(J,$e),G=A(ia,G,Ve),Be===null?je=ia:Be.sibling=ia,Be=ia,$e=fr}if(lt.done)return m(J,$e),It&&Ba(J,Ve),je;if($e===null){for(;!lt.done;Ve++,lt=ee.next())lt=me(J,lt.value,ye),lt!==null&&(G=A(lt,G,Ve),Be===null?je=lt:Be.sibling=lt,Be=lt);return It&&Ba(J,Ve),je}for($e=y(J,$e);!lt.done;Ve++,lt=ee.next())lt=ke($e,J,Ve,lt.value,ye),lt!==null&&(l&&lt.alternate!==null&&$e.delete(lt.key===null?Ve:lt.key),G=A(lt,G,Ve),Be===null?je=lt:Be.sibling=lt,Be=lt);return l&&$e.forEach(function(SF){return c(J,SF)}),It&&Ba(J,Ve),je}function Wt(J,G,ee,ye){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var je=ee.key,Be=G;Be!==null;){if(Be.key===je){if(je=ee.type,je===j){if(Be.tag===7){m(J,Be.sibling),G=k(Be,ee.props.children),G.return=J,J=G;break e}}else if(Be.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===le&&$k(je)===Be.type){m(J,Be.sibling),G=k(Be,ee.props),G.ref=Vu(J,Be,ee),G.return=J,J=G;break e}m(J,Be);break}else c(J,Be);Be=Be.sibling}ee.type===j?(G=Ka(ee.props.children,J.mode,ye,ee.key),G.return=J,J=G):(ye=rf(ee.type,ee.key,ee.props,null,J.mode,ye),ye.ref=Vu(J,G,ee),ye.return=J,J=ye)}return I(J);case N:e:{for(Be=ee.key;G!==null;){if(G.key===Be)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){m(J,G.sibling),G=k(G,ee.children||[]),G.return=J,J=G;break e}else{m(J,G);break}else c(J,G);G=G.sibling}G=lv(ee,J.mode,ye),G.return=J,J=G}return I(J);case le:return Be=ee._init,Wt(J,G,Be(ee._payload),ye)}if(Ms(ee))return Pe(J,G,ee,ye);if(ue(ee))return Ie(J,G,ee,ye);Ih(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,G!==null&&G.tag===6?(m(J,G.sibling),G=k(G,ee),G.return=J,J=G):(m(J,G),G=ov(ee,J.mode,ye),G.return=J,J=G),I(J)):m(J,G)}return Wt}var Xo=Uk(!0),Hk=Uk(!1),jh=Ks(null),Rh=null,Qo=null,v0=null;function y0(){v0=Qo=Rh=null}function b0(l){var c=jh.current;At(jh),l._currentValue=c}function _0(l,c,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),l===m)break;l=l.return}}function Jo(l,c){Rh=l,v0=Qo=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(nn=!0),l.firstContext=null)}function $n(l){var c=l._currentValue;if(v0!==l)if(l={context:l,memoizedValue:c,next:null},Qo===null){if(Rh===null)throw Error(r(308));Qo=l,Rh.dependencies={lanes:0,firstContext:l}}else Qo=Qo.next=l;return c}var $a=null;function x0(l){$a===null?$a=[l]:$a.push(l)}function zk(l,c,m,y){var k=c.interleaved;return k===null?(m.next=m,x0(c)):(m.next=k.next,k.next=m),c.interleaved=m,ts(l,y)}function ts(l,c){l.lanes|=c;var m=l.alternate;for(m!==null&&(m.lanes|=c),m=l,l=l.return;l!==null;)l.childLanes|=c,m=l.alternate,m!==null&&(m.childLanes|=c),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Xs=!1;function w0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wk(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function rs(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Qs(l,c,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(ot&2)!==0){var k=y.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),y.pending=c,ts(l,m)}return k=y.interleaved,k===null?(c.next=c,x0(y)):(c.next=k.next,k.next=c),y.interleaved=c,ts(l,m)}function Dh(l,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var y=c.lanes;y&=l.pendingLanes,m|=y,c.lanes=m,Lg(l,m)}}function qk(l,c){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var k=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?k=A=I:A=A.next=I,m=m.next}while(m!==null);A===null?k=A=c:A=A.next=c}else k=A=c;m={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:A,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=c}function Lh(l,c,m,y){var k=l.updateQueue;Xs=!1;var A=k.firstBaseUpdate,I=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var K=H,re=K.next;K.next=null,I===null?A=re:I.next=re,I=K;var fe=l.alternate;fe!==null&&(fe=fe.updateQueue,H=fe.lastBaseUpdate,H!==I&&(H===null?fe.firstBaseUpdate=re:H.next=re,fe.lastBaseUpdate=K))}if(A!==null){var me=k.baseState;I=0,fe=re=K=null,H=A;do{var de=H.lane,ke=H.eventTime;if((y&de)===de){fe!==null&&(fe=fe.next={eventTime:ke,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Pe=l,Ie=H;switch(de=c,ke=m,Ie.tag){case 1:if(Pe=Ie.payload,typeof Pe=="function"){me=Pe.call(ke,me,de);break e}me=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ie.payload,de=typeof Pe=="function"?Pe.call(ke,me,de):Pe,de==null)break e;me=D({},me,de);break e;case 2:Xs=!0}}H.callback!==null&&H.lane!==0&&(l.flags|=64,de=k.effects,de===null?k.effects=[H]:de.push(H))}else ke={eventTime:ke,lane:de,tag:H.tag,payload:H.payload,callback:H.callback,next:null},fe===null?(re=fe=ke,K=me):fe=fe.next=ke,I|=de;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;de=H,H=de.next,de.next=null,k.lastBaseUpdate=de,k.shared.pending=null}}while(!0);if(fe===null&&(K=me),k.baseState=K,k.firstBaseUpdate=re,k.lastBaseUpdate=fe,c=k.shared.interleaved,c!==null){k=c;do I|=k.lane,k=k.next;while(k!==c)}else A===null&&(k.shared.lanes=0);za|=I,l.lanes=I,l.memoizedState=me}}function Vk(l,c,m){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var y=l[c],k=y.callback;if(k!==null){if(y.callback=null,y=m,typeof k!="function")throw Error(r(191,k));k.call(y)}}}var Ku={},ji=Ks(Ku),Yu=Ks(Ku),Gu=Ks(Ku);function Ua(l){if(l===Ku)throw Error(r(174));return l}function E0(l,c){switch(xt(Gu,c),xt(Yu,l),xt(ji,Ku),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:be(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=be(c,l)}At(ji),xt(ji,c)}function Zo(){At(ji),At(Yu),At(Gu)}function Kk(l){Ua(Gu.current);var c=Ua(ji.current),m=be(c,l.type);c!==m&&(xt(Yu,l),xt(ji,m))}function k0(l){Yu.current===l&&(At(ji),At(Yu))}var Lt=Ks(0);function Mh(l){for(var c=l;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var T0=[];function S0(){for(var l=0;l<T0.length;l++)T0[l]._workInProgressVersionPrimary=null;T0.length=0}var Fh=O.ReactCurrentDispatcher,C0=O.ReactCurrentBatchConfig,Ha=0,Mt=null,Zt=null,dr=null,Bh=!1,Xu=!1,Qu=0,Y8=0;function Ir(){throw Error(r(321))}function A0(l,c){if(c===null)return!1;for(var m=0;m<c.length&&m<l.length;m++)if(!ui(l[m],c[m]))return!1;return!0}function O0(l,c,m,y,k,A){if(Ha=A,Mt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Fh.current=l===null||l.memoizedState===null?J8:Z8,l=m(y,k),Xu){A=0;do{if(Xu=!1,Qu=0,25<=A)throw Error(r(301));A+=1,dr=Zt=null,c.updateQueue=null,Fh.current=eF,l=m(y,k)}while(Xu)}if(Fh.current=Hh,c=Zt!==null&&Zt.next!==null,Ha=0,dr=Zt=Mt=null,Bh=!1,c)throw Error(r(300));return l}function N0(){var l=Qu!==0;return Qu=0,l}function Ri(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Mt.memoizedState=dr=l:dr=dr.next=l,dr}function Un(){if(Zt===null){var l=Mt.alternate;l=l!==null?l.memoizedState:null}else l=Zt.next;var c=dr===null?Mt.memoizedState:dr.next;if(c!==null)dr=c,Zt=l;else{if(l===null)throw Error(r(310));Zt=l,l={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},dr===null?Mt.memoizedState=dr=l:dr=dr.next=l}return dr}function Ju(l,c){return typeof c=="function"?c(l):c}function P0(l){var c=Un(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=Zt,k=y.baseQueue,A=m.pending;if(A!==null){if(k!==null){var I=k.next;k.next=A.next,A.next=I}y.baseQueue=k=A,m.pending=null}if(k!==null){A=k.next,y=y.baseState;var H=I=null,K=null,re=A;do{var fe=re.lane;if((Ha&fe)===fe)K!==null&&(K=K.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),y=re.hasEagerState?re.eagerState:l(y,re.action);else{var me={lane:fe,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};K===null?(H=K=me,I=y):K=K.next=me,Mt.lanes|=fe,za|=fe}re=re.next}while(re!==null&&re!==A);K===null?I=y:K.next=H,ui(y,c.memoizedState)||(nn=!0),c.memoizedState=y,c.baseState=I,c.baseQueue=K,m.lastRenderedState=y}if(l=m.interleaved,l!==null){k=l;do A=k.lane,Mt.lanes|=A,za|=A,k=k.next;while(k!==l)}else k===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function I0(l){var c=Un(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,k=m.pending,A=c.memoizedState;if(k!==null){m.pending=null;var I=k=k.next;do A=l(A,I.action),I=I.next;while(I!==k);ui(A,c.memoizedState)||(nn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),m.lastRenderedState=A}return[A,y]}function Yk(){}function Gk(l,c){var m=Mt,y=Un(),k=c(),A=!ui(y.memoizedState,k);if(A&&(y.memoizedState=k,nn=!0),y=y.queue,j0(Jk.bind(null,m,y,l),[l]),y.getSnapshot!==c||A||dr!==null&&dr.memoizedState.tag&1){if(m.flags|=2048,Zu(9,Qk.bind(null,m,y,k,c),void 0,null),hr===null)throw Error(r(349));(Ha&30)!==0||Xk(m,c,k)}return k}function Xk(l,c,m){l.flags|=16384,l={getSnapshot:c,value:m},c=Mt.updateQueue,c===null?(c={lastEffect:null,stores:null},Mt.updateQueue=c,c.stores=[l]):(m=c.stores,m===null?c.stores=[l]:m.push(l))}function Qk(l,c,m,y){c.value=m,c.getSnapshot=y,Zk(c)&&eT(l)}function Jk(l,c,m){return m(function(){Zk(c)&&eT(l)})}function Zk(l){var c=l.getSnapshot;l=l.value;try{var m=c();return!ui(l,m)}catch{return!0}}function eT(l){var c=ts(l,1);c!==null&&pi(c,l,1,-1)}function tT(l){var c=Ri();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:l},c.queue=l,l=l.dispatch=Q8.bind(null,Mt,l),[c.memoizedState,l]}function Zu(l,c,m,y){return l={tag:l,create:c,destroy:m,deps:y,next:null},c=Mt.updateQueue,c===null?(c={lastEffect:null,stores:null},Mt.updateQueue=c,c.lastEffect=l.next=l):(m=c.lastEffect,m===null?c.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,c.lastEffect=l)),l}function rT(){return Un().memoizedState}function $h(l,c,m,y){var k=Ri();Mt.flags|=l,k.memoizedState=Zu(1|c,m,void 0,y===void 0?null:y)}function Uh(l,c,m,y){var k=Un();y=y===void 0?null:y;var A=void 0;if(Zt!==null){var I=Zt.memoizedState;if(A=I.destroy,y!==null&&A0(y,I.deps)){k.memoizedState=Zu(c,m,A,y);return}}Mt.flags|=l,k.memoizedState=Zu(1|c,m,A,y)}function nT(l,c){return $h(8390656,8,l,c)}function j0(l,c){return Uh(2048,8,l,c)}function iT(l,c){return Uh(4,2,l,c)}function sT(l,c){return Uh(4,4,l,c)}function aT(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function oT(l,c,m){return m=m!=null?m.concat([l]):null,Uh(4,4,aT.bind(null,c,l),m)}function R0(){}function lT(l,c){var m=Un();c=c===void 0?null:c;var y=m.memoizedState;return y!==null&&c!==null&&A0(c,y[1])?y[0]:(m.memoizedState=[l,c],l)}function uT(l,c){var m=Un();c=c===void 0?null:c;var y=m.memoizedState;return y!==null&&c!==null&&A0(c,y[1])?y[0]:(l=l(),m.memoizedState=[l,c],l)}function cT(l,c,m){return(Ha&21)===0?(l.baseState&&(l.baseState=!1,nn=!0),l.memoizedState=m):(ui(m,c)||(m=$E(),Mt.lanes|=m,za|=m,l.baseState=!0),c)}function G8(l,c){var m=dt;dt=m!==0&&4>m?m:4,l(!0);var y=C0.transition;C0.transition={};try{l(!1),c()}finally{dt=m,C0.transition=y}}function dT(){return Un().memoizedState}function X8(l,c,m){var y=ta(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},hT(l))fT(c,m);else if(m=zk(l,c,m,y),m!==null){var k=qr();pi(m,l,y,k),pT(m,c,y)}}function Q8(l,c,m){var y=ta(l),k={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(hT(l))fT(c,k);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var I=c.lastRenderedState,H=A(I,m);if(k.hasEagerState=!0,k.eagerState=H,ui(H,I)){var K=c.interleaved;K===null?(k.next=k,x0(c)):(k.next=K.next,K.next=k),c.interleaved=k;return}}catch{}finally{}m=zk(l,c,k,y),m!==null&&(k=qr(),pi(m,l,y,k),pT(m,c,y))}}function hT(l){var c=l.alternate;return l===Mt||c!==null&&c===Mt}function fT(l,c){Xu=Bh=!0;var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}function pT(l,c,m){if((m&4194240)!==0){var y=c.lanes;y&=l.pendingLanes,m|=y,c.lanes=m,Lg(l,m)}}var Hh={readContext:$n,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},J8={readContext:$n,useCallback:function(l,c){return Ri().memoizedState=[l,c===void 0?null:c],l},useContext:$n,useEffect:nT,useImperativeHandle:function(l,c,m){return m=m!=null?m.concat([l]):null,$h(4194308,4,aT.bind(null,c,l),m)},useLayoutEffect:function(l,c){return $h(4194308,4,l,c)},useInsertionEffect:function(l,c){return $h(4,2,l,c)},useMemo:function(l,c){var m=Ri();return c=c===void 0?null:c,l=l(),m.memoizedState=[l,c],l},useReducer:function(l,c,m){var y=Ri();return c=m!==void 0?m(c):c,y.memoizedState=y.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},y.queue=l,l=l.dispatch=X8.bind(null,Mt,l),[y.memoizedState,l]},useRef:function(l){var c=Ri();return l={current:l},c.memoizedState=l},useState:tT,useDebugValue:R0,useDeferredValue:function(l){return Ri().memoizedState=l},useTransition:function(){var l=tT(!1),c=l[0];return l=G8.bind(null,l[1]),Ri().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,m){var y=Mt,k=Ri();if(It){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),hr===null)throw Error(r(349));(Ha&30)!==0||Xk(y,c,m)}k.memoizedState=m;var A={value:m,getSnapshot:c};return k.queue=A,nT(Jk.bind(null,y,A,l),[l]),y.flags|=2048,Zu(9,Qk.bind(null,y,A,m,c),void 0,null),m},useId:function(){var l=Ri(),c=hr.identifierPrefix;if(It){var m=es,y=Zi;m=(y&~(1<<32-li(y)-1)).toString(32)+m,c=":"+c+"R"+m,m=Qu++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=Y8++,c=":"+c+"r"+m.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},Z8={readContext:$n,useCallback:lT,useContext:$n,useEffect:j0,useImperativeHandle:oT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:P0,useRef:rT,useState:function(){return P0(Ju)},useDebugValue:R0,useDeferredValue:function(l){var c=Un();return cT(c,Zt.memoizedState,l)},useTransition:function(){var l=P0(Ju)[0],c=Un().memoizedState;return[l,c]},useMutableSource:Yk,useSyncExternalStore:Gk,useId:dT,unstable_isNewReconciler:!1},eF={readContext:$n,useCallback:lT,useContext:$n,useEffect:j0,useImperativeHandle:oT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:I0,useRef:rT,useState:function(){return I0(Ju)},useDebugValue:R0,useDeferredValue:function(l){var c=Un();return Zt===null?c.memoizedState=l:cT(c,Zt.memoizedState,l)},useTransition:function(){var l=I0(Ju)[0],c=Un().memoizedState;return[l,c]},useMutableSource:Yk,useSyncExternalStore:Gk,useId:dT,unstable_isNewReconciler:!1};function di(l,c){if(l&&l.defaultProps){c=D({},c),l=l.defaultProps;for(var m in l)c[m]===void 0&&(c[m]=l[m]);return c}return c}function D0(l,c,m,y){c=l.memoizedState,m=m(y,c),m=m==null?c:D({},c,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var zh={isMounted:function(l){return(l=l._reactInternals)?Da(l)===l:!1},enqueueSetState:function(l,c,m){l=l._reactInternals;var y=qr(),k=ta(l),A=rs(y,k);A.payload=c,m!=null&&(A.callback=m),c=Qs(l,A,k),c!==null&&(pi(c,l,k,y),Dh(c,l,k))},enqueueReplaceState:function(l,c,m){l=l._reactInternals;var y=qr(),k=ta(l),A=rs(y,k);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=Qs(l,A,k),c!==null&&(pi(c,l,k,y),Dh(c,l,k))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var m=qr(),y=ta(l),k=rs(m,y);k.tag=2,c!=null&&(k.callback=c),c=Qs(l,k,y),c!==null&&(pi(c,l,y,m),Dh(c,l,y))}};function mT(l,c,m,y,k,A,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,A,I):c.prototype&&c.prototype.isPureReactComponent?!Bu(m,y)||!Bu(k,A):!0}function gT(l,c,m){var y=!1,k=Ys,A=c.contextType;return typeof A=="object"&&A!==null?A=$n(A):(k=rn(c)?Ma:Pr.current,y=c.contextTypes,A=(y=y!=null)?Vo(l,k):Ys),c=new c(m,A),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=zh,l.stateNode=c,c._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=A),c}function vT(l,c,m,y){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,y),c.state!==l&&zh.enqueueReplaceState(c,c.state,null)}function L0(l,c,m,y){var k=l.stateNode;k.props=m,k.state=l.memoizedState,k.refs={},w0(l);var A=c.contextType;typeof A=="object"&&A!==null?k.context=$n(A):(A=rn(c)?Ma:Pr.current,k.context=Vo(l,A)),k.state=l.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(D0(l,c,A,m),k.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&zh.enqueueReplaceState(k,k.state,null),Lh(l,m,k,y),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function el(l,c){try{var m="",y=c;do m+=Te(y),y=y.return;while(y);var k=m}catch(A){k=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:c,stack:k,digest:null}}function M0(l,c,m){return{value:l,source:null,stack:m??null,digest:c??null}}function F0(l,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var tF=typeof WeakMap=="function"?WeakMap:Map;function yT(l,c,m){m=rs(-1,m),m.tag=3,m.payload={element:null};var y=c.value;return m.callback=function(){Xh||(Xh=!0,Z0=y),F0(l,c)},m}function bT(l,c,m){m=rs(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var k=c.value;m.payload=function(){return y(k)},m.callback=function(){F0(l,c)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){F0(l,c),typeof y!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),m}function _T(l,c,m){var y=l.pingCache;if(y===null){y=l.pingCache=new tF;var k=new Set;y.set(c,k)}else k=y.get(c),k===void 0&&(k=new Set,y.set(c,k));k.has(m)||(k.add(m),l=mF.bind(null,l,c,m),c.then(l,l))}function xT(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function wT(l,c,m,y,k){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=rs(-1,1),c.tag=2,Qs(m,c,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var rF=O.ReactCurrentOwner,nn=!1;function Wr(l,c,m,y){c.child=l===null?Hk(c,null,m,y):Xo(c,l.child,m,y)}function ET(l,c,m,y,k){m=m.render;var A=c.ref;return Jo(c,k),y=O0(l,c,m,y,A,k),m=N0(),l!==null&&!nn?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~k,ns(l,c,k)):(It&&m&&h0(c),c.flags|=1,Wr(l,c,y,k),c.child)}function kT(l,c,m,y,k){if(l===null){var A=m.type;return typeof A=="function"&&!av(A)&&A.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=A,TT(l,c,A,y,k)):(l=rf(m.type,null,y,c,c.mode,k),l.ref=c.ref,l.return=c,c.child=l)}if(A=l.child,(l.lanes&k)===0){var I=A.memoizedProps;if(m=m.compare,m=m!==null?m:Bu,m(I,y)&&l.ref===c.ref)return ns(l,c,k)}return c.flags|=1,l=na(A,y),l.ref=c.ref,l.return=c,c.child=l}function TT(l,c,m,y,k){if(l!==null){var A=l.memoizedProps;if(Bu(A,y)&&l.ref===c.ref)if(nn=!1,c.pendingProps=y=A,(l.lanes&k)!==0)(l.flags&131072)!==0&&(nn=!0);else return c.lanes=l.lanes,ns(l,c,k)}return B0(l,c,m,y,k)}function ST(l,c,m){var y=c.pendingProps,k=y.children,A=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(rl,wn),wn|=m;else{if((m&1073741824)===0)return l=A!==null?A.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,xt(rl,wn),wn|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=A!==null?A.baseLanes:m,xt(rl,wn),wn|=y}else A!==null?(y=A.baseLanes|m,c.memoizedState=null):y=m,xt(rl,wn),wn|=y;return Wr(l,c,k,m),c.child}function CT(l,c){var m=c.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function B0(l,c,m,y,k){var A=rn(m)?Ma:Pr.current;return A=Vo(c,A),Jo(c,k),m=O0(l,c,m,y,A,k),y=N0(),l!==null&&!nn?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~k,ns(l,c,k)):(It&&y&&h0(c),c.flags|=1,Wr(l,c,m,k),c.child)}function AT(l,c,m,y,k){if(rn(m)){var A=!0;Ch(c)}else A=!1;if(Jo(c,k),c.stateNode===null)qh(l,c),gT(c,m,y),L0(c,m,y,k),y=!0;else if(l===null){var I=c.stateNode,H=c.memoizedProps;I.props=H;var K=I.context,re=m.contextType;typeof re=="object"&&re!==null?re=$n(re):(re=rn(m)?Ma:Pr.current,re=Vo(c,re));var fe=m.getDerivedStateFromProps,me=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function";me||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==y||K!==re)&&vT(c,I,y,re),Xs=!1;var de=c.memoizedState;I.state=de,Lh(c,y,I,k),K=c.memoizedState,H!==y||de!==K||tn.current||Xs?(typeof fe=="function"&&(D0(c,m,fe,y),K=c.memoizedState),(H=Xs||mT(c,m,H,y,de,K,re))?(me||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=K),I.props=y,I.state=K,I.context=re,y=H):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{I=c.stateNode,Wk(l,c),H=c.memoizedProps,re=c.type===c.elementType?H:di(c.type,H),I.props=re,me=c.pendingProps,de=I.context,K=m.contextType,typeof K=="object"&&K!==null?K=$n(K):(K=rn(m)?Ma:Pr.current,K=Vo(c,K));var ke=m.getDerivedStateFromProps;(fe=typeof ke=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==me||de!==K)&&vT(c,I,y,K),Xs=!1,de=c.memoizedState,I.state=de,Lh(c,y,I,k);var Pe=c.memoizedState;H!==me||de!==Pe||tn.current||Xs?(typeof ke=="function"&&(D0(c,m,ke,y),Pe=c.memoizedState),(re=Xs||mT(c,m,re,y,de,Pe,K)||!1)?(fe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,Pe,K),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,Pe,K)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===l.memoizedProps&&de===l.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&de===l.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Pe),I.props=y,I.state=Pe,I.context=K,y=re):(typeof I.componentDidUpdate!="function"||H===l.memoizedProps&&de===l.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&de===l.memoizedState||(c.flags|=1024),y=!1)}return $0(l,c,m,y,A,k)}function $0(l,c,m,y,k,A){CT(l,c);var I=(c.flags&128)!==0;if(!y&&!I)return k&&jk(c,m,!1),ns(l,c,A);y=c.stateNode,rF.current=c;var H=I&&typeof m.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,l!==null&&I?(c.child=Xo(c,l.child,null,A),c.child=Xo(c,null,H,A)):Wr(l,c,H,A),c.memoizedState=y.state,k&&jk(c,m,!0),c.child}function OT(l){var c=l.stateNode;c.pendingContext?Pk(l,c.pendingContext,c.pendingContext!==c.context):c.context&&Pk(l,c.context,!1),E0(l,c.containerInfo)}function NT(l,c,m,y,k){return Go(),g0(k),c.flags|=256,Wr(l,c,m,y),c.child}var U0={dehydrated:null,treeContext:null,retryLane:0};function H0(l){return{baseLanes:l,cachePool:null,transitions:null}}function PT(l,c,m){var y=c.pendingProps,k=Lt.current,A=!1,I=(c.flags&128)!==0,H;if((H=I)||(H=l!==null&&l.memoizedState===null?!1:(k&2)!==0),H?(A=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),xt(Lt,k&1),l===null)return m0(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=y.children,l=y.fallback,A?(y=c.mode,A=c.child,I={mode:"hidden",children:I},(y&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=nf(I,y,0,null),l=Ka(l,y,m,null),A.return=c,l.return=c,A.sibling=l,c.child=A,c.child.memoizedState=H0(m),c.memoizedState=U0,l):z0(c,I));if(k=l.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return nF(l,c,I,y,H,k,m);if(A){A=y.fallback,I=c.mode,k=l.child,H=k.sibling;var K={mode:"hidden",children:y.children};return(I&1)===0&&c.child!==k?(y=c.child,y.childLanes=0,y.pendingProps=K,c.deletions=null):(y=na(k,K),y.subtreeFlags=k.subtreeFlags&14680064),H!==null?A=na(H,A):(A=Ka(A,I,m,null),A.flags|=2),A.return=c,y.return=c,y.sibling=A,c.child=y,y=A,A=c.child,I=l.child.memoizedState,I=I===null?H0(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=l.childLanes&~m,c.memoizedState=U0,y}return A=l.child,l=A.sibling,y=na(A,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=m),y.return=c,y.sibling=null,l!==null&&(m=c.deletions,m===null?(c.deletions=[l],c.flags|=16):m.push(l)),c.child=y,c.memoizedState=null,y}function z0(l,c){return c=nf({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function Wh(l,c,m,y){return y!==null&&g0(y),Xo(c,l.child,null,m),l=z0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function nF(l,c,m,y,k,A,I){if(m)return c.flags&256?(c.flags&=-257,y=M0(Error(r(422))),Wh(l,c,I,y)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(A=y.fallback,k=c.mode,y=nf({mode:"visible",children:y.children},k,0,null),A=Ka(A,k,I,null),A.flags|=2,y.return=c,A.return=c,y.sibling=A,c.child=y,(c.mode&1)!==0&&Xo(c,l.child,null,I),c.child.memoizedState=H0(I),c.memoizedState=U0,A);if((c.mode&1)===0)return Wh(l,c,I,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var H=y.dgst;return y=H,A=Error(r(419)),y=M0(A,y,void 0),Wh(l,c,I,y)}if(H=(I&l.childLanes)!==0,nn||H){if(y=hr,y!==null){switch(I&-I){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|I))!==0?0:k,k!==0&&k!==A.retryLane&&(A.retryLane=k,ts(l,k),pi(y,l,k,-1))}return sv(),y=M0(Error(r(421))),Wh(l,c,I,y)}return k.data==="$?"?(c.flags|=128,c.child=l.child,c=gF.bind(null,l),k._reactRetry=c,null):(l=A.treeContext,xn=Vs(k.nextSibling),_n=c,It=!0,ci=null,l!==null&&(Fn[Bn++]=Zi,Fn[Bn++]=es,Fn[Bn++]=Fa,Zi=l.id,es=l.overflow,Fa=c),c=z0(c,y.children),c.flags|=4096,c)}function IT(l,c,m){l.lanes|=c;var y=l.alternate;y!==null&&(y.lanes|=c),_0(l.return,c,m)}function W0(l,c,m,y,k){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:k}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=m,A.tailMode=k)}function jT(l,c,m){var y=c.pendingProps,k=y.revealOrder,A=y.tail;if(Wr(l,c,y.children,m),y=Lt.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&IT(l,m,c);else if(l.tag===19)IT(l,m,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(xt(Lt,y),(c.mode&1)===0)c.memoizedState=null;else switch(k){case"forwards":for(m=c.child,k=null;m!==null;)l=m.alternate,l!==null&&Mh(l)===null&&(k=m),m=m.sibling;m=k,m===null?(k=c.child,c.child=null):(k=m.sibling,m.sibling=null),W0(c,!1,k,m,A);break;case"backwards":for(m=null,k=c.child,c.child=null;k!==null;){if(l=k.alternate,l!==null&&Mh(l)===null){c.child=k;break}l=k.sibling,k.sibling=m,m=k,k=l}W0(c,!0,m,null,A);break;case"together":W0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function qh(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function ns(l,c,m){if(l!==null&&(c.dependencies=l.dependencies),za|=c.lanes,(m&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,m=na(l,l.pendingProps),c.child=m,m.return=c;l.sibling!==null;)l=l.sibling,m=m.sibling=na(l,l.pendingProps),m.return=c;m.sibling=null}return c.child}function iF(l,c,m){switch(c.tag){case 3:OT(c),Go();break;case 5:Kk(c);break;case 1:rn(c.type)&&Ch(c);break;case 4:E0(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,k=c.memoizedProps.value;xt(jh,y._currentValue),y._currentValue=k;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(xt(Lt,Lt.current&1),c.flags|=128,null):(m&c.child.childLanes)!==0?PT(l,c,m):(xt(Lt,Lt.current&1),l=ns(l,c,m),l!==null?l.sibling:null);xt(Lt,Lt.current&1);break;case 19:if(y=(m&c.childLanes)!==0,(l.flags&128)!==0){if(y)return jT(l,c,m);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),xt(Lt,Lt.current),y)break;return null;case 22:case 23:return c.lanes=0,ST(l,c,m)}return ns(l,c,m)}var RT,q0,DT,LT;RT=function(l,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},q0=function(){},DT=function(l,c,m,y){var k=l.memoizedProps;if(k!==y){l=c.stateNode,Ua(ji.current);var A=null;switch(m){case"input":k=nt(l,k),y=nt(l,y),A=[];break;case"select":k=D({},k,{value:void 0}),y=D({},y,{value:void 0}),A=[];break;case"textarea":k=Eu(l,k),y=Eu(l,y),A=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=kh)}wr(m,y);var I;m=null;for(re in k)if(!y.hasOwnProperty(re)&&k.hasOwnProperty(re)&&k[re]!=null)if(re==="style"){var H=k[re];for(I in H)H.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?A||(A=[]):(A=A||[]).push(re,null));for(re in y){var K=y[re];if(H=k!=null?k[re]:void 0,y.hasOwnProperty(re)&&K!==H&&(K!=null||H!=null))if(re==="style")if(H){for(I in H)!H.hasOwnProperty(I)||K&&K.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in K)K.hasOwnProperty(I)&&H[I]!==K[I]&&(m||(m={}),m[I]=K[I])}else m||(A||(A=[]),A.push(re,m)),m=K;else re==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(A=A||[]).push(re,K)):re==="children"?typeof K!="string"&&typeof K!="number"||(A=A||[]).push(re,""+K):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(K!=null&&re==="onScroll"&&Ct("scroll",l),A||H===K||(A=[])):(A=A||[]).push(re,K))}m&&(A=A||[]).push("style",m);var re=A;(c.updateQueue=re)&&(c.flags|=4)}},LT=function(l,c,m,y){m!==y&&(c.flags|=4)};function ec(l,c){if(!It)switch(l.tailMode){case"hidden":c=l.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function jr(l){var c=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(c)for(var k=l.child;k!==null;)m|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)m|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=y,l.childLanes=m,c}function sF(l,c,m){var y=c.pendingProps;switch(f0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(c),null;case 1:return rn(c.type)&&Sh(),jr(c),null;case 3:return y=c.stateNode,Zo(),At(tn),At(Pr),S0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Ph(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ci!==null&&(rv(ci),ci=null))),q0(l,c),jr(c),null;case 5:k0(c);var k=Ua(Gu.current);if(m=c.type,l!==null&&c.stateNode!=null)DT(l,c,m,y,k),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(r(166));return jr(c),null}if(l=Ua(ji.current),Ph(c)){y=c.stateNode,m=c.type;var A=c.memoizedProps;switch(y[Ii]=c,y[Wu]=A,l=(c.mode&1)!==0,m){case"dialog":Ct("cancel",y),Ct("close",y);break;case"iframe":case"object":case"embed":Ct("load",y);break;case"video":case"audio":for(k=0;k<Uu.length;k++)Ct(Uu[k],y);break;case"source":Ct("error",y);break;case"img":case"image":case"link":Ct("error",y),Ct("load",y);break;case"details":Ct("toggle",y);break;case"input":$t(y,A),Ct("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!A.multiple},Ct("invalid",y);break;case"textarea":eh(y,A),Ct("invalid",y)}wr(m,A),k=null;for(var I in A)if(A.hasOwnProperty(I)){var H=A[I];I==="children"?typeof H=="string"?y.textContent!==H&&(A.suppressHydrationWarning!==!0&&Eh(y.textContent,H,l),k=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(A.suppressHydrationWarning!==!0&&Eh(y.textContent,H,l),k=["children",""+H]):i.hasOwnProperty(I)&&H!=null&&I==="onScroll"&&Ct("scroll",y)}switch(m){case"input":Ge(y),ja(y,A,!0);break;case"textarea":Ge(y),rh(y);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(y.onclick=kh)}y=k,c.updateQueue=y,y!==null&&(c.flags|=4)}else{I=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=I.createElement(m,{is:y.is}):(l=I.createElement(m),m==="select"&&(I=l,y.multiple?I.multiple=!0:y.size&&(I.size=y.size))):l=I.createElementNS(l,m),l[Ii]=c,l[Wu]=y,RT(l,c,!1,!1),c.stateNode=l;e:{switch(I=Ni(m,y),m){case"dialog":Ct("cancel",l),Ct("close",l),k=y;break;case"iframe":case"object":case"embed":Ct("load",l),k=y;break;case"video":case"audio":for(k=0;k<Uu.length;k++)Ct(Uu[k],l);k=y;break;case"source":Ct("error",l),k=y;break;case"img":case"image":case"link":Ct("error",l),Ct("load",l),k=y;break;case"details":Ct("toggle",l),k=y;break;case"input":$t(l,y),k=nt(l,y),Ct("invalid",l);break;case"option":k=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},k=D({},y,{value:void 0}),Ct("invalid",l);break;case"textarea":eh(l,y),k=Eu(l,y),Ct("invalid",l);break;default:k=y}wr(m,k),H=k;for(A in H)if(H.hasOwnProperty(A)){var K=H[A];A==="style"?Bs(l,K):A==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Je(l,K)):A==="children"?typeof K=="string"?(m!=="textarea"||K!=="")&&at(l,K):typeof K=="number"&&at(l,""+K):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?K!=null&&A==="onScroll"&&Ct("scroll",l):K!=null&&S(l,A,K,I))}switch(m){case"input":Ge(l),ja(l,y,!1);break;case"textarea":Ge(l),rh(l);break;case"option":y.value!=null&&l.setAttribute("value",""+Ye(y.value));break;case"select":l.multiple=!!y.multiple,A=y.value,A!=null?Fs(l,!!y.multiple,A,!1):y.defaultValue!=null&&Fs(l,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=kh)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return jr(c),null;case 6:if(l&&c.stateNode!=null)LT(l,c,l.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(m=Ua(Gu.current),Ua(ji.current),Ph(c)){if(y=c.stateNode,m=c.memoizedProps,y[Ii]=c,(A=y.nodeValue!==m)&&(l=_n,l!==null))switch(l.tag){case 3:Eh(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Eh(y.nodeValue,m,(l.mode&1)!==0)}A&&(c.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Ii]=c,c.stateNode=y}return jr(c),null;case 13:if(At(Lt),y=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(It&&xn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Bk(),Go(),c.flags|=98560,A=!1;else if(A=Ph(c),y!==null&&y.dehydrated!==null){if(l===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Ii]=c}else Go(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jr(c),A=!1}else ci!==null&&(rv(ci),ci=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=m,c):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Lt.current&1)!==0?er===0&&(er=3):sv())),c.updateQueue!==null&&(c.flags|=4),jr(c),null);case 4:return Zo(),q0(l,c),l===null&&Hu(c.stateNode.containerInfo),jr(c),null;case 10:return b0(c.type._context),jr(c),null;case 17:return rn(c.type)&&Sh(),jr(c),null;case 19:if(At(Lt),A=c.memoizedState,A===null)return jr(c),null;if(y=(c.flags&128)!==0,I=A.rendering,I===null)if(y)ec(A,!1);else{if(er!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(I=Mh(l),I!==null){for(c.flags|=128,ec(A,!1),y=I.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=m,m=c.child;m!==null;)A=m,l=y,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=l,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,l=I.dependencies,A.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return xt(Lt,Lt.current&1|2),c.child}l=l.sibling}A.tail!==null&&zt()>nl&&(c.flags|=128,y=!0,ec(A,!1),c.lanes=4194304)}else{if(!y)if(l=Mh(I),l!==null){if(c.flags|=128,y=!0,m=l.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),ec(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!It)return jr(c),null}else 2*zt()-A.renderingStartTime>nl&&m!==1073741824&&(c.flags|=128,y=!0,ec(A,!1),c.lanes=4194304);A.isBackwards?(I.sibling=c.child,c.child=I):(m=A.last,m!==null?m.sibling=I:c.child=I,A.last=I)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=zt(),c.sibling=null,m=Lt.current,xt(Lt,y?m&1|2:m&1),c):(jr(c),null);case 22:case 23:return iv(),y=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(wn&1073741824)!==0&&(jr(c),c.subtreeFlags&6&&(c.flags|=8192)):jr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function aF(l,c){switch(f0(c),c.tag){case 1:return rn(c.type)&&Sh(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Zo(),At(tn),At(Pr),S0(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return k0(c),null;case 13:if(At(Lt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Go()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return At(Lt),null;case 4:return Zo(),null;case 10:return b0(c.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var Vh=!1,Rr=!1,oF=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function tl(l,c){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Ht(l,c,y)}else m.current=null}function V0(l,c,m){try{m()}catch(y){Ht(l,c,y)}}var MT=!1;function lF(l,c){if(i0=hh,l=mk(),Xg(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var k=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{m.nodeType,A.nodeType}catch{m=null;break e}var I=0,H=-1,K=-1,re=0,fe=0,me=l,de=null;t:for(;;){for(var ke;me!==m||k!==0&&me.nodeType!==3||(H=I+k),me!==A||y!==0&&me.nodeType!==3||(K=I+y),me.nodeType===3&&(I+=me.nodeValue.length),(ke=me.firstChild)!==null;)de=me,me=ke;for(;;){if(me===l)break t;if(de===m&&++re===k&&(H=I),de===A&&++fe===y&&(K=I),(ke=me.nextSibling)!==null)break;me=de,de=me.parentNode}me=ke}m=H===-1||K===-1?null:{start:H,end:K}}else m=null}m=m||{start:0,end:0}}else m=null;for(s0={focusedElem:l,selectionRange:m},hh=!1,Ce=c;Ce!==null;)if(c=Ce,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Ce=l;else for(;Ce!==null;){c=Ce;try{var Pe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ie=Pe.memoizedProps,Wt=Pe.memoizedState,J=c.stateNode,G=J.getSnapshotBeforeUpdate(c.elementType===c.type?Ie:di(c.type,Ie),Wt);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ee=c.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Ht(c,c.return,ye)}if(l=c.sibling,l!==null){l.return=c.return,Ce=l;break}Ce=c.return}return Pe=MT,MT=!1,Pe}function tc(l,c,m){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&l)===l){var A=k.destroy;k.destroy=void 0,A!==void 0&&V0(c,m,A)}k=k.next}while(k!==y)}}function Kh(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==c)}}function K0(l){var c=l.ref;if(c!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof c=="function"?c(l):c.current=l}}function FT(l){var c=l.alternate;c!==null&&(l.alternate=null,FT(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[Ii],delete c[Wu],delete c[u0],delete c[W8],delete c[q8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function BT(l){return l.tag===5||l.tag===3||l.tag===4}function $T(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||BT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Y0(l,c,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(l,c):m.insertBefore(l,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(l,m)):(c=m,c.appendChild(l)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=kh));else if(y!==4&&(l=l.child,l!==null))for(Y0(l,c,m),l=l.sibling;l!==null;)Y0(l,c,m),l=l.sibling}function G0(l,c,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,c?m.insertBefore(l,c):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(G0(l,c,m),l=l.sibling;l!==null;)G0(l,c,m),l=l.sibling}var Er=null,hi=!1;function Js(l,c,m){for(m=m.child;m!==null;)UT(l,c,m),m=m.sibling}function UT(l,c,m){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(ah,m)}catch{}switch(m.tag){case 5:Rr||tl(m,c);case 6:var y=Er,k=hi;Er=null,Js(l,c,m),Er=y,hi=k,Er!==null&&(hi?(l=Er,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Er.removeChild(m.stateNode));break;case 18:Er!==null&&(hi?(l=Er,m=m.stateNode,l.nodeType===8?l0(l.parentNode,m):l.nodeType===1&&l0(l,m),ju(l)):l0(Er,m.stateNode));break;case 4:y=Er,k=hi,Er=m.stateNode.containerInfo,hi=!0,Js(l,c,m),Er=y,hi=k;break;case 0:case 11:case 14:case 15:if(!Rr&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var A=k,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&V0(m,c,I),k=k.next}while(k!==y)}Js(l,c,m);break;case 1:if(!Rr&&(tl(m,c),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(H){Ht(m,c,H)}Js(l,c,m);break;case 21:Js(l,c,m);break;case 22:m.mode&1?(Rr=(y=Rr)||m.memoizedState!==null,Js(l,c,m),Rr=y):Js(l,c,m);break;default:Js(l,c,m)}}function HT(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new oF),c.forEach(function(y){var k=vF.bind(null,l,y);m.has(y)||(m.add(y),y.then(k,k))})}}function fi(l,c){var m=c.deletions;if(m!==null)for(var y=0;y<m.length;y++){var k=m[y];try{var A=l,I=c,H=I;e:for(;H!==null;){switch(H.tag){case 5:Er=H.stateNode,hi=!1;break e;case 3:Er=H.stateNode.containerInfo,hi=!0;break e;case 4:Er=H.stateNode.containerInfo,hi=!0;break e}H=H.return}if(Er===null)throw Error(r(160));UT(A,I,k),Er=null,hi=!1;var K=k.alternate;K!==null&&(K.return=null),k.return=null}catch(re){Ht(k,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)zT(c,l),c=c.sibling}function zT(l,c){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(fi(c,l),Di(l),y&4){try{tc(3,l,l.return),Kh(3,l)}catch(Ie){Ht(l,l.return,Ie)}try{tc(5,l,l.return)}catch(Ie){Ht(l,l.return,Ie)}}break;case 1:fi(c,l),Di(l),y&512&&m!==null&&tl(m,m.return);break;case 5:if(fi(c,l),Di(l),y&512&&m!==null&&tl(m,m.return),l.flags&32){var k=l.stateNode;try{at(k,"")}catch(Ie){Ht(l,l.return,Ie)}}if(y&4&&(k=l.stateNode,k!=null)){var A=l.memoizedProps,I=m!==null?m.memoizedProps:A,H=l.type,K=l.updateQueue;if(l.updateQueue=null,K!==null)try{H==="input"&&A.type==="radio"&&A.name!=null&&Ut(k,A),Ni(H,I);var re=Ni(H,A);for(I=0;I<K.length;I+=2){var fe=K[I],me=K[I+1];fe==="style"?Bs(k,me):fe==="dangerouslySetInnerHTML"?Je(k,me):fe==="children"?at(k,me):S(k,fe,me,re)}switch(H){case"input":cr(k,A);break;case"textarea":th(k,A);break;case"select":var de=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!A.multiple;var ke=A.value;ke!=null?Fs(k,!!A.multiple,ke,!1):de!==!!A.multiple&&(A.defaultValue!=null?Fs(k,!!A.multiple,A.defaultValue,!0):Fs(k,!!A.multiple,A.multiple?[]:"",!1))}k[Wu]=A}catch(Ie){Ht(l,l.return,Ie)}}break;case 6:if(fi(c,l),Di(l),y&4){if(l.stateNode===null)throw Error(r(162));k=l.stateNode,A=l.memoizedProps;try{k.nodeValue=A}catch(Ie){Ht(l,l.return,Ie)}}break;case 3:if(fi(c,l),Di(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{ju(c.containerInfo)}catch(Ie){Ht(l,l.return,Ie)}break;case 4:fi(c,l),Di(l);break;case 13:fi(c,l),Di(l),k=l.child,k.flags&8192&&(A=k.memoizedState!==null,k.stateNode.isHidden=A,!A||k.alternate!==null&&k.alternate.memoizedState!==null||(J0=zt())),y&4&&HT(l);break;case 22:if(fe=m!==null&&m.memoizedState!==null,l.mode&1?(Rr=(re=Rr)||fe,fi(c,l),Rr=re):fi(c,l),Di(l),y&8192){if(re=l.memoizedState!==null,(l.stateNode.isHidden=re)&&!fe&&(l.mode&1)!==0)for(Ce=l,fe=l.child;fe!==null;){for(me=Ce=fe;Ce!==null;){switch(de=Ce,ke=de.child,de.tag){case 0:case 11:case 14:case 15:tc(4,de,de.return);break;case 1:tl(de,de.return);var Pe=de.stateNode;if(typeof Pe.componentWillUnmount=="function"){y=de,m=de.return;try{c=y,Pe.props=c.memoizedProps,Pe.state=c.memoizedState,Pe.componentWillUnmount()}catch(Ie){Ht(y,m,Ie)}}break;case 5:tl(de,de.return);break;case 22:if(de.memoizedState!==null){VT(me);continue}}ke!==null?(ke.return=de,Ce=ke):VT(me)}fe=fe.sibling}e:for(fe=null,me=l;;){if(me.tag===5){if(fe===null){fe=me;try{k=me.stateNode,re?(A=k.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(H=me.stateNode,K=me.memoizedProps.style,I=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=Mn("display",I))}catch(Ie){Ht(l,l.return,Ie)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=re?"":me.memoizedProps}catch(Ie){Ht(l,l.return,Ie)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===l)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===l)break e;for(;me.sibling===null;){if(me.return===null||me.return===l)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:fi(c,l),Di(l),y&4&&HT(l);break;case 21:break;default:fi(c,l),Di(l)}}function Di(l){var c=l.flags;if(c&2){try{e:{for(var m=l.return;m!==null;){if(BT(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(at(k,""),y.flags&=-33);var A=$T(l);G0(l,A,k);break;case 3:case 4:var I=y.stateNode.containerInfo,H=$T(l);Y0(l,H,I);break;default:throw Error(r(161))}}catch(K){Ht(l,l.return,K)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function uF(l,c,m){Ce=l,WT(l)}function WT(l,c,m){for(var y=(l.mode&1)!==0;Ce!==null;){var k=Ce,A=k.child;if(k.tag===22&&y){var I=k.memoizedState!==null||Vh;if(!I){var H=k.alternate,K=H!==null&&H.memoizedState!==null||Rr;H=Vh;var re=Rr;if(Vh=I,(Rr=K)&&!re)for(Ce=k;Ce!==null;)I=Ce,K=I.child,I.tag===22&&I.memoizedState!==null?KT(k):K!==null?(K.return=I,Ce=K):KT(k);for(;A!==null;)Ce=A,WT(A),A=A.sibling;Ce=k,Vh=H,Rr=re}qT(l)}else(k.subtreeFlags&8772)!==0&&A!==null?(A.return=k,Ce=A):qT(l)}}function qT(l){for(;Ce!==null;){var c=Ce;if((c.flags&8772)!==0){var m=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Rr||Kh(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Rr)if(m===null)y.componentDidMount();else{var k=c.elementType===c.type?m.memoizedProps:di(c.type,m.memoizedProps);y.componentDidUpdate(k,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Vk(c,A,y);break;case 3:var I=c.updateQueue;if(I!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}Vk(c,I,m)}break;case 5:var H=c.stateNode;if(m===null&&c.flags&4){m=H;var K=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&m.focus();break;case"img":K.src&&(m.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var fe=re.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&ju(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rr||c.flags&512&&K0(c)}catch(de){Ht(c,c.return,de)}}if(c===l){Ce=null;break}if(m=c.sibling,m!==null){m.return=c.return,Ce=m;break}Ce=c.return}}function VT(l){for(;Ce!==null;){var c=Ce;if(c===l){Ce=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Ce=m;break}Ce=c.return}}function KT(l){for(;Ce!==null;){var c=Ce;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{Kh(4,c)}catch(K){Ht(c,m,K)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var k=c.return;try{y.componentDidMount()}catch(K){Ht(c,k,K)}}var A=c.return;try{K0(c)}catch(K){Ht(c,A,K)}break;case 5:var I=c.return;try{K0(c)}catch(K){Ht(c,I,K)}}}catch(K){Ht(c,c.return,K)}if(c===l){Ce=null;break}var H=c.sibling;if(H!==null){H.return=c.return,Ce=H;break}Ce=c.return}}var cF=Math.ceil,Yh=O.ReactCurrentDispatcher,X0=O.ReactCurrentOwner,Hn=O.ReactCurrentBatchConfig,ot=0,hr=null,Yt=null,kr=0,wn=0,rl=Ks(0),er=0,rc=null,za=0,Gh=0,Q0=0,nc=null,sn=null,J0=0,nl=1/0,is=null,Xh=!1,Z0=null,Zs=null,Qh=!1,ea=null,Jh=0,ic=0,ev=null,Zh=-1,ef=0;function qr(){return(ot&6)!==0?zt():Zh!==-1?Zh:Zh=zt()}function ta(l){return(l.mode&1)===0?1:(ot&2)!==0&&kr!==0?kr&-kr:K8.transition!==null?(ef===0&&(ef=$E()),ef):(l=dt,l!==0||(l=window.event,l=l===void 0?16:GE(l.type)),l)}function pi(l,c,m,y){if(50<ic)throw ic=0,ev=null,Error(r(185));Au(l,m,y),((ot&2)===0||l!==hr)&&(l===hr&&((ot&2)===0&&(Gh|=m),er===4&&ra(l,kr)),an(l,y),m===1&&ot===0&&(c.mode&1)===0&&(nl=zt()+500,Ah&&Gs()))}function an(l,c){var m=l.callbackNode;K5(l,c);var y=uh(l,l===hr?kr:0);if(y===0)m!==null&&ME(m),l.callbackNode=null,l.callbackPriority=0;else if(c=y&-y,l.callbackPriority!==c){if(m!=null&&ME(m),c===1)l.tag===0?V8(GT.bind(null,l)):Rk(GT.bind(null,l)),H8(function(){(ot&6)===0&&Gs()}),m=null;else{switch(UE(y)){case 1:m=jg;break;case 4:m=FE;break;case 16:m=sh;break;case 536870912:m=BE;break;default:m=sh}m=nS(m,YT.bind(null,l))}l.callbackPriority=c,l.callbackNode=m}}function YT(l,c){if(Zh=-1,ef=0,(ot&6)!==0)throw Error(r(327));var m=l.callbackNode;if(il()&&l.callbackNode!==m)return null;var y=uh(l,l===hr?kr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||c)c=tf(l,y);else{c=y;var k=ot;ot|=2;var A=QT();(hr!==l||kr!==c)&&(is=null,nl=zt()+500,qa(l,c));do try{fF();break}catch(H){XT(l,H)}while(!0);y0(),Yh.current=A,ot=k,Yt!==null?c=0:(hr=null,kr=0,c=er)}if(c!==0){if(c===2&&(k=Rg(l),k!==0&&(y=k,c=tv(l,k))),c===1)throw m=rc,qa(l,0),ra(l,y),an(l,zt()),m;if(c===6)ra(l,y);else{if(k=l.current.alternate,(y&30)===0&&!dF(k)&&(c=tf(l,y),c===2&&(A=Rg(l),A!==0&&(y=A,c=tv(l,A))),c===1))throw m=rc,qa(l,0),ra(l,y),an(l,zt()),m;switch(l.finishedWork=k,l.finishedLanes=y,c){case 0:case 1:throw Error(r(345));case 2:Va(l,sn,is);break;case 3:if(ra(l,y),(y&130023424)===y&&(c=J0+500-zt(),10<c)){if(uh(l,0)!==0)break;if(k=l.suspendedLanes,(k&y)!==y){qr(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=o0(Va.bind(null,l,sn,is),c);break}Va(l,sn,is);break;case 4:if(ra(l,y),(y&4194240)===y)break;for(c=l.eventTimes,k=-1;0<y;){var I=31-li(y);A=1<<I,I=c[I],I>k&&(k=I),y&=~A}if(y=k,y=zt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*cF(y/1960))-y,10<y){l.timeoutHandle=o0(Va.bind(null,l,sn,is),y);break}Va(l,sn,is);break;case 5:Va(l,sn,is);break;default:throw Error(r(329))}}}return an(l,zt()),l.callbackNode===m?YT.bind(null,l):null}function tv(l,c){var m=nc;return l.current.memoizedState.isDehydrated&&(qa(l,c).flags|=256),l=tf(l,c),l!==2&&(c=sn,sn=m,c!==null&&rv(c)),l}function rv(l){sn===null?sn=l:sn.push.apply(sn,l)}function dF(l){for(var c=l;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var k=m[y],A=k.getSnapshot;k=k.value;try{if(!ui(A(),k))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ra(l,c){for(c&=~Q0,c&=~Gh,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var m=31-li(c),y=1<<m;l[m]=-1,c&=~y}}function GT(l){if((ot&6)!==0)throw Error(r(327));il();var c=uh(l,0);if((c&1)===0)return an(l,zt()),null;var m=tf(l,c);if(l.tag!==0&&m===2){var y=Rg(l);y!==0&&(c=y,m=tv(l,y))}if(m===1)throw m=rc,qa(l,0),ra(l,c),an(l,zt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,Va(l,sn,is),an(l,zt()),null}function nv(l,c){var m=ot;ot|=1;try{return l(c)}finally{ot=m,ot===0&&(nl=zt()+500,Ah&&Gs())}}function Wa(l){ea!==null&&ea.tag===0&&(ot&6)===0&&il();var c=ot;ot|=1;var m=Hn.transition,y=dt;try{if(Hn.transition=null,dt=1,l)return l()}finally{dt=y,Hn.transition=m,ot=c,(ot&6)===0&&Gs()}}function iv(){wn=rl.current,At(rl)}function qa(l,c){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,U8(m)),Yt!==null)for(m=Yt.return;m!==null;){var y=m;switch(f0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Sh();break;case 3:Zo(),At(tn),At(Pr),S0();break;case 5:k0(y);break;case 4:Zo();break;case 13:At(Lt);break;case 19:At(Lt);break;case 10:b0(y.type._context);break;case 22:case 23:iv()}m=m.return}if(hr=l,Yt=l=na(l.current,null),kr=wn=c,er=0,rc=null,Q0=Gh=za=0,sn=nc=null,$a!==null){for(c=0;c<$a.length;c++)if(m=$a[c],y=m.interleaved,y!==null){m.interleaved=null;var k=y.next,A=m.pending;if(A!==null){var I=A.next;A.next=k,y.next=I}m.pending=y}$a=null}return l}function XT(l,c){do{var m=Yt;try{if(y0(),Fh.current=Hh,Bh){for(var y=Mt.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Bh=!1}if(Ha=0,dr=Zt=Mt=null,Xu=!1,Qu=0,X0.current=null,m===null||m.return===null){er=1,rc=c,Yt=null;break}e:{var A=l,I=m.return,H=m,K=c;if(c=kr,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var re=K,fe=H,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ke=xT(I);if(ke!==null){ke.flags&=-257,wT(ke,I,H,A,c),ke.mode&1&&_T(A,re,c),c=ke,K=re;var Pe=c.updateQueue;if(Pe===null){var Ie=new Set;Ie.add(K),c.updateQueue=Ie}else Pe.add(K);break e}else{if((c&1)===0){_T(A,re,c),sv();break e}K=Error(r(426))}}else if(It&&H.mode&1){var Wt=xT(I);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),wT(Wt,I,H,A,c),g0(el(K,H));break e}}A=K=el(K,H),er!==4&&(er=2),nc===null?nc=[A]:nc.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var J=yT(A,K,c);qk(A,J);break e;case 1:H=K;var G=A.type,ee=A.stateNode;if((A.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Zs===null||!Zs.has(ee)))){A.flags|=65536,c&=-c,A.lanes|=c;var ye=bT(A,H,c);qk(A,ye);break e}}A=A.return}while(A!==null)}ZT(m)}catch(je){c=je,Yt===m&&m!==null&&(Yt=m=m.return);continue}break}while(!0)}function QT(){var l=Yh.current;return Yh.current=Hh,l===null?Hh:l}function sv(){(er===0||er===3||er===2)&&(er=4),hr===null||(za&268435455)===0&&(Gh&268435455)===0||ra(hr,kr)}function tf(l,c){var m=ot;ot|=2;var y=QT();(hr!==l||kr!==c)&&(is=null,qa(l,c));do try{hF();break}catch(k){XT(l,k)}while(!0);if(y0(),ot=m,Yh.current=y,Yt!==null)throw Error(r(261));return hr=null,kr=0,er}function hF(){for(;Yt!==null;)JT(Yt)}function fF(){for(;Yt!==null&&!F5();)JT(Yt)}function JT(l){var c=rS(l.alternate,l,wn);l.memoizedProps=l.pendingProps,c===null?ZT(l):Yt=c,X0.current=null}function ZT(l){var c=l;do{var m=c.alternate;if(l=c.return,(c.flags&32768)===0){if(m=sF(m,c,wn),m!==null){Yt=m;return}}else{if(m=aF(m,c),m!==null){m.flags&=32767,Yt=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{er=6,Yt=null;return}}if(c=c.sibling,c!==null){Yt=c;return}Yt=c=l}while(c!==null);er===0&&(er=5)}function Va(l,c,m){var y=dt,k=Hn.transition;try{Hn.transition=null,dt=1,pF(l,c,m,y)}finally{Hn.transition=k,dt=y}return null}function pF(l,c,m,y){do il();while(ea!==null);if((ot&6)!==0)throw Error(r(327));m=l.finishedWork;var k=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var A=m.lanes|m.childLanes;if(Y5(l,A),l===hr&&(Yt=hr=null,kr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Qh||(Qh=!0,nS(sh,function(){return il(),null})),A=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||A){A=Hn.transition,Hn.transition=null;var I=dt;dt=1;var H=ot;ot|=4,X0.current=null,lF(l,m),zT(m,l),R8(s0),hh=!!i0,s0=i0=null,l.current=m,uF(m),B5(),ot=H,dt=I,Hn.transition=A}else l.current=m;if(Qh&&(Qh=!1,ea=l,Jh=k),A=l.pendingLanes,A===0&&(Zs=null),H5(m.stateNode),an(l,zt()),c!==null)for(y=l.onRecoverableError,m=0;m<c.length;m++)k=c[m],y(k.value,{componentStack:k.stack,digest:k.digest});if(Xh)throw Xh=!1,l=Z0,Z0=null,l;return(Jh&1)!==0&&l.tag!==0&&il(),A=l.pendingLanes,(A&1)!==0?l===ev?ic++:(ic=0,ev=l):ic=0,Gs(),null}function il(){if(ea!==null){var l=UE(Jh),c=Hn.transition,m=dt;try{if(Hn.transition=null,dt=16>l?16:l,ea===null)var y=!1;else{if(l=ea,ea=null,Jh=0,(ot&6)!==0)throw Error(r(331));var k=ot;for(ot|=4,Ce=l.current;Ce!==null;){var A=Ce,I=A.child;if((Ce.flags&16)!==0){var H=A.deletions;if(H!==null){for(var K=0;K<H.length;K++){var re=H[K];for(Ce=re;Ce!==null;){var fe=Ce;switch(fe.tag){case 0:case 11:case 15:tc(8,fe,A)}var me=fe.child;if(me!==null)me.return=fe,Ce=me;else for(;Ce!==null;){fe=Ce;var de=fe.sibling,ke=fe.return;if(FT(fe),fe===re){Ce=null;break}if(de!==null){de.return=ke,Ce=de;break}Ce=ke}}}var Pe=A.alternate;if(Pe!==null){var Ie=Pe.child;if(Ie!==null){Pe.child=null;do{var Wt=Ie.sibling;Ie.sibling=null,Ie=Wt}while(Ie!==null)}}Ce=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,Ce=I;else e:for(;Ce!==null;){if(A=Ce,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:tc(9,A,A.return)}var J=A.sibling;if(J!==null){J.return=A.return,Ce=J;break e}Ce=A.return}}var G=l.current;for(Ce=G;Ce!==null;){I=Ce;var ee=I.child;if((I.subtreeFlags&2064)!==0&&ee!==null)ee.return=I,Ce=ee;else e:for(I=G;Ce!==null;){if(H=Ce,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Kh(9,H)}}catch(je){Ht(H,H.return,je)}if(H===I){Ce=null;break e}var ye=H.sibling;if(ye!==null){ye.return=H.return,Ce=ye;break e}Ce=H.return}}if(ot=k,Gs(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(ah,l)}catch{}y=!0}return y}finally{dt=m,Hn.transition=c}}return!1}function eS(l,c,m){c=el(m,c),c=yT(l,c,1),l=Qs(l,c,1),c=qr(),l!==null&&(Au(l,1,c),an(l,c))}function Ht(l,c,m){if(l.tag===3)eS(l,l,m);else for(;c!==null;){if(c.tag===3){eS(c,l,m);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Zs===null||!Zs.has(y))){l=el(m,l),l=bT(c,l,1),c=Qs(c,l,1),l=qr(),c!==null&&(Au(c,1,l),an(c,l));break}}c=c.return}}function mF(l,c,m){var y=l.pingCache;y!==null&&y.delete(c),c=qr(),l.pingedLanes|=l.suspendedLanes&m,hr===l&&(kr&m)===m&&(er===4||er===3&&(kr&130023424)===kr&&500>zt()-J0?qa(l,0):Q0|=m),an(l,c)}function tS(l,c){c===0&&((l.mode&1)===0?c=1:(c=lh,lh<<=1,(lh&130023424)===0&&(lh=4194304)));var m=qr();l=ts(l,c),l!==null&&(Au(l,c,m),an(l,m))}function gF(l){var c=l.memoizedState,m=0;c!==null&&(m=c.retryLane),tS(l,m)}function vF(l,c){var m=0;switch(l.tag){case 13:var y=l.stateNode,k=l.memoizedState;k!==null&&(m=k.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(c),tS(l,m)}var rS;rS=function(l,c,m){if(l!==null)if(l.memoizedProps!==c.pendingProps||tn.current)nn=!0;else{if((l.lanes&m)===0&&(c.flags&128)===0)return nn=!1,iF(l,c,m);nn=(l.flags&131072)!==0}else nn=!1,It&&(c.flags&1048576)!==0&&Dk(c,Nh,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;qh(l,c),l=c.pendingProps;var k=Vo(c,Pr.current);Jo(c,m),k=O0(null,c,y,l,k,m);var A=N0();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,rn(y)?(A=!0,Ch(c)):A=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,w0(c),k.updater=zh,c.stateNode=k,k._reactInternals=c,L0(c,y,l,m),c=$0(null,c,y,!0,A,m)):(c.tag=0,It&&A&&h0(c),Wr(null,c,k,m),c=c.child),c;case 16:y=c.elementType;e:{switch(qh(l,c),l=c.pendingProps,k=y._init,y=k(y._payload),c.type=y,k=c.tag=bF(y),l=di(y,l),k){case 0:c=B0(null,c,y,l,m);break e;case 1:c=AT(null,c,y,l,m);break e;case 11:c=ET(null,c,y,l,m);break e;case 14:c=kT(null,c,y,di(y.type,l),m);break e}throw Error(r(306,y,""))}return c;case 0:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:di(y,k),B0(l,c,y,k,m);case 1:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:di(y,k),AT(l,c,y,k,m);case 3:e:{if(OT(c),l===null)throw Error(r(387));y=c.pendingProps,A=c.memoizedState,k=A.element,Wk(l,c),Lh(c,y,null,m);var I=c.memoizedState;if(y=I.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){k=el(Error(r(423)),c),c=NT(l,c,y,m,k);break e}else if(y!==k){k=el(Error(r(424)),c),c=NT(l,c,y,m,k);break e}else for(xn=Vs(c.stateNode.containerInfo.firstChild),_n=c,It=!0,ci=null,m=Hk(c,null,y,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Go(),y===k){c=ns(l,c,m);break e}Wr(l,c,y,m)}c=c.child}return c;case 5:return Kk(c),l===null&&m0(c),y=c.type,k=c.pendingProps,A=l!==null?l.memoizedProps:null,I=k.children,a0(y,k)?I=null:A!==null&&a0(y,A)&&(c.flags|=32),CT(l,c),Wr(l,c,I,m),c.child;case 6:return l===null&&m0(c),null;case 13:return PT(l,c,m);case 4:return E0(c,c.stateNode.containerInfo),y=c.pendingProps,l===null?c.child=Xo(c,null,y,m):Wr(l,c,y,m),c.child;case 11:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:di(y,k),ET(l,c,y,k,m);case 7:return Wr(l,c,c.pendingProps,m),c.child;case 8:return Wr(l,c,c.pendingProps.children,m),c.child;case 12:return Wr(l,c,c.pendingProps.children,m),c.child;case 10:e:{if(y=c.type._context,k=c.pendingProps,A=c.memoizedProps,I=k.value,xt(jh,y._currentValue),y._currentValue=I,A!==null)if(ui(A.value,I)){if(A.children===k.children&&!tn.current){c=ns(l,c,m);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var H=A.dependencies;if(H!==null){I=A.child;for(var K=H.firstContext;K!==null;){if(K.context===y){if(A.tag===1){K=rs(-1,m&-m),K.tag=2;var re=A.updateQueue;if(re!==null){re=re.shared;var fe=re.pending;fe===null?K.next=K:(K.next=fe.next,fe.next=K),re.pending=K}}A.lanes|=m,K=A.alternate,K!==null&&(K.lanes|=m),_0(A.return,m,c),H.lanes|=m;break}K=K.next}}else if(A.tag===10)I=A.type===c.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,H=I.alternate,H!==null&&(H.lanes|=m),_0(I,m,c),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===c){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}Wr(l,c,k.children,m),c=c.child}return c;case 9:return k=c.type,y=c.pendingProps.children,Jo(c,m),k=$n(k),y=y(k),c.flags|=1,Wr(l,c,y,m),c.child;case 14:return y=c.type,k=di(y,c.pendingProps),k=di(y.type,k),kT(l,c,y,k,m);case 15:return TT(l,c,c.type,c.pendingProps,m);case 17:return y=c.type,k=c.pendingProps,k=c.elementType===y?k:di(y,k),qh(l,c),c.tag=1,rn(y)?(l=!0,Ch(c)):l=!1,Jo(c,m),gT(c,y,k),L0(c,y,k,m),$0(null,c,y,!0,l,m);case 19:return jT(l,c,m);case 22:return ST(l,c,m)}throw Error(r(156,c.tag))};function nS(l,c){return LE(l,c)}function yF(l,c,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(l,c,m,y){return new yF(l,c,m,y)}function av(l){return l=l.prototype,!(!l||!l.isReactComponent)}function bF(l){if(typeof l=="function")return av(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===V)return 14}return 2}function na(l,c){var m=l.alternate;return m===null?(m=zn(l.tag,c,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=c,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,c=l.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function rf(l,c,m,y,k,A){var I=2;if(y=l,typeof l=="function")av(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case j:return Ka(m.children,k,A,c);case R:I=8,k|=8;break;case $:return l=zn(12,m,c,k|2),l.elementType=$,l.lanes=A,l;case Q:return l=zn(13,m,c,k),l.elementType=Q,l.lanes=A,l;case Y:return l=zn(19,m,c,k),l.elementType=Y,l.lanes=A,l;case oe:return nf(m,k,A,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case L:I=10;break e;case U:I=9;break e;case W:I=11;break e;case V:I=14;break e;case le:I=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=zn(I,m,c,k),c.elementType=l,c.type=y,c.lanes=A,c}function Ka(l,c,m,y){return l=zn(7,l,y,c),l.lanes=m,l}function nf(l,c,m,y){return l=zn(22,l,y,c),l.elementType=oe,l.lanes=m,l.stateNode={isHidden:!1},l}function ov(l,c,m){return l=zn(6,l,null,c),l.lanes=m,l}function lv(l,c,m){return c=zn(4,l.children!==null?l.children:[],l.key,c),c.lanes=m,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function _F(l,c,m,y,k){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function uv(l,c,m,y,k,A,I,H,K){return l=new _F(l,c,m,H,K),c===1?(c=1,A===!0&&(c|=8)):c=0,A=zn(3,null,null,c),l.current=A,A.stateNode=l,A.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},w0(A),l}function xF(l,c,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:y==null?null:""+y,children:l,containerInfo:c,implementation:m}}function iS(l){if(!l)return Ys;l=l._reactInternals;e:{if(Da(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(rn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(rn(m))return Ik(l,m,c)}return c}function sS(l,c,m,y,k,A,I,H,K){return l=uv(m,y,!0,l,k,A,I,H,K),l.context=iS(null),m=l.current,y=qr(),k=ta(m),A=rs(y,k),A.callback=c??null,Qs(m,A,k),l.current.lanes=k,Au(l,k,y),an(l,y),l}function sf(l,c,m,y){var k=c.current,A=qr(),I=ta(k);return m=iS(m),c.context===null?c.context=m:c.pendingContext=m,c=rs(A,I),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Qs(k,c,I),l!==null&&(pi(l,k,I,A),Dh(l,k,I)),I}function af(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function aS(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<c?m:c}}function cv(l,c){aS(l,c),(l=l.alternate)&&aS(l,c)}function wF(){return null}var oS=typeof reportError=="function"?reportError:function(l){console.error(l)};function dv(l){this._internalRoot=l}of.prototype.render=dv.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));sf(l,c,null,null)},of.prototype.unmount=dv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;Wa(function(){sf(null,l,null,null)}),c[Qi]=null}};function of(l){this._internalRoot=l}of.prototype.unstable_scheduleHydration=function(l){if(l){var c=WE();l={blockedOn:null,target:l,priority:c};for(var m=0;m<zs.length&&c!==0&&c<zs[m].priority;m++);zs.splice(m,0,l),m===0&&KE(l)}};function hv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function lf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function lS(){}function EF(l,c,m,y,k){if(k){if(typeof y=="function"){var A=y;y=function(){var re=af(I);A.call(re)}}var I=sS(c,y,l,0,null,!1,!1,"",lS);return l._reactRootContainer=I,l[Qi]=I.current,Hu(l.nodeType===8?l.parentNode:l),Wa(),I}for(;k=l.lastChild;)l.removeChild(k);if(typeof y=="function"){var H=y;y=function(){var re=af(K);H.call(re)}}var K=uv(l,0,!1,null,null,!1,!1,"",lS);return l._reactRootContainer=K,l[Qi]=K.current,Hu(l.nodeType===8?l.parentNode:l),Wa(function(){sf(c,K,m,y)}),K}function uf(l,c,m,y,k){var A=m._reactRootContainer;if(A){var I=A;if(typeof k=="function"){var H=k;k=function(){var K=af(I);H.call(K)}}sf(c,I,l,k)}else I=EF(m,c,l,k,y);return af(I)}HE=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var m=Cu(c.pendingLanes);m!==0&&(Lg(c,m|1),an(c,zt()),(ot&6)===0&&(nl=zt()+500,Gs()))}break;case 13:Wa(function(){var y=ts(l,1);if(y!==null){var k=qr();pi(y,l,1,k)}}),cv(l,1)}},Mg=function(l){if(l.tag===13){var c=ts(l,134217728);if(c!==null){var m=qr();pi(c,l,134217728,m)}cv(l,134217728)}},zE=function(l){if(l.tag===13){var c=ta(l),m=ts(l,c);if(m!==null){var y=qr();pi(m,l,c,y)}cv(l,c)}},WE=function(){return dt},qE=function(l,c){var m=dt;try{return dt=l,c()}finally{dt=m}},Og=function(l,c,m){switch(c){case"input":if(cr(l,m),c=m.name,m.type==="radio"&&c!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var y=m[c];if(y!==l&&y.form===l.form){var k=Th(y);if(!k)throw Error(r(90));pe(y),cr(y,k)}}}break;case"textarea":th(l,m);break;case"select":c=m.value,c!=null&&Fs(l,!!m.multiple,c,!1)}},OE=nv,NE=Wa;var kF={usingClientEntryPoint:!1,Events:[qu,Wo,Th,CE,AE,nv]},sc={findFiberByHostInstance:La,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TF={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=RE(l),l===null?null:l.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||wF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{ah=cf.inject(TF),Pi=cf}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kF,on.createPortal=function(l,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hv(c))throw Error(r(200));return xF(l,c,null,m)},on.createRoot=function(l,c){if(!hv(l))throw Error(r(299));var m=!1,y="",k=oS;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=uv(l,1,!1,null,null,m,!1,y,k),l[Qi]=c.current,Hu(l.nodeType===8?l.parentNode:l),new dv(c)},on.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=RE(c),l=l===null?null:l.stateNode,l},on.flushSync=function(l){return Wa(l)},on.hydrate=function(l,c,m){if(!lf(c))throw Error(r(200));return uf(null,l,c,!0,m)},on.hydrateRoot=function(l,c,m){if(!hv(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,k=!1,A="",I=oS;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),c=sS(c,null,l,1,m??null,k,!1,A,I),l[Qi]=c.current,Hu(l),y)for(l=0;l<y.length;l++)m=y[l],k=m._getVersion,k=k(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,k]:c.mutableSourceEagerHydrationData.push(m,k);return new of(c)},on.render=function(l,c,m){if(!lf(c))throw Error(r(200));return uf(null,l,c,!1,m)},on.unmountComponentAtNode=function(l){if(!lf(l))throw Error(r(40));return l._reactRootContainer?(Wa(function(){uf(null,null,l,!1,function(){l._reactRootContainer=null,l[Qi]=null})}),!0):!1},on.unstable_batchedUpdates=nv,on.unstable_renderSubtreeIntoContainer=function(l,c,m,y){if(!lf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return uf(l,c,m,!1,y)},on.version="18.3.1-next-f1338f8080-20240426",on}var gS;function pI(){if(gS)return gv.exports;gS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gv.exports=LF(),gv.exports}var vS;function MF(){if(vS)return df;vS=1;var e=pI();return df.createRoot=e.createRoot,df.hydrateRoot=e.hydrateRoot,df}var FF=MF();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yS="popstate";function BF(e={}){function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return Yb("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:rd(i)}return UF(t,r,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ki(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $F(){return Math.random().toString(36).substring(2,10)}function bS(e,t){return{usr:e.state,key:e.key,idx:t}}function Yb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jl(t):t,state:r,key:t&&t.key||n||$F()}}function rd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function UF(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let _=f(),w=_==null?null:_-h;h=_,u&&u({action:o,location:x.location,delta:w})}function v(_,w){o="PUSH";let C=Yb(x.location,_,w);h=f()+1;let S=bS(C,h),O=x.createHref(C);try{a.pushState(S,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(O)}s&&u&&u({action:o,location:x.location,delta:1})}function g(_,w){o="REPLACE";let C=Yb(x.location,_,w);h=f();let S=bS(C,h),O=x.createHref(C);a.replaceState(S,"",O),s&&u&&u({action:o,location:x.location,delta:0})}function b(_){return HF(_)}let x={get action(){return o},get location(){return e(i,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(yS,p),u=_,()=>{i.removeEventListener(yS,p),u=null}},createHref(_){return t(i,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:g,go(_){return a.go(_)}};return x}function HF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:rd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function mI(e,t,r="/"){return zF(e,t,r,!1)}function zF(e,t,r,n){let i=typeof t=="string"?Jl(t):t,s=_s(i.pathname||"/",r);if(s==null)return null;let a=gI(e);WF(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let h=tB(s);o=ZF(a[u],h,n)}return o}function gI(e,t=[],r=[],n="",i=!1){let s=(a,o,u=i,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;Dt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=gs([n,f.relativePath]),v=r.concat(f);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gI(a.children,t,v,p,u)),!(a.path==null&&!a.index)&&t.push({path:p,score:QF(p,a.index),routesMeta:v})};return e.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,o);else for(let h of vI(a.path))s(a,o,!0,h)}),t}function vI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=vI(n.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function WF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var qF=/^:[\w-]+$/,VF=3,KF=2,YF=1,GF=10,XF=-2,_S=e=>e==="*";function QF(e,t){let r=e.split("/"),n=r.length;return r.some(_S)&&(n+=XF),t&&(n+=KF),r.filter(i=>!_S(i)).reduce((i,s)=>i+(qF.test(s)?VF:s===""?YF:GF),n)}function JF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function ZF(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],h=o===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=hp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),v=u.route;if(!p&&h&&r&&!n[n.length-1].route.index&&(p=hp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:gs([s,p.pathname]),pathnameBase:sB(gs([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=gs([s,p.pathnameBase]))}return a}function hp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=eB(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},v)=>{if(f==="*"){let b=o[v]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[v];return p&&!g?h[f]=void 0:h[f]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function eB(e,t=!1,r=!0){ki(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function tB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ki(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rB(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Jl(e):e;return{pathname:r?r.startsWith("/")?r:nB(r,t):t,search:aB(n),hash:oB(i)}}function nB(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function bv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function G_(e){let t=iB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function X_(e,t,r,n=!1){let i;typeof e=="string"?i=Jl(e):(i={...e},Dt(!i.pathname||!i.pathname.includes("?"),bv("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),bv("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),bv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?t[p]:"/"}let u=rB(i,o),h=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var gs=e=>e.join("/").replace(/\/\/+/g,"/"),sB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yI=["POST","PUT","PATCH","DELETE"];new Set(yI);var uB=["GET",...yI];new Set(uB);var Zl=T.createContext(null);Zl.displayName="DataRouter";var Om=T.createContext(null);Om.displayName="DataRouterState";T.createContext(!1);var bI=T.createContext({isTransitioning:!1});bI.displayName="ViewTransition";var cB=T.createContext(new Map);cB.displayName="Fetchers";var dB=T.createContext(null);dB.displayName="Await";var Si=T.createContext(null);Si.displayName="Navigation";var Sd=T.createContext(null);Sd.displayName="Location";var Ci=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Q_=T.createContext(null);Q_.displayName="RouteError";function hB(e,{relative:t}={}){Dt(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Si),{hash:i,pathname:s,search:a}=Cd(e,{relative:t}),o=s;return r!=="/"&&(o=s==="/"?r:gs([r,s])),n.createHref({pathname:o,search:a,hash:i})}function eu(){return T.useContext(Sd)!=null}function As(){return Dt(eu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Sd).location}var _I="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xI(e){T.useContext(Si).static||T.useLayoutEffect(e)}function pt(){let{isDataRoute:e}=T.useContext(Ci);return e?TB():fB()}function fB(){Dt(eu(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(Zl),{basename:t,navigator:r}=T.useContext(Si),{matches:n}=T.useContext(Ci),{pathname:i}=As(),s=JSON.stringify(G_(n)),a=T.useRef(!1);return xI(()=>{a.current=!0}),T.useCallback((u,h={})=>{if(ki(a.current,_I),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=X_(u,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gs([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,s,i,e])}T.createContext(null);function wI(){let{matches:e}=T.useContext(Ci),t=e[e.length-1];return t?t.params:{}}function Cd(e,{relative:t}={}){let{matches:r}=T.useContext(Ci),{pathname:n}=As(),i=JSON.stringify(G_(r));return T.useMemo(()=>X_(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function pB(e,t){return EI(e,t)}function EI(e,t,r,n,i){var C;Dt(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Si),{matches:a}=T.useContext(Ci),o=a[a.length-1],u=o?o.params:{},h=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let S=p&&p.path||"";kI(h,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=As(),g;if(t){let S=typeof t=="string"?Jl(t):t;Dt(f==="/"||((C=S.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=v;let b=g.pathname||"/",x=b;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=mI(e,{pathname:x});ki(p||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ki(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=bB(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:gs([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:gs([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,i);return t&&w?T.createElement(Sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function mB(){let e=kB(),t=lB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:i},r):null,a)}var gB=T.createElement(mB,null),vB=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(Ci.Provider,{value:this.props.routeContext},T.createElement(Q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yB({routeContext:e,match:t,children:r}){let n=T.useContext(Zl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Ci.Provider,{value:e},r)}function bB(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=r==null?void 0:r.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,u=-1;if(r)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let v,g=!1,b=null,x=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||gB,o&&(u<0&&p===0?(kI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):u===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,p+1)),w=()=>{let C;return v?C=b:g?C=x:f.route.Component?C=T.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,T.createElement(yB,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:r!=null},children:C})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(vB,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):w()},null)}function J_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _B(e){let t=T.useContext(Zl);return Dt(t,J_(e)),t}function xB(e){let t=T.useContext(Om);return Dt(t,J_(e)),t}function wB(e){let t=T.useContext(Ci);return Dt(t,J_(e)),t}function Z_(e){let t=wB(e),r=t.matches[t.matches.length-1];return Dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function EB(){return Z_("useRouteId")}function kB(){var n;let e=T.useContext(Q_),t=xB("useRouteError"),r=Z_("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function TB(){let{router:e}=_B("useNavigate"),t=Z_("useNavigate"),r=T.useRef(!1);return xI(()=>{r.current=!0}),T.useCallback(async(i,s={})=>{ki(r.current,_I),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var xS={};function kI(e,t,r){!t&&!xS[e]&&(xS[e]=!0,ki(!1,r))}T.memo(SB);function SB({routes:e,future:t,state:r,unstable_onError:n}){return EI(e,void 0,r,n,t)}function Li({to:e,replace:t,state:r,relative:n}){Dt(eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Si);ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Ci),{pathname:a}=As(),o=pt(),u=X_(e,G_(s),a,n==="path"),h=JSON.stringify(u);return T.useEffect(()=>{o(JSON.parse(h),{replace:t,state:r,relative:n})},[o,h,n,t,r]),null}function ut(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CB({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Dt(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=T.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=Jl(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,g=T.useMemo(()=>{let b=_s(u,a);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:n}},[a,u,h,f,p,v,n]);return ki(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(Si.Provider,{value:o},T.createElement(Sd.Provider,{children:t,value:g}))}function wS({children:e,location:t}){return pB(Gb(e),t)}function Gb(e,t=[]){let r=[];return T.Children.forEach(e,(n,i)=>{if(!T.isValidElement(n))return;let s=[...t,i];if(n.type===T.Fragment){r.push.apply(r,Gb(n.props.children,s));return}Dt(n.type===ut,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Gb(n.props.children,s)),r.push(a)}),r}var ep="get",tp="application/x-www-form-urlencoded";function Nm(e){return e!=null&&typeof e.tagName=="string"}function AB(e){return Nm(e)&&e.tagName.toLowerCase()==="button"}function OB(e){return Nm(e)&&e.tagName.toLowerCase()==="form"}function NB(e){return Nm(e)&&e.tagName.toLowerCase()==="input"}function PB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IB(e,t){return e.button===0&&(!t||t==="_self")&&!PB(e)}var hf=null;function jB(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var RB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _v(e){return e!=null&&!RB.has(e)?(ki(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tp}"`),null):e}function DB(e,t){let r,n,i,s,a;if(OB(e)){let o=e.getAttribute("action");n=o?_s(o,t):null,r=e.getAttribute("method")||ep,i=_v(e.getAttribute("enctype"))||tp,s=new FormData(e)}else if(AB(e)||NB(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(n=u?_s(u,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||ep,i=_v(e.getAttribute("formenctype"))||_v(o.getAttribute("enctype"))||tp,s=new FormData(o,e),!jB()){let{name:h,type:f,value:p}=e;if(f==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,p)}}else{if(Nm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ep,n=null,i=tp,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ex(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function LB(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&_s(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function MB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BB(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await MB(s,r);return a.links?a.links():[]}return[]}));return zB(n.flat(1).filter(FB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ES(e,t,r,n,i,s){let a=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,o=(u,h)=>{var f;return r[h].pathname!==u.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,h)=>a(u,h)||o(u,h)):s==="data"?t.filter((u,h)=>{var p;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||o(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function $B(e,t,{includeHydrateFallback:r}={}){return UB(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function UB(e){return[...new Set(e)]}function HB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function zB(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(HB(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function TI(){let e=T.useContext(Zl);return ex(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WB(){let e=T.useContext(Om);return ex(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tx=T.createContext(void 0);tx.displayName="FrameworkContext";function SI(){let e=T.useContext(tx);return ex(e,"You must render this element inside a <HydratedRouter> element"),e}function qB(e,t){let r=T.useContext(tx),[n,i]=T.useState(!1),[s,a]=T.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=t,v=T.useRef(null);T.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=w=>{w.forEach(C=>{a(C.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),T.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{i(!0)},b=()=>{i(!1),a(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:oc(o,g),onBlur:oc(u,b),onMouseEnter:oc(h,g),onMouseLeave:oc(f,b),onTouchStart:oc(p,g)}]:[!1,v,{}]}function oc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function VB({page:e,...t}){let{router:r}=TI(),n=T.useMemo(()=>mI(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?T.createElement(YB,{page:e,matches:n,...t}):null}function KB(e){let{manifest:t,routeModules:r}=SI(),[n,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return BB(e,t,r).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,r]),n}function YB({page:e,matches:t,...r}){let n=As(),{manifest:i,routeModules:s}=SI(),{basename:a}=TI(),{loaderData:o,matches:u}=WB(),h=T.useMemo(()=>ES(e,t,u,i,n,"data"),[e,t,u,i,n]),f=T.useMemo(()=>ES(e,t,u,i,n,"assets"),[e,t,u,i,n]),p=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(t.forEach(w=>{var S;let C=i.routes[w.route.id];!C||!C.hasLoader||(!h.some(O=>O.route.id===w.route.id)&&w.route.id in o&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||C.hasClientLoader?x=!0:b.add(w.route.id))}),b.size===0)return[];let _=LB(e,a,"data");return x&&b.size>0&&_.searchParams.set("_routes",t.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[a,o,n,i,h,t,e,s]),v=T.useMemo(()=>$B(f,i),[f,i]),g=KB(f);return T.createElement(T.Fragment,null,p.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),v.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:x})=>T.createElement("link",{key:b,nonce:r.nonce,...x})))}function GB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var CI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CI&&(window.__reactRouterVersion="7.9.5")}catch{}function XB({basename:e,children:t,window:r}){let n=T.useRef();n.current==null&&(n.current=BF({window:r,v5Compat:!0}));let i=n.current,[s,a]=T.useState({action:i.action,location:i.location}),o=T.useCallback(u=>{T.startTransition(()=>a(u))},[a]);return T.useLayoutEffect(()=>i.listen(o),[i,o]),T.createElement(CB,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=T.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:u,to:h,preventScrollReset:f,viewTransition:p,...v},g){let{basename:b}=T.useContext(Si),x=typeof h=="string"&&AI.test(h),_,w=!1;if(typeof h=="string"&&x&&(_=h,CI))try{let $=new URL(window.location.href),L=h.startsWith("//")?new URL($.protocol+h):new URL(h),U=_s(L.pathname,b);L.origin===$.origin&&U!=null?h=U+L.search+L.hash:w=!0}catch{ki(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=hB(h,{relative:i}),[S,O,P]=qB(n,v),N=e9(h,{replace:a,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:p});function j($){t&&t($),$.defaultPrevented||N($)}let R=T.createElement("a",{...v,...P,href:_||C,onClick:w||s?t:j,ref:GB(g,O),target:u,"data-discover":!x&&r==="render"?"true":void 0});return S&&!x?T.createElement(T.Fragment,null,R,T.createElement(VB,{page:C})):R});Sr.displayName="Link";var QB=T.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:u,...h},f){let p=Cd(a,{relative:h.relative}),v=As(),g=T.useContext(Om),{navigator:b,basename:x}=T.useContext(Si),_=g!=null&&s9(p)&&o===!0,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,C=v.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(C=C.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=_s(S,x)||S);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=C===w||!i&&C.startsWith(w)&&C.charAt(O)==="/",N=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),j={isActive:P,isPending:N,isTransitioning:_},R=P?t:void 0,$;typeof n=="function"?$=n(j):$=[n,P?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(j):s;return T.createElement(Sr,{...h,"aria-current":R,className:$,ref:f,style:L,to:a,viewTransition:o},typeof u=="function"?u(j):u)});QB.displayName="NavLink";var JB=T.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:a=ep,action:o,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...v},g)=>{let b=n9(),x=i9(o,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&AI.test(o),C=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,P=(O==null?void 0:O.getAttribute("formmethod"))||a;b(O||S.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:i,state:s,relative:h,preventScrollReset:f,viewTransition:p})};return T.createElement("form",{ref:g,method:_,action:x,onSubmit:n?u:C,...v,"data-discover":!w&&e==="render"?"true":void 0})});JB.displayName="Form";function ZB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OI(e){let t=T.useContext(Zl);return Dt(t,ZB(e)),t}function e9(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=pt(),u=As(),h=Cd(e,{relative:s});return T.useCallback(f=>{if(IB(f,t)){f.preventDefault();let p=r!==void 0?r:rd(u)===rd(h);o(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[u,o,h,r,n,t,e,i,s,a])}var t9=0,r9=()=>`__${String(++t9)}__`;function n9(){let{router:e}=OI("useSubmit"),{basename:t}=T.useContext(Si),r=EB();return T.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:u,body:h}=DB(n,t);if(i.navigate===!1){let f=i.fetcherKey||r9();await e.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function i9(e,{relative:t}={}){let{basename:r}=T.useContext(Si),n=T.useContext(Ci);Dt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Cd(e||".",{relative:t})},a=As();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:gs([r,s.pathname])),rd(s)}function s9(e,{relative:t}={}){let r=T.useContext(bI);Dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=OI("useViewTransitionState"),i=Cd(e,{relative:t});if(!r.isTransitioning)return!1;let s=_s(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=_s(r.nextLocation.pathname,n)||r.nextLocation.pathname;return hp(i.pathname,a)!=null||hp(i.pathname,s)!=null}var NI=pI(),ie=typeof window<"u"?window:void 0,Or=typeof globalThis<"u"?globalThis:ie;typeof self>"u"&&(Or.self=Or),typeof File>"u"&&(Or.File=function(){});var PI=Array.prototype,kS=PI.forEach,TS=PI.indexOf,Pn=Or==null?void 0:Or.navigator,we=Or==null?void 0:Or.document,hn=Or==null?void 0:Or.location,Xb=Or==null?void 0:Or.fetch,Qb=Or!=null&&Or.XMLHttpRequest&&"withCredentials"in new Or.XMLHttpRequest?Or.XMLHttpRequest:void 0,SS=Or==null?void 0:Or.AbortController,cn=Pn==null?void 0:Pn.userAgent,Ke=ie??{},as={DEBUG:!1,LIB_VERSION:"1.302.2"};function CS(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(h){return void r(h)}o.done?t(u):Promise.resolve(u).then(n,i)}function AS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(u){CS(s,n,i,a,o,"next",u)}function o(u){CS(s,n,i,a,o,"throw",u)}a(void 0)}))}}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ae.apply(null,arguments)}function II(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a9=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],OS=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return a9.concat(t).some((n=>{var i=n.toLowerCase();return r.indexOf(i)!==-1}))},o9=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function tt(e,t){return e.indexOf(t)!==-1}var Pm=function(e){return e.trim()},Jb=function(e){return e.replace(/^\$/,"")},l9=Array.isArray,jI=Object.prototype,RI=jI.hasOwnProperty,Im=jI.toString,yt=l9||function(e){return Im.call(e)==="[object Array]"},ba=e=>typeof e=="function",gr=e=>e===Object(e)&&!yt(e),El=e=>{if(gr(e)){for(var t in e)if(RI.call(e,t))return!1;return!0}return!1},xe=e=>e===void 0,nr=e=>Im.call(e)=="[object String]",Zb=e=>nr(e)&&e.trim().length===0,Os=e=>e===null,vt=e=>xe(e)||Os(e),qi=e=>Im.call(e)=="[object Number]",_a=e=>Im.call(e)==="[object Boolean]",u9=e=>e instanceof FormData,c9=e=>tt(o9,e);function e1(e){return e===null||typeof e!="object"}function fp(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function DI(e){return!xe(Event)&&(function(t,r){try{return t instanceof r}catch{return!1}})(e,Event)}var d9=[!0,"true",1,"1","yes"],xv=e=>tt(d9,e),h9=[!1,"false",0,"0","no"];function Bi(e,t,r,n,i){return t>r&&(n.warn("min cannot be greater than max."),t=r),qi(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+i),Bi(i||r,t,r,n))}class f9{constructor(t){this.t={},this.i=t.i,this.o=Bi(t.bucketSize,0,100,t.h),this.m=Bi(t.refillRate,0,this.o,t.h),this.S=Bi(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,i=Math.floor(n/this.S);if(i>0){var s=i*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+i*this.S}}consumeRateLimit(t){var r,n=Date.now(),i=String(t),s=this.t[i];return s?this.$(s,n):(s={tokens:this.o,lastAccess:n},this.t[i]=s),s.tokens===0||(s.tokens--,s.tokens===0&&((r=this.i)==null||r.call(this,t)),s.tokens===0)}stop(){this.t={}}}var ff,NS,wv,p9=e=>e instanceof Error;function m9(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return wv&&r.length===NS||(NS=r.length,wv=r.reduce(((n,i)=>{ff||(ff={});var s=ff[i];if(s)n[s[0]]=s[1];else for(var a=e(i),o=a.length-1;o>=0;o--){var u=a[o],h=u==null?void 0:u.filename,f=t[i];if(h&&f){n[h]=f,ff[i]=[h,f];break}}return n}),{})),wv}}class g9{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(n,r,0).apply(t),s=this.buildParsingContext(),a=this.parseStacktrace(i,s);return{$exception_list:this.convertToExceptionList(a,n),$exception_level:"error"}}modifyFrames(t){var r=this;return AS((function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&yt(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t}))()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,i;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(i=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),Ae({},t,{cause:n,stack:i})}applyChunkIds(t,r){return t.map((n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n)))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return AS((function*(){var n=t;for(var i of r.modifiers)n=yield i(n);return n}))()}convertToExceptionList(t,r){var n,i,s,a={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(i=r.handled)===null||i===void 0||i,synthetic:(s=t.synthetic)!==null&&s!==void 0&&s}};t.stack&&(a.stacktrace={type:"raw",frames:t.stack});var o=[a];return t.cause!=null&&o.push(...this.convertToExceptionList(t.cause,Ae({},r,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:m9(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var i=(s,a)=>{if(a<=4){var o=this.buildCoercingContext(t,r,a);return this.applyCoercers(s,o)}};return Ae({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:s=>i(s,n),next:s=>i(s,n+1)})}}var Rl="?";function t1(e,t,r,n,i){var s={platform:e,filename:t,function:r==="<anonymous>"?Rl:r,in_app:!0};return xe(n)||(s.lineno=n),xe(i)||(s.colno=i),s}var LI=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Rl,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},v9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,y9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,b9=/\((\S*)(?::(\d+))(?::(\d+))\)/,_9=(e,t)=>{var r=v9.exec(e);if(r){var[,n,i,s]=r;return t1(t,n,Rl,+i,+s)}var a=y9.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){var o=b9.exec(a[2]);o&&(a[2]=o[1],a[3]=o[2],a[4]=o[3])}var[u,h]=LI(a[1]||Rl,a[2]);return t1(t,h,u,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},x9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,w9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,E9=(e,t)=>{var r=x9.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=w9.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var i=r[3],s=r[1]||Rl;return[s,i]=LI(s,i),t1(t,i,s,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},PS=/\(error: (.*)\)/,IS=50;function k9(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(i,s){s===void 0&&(s=0);for(var a=[],o=i.split(`
`),u=s;u<o.length;u++){var h=o[u];if(!(h.length>1024)){var f=PS.test(h)?h.replace(PS,"$1"):h;if(!f.match(/\S*Error: /)){for(var p of r){var v=p(f,e);if(v){a.push(v);break}}if(a.length>=IS)break}}}return(function(g){if(!g.length)return[];var b=Array.from(g);return b.reverse(),b.slice(0,IS).map((x=>{return Ae({},x,{filename:x.filename||(_=b,_[_.length-1]||{}).filename,function:x.function||Rl});var _}))})(a)}}class T9{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=nr(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return fp(t,"DOMException")}isDOMError(t){return fp(t,"DOMError")}}class S9{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}class C9{constructor(){}match(t){return fp(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,i=r.apply(t.error);return i||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}var A9=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class O9{match(t){return typeof t=="string"}coerce(t,r){var n,[i,s]=this.getInfos(t);return{type:i??"Error",value:s??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,i=t.match(A9);return i&&(r=i[1],n=i[2]),[r,n]}}var N9=["fatal","error","warning","log","info","debug"];function MI(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length||i.length<=t?i:i.slice(0,t)+"..."}return""}class P9{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,i=this.getErrorPropertyFromObject(t);return i?r.apply(i):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return DI(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+MI(t)}isSeverityLevel(t){return nr(t)&&!Zb(t)&&N9.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(p9(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class I9{match(t){return DI(t)}coerce(t,r){var n,i=t.constructor.name;return{type:i,value:i+" captured as exception with keys: "+MI(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class j9{match(t){return e1(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class R9{match(t){return fp(t,"PromiseRejectionEvent")}coerce(t,r){var n,i=this.getUnhandledRejectionReason(t);return e1(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(i)}getUnhandledRejectionReason(t){if(e1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}}var FI=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(i){if(ie&&(as.DEBUG||Ke.POSTHOG_DEBUG||r)&&!xe(ie.console)&&ie.console){for(var s=("__rrweb_original__"in ie.console[i])?ie.console[i].__rrweb_original__:ie.console[i],a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];s(e,...o)}},info:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("log",...s)},warn:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("warn",...s)},error:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("error",...s)},critical:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];console.error(e,...s)},uninitializedWarning:i=>{n.error("You must initialize PostHog before calling "+i)},createLogger:(i,s)=>FI(e+" "+i,s)};return n},Ee=FI("[PostHog.js]"),ir=Ee.createLogger,D9=ir("[ExternalScriptsLoader]"),jS=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return D9.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=we==null?void 0:we.querySelectorAll("script");if(n){for(var i,s=function(){if(n[a].src===t){var u=n[a];return u.__posthog_loading_callback_fired?{v:r()}:(u.addEventListener("load",(h=>{u.__posthog_loading_callback_fired=!0,r(void 0,h)})),u.onerror=h=>r(h),{v:void 0})}},a=0;a<n.length;a++)if(i=s())return i.v}var o=()=>{if(!we)return r("document not found");var u=we.createElement("script");if(u.type="text/javascript",u.crossOrigin="anonymous",u.src=t,u.onload=p=>{u.__posthog_loading_callback_fired=!0,r(void 0,p)},u.onerror=p=>r(p),e.config.prepare_external_dependency_script&&(u=e.config.prepare_external_dependency_script(u)),!u)return r("prepare_external_dependency_script returned null");var h,f=we.querySelectorAll("body > script");f.length>0?(h=f[0].parentNode)==null||h.insertBefore(u,f[0]):we.body.appendChild(u)};we!=null&&we.body?o():we==null||we.addEventListener("DOMContentLoaded",o)};Ke.__PosthogExtensions__=Ke.__PosthogExtensions__||{},Ke.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;n=n+"&t="+Math.floor(Date.now()/i)*i}var s=e.requestRouter.endpointFor("assets",n);jS(e,s,r)},Ke.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);jS(e,n,r)};var pp={};function xa(e,t,r){if(yt(e)){if(kS&&e.forEach===kS)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n)===pp)return}}}function Tt(e,t,r){if(!vt(e)){if(yt(e))return xa(e,t,r);if(u9(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===pp)return}else for(var i in e)if(RI.call(e,i)&&t.call(r,e[i],i)===pp)return}}var Vt=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return xa(r,(function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])})),e},tu=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return xa(r,(function(i){xa(i,(function(s){e.push(s)}))})),e};function rp(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var RS=function(e){try{return e()}catch{return}},L9=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(i){Ee.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ee.critical(i)}}},rx=function(e){var t={};return Tt(e,(function(r,n){(nr(r)&&r.length>0||qi(r))&&(t[n]=r)})),t};function M9(e,t){return r=e,n=s=>nr(s)&&!Os(t)?s.slice(0,t):s,i=new Set,(function s(a,o){return a!==Object(a)?n?n(a,o):a:i.has(a)?void 0:(i.add(a),yt(a)?(u=[],xa(a,(h=>{u.push(s(h))}))):(u={},Tt(a,((h,f)=>{i.has(h)||(u[f]=s(h,f))}))),u);var u})(r);var r,n,i}var F9=["herokuapp.com","vercel.app","netlify.app"];function B9(e){var t=e==null?void 0:e.hostname;if(!nr(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of F9)if(r===n)return!1;return!0}function BI(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Qt(e,t,r,n){var{capture:i=!1,passive:s=!0}=n??{};e==null||e.addEventListener(t,r,{capture:i,passive:s})}var $I="$people_distinct_id",Pc="__alias",Ic="__timers",DS="$autocapture_disabled_server_side",r1="$heatmaps_enabled_server_side",LS="$exception_capture_enabled_server_side",n1="$error_tracking_suppression_rules",MS="$error_tracking_capture_extension_exceptions",FS="$web_vitals_enabled_server_side",UI="$dead_clicks_enabled_server_side",BS="$web_vitals_allowed_metrics",Ev="$session_recording_remote_config",mp="$sesid",HI="$session_is_sampled",kl="$enabled_feature_flags",jc="$early_access_features",i1="$feature_flag_details",Rc="$stored_person_properties",eo="$stored_group_properties",s1="$surveys",pf="$surveys_activated",gp="$flag_call_reported",os="$user_state",a1="$client_session_props",o1="$capture_rate_limit",l1="$initial_campaign_params",u1="$initial_referrer_info",vp="$initial_person_info",yp="$epp",zI="__POSTHOG_TOOLBAR__",lc="$posthog_cookieless",$9=[$I,Pc,"__cmpns",Ic,"$session_recording_enabled_server_side",r1,mp,kl,n1,os,jc,i1,eo,Rc,s1,gp,a1,o1,l1,u1,yp,vp];function $S(e){return e instanceof Element&&(e.id===zI||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function jm(e){return!!e&&e.nodeType===1}function wa(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function WI(e){return!!e&&e.nodeType===3}function qI(e){return!!e&&e.nodeType===11}function nx(e){return e?Pm(e).split(/\s+/):[]}function US(e){var t=ie==null?void 0:ie.location.href;return!!(t&&e&&e.some((r=>t.match(r))))}function bp(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return nx(t)}function VI(e){return vt(e)?null:Pm(e).split(/(\s+)/).filter((t=>nd(t))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Ad(e){var t="";return c1(e)&&!QI(e)&&e.childNodes&&e.childNodes.length&&Tt(e.childNodes,(function(r){var n;WI(r)&&r.textContent&&(t+=(n=VI(r.textContent))!==null&&n!==void 0?n:"")})),Pm(t)}function KI(e){return xe(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var ix=["a","button","form","input","select","textarea","label"];function YI(e,t){if(xe(t))return!0;var r,n=function(s){if(t.some((a=>s.matches(a))))return{v:!0}};for(var i of e)if(r=n(i))return r.v;return!1}function GI(e){var t=e.parentNode;return!(!t||!jm(t))&&t}var U9=["next","previous","prev",">","<"],HS=10,zS=[".ph-no-rageclick",".ph-no-capture"];function H9(e,t){if(!ie||sx(e))return!1;var r,n,i;if(_a(t)?(r=!!t&&zS,n=void 0):(r=(i=t==null?void 0:t.css_selector_ignorelist)!==null&&i!==void 0?i:zS,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:s}=XI(e,!1);return!(function(a,o){if(a===!1||xe(a))return!1;var u;if(a===!0)u=U9;else{if(!yt(a))return!1;if(a.length>HS)return Ee.error("[PostHog] content_ignorelist array cannot exceed "+HS+" items. Use css_selector_ignorelist for more complex matching."),!1;u=a.map((h=>h.toLowerCase()))}return o.some((h=>{var{safeText:f,ariaLabel:p}=h;return u.some((v=>f.includes(v)||p.includes(v)))}))})(n,s.map((a=>{var o;return{safeText:Ad(a).toLowerCase(),ariaLabel:((o=a.getAttribute("aria-label"))==null?void 0:o.toLowerCase().trim())||""}})))&&!YI(s,r)}var sx=e=>!e||wa(e,"html")||!jm(e),XI=(e,t)=>{if(!ie||sx(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],i=e;i.parentNode&&!wa(i,"body");)if(qI(i.parentNode))n.push(i.parentNode.host),i=i.parentNode.host;else{var s=GI(i);if(!s)break;if(t||ix.indexOf(s.tagName.toLowerCase())>-1)r=!0;else{var a=ie.getComputedStyle(s);a&&a.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(s),i=s}return{parentIsUsefulElement:r,targetElementList:n}};function z9(e,t,r,n,i){var s,a,o,u;if(r===void 0&&(r=void 0),!ie||sx(e)||(s=r)!=null&&s.url_allowlist&&!US(r.url_allowlist)||(a=r)!=null&&a.url_ignorelist&&US(r.url_ignorelist))return!1;if((o=r)!=null&&o.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((b=>t.type===b)))return!1}var{parentIsUsefulElement:f,targetElementList:p}=XI(e,n);if(!(function(b,x){var _=x==null?void 0:x.element_allowlist;if(xe(_))return!0;var w,C=function(O){if(_.some((P=>O.tagName.toLowerCase()===P)))return{v:!0}};for(var S of b)if(w=C(S))return w.v;return!1})(p,r)||!YI(p,(u=r)==null?void 0:u.css_selector_allowlist))return!1;var v=ie.getComputedStyle(e);if(v&&v.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return f?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(ix.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function c1(e){for(var t=e;t.parentNode&&!wa(t,"body");t=t.parentNode){var r=bp(t);if(tt(r,"ph-sensitive")||tt(r,"ph-no-capture"))return!1}if(tt(bp(e),"ph-include"))return!0;var n=e.type||"";if(nr(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(nr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function QI(e){return!!(wa(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||wa(e,"select")||wa(e,"textarea")||e.getAttribute("contenteditable")==="true")}var JI="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",W9=new RegExp("^(?:"+JI+")$"),q9=new RegExp(JI),ZI="\\d{3}-?\\d{2}-?\\d{4}",V9=new RegExp("^("+ZI+")$"),K9=new RegExp("("+ZI+")");function nd(e,t){return t===void 0&&(t=!0),!(vt(e)||nr(e)&&(e=Pm(e),(t?W9:q9).test((e||"").replace(/[- ]/g,""))||(t?V9:K9).test(e)))}function ej(e){var t=Ad(e);return nd(t=(t+" "+tj(e)).trim())?t:""}function tj(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Tt(e.childNodes,(function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var i=Ad(r);t=(t+" "+i).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+tj(r)).trim())}catch(s){Ee.error("[AutoCapture]",s)}})),t}function Y9(e){return(function(t){var r=t.map((n=>{var i,s,a="";if(n.tag_name&&(a+=n.tag_name),n.attr_class)for(var o of(n.attr_class.sort(),n.attr_class))a+="."+o.replace(/"/g,"");var u=Ae({},n.text?{text:n.text}:{},{"nth-child":(i=n.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),h={};return rp(u).sort(((f,p)=>{var[v]=f,[g]=p;return v.localeCompare(g)})).forEach((f=>{var[p,v]=f;return h[WS(p.toString())]=WS(v.toString())})),a+=":",a+=rp(h).map((f=>{var[p,v]=f;return p+'="'+v+'"'})).join("")}));return r.join(";")})((function(t){return t.map((r=>{var n,i,s={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(i=r.attr__href)==null?void 0:i.slice(0,2048),attr_class:G9(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return rp(r).filter((a=>{var[o]=a;return o.indexOf("attr__")===0})).forEach((a=>{var[o,u]=a;return s.attributes[o]=u})),s}))})(e))}function WS(e){return e.replace(/"|\\"/g,'\\"')}function G9(e){var t=e.attr__class;return t?yt(t)?t:nx(t):void 0}class rj{constructor(t){this.disabled=t===!1;var r=gr(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(r-i.y)<this.thresholdPx&&n-i.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}}var kv="$copy_autocapture",cs=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),_p=e=>{var t=we==null?void 0:we.createElement("a");return xe(t)?null:(t.href=e,t)},X9=function(e,t){var r,n;t===void 0&&(t="&");var i=[];return Tt(e,(function(s,a){xe(s)||xe(a)||a==="undefined"||(r=encodeURIComponent((o=>o instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(a),i[i.length]=n+"="+r)})),i.join(t)},xp=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===t){r=s;break}}if(!yt(r)||r.length<2)return"";var a=r[1];try{a=decodeURIComponent(a)}catch{Ee.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Od=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),i=n[0]||"",s=n[1],a=i.split("?"),o=a[1],u=a[0],h=(o||"").split("&"),f=[],p=0;p<h.length;p++){var v=h[p].split("=");yt(v)&&(t.includes(v[0])?f.push(v[0]+"="+r):f.push(h[p]))}var g=u;return o!=null&&(g+="?"+f.join("&")),s!=null&&(g+="#"+s),g},wp=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},qS=ir("[AutoCapture]");function Tv(e,t){return t.length>e?t.slice(0,e)+"...":t}function Q9(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!jm(t));return t}function J9(e,t,r,n){var i=e.tagName.toLowerCase(),s={tag_name:i};ix.indexOf(i)>-1&&!r&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Tv(1024,ej(e)):s.$el_text=Tv(1024,Ad(e)));var a=bp(e);a.length>0&&(s.classes=a.filter((function(f){return f!==""}))),Tt(e.attributes,(function(f){var p;if((!QI(e)||["name","id","class","aria-label"].indexOf(f.name)!==-1)&&(n==null||!n.includes(f.name))&&!t&&nd(f.value)&&(p=f.name,!nr(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var v=f.value;f.name==="class"&&(v=nx(v).join(" ")),s["attr__"+f.name]=Tv(1024,v)}}));for(var o=1,u=1,h=e;h=Q9(h);)o++,h.tagName===e.tagName&&u++;return s.nth_child=o,s.nth_of_type=u,s}function Z9(e,t){for(var r,n,{e:i,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:u}=t,h=[e],f=e;f.parentNode&&!wa(f,"body");)qI(f.parentNode)?(h.push(f.parentNode.host),f=f.parentNode.host):(h.push(f.parentNode),f=f.parentNode);var p,v=[],g={},b=!1,x=!1;if(Tt(h,(O=>{var P=c1(O);O.tagName.toLowerCase()==="a"&&(b=O.getAttribute("href"),b=P&&b&&nd(b)&&b),tt(bp(O),"ph-no-capture")&&(x=!0),v.push(J9(O,s,a,o));var N=(function(j){if(!c1(j))return{};var R={};return Tt(j.attributes,(function($){if($.name&&$.name.indexOf("data-ph-capture-attribute")===0){var L=$.name.replace("data-ph-capture-attribute-",""),U=$.value;L&&U&&nd(U)&&(R[L]=U)}})),R})(O);Vt(g,N)})),x)return{props:{},explicitNoCapture:x};if(a||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=ej(e):v[0].$el_text=Ad(e)),b){var _,w;v[0].attr__href=b;var C=(_=_p(b))==null?void 0:_.host,S=ie==null||(w=ie.location)==null?void 0:w.host;C&&S&&C!==S&&(p=b)}return{props:Vt({$event_type:i.type,$ce_version:1},u?{}:{$elements:v},{$elements_chain:Y9(v)},(r=v[0])!=null&&r.$el_text?{$el_text:(n=v[0])==null?void 0:n.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},g)}}class e${constructor(t){this.P=!1,this.T=null,this.R=!1,this.instance=t,this.rageclicks=new rj(t.config.rageclick),this.I=null}get F(){var t,r,n=gr(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map((i=>new RegExp(i))),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map((i=>new RegExp(i))),n}C(){if(this.isBrowserSupported()){if(ie&&we){var t=n=>{n=n||(ie==null?void 0:ie.event);try{this.M(n)}catch(i){qS.error("Failed to capture event",i)}};if(Qt(we,"submit",t,{capture:!0}),Qt(we,"change",t,{capture:!0}),Qt(we,"click",t,{capture:!0}),this.F.capture_copied_text){var r=n=>{n=n||(ie==null?void 0:ie.event),this.M(n,kv)};Qt(we,"copy",r,{capture:!0}),Qt(we,"cut",r,{capture:!0})}}}else qS.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.R=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[DS]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.I=t}getElementSelectors(t){var r,n=[];return(r=this.I)==null||r.forEach((i=>{var s=we==null?void 0:we.querySelectorAll(i);s==null||s.forEach((a=>{t===a&&n.push(i)}))})),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[DS],i=this.T;if(Os(i)&&!_a(n)&&!this.instance.O())return!1;var s=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!s}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,i=KI(t);WI(i)&&(i=i.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&H9(i,this.instance.config.rageclick)&&this.M(t,"$rageclick");var s=r===kv;if(i&&z9(i,t,this.F,s,s?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=Z9(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.R});if(o)return!1;var u=this.getElementSelectors(i);if(u&&u.length>0&&(a.$element_selectors=u),r===kv){var h,f=VI(ie==null||(h=ie.getSelection())==null?void 0:h.toString()),p=t.type||"clipboard";if(!f)return!1;a.$selected_content=f,a.$copy_type=p}return this.instance.capture(r,a),!0}}}isBrowserSupported(){return ba(we==null?void 0:we.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return qi(e)&&isFinite(e)&&Math.floor(e)===e});var VS="0123456789abcdef";class Ep{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,i){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(i)||t<0||r<0||n<0||i<0||t>0xffffffffffff||r>4095||n>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new Ep(s)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+VS.charAt(this.bytes[r]>>>4)+VS.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new Ep(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class t${constructor(){this.A=0,this.D=0,this.j=new r$}generate(){var t=this.generateOrAbort();if(xe(t)){this.A=0;var r=this.generateOrAbort();if(xe(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return Ep.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var KS,nj=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ie&&!xe(ie.crypto)&&crypto.getRandomValues&&(nj=e=>crypto.getRandomValues(e));class r${constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(nj(this.N),this.U=0),this.N[this.U++]}}var va=()=>n$().toString(),n$=()=>(KS||(KS=new t$)).generate(),uc="",i$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function s$(e,t){if(t){var r=(function(i,s){if(s===void 0&&(s=we),uc)return uc;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var a=i.split("."),o=Math.min(a.length,8),u="dmn_chk_"+va();!uc&&o--;){var h=a.slice(o).join("."),f=u+"=1;domain=."+h+";path=/";s.cookie=f+";max-age=3",s.cookie.includes(u)&&(s.cookie=f+";max-age=0",uc=h)}return uc})(e);if(!r){var n=(i=>{var s=i.match(i$);return s?s[0]:""})(e);n!==r&&Ee.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var zi={H:()=>!!we,B:function(e){Ee.error("cookieStore error: "+e)},q:function(e){if(we){try{for(var t=e+"=",r=we.cookie.split(";").filter((s=>s.length)),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(zi.q(e))||{}}catch{}return t},G:function(e,t,r,n,i){if(we)try{var s="",a="",o=s$(we.location.hostname,n);if(r){var u=new Date;u.setTime(u.getTime()+24*r*60*60*1e3),s="; expires="+u.toUTCString()}i&&(a="; secure");var h=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+o+a;return h.length>3686.4&&Ee.warn("cookieStore warning: large cookie, len="+h.length),we.cookie=h,h}catch{return}},V:function(e,t){if(we!=null&&we.cookie)try{zi.G(e,"",-1,t)}catch{return}}},Sv=null,Bt={H:function(){if(!Os(Sv))return Sv;var e=!0;if(xe(ie))e=!1;else try{var t="__mplssupport__";Bt.G(t,"xyz"),Bt.q(t)!=='"xyz"'&&(e=!1),Bt.V(t)}catch{e=!1}return e||Ee.error("localStorage unsupported; falling back to cookie store"),Sv=e,e},B:function(e){Ee.error("localStorage error: "+e)},q:function(e){try{return ie==null?void 0:ie.localStorage.getItem(e)}catch(t){Bt.B(t)}return null},W:function(e){try{return JSON.parse(Bt.q(e))||{}}catch{}return null},G:function(e,t){try{ie==null||ie.localStorage.setItem(e,JSON.stringify(t))}catch(r){Bt.B(r)}},V:function(e){try{ie==null||ie.localStorage.removeItem(e)}catch(t){Bt.B(t)}}},a$=["distinct_id",mp,HI,yp,vp],mf=Ae({},Bt,{W:function(e){try{var t={};try{t=zi.W(e)||{}}catch{}var r=Vt(t,JSON.parse(Bt.q(e)||"{}"));return Bt.G(e,r),r}catch{}return null},G:function(e,t,r,n,i,s){try{Bt.G(e,t,void 0,void 0,s);var a={};a$.forEach((o=>{t[o]&&(a[o]=t[o])})),Object.keys(a).length&&zi.G(e,a,r,n,i,s)}catch(o){Bt.B(o)}},V:function(e,t){try{ie==null||ie.localStorage.removeItem(e),zi.V(e,t)}catch(r){Bt.B(r)}}}),gf={},o$={H:function(){return!0},B:function(e){Ee.error("memoryStorage error: "+e)},q:function(e){return gf[e]||null},W:function(e){return gf[e]||null},G:function(e,t){gf[e]=t},V:function(e){delete gf[e]}},Ya=null,Cr={H:function(){if(!Os(Ya))return Ya;if(Ya=!0,xe(ie))Ya=!1;else try{var e="__support__";Cr.G(e,"xyz"),Cr.q(e)!=='"xyz"'&&(Ya=!1),Cr.V(e)}catch{Ya=!1}return Ya},B:function(e){Ee.error("sessionStorage error: ",e)},q:function(e){try{return ie==null?void 0:ie.sessionStorage.getItem(e)}catch(t){Cr.B(t)}return null},W:function(e){try{return JSON.parse(Cr.q(e))||null}catch{}return null},G:function(e,t){try{ie==null||ie.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Cr.B(r)}},V:function(e){try{ie==null||ie.sessionStorage.removeItem(e)}catch(t){Cr.B(t)}}},ls=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class l${constructor(t){this._instance=t}get F(){return this._instance.config}get consent(){return this.J()?ls.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===ls.DENIED||this.consent===ls.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===ls.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return xv(t)?ls.GRANTED:tt(h9,t)?ls.DENIED:ls.PENDING}get Y(){if(!this.Z){var t=this.F.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Bt:zi;var r=t==="localStorage"?zi:Bt;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(xv(r.q(this.X))),r.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!BI([Pn==null?void 0:Pn.doNotTrack,Pn==null?void 0:Pn.msDoNotTrack,Ke.doNotTrack],(t=>xv(t)))}}var vf=ir("[Dead Clicks]"),u$=()=>!0,c$=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(UI)),n=e.instance.config.capture_dead_clicks;return _a(n)?n:!!gr(n)||r};class ij{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[UI]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var r,n;(r=Ke.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=Ke.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?vf.error("failed to load script",i):t()}))}et(){var t;if(we){if(!this.tt&&(t=Ke.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=gr(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=Ke.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(we),vf.info("starting...")}}else vf.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,vf.info("stopping..."))}}var cc=ir("[ExceptionAutocapture]");class d${constructor(t){var r,n,i;this.rt=()=>{var s;if(ie&&this.isEnabled&&(s=Ke.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var a=Ke.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,o=Ke.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,u=Ke.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=a(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=o(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=u(this.captureException.bind(this)))}catch(h){cc.error("failed to start",h),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[LS]),this.F=this.ht(),this.vt=new f9({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:cc}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return gr(t)?r=Ae({},r,t):(xe(t)?this.ut:t)&&(r=Ae({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(cc.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=Ke.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=Ke.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return cc.error("failed to load script",i);t()}))}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[LS]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,i=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.vt.consumeRateLimit(i)?cc.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(t)}}function YS(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],i=r(n);return ba(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}class h${constructor(t){var r;this._instance=t,this.dt=(ie==null||(r=ie.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Ee.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Ee.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ie&&ie.history){var n=this;(t=ie.history.pushState)!=null&&t.__posthog_wrapped__||YS(ie.history,"pushState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("pushState")})),(r=ie.history.replaceState)!=null&&r.__posthog_wrapped__||YS(ie.history,"replaceState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("replaceState")})),this.gt()}}ft(t){try{var r,n=ie==null||(r=ie.location)==null?void 0:r.pathname;if(!n)return;n!==this.dt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.dt=n}catch(i){Ee.error("Error capturing "+t+" pageview",i)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};Qt(ie,"popstate",t),this.ct=()=>{ie&&ie.removeEventListener("popstate",t)}}}}var Cv=ir("[SegmentIntegration]");function f$(e,t){var r=e.config.segment;if(!r)return t();(function(n,i){var s=n.config.segment;if(!s)return i();var a=u=>{var h=()=>u.anonymousId()||va();n.config.get_device_id=h,u.id()&&(n.register({distinct_id:u.id(),$device_id:h()}),n.persistence.set_property(os,"identified")),i()},o=s.user();"then"in o&&ba(o.then)?o.then((u=>a(u))):a(o)})(e,(()=>{r.register((n=>{Promise&&Promise.resolve||Cv.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,a)=>{if(!a)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(Cv.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(Cv.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var o=n.calculateEventProperties(a,s.event.properties);return s.event.properties=Object.assign({},o,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then((()=>{t()}))}))}var sj="posthog-js";function aj(e,t){var{organization:r,projectId:n,prefix:i,severityAllowList:s=["error"],sendExceptionsToPostHog:a=!0}=t===void 0?{}:t;return o=>{var u,h,f,p,v;if(!(s==="*"||s.includes(o.level))||!e.__loaded)return o;o.tags||(o.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());o.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var b=((u=o.exception)==null?void 0:u.values)||[],x=b.map((w=>Ae({},w,{stacktrace:w.stacktrace?Ae({},w.stacktrace,{type:"raw",frames:(w.stacktrace.frames||[]).map((C=>Ae({},C,{platform:"web:javascript"})))}):void 0}))),_={$exception_message:((h=b[0])==null?void 0:h.value)||o.message,$exception_type:(f=b[0])==null?void 0:f.type,$exception_level:o.level,$exception_list:x,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((p=b[0])==null?void 0:p.value)||o.message,$sentry_exception_type:(v=b[0])==null?void 0:v.type,$sentry_tags:o.tags};return r&&n&&(_.$sentry_url=(i||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+o.event_id),a&&e.exceptions.sendExceptionEvent(_),o}}class p${constructor(t,r,n,i,s,a){this.name=sj,this.setupOnce=function(o){o(aj(t,{organization:r,projectId:n,prefix:i,severityAllowList:s,sendExceptionsToPostHog:a==null||a}))}}}var m$=ie!=null&&ie.location?wp(ie.location.hash,"__posthog")||wp(location.hash,"state"):null,GS="_postHogToolbarParams",XS=ir("[Toolbar]"),ua=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(ua||{});class g${constructor(t){this.instance=t}_t(t){Ke.ph_toolbar_state=t}yt(){var t;return(t=Ke.ph_toolbar_state)!==null&&t!==void 0?t:ua.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ie||!we)return!1;t=t??ie.location,n=n??ie.history;try{if(!r){try{ie.localStorage.setItem("test","test"),ie.localStorage.removeItem("test")}catch{return!1}r=ie==null?void 0:ie.localStorage}var i,s=m$||wp(t.hash,"__posthog")||wp(t.hash,"state"),a=s?RS((()=>JSON.parse(atob(decodeURIComponent(s)))))||RS((()=>JSON.parse(decodeURIComponent(s)))):null;return a&&a.action==="ph_authorize"?((i=a).source="url",i&&Object.keys(i).length>0&&(a.desiredHash?t.hash=a.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((i=JSON.parse(r.getItem(GS)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}bt(t){var r=Ke.ph_load_toolbar||Ke.ph_load_editor;!vt(r)&&ba(r)?r(t,this.instance):XS.warn("No toolbar load function found")}loadToolbar(t){var r=!(we==null||!we.getElementById(zI));if(!ie||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ae({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ie.localStorage.setItem(GS,JSON.stringify(Ae({},i,{source:void 0}))),this.yt()===ua.LOADED)this.bt(i);else if(this.yt()===ua.UNINITIALIZED){var s;this._t(ua.LOADING),(s=Ke.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",(a=>{if(a)return XS.error("[Toolbar] Failed to load",a),void this._t(ua.UNINITIALIZED);this._t(ua.LOADED),this.bt(i)})),Qt(ie,"turbolinks:load",(()=>{this._t(ua.UNINITIALIZED),this.loadToolbar(i)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var v$=ir("[TracingHeaders]");class y${constructor(t){this.xt=void 0,this.St=void 0,this.rt=()=>{var r,n;xe(this.xt)&&((r=Ke.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),xe(this.St)&&((n=Ke.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=Ke.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=Ke.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return v$.error("failed to load script",i);t()}))}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.St)==null||r.call(this),this.xt=void 0,this.St=void 0)}}var Qn="Mobile",kp="iOS",$i="Android",id="Tablet",oj=$i+" "+id,lj="iPad",uj="Apple",cj=uj+" Watch",sd="Safari",Dl="BlackBerry",dj="Samsung",hj=dj+"Browser",fj=dj+" Internet",bo="Chrome",b$=bo+" OS",pj=bo+" "+kp,ax="Internet Explorer",mj=ax+" "+Qn,ox="Opera",_$=ox+" Mini",lx="Edge",gj="Microsoft "+lx,Cl="Firefox",vj=Cl+" "+kp,ad="Nintendo",od="PlayStation",Al="Xbox",yj=$i+" "+Qn,bj=Qn+" "+sd,Dc="Windows",d1=Dc+" Phone",QS="Nokia",h1="Ouya",_j="Generic",x$=_j+" "+Qn.toLowerCase(),xj=_j+" "+id.toLowerCase(),f1="Konqueror",Vr="(\\d+(\\.\\d+)?)",Av=new RegExp("Version/"+Vr),w$=new RegExp(Al,"i"),E$=new RegExp(od+" \\w+","i"),k$=new RegExp(ad+" \\w+","i"),ux=new RegExp(Dl+"|PlayBook|BB10","i"),T$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},S$=(e,t)=>t&&tt(t,uj)||(function(r){return tt(r,sd)&&!tt(r,bo)&&!tt(r,$i)})(e),wj=function(e,t){return t=t||"",tt(e," OPR/")&&tt(e,"Mini")?_$:tt(e," OPR/")?ox:ux.test(e)?Dl:tt(e,"IE"+Qn)||tt(e,"WPDesktop")?mj:tt(e,hj)?fj:tt(e,lx)||tt(e,"Edg/")?gj:tt(e,"FBIOS")?"Facebook "+Qn:tt(e,"UCWEB")||tt(e,"UCBrowser")?"UC Browser":tt(e,"CriOS")?pj:tt(e,"CrMo")||tt(e,bo)?bo:tt(e,$i)&&tt(e,sd)?yj:tt(e,"FxiOS")?vj:tt(e.toLowerCase(),f1.toLowerCase())?f1:S$(e,t)?tt(e,Qn)?bj:sd:tt(e,Cl)?Cl:tt(e,"MSIE")||tt(e,"Trident/")?ax:tt(e,"Gecko")?Cl:""},C$={[mj]:[new RegExp("rv:"+Vr)],[gj]:[new RegExp(lx+"?\\/"+Vr)],[bo]:[new RegExp("("+bo+"|CrMo)\\/"+Vr)],[pj]:[new RegExp("CriOS\\/"+Vr)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Vr)],[sd]:[Av],[bj]:[Av],[ox]:[new RegExp("(Opera|OPR)\\/"+Vr)],[Cl]:[new RegExp(Cl+"\\/"+Vr)],[vj]:[new RegExp("FxiOS\\/"+Vr)],[f1]:[new RegExp("Konqueror[:/]?"+Vr,"i")],[Dl]:[new RegExp(Dl+" "+Vr),Av],[yj]:[new RegExp("android\\s"+Vr,"i")],[fj]:[new RegExp(hj+"\\/"+Vr)],[ax]:[new RegExp("(rv:|MSIE )"+Vr)],Mozilla:[new RegExp("rv:"+Vr)]},A$=function(e,t){var r=wj(e,t),n=C$[r];if(xe(n))return null;for(var i=0;i<n.length;i++){var s=n[i],a=e.match(s);if(a)return parseFloat(a[a.length-2])}return null},JS=[[new RegExp(Al+"; "+Al+" (.*?)[);]","i"),e=>[Al,e&&e[1]||""]],[new RegExp(ad,"i"),[ad,""]],[new RegExp(od,"i"),[od,""]],[ux,[Dl,""]],[new RegExp(Dc,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[d1,""];if(new RegExp(Qn).test(t)&&!/IEMobile\b/.test(t))return[Dc+" "+Qn,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],i=T$[n]||"";return/arm/i.test(t)&&(i="RT"),[Dc,i]}return[Dc,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[kp,t.join(".")]}return[kp,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=xe(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+$i+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+$i+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[$i,t.join(".")]}return[$i,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[b$,""]],[/Linux|debian/i,["Linux",""]]],ZS=function(e){return k$.test(e)?ad:E$.test(e)?od:w$.test(e)?Al:new RegExp(h1,"i").test(e)?h1:new RegExp("("+d1+"|WPDesktop)","i").test(e)?d1:/iPad/.test(e)?lj:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?cj:ux.test(e)?Dl:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(QS,"i").test(e)?QS:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Qn).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?$i:oj:$i:new RegExp("(pda|"+Qn+")","i").test(e)?x$:new RegExp(id,"i").test(e)&&!new RegExp(id+" pc","i").test(e)?xj:""},yf="https?://(.*)",ru=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],O$=tu(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],ru),Nd="<masked>",N$=["li_fat_id"];function Ej(e,t,r){if(!we)return{};var n,i=t?tu([],ru,r||[]):[],s=kj(Od(we.URL,i,Nd),e),a=(n={},Tt(N$,(function(o){var u=zi.q(o);n[o]=u||null})),n);return Vt(a,s)}function kj(e,t){var r=O$.concat(t||[]),n={};return Tt(r,(function(i){var s=xp(e,i);n[i]=s||null})),n}function Tj(e){var t=(function(s){return s?s.search(yf+"google.([^/?]*)")===0?"google":s.search(yf+"bing.com")===0?"bing":s.search(yf+"yahoo.com")===0?"yahoo":s.search(yf+"duckduckgo.com")===0?"duckduckgo":null:null})(e),r=t!="yahoo"?"q":"p",n={};if(!Os(t)){n.$search_engine=t;var i=we?xp(we.referrer,r):"";i.length&&(n.ph_keyword=i)}return n}function e2(){return navigator.language||navigator.userLanguage}function Sj(){return(we==null?void 0:we.referrer)||"$direct"}function Cj(e,t){var r=e?tu([],ru,t||[]):[],n=hn==null?void 0:hn.href.substring(0,1e3);return{r:Sj().substring(0,1e3),u:n?Od(n,r,Nd):void 0}}function Aj(e){var t,{r,u:n}=e,i={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=_p(r))==null?void 0:t.host};if(n){i.$current_url=n;var s=_p(n);i.$host=s==null?void 0:s.host,i.$pathname=s==null?void 0:s.pathname;var a=kj(n);Vt(i,a)}if(r){var o=Tj(r);Vt(i,o)}return i}function Oj(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function P$(){try{return new Date().getTimezoneOffset()}catch{return}}function I$(e,t){if(!cn)return{};var r,n,i,s=e?tu([],ru,t||[]):[],[a,o]=(function(u){for(var h=0;h<JS.length;h++){var[f,p]=JS[h],v=f.exec(u),g=v&&(ba(p)?p(v,u):p);if(g)return g}return["",""]})(cn);return Vt(rx({$os:a,$os_version:o,$browser:wj(cn,navigator.vendor),$device:ZS(cn),$device_type:(n=cn,i=ZS(n),i===lj||i===oj||i==="Kobo"||i==="Kindle Fire"||i===xj?id:i===ad||i===Al||i===od||i===h1?"Console":i===cj?"Wearable":i?Qn:"Desktop"),$timezone:Oj(),$timezone_offset:P$()}),{$current_url:Od(hn==null?void 0:hn.href,s,Nd),$host:hn==null?void 0:hn.host,$pathname:hn==null?void 0:hn.pathname,$raw_user_agent:cn.length>1e3?cn.substring(0,997)+"...":cn,$browser_version:A$(cn,navigator.vendor),$browser_language:e2(),$browser_language_prefix:(r=e2(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ie==null?void 0:ie.screen.height,$screen_width:ie==null?void 0:ie.screen.width,$viewport_height:ie==null?void 0:ie.innerHeight,$viewport_width:ie==null?void 0:ie.innerWidth,$lib:"web",$lib_version:as.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var sa=ir("[Web Vitals]"),t2=9e5;class j${constructor(t){var r;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((n,i)=>Ae({},n,{["$web_vitals_"+i.name+"_event"]:Ae({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var i,s=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(xe(s))sa.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Tt();xe(a)||(vt(n==null?void 0:n.name)||vt(n==null?void 0:n.value)?sa.error("Invalid metric received",n):this.Rt&&n.value>=this.Rt?sa.error("Ignoring metric with value >= "+this.Rt,n):(this.N.url!==a&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),xe(this.N.url)&&(this.N.url=a),this.N.firstMetricTimestamp=xe(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(Ae({},n,{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,i,s,a,o=Ke.__PosthogExtensions__;xe(o)||xe(o.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:i,onFCP:s,onINP:a}=o.postHogWebVitalsCallbacks),n&&i&&s&&a?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Pt.bind(this)),this.P=!0):sa.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Et=!((r=this._instance.persistence)==null||!r.props[FS]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=gr(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return xe(n)?((r=this._instance.persistence)==null?void 0:r.props[BS])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(gr(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var t=gr(this._instance.config.capture_performance)&&qi(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:t2;return 0<t&&t<=6e4?t2:t}get isEnabled(){var t=hn==null?void 0:hn.protocol;if(t!=="http:"&&t!=="https:")return sa.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=gr(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:_a(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return _a(r)?r:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(sa.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=gr(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=gr(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[FS]:r}),this._instance.persistence.register({[BS]:n})),this.Et=r,this.startIfEnabled()}it(t){var r,n;(r=Ke.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=Ke.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",(i=>{i?sa.error("failed to load script",i):t()}))}Tt(){var t=ie?ie.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,i=r?tu([],ru,n||[]):[];return Od(t,i,Nd)}sa.error("Could not determine current URL")}}var R$=ir("[Heatmaps]");function r2(e){return gr(e)&&"clientX"in e&&"clientY"in e&&qi(e.clientX)&&qi(e.clientY)}class D${constructor(t){var r;this.Et=!1,this.P=!1,this.It=null,this.instance=t,this.Et=!((r=this.instance.persistence)==null||!r.props[r1]),this.rageclicks=new rj(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return gr(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return xe(this.instance.config.capture_heatmaps)?xe(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;R$.info("starting..."),this.Ft(),this.Ct()}else{var t;clearInterval((t=this.It)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[r1]:r}),this.Et=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ct(){this.It&&clearInterval(this.It),this.It=(function(t){return(t==null?void 0:t.visibilityState)==="visible"})(we)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){ie&&we&&(this.jt=this.Dt.bind(this),Qt(ie,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ie==null?void 0:ie.event)),Qt(we,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ie==null?void 0:ie.event)),Qt(we,"mousemove",this.Nt,{capture:!0}),this.zt=new ij(this.instance,u$,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),Qt(we,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ie&&we&&(this.jt&&ie.removeEventListener("beforeunload",this.jt),this.Lt&&we.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&we.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&we.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=(function(o,u,h){for(var f=o;f&&jm(f)&&!wa(f,"body");){if(f===h)return!1;if(tt(u,ie==null?void 0:ie.getComputedStyle(f).position))return!0;f=GI(f)}return!1})(KI(t),["fixed","sticky"],s);return{x:t.clientX+(a?0:i),y:t.clientY+(a?0:n),target_fixed:a,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!$S(t.target)&&r2(t)){var i=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(Ae({},i,{type:"rageclick"})),this.Wt(i)}}Ut(t){!$S(t.target)&&r2(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,"mousemove"))}),500))}Wt(t){if(ie){var r=ie.location.href,n=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,s=n?tu([],ru,i||[]):[],a=Od(r,s,Nd);this.N=this.N||{},this.N[a]||(this.N[a]=[]),this.N[a].push(t)}}Dt(){this.N&&!El(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class L${constructor(t){this._instance=t}doPageView(t,r){var n,i=this.Gt(t,r);return this.Vt={pathname:(n=ie==null?void 0:ie.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var i={$pageview_id:r,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:o,maxScrollY:u,maxContentHeight:h,lastContentY:f,maxContentY:p}=s;if(!(xe(a)||xe(o)||xe(u)||xe(h)||xe(f)||xe(p))){a=Math.ceil(a),o=Math.ceil(o),u=Math.ceil(u),h=Math.ceil(h),f=Math.ceil(f),p=Math.ceil(p);var v=a<=1?1:Bi(o/a,0,1,Ee),g=a<=1?1:Bi(u/a,0,1,Ee),b=h<=1?1:Bi(f/h,0,1,Ee),x=h<=1?1:Bi(p/h,0,1,Ee);i=Vt(i,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:u,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:f,$prev_pageview_last_content_percentage:b,$prev_pageview_max_content:p,$prev_pageview_max_content_percentage:x})}}return n.pathname&&(i.$prev_pageview_pathname=n.pathname),n.timestamp&&(i.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),i}}var Jn=Uint8Array,pn=Uint16Array,Ll=Uint32Array,cx=new Jn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dx=new Jn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),n2=new Jn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nj=function(e,t){for(var r=new pn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Ll(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return[r,i]},Pj=Nj(cx,2),M$=Pj[0],p1=Pj[1];M$[28]=258,p1[258]=28;for(var i2=Nj(dx,0)[1],Ij=new pn(32768),Nt=0;Nt<32768;++Nt){var Ga=(43690&Nt)>>>1|(21845&Nt)<<1;Ga=(61680&(Ga=(52428&Ga)>>>2|(13107&Ga)<<2))>>>4|(3855&Ga)<<4,Ij[Nt]=((65280&Ga)>>>8|(255&Ga)<<8)>>>1}var Hc=function(e,t,r){for(var n=e.length,i=0,s=new pn(t);i<n;++i)++s[e[i]-1];var a,o=new pn(t);for(i=0;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;for(a=new pn(n),i=0;i<n;++i)a[i]=Ij[o[e[i]-1]++]>>>15-e[i];return a},_o=new Jn(288);for(Nt=0;Nt<144;++Nt)_o[Nt]=8;for(Nt=144;Nt<256;++Nt)_o[Nt]=9;for(Nt=256;Nt<280;++Nt)_o[Nt]=7;for(Nt=280;Nt<288;++Nt)_o[Nt]=8;var Tp=new Jn(32);for(Nt=0;Nt<32;++Nt)Tp[Nt]=5;var F$=Hc(_o,9),B$=Hc(Tp,5),jj=function(e){return(e/8>>0)+(7&e&&1)},Rj=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof pn?pn:e instanceof Ll?Ll:Jn)(r-t);return n.set(e.subarray(t,r)),n},ss=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},dc=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Ov=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return[new Jn(0),0];if(i==1){var a=new Jn(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort((function(P,N){return P.f-N.f})),r.push({s:-1,f:25001});var o=r[0],u=r[1],h=0,f=1,p=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};f!=i-1;)o=r[r[h].f<r[p].f?h++:p++],u=r[h!=f&&r[h].f<r[p].f?h++:p++],r[f++]={s:-1,f:o.f+u.f,l:o,r:u};var v=s[0].s;for(n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var g=new pn(v+1),b=m1(r[f-1],g,0);if(b>t){n=0;var x=0,_=b-t,w=1<<_;for(s.sort((function(P,N){return g[N.s]-g[P.s]||P.f-N.f}));n<i;++n){var C=s[n].s;if(!(g[C]>t))break;x+=w-(1<<b-g[C]),g[C]=t}for(x>>>=_;x>0;){var S=s[n].s;g[S]<t?x-=1<<t-g[S]++-1:++n}for(;n>=0&&x;--n){var O=s[n].s;g[O]==t&&(--g[O],++x)}b=t}return[new Jn(g),b]},m1=function(e,t,r){return e.s==-1?Math.max(m1(e.l,t,r+1),m1(e.r,t,r+1)):t[e.s]=r},s2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new pn(++t),n=0,i=e[0],s=1,a=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return[r.subarray(0,n),t]},hc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},g1=function(e,t,r){var n=r.length,i=jj(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},a2=function(e,t,r,n,i,s,a,o,u,h,f){ss(t,f++,r),++i[256];for(var p=Ov(i,15),v=p[0],g=p[1],b=Ov(s,15),x=b[0],_=b[1],w=s2(v),C=w[0],S=w[1],O=s2(x),P=O[0],N=O[1],j=new pn(19),R=0;R<C.length;++R)j[31&C[R]]++;for(R=0;R<P.length;++R)j[31&P[R]]++;for(var $=Ov(j,7),L=$[0],U=$[1],W=19;W>4&&!L[n2[W-1]];--W);var Q,Y,V,le,oe=h+5<<3,te=hc(i,_o)+hc(s,Tp)+a,ue=hc(i,v)+hc(s,x)+a+14+3*W+hc(j,L)+(2*j[16]+3*j[17]+7*j[18]);if(oe<=te&&oe<=ue)return g1(t,f,e.subarray(u,u+h));if(ss(t,f,1+(ue<te)),f+=2,ue<te){Q=Hc(v,g),Y=v,V=Hc(x,_),le=x;var D=Hc(L,U);for(ss(t,f,S-257),ss(t,f+5,N-1),ss(t,f+10,W-4),f+=14,R=0;R<W;++R)ss(t,f+3*R,L[n2[R]]);f+=3*W;for(var q=[C,P],X=0;X<2;++X){var F=q[X];for(R=0;R<F.length;++R){var _e=31&F[R];ss(t,f,D[_e]),f+=L[_e],_e>15&&(ss(t,f,F[R]>>>5&127),f+=F[R]>>>12)}}}else Q=F$,Y=_o,V=B$,le=Tp;for(R=0;R<o;++R)if(n[R]>255){_e=n[R]>>>18&31,dc(t,f,Q[_e+257]),f+=Y[_e+257],_e>7&&(ss(t,f,n[R]>>>23&31),f+=cx[_e]);var Te=31&n[R];dc(t,f,V[Te]),f+=le[Te],Te>3&&(dc(t,f,n[R]>>>5&8191),f+=dx[Te])}else dc(t,f,Q[n[R]]),f+=Y[n[R]];return dc(t,f,Q[256]),f+Y[256]},$$=new Ll([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U$=(function(){for(var e=new Ll(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e})(),H$=function(e,t,r,n,i){return(function(s,a,o,u,h,f){var p=s.length,v=new Jn(u+p+5*(1+Math.floor(p/7e3))+h),g=v.subarray(u,v.length-h),b=0;if(!a||p<8)for(var x=0;x<=p;x+=65535){var _=x+65535;_<p?b=g1(g,b,s.subarray(x,_)):(g[x]=f,b=g1(g,b,s.subarray(x,p)))}else{for(var w=$$[a-1],C=w>>>13,S=8191&w,O=(1<<o)-1,P=new pn(32768),N=new pn(O+1),j=Math.ceil(o/3),R=2*j,$=function(cr){return(s[cr]^s[cr+1]<<j^s[cr+2]<<R)&O},L=new Ll(25e3),U=new pn(288),W=new pn(32),Q=0,Y=0,V=(x=0,0),le=0,oe=0;x<p;++x){var te=$(x),ue=32767&x,D=N[te];if(P[ue]=D,N[te]=ue,le<=x){var q=p-x;if((Q>7e3||V>24576)&&q>423){b=a2(s,g,0,L,U,W,Y,V,oe,x-oe,b),V=Q=Y=0,oe=x;for(var X=0;X<286;++X)U[X]=0;for(X=0;X<30;++X)W[X]=0}var F=2,_e=0,Te=S,Ne=ue-D&32767;if(q>2&&te==$(x-Ne))for(var Xe=Math.min(C,q)-1,Ye=Math.min(32767,x),ae=Math.min(258,q);Ne<=Ye&&--Te&&ue!=D;){if(s[x+F]==s[x+F-Ne]){for(var Se=0;Se<ae&&s[x+Se]==s[x+Se-Ne];++Se);if(Se>F){if(F=Se,_e=Ne,Se>Xe)break;var Ge=Math.min(Ne,Se-2),pe=0;for(X=0;X<Ge;++X){var St=x-Ne+X+32768&32767,nt=St-P[St]+32768&32767;nt>pe&&(pe=nt,D=St)}}}Ne+=(ue=D)-(D=P[ue])+32768&32767}if(_e){L[V++]=268435456|p1[F]<<18|i2[_e];var $t=31&p1[F],Ut=31&i2[_e];Y+=cx[$t]+dx[Ut],++U[257+$t],++W[Ut],le=x+F,++Q}else L[V++]=s[x],++U[s[x]]}}b=a2(s,g,f,L,U,W,Y,V,oe,x-oe,b)}return Rj(v,0,u+jj(b)+h)})(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},Nv=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function z$(e,t){t===void 0&&(t={});var r=(function(){var o=4294967295;return{p:function(u){for(var h=o,f=0;f<u.length;++f)h=U$[255&h^u[f]]^h>>>8;o=h},d:function(){return 4294967295^o}}})(),n=e.length;r.p(e);var i,s=H$(e,t,10+((i=t).filename&&i.filename.length+1||0),8),a=s.length;return(function(o,u){var h=u.filename;if(o[0]=31,o[1]=139,o[2]=8,o[8]=u.level<2?4:u.level==9?2:0,o[9]=3,u.mtime!=0&&Nv(o,4,Math.floor(new Date(u.mtime||Date.now())/1e3)),h){o[3]=8;for(var f=0;f<=h.length;++f)o[f+10]=h.charCodeAt(f)}})(s,t),Nv(s,a-8,r.d()),Nv(s,a-4,n),s}var W$=function(e){var t,r,n,i,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<n;i++){var a=e.charCodeAt(i),o=null;a<128?r++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Os(o)||(r>t&&(s+=e.substring(t,r)),s+=o,t=r=i+1)}return r>t&&(s+=e.substring(t,e.length)),s},q$=!!Qb||!!Xb,o2="text/plain",Sp=function(e,t,r){var n;r===void 0&&(r=!0);var[i,s]=e.split("?"),a=Ae({},t),o=(n=s==null?void 0:s.split("&").map((h=>{var f,[p,v]=h.split("="),g=r&&(f=a[p])!==null&&f!==void 0?f:v;return delete a[p],p+"="+g})))!==null&&n!==void 0?n:[],u=X9(a);return u&&o.push(u),i+"?"+o.join("&")},Lc=(e,t)=>JSON.stringify(e,((r,n)=>typeof n=="bigint"?n.toString():n),t),Pv=e=>{var{data:t,compression:r}=e;if(t){if(r===cs.GZipJS){var n=z$((function(u,h){var f=u.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(u);for(var p=new Jn(u.length+(u.length>>>1)),v=0,g=function(w){p[v++]=w},b=0;b<f;++b){if(v+5>p.length){var x=new Jn(v+8+(f-b<<1));x.set(p),p=x}var _=u.charCodeAt(b);_<128||h?g(_):_<2048?(g(192|_>>>6),g(128|63&_)):_>55295&&_<57344?(g(240|(_=65536+(1047552&_)|1023&u.charCodeAt(++b))>>>18),g(128|_>>>12&63),g(128|_>>>6&63),g(128|63&_)):(g(224|_>>>12),g(128|_>>>6&63),g(128|63&_))}return Rj(p,0,v)})(Lc(t)),{mtime:0}),i=new Blob([n],{type:o2});return{contentType:o2,body:i,estimatedSize:i.size}}if(r===cs.Base64){var s=(function(u){var h,f,p,v,g,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=0,_=0,w="",C=[];if(!u)return u;u=W$(u);do h=(g=u.charCodeAt(x++)<<16|u.charCodeAt(x++)<<8|u.charCodeAt(x++))>>18&63,f=g>>12&63,p=g>>6&63,v=63&g,C[_++]=b.charAt(h)+b.charAt(f)+b.charAt(p)+b.charAt(v);while(x<u.length);switch(w=C.join(""),u.length%3){case 1:w=w.slice(0,-2)+"==";break;case 2:w=w.slice(0,-1)+"="}return w})(Lc(t)),a=(u=>"data="+encodeURIComponent(typeof u=="string"?u:Lc(u)))(s);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var o=Lc(t);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},np=[];Xb&&np.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:i,estimatedSize:s}=(t=Pv(e))!==null&&t!==void 0?t:{},a=new Headers;Tt(e.headers,(function(f,p){a.append(p,f)})),n&&a.append("Content-Type",n);var o=e.url,u=null;if(SS){var h=new SS;u={signal:h.signal,timeout:setTimeout((()=>h.abort()),e.timeout)}}Xb(o,Ae({method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(r=u)==null?void 0:r.signal},e.fetchOptions)).then((f=>f.text().then((p=>{var v={statusCode:f.status,text:p};if(f.status===200)try{v.json=JSON.parse(p)}catch(g){Ee.error(g)}e.callback==null||e.callback(v)})))).catch((f=>{Ee.error(f),e.callback==null||e.callback({statusCode:0,text:f})})).finally((()=>u?clearTimeout(u.timeout):null))}}),Qb&&np.push({transport:"XHR",method:e=>{var t,r=new Qb;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:i}=(t=Pv(e))!==null&&t!==void 0?t:{};Tt(e.headers,(function(s,a){r.setRequestHeader(a,s)})),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var s={statusCode:r.status,text:r.responseText};if(r.status===200)try{s.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(s)}},r.send(i)}}),Pn!=null&&Pn.sendBeacon&&np.push({transport:"sendBeacon",method:e=>{var t=Sp(e.url,{beacon:"1"});try{var r,{contentType:n,body:i}=(r=Pv(e))!==null&&r!==void 0?r:{},s=typeof i=="string"?new Blob([i],{type:n}):i;Pn.sendBeacon(t,s)}catch{}}});var Cp=function(e,t){if(!(function(r){try{new RegExp(r)}catch{return!1}return!0})(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function l2(e,t,r){return Lc({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var Dj={exact:(e,t)=>t.some((r=>e.some((n=>r===n)))),is_not:(e,t)=>t.every((r=>e.every((n=>r!==n)))),regex:(e,t)=>t.some((r=>e.some((n=>Cp(r,n))))),not_regex:(e,t)=>t.every((r=>e.every((n=>!Cp(r,n))))),icontains:(e,t)=>t.map(bf).some((r=>e.map(bf).some((n=>r.includes(n))))),not_icontains:(e,t)=>t.map(bf).every((r=>e.map(bf).every((n=>!r.includes(n)))))},bf=e=>e.toLowerCase();function Lj(e,t){return!e||Object.entries(e).every((r=>{var[n,i]=r,s=t==null?void 0:t[n];if(xe(s)||Os(s))return!1;var a=[String(s)],o=Dj[i.operator];return!!o&&o(i.values,a)}))}var Iv=ir("[Error tracking]");class V${constructor(t){var r,n;this.Jt=[],this.Kt=new g9([new T9,new R9,new C9,new S9,new I9,new P9,new O9,new j9],k9("web:javascript",_9,E9)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(n1))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,i,s=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],a=(i=t.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[n1]:this.Jt,[MS]:a})}get Yt(){var t,r=!!this._instance.get_property(MS),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void Iv.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void Iv.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void Iv.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce(((n,i)=>{var{type:s,value:a}=i;return nr(s)&&s.length>0&&n.$exception_types.push(s),nr(a)&&a.length>0&&n.$exception_values.push(a),n}),{$exception_types:[],$exception_values:[]});return this.Jt.some((n=>{var i=n.values.map((s=>{var a,o=Dj[s.operator],u=yt(s.value)?s.value:[s.value],h=(a=r[s.key])!==null&&a!==void 0?a:[];return u.length>0&&o(u,h)}));return n.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(t){return t.flatMap((r=>{var n,i;return(n=(i=r.stacktrace)==null?void 0:i.frames)!==null&&n!==void 0?n:[]})).some((r=>r.filename&&r.filename.startsWith("chrome-extension://")))}ti(t){if(t.length>0){var r,n,i,s,a=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],o=a[a.length-1];return(i=o==null||(s=o.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(t){return!vt(t)&&yt(t)}}var mi=ir("[FeatureFlags]"),fc=ir("[FeatureFlags]",{debugEnabled:!0}),jv="$active_feature_flags",sl="$override_feature_flags",u2="$feature_flag_payloads",pc="$override_feature_flag_payloads",c2="$feature_flag_request_id",d2="$feature_flag_evaluated_at",h2=e=>{var t={};for(var[r,n]of rp(e||{}))n&&(t[r]=n);return t},K$=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((r=>t[r].enabled)).filter((r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload})).map((r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]})))):mi.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},Y$=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class G${constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter((r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||mi.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.vi({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(i1),r=this._instance.get_property(sl),n=this._instance.get_property(pc);if(!n&&!r)return t||{};var i=Vt({},t||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var a of s){var o,u,h=i[a],f=r==null?void 0:r[a],p=xe(f)?(o=h==null?void 0:h.enabled)!==null&&o!==void 0&&o:!!f,v=xe(f)?h.variant:typeof f=="string"?f:void 0,g=n==null?void 0:n[a],b=Ae({},h,{enabled:p,variant:p?v??(h==null?void 0:h.variant):void 0});p!==(h==null?void 0:h.enabled)&&(b.original_enabled=h==null?void 0:h.enabled),v!==(h==null?void 0:h.variant)&&(b.original_variant=h==null?void 0:h.variant),g&&(b.metadata=Ae({},h==null?void 0:h.metadata,{payload:g,original_payload:h==null||(u=h.metadata)==null?void 0:u.payload})),i[a]=b}return this.ii||(mi.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var t=this._instance.get_property(kl),r=this._instance.get_property(sl);if(!r)return t||{};for(var n=Vt({},t),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(mi.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(u2),r=this._instance.get_property(pc);if(!r)return t||{};for(var n=Vt({},t||{}),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(mi.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.vi()}),5))}di(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}vi(t){var r;if(this.di(),!this._instance.O())if(this.ri)this.ni=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Ae({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Rc)||{}),group_properties:this._instance.get_property(eo)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0),this.ui()&&(n.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,s=i?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",o=this._instance.requestRouter.endpointFor("flags",s+a);i&&(n.timezone=Oj()),this.ri=!0,this._instance.ci({method:"POST",url:o,data:n,compression:this._instance.config.disable_compression?void 0:cs.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:u=>{var h,f,p=!0;if(u.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),p=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((f=u.json)!==null&&f!==void 0?f:{})),!n.disable_flags||this.ni)if(this.ai=!p,u.json&&(h=u.json.quotaLimited)!=null&&h.includes(Y$.FeatureFlags))mi.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;n.disable_flags||this.receivedFeatureFlags((v=u.json)!==null&&v!==void 0?v:{},p),this.ni&&(this.ni=!1,this.vi())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],i=""+n,s=this._instance.get_property(c2)||void 0,a=this._instance.get_property(d2)||void 0,o=this._instance.get_property(gp)||{};if((r.send_event||!("send_event"in r))&&(!(t in o)||!o[t].includes(i))){var u,h,f,p,v,g,b,x,_;yt(o[t])?o[t].push(i):o[t]=[i],(u=this._instance.persistence)==null||u.register({[gp]:o});var w=this.getFeatureFlagDetails(t),C={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_evaluated_at:a,$feature_flag_bootstrapped_response:((h=this._instance.config.bootstrap)==null||(h=h.featureFlags)==null?void 0:h[t])||null,$feature_flag_bootstrapped_payload:((f=this._instance.config.bootstrap)==null||(f=f.featureFlagPayloads)==null?void 0:f[t])||null,$used_bootstrap_value:!this.ai};xe(w==null||(p=w.metadata)==null?void 0:p.version)||(C.$feature_flag_version=w.metadata.version);var S,O=(v=w==null||(g=w.reason)==null?void 0:g.description)!==null&&v!==void 0?v:w==null||(b=w.reason)==null?void 0:b.code;O&&(C.$feature_flag_reason=O),w!=null&&(x=w.metadata)!=null&&x.id&&(C.$feature_flag_id=w.metadata.id),xe(w==null?void 0:w.original_variant)&&xe(w==null?void 0:w.original_enabled)||(C.$feature_flag_original_response=xe(w.original_variant)?w.original_enabled:w.original_variant),w!=null&&(_=w.metadata)!=null&&_.original_payload&&(C.$feature_flag_original_payload=w==null||(S=w.metadata)==null?void 0:S.original_payload),this._instance.capture("$feature_flag_called",C)}return n}mi.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:cs.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var a,o=(a=s.json)==null?void 0:a.featureFlagPayloads;r((o==null?void 0:o[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return xe(n)?void 0:!!n}mi.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((r=>r!==t))}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),i=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(a,o,u,h,f){u===void 0&&(u={}),h===void 0&&(h={}),f===void 0&&(f={});var p=K$(a),v=p.flags,g=p.featureFlags,b=p.featureFlagPayloads;if(g){var x=a.requestId,_=a.evaluatedAt;if(yt(g)){mi.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(g)for(var C=0;C<g.length;C++)w[g[C]]=!0;o&&o.register({[jv]:g,[kl]:w})}else{var S=g,O=b,P=v;a.errorsWhileComputingFlags&&(S=Ae({},u,S),O=Ae({},h,O),P=Ae({},f,P)),o&&o.register(Ae({[jv]:Object.keys(h2(S)),[kl]:S||{},[u2]:O||{},[i1]:P||{}},x?{[c2]:x}:{},_?{[d2]:_}:{}))}}})(t,this._instance.persistence,n,i,s),this.pi(r)}}override(t,r){r===void 0&&(r=!1),mi.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return mi.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(sl),this._instance.persistence.unregister(pc),this.pi(),fc.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(sl),fc.info("Flag overrides cleared");else if(n.flags){if(yt(n.flags)){for(var i={},s=0;s<n.flags.length;s++)i[n.flags[s]]=!0;this._instance.persistence.register({[sl]:i})}else this._instance.persistence.register({[sl]:n.flags});fc.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(pc),fc.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[pc]:n.payloads}),fc.info("Payload overrides set",{payloads:n.payloads}))),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.gi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var i,s=(this._instance.get_property(jc)||[]).find((h=>h.flagKey===t)),a={["$feature_enrollment/"+t]:r},o={$feature_flag:t,$feature_enrollment:r,$set:a};s&&(o.$early_access_feature_name=s.name),n&&(o.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",o),this.setPersonPropertiesForFlags(a,!1);var u=Ae({},this.getFlagVariants(),{[t]:r});(i=this._instance.persistence)==null||i.register({[jv]:Object.keys(h2(u)),[kl]:u}),this.pi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var i=this._instance.get_property(jc),s=n?"&"+n.map((a=>"stage="+a)).join("&"):"";if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:a=>{var o,u;if(a.json){var h=a.json.earlyAccessFeatures;return(o=this._instance.persistence)==null||o.unregister(jc),(u=this._instance.persistence)==null||u.register({[jc]:h}),t(h)}}})}gi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter((n=>r[n])),flagVariants:Object.keys(r).filter((n=>r[n])).reduce(((n,i)=>(n[i]=r[i],n)),{})}}pi(t){var{flags:r,flagVariants:n}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(r,n,{errorsLoading:t})))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Rc)||{};this._instance.register({[Rc]:Ae({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Rc)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(eo)||{};Object.keys(n).length!==0&&Object.keys(n).forEach((i=>{n[i]=Ae({},n[i],t[i]),delete t[i]})),this._instance.register({[eo]:Ae({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(eo)||{};this._instance.register({[eo]:Ae({},r,{[t]:{}})})}else this._instance.unregister(eo)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.di(),this.ii=!1}}var X$=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Rv{constructor(t,r){this.F=t,this.props={},this.mi=!1,this.yi=(n=>{var i="";return n.token&&(i=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+i+"_posthog"})(t),this.Y=this.bi(t),this.load(),t.debug&&Ee.info("Persistence loaded",t.persistence,Ae({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.wi}bi(t){X$.indexOf(t.persistence.toLowerCase())===-1&&(Ee.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Bt.H()?Bt:r==="localstorage+cookie"&&mf.H()?mf:r==="sessionstorage"&&Cr.H()?Cr:r==="memory"?o$:r==="cookie"?zi:mf.H()?mf:zi}properties(){var t={};return Tt(this.props,(function(r,n){if(n===kl&&gr(r))for(var i=Object.keys(r),s=0;s<i.length;s++)t["$feature/"+i[s]]=r[i[s]];else o=n,u=!1,(Os(a=$9)?u:TS&&a.indexOf===TS?a.indexOf(o)!=-1:(Tt(a,(function(h){if(u||(u=h===o))return pp})),u))||(t[n]=r);var a,o,u})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Vt({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.Si,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(gr(t)){xe(r)&&(r="None"),this.xi=xe(n)?this.$i:n;var i=!1;if(Tt(t,((s,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==r||(this.props[a]=s,i=!0)})),i)return this.save(),!0}return!1}register(t,r){if(gr(t)){this.xi=xe(r)?this.$i:r;var n=!1;if(Tt(t,((i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,n=!0)})),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=Ej(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);El(rx(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=we==null?void 0:we.referrer)?Tj(t):{})}update_referrer_info(){var t;this.register_once({$referrer:Sj(),$referring_domain:we!=null&&we.referrer&&((t=_p(we.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[l1]||this.props[u1]||this.register_once({[vp]:Cj(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Tt([u1,l1],(a=>{var o=this.props[a];o&&Tt(o,(function(u,h){t["$initial_"+Jb(h)]=u}))}));var r,n,i=this.props[vp];if(i){var s=(r=Aj(i),n={},Tt(r,(function(a,o){n["$initial_"+Jb(o)]=a})),n);Vt(t,s)}return t}safe_merge(t){return Tt(this.props,(function(r,n){n in t||(t[n]=r)})),t}update_config(t,r,n){if(this.$i=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var i=this.bi(t),s=this.props;this.clear(),this.Y=i,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Ic]||{};n[t]=r,this.props[Ic]=n,this.save()}remove_event_timer(t){var r=(this.props[Ic]||{})[t];return xe(r)||(delete this.props[Ic][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var mc=(function(e){return e.Activation="events",e.Cancellation="cancelEvents",e})({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var Dv=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var ip=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),f2=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),Mj=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class hx{constructor(){this.ki={},this.ki={}}on(t,r){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(r),()=>{this.ki[t]=this.ki[t].filter((n=>n!==r))}}emit(t,r){for(var n of this.ki[t]||[])n(r);for(var i of this.ki["*"]||[])i(t,r)}}function al(e,t,r){if(vt(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class Q${constructor(t){this.Pi=new hx,this.Ti=(r,n)=>this.Ri(r,n)&&this.Ii(r,n)&&this.Fi(r,n)&&this.Ci(r,n),this.Ri=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.Mi=new Set,this.Oi=new Set}init(){var t;if(!xe((t=this._instance)==null?void 0:t.Ai)){var r;(r=this._instance)==null||r.Ai(((n,i)=>{this.on(n,i)}))}}register(t){var r,n;if(!xe((r=this._instance)==null?void 0:r.Ai)&&(t.forEach((a=>{var o,u;(o=this.Oi)==null||o.add(a),(u=a.steps)==null||u.forEach((h=>{var f;(f=this.Mi)==null||f.add((h==null?void 0:h.event)||"")}))})),(n=this._instance)!=null&&n.autocapture)){var i,s=new Set;t.forEach((a=>{var o;(o=a.steps)==null||o.forEach((u=>{u!=null&&u.selector&&s.add(u==null?void 0:u.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(s)}}on(t,r){var n;r!=null&&t.length!=0&&(this.Mi.has(t)||this.Mi.has(r==null?void 0:r.event))&&this.Oi&&((n=this.Oi)==null?void 0:n.size)>0&&this.Oi.forEach((i=>{this.Di(r,i)&&this.Pi.emit("actionCaptured",i.name)}))}ji(t){this.onAction("actionCaptured",(r=>t(r)))}Di(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Ti(t,n))return!0;return!1}onAction(t,r){return this.Pi.on(t,r)}Ii(t,r){if(r!=null&&r.url){var n,i=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!i||typeof i!="string"||!al(i,r.url,r.url_matching||"contains"))return!1}return!0}Fi(t,r){return!!this.Li(t,r)&&!!this.Ni(t,r)&&!!this.Ui(t,r)}Li(t,r){var n;if(r==null||!r.href)return!0;var i=this.zi(t);if(i.length>0)return i.some((o=>al(o.href,r.href,r.href_matching||"exact")));var s,a=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!a&&al((s=a.match(/(?::|")href="(.*?)"/))?s[1]:"",r.href,r.href_matching||"exact")}Ni(t,r){var n;if(r==null||!r.text)return!0;var i=this.zi(t);if(i.length>0)return i.some((h=>al(h.text,r.text,r.text_matching||"exact")||al(h.$el_text,r.text,r.text_matching||"exact")));var s,a,o,u=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!u&&(s=(function(h){for(var f,p=[],v=/(?::|")text="(.*?)"/g;!vt(f=v.exec(h));)p.includes(f[1])||p.push(f[1]);return p})(u),a=r.text,o=r.text_matching||"exact",s.some((h=>al(h,a,o))))}Ui(t,r){var n,i;if(r==null||!r.selector)return!0;var s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(s!=null&&s.includes(r.selector))return!0;var a=(t==null||(i=t.properties)==null?void 0:i.$elements_chain)||"";if(r.selector_regex&&a)try{return new RegExp(r.selector_regex).test(a)}catch{return!1}return!1}zi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Ci(t,r){return r==null||!r.properties||r.properties.length===0||Lj(r.properties.reduce(((n,i)=>{var s=yt(i.value)?i.value.map(String):i.value!=null?[String(i.value)]:[];return n[i.key]={values:s,operator:i.operator||"exact"},n}),{}),t==null?void 0:t.properties)}}var ht=ir("[Surveys]"),v1="seenSurvey_",J$=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},p2=e=>{var t=""+v1+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+v1+e.id+"_"+e.current_iteration),t},Z$=[Dv.Popover,Dv.Widget,Dv.API],eU={ignoreConditions:!1,ignoreDelay:!1,displayType:Mj.Popover};let tU=class{constructor(t){this._instance=t,this.Hi=new Map,this.Bi=new Map,this.qi=new Map}Wi(t,r){return!!t&&Lj(t.propertyFilters,r==null?void 0:r.properties)}Gi(t,r){var n=new Map;return t.forEach((i=>{var s;(s=i.conditions)==null||(s=s[r])==null||(s=s.values)==null||s.forEach((a=>{if(a!=null&&a.name){var o=n.get(a.name)||[];o.push(i.id),n.set(a.name,o)}}))})),n}Vi(t,r,n){var i,s=(n===mc.Activation?this.Hi:this.Bi).get(t),a=[];return(i=this._instance)==null||i.getSurveys((o=>{a=o.filter((u=>s==null?void 0:s.includes(u.id)))})),a.filter((o=>{var u,h=(u=o.conditions)==null||(u=u[n])==null||(u=u.values)==null?void 0:u.find((f=>f.name===t));return this.Wi(h,r)}))}register(t){var r;xe((r=this._instance)==null?void 0:r.Ai)||(this.Ji(t),this.Ki(t))}Ki(t){var r=t.filter((n=>{var i,s;return((i=n.conditions)==null?void 0:i.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0}));r.length!==0&&(this.Yi==null&&(this.Yi=new Q$(this._instance),this.Yi.init(),this.Yi.ji((n=>{this.onAction(n)}))),r.forEach((n=>{var i,s,a,o,u;n.conditions&&(i=n.conditions)!=null&&i.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0&&((o=this.Yi)==null||o.register(n.conditions.actions.values),(u=n.conditions)==null||(u=u.actions)==null||(u=u.values)==null||u.forEach((h=>{if(h&&h.name){var f=this.qi.get(h.name);f&&f.push(n.id),this.qi.set(h.name,f||[n.id])}})))})))}Ji(t){var r,n=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.events)&&((o=s.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0})),i=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.cancelEvents)&&((o=s.conditions)==null||(o=o.cancelEvents)==null||(o=o.values)==null?void 0:o.length)>0}));(n.length!==0||i.length!==0)&&((r=this._instance)==null||r.Ai(((s,a)=>{this.onEvent(s,a)})),this.Hi=this.Gi(t,mc.Activation),this.Bi=this.Gi(t,mc.Cancellation))}onEvent(t,r){var n,i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[pf])||[];if(ip.SHOWN===t&&r&&i.length>0){var s;ht.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:i});var a=r==null||(s=r.properties)==null?void 0:s.$survey_id;if(a){var o=i.indexOf(a);o>=0&&(i.splice(o,1),this.Xi(i))}}else{if(this.Bi.has(t)){var u=this.Vi(t,r,mc.Cancellation);u.length>0&&(ht.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:u.map((f=>f.id))}),u.forEach((f=>{var p,v=i.indexOf(f.id);v>=0&&i.splice(v,1),(p=this._instance)==null||p.cancelPendingSurvey(f.id)})),this.Xi(i))}if(this.Hi.has(t)){ht.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Hi.get(t)});var h=this.Vi(t,r,mc.Activation);this.Xi(i.concat(h.map((f=>f.id))||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[pf])||[];this.qi.has(t)&&this.Xi(n.concat(this.qi.get(t)||[]))}Xi(t){var r;ht.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[pf]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[pf];return r||[]}getEventToSurveys(){return this.Hi}Qi(){return this.Yi}};class rU{constructor(t){this.Zi=void 0,this._surveyManager=null,this.te=!1,this.ie=!1,this.ee=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(vt(r))return ht.warn("Flags not loaded yet. Not loading surveys.");var n=yt(r);this.Zi=n?r.length>0:r,ht.info("flags response received, isSurveysEnabled: "+this.Zi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(v1)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.ie)ht.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)ht.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())ht.info("Not loading surveys in cookieless mode without consent.");else{var t=Ke==null?void 0:Ke.__PosthogExtensions__;if(t){if(!xe(this.Zi)||this._instance.config.advanced_enable_surveys){var r=this.Zi||this._instance.config.advanced_enable_surveys;this.ie=!0;try{var n=t.generateSurveys;if(n)return void this.re(n,r);var i=t.loadExternalDependency;if(!i)return void this.se("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(s=>{s||!t.generateSurveys?this.se("Could not load surveys script",s):this.re(t.generateSurveys,r)}))}catch(s){throw this.se("Error initializing surveys",s),s}finally{this.ie=!1}}}else ht.error("PostHog Extensions not found.")}}re(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new tU(this._instance),ht.info("Surveys loaded successfully"),this.ne({isLoaded:!0})}se(t,r){ht.error(t,r),this.ne({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.ee.push(t),this._surveyManager&&this.ne({isLoaded:!0}),()=>{this.ee=this.ee.filter((r=>r!==t))}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return ht.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(s1);if(n&&!r)return t(n,{isLoaded:!0});if(this.te)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.te=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var s;this.te=!1;var a=i.statusCode;if(a!==200||!i.json){var o="Surveys API could not be loaded, status: "+a;return ht.error(o),t([],{isLoaded:!1,error:o})}var u,h=i.json.surveys||[],f=h.filter((p=>(function(v){return!(!v.start_date||v.end_date)})(p)&&((function(v){var g;return!((g=v.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)})(p)||(function(v){var g;return!((g=v.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)})(p))));return f.length>0&&((u=this._surveyEventReceiver)==null||u.register(f)),(s=this._instance.persistence)==null||s.register({[s1]:h}),t(h,{isLoaded:!0})}})}catch(i){throw this.te=!1,i}}ne(t){for(var r of this.ee)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){ht.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!vt(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);ht.warn("init was not called")}oe(t){var r=null;return this.getSurveys((n=>{var i;r=(i=n.find((s=>s.id===t)))!==null&&i!==void 0?i:null})),r}ae(t){if(vt(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.oe(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(vt(this._surveyManager))return ht.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.ae(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return vt(this._surveyManager)?(ht.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((n=>{this.getSurveys((i=>{var s,a=(s=i.find((u=>u.id===t)))!==null&&s!==void 0?s:null;if(a){var o=this.ae(a);n({visible:o.eligible,disabledReason:o.reason})}else n({visible:!1,disabledReason:"Survey not found"})}),r)}))}renderSurvey(t,r){var n;if(vt(this._surveyManager))ht.warn("init was not called");else{var i=typeof t=="string"?this.oe(t):t;if(i!=null&&i.id)if(Z$.includes(i.type)){var s=we==null?void 0:we.querySelector(r);if(s)return(n=i.appearance)!=null&&n.surveyPopupDelaySeconds?(ht.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var a,o;ht.info("Rendering survey "+i.id+" with delay of "+((a=i.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(o=this._surveyManager)==null||o.renderSurvey(i,s),ht.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,s);ht.warn("Survey element not found")}else ht.warn("Surveys of type "+i.type+" cannot be rendered in the app");else ht.warn("Survey not found")}}displaySurvey(t,r){var n;if(vt(this._surveyManager))ht.warn("init was not called");else{var i=this.oe(t);if(i){var s=i;if((n=i.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(s=Ae({},i,{appearance:Ae({},i.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var a=this.canRenderSurvey(i);if(!a.visible)return void ht.warn("Survey is not eligible to be displayed: ",a.disabledReason)}r.displayType!==Mj.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,r.selector)}else ht.warn("Survey not found")}}cancelPendingSurvey(t){vt(this._surveyManager)?ht.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var m2=ir("[RateLimiter]");class nU{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach((a=>{m2.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4}))}catch(a){return void m2.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:s})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,i;t===void 0&&(t=!1);var s=new Date().getTime(),a=(r=(n=this.instance.persistence)==null?void 0:n.get_property(o1))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||t||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(i=this.instance.persistence)==null||i.set_property(o1,a),{isRateLimited:o,remainingTokens:a.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Xa=ir("[RemoteConfig]");class iU{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=Ke._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}le(t){var r,n;(r=Ke.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=Ke.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",(()=>t(this.remoteConfig))):(Xa.error("PostHog Extensions not found. Cannot load remote config."),t())}ue(t){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return Xa.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.O())return void Xa.warn("Remote config is disabled. Falling back to local config.");this.le((t=>{if(!t)return Xa.info("No config found after loading remote JS config. Falling back to JSON."),void this.ue((r=>{this.fi(r)}));this.fi(t)}))}catch(t){Xa.error("Error loading remote config",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Xa.info("__preview_remote_config is disabled. Logging config instead",t):Xa.error("Failed to fetch remote config from PostHog.")}}var y1=3e3;class sU{constructor(t,r){this.he=!0,this.ve=[],this.de=Bi((r==null?void 0:r.flush_interval_ms)||y1,250,5e3,Ee.createLogger("flush interval"),y1),this.ce=t}enqueue(t){this.ve.push(t),this.fe||this.pe()}unload(){this.ge();var t=this.ve.length>0?this._e():{},r=Object.values(t);[...r.filter((n=>n.url.indexOf("/e")===0)),...r.filter((n=>n.url.indexOf("/e")!==0))].map((n=>{this.ce(Ae({},n,{transport:"sendBeacon"}))}))}enable(){this.he=!1,this.pe()}pe(){var t=this;this.he||(this.fe=setTimeout((()=>{if(this.ge(),this.ve.length>0){var r=this._e(),n=function(){var s=r[i],a=new Date().getTime();s.data&&yt(s.data)&&Tt(s.data,(o=>{o.offset=Math.abs(o.timestamp-a),delete o.timestamp})),t.ce(s)};for(var i in r)n()}}),this.de))}ge(){clearTimeout(this.fe),this.fe=void 0}_e(){var t={};return Tt(this.ve,(r=>{var n,i=r,s=(i?i.batchKey:null)||i.url;xe(t[s])&&(t[s]=Ae({},i,{data:[]})),(n=t[s].data)==null||n.push(i.data)})),this.ve=[],t}}var aU=["retriesPerformedSoFar"];class oU{constructor(t){this.me=!1,this.ye=3e3,this.ve=[],this._instance=t,this.ve=[],this.be=!0,!xe(ie)&&"onLine"in ie.navigator&&(this.be=ie.navigator.onLine,this.we=()=>{this.be=!0,this.Dt()},this.xe=()=>{this.be=!1},Qt(ie,"online",this.we),Qt(ie,"offline",this.xe))}get length(){return this.ve.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=II(t,aU);qi(r)&&r>0&&(n.url=Sp(n.url,{retry_count:r})),this._instance.ci(Ae({},n,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(r??0)<10?this.Se(Ae({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(i)}}))}Se(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=(function(a){var o=3e3*Math.pow(2,a),u=o/2,h=Math.min(18e5,o),f=(Math.random()-.5)*(h-u);return Math.ceil(h+f)})(r),i=Date.now()+n;this.ve.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),Ee.warn(s),this.me||(this.me=!0,this.Ee())}Ee(){if(this.$e&&clearTimeout(this.$e),this.ve.length===0)return this.me=!1,void(this.$e=void 0);this.$e=setTimeout((()=>{this.be&&this.ve.length>0&&this.Dt(),this.Ee()}),this.ye)}Dt(){var t=Date.now(),r=[],n=this.ve.filter((s=>s.retryAt<t||(r.push(s),!1)));if(this.ve=r,n.length>0)for(var{requestOptions:i}of n)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.$e&&(clearTimeout(this.$e),this.$e=void 0),this.me=!1,xe(ie)||(this.we&&(ie.removeEventListener("online",this.we),this.we=void 0),this.xe&&(ie.removeEventListener("offline",this.xe),this.xe=void 0)),this.ve))try{this._instance.ci(Ae({},t,{transport:"sendBeacon"}))}catch(r){Ee.error(r)}this.ve=[]}}class lU{constructor(t){this.ke=()=>{var r,n,i,s;this.Pe||(this.Pe={});var a=this.scrollElement(),o=this.scrollY(),u=a?Math.max(0,a.scrollHeight-a.clientHeight):0,h=o+((a==null?void 0:a.clientHeight)||0),f=(a==null?void 0:a.scrollHeight)||0;this.Pe.lastScrollY=Math.ceil(o),this.Pe.maxScrollY=Math.max(o,(r=this.Pe.maxScrollY)!==null&&r!==void 0?r:0),this.Pe.maxScrollHeight=Math.max(u,(n=this.Pe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Pe.lastContentY=h,this.Pe.maxContentY=Math.max(h,(i=this.Pe.maxContentY)!==null&&i!==void 0?i:0),this.Pe.maxContentHeight=Math.max(f,(s=this.Pe.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=t}getContext(){return this.Pe}resetContext(){var t=this.Pe;return setTimeout(this.ke,0),t}startMeasuringScrollPosition(){Qt(ie,"scroll",this.ke,{capture:!0}),Qt(ie,"scrollend",this.ke,{capture:!0}),Qt(ie,"resize",this.ke)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ie==null?void 0:ie.document.documentElement;var t=yt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ie==null?void 0:ie.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ie&&(ie.scrollY||ie.pageYOffset||ie.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ie&&(ie.scrollX||ie.pageXOffset||ie.document.documentElement.scrollLeft)||0}}var uU=e=>Cj(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class g2{constructor(t,r,n,i){this.Te=s=>{var a=this.Re();if(!a||a.sessionId!==s){var o={sessionId:s,props:this.Ie(this._instance)};this.Fe.register({[a1]:o})}},this._instance=t,this.Ce=r,this.Fe=n,this.Ie=i||uU,this.Ce.onSessionId(this.Te)}Re(){return this.Fe.props[a1]}getSetOnceProps(){var t,r=(t=this.Re())==null?void 0:t.props;return r?"r"in r?Aj(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return Tt(rx(this.getSetOnceProps()),((r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+Jb(n)]=r})),t}}var Lv=ir("[SessionId]");class v2{on(t,r){return this.Me.on(t,r)}constructor(t,r,n){var i;if(this.Oe=[],this.Ae=void 0,this.Me=new hx,this.De=(f,p)=>Math.abs(f-p)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=t.config,this.Fe=t.persistence,this.je=void 0,this.Le=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ne=r||va,this.Ue=n||va;var s=this.F.persistence_name||this.F.token,a=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Bi(a,60,36e3,Lv.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.ze(),this.He="ph_"+s+"_window_id",this.Be="ph_"+s+"_primary_window_exists",this.qe()){var o=Cr.W(this.He),u=Cr.W(this.Be);o&&!u?this.je=o:Cr.V(this.He),Cr.G(this.Be,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var h=(f=>{var p=f.replace(/-/g,"");if(p.length!==32)throw new Error("Not a valid UUID");if(p[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(p.substring(0,12),16)})(this.F.bootstrap.sessionID);this.We(this.F.bootstrap.sessionID,new Date().getTime(),h)}catch(f){Lv.error("Invalid sessionID in bootstrap",f)}this.Ge()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return xe(this.Oe)&&(this.Oe=[]),this.Oe.push(t),this.Le&&t(this.Le,this.je),()=>{this.Oe=this.Oe.filter((r=>r!==t))}}qe(){return this.F.persistence!=="memory"&&!this.Fe.wi&&Cr.H()}Ve(t){t!==this.je&&(this.je=t,this.qe()&&Cr.G(this.He,t))}Je(){return this.je?this.je:this.qe()?Cr.W(this.He):null}We(t,r,n){t===this.Le&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.Le=t,this.Fe.register({[mp]:[r,t,n]}))}Ke(){var t=this.Fe.props[mp];return yt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.We(null,null,null)}destroy(){clearTimeout(this.Ye),this.Ye=void 0,this.Ae&&ie&&(ie.removeEventListener("beforeunload",this.Ae,{capture:!1}),this.Ae=void 0),this.Oe=[]}Ge(){this.Ae=()=>{this.qe()&&Cr.V(this.Be)},Qt(ie,"beforeunload",this.Ae,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[i,s,a]=this.Ke(),o=this.Je(),u=qi(a)&&a>0&&Math.abs(n-a)>864e5,h=!1,f=!s,p=!f&&!t&&this.De(n,i);f||p||u?(s=this.Ne(),o=this.Ue(),Lv.info("new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:u}}),a=n,h=!0):o||(o=this.Ue(),h=!0);var v=i===0||!t||u?n:i,g=a===0?new Date().getTime():a;return this.Ve(o),this.We(s,v,g),t||this.ze(),h&&this.Oe.forEach((b=>b(s,o,h?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:u}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:g,changeReason:h?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:u}:void 0,lastActivityTimestamp:i}}ze(){clearTimeout(this.Ye),this.Ye=setTimeout((()=>{var[t]=this.Ke();if(this.De(new Date().getTime(),t)){var r=this.Le;this.resetSessionId(),this.Me.emit("forcedIdleReset",{idleSessionId:r})}}),1.1*this.sessionTimeoutMs)}}var cU=["$set_once","$set"],aa=ir("[SiteApps]");class dU{constructor(t){this._instance=t,this.Xe=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Qe(t,r){if(r){var n=this.globalsForEvent(r);this.Xe.push(n),this.Xe.length>1e3&&(this.Xe=this.Xe.slice(10))}}get siteAppLoaders(){var t;return(t=Ke._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ai(this.Qe.bind(this));this.Ze=()=>{t(),this.Xe=[],this.Ze=void 0}}}globalsForEvent(t){var r,n,i,s,a,o,u;if(!t)throw new Error("Event payload is required");var h={},f=this._instance.get_property("$groups")||[],p=this._instance.get_property("$stored_group_properties")||{};for(var[v,g]of Object.entries(p))h[v]={id:f[v],type:v,properties:g};var{$set_once:b,$set:x}=t;return{event:Ae({},II(t,cU),{properties:Ae({},t.properties,x?{$set:Ae({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},x)}:{},b?{$set_once:Ae({},(i=(s=t.properties)==null?void 0:s.$set_once)!==null&&i!==void 0?i:{},b)}:{}),elements_chain:(a=(o=t.properties)==null?void 0:o.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(u=t.properties)==null?void 0:u.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:h}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var o;!r.errored&&this.Xe.length&&(aa.info("Processing "+this.Xe.length+" events for site app with id "+t.id),this.Xe.forEach((u=>r.processEvent==null?void 0:r.processEvent(u))),r.processedBuffer=!0),Object.values(this.apps).every((u=>u.processedBuffer||u.errored))&&((o=this.Ze)==null||o.call(this))},i=!1,s=o=>{r.errored=!o,r.loaded=!0,aa.info("Site app with id "+t.id+" "+(o?"loaded":"errored")),i&&n()};try{var{processEvent:a}=t.init({posthog:this._instance,callback:o=>{s(o)}});a&&(r.processEvent=a),i=!0}catch(o){aa.error("Error while initializing PostHog app with config id "+t.id,o),s(!1)}if(i&&r.loaded)try{n()}catch(o){aa.error("Error while processing buffered events PostHog app with config id "+t.id,o),r.errored=!0}}tr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ir(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(i){aa.error("Error while processing event "+t.event+" for site app "+n.id,i)}}}onRemoteConfig(t){var r,n,i,s=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.tr(),void this._instance.on("eventCaptured",(h=>this.ir(h)))):void aa.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.Ze)==null||n.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var a=function(h){var f;Ke["__$$ph_site_app_"+h]=s._instance,(f=Ke.__PosthogExtensions__)==null||f.loadSiteApp==null||f.loadSiteApp(s._instance,u,(p=>{if(p)return aa.error("Error while initializing PostHog app with config id "+h,p)}))};for(var{id:o,url:u}of t.siteApps)a(o)}else aa.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var Fj=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&OS(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some((i=>OS(i==null?void 0:i.brand,t))))return!0}catch{}return!!e.webdriver},Mc=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),y2="i.posthog.com";class hU{constructor(t){this.er={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+y2,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.er[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=Mc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=Mc.EU:this.er[this.apiHost]=Mc.CUSTOM),this.er[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Mc.CUSTOM)return this.apiHost+r;var n=y2+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var fU={icontains:(e,t)=>!!ie&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ie&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ie&&Cp(t.href,e),not_regex:(e,t)=>!!ie&&!Cp(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Lr{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments((i=>{Lr.rr("retrieved web experiments from the server"),r.sr=new Map,i.forEach((s=>{if(s.feature_flag_key){var a;r.sr&&(Lr.rr("setting flag key ",s.feature_flag_key," to web experiment ",s),(a=r.sr)==null||a.set(s.feature_flag_key,s));var o=r._instance.getFeatureFlag(s.feature_flag_key);nr(o)&&s.variants[o]&&r.nr(s.name,o,s.variants[o].transforms)}else if(s.variants)for(var u in s.variants){var h=s.variants[u];Lr.ar(h)&&r.nr(s.name,u,h.transforms)}}))}),n)},this._instance=t,this._instance.onFeatureFlags((n=>{this.onFeatureFlags(n)}))}onFeatureFlags(t){if(this._is_bot())Lr.rr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(vt(this.sr))return this.sr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Lr.rr("applying feature flags",t),t.forEach((r=>{var n;if(this.sr&&(n=this.sr)!=null&&n.has(r)){var i,s=this._instance.getFeatureFlag(r),a=(i=this.sr)==null?void 0:i.get(r);s&&a!=null&&a.variants[s]&&this.nr(a.name,s,a.variants[s].transforms)}}))}}previewWebExperiment(){var t=Lr.getWindowLocation();if(t!=null&&t.search){var r=xp(t==null?void 0:t.search,"__experiment_id"),n=xp(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Lr.rr("previewing web experiments "+r+" && "+n),this.getWebExperiments((i=>{this.lr(parseInt(r),n,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var a=s.json.experiments||[];return t(a)}})}lr(t,r,n){var i=n.filter((s=>s.id===t));i&&i.length>0&&(Lr.rr("Previewing web experiment ["+i[0].name+"] with variant ["+r+"]"),this.nr(i[0].name,r,i[0].variants[r].transforms))}static ar(t){return!vt(t.conditions)&&Lr.ur(t)&&Lr.hr(t)}static ur(t){var r;if(vt(t.conditions)||vt((r=t.conditions)==null?void 0:r.url))return!0;var n,i,s,a=Lr.getWindowLocation();return!!a&&((n=t.conditions)==null||!n.url||fU[(i=(s=t.conditions)==null?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,a))}static getWindowLocation(){return ie==null?void 0:ie.location}static hr(t){var r;if(vt(t.conditions)||vt((r=t.conditions)==null?void 0:r.utm))return!0;var n=Ej();if(n.utm_source){var i,s,a,o,u,h,f,p,v=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,g=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_source||((o=t.conditions)==null||(o=o.utm)==null?void 0:o.utm_source)==n.utm_source,b=(u=t.conditions)==null||(u=u.utm)==null||!u.utm_medium||((h=t.conditions)==null||(h=h.utm)==null?void 0:h.utm_medium)==n.utm_medium,x=(f=t.conditions)==null||(f=f.utm)==null||!f.utm_term||((p=t.conditions)==null||(p=p.utm)==null?void 0:p.utm_term)==n.utm_term;return v&&b&&x&&g}return!1}static rr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];Ee.info("[WebExperiments] "+t,n)}nr(t,r,n){this._is_bot()?Lr.rr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach((i=>{if(i.selector){var s;Lr.rr("applying transform of variant "+r+" for experiment "+t+" ",i);var a=(s=document)==null?void 0:s.querySelectorAll(i.selector);a==null||a.forEach((o=>{var u=o;i.html&&(u.innerHTML=i.html),i.css&&u.setAttribute("style",i.css)}))}})):Lr.rr("Control variants leave the page unmodified.")}_is_bot(){return Pn&&this._instance?Fj(Pn,this._instance.config.custom_blocked_useragents):void 0}}var pU=ir("[PostHog ExternalIntegrations]"),mU={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class gU{constructor(t){this._instance=t}it(t,r){var n;(n=Ke.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,(i=>{if(i)return pU.error("failed to load script",i);r()}))}startIfEnabledOrStop(){var t=this,r=function(a){var o,u,h;!i||(o=Ke.__PosthogExtensions__)!=null&&(o=o.integrations)!=null&&o[a]||t.it(mU[a],(()=>{var f;(f=Ke.__PosthogExtensions__)==null||(f=f.integrations)==null||(f=f[a])==null||f.start(t._instance)})),!i&&(u=Ke.__PosthogExtensions__)!=null&&(u=u.integrations)!=null&&u[a]&&((h=Ke.__PosthogExtensions__)==null||(h=h.integrations)==null||(h=h[a])==null||h.stop())};for(var[n,i]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;r(n)}}}var b1="[SessionRecording]",gc=ir(b1);class b2{get started(){var t;return!((t=this.vr)==null||!t.isStarted)}get status(){return this.vr?this.vr.status:this.dr&&!this.cr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.dr=!1,this.pr=void 0,this._instance=t,!this._instance.sessionManager)throw gc.error("started without valid sessionManager"),new Error(b1+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(b1+' cannot be used with cookieless_mode="always"')}get cr(){var t,r=!((t=this._instance.get_property(Ev))==null||!t.enabled),n=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ie&&r&&n&&!i}startIfEnabledOrStop(t){var r;if(!this.cr||(r=this.vr)==null||!r.isStarted){var n=!xe(Object.assign)&&!xe(Array.from);this.cr&&n?(this.gr(t),gc.info("starting")):this.stopRecording()}}gr(t){var r,n,i;this.cr&&(Ke!=null&&(r=Ke.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=Ke.__PosthogExtensions__)!=null&&n.initSessionRecording?this._r(t):(i=Ke.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.mr,(s=>{if(s)return gc.error("could not load recorder",s);this._r(t)})))}stopRecording(){var t,r;(t=this.pr)==null||t.call(this),this.pr=void 0,(r=this.vr)==null||r.stop()}yr(){var t;(t=this._instance.persistence)==null||t.unregister(HI)}br(t){if(this._instance.persistence){var r,n,i=this._instance.persistence,s=()=>{var a=t.sessionRecording===!1?void 0:t.sessionRecording,o=a==null?void 0:a.sampleRate,u=vt(o)?null:parseFloat(o);vt(u)&&this.yr();var h=a==null?void 0:a.minimumDurationMilliseconds;i.register({[Ev]:Ae({enabled:!!a},a,{networkPayloadCapture:Ae({capturePerformance:t.capturePerformance},a==null?void 0:a.networkPayloadCapture),canvasRecording:{enabled:a==null?void 0:a.recordCanvas,fps:a==null?void 0:a.canvasFps,quality:a==null?void 0:a.canvasQuality},sampleRate:u,minimumDurationMilliseconds:xe(h)?null:h,endpoint:a==null?void 0:a.endpoint,triggerMatchType:a==null?void 0:a.triggerMatchType,masking:a==null?void 0:a.masking,urlTriggers:a==null?void 0:a.urlTriggers})})};s(),(r=this.pr)==null||r.call(this),this.pr=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.br(t),this.dr=!0,this.startIfEnabledOrStop()):this.dr=!0:gc.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.vr)!=null&&n.log?this.vr.log(t,r):gc.warn("log called before recorder was ready")}get mr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(Ev);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}_r(t){var r,n;if((r=Ke.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.vr||(this.vr=(n=Ke.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.vr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.vr.start(t)}onRRwebEmit(t){var r;(r=this.vr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.vr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.vr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.vr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.vr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.vr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.vr)==null||!n.tryAddCustomEvent(t,r))}}var zc={},_1=()=>{},vl="posthog",Bj=!q$&&(cn==null?void 0:cn.indexOf("MSIE"))===-1&&(cn==null?void 0:cn.indexOf("Mozilla"))===-1,_2=e=>{var t;return Ae({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:B9(we==null?void 0:we.location),persistence:"localStorage+cookie",persistence_name:"",loaded:_1,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:hn&&nr(hn==null?void 0:hn.search)&&hn.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ie==null||(t=ie.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;Ee.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:y1},error_tracking:{},_onCapture:_1,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},x2=e=>{var t={};xe(e.process_person)||(t.person_profiles=e.process_person),xe(e.xhr_headers)||(t.request_headers=e.xhr_headers),xe(e.cookie_name)||(t.persistence_name=e.cookie_name),xe(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),xe(e.store_google)||(t.save_campaign_params=e.store_google),xe(e.verbose)||(t.debug=e.verbose);var r=Vt({},t,e);return yt(e.property_blacklist)&&(xe(e.property_denylist)?r.property_denylist=e.property_blacklist:yt(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ee.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class vU{constructor(){this.__forceAllowLocalhost=!1}get wr(){return this.__forceAllowLocalhost}set wr(t){Ee.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Rm{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new vU,this.Sr=!1,this.version=as.LIB_VERSION,this.Er=new hx,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=_2(),this.SentryIntegration=p$,this.sentryIntegration=t=>(function(r,n){var i=aj(r,n);return{name:sj,processEvent:s=>i(s)}})(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$r=!1,this.kr=null,this.Pr=null,this.Tr=null,this.featureFlags=new G$(this),this.toolbar=new g$(this),this.scrollManager=new lU(this),this.pageViewManager=new L$(this),this.surveys=new rU(this),this.experiments=new Lr(this),this.exceptions=new V$(this),this.rateLimiter=new nU(this),this.requestRouter=new hU(this),this.consent=new l$(this),this.externalIntegrations=new gU(this),this.people={set:(t,r,n)=>{var i=nr(t)?{[t]:r}:t;this.setPersonProperties(i),n==null||n({})},set_once:(t,r,n)=>{var i=nr(t)?{[t]:r}:t;this.setPersonProperties(void 0,i),n==null||n({})}},this.on("eventCaptured",(t=>Ee.info('send "'+(t==null?void 0:t.event)+'"',t)))}init(t,r,n){if(n&&n!==vl){var i,s=(i=zc[n])!==null&&i!==void 0?i:new Rm;return s._init(t,r,n),zc[n]=s,zc[vl][n]=s,s}return this._init(t,r,n)}_init(t,r,n){var i;if(r===void 0&&(r={}),xe(t)||Zb(t))return Ee.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Rr(r.debug),this.Ir=r,this.Fr=[],r.person_profiles&&(this.Pr=r.person_profiles),this.set_config(Vt({},_2(r.defaults),x2(r),{name:n,token:t})),this.config.on_xhr_error&&Ee.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:cs.GZipJS;var s=this.Cr();this.persistence=new Rv(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Rv(Ae({},this.config,{persistence:"sessionStorage"}),s);var a=Ae({},this.persistence.props),o=Ae({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Mr=new sU((C=>this.Or(C)),this.config.request_queue_config),this.Ar=new oU(this),this.__request_queue=[];var u=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new v2(this),this.sessionPropsManager=new g2(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Ee.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Dr(u)}),0)):(Ee.info("Initializing extensions synchronously"),this.Dr(u)),as.DEBUG=as.DEBUG||this.config.debug,as.DEBUG&&Ee.info("Starting in debug mode",{this:this,config:r,thisC:Ae({},this.config),p:a,s:o}),((i=r.bootstrap)==null?void 0:i.distinctID)!==void 0){var h,f,p=this.config.get_device_id(va()),v=(h=r.bootstrap)!=null&&h.isIdentifiedID?p:r.bootstrap.distinctID;this.persistence.set_property(os,(f=r.bootstrap)!=null&&f.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:v})}if(this.jr()){var g,b,x=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter((C=>{var S;return!((S=r.bootstrap)==null||(S=S.featureFlags)==null||!S[C])})).reduce(((C,S)=>{var O;return C[S]=((O=r.bootstrap)==null||(O=O.featureFlags)==null?void 0:O[S])||!1,C}),{}),_=Object.keys(((b=r.bootstrap)==null?void 0:b.featureFlagPayloads)||{}).filter((C=>x[C])).reduce(((C,S)=>{var O,P;return(O=r.bootstrap)!=null&&(O=O.featureFlagPayloads)!=null&&O[S]&&(C[S]=(P=r.bootstrap)==null||(P=P.featureFlagPayloads)==null?void 0:P[S]),C}),{});this.featureFlags.receivedFeatureFlags({featureFlags:x,featureFlagPayloads:_})}if(u)this.register_once({distinct_id:lc,$device_id:null},"");else if(!this.get_distinct_id()){var w=this.config.get_device_id(va());this.register_once({distinct_id:w,$device_id:w},""),this.persistence.set_property(os,"anonymous")}return Qt(ie,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?f$(this,(()=>this.Lr())):this.Lr(),ba(this.config._onCapture)&&this.config._onCapture!==_1&&(Ee.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(C=>this.config._onCapture(C.event,C)))),this.config.ip&&Ee.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Dr(t){var r=performance.now();this.historyAutocapture=new h$(this),this.historyAutocapture.startIfEnabled();var n=[];n.push((()=>{new y$(this).startIfEnabledOrStop()})),n.push((()=>{var i;this.siteApps=new dU(this),(i=this.siteApps)==null||i.init()})),t||n.push((()=>{this.sessionRecording=new b2(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||n.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),n.push((()=>{this.autocapture=new e$(this),this.autocapture.startIfEnabled()})),n.push((()=>{this.surveys.loadIfEnabled()})),n.push((()=>{this.heatmaps=new D$(this),this.heatmaps.startIfEnabled()})),n.push((()=>{this.webVitalsAutocapture=new j$(this)})),n.push((()=>{this.exceptionObserver=new d$(this),this.exceptionObserver.startIfEnabled()})),n.push((()=>{this.deadClicksAutocapture=new ij(this,c$),this.deadClicksAutocapture.startIfEnabled()})),n.push((()=>{if(this.Nr){var i=this.Nr;this.Nr=void 0,this.fi(i)}})),this.Ur(n,r)}Ur(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout((()=>{this.Ur(t,r)}),0);var n=t.shift();if(n)try{n()}catch(s){Ee.error("Error initializing extension:",s)}}var i=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&Ee.info("PostHog extensions initialized ("+i+"ms)")}fi(t){var r,n,i,s,a,o,u,h;if(!we||!we.body)return Ee.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Nr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=tt(t.supportedCompression,cs.GZipJS)?cs.GZipJS:tt(t.supportedCompression,cs.Base64)?cs.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Pr?this.Pr:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(s=this.autocapture)==null||s.onRemoteConfig(t),(a=this.heatmaps)==null||a.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(o=this.webVitalsAutocapture)==null||o.onRemoteConfig(t),(u=this.exceptionObserver)==null||u.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(h=this.deadClicksAutocapture)==null||h.onRemoteConfig(t)}Lr(){try{this.config.loaded(this)}catch(t){Ee.critical("`loaded` function failed",t)}this.zr(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Hr()}),1),new iU(this).load(),this.featureFlags.flags()}zr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Mr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&xa(this.__request_queue,(t=>this.Or(t))),this.__request_queue=[],this.zr()}_handle_unload(){var t,r;this.config.request_batching?(this.Br()&&this.capture("$pageleave"),(t=this.Mr)==null||t.unload(),(r=this.Ar)==null||r.unload()):this.Br()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(t){this.__loaded&&(Bj?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Sp(t.url,{ip:this.config.ip?1:0}),t.headers=Ae({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,i,s,a=Ae({},r);a.timeout=a.timeout||6e4,a.url=Sp(a.url,{_:new Date().getTime().toString(),ver:as.LIB_VERSION,compression:a.compression});var o=(n=a.transport)!==null&&n!==void 0?n:"fetch",u=np.filter((f=>!a.disableTransport||!f.transport||!a.disableTransport.includes(f.transport))),h=(i=(s=BI(u,(f=>f.transport===o)))==null?void 0:s.method)!==null&&i!==void 0?i:u[0].method;if(!h)throw new Error("No available transport method");h(a)})(Ae({},t,{callback:r=>{var n,i;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(i=this.config).on_request_error)==null||n.call(i,r)),t.callback==null||t.callback(r)}}))))}Or(t){this.Ar?this.Ar.retriableRequest(t):this.ci(t)}_execute_array(t){var r,n=[],i=[],s=[];xa(t,(o=>{o&&(r=o[0],yt(r)?s.push(o):ba(o)?o.call(this):yt(o)&&r==="alias"?n.push(o):yt(o)&&r.indexOf("capture")!==-1&&ba(this[r])?s.push(o):i.push(o))}));var a=function(o,u){xa(o,(function(h){if(yt(h[0])){var f=u;Tt(h,(function(p){f=f[p[0]].apply(f,p.slice(1))}))}else this[h[0]].apply(this,h.slice(1))}),u)};a(n,this),a(i,this),a(s,this)}jr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Mr){if(this.is_capturing())if(!xe(t)&&nr(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var a=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(a==null||!a.isRateLimited){r!=null&&r.$current_url&&!nr(r==null?void 0:r.$current_url)&&(Ee.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,u=(n==null?void 0:n.timestamp)||o,h=va(),f={uuid:h,event:t,properties:this.calculateEventProperties(t,r||{},u,h)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&s&&(f.event="$bot_pageview",f.properties.$browser_type="bot"),a&&(f.properties.$lib_rate_limit_remaining_tokens=a.remainingTokens),n!=null&&n.$set&&(f.$set=n==null?void 0:n.$set);var p,v=this.qr(n==null?void 0:n.$set_once);if(v&&(f.$set_once=v),(f=M9(f,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=u,xe(n==null?void 0:n.timestamp)||(f.properties.$event_time_override_provided=!0,f.properties.$event_time_override_system_time=o),t===ip.DISMISSED||t===ip.SENT){var g=r==null?void 0:r[f2.SURVEY_ID],b=r==null?void 0:r[f2.SURVEY_ITERATION];p={id:g,current_iteration:b},localStorage.getItem(p2(p))||localStorage.setItem(p2(p),"true"),f.$set=Ae({},f.$set,{[J$({id:g,current_iteration:b},t===ip.SENT?"responded":"dismissed")]:!0})}var x=Ae({},f.properties.$set,f.$set);if(El(x)||this.setPersonPropertiesForFlags(x),!vt(this.config.before_send)){var _=this.Wr(f);if(!_)return;f=_}this.Er.emit("eventCaptured",f);var w={method:"POST",url:(i=n==null?void 0:n._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:f,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Or(w):this.Mr.enqueue(w),f}Ee.critical("This capture call is ignored due to client rate limiting.")}}else Ee.error("No event name provided to posthog.capture")}else Ee.uninitializedWarning("posthog.capture")}Ai(t){return this.on("eventCaptured",(r=>t(r.event,r)))}calculateEventProperties(t,r,n,i,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var a=s?void 0:this.persistence.remove_event_timer(t),o=Ae({},r);if(o.token=this.config.token,o.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(o.$cookieless_mode=!0),t==="$snapshot"){var u=Ae({},this.persistence.properties(),this.sessionPersistence.properties());return o.distinct_id=u.distinct_id,(!nr(o.distinct_id)&&!qi(o.distinct_id)||Zb(o.distinct_id))&&Ee.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var h,f=I$(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());o.$session_id=p,o.$window_id=v}this.sessionPropsManager&&Vt(o,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Vt(o,this.sessionRecording.sdkDebugProperties),o.$sdk_debug_retry_queue_size=(g=this.Ar)==null?void 0:g.length}catch(w){o.$sdk_debug_error_capturing_properties=String(w)}if(this.requestRouter.region===Mc.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),h=t!=="$pageview"||s?t!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,i),o=Vt(o,h),t==="$pageview"&&we&&(o.title=we.title),!xe(a)){var b=n.getTime()-a;o.$duration=parseFloat((b/1e3).toFixed(3))}cn&&this.config.opt_out_useragent_filter&&(o.$browser_type=this._is_bot()?"bot":"browser"),(o=Vt({},f,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),yt(this.config.property_denylist)?Tt(this.config.property_denylist,(function(w){delete o[w]})):Ee.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var x=this.config.sanitize_properties;x&&(Ee.error("sanitize_properties is deprecated. Use before_send instead"),o=x(o,t));var _=this.Gr();return o.$process_person_profile=_,_&&!s&&this.Vr("_calculate_event_properties"),o}qr(t){var r;if(!this.persistence||!this.Gr()||this.Sr)return t;var n=this.persistence.get_initial_props(),i=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),s=Vt({},n,i||{},t||{}),a=this.config.sanitize_properties;return a&&(Ee.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),this.Sr=!0,El(s)?void 0:s}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var i;(i=this.persistence)==null||i.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}Jr(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Er.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=eU),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return Ee.uninitializedWarning("posthog.identify");if(qi(t)&&(t=t.toString(),Ee.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ee.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==lc){if(this.Vr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Pc)&&(this.unregister(Pc),this.register({distinct_id:t}));var a=(this.persistence.get_property(os)||"anonymous")==="anonymous";t!==i&&a?(this.persistence.set_property(os,"identified"),this.setPersonPropertiesForFlags(Ae({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:r||{},$set_once:n||{}}),this.Tr=l2(t,r,n),this.featureFlags.setAnonymousDistinctId(i)):(r||n)&&this.setPersonProperties(r,n),t!==i&&(this.reloadFeatureFlags(),this.unregister(gp))}}else Ee.critical('The string "'+lc+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Ee.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.Vr("posthog.setPersonProperties")){var n=l2(this.get_distinct_id(),t,r);this.Tr!==n?(this.setPersonPropertiesForFlags(Ae({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Tr=n):Ee.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){if(this.Vr("posthog.group")){var i=this.getGroups();i[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ae({},i,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),i[t]===r||n||this.reloadFeatureFlags()}}else Ee.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.Vr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,i,s;if(Ee.info("reset"),!this.__loaded)return Ee.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(os,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Tr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:lc,$device_id:null},"");else{var o=this.config.get_device_id(va());this.register_once({distinct_id:o,$device_id:t?o:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-a,0)}return i}alias(t,r){return t===this.get_property($I)?(Ee.critical("Attempting to create alias for existing People user - aborting."),-2):this.Vr("posthog.alias")?(xe(r)&&(r=this.get_distinct_id()),t!==r?(this.Jr(Pc,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(Ee.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=Ae({},this.config);if(gr(t)){var n,i,s,a,o;Vt(this.config,x2(t));var u=this.Cr();(n=this.persistence)==null||n.update_config(this.config,r,u),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Rv(Ae({},this.config,{persistence:"sessionStorage"}),u);var h=this.Rr(this.config.debug);_a(h)&&(this.config.debug=h),_a(this.config.debug)&&(this.config.debug?(as.DEBUG=!0,Bt.H()&&Bt.G("ph_debug","true"),Ee.info("set_config",{config:t,oldConfig:r,newConfig:Ae({},this.config)})):(as.DEBUG=!1,Bt.H()&&Bt.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.Kr(),(o=this.externalIntegrations)==null||o.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var i,s,a,o,u;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),n.url_trigger&&((o=this.sessionRecording)==null||o.overrideTrigger("url")),n.event_trigger&&((u=this.sessionRecording)==null||u.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(Ae({},i,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:vl;return r!==vl&&(r=vl+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(os))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(os))==="identified"}Gr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&El(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Pc])&&((r=this.persistence)==null||(r=r.props)==null||!r[yp]))}Br(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Gr()||this.Vr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Vr(t){return this.config.person_profiles==="never"?(Ee.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Jr(yp,!0),!0)}Cr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}Kr(){var t,r,n,i,s=this.Cr();return((t=this.persistence)==null?void 0:t.wi)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((r=this.sessionPersistence)==null?void 0:r.wi)!==s&&((i=this.sessionPersistence)==null||i.set_disabled(s)),s}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,i;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new v2(this),this.persistence&&(this.sessionPropsManager=new g2(this,this.sessionManager,this.persistence)),this.sessionRecording=new b2(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Kr(),this.zr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(xe(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((i=t==null?void 0:t.captureEventName)!==null&&i!==void 0?i:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Hr()}else Ee.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Kr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:lc,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Hr())):Ee.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===ls.GRANTED?"granted":t===ls.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Kr()}_is_bot(){return Pn?Fj(Pn,this.config.custom_blocked_useragents):void 0}Hr(){we&&(we.visibilityState==="visible"?this.$r||(this.$r=!0,this.capture("$pageview",{title:we.title},{send_instantly:!0}),this.kr&&(we.removeEventListener("visibilitychange",this.kr),this.kr=null)):this.kr||(this.kr=this.Hr.bind(this),Qt(we,"visibilitychange",this.kr)))}debug(t){t===!1?(ie==null||ie.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ie==null||ie.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,i,s,a,o,u=this.Ir||{};return"advanced_disable_flags"in u?!!u.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Ee.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",i=!1,s=Ee,a=(r="advanced_disable_flags")in(t=u)&&!xe(t[r]),o=n in t&&!xe(t[n]),a?t[r]:o?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):i)}Wr(t){if(vt(this.config.before_send))return t;var r=yt(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var i of r){if(n=i(n),vt(n)){var s="Event '"+t.event+"' was rejected in beforeSend function";return c9(t.event)?Ee.warn(s+". This can cause unexpected behavior."):Ee.info(s),null}n.properties&&!El(n.properties)||Ee.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Rr(t){var r=_a(t)&&!t,n=Bt.H()&&Bt.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=L9(e.prototype[t[r]])})(Rm,["identify"]);var w2,yl=(w2=zc[vl]=new Rm,(function(){function e(){e.done||(e.done=!0,Bj=!1,Tt(zc,(function(t){t._dom_loaded()})))}we!=null&&we.addEventListener?we.readyState==="complete"?e():Qt(we,"DOMContentLoaded",e,{capture:!1}):ie&&Ee.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),w2),fx=T.createContext({client:yl,bootstrap:void 0});function $j(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var s=0,a=n;s<a.length;s++){var o=a[s];if(!i.includes(o)||!$j(e[o],t[o],r))return!1}return!0}function yU(e){var t,r,n=e.children,i=e.client,s=e.apiKey,a=e.options,o=T.useRef(null),u=T.useMemo(function(){return i?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),a&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),yl)},[i,s,JSON.stringify(a)]);return T.useEffect(function(){if(!i){var h=o.current;h?(s!==h.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),a&&!$j(a,h.options)&&yl.set_config(a),o.current={apiKey:s,options:a??{}}):(yl.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),yl.init(s,a),o.current={apiKey:s,options:a??{}})}},[i,s,JSON.stringify(a)]),fn.createElement(fx.Provider,{value:{client:u,bootstrap:(t=a==null?void 0:a.bootstrap)!==null&&t!==void 0?t:(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.bootstrap}},n)}var Mv=function(e){return typeof e=="function"},Zr=function(){var e=T.useContext(fx).client;return e},x1=function(e,t){return x1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},x1(e,t)};function bU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");x1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _U={componentStack:null,exceptionEvent:null,error:null},xU={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){bU(t,e);function t(r){var n=e.call(this,r)||this;return n.state=_U,n}return t.prototype.componentDidCatch=function(r,n){var i=this.props.additionalProperties,s;Mv(i)?s=i(r):typeof i=="object"&&(s=i);var a=this.context.client,o=a.captureException(r,s),u=n.componentStack;this.setState({error:r,componentStack:u,exceptionEvent:o})},t.prototype.render=function(){var r=this.props,n=r.children,i=r.fallback,s=this.state;if(s.componentStack==null)return Mv(n)?n():n;var a=Mv(i)?fn.createElement(i,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):i;return fn.isValidElement(a)?a:(console.warn(xU.INVALID_FALLBACK),fn.createElement(fn.Fragment,null))},t.contextType=fx,t})(fn.Component);var w1=function(e,t){return w1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},w1(e,t)};function Uj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ap=function(){return Ap=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ap.apply(this,arguments)};function nu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Hj(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(i<3?a(s):i>3?a(t,r,s):a(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function zj(e,t){return function(r,n){t(r,n,e)}}function Wj(e,t,r,n,i,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=n.kind,u=o==="getter"?"get":o==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,f=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,v=!1,g=r.length-1;g>=0;g--){var b={};for(var x in n)b[x]=x==="access"?{}:n[x];for(var x in n.access)b.access[x]=n.access[x];b.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var _=(0,r[g])(o==="accessor"?{get:f.get,set:f.set}:f[u],b);if(o==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=a(_.get))&&(f.get=p),(p=a(_.set))&&(f.set=p),(p=a(_.init))&&i.unshift(p)}else(p=a(_))&&(o==="field"?i.unshift(p):f[u]=p)}h&&Object.defineProperty(h,n.name,f),v=!0}function qj(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Vj(e){return typeof e=="symbol"?e:"".concat(e)}function Kj(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Yj(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Re(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{h(n.next(f))}catch(p){a(p)}}function u(f){try{h(n.throw(f))}catch(p){a(p)}}function h(f){f.done?s(f.value):i(f.value).then(o,u)}h((n=n.apply(e,t||[])).next())})}function Gj(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(h){return function(f){return u([h,f])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(f){h=[6,f],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Dm=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function Xj(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dm(t,e,r)}function Op(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function px(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function Qj(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(px(arguments[t]));return e}function Jj(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Zj(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Ml(e){return this instanceof Ml?(this.v=e,this):new Ml(e)}function e3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(b){return Promise.resolve(b).then(g,p)}}function o(g,b){n[g]&&(i[g]=function(x){return new Promise(function(_,w){s.push([g,x,_,w])>1||u(g,x)})},b&&(i[g]=b(i[g])))}function u(g,b){try{h(n[g](b))}catch(x){v(s[0][3],x)}}function h(g){g.value instanceof Ml?Promise.resolve(g.value.v).then(f,p):v(s[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function v(g,b){g(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function t3(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(a){return(r=!r)?{value:Ml(e[i](a)),done:!1}:s?s(a):a}:s}}function r3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Op=="function"?Op(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(o,u){a=e[s](a),i(o,u,a.done,a.value)})}}function i(s,a,o,u){Promise.resolve(u).then(function(h){s({value:h,done:o})},a)}}function n3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var wU=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},E1=function(e){return E1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},E1(e)};function i3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=E1(e),n=0;n<r.length;n++)r[n]!=="default"&&Dm(t,e,r[n]);return wU(t,e),t}function s3(e){return e&&e.__esModule?e:{default:e}}function a3(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function o3(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function l3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function u3(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var EU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function c3(e){function t(s){e.error=e.hasError?new EU(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function d3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?t?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):e}const kU={__extends:Uj,__assign:Ap,__rest:nu,__decorate:Hj,__param:zj,__esDecorate:Wj,__runInitializers:qj,__propKey:Vj,__setFunctionName:Kj,__metadata:Yj,__awaiter:Re,__generator:Gj,__createBinding:Dm,__exportStar:Xj,__values:Op,__read:px,__spread:Qj,__spreadArrays:Jj,__spreadArray:Zj,__await:Ml,__asyncGenerator:e3,__asyncDelegator:t3,__asyncValues:r3,__makeTemplateObject:n3,__importStar:i3,__importDefault:s3,__classPrivateFieldGet:a3,__classPrivateFieldSet:o3,__classPrivateFieldIn:l3,__addDisposableResource:u3,__disposeResources:c3,__rewriteRelativeImportExtension:d3},TU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:u3,get __assign(){return Ap},__asyncDelegator:t3,__asyncGenerator:e3,__asyncValues:r3,__await:Ml,__awaiter:Re,__classPrivateFieldGet:a3,__classPrivateFieldIn:l3,__classPrivateFieldSet:o3,__createBinding:Dm,__decorate:Hj,__disposeResources:c3,__esDecorate:Wj,__exportStar:Xj,__extends:Uj,__generator:Gj,__importDefault:s3,__importStar:i3,__makeTemplateObject:n3,__metadata:Yj,__param:zj,__propKey:Vj,__read:px,__rest:nu,__rewriteRelativeImportExtension:d3,__runInitializers:qj,__setFunctionName:Kj,__spread:Qj,__spreadArray:Zj,__spreadArrays:Jj,__values:Op,default:kU},Symbol.toStringTag,{value:"Module"})),SU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class mx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class E2 extends mx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class k2 extends mx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class T2 extends mx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var k1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(k1||(k1={}));class CU{constructor(t,{headers:r={},customFetch:n,region:i=k1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=SU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Re(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:o,signal:u}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let v;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=o):typeof o=="string"?(h["Content-Type"]="text/plain",v=o):typeof FormData<"u"&&o instanceof FormData?v=o:(h["Content-Type"]="application/json",v=JSON.stringify(o)):v=o;const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:u}).catch(w=>{throw w.name==="AbortError"?w:new E2(w)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new k2(g);if(!g.ok)throw new T2(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield g.json():x==="application/octet-stream"||x==="application/pdf"?_=yield g.blob():x==="text/event-stream"?_=g:x==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new E2(s)}:{data:null,error:s,response:s instanceof T2||s instanceof k2?s.context:void 0}}})}}var Dr={};const iu=OF(TU);var _f={},xf={},wf={},Ef={},kf={},Tf={},S2;function h3(){if(S2)return Tf;S2=1,Object.defineProperty(Tf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Tf.default=e,Tf}var C2;function f3(){if(C2)return kf;C2=1,Object.defineProperty(kf,"__esModule",{value:!0});const t=iu.__importDefault(h3());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,f,p,v;let g=null,b=null,x=null,_=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const P=await u.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?b=P:b=JSON.parse(P))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),O=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,_=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await u.text();try{g=JSON.parse(S),Array.isArray(g)&&u.status===404&&(b=[],g=null,_=200,w="OK")}catch{u.status===404&&S===""?(_=204,w="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((v=g==null?void 0:g.details)===null||v===void 0)&&v.includes("0 rows"))&&(g=null,_=200,w="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:b,count:x,status:_,statusText:w}});return this.shouldThrowOnError||(o=o.catch(u=>{var h,f,p;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return kf.default=r,kf}var A2;function p3(){if(A2)return Ef;A2=1,Object.defineProperty(Ef,"__esModule",{value:!0});const t=iu.__importDefault(f3());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:u=o}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:u=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ef.default=r,Ef}var O2;function gx(){if(O2)return wf;O2=1,Object.defineProperty(wf,"__esModule",{value:!0});const t=iu.__importDefault(p3()),r=new RegExp("[,()]");class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${h}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return wf.default=n,wf}var N2;function m3(){if(N2)return xf;N2=1,Object.defineProperty(xf,"__esModule",{value:!0});const t=iu.__importDefault(gx());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},u=a?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return xf.default=r,xf}var P2;function AU(){if(P2)return _f;P2=1,Object.defineProperty(_f,"__esModule",{value:!0});const e=iu,t=e.__importDefault(m3()),r=e.__importDefault(gx());class n{constructor(s,{headers:a={},schema:o,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:u=!1,count:h}={}){var f;let p;const v=new URL(`${this.url}/rpc/${s}`);let g;o||u?(p=o?"HEAD":"GET",Object.entries(a).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{v.searchParams.append(x,_)})):(p="POST",g=a);const b=new Headers(this.headers);return h&&b.set("Prefer",`count=${h}`),new r.default({method:p,url:v,headers:b,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return _f.default=n,_f}var I2;function OU(){if(I2)return Dr;I2=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.PostgrestError=Dr.PostgrestBuilder=Dr.PostgrestTransformBuilder=Dr.PostgrestFilterBuilder=Dr.PostgrestQueryBuilder=Dr.PostgrestClient=void 0;const e=iu,t=e.__importDefault(AU());Dr.PostgrestClient=t.default;const r=e.__importDefault(m3());Dr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(gx());Dr.PostgrestFilterBuilder=n.default;const i=e.__importDefault(p3());Dr.PostgrestTransformBuilder=i.default;const s=e.__importDefault(f3());Dr.PostgrestBuilder=s.default;const a=e.__importDefault(h3());return Dr.PostgrestError=a.default,Dr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Dr}var g3=OU();const v3=ni(g3),NU=fI({__proto__:null,default:v3},[g3]),{PostgrestClient:PU,PostgrestQueryBuilder:F0e,PostgrestFilterBuilder:B0e,PostgrestTransformBuilder:$0e,PostgrestBuilder:U0e,PostgrestError:H0e}=v3||NU;class IU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jU="2.79.0",RU=`realtime-js/${jU}`,DU="1.0.0",T1=1e4,LU=1e3,MU=100;var Wc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wc||(Wc={}));var tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tr||(tr={}));var bi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bi||(bi={}));var S1;(function(e){e.websocket="websocket"})(S1||(S1={}));var so;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(so||(so={}));class FU{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const u=n.decode(t.slice(a,a+s));a=a+s;const h=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:h}}}class y3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(wt||(wt={}));const j2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=BU(a,e,t,i),s),{}):{}},BU=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?b3(s,a):C1(a)},b3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zU(t,r)}switch(e){case wt.bool:return $U(t);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return UU(t);case wt.json:case wt.jsonb:return HU(t);case wt.timestamp:return WU(t);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return C1(t);default:return C1(t)}},C1=e=>e,$U=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>b3(t,o))}return e},WU=e=>typeof e=="string"?e.replace(" ","T"):e,_3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fv{constructor(t,r,n={},i=T1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var R2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(R2||(R2={}));class qc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=qc.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(s,(h,f)=>{a[h]||(u[h]=f)}),this.map(a,(h,f)=>{const p=s[h];if(p){const v=f.map(_=>_.presence_ref),g=p.map(_=>_.presence_ref),b=f.filter(_=>g.indexOf(_.presence_ref)<0),x=p.filter(_=>v.indexOf(_.presence_ref)<0);b.length>0&&(o[h]=b),x.length>0&&(u[h]=x)}else o[h]=f}),this.syncDiff(s,{joins:o,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,u)=>{var h;const f=(h=t[o])!==null&&h!==void 0?h:[];if(t[o]=this.cloneDeep(u),f.length>0){const p=t[o].map(g=>g.presence_ref),v=f.filter(g=>p.indexOf(g.presence_ref)<0);t[o].unshift(...v)}n(o,f,u)}),this.map(a,(o,u)=>{let h=t[o];if(!h)return;const f=u.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=h,i(o,h,u),h.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(D2||(D2={}));var Vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vc||(Vc={}));var us;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));class vx{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fv(this,bi.join,this.params,this.timeout),this.rejoinTimer=new y3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new qc(this),this.broadcastEndpointURL=_3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==tr.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Vc.PRESENCE]&&this.bindings[Vc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(us.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(us.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t==null||t(us.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,w=[];for(let C=0;C<_;C++){const S=x[C],{filter:{event:O,schema:P,table:N,filter:j}}=S,R=g&&g[C];if(R&&R.event===O&&R.schema===P&&R.table===N&&R.filter===j)w.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),this.state=tr.errored,t==null||t(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(us.SUBSCRIBED);return}}).receive("error",g=>{this.state=tr.errored,t==null||t(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===tr.joined&&t===Vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let u=o.statusText;try{const h=await o.json();u=h.error||h.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,u;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Fv(this,bi.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Fv(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:h,join:f}=bi;if(n&&[o,u,h,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,x,_;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(x=g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(g=>g.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,x,_,w,C,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const O=g.id,P=(b=g.filter)===null||b===void 0?void 0:b.event;return O&&((x=r.ids)===null||x===void 0?void 0:x.includes(O))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const O=(C=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return O==="*"||O===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:x,table:_,commit_timestamp:w,type:C,errors:S}=b;v=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:w,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(b))}g.callback(v,n)})}_isClosed(){return this.state===tr.closed}_isJoined(){return this.state===tr.joined}_isJoining(){return this.state===tr.joining}_isLeaving(){return this.state===tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&vx.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bi.close,{},t)}_onError(t){this._on(bi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=j2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=j2(t.columns,t.old_record)),r}}const Bv=()=>{},Sf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qU=[1e3,2e3,5e3,1e4],VU=1e4,KU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=T1,this.transport=null,this.heartbeatIntervalMs=Sf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bv,this.ref=0,this.reconnectTimer=null,this.logger=Bv,this.conn=null,this.sendBuffer=[],this.serializer=new FU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${S1.websocket}`,this.httpEndpoint=_3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DU}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wc.connecting:return so.Connecting;case Wc.open:return so.Open;case Wc.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new vx(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(LU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${o}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([KU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:RU};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(bi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new y3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,o,u,h,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:T1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Sf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Bv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:(p=>qU[p-1]||VU),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((p,v)=>v(JSON.stringify(p))),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GU extends yx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class A1 extends yx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const bx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XU=()=>Response,O1=e=>{if(Array.isArray(e))return e.map(r=>O1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=O1(n)}),t},QU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$v=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},JU=(e,t,r)=>Re(void 0,void 0,void 0,function*(){const n=yield XU();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new GU($v(i),s,a))}).catch(i=>{t(new A1($v(i),i))}):t(new A1($v(e),e))}),ZU=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(QU(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Pd(e,t,r,n,i,s){return Re(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,ZU(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>JU(u,o,n))})})}function ld(e,t,r,n){return Re(this,void 0,void 0,function*(){return Pd(e,"GET",t,r,n)})}function yi(e,t,r,n,i){return Re(this,void 0,void 0,function*(){return Pd(e,"POST",t,n,i,r)})}function N1(e,t,r,n,i){return Re(this,void 0,void 0,function*(){return Pd(e,"PUT",t,n,i,r)})}function e7(e,t,r,n){return Re(this,void 0,void 0,function*(){return Pd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _x(e,t,r,n,i){return Re(this,void 0,void 0,function*(){return Pd(e,"DELETE",t,n,i,r)})}class t7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}var x3;class r7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[x3]="BlobDownloadBuilder",this.promise=null}asStream(){return new t7(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}})}}x3=Symbol.toStringTag;const n7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i7{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=bx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Re(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},L2),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(u))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),p=yield(t=="PUT"?N1:yi)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ft(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Re(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const h=Object.assign({upsert:L2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",h.cacheControl)):(u=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield N1(this.fetch,o.toString(),u,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ft(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield yi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new yx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}update(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield yi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Re(this,void 0,void 0,function*(){try{const i=yield yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(t),u=()=>ld(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new r7(u,this.shouldThrowOnError)}info(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ld(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:O1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}exists(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield e7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n)&&n instanceof A1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${h}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}list(t,r,n){return Re(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},n7),r),{prefix:t||""});return{data:yield yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}listV2(t,r){return Re(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const w3="2.79.0",E3={"X-Client-Info":`storage-js/${w3}`};class s7{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E3),r),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Re(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield ld(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}createBucket(t){return Re(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Re(this,void 0,void 0,function*(){try{return{data:yield N1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class a7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E3),r),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}listBuckets(t){return Re(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ld(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}}const xx={"X-Client-Info":`storage-js/${w3}`,"Content-Type":"application/json"};class k3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Uv extends k3{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o7 extends k3{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var M2;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(M2||(M2={}));const wx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),l7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},F2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u7=(e,t,r)=>Re(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Uv(F2(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new Uv(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new Uv(o,i,a))}}else t(new o7(F2(e),e))}),c7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(l7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function d7(e,t,r,n,i,s){return Re(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,c7(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const h=u.headers.get("content-type");return!h||!h.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>u7(u,o,n))})})}function On(e,t,r,n,i){return Re(this,void 0,void 0,function*(){return d7(e,"POST",t,n,i,r)})}class h7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xx),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Re(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Re(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}listIndexes(t){return Re(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Re(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}}class f7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xx),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Re(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield On(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}getVectors(t){return Re(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}listVectors(t){return Re(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield On(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}queryVectors(t){return Re(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Re(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield On(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}}class p7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xx),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}getBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:yield On(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}listBuckets(){return Re(this,arguments,void 0,function*(t={}){try{return{data:yield On(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Re(this,void 0,void 0,function*(){try{return{data:(yield On(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}}class m7 extends p7{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new g7(this.url,this.headers,t,this.fetch)}}class g7 extends h7{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Re(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Re(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Re(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Re(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new v7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class v7 extends f7{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Re(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Re(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Re(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Re(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Re(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class y7 extends s7{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new i7(this.url,this.headers,t,this.fetch)}get vectors(){return new m7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a7(this.url+"/iceberg",this.headers,this.fetch)}}const b7="2.79.0";let Fc="";typeof Deno<"u"?Fc="deno":typeof document<"u"?Fc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fc="react-native":Fc="node";const _7={"X-Client-Info":`supabase-js-${Fc}/${b7}`},x7={headers:_7},w7={schema:"public"},E7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k7={},T7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S7=()=>Headers,C7=(e,t,r)=>{const n=T7(r),i=S7();return async(s,a)=>{var o;const u=(o=await t())!==null&&o!==void 0?o:e;let h=new i(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:h}))}};function A7(e){return e.endsWith("/")?e:e+"/"}function O7(e,t){var r,n;const{db:i,auth:s,realtime:a,global:o}=e,{db:u,auth:h,realtime:f,global:p}=t,v={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function N7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(A7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const T3="2.79.0",bl=30*1e3,P1=3,Hv=P1*bl,P7="http://localhost:9999",I7="supabase.auth.token",j7={"X-Client-Info":`gotrue-js/${T3}`},I1="X-Supabase-Api-Version",S3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D7=600*1e3;class ud extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class L7 extends ud{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function M7(e){return De(e)&&e.name==="AuthApiError"}class ao extends ud{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Sa extends ud{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class gi extends Sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F7(e){return De(e)&&e.name==="AuthSessionMissingError"}class ol extends Sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cf extends Sa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Af extends Sa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B7(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class B2 extends Sa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class j1 extends Sa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zv(e){return De(e)&&e.name==="AuthRetryableFetchError"}class $2 extends Sa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class R1 extends Sa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Np="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),U2=` 	
\r=`.split(""),$7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<U2.length;t+=1)e[U2[t].charCodeAt(0)]=-2;for(let t=0;t<Np.length;t+=1)e[Np[t].charCodeAt(0)]=t;return e})();function H2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Np[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Np[n]),t.queuedBits-=6}}function C3(e,t,r){const n=$7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function z2(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{z7(a,n,r)};for(let a=0;a<e.length;a+=1)C3(e.charCodeAt(a),i,s);return t.join("")}function U7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function H7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}U7(n,t)}}function z7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ol(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)C3(e.charCodeAt(i),r,n);return new Uint8Array(t)}function W7(e){const t=[];return H7(e,r=>t.push(r)),new Uint8Array(t)}function lo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>H2(i,r,n)),H2(null,r,n),t.join("")}function q7(e){return Math.round(Date.now()/1e3)+e}function V7(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mr=()=>typeof window<"u"&&typeof document<"u",Qa={tested:!1,writable:!1},A3=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qa.tested)return Qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qa.tested=!0,Qa.writable=!0}catch{Qa.tested=!0,Qa.writable=!1}return Qa.writable};function K7(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const O3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_l=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ja=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},oa=async(e,t)=>{await e.removeItem(t)};class Lm{constructor(){this.promise=new Lm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lm.promiseConstructor=Promise;function Wv(e){const t=e.split(".");if(t.length!==3)throw new R1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!R7.test(t[n]))throw new R1("JWT not in base64url format");return{header:JSON.parse(z2(t[0])),payload:JSON.parse(z2(t[1])),signature:Ol(t[2]),raw:{header:t[0],payload:t[1]}}}async function G7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function X7(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Q7(e){return("0"+e.toString(16)).substr(-2)}function J7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Q7).join("")}async function Z7(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function eH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Z7(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ll(e,t,r=!1){const n=J7();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await _l(e,`${t}-code-verifier`,i);const s=await eH(n);return[s,n===s?"plain":"s256"]}const tH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rH(e){const t=e.headers.get(I1);if(!t||!t.match(tH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ul(e){if(!sH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aH(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function W2(e){return JSON.parse(JSON.stringify(e))}const to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oH=[502,503,504];async function q2(e){var t;if(!Y7(e))throw new j1(to(e),0);if(oH.includes(e.status))throw new j1(to(e),e.status);let r;try{r=await e.json()}catch(s){throw new ao(to(s),s)}let n;const i=rH(e);if(i&&i.getTime()>=S3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $2(to(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new $2(to(r),e.status,r.weak_password.reasons);throw new L7(to(r),e.status||500,n)}const lH=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function We(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[I1]||(s[I1]=S3["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await uH(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function uH(e,t,r,n,i,s){const a=lH(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new j1(to(u),0)}if(o.ok||await q2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await q2(u)}}function vi(e){var t;let r=null;hH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=q7(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function V2(e){const t=vi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ma(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cH(e){return{data:e,error:null}}function dH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=nu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function K2(e){return e}function hH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vv=["global","local","others"];class fH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=O3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Vv[0]){if(Vv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vv.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ma})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=nu(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ma})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,u;try{const h={nextPage:null,lastPage:0,total:0},f=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:K2});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);h[`${_}Page`]=x}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(De(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){ul(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ma})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ul(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ma})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ul(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ma})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ul(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ul(t.userId),ul(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,o,u;try{const h={nextPage:null,lastPage:0,total:0},f=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:K2});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);h[`${_}Page`]=x}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(De(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function Y2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const cl={debug:!!(globalThis&&A3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class N3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pH extends N3{}async function mH(e,t,r){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function gH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function P3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vH(e){return parseInt(e,16)}function yH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function bH(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:u,resources:h,scheme:f,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=P3(e.address),b=f?`${f}://${n}`:n,x=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${g}

${x}`;let w=`URI: ${p}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),u&&(w+=`
Request ID: ${u}`),h){let C=`
Resources:`;for(const S of h){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);C+=`
- ${S}`}w+=C}return`${_}
${w}`}class Xt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Pp extends Xt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function _H({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(I3(a)){if(s.rp.id!==a)return new Xt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(I3(n)){if(r.rpId!==n)return new Xt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const EH=new wH;function kH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=nu(e,["challenge","user","excludeCredentials"]),s=Ol(t).buffer,a=Object.assign(Object.assign({},r),{id:Ol(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.excludeCredentials[u]=Object.assign(Object.assign({},h),{id:Ol(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function TH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=nu(e,["challenge","allowCredentials"]),i=Ol(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Ol(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function SH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:lo(new Uint8Array(e.response.attestationObject)),clientDataJSON:lo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lo(new Uint8Array(i.authenticatorData)),clientDataJSON:lo(new Uint8Array(i.clientDataJSON)),signature:lo(new Uint8Array(i.signature)),userHandle:i.userHandle?lo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function I3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function G2(){var e,t;return!!(Mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pp("Browser returned unexpected credential type",t)}:{data:null,error:new Pp("Empty credential response",t)}}catch(t){return{data:null,error:_H({error:t,options:e})}}}async function OH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pp("Browser returned unexpected credential type",t)}:{data:null,error:new Pp("Empty credential response",t)}}catch(t){return{data:null,error:xH({error:t,options:e})}}}const NH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},PH={userVerification:"preferred",hints:["security-key"]};function Ip(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const o=n[s];t(o)?n[s]=Ip(o,a):n[s]=Ip(a)}else n[s]=a}return n}function IH(e,t){return Ip(NH,e,t||{})}function jH(e,t){return Ip(PH,e,t||{})}class RH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const u=i??EH.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:h}=a.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(a.webauthn.type){case"create":{const h=IH(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await AH({publicKey:h,signal:u});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=jH(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await OH(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:h,signal:u}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return De(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new ud("rpId is required for WebAuthn authentication")};try{if(!G2())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return De(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new ud("rpId is required for WebAuthn registration")};try{if(!G2())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:u,error:h}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:h}}catch(a){return De(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in register",a)}}}}gH();const DH={url:P7,storageKey:I7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function X2(e,t,r){return await r()}const dl={};class cd{get jwks(){var t,r;return(r=(t=dl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){dl[this.storageKey]=Object.assign(Object.assign({},dl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=dl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dl[this.storageKey]=Object.assign(Object.assign({},dl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cd.nextInstanceID,cd.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},DH),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new fH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=O3(i.fetch),this.lock=i.lock||X2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mH:this.lock=X2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:A3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Y2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Y2(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Mr()&&(r=K7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Mr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),B7(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new ao("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:vi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:v}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await ll(this.storage,this.storageKey)),s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:b},xform:vi})}else if("phone"in t){const{phone:f,password:p,options:v}=t;s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:vi})}else throw new Cf("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const u=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(s){if(De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:V2})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:V2})}else throw new Cf("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new ol;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,o,u,h,f,p,v;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:x,wallet:_,statement:w,options:C}=t;let S;if(Mr())if(typeof _=="object")S=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")S=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const O=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href),P=await S.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=P3(P[0]);let j=(n=C==null?void 0:C.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const $=await S.request({method:"eth_chainId"});j=vH($)}const R={domain:O.host,address:N,statement:w,uri:O.href,version:"1",chainId:j,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=C==null?void 0:C.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=bH(R),b=await S.request({method:"personal_sign",params:[yH(g),N]})}try{const{data:x,error:_}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:vi});if(_)throw _;if(!x||!x.session||!x.user){const w=new ol;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(De(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,i,s,a,o,u,h,f,p,v,g;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:_,wallet:w,statement:C,options:S}=t;let O;if(Mr())if(typeof w=="object")O=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))O=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const P=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const N=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),C?{statement:C}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await O.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:_,error:w}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:lo(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:vi});if(w)throw w;if(!_||!_.session||!_.user){const C=new ol;return this._returnResult({data:{user:null,session:null},error:C})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(De(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vi});if(await oa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new ol;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(De(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vi}),{data:u,error:h}=o;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const f=new ol;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:h})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:u}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ll(this.storage,this.storageKey));const{error:p}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:o,options:u}=t,{data:h,error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new Cf("You must provide either an email or phone number.")}catch(o){if(De(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:vi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,h=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:h,session:u},error:null})}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;this.flowType==="pkce"&&([s,a]=await ll(this.storage,this.storageKey));const o=await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:cH});return this._returnResult(o)}catch(s){if(De(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gi;const{error:i}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(De(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Cf("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Hv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Ja(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=qv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=aH(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ma}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ma})})}catch(r){if(De(r))return F7(r)&&(await this._removeSession(),await oa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new gi;const a=i.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await ll(this.storage,this.storageKey));const{data:h,error:f}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:ma});if(f)throw f;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(De(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Wv(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Mr())throw new Af("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Af(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new B2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Af("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new B2("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:u,token_type:h}=t;if(!s||!o||!a||!h)throw new Af("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let v=f+p;u&&(v=parseInt(u));const g=v-f;g*1e3<=bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=v-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,f);const{data:x,error:_}=await this._getUser(s);if(_)throw _;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:a,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(De(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(M7(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await oa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=V7(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ll(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(De(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,u,h,f;const{data:p,error:v}=s;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Mr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(De(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:u,access_token:h,nonce:f}=t,p=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:u,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vi}),{data:v,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ol}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:g}))}catch(i){if(De(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await X7(async i=>(i>0&&await G7(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&zv(s)&&Date.now()+a-n<bl})}catch(n){if(this._debug(r,"error",n),De(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ja(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await _l(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:qv()}else if(i&&!i.user&&!i.user){const a=await Ja(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await oa(this.storage,this.storageKey+"-user"),await _l(this.storage,this.storageKey,i)):i.user=qv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Hv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),zv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Lm;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new gi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),De(s)){const a={data:null,error:s};return zv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _l(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=W2(i);await _l(this.storage,this.storageKey,s)}else{const i=W2(r);await _l(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await oa(this.storage,this.storageKey),await oa(this.storage,this.storageKey+"-code-verifier"),await oa(this.storage,this.storageKey+"-user"),this.userStorage&&await oa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bl}ms, refresh threshold is ${P1} ticks`),i<=P1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof N3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ll(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:h}=await We(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?SH(t.webauthn.credential_response):CH(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:u}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:kH(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:TH(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Wv(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const h=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gi})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new gi});const a=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Mr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new gi});const a=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Mr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+D7>i)return n;const{data:s,error:a}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:u}}=Wv(n);r!=null&&r.allowExpired||nH(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=iH(i.alg),p=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,W7(`${o}.${u}`)))throw new R1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}}cd.nextInstanceID=0;const LH=cd;class MH extends LH{constructor(t){super(t)}}class FH{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const o=N7(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:w7,realtime:k7,auth:Object.assign(Object.assign({},E7),{storageKey:u}),global:x7},f=O7(n??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=C7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new PU(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new y7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new CU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:u,debug:h,throwOnError:f},p,v){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MH({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:u,debug:h,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new YU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BH=(e,t,r)=>new FH(e,t,r);function $H(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$H()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UH="https://ntmiycfydldoremofrbf.supabase.co",HH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im50bWl5Y2Z5ZGxkb3JlbW9mcmJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzMDUxNDcsImV4cCI6MjA3Nzg4MTE0N30.LvdzPQaM55tQ9t5yZt60K-lYNaKLRyTNtBQ92Mw5Kpc",it=BH(UH,HH),j3=T.createContext({}),ii=()=>{const e=T.useContext(j3);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},zH=({children:e})=>{const[t,r]=T.useState(null),[n,i]=T.useState(null),[s,a]=T.useState(!0),o=Zr();T.useEffect(()=>{it.auth.getSession().then(({data:{session:C}})=>{r((C==null?void 0:C.user)??null),C!=null&&C.user?u(C.user.id):a(!1)});const{data:{subscription:w}}=it.auth.onAuthStateChange((C,S)=>{r((S==null?void 0:S.user)??null),S!=null&&S.user?u(S.user.id):(i(null),a(!1))});return()=>w.unsubscribe()},[]);const u=async w=>{try{const{data:C,error:S}=await it.from("profiles").select("*").eq("id",w).single();if(S)throw S;i(C),o&&C&&o.identify(w,{email:C.email,github_username:C.github_username,name:[C.first_name,C.last_name].filter(Boolean).join(" ")||void 0,created_at:C.created_at})}catch(C){console.error("Error loading profile:",C),i(null)}finally{a(!1)}},_={user:t,profile:n,loading:s,signInWithGitHub:async()=>{try{const w=window.location.pathname.split("/").filter(Boolean);let C="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?w[0]==="Terminus-EC-Training-stateful"&&(C="/Terminus-EC-Training-stateful"):C="/Terminus-EC-Training-stateful";const S=`${window.location.origin}${C}/portal`;console.log(" OAuth Debug Info:"),console.log("  Current URL:",window.location.href),console.log("  Redirect To:",S),console.log("  Origin:",window.location.origin),console.log("  Pathname:",window.location.pathname);const{error:O}=await it.auth.signInWithOAuth({provider:"github",options:{redirectTo:S}});if(O)throw O}catch(w){throw console.error("Error signing in with GitHub:",w),w}},signInWithEmail:async(w,C)=>{try{const{data:S,error:O}=await it.auth.signInWithPassword({email:w,password:C});if(O)throw O;return S}catch(S){throw console.error("Error signing in with email:",S),S}},signUpWithEmail:async(w,C)=>{try{const S=window.location.pathname.split("/").slice(0,-1).join("/")||"",O=`${window.location.origin}${S}/portal`,{data:P,error:N}=await it.auth.signUp({email:w,password:C,options:{emailRedirectTo:O}});if(N)throw N;return P}catch(S){throw console.error("Error signing up with email:",S),S}},signOut:async()=>{try{const{error:w}=await it.auth.signOut();if(w)throw w;i(null),o&&o.reset()}catch(w){throw console.error("Error signing out:",w),w}},deleteAccount:async()=>{try{const{error:w}=await it.functions.invoke("delete-account",{method:"POST"});if(w)throw w;return r(null),i(null),o&&o.reset(),{error:null}}catch(w){return console.error("Error deleting account:",w),{error:w}}},completeOnboarding:async(w=[])=>{try{const C={onboarding_completed:!0};w&&w.length>0&&(C.specialties=w);const{error:S}=await it.from("profiles").update(C).eq("id",t.id);if(S)throw S;i(O=>({...O,...C}))}catch(C){throw console.error("Error completing onboarding:",C),C}},updateProfile:async w=>{try{const{error:C}=await it.from("profiles").update(w).eq("id",t.id);if(C)throw C;return i(S=>({...S,...w})),{error:null}}catch(C){return console.error("Error updating profile:",C),{error:C}}}};return d.jsx(j3.Provider,{value:_,children:e})},R3=T.createContext(),WH=({children:e})=>{const[t,r]=T.useState("light");T.useEffect(()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")},[]);const n=()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")};return d.jsx(R3.Provider,{value:{theme:t,toggleTheme:n},children:e})},D3=()=>T.useContext(R3),L3=T.createContext({}),M3=()=>{const e=T.useContext(L3);if(!e)throw new Error("useProgress must be used within a ProgressProvider");return e},qH=({children:e})=>{const{user:t}=ii(),[r,n]=T.useState([]),[i,s]=T.useState({}),[a,o]=T.useState(!0);T.useEffect(()=>{u()},[]),T.useEffect(()=>{t?h():(s({}),o(!1))},[t]);const u=async()=>{try{const{data:_,error:w}=await it.from("progress_items").select("*").order("display_order");if(w)throw w;n(_||[])}catch(_){console.error("Error fetching progress items:",_)}},h=async()=>{try{o(!0);const{data:_,error:w}=await it.from("user_progress").select("*").eq("user_id",t.id);if(w)throw w;const C={};_==null||_.forEach(S=>{C[S.progress_item_id]=S}),s(C)}catch(_){console.error("Error fetching user progress:",_)}finally{o(!1)}},x={progressItems:r,userProgress:i,loading:a,toggleCompletion:async _=>{if(!t)return;const w=i[_],C=!(w!=null&&w.completed);s(S=>({...S,[_]:{...S[_],completed:C,completed_at:C?new Date().toISOString():null}}));try{const{error:S}=await it.from("user_progress").upsert({user_id:t.id,progress_item_id:_,completed:C,completed_at:C?new Date().toISOString():null},{onConflict:"user_id,progress_item_id"});if(S)throw S}catch(S){console.error("Error toggling completion:",S),s(O=>({...O,[_]:w}))}},isCompleted:_=>{var w;return((w=i[_])==null?void 0:w.completed)||!1},getCompletionPercentage:()=>{if(r.length===0)return 0;const _=Object.values(i).filter(w=>w.completed).length;return Math.round(_/r.length*100)},getCoreCompletionPercentage:()=>{const _=r.filter(C=>C.is_core);if(_.length===0)return 0;const w=_.filter(C=>{var S;return(S=i[C.id])==null?void 0:S.completed}).length;return Math.round(w/_.length*100)},getCompletedCount:()=>Object.values(i).filter(_=>_.completed).length,totalItems:r.length};return d.jsx(L3.Provider,{value:x,children:e})},VH={success:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),warning:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},KH=({id:e,type:t="info",message:r,onClose:n,duration:i=5e3})=>{const[s,a]=T.useState(!1);T.useEffect(()=>{const u=setTimeout(()=>{o()},i);return()=>clearTimeout(u)},[i]);const o=()=>{a(!0),setTimeout(()=>{n(e)},200)};return d.jsxs("div",{className:`ui-toast ${t} ${s?"closing":""}`,children:[d.jsx("div",{className:"ui-toast-icon",children:VH[t]}),d.jsx("div",{className:"ui-toast-content",children:r}),d.jsx("button",{className:"ui-toast-close",onClick:o,"aria-label":"Close notification",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},YH=({toasts:e,removeToast:t})=>d.jsx("div",{className:"ui-toast-container",children:e.map(r=>d.jsx(KH,{...r,onClose:t},r.id))}),F3=T.createContext(null),GH=()=>{const e=T.useContext(F3);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},XH=({children:e})=>{const[t,r]=T.useState([]),n=T.useCallback(({type:f="info",message:p,duration:v=5e3})=>{const g=Math.random().toString(36).substr(2,9);return r(b=>[...b,{id:g,type:f,message:p,duration:v}]),g},[]),i=T.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),s=T.useCallback((f,p)=>n({type:"success",message:f,duration:p}),[n]),a=T.useCallback((f,p)=>n({type:"error",message:f,duration:p}),[n]),o=T.useCallback((f,p)=>n({type:"warning",message:f,duration:p}),[n]),u=T.useCallback((f,p)=>n({type:"info",message:f,duration:p}),[n]),h={addToast:n,removeToast:i,success:s,error:a,warning:o,info:u,toasts:t};return d.jsxs(F3.Provider,{value:h,children:[e,d.jsx(YH,{toasts:t,removeToast:i})]})},QH=["Waking up the task hamsters...","Fetching challenges from the cloud...","Gathering inspiration...","Polishing the task gems...","Summoning the task wizards...","Loading amazing challenges...","Brewing fresh tasks...","Unpacking brain teasers...","Dusting off the puzzle shelf...","Herding digital cats...","Consulting the oracle...","Spinning up the challenge machine...","Searching for exciting problems...","Preparing your adventure...","Rolling for initiative...","Loading the good stuff...","Calibrating difficulty meters...","Warming up the neurons...","Charging the creativity core...","Assembling the quest board..."],B3=["Just a moment...","Almost there...","Loading the magic...","Working on it...","Hang tight...","Getting things ready..."],JH=["Gathering your conquests...","Locating your adventures...","Counting your victories...","Rounding up your challenges...","Retrieving your battle plans...","Fetching your quest log...","Loading your journey so far...","Summoning your progress...","Dusting off your trophy case...","Assembling your achievements..."],ZH=["Unwrapping this challenge...","Fetching the details...","Preparing the briefing...","Loading the specifics...","Getting the full story...","Gathering intel...","Reading the fine print...","Assembling the facts..."],ez=["Checking your credentials...","Verifying your identity...","Opening the portal...","Rolling out the red carpet...","Finding your profile...","Preparing your workspace...","Unlocking the gates...","Waving you through...","Confirming it's really you...","Setting up your station..."],tz=["Crunching the numbers...","Gathering insights...","Fetching the stats...","Counting all the things...","Consulting the oracles...","Running the analysis...","Preparing your command center...","Loading the control room..."];function rz(e=B3){return e[Math.floor(Math.random()*e.length)]}function Id(e=B3,t=2500){const[r,n]=T.useState(()=>rz(e)),i=T.useRef(new Set);return T.useEffect(()=>{i.current=new Set;const s=setInterval(()=>{i.current.size>=e.length&&(i.current=new Set);let a;do a=Math.floor(Math.random()*e.length);while(i.current.has(a)&&i.current.size<e.length);i.current.add(a),n(e[a])},t);return()=>clearInterval(s)},[e,t]),r}function He({variant:e="primary",size:t="md",loading:r=!1,disabled:n=!1,className:i="",children:s,...a}){const o=["ui-btn",`ui-btn-${e}`,`ui-btn-${t}`,r&&"ui-btn-loading",i].filter(Boolean).join(" ");return d.jsxs("button",{className:o,disabled:n||r,...a,children:[r&&d.jsx("span",{className:"ui-btn-spinner"}),d.jsx("span",{className:r?"ui-btn-content-hidden":"",children:s})]})}function nz({variant:e="default",padding:t="md",hoverable:r=!1,className:n="",children:i,...s}){const a=["ui-card",`ui-card-${e}`,`ui-card-padding-${t}`,r&&"ui-card-hoverable",n].filter(Boolean).join(" ");return d.jsx("div",{className:a,...s,children:i})}function Kv({type:e="text",label:t,error:r,id:n,className:i="",...s}){const a=n||`input-${Math.random().toString(36).substr(2,9)}`;return d.jsxs("div",{className:`ui-input-group ${r?"ui-input-error":""} ${i}`,children:[t&&d.jsx("label",{htmlFor:a,className:"ui-input-label",children:t}),d.jsx("input",{type:e,id:a,className:"ui-input",...s}),r&&d.jsx("span",{className:"ui-input-error-message",children:r})]})}function iz({className:e="",onClear:t,value:r,...n}){return d.jsxs("div",{className:`ui-search-wrapper ${e}`,children:[d.jsxs("svg",{className:"ui-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]}),d.jsx("input",{type:"search",className:"ui-input ui-search-input",value:r,...n}),r&&t&&d.jsx("button",{type:"button",className:"ui-search-clear",onClick:t,"aria-label":"Clear search",children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function vs({variant:e="default",size:t="md",className:r="",children:n,...i}){const s=["ui-badge",`ui-badge-${e}`,`ui-badge-${t}`,r].filter(Boolean).join(" ");return d.jsx("span",{className:s,...i,children:n})}function Q2({checked:e=!1,indeterminate:t=!1,onChange:r,disabled:n=!1,size:i="md",label:s,className:a="",...o}){const u=T.useRef(null);T.useEffect(()=>{u.current&&(u.current.indeterminate=t)},[t]);const h=["ui-checkbox",`ui-checkbox-${i}`,e&&"ui-checkbox-checked",t&&"ui-checkbox-indeterminate",n&&"ui-checkbox-disabled",a].filter(Boolean).join(" "),f=v=>{n||r&&(v.stopPropagation(),r(!e))},p=d.jsxs("div",{className:h,onClick:f,children:[d.jsx("input",{ref:u,type:"checkbox",checked:e,disabled:n,onChange:()=>r==null?void 0:r(!e),className:"ui-checkbox-input",...o}),d.jsx("div",{className:"ui-checkbox-box",children:t?d.jsx("div",{className:"ui-checkbox-indeterminate-icon"}):d.jsx("svg",{className:"ui-checkbox-check-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]});return s?d.jsxs("label",{className:`ui-checkbox-label ${n?"ui-checkbox-label-disabled":""}`,children:[p,d.jsx("span",{className:"ui-checkbox-label-text",children:s})]}):p}function Ex({isOpen:e,onClose:t,closeOnOverlay:r=!0,closeOnEscape:n=!0,showCloseButton:i=!1,size:s="md",className:a="",children:o,...u}){const h=T.useCallback(p=>{p.key==="Escape"&&n&&(t==null||t())},[n,t]);if(T.useEffect(()=>(e&&(document.addEventListener("keydown",h),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",h),document.body.style.overflow=""}),[e,h]),!e)return null;const f=p=>{p.target===p.currentTarget&&r&&(t==null||t())};return d.jsx("div",{className:"ui-modal-overlay",onClick:f,...u,children:d.jsxs("div",{className:`ui-modal-content ui-modal-${s} ${a}`,children:[i&&d.jsx("button",{className:"ui-modal-close",onClick:t,"aria-label":"Close",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o]})})}function $3({size:e="md",className:t="",...r}){const n=["ui-spinner",`ui-spinner-${e}`,t].filter(Boolean).join(" ");return d.jsx("div",{className:n,...r})}function su({size:e="md",message:t,className:r="",...n}){return d.jsxs("div",{className:`ui-loading-state ${r}`,...n,children:[d.jsx($3,{size:e}),t&&d.jsx("p",{className:"ui-loading-message",children:t})]})}function sz({variant:e="warning",title:t,children:r,className:n="",dismissible:i=!1,onDismiss:s,...a}){const o={warning:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),success:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})};return d.jsxs("div",{className:`announcement-banner announcement-banner--${e} ${n}`,role:"alert",...a,children:[d.jsx("div",{className:"announcement-banner__icon",children:o[e]||o.warning}),d.jsxs("div",{className:"announcement-banner__content",children:[t&&d.jsx("strong",{className:"announcement-banner__title",children:t}),r&&d.jsx("div",{className:"announcement-banner__body",children:r})]}),i&&d.jsx("button",{type:"button",className:"announcement-banner__dismiss",onClick:s,"aria-label":"Dismiss",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}const U3=T.createContext(null);function az({value:e,onChange:t,className:r="",children:n,...i}){return d.jsx(U3.Provider,{value:{value:e,onChange:t},children:d.jsx("div",{className:`ui-tabs ${r}`,...i,children:n})})}function Yv({value:e,className:t="",children:r,...n}){const i=T.useContext(U3);if(!i)throw new Error("Tab must be used within a Tabs component");const{value:s,onChange:a}=i,o=s===e;return d.jsx("button",{type:"button",className:`ui-tab ${o?"active":""} ${t}`,onClick:()=>a(e),role:"tab","aria-selected":o,...n,children:r})}function oz({steps:e=1,currentStep:t=0,onStepClick:r,className:n="",...i}){const s=a=>{r&&r(a)};return d.jsx("div",{className:`ui-step-indicators ${n}`,...i,children:Array.from({length:e},(a,o)=>d.jsx("button",{type:"button",className:["ui-step-dot",o===t&&"active",o<t&&"completed"].filter(Boolean).join(" "),onClick:()=>s(o),disabled:!r,"aria-label":`Step ${o+1} of ${e}`,"aria-current":o===t?"step":void 0},o))})}const H3=({className:e="",...t})=>d.jsx("div",{className:`ui-logo-lockup ${e}`,...t,children:d.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"ui-snorkel-logo-img"})}),z3=({className:e="",children:t,...r})=>d.jsx("nav",{className:`ui-navbar ${e}`,...r,children:t}),ha=({to:e,href:t,children:r,className:n="",active:i=!1,variant:s="default",as:a,...o})=>{const u=["ui-nav-link",i&&"active",s==="button"&&"variant-button",n].filter(Boolean).join(" ");return a?d.jsx(a,{className:u,...o,children:r}):t?d.jsx("a",{href:t,className:u,...o,children:r}):e?d.jsx(Sr,{to:e,className:u,...o,children:r}):d.jsx("button",{className:u,...o,children:r})};function J2(e,t){return!t||!e?e:e.split(new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi")).map((n,i)=>n.toLowerCase()===t.toLowerCase()?d.jsx("mark",{className:"search-highlight",children:n},i):n)}function Z2(e){if(!e)return null;const t=new Date(e),n=new Date-t,i=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),a=Math.floor(n/(1e3*60*60*24));return i<1?"Just now":i<60?`${i}m ago`:s<24?`${s}h ago`:a===1?"1 day ago":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} weeks ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const kx=({difficulty:e})=>{const t=e==null?void 0:e.toLowerCase();let r=0;return t==="hard"?r=3:t==="medium"?r=2:t==="easy"&&(r=1),d.jsx("div",{className:"task-card-difficulty",title:`Difficulty: ${e}`,children:[...Array(3)].map((n,i)=>d.jsx("span",{className:i<r?"active":"inactive",children:""},i))})};function xo({task:e,isCompleted:t=!1,isHighlighted:r=!1,searchQuery:n="",onClick:i,footer:s,claimedAt:a,completedAt:o,statusBadge:u,className:h=""}){const f=T.useMemo(()=>!n||!(e!=null&&e.description)?e==null?void 0:e.description:J2(e.description,n),[e==null?void 0:e.description,n]),p=T.useMemo(()=>{const g=(e==null?void 0:e.subcategory)||(e==null?void 0:e.subsubcategory)||"Task";return n?J2(g,n):g},[e==null?void 0:e.subcategory,e==null?void 0:e.subsubcategory,n]),v=!!i;return d.jsxs("div",{className:`task-card ${t?"completed":""} ${r?"highlighted":""} ${v?"clickable":""} ${h}`,onClick:i,role:v?"button":void 0,tabIndex:v?0:void 0,onKeyDown:v?g=>g.key==="Enter"&&(i==null?void 0:i(g)):void 0,children:[t&&d.jsx("div",{className:"task-card-ribbon",children:d.jsx("span",{children:"Accepted"})}),d.jsx("div",{className:"task-card-header",children:d.jsx("div",{className:"task-card-header-content",children:d.jsxs("div",{className:"task-card-title-row",children:[d.jsx("span",{className:"task-card-title",title:(e==null?void 0:e.subcategory)||(e==null?void 0:e.subsubcategory)||"Task",children:p}),d.jsx("div",{className:"task-card-title-right",children:(e==null?void 0:e.difficulty)&&d.jsx(kx,{difficulty:e.difficulty})})]})})}),d.jsx("div",{className:"task-card-separator"}),d.jsxs("div",{className:"task-card-body",children:[d.jsx("span",{className:"task-card-label",children:"Goal"}),d.jsx("div",{className:"task-card-description",title:e==null?void 0:e.description,children:f})]}),(a||o||u)&&d.jsxs("div",{className:"task-card-meta",children:[u&&d.jsx("span",{className:`task-card-status-badge ${u.toLowerCase().replace(/\s+/g,"-")}`,children:u}),(a||o)&&d.jsxs("span",{className:`task-card-claimed ${t&&o?"accepted":""}`,children:[t&&o?d.jsx("span",{className:"accepted-icon",children:""}):d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t&&o?`Accepted ${Z2(o)}`:`Claimed ${Z2(a)}`]})]}),s&&d.jsx("div",{className:"task-card-footer",children:s})]})}const W3="tasks_cache_v3",lz=300*1e3,q3=()=>{try{const e=localStorage.getItem(W3);if(!e)return null;const{tasks:t,timestamp:r}=JSON.parse(e),n=Date.now()-r>lz;return{tasks:t,isExpired:n}}catch{return null}},xl=e=>{try{localStorage.setItem(W3,JSON.stringify({tasks:e,timestamp:Date.now()}))}catch{}},uz=(e,t)=>{try{const r=q3();if(!(r!=null&&r.tasks))return;const n=r.tasks.map(i=>i.id===e?{...i,is_selected:t}:i);xl(n)}catch{}};function Tx(){const{user:e}=ii(),t=Zr(),[r,n]=T.useState([]),[i,s]=T.useState(!0),[a,o]=T.useState(null),[u,h]=T.useState(0),f=T.useRef(null),p=T.useRef(!1),v=T.useRef(!1),g=async()=>{if(v.current)return null;v.current=!0;try{let S=[],O=0,P=!0;for(;P;){const N=O*1e3,j=N+1e3-1,{data:R,error:$}=await it.from("v_tasks_with_priorities").select("*").order("display_order",{ascending:!0,nullsFirst:!1}).order("is_highlighted",{ascending:!1}).order("category",{ascending:!0}).order("subcategory",{ascending:!0}).range(N,j);if($)throw $;const L=R||[];S=[...S,...L],P=L.length===1e3,O++}return n(S),xl(S),o(null),S}catch(C){return console.error("Error fetching tasks:",C),o(C.message),null}finally{v.current=!1}};T.useEffect(()=>{(async()=>{var O;const S=q3();(O=S==null?void 0:S.tasks)!=null&&O.length?(n(S.tasks),s(!1),g()):(s(!0),await g(),s(!1))})(),e&&b()},[e]),T.useEffect(()=>{if(p.current)return;p.current=!0;const C=it.channel("tasks_realtime_"+Date.now()).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks"},S=>{var O,P;S.eventType==="INSERT"&&((O=S.new)!=null&&O.task_id)?n(N=>{const j=N.map(R=>R.id===S.new.task_id?{...R,is_selected:!0}:R);return xl(j),j}):S.eventType==="DELETE"&&((P=S.old)!=null&&P.task_id)&&n(N=>{const j=N.map(R=>R.id===S.old.task_id?{...R,is_selected:!1}:R);return xl(j),j})}).subscribe();return f.current=C,()=>{p.current=!1,f.current&&(it.removeChannel(f.current),f.current=null)}},[]);const b=async()=>{if(!e){h(0);return}try{const{data:C,error:S}=await it.from("selected_tasks").select("status").eq("user_id",e.id).in("status",["claimed","in_progress"]);if(S)throw S;h((C==null?void 0:C.length)||0)}catch(C){console.error("Error fetching active task count:",C)}},x=async()=>{s(!0),await g(),s(!1)},_=async C=>{if(!e)throw new Error("User not authenticated");if(u>=wi)throw new Error(`You can only have up to ${wi} active tasks. Submit tasks for review or complete them to claim more.`);try{const{error:S}=await it.from("selected_tasks").insert({user_id:e.id,task_id:C,status:"claimed"});if(S)throw S.code==="23505"?new Error("This task has already been selected by another user"):S.code==="P0001"?new Error(S.message):S;const O=new Date().toISOString(),P=r.find(N=>N.id===C);return n(N=>{const j=N.map(R=>R.id===C?{...R,is_selected:!0,selected_at:O}:R);return xl(j),j}),h(N=>N+1),t&&P&&t.capture("task_claimed",{task_id:C,category:P.category,subcategory:P.subcategory}),!0}catch(S){throw console.error("Error selecting task:",S),await x(),await b(),S}},w=async C=>{if(!e)throw new Error("User not authenticated");try{const{error:S}=await it.from("selected_tasks").delete().match({user_id:e.id,task_id:C});if(S)throw S;return n(O=>{const P=O.map(N=>N.id===C?{...N,is_selected:!1}:N);return xl(P),P}),!0}catch(S){throw console.error("Error unselecting task:",S),await x(),S}};return{tasks:r,loading:i,error:a,activeTaskCount:u,canClaimMore:u<wi,refetch:x,refetchActiveCount:b,selectTask:_,unselectTask:w}}const Me={CLAIMED:"claimed",IN_PROGRESS:"in_progress",WAITING_REVIEW:"waiting_review",ACCEPTED:"accepted"},V3={[Me.CLAIMED]:"Claimed",[Me.IN_PROGRESS]:"In Progress",[Me.WAITING_REVIEW]:"Waiting on Review",[Me.ACCEPTED]:"Accepted"},wi=3,K3="selected_tasks_cache_v1",cz=e=>{try{const t=localStorage.getItem(`${K3}_${e}`);return t?JSON.parse(t):null}catch{return null}},eC=(e,t)=>{try{localStorage.setItem(`${K3}_${e}`,JSON.stringify(t))}catch{}};function au(){const{user:e}=ii(),t=Zr(),[r,n]=T.useState([]),[i,s]=T.useState(!0),[a,o]=T.useState(null),[u,h]=T.useState(0),f=T.useRef(null),p=T.useRef(!1);T.useEffect(()=>{var N;if(e){const j=cz(e.id);return((N=j==null?void 0:j.tasks)==null?void 0:N.length)>0?(n(j.tasks),h(j.activeCount||0),s(!1),v(!1)):v(!0),f.current=it.channel(`my_tasks_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks",filter:`user_id=eq.${e.id}`},R=>{setTimeout(()=>v(!1),100)}).subscribe(),()=>{f.current&&it.removeChannel(f.current)}}},[e]);const v=async(N=!0)=>{if(!p.current){p.current=!0;try{N&&s(!0),o(null);const{data:j,error:R}=await it.from("selected_tasks").select("task_id, selected_at, first_commit_at, completed_at, status, started_at, submitted_for_review_at").eq("user_id",e.id);if(R)throw R;if(!j||j.length===0){n([]),h(0),s(!1),p.current=!1,e&&eC(e.id,{tasks:[],activeCount:0});return}const $=j.filter(Y=>Y.status===Me.CLAIMED||Y.status===Me.IN_PROGRESS).length;h($);const L=j.map(Y=>Y.task_id),{data:U,error:W}=await it.from("v_tasks_with_priorities").select("*").in("id",L);if(W)throw W;const Q=(U==null?void 0:U.map(Y=>{const V=j.find(le=>le.task_id===Y.id);return{...Y,selected_at:V==null?void 0:V.selected_at,first_commit_at:V==null?void 0:V.first_commit_at,completed_at:V==null?void 0:V.completed_at,status:(V==null?void 0:V.status)||Me.CLAIMED,started_at:V==null?void 0:V.started_at,submitted_for_review_at:V==null?void 0:V.submitted_for_review_at}}).sort((Y,V)=>{const le={[Me.IN_PROGRESS]:0,[Me.CLAIMED]:1,[Me.WAITING_REVIEW]:2,[Me.ACCEPTED]:3};return le[Y.status]!==le[V.status]?le[Y.status]-le[V.status]:new Date(V.selected_at)-new Date(Y.selected_at)}))||[];n(Q),e&&eC(e.id,{tasks:Q,activeCount:$})}catch(j){console.error("Error fetching selected tasks:",j),o(j.message)}finally{p.current=!1,s(!1)}}},g=async N=>{if(!e)throw new Error("User not authenticated");try{const j=r.find($=>$.id===N),{error:R}=await it.from("selected_tasks").delete().match({user_id:e.id,task_id:N});if(R)throw R;return t&&j&&t.capture("task_abandoned",{task_id:N,task_category:j.category,task_subcategory:j.subcategory,task_status_at_abandon:j.status,task_difficulty:j.difficulty}),n($=>$.filter(L=>L.id!==N)),uz(N,!1),j&&(j.status===Me.CLAIMED||j.status===Me.IN_PROGRESS)&&h($=>Math.max(0,$-1)),!0}catch(j){throw console.error("Error unselecting task:",j),await v(),j}},b=async(N,j)=>{if(!e)throw new Error("User not authenticated");try{const R=new Date().toISOString(),$={status:j},L=r.find(W=>W.id===N);j===Me.IN_PROGRESS?$.started_at=R:j===Me.WAITING_REVIEW?$.submitted_for_review_at=R:j===Me.ACCEPTED&&($.completed_at=R);const{error:U}=await it.from("selected_tasks").update($).match({user_id:e.id,task_id:N});if(U)throw U;if(t&&L){const W={[Me.IN_PROGRESS]:"task_started",[Me.WAITING_REVIEW]:"task_submitted_for_review",[Me.ACCEPTED]:"task_accepted"}[j];W&&t.capture(W,{task_id:N,category:L.category,subcategory:L.subcategory})}return n(W=>{const Q=W.map(V=>V.id===N?{...V,...$}:V),Y={[Me.IN_PROGRESS]:0,[Me.CLAIMED]:1,[Me.WAITING_REVIEW]:2,[Me.ACCEPTED]:3};return Q.sort((V,le)=>Y[V.status]!==Y[le.status]?Y[V.status]-Y[le.status]:new Date(le.selected_at)-new Date(V.selected_at))}),j===Me.WAITING_REVIEW||j===Me.ACCEPTED?h(W=>Math.max(0,W-1)):(j===Me.CLAIMED||j===Me.IN_PROGRESS)&&h(W=>W+1),!0}catch(R){throw console.error("Error updating task status:",R),await v(),R}},x=N=>b(N,Me.IN_PROGRESS),_=N=>b(N,Me.WAITING_REVIEW),w=N=>b(N,Me.ACCEPTED),C=async N=>{if(!e)throw new Error("User not authenticated");if(u>=wi)throw new Error(`You can only have up to ${wi} active tasks. Submit tasks for review or wait for acceptance to free up slots.`);return b(N,Me.IN_PROGRESS)},S=w,O=C,P=async N=>{if(!e)throw new Error("User not authenticated");try{const j=new Date().toISOString(),{error:R}=await it.from("selected_tasks").update({first_commit_at:j}).match({user_id:e.id,task_id:N});if(R)throw R;return n($=>$.map(L=>L.id===N?{...L,first_commit_at:j}:L)),!0}catch(j){throw console.error("Error marking first commit:",j),await v(),j}};return{selectedTasks:r,loading:i,error:a,activeTaskCount:u,canClaimMore:u<wi,refetch:v,unselectTask:g,markFirstCommit:P,startTask:x,submitForReview:_,acceptTask:w,reopenTask:C,updateTaskStatus:b,completeTask:S,uncompleteTask:O}}function Y3({task:e,isOpen:t,onClose:r,onTaskUpdate:n,contextTasks:i=[],onNavigate:s,showNavigation:a=!1}){const o=pt(),u=Zr(),{selectTask:h,activeTaskCount:f,canClaimMore:p}=Tx(),{unselectTask:v}=au(),[g,b]=T.useState(!1),[x,_]=T.useState(!1),w=T.useRef(null);T.useEffect(()=>{t&&e&&u&&u.capture("task_card_viewed",{task_id:e.id,task_category:e.category,task_subcategory:e.subcategory,task_difficulty:e.difficulty,is_special:e.is_special||e.priority_tag||e.is_highlighted})},[t,e==null?void 0:e.id,u]),T.useEffect(()=>{(!t||!e)&&_(!1)},[t,e==null?void 0:e.id]),T.useEffect(()=>{if(!x||!w.current)return;const $=w.current,L=["#fbbf24","#34d399","#60a5fa","#f472b6","#a78bfa","#fb923c"],U=50;for(let Q=0;Q<U;Q++){const Y=document.createElement("div");Y.className="confetti-piece",Y.style.setProperty("--x",`${Math.random()*100-50}vw`),Y.style.setProperty("--rotation",`${Math.random()*720-360}deg`),Y.style.left=`${Math.random()*100}%`,Y.style.backgroundColor=L[Math.floor(Math.random()*L.length)],Y.style.animationDelay=`${Math.random()*.5}s`,Y.style.animationDuration=`${1+Math.random()*1}s`,$.appendChild(Y)}const W=setTimeout(()=>{$.querySelectorAll(".confetti-piece").forEach(Q=>Q.remove())},3e3);return()=>clearTimeout(W)},[x]),T.useEffect(()=>{if(!t||!a||x)return;const $=L=>{L.key==="ArrowLeft"?P("prev"):L.key==="ArrowRight"&&P("next")};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[t,e,i,x,a]);const C=()=>{_(!1),r==null||r()},S=async()=>{if(!(!e||g)){b(!0);try{await h(e.id),_(!0),n==null||n()}catch($){console.error("Error claiming task:",$),alert($.message||"Failed to claim task. Please try again.")}finally{b(!1)}}},O=async()=>{if(e&&window.confirm("Are you sure you want to release this task?"))try{await v(e.id),n==null||n(),C()}catch($){console.error("Error releasing task:",$)}},P=$=>{if(!e||i.length===0)return;const L=i.findIndex(W=>W.id===e.id);if(L===-1)return;let U;$==="next"?(U=L+1,U<i.length&&(s==null||s(i[U]))):(U=L-1,U>=0&&(s==null||s(i[U])))},N=e&&i.length>0?i.findIndex($=>$.id===e.id):-1,j=N>0,R=N!==-1&&N<i.length-1;return e?d.jsx(Ex,{isOpen:t,onClose:C,size:"lg",className:"task-detail-modal",children:x?d.jsxs("div",{className:"task-claim-success",ref:w,children:[d.jsx("div",{className:"success-icon-wrapper",children:d.jsx("div",{className:"success-icon",children:""})}),d.jsx("h2",{children:"Task Claimed!"}),d.jsx("p",{children:"This task has been added to your list."}),d.jsxs("div",{className:"success-actions-stack",children:[d.jsx(He,{variant:"primary",onClick:C,style:{width:"100%"},children:"Continue Browsing"}),d.jsx(He,{variant:"secondary",onClick:()=>{C(),o("/portal/my-tasks")},style:{width:"100%"},children:"Go to My Tasks"}),d.jsx(He,{variant:"ghost",onClick:O,style:{color:"#dc2626",width:"100%"},children:"Give task back"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"task-detail-modal-header",children:d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[d.jsxs("div",{children:[d.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[d.jsxs("div",{className:"task-breadcrumb",children:[d.jsx("span",{className:"breadcrumb-segment parent",children:e.category}),d.jsx("span",{className:"breadcrumb-separator",children:"/"}),d.jsx("span",{className:"breadcrumb-segment current",children:e.subcategory||e.subsubcategory})]}),e.difficulty&&d.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:d.jsx(kx,{difficulty:e.difficulty})})]}),d.jsx("h2",{children:"Your challenge"})]}),a&&i.length>1&&d.jsxs("div",{className:"modal-navigation",style:{display:"flex",gap:"8px"},children:[d.jsx("button",{className:"modal-nav-btn",onClick:()=>P("prev"),disabled:!j,title:"Previous Task (Left Arrow)",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})})}),d.jsx("button",{className:"modal-nav-btn",onClick:()=>P("next"),disabled:!R,title:"Next Task (Right Arrow)",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}),d.jsx("div",{className:"task-detail-modal-body",children:d.jsx("p",{children:e.description})}),d.jsxs("div",{className:"task-detail-modal-footer",children:[d.jsxs("div",{style:{marginRight:"auto",display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[(e.is_special||e.priority_tag||e.is_highlighted)&&d.jsx(vs,{variant:"accent",children:"Double Pay"}),d.jsxs("span",{style:{fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:["Active: ",d.jsxs("strong",{style:{color:p?"var(--text-primary)":"var(--color-warning)"},children:[f,"/",wi]})]})]}),d.jsx(He,{variant:"ghost",onClick:C,disabled:g,children:"Cancel"}),d.jsx(He,{variant:"secondary",onClick:()=>{C(),o("/portal/tasks")},disabled:g,children:"Browse All Tasks"}),d.jsx(He,{variant:"primary",onClick:S,loading:g,disabled:!p,title:p?"":`You can only have ${wi} active tasks. Submit tasks for review to free up slots.`,children:p?"Claim Task":"Active Task Limit Reached"})]})]})}):null}function G3({task:e,isOpen:t,onClose:r,onTaskUpdate:n}){const{unselectTask:i,startTask:s,submitForReview:a,acceptTask:o,reopenTask:u,canClaimMore:h}=au(),[f,p]=T.useState(!1),[v,g]=T.useState(null),b=(v==null?void 0:v.id)===(e==null?void 0:e.id)?v:e,x=()=>{g(null),r==null||r()},_=async()=>{if(!(!b||f)){p(!0);try{await s(b.id),x(),n==null||n({...b,status:Me.IN_PROGRESS,started_at:new Date().toISOString()})}catch($){console.error("Error starting task:",$),alert($.message)}finally{p(!1)}}},w=async()=>{if(!(!b||f)){p(!0);try{await a(b.id),x(),n==null||n({...b,status:Me.WAITING_REVIEW})}catch($){console.error("Error submitting task for review:",$),alert($.message)}finally{p(!1)}}},C=async()=>{if(!(!b||f)){p(!0);try{await o(b.id),x(),n==null||n({...b,status:Me.ACCEPTED,completed_at:new Date().toISOString()})}catch($){console.error("Error accepting task:",$),alert($.message)}finally{p(!1)}}},S=async()=>{if(!(!b||f)){p(!0);try{await u(b.id),x(),n==null||n({...b,status:Me.IN_PROGRESS})}catch($){console.error("Error reopening task:",$),alert($.message)}finally{p(!1)}}},O=async()=>{if(!(!b||f)&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await i(b.id),x()}catch($){console.error("Error abandoning task:",$)}finally{p(!1)}}};if(!b)return null;const P=b.status,N=P===Me.CLAIMED||P===Me.IN_PROGRESS,j=P===Me.WAITING_REVIEW,R=P===Me.ACCEPTED;return d.jsx(Ex,{isOpen:t,onClose:x,size:"lg",className:"task-detail-modal",children:d.jsxs(d.Fragment,{children:[R&&d.jsx("div",{className:"modal-ribbon",children:d.jsx("span",{children:"Accepted"})}),d.jsx("div",{className:"task-detail-modal-header",children:d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[d.jsxs("div",{children:[d.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[d.jsxs("div",{className:"task-breadcrumb",children:[d.jsx("span",{className:"breadcrumb-segment parent",children:b.category}),d.jsx("span",{className:"breadcrumb-separator",children:"/"}),d.jsx("span",{className:"breadcrumb-segment current",children:b.subcategory||b.subsubcategory})]}),b.difficulty&&d.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:d.jsx(kx,{difficulty:b.difficulty})})]}),d.jsx("h2",{children:"Your challenge"})]}),P===Me.IN_PROGRESS&&d.jsx(vs,{variant:"info",style:{flexShrink:0},children:"In Progress"}),j&&d.jsx(vs,{variant:"warning",style:{flexShrink:0},children:"Waiting on Review"})]})}),d.jsxs("div",{className:"task-detail-modal-body",children:[d.jsx("p",{children:b.description}),d.jsxs("div",{className:"modal-timeline-info",style:{marginTop:"var(--space-4)",fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:[b.selected_at&&d.jsxs("div",{children:["Claimed on ",new Date(b.selected_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),b.started_at&&d.jsxs("div",{children:["Started on ",new Date(b.started_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),b.submitted_for_review_at&&d.jsxs("div",{children:["Submitted for review on ",new Date(b.submitted_for_review_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),R&&b.completed_at&&d.jsxs("div",{children:[" Accepted on ",new Date(b.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]})]}),d.jsxs("div",{className:"task-detail-modal-footer",children:[(b.is_special||b.priority_tag||b.is_highlighted)&&d.jsx("div",{style:{marginRight:"auto"},children:d.jsx(vs,{variant:"accent",children:"Double Pay"})}),N&&d.jsx(He,{variant:"danger",onClick:O,disabled:f,children:"Abandon Task"}),P===Me.CLAIMED&&d.jsx(He,{variant:"primary",onClick:_,loading:f,children:"Started working on this task"}),P===Me.IN_PROGRESS&&d.jsx(He,{variant:"primary",onClick:w,loading:f,children:"Submitted for review"}),j&&d.jsx(He,{variant:"primary",onClick:C,loading:f,children:"Mark as Accepted"}),j&&d.jsx(He,{variant:"secondary",onClick:S,loading:f,disabled:!h,title:h?"":`You have ${wi} active tasks. Submit or complete some first.`,children:"Go back to working on it"}),R&&d.jsx(He,{variant:"secondary",onClick:S,loading:f,disabled:!h,title:h?"":`You have ${wi} active tasks. Submit or complete some first.`,children:"Re-open Task"})]})]})})}var X3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tC=fn.createContext&&fn.createContext(X3),dz=["attr","size","title"];function hz(e,t){if(e==null)return{};var r=fz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pz(e,t,r){return t=mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=gz(e,"string");return typeof t=="symbol"?t:t+""}function gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q3(e){return e&&e.map((t,r)=>fn.createElement(t.tag,Rp({key:r},t.attr),Q3(t.child)))}function si(e){return t=>fn.createElement(vz,jp({attr:Rp({},e.attr)},t),Q3(e.child))}function vz(e){var t=r=>{var{attr:n,size:i,title:s}=e,a=hz(e,dz),o=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),fn.createElement("svg",jp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:u,style:Rp(Rp({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&fn.createElement("title",null,s),e.children)};return tC!==void 0?fn.createElement(tC.Consumer,null,r=>t(r)):t(X3)}function yz(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function bz(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function _z(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function xz(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function wz(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Ez(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function kz(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Tz(e){return si({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}const hl="/Terminus-EC-Training-stateful/",Of={"onboarding-platform":"onboarding-tile-platform","task-skeleton":"onboarding-tile-skeleton","submission-platform":"onboarding-tile-submission-platform","great-tasks":"onboarding-tile-great-tasks","video-walkthroughs":"onboarding-tile-videos"},Sz=()=>{const{isCompleted:e,toggleCompletion:t}=M3(),{success:r}=GH(),n=pt(),i=Zr(),[s,a]=T.useState([]),[o,u]=T.useState(!1),h=[{id:"onboarding-platform",label:"Platform Onboarding",description:"New to Snorkel? Watch the onboarding video and download the slides to get familiar with the Expert Platform interface.",path:"/portal/docs/onboarding/platform-onboarding",image:`${hl}images/onboarding_platform.png`},{id:"task-skeleton",label:"Download Task Skeleton",description:"Get the starter files you need to build your task, including the directory structure and required configuration files.",path:`${hl}template-task.zip`,image:`${hl}images/onboardiing_download_skeleton.png`,isDownload:!0},{id:"submission-platform",label:"Platform Submissions",description:"Ready to submit? Follow our walkthrough to package your task, upload it to the platform, and track your submission through review.",path:"/portal/docs/submitting-tasks/platform-submission",image:`${hl}images/onboarding_submit_task2.png`},{id:"great-tasks",label:"What Makes Great TerminalBench Tasks",description:"Discover the key ingredients that make tasks challenging, realistic, and valuable for training AI agents. Learn patterns to follow and pitfalls to avoid.",path:"/portal/docs/understanding-tasks/what-makes-a-good-task",image:`${hl}images/onboarding_great_tb_task.png`},{id:"video-walkthroughs",label:"Video Walkthroughs",description:"Watch step-by-step videos showing how to create tasks, write solutions, and run tests. Perfect for visual learners.",path:"/portal/docs/creating-tasks/videos/creating-task",image:`${hl}images/onboarding_videos.png`}],p=h.filter(_=>e(Of[_.id])).map(_=>_.id),v=h.filter(_=>!p.includes(_.id)&&!s.includes(_.id));if(p.length===h.length)return null;const g=async()=>{if(!o){u(!0);try{const _=h.filter(S=>!e(Of[S.id])),w=_.map(S=>S.id);i&&_.length>0&&(_.forEach(S=>{i.capture("onboarding_step_completed",{resource_id:S.id,resource_label:S.label,source:"mark_all_complete"})}),i.capture("onboarding_all_completed",{resources_completed:_.map(S=>S.id),count:_.length})),a(S=>[...S,...w]),await new Promise(S=>setTimeout(S,300));const C=w.map(S=>t(Of[S]));await Promise.all(C),r("All onboarding tasks marked as complete!")}catch(_){console.error("Error marking all complete:",_)}finally{u(!1)}}},b=async(_,w)=>{_.stopPropagation();const C=Of[w],S=h.find(O=>O.id===w);i&&S&&i.capture("onboarding_step_completed",{resource_id:w,resource_label:S.label,source:"individual_card"}),a(O=>[...O,w]),setTimeout(async()=>{await t(C),a(O=>O.filter(P=>P!==w)),r("Progress saved!")},300)},x=_=>{if(i&&i.capture(_.isDownload?"skeleton_downloaded":"docs_viewed",{resource_id:_.id,resource_label:_.label}),_.isDownload){const w=document.createElement("a");w.href=_.path,w.download=_.path.split("/").pop(),document.body.appendChild(w),w.click(),document.body.removeChild(w)}else n(_.path)};return d.jsxs("section",{className:"get-started-section",children:[d.jsxs("div",{className:"section-header-row",children:[d.jsx("h2",{className:"section-header",children:"Onboarding Starter Kit"}),d.jsx(He,{variant:"ghost",onClick:g,disabled:o,className:"mark-all-complete-btn",children:"Hide onboarding"})]}),d.jsx("div",{className:`resources-grid cards-${v.length}`,children:v.map(_=>d.jsxs(nz,{variant:"minimal",hoverable:!0,className:`resource-card-rich ${s.includes(_.id)?"card-closing":""}`,onClick:()=>x(_),children:[d.jsxs("div",{className:"resource-preview",children:[_.image?d.jsx("img",{src:_.image,alt:_.label,className:"resource-image"}):d.jsx("div",{className:"image-placeholder",children:d.jsx("span",{className:"preview-placeholder-text",children:_.isDownload?"Download Skeleton":"Card cover image here"})}),d.jsx("div",{className:"preview-gradient"})]}),d.jsxs("div",{className:"resource-body",children:[d.jsx("h3",{className:"resource-title",children:_.label}),d.jsx("p",{className:"resource-description",children:_.description})]}),d.jsxs("div",{className:"resource-footer",children:[d.jsxs("button",{className:"mark-complete-link",onClick:w=>b(w,_.id),children:[d.jsx(bz,{})," Mark complete"]}),d.jsx(He,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),x(_)},children:_.isDownload?d.jsxs(d.Fragment,{children:["Download ",d.jsx(kz,{})]}):d.jsxs(d.Fragment,{children:["Learn more ",d.jsx(yz,{})]})})]})]},_.id))})]})},nC="/Terminus-EC-Training-stateful/assets/slack-CpGpJpI8.webp",Cz=()=>{const{profile:e,completeOnboarding:t,updateProfile:r}=ii();pt();const[n,i]=T.useState(0),[s,a]=T.useState(!1),[o,u]=T.useState((e==null?void 0:e.first_name)||""),[h,f]=T.useState((e==null?void 0:e.last_name)||""),[p,v]=T.useState((e==null?void 0:e.github_username)||""),[g,b]=T.useState(!1);if(!e||e.onboarding_completed)return null;const x=async()=>{if(n===1){if(!o.trim()||!h.trim()||!p.trim())return;b(!0);try{const{error:S}=await r({first_name:o,last_name:h,github_username:p});if(S)throw S;i(O=>O+1)}catch(S){console.error("Failed to update profile:",S)}finally{b(!1)}}else i(S=>S+1)},_=()=>{i(S=>S-1)},w=async()=>{a(!0);try{await t()}catch(S){console.error("Failed to complete onboarding:",S),a(!1)}},C=[{content:d.jsxs("div",{className:"onboarding-step-content",children:[d.jsx("div",{className:"onboarding-logos",children:d.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo-onboarding"})}),d.jsx("h1",{className:"onboarding-title",style:{marginBottom:"8px"},children:"Welcome to TerminalBench."}),d.jsx("p",{style:{fontSize:"36px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"32px",lineHeight:"1.2",opacity:.9},children:"Were really glad youre here."}),d.jsx("p",{className:"onboarding-subtitle",children:"You've made the right choice to join the community of experts pushing the boundaries of agentic coding through coding challenges."})]})},{content:d.jsxs("div",{className:"onboarding-step-content",children:[d.jsx("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:"Outsmart the machines."}),d.jsx("p",{className:"onboarding-description",children:"Help push AI to its limits by creating real engineering challenges that todays best models still fail. Every accepted task advances agentic development, and earns you a payout."}),d.jsx("h3",{className:"onboarding-section-title",children:"Your details:"}),d.jsxs("div",{style:{marginTop:"32px",textAlign:"left",maxWidth:"400px",margin:"32px auto 0"},children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[d.jsx(Kv,{label:"First Name",placeholder:"e.g. Jane",value:o,onChange:S=>u(S.target.value),autoFocus:!0}),d.jsx(Kv,{label:"Last Name",placeholder:"e.g. Doe",value:h,onChange:S=>f(S.target.value)})]}),d.jsx(Kv,{label:"GitHub Username",placeholder:"e.g. janedoe",value:p,onChange:S=>v(S.target.value),helperText:"We use this to verify your contributions and link to your GitHub profile."}),d.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"24px"},children:"We use these details to match your profile with our internal systems and process payouts."})]})]})},{content:d.jsxs("div",{className:"onboarding-step-content",children:[d.jsxs("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:[d.jsx("span",{role:"img","aria-label":"celebration",style:{color:"#FFD700"},children:""})," Youre all set."]}),d.jsx("p",{className:"onboarding-description",children:"Youre now part of a global community pushing the boundaries of agentic AI. Lets get you plugged-in and ready to make an impact."}),d.jsx("h3",{className:"onboarding-section-title",style:{marginTop:"40px",marginBottom:"24px"},children:"Whats next?"}),d.jsxs("div",{className:"next-steps-list",style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"20px"},children:[d.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[d.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:d.jsx("img",{src:nC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),d.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[d.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Community"}),d.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"Connect with other TerminalBench contributors and chat with the team."})]}),d.jsx(He,{variant:"primary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203","_blank")},children:"Join"})]}),d.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[d.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:d.jsx("img",{src:nC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),d.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[d.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Announcements"}),d.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"The single source of truth for important announcements, updates, etc."})]}),d.jsx(He,{variant:"secondary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C0A1WM7EPK4","_blank")},children:"Join"})]})]})]})}];return d.jsx("div",{className:"onboarding-modal-overlay",children:d.jsxs("div",{className:"onboarding-modal-content",children:[d.jsx("div",{className:"onboarding-step-container",children:C[n].content},n),d.jsxs("div",{className:"onboarding-nav",children:[d.jsx(oz,{steps:C.length,currentStep:n}),d.jsxs("div",{className:"nav-buttons",children:[n>0&&d.jsx(He,{variant:"secondary",onClick:_,children:"Back"}),n<C.length-1?d.jsx(He,{variant:"primary",size:"lg",onClick:x,disabled:n===1&&(!o.trim()||!h.trim()||!p.trim()),loading:n===1&&g,children:n===0?"Start Onboarding":"Next Step"}):d.jsx(He,{variant:"primary",size:"lg",onClick:w,loading:s,children:"Start Building"})]})]})]})})};function Az({children:e}){const{user:t,profile:r,loading:n}=ii(),i=Id(ez,2200);return n?d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:d.jsx(su,{size:"lg",message:i})}):!t||!r?(console.log("ProtectedRoute: Redirecting to login - user or profile missing"),d.jsx(Li,{to:"/login",replace:!0})):e}const Sx=()=>{const e=T.useRef(null),{theme:t}=D3();return T.useEffect(()=>{const r=e.current,n=r.getContext("2d");let i,s=[];const a=["0","1","{","}","<",">","/","*","","","","","","::"],o=()=>{const b=window.devicePixelRatio||1;r.width=window.innerWidth*b,r.height=window.innerHeight*b,r.style.width=`${window.innerWidth}px`,r.style.height=`${window.innerHeight}px`,n.scale(b,b),f()},u={x:null,y:null,radius:100};class h{constructor(x,_,w,C,S,O,P){this.x=x,this.y=_,this.z=Math.random()*3+.3,this.baseSize=S,this.size=S*this.z,this.directionX=w*this.z,this.directionY=C*this.z,this.color=O,this.symbol=P,this.vx=0,this.vy=0,this.friction=.96}draw(){n.globalAlpha=Math.min(1,this.z/2.5*.85),n.font=`${Math.max(8,this.size*8)}px "JetBrains Mono", monospace`,n.fillStyle=this.color,n.fillText(this.symbol,this.x,this.y),n.globalAlpha=1}update(x,_){if(this.x>x+50&&(this.x=-50),this.x<-50&&(this.x=x+50),this.y>_+50&&(this.y=-50),this.y<-50&&(this.y=_+50),u.x!=null){let j=u.x-this.x,R=u.y-this.y,$=Math.sqrt(j*j+R*R);const L=u.radius*this.z;if($<L){const U=j/$,W=R/$,Q=(L-$)/L,Y=.3*this.z;this.vx-=U*Q*Y,this.vy-=W*Q*Y}}let w=x/2,C=_/2,S=280*this.z,O=w-this.x,P=C-this.y,N=Math.sqrt(O*O+P*P);if(N<S){let j=Math.atan2(P,O),R=(S-N)/S;this.vx-=Math.cos(j)*R*.6*this.z,this.vy-=Math.sin(j)*R*.6*this.z}this.x+=this.directionX,this.y+=this.directionY,this.x+=this.vx,this.y+=this.vy,this.vx*=this.friction,this.vy*=this.friction,this.draw()}}const f=()=>{s=[];const b=window.innerWidth,x=window.innerHeight;let _=b*x/15e3,w=t==="dark"?"#64ffda":"#0071e3";for(let C=0;C<_;C++){let S=Math.random()*1.5+.5,O=Math.random()*b,P=Math.random()*x,N=Math.random()*.2-.1,j=Math.random()*-.3-.05,R=a[Math.floor(Math.random()*a.length)];s.push(new h(O,P,N,j,S,w,R))}s.sort((C,S)=>C.z-S.z)},p=()=>{requestAnimationFrame(p),n.clearRect(0,0,window.innerWidth,window.innerHeight);for(let b=0;b<s.length;b++)s[b].update(window.innerWidth,window.innerHeight);v()},v=()=>{const b=window.innerWidth,x=window.innerHeight;for(let _=0;_<s.length;_++)for(let w=_;w<s.length;w++){if(Math.abs(s[_].z-s[w].z)>.2)continue;let C=(s[_].x-s[w].x)*(s[_].x-s[w].x)+(s[_].y-s[w].y)*(s[_].y-s[w].y),S=b/11*(x/11)*.5;if(C<S){let O=1-C/S,P=Math.min(1,s[_].z/2.5),N=t==="dark"?`rgba(100, 255, 218, ${O*.2*P})`:`rgba(0, 113, 227, ${O*.15*P})`;n.strokeStyle=N,n.lineWidth=.5,n.beginPath(),n.moveTo(s[_].x+5,s[_].y-5),n.lineTo(s[w].x+5,s[w].y-5),n.stroke()}}};window.addEventListener("resize",o);const g=b=>{u.x=b.x,u.y=b.y};return window.addEventListener("mousemove",g),window.addEventListener("mouseout",()=>{u.x=void 0,u.y=void 0}),o(),p(),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",g),cancelAnimationFrame(i)}},[t]),d.jsx("canvas",{ref:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"}})};function Oz(){const{signInWithGitHub:e,signInWithEmail:t,signUpWithEmail:r,user:n}=ii(),i=pt(),[s,a]=T.useState(!1),[o,u]=T.useState(null),[h,f]=T.useState(null),[p,v]=T.useState(!1),[g,b]=T.useState(!1),[x,_]=T.useState(""),[w,C]=T.useState("");T.useEffect(()=>{n&&i("/portal")},[n,i]);const S=async()=>{try{a(!0),u(null),f(null),await e()}catch(N){u(N.message)}finally{a(!1)}},O=async N=>{N.preventDefault();try{if(a(!0),u(null),f(null),g){const{user:j}=await r(x,w);j&&(f("Check your email to confirm your account."),b(!1))}else await t(x,w),i("/portal")}catch(j){u(j.message)}finally{a(!1)}},P=()=>{b(!g),u(null),f(null)};return d.jsxs("div",{className:"login-page",children:[d.jsx(Sx,{}),d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("div",{className:"logos-container",children:d.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo"})}),d.jsx("h1",{children:g?"Create Account":"Welcome to TerminalBench"})]}),d.jsxs("div",{className:"login-content",children:[o&&d.jsx("div",{className:"error-message",children:o}),h&&d.jsx("div",{className:"success-message",children:h}),p?d.jsxs("form",{onSubmit:O,className:"email-login-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",value:x,onChange:N=>_(N.target.value),placeholder:"name@company.com",required:!0,className:"form-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsx("input",{type:"password",id:"password",value:w,onChange:N=>C(N.target.value),placeholder:"",required:!0,className:"form-input"})]}),d.jsx("button",{type:"submit",disabled:s,className:"submit-button",children:s?g?"Creating account...":"Signing in...":g?"Create Account":"Sign In"}),d.jsxs("div",{className:"auth-mode-toggle",children:[d.jsx("span",{className:"toggle-text",children:g?"Already have an account?":"Don't have an account?"}),d.jsx("button",{type:"button",className:"text-button inline",onClick:P,children:g?"Sign in":"Sign up"})]}),d.jsx("div",{className:"regular-login-section",children:d.jsx("button",{type:"button",className:"text-button",onClick:()=>{v(!1),b(!1),u(null),f(null)},children:"Back to GitHub login"})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:S,disabled:s,className:"github-button",children:[d.jsx("svg",{className:"github-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),s?"Signing in...":"Login with GitHub"]}),d.jsx("div",{className:"regular-login-section",children:d.jsx("button",{className:"text-button",onClick:()=>v(!0),children:"I don't have a GitHub account"})})]})]})]})})]})}const Nz=()=>{const e=pt(),{theme:t}=D3(),r=n=>{const i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})};return d.jsx("header",{className:"public-header",children:d.jsxs("div",{className:"public-header-content",children:[d.jsx(H3,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"})}),d.jsxs(z3,{className:"public-nav",children:[d.jsx(ha,{as:"button",onClick:()=>r("what-is-terminalbench"),children:"What is TerminalBench?"}),d.jsx(ha,{as:"button",onClick:()=>e("/login"),variant:"button",children:"Login"})]})]})})},Pz=()=>{const e=pt(),t=()=>{e("/login")},r=n=>{n.preventDefault();const i=document.getElementById("what-is-terminalbench");i&&i.scrollIntoView({behavior:"smooth"})};return d.jsxs("section",{className:"landing-hero",children:[d.jsx(Sx,{}),d.jsxs("div",{className:"hero-content",children:[d.jsx("h1",{className:"hero-title",children:"Welcome to your new community of experts."}),d.jsxs("p",{className:"hero-subtitle",children:["Build challenging and ",d.jsx("b",{children:"real"})," engineering tasks, beat frontier LLMS, advance the state of agentic coding and ",d.jsx("b",{children:"get paid for your expertise."})]}),d.jsxs("div",{className:"hero-ctas",children:[d.jsxs("button",{onClick:t,className:"cta-button cta-primary",children:["Login to my portal",d.jsxs("svg",{className:"arrow-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M5 12h14"}),d.jsx("path",{d:"M12 5l7 7-7 7"})]})]}),d.jsx("a",{href:"#what-is-terminalbench",onClick:r,className:"cta-link",children:"What is TerminalBench?"}),d.jsx("div",{style:{marginTop:"0.5rem"},children:d.jsx("a",{href:"#how-it-works",onClick:n=>{n.preventDefault();const i=document.getElementById("how-it-works");i&&i.scrollIntoView({behavior:"smooth"})},className:"cta-link",style:{fontSize:"0.9rem",opacity:.8},children:"Learn how it works"})})]})]}),d.jsx("div",{className:"scroll-indicator",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M7 13l5 5 5-5M7 6l5 5 5-5"})})})]})},Iz=()=>d.jsxs("section",{id:"what-is-terminalbench",className:"landing-section what-is-section",children:[d.jsx("h2",{className:"section-title",children:"What is TerminalBench?"}),d.jsxs("div",{className:"what-is-content",children:[d.jsx("p",{className:"lead-text",children:"TerminalBench is a platform where developers complete real engineering tasks to benchmark and improve AI coding agents. Companies and research teams submit real problems, developers solve them, and human results are compared against agent performance to advance the next generation of AI-assisted software development."}),d.jsxs("p",{className:"lead-text",children:["TerminalBench was created by ",d.jsx("b",{children:"Stanford University"})," and the ",d.jsx("b",{children:"Laude Institute"}),", and has quickly become a leading benchmark for evaluating AI coding agents in command-line environments. Since launch, it has earned over 1,000 GitHub stars and attracted contributions from developers worldwide. This platform is a ",d.jsx("b",{children:"Snorkel AI initiative"})," to contribute to and expand the benchmark (not an official partnership)."]}),d.jsx("p",{className:"highlight-text",children:"You get paid for high-quality engineering work, and your contributions directly improve the future of agentic development."}),d.jsxs("div",{className:"research-card-wrapper",children:[d.jsx("div",{className:"research-divider"}),d.jsxs("a",{href:"https://snorkel.ai/blog/terminal-bench-2-0-raising-the-bar-for-ai-agent-evaluation/",target:"_blank",rel:"noopener noreferrer",className:"research-card",children:[d.jsx("div",{className:"research-icon",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),d.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),d.jsxs("div",{className:"research-content",children:[d.jsx("span",{className:"research-label",children:"Deep Dive"}),d.jsx("span",{className:"research-question",children:"Terminal-Bench 2.0: Raising the bar for AI agent evaluation"}),d.jsxs("span",{className:"research-cta",children:["Read about Snorkel's contribution to Terminal-Bench 2.0",d.jsxs("svg",{className:"arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),d.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})]})]})]}),jz=()=>{const[e,t]=T.useState(!1),r=[{number:"01",title:"Pick or Define a Task",description:"Browse our queue of real-world engineering problems or create a task that matches your expertise, from debugging to feature implementation.",hasLink:!0},{number:"02",title:"Build & Submit",description:"Work in your own IDE, preferred environment. Use standard tools to code your solution, then push for automated- and human verification."},{number:"03",title:"Get Paid",description:"Once your solution gets accepted, you get paid. Build your reputation and keep building tasks."}];return d.jsxs("section",{id:"how-it-works",className:"landing-section",children:[d.jsx("h2",{className:"section-title",children:"How does TerminalBench work?"}),d.jsx("div",{className:"timeline-container",children:r.map((n,i)=>d.jsx("div",{className:"timeline-step",children:d.jsxs("div",{className:"timeline-content",children:[d.jsx("span",{className:"step-number",children:n.number}),d.jsx("h3",{children:n.title}),d.jsx("p",{children:n.description}),n.hasLink&&d.jsx("a",{className:"learn-more-link",onClick:s=>{s.preventDefault(),t(!0)},children:"Learn more about our tasks "})]})},i))}),d.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:n=>{n.target===n.currentTarget&&t(!1)},children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close",onClick:()=>t(!1),children:""}),d.jsx("h3",{className:"modal-title",children:"Diverse Engineering Challenges"}),d.jsxs("div",{className:"modal-body",children:[d.jsx("p",{children:"Our platform hosts a massive variety of tasks designed to test and improve skills across the entire technology spectrum. From quick bug fixes to complex system architecture problems, there's something for every engineer."}),d.jsxs("p",{children:[d.jsx("b",{children:"Have a specific problem in mind?"})," You can also propose your own tasks and solutions to contribute to our growing library of engineering challenges."]}),d.jsx("p",{children:"Explore challenges in specialized fields including:"}),d.jsxs("div",{className:"modal-tags",children:[d.jsx("span",{className:"modal-tag",children:"Machine Learning"}),d.jsx("span",{className:"modal-tag",children:"Data Science"}),d.jsx("span",{className:"modal-tag",children:"Cyber Security"}),d.jsx("span",{className:"modal-tag",children:"Full Stack Web"}),d.jsx("span",{className:"modal-tag",children:"System Design"}),d.jsx("span",{className:"modal-tag",children:"Cloud Infrastructure"}),d.jsx("span",{className:"modal-tag",children:"Algorithms"}),d.jsx("span",{className:"modal-tag",children:"Database Optimization"}),d.jsx("span",{className:"modal-more-text",children:"And more..."})]})]})]})})]})},Rz=[{title:"Debug Race Condition",difficulty:"hard",language:"Go",description:"Identify and fix a race condition in a concurrent queue implementation."},{title:"Implement API Endpoint",difficulty:"medium",language:"Python",description:"Create a new REST endpoint with rate limiting and caching support."},{title:"Refactor Component",difficulty:"easy",language:"React",description:"Convert a class-based component to functional using hooks and optimize re-renders."},{title:"Optimize SQL Query",difficulty:"medium",language:"PostgreSQL",description:"Rewrite a slow reporting query to use appropriate indexes and CTEs."},{title:"Integrate Payment Gateway",difficulty:"hard",language:"Node.js",description:"Implement Stripe webhooks handling with idempotent processing."},{title:"Fix CSS Overflow",difficulty:"easy",language:"CSS",description:"Resolve horizontal scroll issue on mobile devices for the main dashboard."},{title:"Kubernetes Config",difficulty:"medium",language:"DevOps",description:"Create Helm charts for microservices deployment with auto-scaling."},{title:"Memory Leak Analysis",difficulty:"hard",language:"Rust",description:"Profile and fix memory leaks in a long-running background worker."},{title:"Unit Tests Coverage",difficulty:"easy",language:"Java",description:"Increase test coverage for the core business logic module to 90%."},{title:"Accessibility Audit",difficulty:"medium",language:"HTML/JS",description:"Fix WCAG 2.1 compliance issues in the navigation and form components."},{title:"Database Migration",difficulty:"hard",language:"SQL",description:"Safely migrate 50M+ records to a new schema structure with zero downtime."},{title:"GraphQL Resolver",difficulty:"medium",language:"TypeScript",description:"Implement N+1 query problem solution using DataLoader patterns."},{title:"Mobile Touch Events",difficulty:"medium",language:"React Native",description:"Fix touch event propagation issues in nested scroll views."},{title:"Secure JWT Auth",difficulty:"hard",language:"Go",description:"Implement secure JWT rotation and refresh token strategy."},{title:"Dockerize App",difficulty:"easy",language:"Docker",description:"Create optimized multi-stage Dockerfile for a Node.js application."},{title:"Redis Caching",difficulty:"medium",language:"Python",description:"Implement read-through caching pattern for expensive API calls."},{title:"Websocket Chat",difficulty:"hard",language:"Elixir",description:"Build a scalable realtime chat server handling 10k+ concurrent connections."},{title:"Fix Z-Index Stacking",difficulty:"easy",language:"CSS",description:"Debug and fix modal overlay z-index issues across the application."},{title:"Lambda Cold Starts",difficulty:"medium",language:"AWS",description:"Optimize AWS Lambda function initialization to reduce cold start latency."},{title:"Distributed Lock",difficulty:"hard",language:"Java",description:"Implement a distributed locking mechanism using Redis for job scheduling."},{title:"Form Validation",difficulty:"easy",language:"Vue",description:"Add client-side validation for email and password complexity."},{title:"Image Optimization",difficulty:"medium",language:"Shell",description:"Write a script to automatically compress and resize uploaded user avatars."},{title:"CI/CD Pipeline",difficulty:"hard",language:"GitHub Actions",description:"Set up a complete CI/CD pipeline with linting, testing, and blue-green deployment."},{title:"Internationalization",difficulty:"medium",language:"JavaScript",description:"Refactor hardcoded strings to use an i18n library for multi-language support."},{title:"State Management",difficulty:"medium",language:"Redux",description:"Migrate complex local state to global store with proper normalization."},{title:"Search Indexing",difficulty:"hard",language:"Elasticsearch",description:"Design and implement a custom analyzer for domain-specific search queries."},{title:"OEmbed Support",difficulty:"easy",language:"PHP",description:"Add OEmbed support to automatically preview links in user posts."},{title:"Three.js Performance",difficulty:"hard",language:"WebGL",description:"Optimize rendering pipeline to maintain 60fps with 10k+ particles."},{title:"Scrape Data",difficulty:"medium",language:"Python",description:"Build a robust scraper with proxy rotation and captcha handling."},{title:"Type Safety",difficulty:"easy",language:"TypeScript",description:"Add strict type definitions to legacy JavaScript utility functions."},{title:"Kafka Consumer",difficulty:"hard",language:"Scala",description:"Implement a fault-tolerant Kafka consumer group with exactly-once semantics."},{title:"Responsive Nav",difficulty:"easy",language:"Svelte",description:"Create a fully accessible, keyboard-navigable mobile menu component."},{title:"CSV Import",difficulty:"medium",language:"Ruby",description:"Build a background job to process large CSV uploads without memory spikes."},{title:"GDPR Compliance",difficulty:"medium",language:"SQL",description:"Create stored procedures to anonymize user data upon account deletion."},{title:"Video Transcoding",difficulty:"hard",language:"FFmpeg",description:"Set up an adaptive bitrate streaming pipeline for uploaded videos."},{title:"Dark Mode",difficulty:"easy",language:"CSS",description:"Implement system-preference aware dark mode theme using CSS variables."},{title:"Terraform Modules",difficulty:"medium",language:"HCL",description:"Refactor infrastructure code into reusable modules for multi-region deploy."},{title:"Load Balancing",difficulty:"hard",language:"Nginx",description:"Configure advanced load balancing strategies with health checks and failover."},{title:"PDF Generation",difficulty:"medium",language:"Node.js",description:"Generate dynamic invoices and reports as PDFs from HTML templates."},{title:"App Store Build",difficulty:"hard",language:"Swift",description:"Automate the iOS build and signing process for TestFlight distribution."},{title:"Lazy Loading",difficulty:"easy",language:"Angular",description:"Implement route-level lazy loading to improve initial bundle size."},{title:"Metrics Collection",difficulty:"medium",language:"Prometheus",description:"Instrument application code to expose custom business metrics."},{title:"Blockchain Verify",difficulty:"hard",language:"Solidity",description:"Write a smart contract to verify supply chain authenticity on-chain."},{title:"SVG Animation",difficulty:"easy",language:"SVG",description:"Create a lightweight loading spinner using pure SVG animations."},{title:"TensorFlow Model",difficulty:"hard",language:"Python",description:"Convert a PyTorch research model to TensorFlow Lite for mobile deployment."},{title:"CLI Tool",difficulty:"medium",language:"Rust",description:"Build a fast command-line utility for processing log files."},{title:"Rate Limiting",difficulty:"medium",language:"Redis",description:"Implement a sliding window rate limiter to prevent API abuse."},{title:"Email Templates",difficulty:"easy",language:"MJML",description:"Design responsive email templates that work in Outlook and Gmail."},{title:"OAuth2 Flow",difficulty:"medium",language:"C#",description:"Implement OAuth2 authorization code flow with PKCE for .NET Core API."},{title:"Data Visualization",difficulty:"easy",language:"D3.js",description:"Create an interactive line chart component with tooltips and zoom."},{title:"Microfrontend",difficulty:"hard",language:"Webpack",description:"Configure Module Federation for sharing components between React and Vue apps."},{title:"Geo-Spatial Query",difficulty:"medium",language:"PostGIS",description:"Optimize nearest-neighbor queries for a delivery dispatch system."},{title:"Service Worker",difficulty:"medium",language:"PWA",description:"Implement offline-first caching strategy for a news reader app."},{title:"Fuzz Testing",difficulty:"hard",language:"Go",description:"Add fuzz testing to the input parser to identify edge case crashes."},{title:"Slack Integration",difficulty:"easy",language:"Node.js",description:"Build a bot to notify channels about deployment status updates."},{title:"ETL Pipeline",difficulty:"medium",language:"Apache Airflow",description:"Design a DAG to extract, transform, and load daily analytics data."},{title:"WebAssembly",difficulty:"hard",language:"C++",description:"Compile a legacy image processing library to WASM for browser usage."},{title:"Feature Flags",difficulty:"medium",language:"Python",description:"Implement a feature flag service with percentage-based rollouts."},{title:"Keyboard Shortcuts",difficulty:"easy",language:"JavaScript",description:"Add global keyboard shortcuts for common actions in the admin panel."},{title:"Audit Logging",difficulty:"medium",language:"Java",description:"Implement tamper-evident audit logging for all sensitive user actions."},{title:"WebRTC Signaling",difficulty:"hard",language:"Go",description:"Build a custom signaling server for peer-to-peer video calls."},{title:"Dependency Injection",difficulty:"medium",language:"Kotlin",description:"Refactor a monolithic service to use dependency injection for better testability."},{title:"Infinite Scroll",difficulty:"easy",language:"React",description:"Implement virtualization for a list with thousands of items."},{title:"Vector Search",difficulty:"hard",language:"Pinecone",description:"Integrate vector database for semantic search over documentation."},{title:"Markdown Editor",difficulty:"medium",language:"Vue",description:"Create a rich text editor with live Markdown preview and syntax highlighting."},{title:"Rate Limit Middleware",difficulty:"easy",language:"Express",description:"Write middleware to block IPs exceeding 100 requests per minute."},{title:"Two-Factor Auth",difficulty:"medium",language:"PHP",description:"Add TOTP-based 2FA using Google Authenticator compatibility."},{title:"Graph Database",difficulty:"hard",language:"Neo4j",description:"Model a social network relationship graph and query friends-of-friends."},{title:"S3 Upload",difficulty:"easy",language:"AWS SDK",description:"Implement direct-to-S3 file uploads with signed URLs."},{title:"E2E Testing",difficulty:"medium",language:"Cypress",description:"Write robust end-to-end tests for the user checkout flow."},{title:"Memory Profiling",difficulty:"hard",language:"C",description:"Use Valgrind to detect and fix memory leaks in a system daemon."},{title:"Push Notifications",difficulty:"medium",language:"Firebase",description:"Integrate FCM for cross-platform mobile push notifications."},{title:"Search Autocomplete",difficulty:"easy",language:"JavaScript",description:"Build a debounced autocomplete input fetching suggestions from an API."},{title:"Data Encryption",difficulty:"hard",language:"Python",description:"Implement field-level encryption for PII in the database using AES-256."},{title:"Webhook Consumer",difficulty:"medium",language:"Ruby on Rails",description:"Create a generic webhook ingestion endpoint with signature verification."},{title:"Accessibility Fixes",difficulty:"easy",language:"ARIA",description:"Audit and fix ARIA labels for screen reader compatibility."}],Dz=()=>{const e=Rz.slice(0,12).map((t,r)=>({id:r,subcategory:t.title,description:t.description,difficulty:t.difficulty,category:t.language}));return d.jsxs("section",{className:"landing-section full-width tasks-section",children:[d.jsx("h2",{className:"section-title",children:"Examples of Real Engineering Problems"}),d.jsx("p",{className:"section-subtitle",children:"Think you can beat the models? Prove it and get paid."}),d.jsxs("div",{className:"tasks-perspective-container",children:[d.jsx("div",{className:"tasks-perspective-grid",children:e.map((t,r)=>d.jsx("div",{className:"task-card-wrapper",style:{"--index":r},children:d.jsx(xo,{task:t})},r))}),d.jsx("div",{className:"tasks-fade-overlay"})]})]})},Lz=()=>d.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg impact-icon",children:[d.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",fill:"currentColor",className:"impact-fill",opacity:"0.2"})]}),Mz=()=>d.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg pay-icon",children:[d.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round",className:"pay-diamond"}),d.jsx("path",{d:"M6 22H58",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),d.jsx("path",{d:"M19 22L32 60L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),d.jsx("path",{d:"M32 4V22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),d.jsx("path",{d:"M19 22L32 4L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),d.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",fill:"currentColor",className:"pay-fill",opacity:"0"})]}),Fz=()=>d.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg brain-icon",children:[d.jsx("path",{d:"M12 32C12 20.9543 20.9543 12 32 12C36.4655 12 40.5963 13.4644 44 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),d.jsx("path",{d:"M52 32C52 43.0457 43.0457 52 32 52C27.5345 52 23.4037 50.5356 20 48",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),d.jsx("rect",{x:"22",y:"22",width:"20",height:"20",rx:"4",stroke:"currentColor",strokeWidth:"2.5"}),d.jsx("path",{d:"M32 22V42M22 32H42",stroke:"currentColor",strokeWidth:"2.5"}),d.jsx("circle",{cx:"32",cy:"32",r:"3",fill:"currentColor",className:"brain-pulse"}),d.jsx("path",{d:"M48 24L56 16M16 40L8 48",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"brain-connect"})]}),Bz=()=>d.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg flex-icon",children:[d.jsx("circle",{cx:"32",cy:"32",r:"24",stroke:"currentColor",strokeWidth:"2.5"}),d.jsx("path",{d:"M32 8V56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),d.jsx("path",{d:"M8 32H56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),d.jsx("ellipse",{cx:"32",cy:"32",rx:"12",ry:"24",stroke:"currentColor",strokeWidth:"2.5",className:"flex-orbit"}),d.jsx("circle",{cx:"32",cy:"32",r:"6",fill:"currentColor",className:"flex-core"})]}),$z=()=>{const e=[{icon:d.jsx(Lz,{}),title:"Real Impact",description:"Your work directly benchmarks and improves the capabilities of next-gen AI models."},{icon:d.jsx(Mz,{}),title:"Competitive Pay",description:"Earn competitive rates for high-quality engineering work. No bidding wars."},{icon:d.jsx(Fz,{}),title:"Hard Problems",description:"No CSS centering or button shifting. Tackle complex algorithmic and system design challenges."},{icon:d.jsx(Bz,{}),title:"Flexible Work",description:"Work from anywhere, anytime. Choose tasks that fit your schedule and interests."}];return d.jsxs("section",{id:"benefits",className:"landing-section",children:[d.jsx("h2",{className:"section-title",children:"You + TerminalBench"}),d.jsx("div",{className:"benefits-grid",children:e.map((t,r)=>d.jsxs("div",{className:"benefit-item",children:[d.jsx("div",{className:"benefit-icon-wrapper",children:t.icon}),d.jsx("h3",{children:t.title}),d.jsx("p",{children:t.description})]},r))})]})},Uz=()=>{const e=pt();return d.jsx("footer",{style:{backgroundColor:"#ffffff",padding:"6rem 2rem 4rem",marginTop:"0",borderTop:"1px solid #f0f0f0",color:"#1d1d1f"},children:d.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"4rem"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"2rem"},children:[d.jsxs("div",{style:{maxWidth:"600px"},children:[d.jsxs("h3",{style:{fontSize:"2.5rem",fontWeight:"700",marginBottom:"2rem",lineHeight:"1.1",color:"#1d1d1f",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[d.jsx("span",{children:"Real work."}),d.jsx("span",{children:"Real payouts."}),d.jsx("span",{children:"Real impact."})]}),d.jsxs("p",{style:{fontSize:"1.25rem",color:"#86868b",maxWidth:"480px"},children:["The thing frontier agents are missing: ",d.jsx("b",{children:"your expertise"}),"."]})]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>e("/login"),className:"cta-button cta-primary",style:{padding:"1rem 2.5rem",fontSize:"1.1rem"},children:"Login to my portal"})})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",borderTop:"1px solid #f0f0f0",paddingTop:"2rem",gap:"1.5rem"},children:[d.jsxs("div",{style:{display:"flex",gap:"2rem",color:"#424245",fontSize:"0.9rem",flexWrap:"wrap"},children:[d.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Terms"}),d.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Privacy"})]}),d.jsxs("p",{style:{color:"#86868b",fontSize:"0.8rem"},children:[" ",new Date().getFullYear()," Snorkel AI. All rights reserved. TerminalBench is a project of Stanford University and Laude Institute."]})]})]})})},Hz=()=>d.jsxs("div",{className:"public-landing",children:[d.jsx(Nz,{}),d.jsx(Pz,{}),d.jsx(Iz,{}),d.jsx(jz,{}),d.jsx(Dz,{}),d.jsx($z,{}),d.jsx(Uz,{})]});function zz(){var h,f;const{user:e,profile:t,signOut:r}=ii(),[n,i]=T.useState(!1),s=T.useRef(null),a=pt(),o=(t==null?void 0:t.is_admin)||!1;T.useEffect(()=>{const p=v=>{s.current&&!s.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const u=async()=>{await r(),a("/login")};return t?d.jsxs("div",{className:"user-menu",ref:s,children:[d.jsxs("button",{className:`user-menu-button ${n?"active":""}`,onClick:()=>i(!n),children:[t.github_avatar_url?d.jsx("img",{src:t.github_avatar_url,alt:t.github_username,className:"user-avatar"}):d.jsx("div",{className:"user-avatar-placeholder",children:((f=(h=t.github_username)==null?void 0:h[0])==null?void 0:f.toUpperCase())||"U"}),d.jsx("span",{className:"user-name",children:t.github_username||"User"}),d.jsx("svg",{className:`user-menu-chevron ${n?"open":""}`,width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M4.427 6.573l3.396 3.396 3.396-3.396a.75.75 0 111.06 1.06l-3.926 3.927a.75.75 0 01-1.06 0L3.366 7.633a.75.75 0 011.06-1.06z"})})]}),n&&d.jsxs("div",{className:"user-menu-dropdown",children:[d.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/my-tasks"),i(!1)},children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M2.5 2.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-11zM3 13h10V3H3v10zm2-2h6v1H5v-1zm0-3h6v1H5V8zm0-3h6v1H5V5z"})}),"My tasks"]}),d.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/profile"),i(!1)},children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})}),"Profile"]}),o&&d.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/admin"),i(!1)},children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[d.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"}),d.jsx("path",{d:"M8 4a.75.75 0 01.75.75v3.5h3.5a.75.75 0 010 1.5h-3.5v3.5a.75.75 0 01-1.5 0v-3.5h-3.5a.75.75 0 010-1.5h3.5v-3.5A.75.75 0 018 4z"})]}),"Admin Dashboard"]}),d.jsxs("button",{className:"user-menu-item user-menu-item-danger",onClick:u,children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[d.jsx("path",{d:"M3.5 2A1.5 1.5 0 002 3.5v9A1.5 1.5 0 003.5 14h5a.5.5 0 000-1h-5a.5.5 0 01-.5-.5v-9a.5.5 0 01.5-.5h5a.5.5 0 000-1h-5z"}),d.jsx("path",{d:"M11.854 8.354l2.5-2.5a.5.5 0 000-.708l-2.5-2.5a.5.5 0 10-.708.708L13.293 5.5H6.5a.5.5 0 000 1h6.793l-2.147 2.146a.5.5 0 00.708.708z"})]}),"Sign Out"]})]})]}):null}function Wz(){const{profile:e}=ii(),t=Zr(),r=pt(),n=As(),[i,s]=T.useState(!1),[a,o]=T.useState(!1),u=T.useRef(null),h=T.useRef(null);if(!e)return null;T.useEffect(()=>{o(!1)},[n.pathname]),T.useEffect(()=>{const v=g=>{u.current&&!u.current.contains(g.target)&&s(!1),h.current&&!h.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),T.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const f=v=>v==="/"?n.pathname==="/portal"||n.pathname==="/portal/":n.pathname.startsWith(`/portal${v}`),p=()=>{t&&t.capture("browse_tasks_clicked",{source:"header_nav"})};return d.jsxs("header",{className:"app-header",children:[d.jsxs("div",{className:"header-content",children:[d.jsx("div",{className:"header-left",children:d.jsx(H3,{onClick:()=>r("/portal")})}),d.jsxs("div",{className:"header-right",children:[d.jsxs(z3,{className:"header-nav",children:[d.jsx(ha,{to:"/portal",active:f("/"),children:"Home"}),d.jsx(ha,{to:"/portal/overview",active:f("/overview"),children:"Our mission"}),d.jsx(ha,{to:"/portal/tasks",active:f("/tasks"),onClick:p,children:"Task gallery"}),d.jsx(ha,{to:"/portal/docs",active:f("/docs"),children:"Docs"}),d.jsxs("div",{className:"nav-dropdown-container",ref:u,children:[d.jsxs(ha,{as:"button",className:"dropdown-trigger",onClick:()=>s(!i),children:["Quick links",d.jsx("svg",{className:`dropdown-arrow ${i?"open":""}`,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.jsxs("div",{className:`nav-dropdown-menu ${i?"open":""}`,children:[d.jsx("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"dropdown-item",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"header_quick_links",file_title:"Task Skeleton"}),s(!1)},children:"Download Task Skeleton"}),d.jsx("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Snorkel Expert Platform"}),d.jsx("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Slack community"}),d.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"GitHub Repo"}),d.jsx(Sr,{to:"/portal/docs/reference/glossary",className:"dropdown-item",onClick:()=>s(!1),children:"Glossary"}),d.jsx(Sr,{to:"/portal/docs/reference/faq",className:"dropdown-item",onClick:()=>s(!1),children:"FAQ"})]})]}),d.jsx("div",{className:"nav-divider"}),d.jsx(ha,{to:"/portal/docs/reference/faq",active:f("/docs/reference/faq"),children:"Help"})]}),d.jsxs("button",{className:`mobile-menu-toggle ${a?"open":""}`,onClick:()=>o(!a),"aria-label":"Toggle menu",children:[d.jsx("span",{className:"hamburger-line"}),d.jsx("span",{className:"hamburger-line"}),d.jsx("span",{className:"hamburger-line"})]}),d.jsx(zz,{})]})]}),NI.createPortal(d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`mobile-nav-overlay ${a?"open":""}`,onClick:()=>o(!1)}),d.jsxs("nav",{className:`mobile-nav ${a?"open":""}`,ref:h,children:[d.jsxs("div",{className:"mobile-nav-header",children:[d.jsx("span",{className:"mobile-nav-title",children:"Menu"}),d.jsx("button",{className:"mobile-nav-close",onClick:()=>o(!1),"aria-label":"Close menu",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:"mobile-nav-links",children:[d.jsx(Sr,{to:"/portal",className:`mobile-nav-link ${f("/")?"active":""}`,children:"Home"}),d.jsx(Sr,{to:"/portal/overview",className:`mobile-nav-link ${f("/overview")?"active":""}`,children:"Our mission"}),d.jsx(Sr,{to:"/portal/tasks",className:`mobile-nav-link ${f("/tasks")?"active":""}`,onClick:p,children:"Task gallery"}),d.jsx(Sr,{to:"/portal/my-tasks",className:`mobile-nav-link ${f("/my-tasks")?"active":""}`,children:"My tasks"}),d.jsx(Sr,{to:"/portal/docs",className:`mobile-nav-link ${f("/docs")?"active":""}`,children:"Docs"}),d.jsx(Sr,{to:"/portal/docs/reference/faq",className:`mobile-nav-link ${f("/docs/reference/faq")?"active":""}`,children:"Help & FAQ"})]}),d.jsxs("div",{className:"mobile-nav-section",children:[d.jsx("span",{className:"mobile-nav-section-title",children:"Quick Links"}),d.jsxs("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"mobile-nav-link",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"mobile_quick_links",file_title:"Task Skeleton"})},children:["Download Task Skeleton",d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})]}),d.jsxs("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Snorkel Expert Platform",d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),d.jsxs("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Slack community",d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),d.jsxs("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["GitHub Repo",d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),d.jsx(Sr,{to:"/portal/docs/reference/glossary",className:"mobile-nav-link",children:"Glossary"})]})]})]}),document.body)]})}const J3=3,qz=280,Vz=16,Kz=46,Yz=qz+Vz;function iC(){return typeof window>"u"||typeof window.matchMedia!="function"?J3:window.matchMedia("(min-width: 1024px)").matches?3:window.matchMedia("(min-width: 768px)").matches?2:1}function Gz(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}function Nl(e,t,r=new Set){return Gz(e).filter(i=>i&&!r.has(i.id)).slice(0,t)}function Gv(e,t){const r=new Set(t!=null&&t.id?[t.id]:[]),[n,i]=Nl(e,2,r);return t?[n||t,t,i||t]:[]}function Xz({pool:e,currentTask:t,winnerTask:r,minLength:n}){const i=[],s=new Set;t!=null&&t.id&&s.add(t.id),r!=null&&r.id&&s.add(r.id);const[a]=Nl(e,1,s);for(i.push(a||t),i.push(t);i.length<Math.max(n-2,3);){const[h]=Nl(e,1,new Set([...s,...i.map(f=>f==null?void 0:f.id).filter(Boolean)]));i.push(h||t)}i.push(r);const[o]=Nl(e,1,new Set([...s,...i.map(h=>h==null?void 0:h.id).filter(Boolean)]));i.push(o||r);const u=i.length-2;return{items:i,startIndex:1,winnerIndex:u}}function Nf(e){return Kz-e*Yz}function Qz(e){if(!e)return null;const t=e.subcategory||e.subsubcategory||e.category||"Task";return d.jsxs("div",{className:"reel-stub",children:[d.jsx("div",{className:"reel-stub-title",title:t,children:t}),d.jsx("div",{className:"reel-stub-desc",title:e.description,children:e.description})]})}const Jz=({onTaskUpdate:e})=>{const t=pt(),r=Zr(),{tasks:n,loading:i,refetch:s}=Tx(),[a,o]=T.useState(null),[u,h]=T.useState(iC),[f,p]=T.useState([]),[v,g]=T.useState(()=>Array.from({length:J3},()=>({items:[],index:1,locked:!0,justLocked:!1}))),[b,x]=T.useState(!1),_=T.useRef([]),w=T.useRef([]),C=T.useRef([]),S=T.useRef(0);T.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const U=window.matchMedia("(min-width: 1024px)"),W=window.matchMedia("(min-width: 768px)"),Q=()=>h(iC());Q();const Y=le=>le.addEventListener?le.addEventListener("change",Q):le.addListener(Q),V=le=>le.removeEventListener?le.removeEventListener("change",Q):le.removeListener(Q);return Y(U),Y(W),window.addEventListener("resize",Q),()=>{V(U),V(W),window.removeEventListener("resize",Q)}},[]);const O=T.useMemo(()=>!n||n.length===0?[]:n.filter(U=>!U.is_selected),[n]);T.useEffect(()=>{if(O.length===0)return;const U=v.slice(0,u).every(Y=>{var V;return(((V=Y.items)==null?void 0:V.length)||0)>0}),W=f.length===u;if(U&&W)return;const Q=W?f:Nl(O,u);W||p(Q),g(Y=>Y.map((V,le)=>{if(le>=u)return V;const oe=Q[le];return{...V,items:Gv(O,oe),index:1,locked:!0,justLocked:!1}}))},[O,v,f,u]),T.useEffect(()=>{r&&f.length>0&&!b&&r.capture("task_roulette_viewed",{available_tasks_count:O.length,visible_task_ids:f.map(U=>U.id)})},[r,b,f.length]);const P=()=>{var U;for(const W of C.current)clearTimeout(W);C.current=[];for(const W of w.current)(U=W==null?void 0:W.cancel)==null||U.call(W);w.current=[]};T.useEffect(()=>{b&&(P(),x(!1),g(U=>U.map((W,Q)=>Q<u?{...W,locked:!0,justLocked:!1}:W)))},[u]);const N=()=>{if(b||O.length<u)return;P(),S.current+=1;const U=S.current,W=typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;x(!0),g(oe=>oe.map(te=>({...te,locked:!1,justLocked:!1})));const Q=v.slice(0,u).map((oe,te)=>{var ue;return((ue=oe.items)==null?void 0:ue[oe.index])||f[te]}).filter(Boolean);r&&r.capture("task_roulette_spin_clicked",{previous_task_ids:Q.map(oe=>oe==null?void 0:oe.id).filter(Boolean),available_tasks_count:O.length});const Y=new Set(Q.map(oe=>oe==null?void 0:oe.id).filter(Boolean)),V=Nl(O,u,Y);if(W){g(oe=>oe.map((te,ue)=>ue>=u?te:{...te,items:Gv(O,V[ue]),index:1,locked:!0,justLocked:!1})),p(V),C.current.push(setTimeout(()=>{g(oe=>oe.map((te,ue)=>ue<u?{...te,justLocked:!0}:te))},0)),C.current.push(setTimeout(()=>{g(oe=>oe.map((te,ue)=>ue<u?{...te,justLocked:!1}:te)),x(!1)},450));return}const le=V.map((oe,te)=>{const ue=Q[te]||oe;return Xz({pool:O,currentTask:ue,winnerTask:oe,minLength:18+te*6})});g(oe=>oe.map((te,ue)=>ue>=u?te:{...te,items:le[ue].items,index:le[ue].startIndex,locked:!1,justLocked:!1})),C.current.push(setTimeout(()=>{if(S.current!==U)return;let oe=0;const te=ue=>{g(D=>D.map((q,X)=>X===ue?{...q,justLocked:!0}:q)),C.current.push(setTimeout(()=>{g(D=>D.map((q,X)=>X===ue?{...q,justLocked:!1}:q))},650))};le.forEach((ue,D)=>{const q=_.current[D];if(!q)return;const X=Nf(ue.startIndex),F=Nf(ue.winnerIndex),_e=X+(F-X)*.35,Te=X+(F-X)*.88;q.style.transform=`translate3d(0, ${X}px, 0)`,q.style.opacity="1";const Ne=1150+D*420+Math.floor(Math.random()*120),Xe=q.animate([{offset:0,transform:`translate3d(0, ${X}px, 0)`,opacity:1,easing:"cubic-bezier(0.2, 0, 0.2, 1)"},{offset:.16,transform:`translate3d(0, ${_e}px, 0)`,opacity:.96,easing:"linear"},{offset:.86,transform:`translate3d(0, ${Te}px, 0)`,opacity:.96,easing:"cubic-bezier(0, 0, 0.15, 1)"},{offset:1,transform:`translate3d(0, ${F}px, 0)`,opacity:1}],{duration:Ne,fill:"forwards"});w.current[D]=Xe,Xe.finished.then(()=>{if(S.current!==U)return;try{Xe.cancel()}catch{}w.current[D]=null,q.style.opacity="1",q.style.transform=`translate3d(0, ${Nf(1)}px, 0)`;const Ye=V[D];g(ae=>ae.map((Se,Ge)=>Ge!==D?Se:{...Se,items:Gv(O,Ye),index:1,locked:!0})),te(D),oe+=1,oe===u&&(p(V),x(!1))}).catch(()=>{})})},0))};T.useEffect(()=>()=>P(),[]);const j=()=>{r&&r.capture("task_roulette_browse_all_clicked",{visible_task_ids:f.map(U=>U.id)}),t("/portal/tasks")},R=U=>{b||(r&&r.capture("task_roulette_task_opened",{task_id:U.id,task_category:U.category,task_subcategory:U.subcategory}),o(U))},$=()=>{o(null),s()},L=()=>{s(),e==null||e()};return i&&f.length===0?d.jsx(su,{message:"Finding tasks for you..."}):f.length===0?null:d.jsxs("section",{className:"recommended-tasks-section",children:[d.jsx("div",{className:"recommended-header",children:d.jsx("h2",{className:"recommended-title",children:"Your Task Roulette"})}),d.jsx("div",{className:"slot-machine-container",children:d.jsxs("div",{className:`slot-machine-viewport ${b?"spinning":""}`,children:[d.jsx("div",{className:"slot-machine-fade-top"}),d.jsx("div",{className:"slot-machine-fade-bottom"}),d.jsx("div",{className:`slot-glow ${b?"active":""}`}),d.jsx("div",{className:"recommended-grid",children:v.slice(0,u).map((U,W)=>{var Y;(Y=U.items)==null||Y[U.index];const Q=["recommended-reel",b&&!U.locked?"spinning":"",U.locked?"locked":"",U.justLocked?"just-locked":""].filter(Boolean).join(" ");return d.jsx("div",{className:Q,children:d.jsxs("div",{className:"reel-viewport","aria-hidden":b?"true":void 0,children:[d.jsx("div",{className:"reel-payline"}),d.jsx("div",{className:"reel-strip",ref:V=>{_.current[W]=V},style:{transform:`translate3d(0, ${Nf(U.index)}px, 0)`},children:U.items.map((V,le)=>{const oe=`${W}-${(V==null?void 0:V.id)||"empty"}-${le}`,te=le===U.index,ue=!b&&te&&!!V,D=!!V&&te&&U.locked;return d.jsx("div",{className:`reel-item ${te?"center":"peek"}`,children:V?D?d.jsx(xo,{task:V,onClick:ue?()=>R(V):void 0,className:"recommended-card"}):Qz(V):d.jsx("div",{className:"recommended-card-placeholder"})},oe)})})]})},`reel-${W}`)})})]})}),d.jsxs("div",{className:"recommended-actions",children:[d.jsx(He,{variant:"ghost",onClick:N,className:"reshuffle-btn",disabled:b,children:"Not these? Spin again"}),d.jsx(He,{variant:"primary",size:"lg",onClick:j,children:"Browse all tasks "})]}),d.jsx(Y3,{task:a,isOpen:!!a,onClose:$,onTaskUpdate:L})]})},Xv=10,Zz=()=>{const e=pt(),t=Zr(),{selectedTasks:r,loading:n,refetch:i}=au(),[s,a]=T.useState(null),[o,u]=T.useState(""),[h,f]=T.useState({key:"lastUpdated",direction:"desc"}),[p,v]=T.useState(1),g=r.filter(R=>R.status===Me.CLAIMED||R.status===Me.IN_PROGRESS||R.status===Me.WAITING_REVIEW),b=R=>{t&&t.capture("browse_tasks_clicked",{source:R,active_task_count:g.length}),e("/portal/tasks")},x=R=>{a(R)},_=()=>{a(null),i()},w=R=>{f($=>({key:R,direction:$.key===R&&$.direction==="asc"?"desc":"asc"})),v(1)},C=R=>{const $=[R.started_at,R.selected_at,R.submitted_for_review_at,R.completed_at].filter(Boolean).map(L=>new Date(L).getTime());return $.length>0?Math.max(...$):0},S=T.useMemo(()=>{let R=[...g];if(o){const $=o.toLowerCase();R=R.filter(L=>L.description.toLowerCase().includes($)||L.category.toLowerCase().includes($)||L.subcategory&&L.subcategory.toLowerCase().includes($))}return R.sort(($,L)=>{let U,W;return h.key==="lastUpdated"?(U=C($),W=C(L)):h.key==="category"?(U=`${$.category} ${$.subcategory||""}`,W=`${L.category} ${L.subcategory||""}`):(U=$[h.key],W=L[h.key]),U<W?h.direction==="asc"?-1:1:U>W?h.direction==="asc"?1:-1:0}),R},[g,o,h]),O=Math.ceil(S.length/Xv),P=S.slice((p-1)*Xv,p*Xv);if(n)return null;const N=R=>{switch(R){case Me.IN_PROGRESS:return"info";case Me.CLAIMED:return"secondary";case Me.WAITING_REVIEW:return"success";case Me.ACCEPTED:return"success";default:return"default"}},j=({columnKey:R})=>h.key!==R?d.jsx("span",{className:"sort-icon-placeholder"}):h.direction==="asc"?d.jsx(Ez,{}):d.jsx(_z,{});return d.jsxs("section",{className:"task-preview-section my-tasks-section",children:[g.length>0&&d.jsxs("div",{className:"my-tasks-header-row",children:[d.jsxs("div",{className:"header-title-group",children:[d.jsx("h2",{children:"My Active Tasks"}),d.jsx(He,{variant:"ghost",size:"sm",onClick:()=>e("/portal/my-tasks"),className:"view-all-tasks-btn",children:"Show all tasks"})]}),d.jsx("div",{className:"header-actions",children:d.jsxs("div",{className:"search-input-container",children:[d.jsx(Tz,{className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:R=>{u(R.target.value),v(1)},className:"task-search-input"})]})})]}),d.jsx("div",{className:"my-tasks-content",children:g.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"my-tasks-table-container",children:d.jsxs("table",{className:"my-tasks-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{className:"col-category sortable",onClick:()=>w("category"),children:["Category ",d.jsx(j,{columnKey:"category"})]}),d.jsxs("th",{className:"col-description sortable",onClick:()=>w("description"),children:["Description ",d.jsx(j,{columnKey:"description"})]}),d.jsxs("th",{className:"col-status sortable",onClick:()=>w("status"),children:["Status ",d.jsx(j,{columnKey:"status"})]}),d.jsxs("th",{className:"col-updated sortable",onClick:()=>w("lastUpdated"),children:["Updated ",d.jsx(j,{columnKey:"lastUpdated"})]})]})}),d.jsx("tbody",{children:P.length>0?P.map(R=>d.jsxs("tr",{onClick:()=>x(R),style:{cursor:"pointer"},children:[d.jsx("td",{children:d.jsx("span",{className:"task-category",title:`${R.category}${R.subcategory?" / "+R.subcategory:""}`,children:R.subcategory||R.category})}),d.jsx("td",{children:d.jsx("span",{className:"task-description",title:R.description,children:R.description})}),d.jsx("td",{children:d.jsx(vs,{variant:N(R.status),children:V3[R.status]})}),d.jsx("td",{className:"task-date",children:new Date(C(R)).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},R.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"4",className:"no-results-cell",children:"No tasks match your search"})})})]})}),O>1&&d.jsxs("div",{className:"pagination-controls",children:[d.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>v(R=>Math.max(1,R-1)),disabled:p===1,children:[d.jsx(xz,{})," Prev"]}),d.jsxs("span",{className:"pagination-info",children:["Page ",p," of ",O]}),d.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>v(R=>Math.min(O,R+1)),disabled:p===O,children:["Next ",d.jsx(wz,{})]})]}),d.jsx("div",{className:"my-tasks-footer",children:d.jsx(He,{variant:"primary",size:"lg",onClick:()=>b("landing_page_footer"),children:"Browse more tasks "})})]}):d.jsx(Jz,{onTaskUpdate:i})}),d.jsx(G3,{task:s,isOpen:!!s,onClose:_,onTaskUpdate:()=>i()})]})};function eW(){var i,s;const{user:e,profile:t}=ii(),r=Zr();T.useEffect(()=>{r&&r.capture("landing_page_viewed",{has_profile:!!t,has_github_username:!!(t!=null&&t.github_username)})},[r]);const n=(t==null?void 0:t.first_name)||(t==null?void 0:t.github_username)||((s=(i=e==null?void 0:e.user_metadata)==null?void 0:i.full_name)==null?void 0:s.split(" ")[0])||"there";return d.jsxs("div",{className:"landing-page",children:[d.jsxs("main",{className:"main-content",children:[d.jsx("section",{className:"welcome-strip",children:d.jsxs("div",{className:"welcome-content",children:[d.jsxs("h1",{className:"welcome-title",children:["Hello, ",n," ",d.jsx("span",{className:"wave",children:""})]}),d.jsx("p",{className:"welcome-subtitle",children:"Welcome to the community advancing agentic development."})]})}),d.jsx(Zz,{}),d.jsx(Sz,{})]}),d.jsx("footer",{className:"footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const tW=()=>d.jsxs("div",{className:"mission-page",children:[d.jsx("div",{className:"mission-background",children:d.jsx(Sx,{})}),d.jsx("div",{className:"mission-content-container",children:d.jsxs("div",{className:"mission-content",children:[d.jsx("h1",{className:"mission-title",children:"Our Mission"}),d.jsx("h2",{className:"mission-subtitle",children:"Advancing the science of agentic AI through real engineering tasks"}),d.jsxs("div",{className:"mission-section",children:[d.jsx("p",{className:"mission-text",children:"Progress in agentic AI depends on more than next-token prediction."}),d.jsx("p",{className:"mission-text",children:"To evaluate and improve these systems, we need benchmarks that reflect the true complexity of real-world software engineering, including multistep reasoning, troubleshooting, environment manipulation, and recovery from failure."}),d.jsx("p",{className:"mission-text highlight",children:"TerminalBench was created to meet that need."}),d.jsx("p",{className:"mission-text",children:"TerminalBench, created by Stanford University and Laude Institute, provides a rigorous, end-to-end evaluation of how AI agents perform in realistic command-line environments. This platform is a Snorkel AI initiative to contribute to and expand the benchmark. Each task reveals specific model limitations, including gaps in reasoning, planning, execution, or robustness, that cannot be detected through synthetic datasets or code-completion benchmarks."})]}),d.jsxs("div",{className:"mission-section contributions",children:[d.jsx("h3",{children:"Your contributions directly shape this benchmark."}),d.jsx("p",{className:"mission-text",children:"By designing tasks that expose failure modes in frontier models, you help generate the empirical signal needed to:"}),d.jsxs("ul",{className:"mission-list",children:[d.jsx("li",{children:"Identify systematic weaknesses in agentic behavior"}),d.jsx("li",{children:"Guide model and policy improvements"}),d.jsx("li",{children:"Establish transparent, reproducible evaluation standards for the field"}),d.jsx("li",{children:"Accelerate research toward reliable, general-purpose coding agents"})]})]}),d.jsxs("div",{className:"mission-section closing",children:[d.jsx("p",{className:"mission-text strong",children:"This is not crowdsourced labeling, it is applied research, grounded in real engineering practice."}),d.jsx("p",{className:"mission-text",children:"TerminalBench advances only as far as its community of experts pushes it."}),d.jsx("p",{className:"mission-text",children:"Every accepted task becomes part of a shared scientific instrument used across academia and industry."}),d.jsx("p",{className:"mission-text welcome-message",children:"On behalf of the Snorkel team, welcome and thank you for helping build the foundation of next-generation agentic AI evaluation."})]})]})})]});function rW({section:e}){return e?d.jsxs("div",{className:"content",children:[d.jsx("h1",{className:"content-title",children:e.title}),d.jsx("div",{className:"content-body",children:e.content})]}):null}function nW({section:e}){const t=pt();return e?d.jsxs("div",{className:"guideline-section-page",children:[d.jsxs("header",{className:"guideline-section-header",children:[d.jsx("button",{className:"back-button",onClick:()=>t("/"),children:" Back to Home"}),d.jsx("div",{className:"section-logo",children:e.title})]}),d.jsx("main",{className:"guideline-section-main",children:d.jsx(rW,{section:e})}),d.jsx("footer",{className:"guideline-section-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]}):null}function iW(){const e=pt(),t=[{id:"92c2e195ac1c4b1e9b1177668dfcb81a",title:"1. Creating a Task"},{id:"22449b76123d41e6abff0efb39d0b960",title:"2. Running your task"},{id:"140f2cf8f16d404abf5cbd7dcc66b7cb",title:"3. Creating a solution.sh"},{id:"a00541ff2787464c84bf4601415ee624",title:"4. Creating tests for your task"}];return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Task Walkthrough Videos"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Task Walkthrough Videos"}),d.jsx("p",{className:"videos-subtitle",children:"Watch these step-by-step videos to learn how to create and submit tasks"}),d.jsx("div",{className:"videos-grid",children:t.map((r,n)=>d.jsxs("div",{className:"video-card",children:[d.jsx("h3",{className:"video-card-title",children:r.title}),d.jsx("div",{className:"video-wrapper",children:d.jsx("iframe",{src:`https://www.loom.com/embed/${r.id}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:r.title})})]},r.id))})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const sW="/Terminus-EC-Training-stateful/";function aW(){const e=pt();return d.jsxs("div",{className:"workbook-page",children:[d.jsxs("header",{className:"workbook-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"workbook-logo",children:"CI Feedback Video and Notebook"})]}),d.jsxs("main",{className:"workbook-content",children:[d.jsx("h1",{className:"workbook-title",children:"CI Feedback Video and Notebook"}),d.jsxs("div",{className:"workbook-intro",children:[d.jsx("p",{children:"CI checks are programmatic evaluations of task correctness and completeness. You need to iterate on your task until all checks pass. This page provides a practice workbook where you can do so, along with a video explaining the solution and walking through how to iterate on CI feedback."}),d.jsx("p",{children:d.jsx("a",{href:`${sW}ci_feedback_training.ipynb`,download:"ci_feedback_training.ipynb",className:"notebook-download-link",children:" Download CI Feedback Training Notebook"})})]}),d.jsx("div",{className:"workbook-video-section",children:d.jsxs("div",{className:"video-card",children:[d.jsx("h3",{className:"video-card-title",children:"CI Feedback Tutorial"}),d.jsx("div",{className:"video-wrapper",children:d.jsx("iframe",{src:"https://www.loom.com/embed/db35a5b03c1c43ab80f46f481fa02be1?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Practice Workbook Tutorial"})})]})}),d.jsxs("div",{className:"workbook-checks-section",children:[d.jsx("h2",{children:"Automated Checks"}),d.jsx("p",{children:"The following automated checks are run on all submissions:"}),d.jsx("h3",{children:"LLMAJ Checks"}),d.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Check Name"}),d.jsx("th",{children:"Description"}),d.jsx("th",{children:"How to Fix"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"behavior_in_task_description"})}),d.jsx("td",{children:"Whether all behavior checked in tests is described in the task"}),d.jsx("td",{children:"Review your test cases and ensure all tested behaviors are explicitly described in the task.yaml instructions"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"behavior_in_tests"})}),d.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"}),d.jsx("td",{children:"Review your task.yaml instructions and ensure each requirement has a corresponding test case in test_outputs.py"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"informative_test_docstrings"})}),d.jsx("td",{children:"Whether test cases have informative docstrings"}),d.jsx("td",{children:"Add docstrings to each test function that describe which behavior or requirement the test is checking"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"anti_cheating_measures"})}),d.jsx("td",{children:"Is it hard for the agent to cheat on the task?"}),d.jsx("td",{children:"Ensure agents cannot cheat by editing data files, looking inside files for solution strings, or training on the test set. If Dockerfile involves git cloning, ensure the agent won't see newer commits"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"structured_data_schema"})}),d.jsx("td",{children:"If agent produces structured data, is exact schema described?"}),d.jsx("td",{children:"If the agent produces structured data (e.g., API responses), describe the exact schema in task.yaml or a separate file"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"hardcoded_solution"})}),d.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"}),d.jsx("td",{children:"Ensure your solution.sh demonstrates a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Using echo/cat to write source files or scripts that are then executed is acceptable"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"file_reference_mentioned"})}),d.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.yaml?"}),d.jsx("td",{children:"If tests check for specific files, ensure those filenames are explicitly mentioned in the task.yaml instructions"})]})]})]}),d.jsx("h3",{children:"CI Checks"}),d.jsx("p",{children:"The following automated checks validate technical requirements:"}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Check Name"}),d.jsx("th",{children:"Description"}),d.jsx("th",{children:"How to Fix"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"pinned_dependencies"})}),d.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"}),d.jsx("td",{children:"Pin all Python dependencies to specific versions. Apt packages should not be pinned, but all pip/uv dependencies should be"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"typos"})}),d.jsx("td",{children:"Check for typos in file and variable names"}),d.jsx("td",{children:"Carefully review file and variable names for typos, as these can be hard to catch"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"tests_or_solution_in_image"})}),d.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"}),d.jsx("td",{children:"Remove any COPY commands for tests/ folder or solution files from your Dockerfile. The /tests folder is automatically copied by the harness"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"test_deps_in_image"})}),d.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"}),d.jsx("td",{children:"Move any test dependency installations from the Dockerfile to the run-tests.sh script"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_canary"})}),d.jsx("td",{children:"Checks if canary string is present at top of required files"}),d.jsx("td",{children:"Add the canary string to the top of all required files (task.yaml, solution.sh, Dockerfile, test_outputs.py)"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_dockerfile_references"})}),d.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"}),d.jsx("td",{children:'Remove any references to "solution.yaml", "solution.sh", "run-tests.sh", or "test_outputs.py" from your Dockerfile'})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_run-tests_sh"})}),d.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.yaml keywords"}),d.jsx("td",{children:"Update run-tests.sh to contain uv init or uv venv, or add global or system-wide keywords to task.yaml"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_task_absolute_path"})}),d.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"}),d.jsx("td",{children:"Update all file paths in task.yaml instructions to use absolute paths (starting with /) instead of relative paths"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_privileged_containers"})}),d.jsx("td",{children:"No privileged containers in docker-compose.yaml"}),d.jsx("td",{children:"Remove any privileged: true or privileged container settings from docker-compose.yaml"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"ruff"})}),d.jsx("td",{children:"Lint checks"}),d.jsx("td",{children:"Run ruff linting checks before submitting and fix any linting errors"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_task_sizes"})}),d.jsx("td",{children:"Every file is under 1MB"}),d.jsx("td",{children:"Remove or condense any files that are over 1MB in size"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"validate_task_fields"})}),d.jsx("td",{children:"All required fields are present in task.yaml"}),d.jsx("td",{children:"Add any missing required fields to your task.yaml file"})]})]})]})]})]}),d.jsx("footer",{className:"workbook-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const oW="/Terminus-EC-Training-stateful/";function lW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"OracleAgent Video and Notebook"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"OracleAgent Video and Notebook"}),d.jsx("div",{className:"workbook-intro",children:d.jsx("p",{children:"This page covers what the Oracle Agent is, how to run it, how to debug its output, and how to submit a debugged task. Use the practice workbook to iterate on your task and watch the video tutorial for a step-by-step walkthrough."})}),d.jsxs("div",{className:"workbook-resources",children:[d.jsxs("div",{className:"download-card",children:[d.jsx("div",{className:"download-icon",children:""}),d.jsx("h3",{children:"Oracle Agent Training Notebook"}),d.jsx("p",{children:"Download the Jupyter notebook for hands-on practice with the Oracle Agent"}),d.jsx("a",{href:`${oW}oracle_agent_training.ipynb`,download:"oracle_agent_training.ipynb",className:"download-button",children:"Download Notebook"})]}),d.jsxs("div",{className:"video-card",children:[d.jsx("h3",{className:"video-card-title",children:"Oracle Training Tutorial"}),d.jsx("div",{className:"video-wrapper",children:d.jsx("iframe",{src:"https://www.loom.com/embed/72b70216a5314068823bc6ed0350e672?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Oracle Training Tutorial"})})]})]})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const sC="/Terminus-EC-Training-stateful/";function uW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Onboarding Video and Slides"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Onboarding Video and Slides"}),d.jsx("div",{className:"workbook-intro",children:d.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project."})}),d.jsxs("div",{className:"workbook-resources",children:[d.jsxs("div",{className:"download-card",children:[d.jsx("div",{className:"download-icon",children:""}),d.jsx("h3",{children:"Onboarding Slides"}),d.jsx("p",{children:"Download or view the onboarding presentation slides"}),d.jsx("a",{href:`${sC}Terminus%20EC%20Onboarding.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),d.jsxs("div",{className:"video-card",children:[d.jsx("h3",{className:"video-card-title",children:"Onboarding Video"}),d.jsx("div",{className:"video-wrapper",children:d.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},onError:t=>{console.error("Video load error:",t),console.error("Video src:",t.target.currentSrc)},children:[d.jsx("source",{src:`${sC}video1251502681.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function Z3({itemId:e,label:t}){const{isCompleted:r,toggleCompletion:n}=M3(),[i,s]=T.useState(!1),a=r(e),o=async()=>{s(!0),await n(e),s(!1)};return d.jsxs("button",{className:`completion-toggle ${a?"completed":""}`,onClick:o,disabled:i,title:a?"Mark as incomplete":"Mark as complete",children:[d.jsx("span",{className:"completion-checkbox",children:a&&d.jsx("svg",{className:"completion-checkmark",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"completion-label",children:t||(a?"Completed":"Mark as Complete")})]})}const aC="/Terminus-EC-Training-stateful/";function cW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/portal"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Expert Platform Onboarding Materials"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Expert Platform Onboarding Materials"}),d.jsx("div",{className:"workbook-intro",children:d.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project on the Snorkel Expert Platform."})}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",maxWidth:"800px",margin:"0 auto",marginTop:"2rem"},children:d.jsxs("div",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"12px",padding:"2rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",width:"100%"},children:[d.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ffffff",marginBottom:"1.5rem",textAlign:"center"},children:"Expert Platform Onboarding Materials"}),d.jsx("div",{style:{marginBottom:"2rem",textAlign:"center"},children:d.jsx("a",{href:`${aC}Terminus EC Onboarding - Platform.pdf`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",backgroundColor:"#ffffff",color:"#1e40af",padding:"0.875rem 2rem",fontSize:"1rem",fontWeight:600,textDecoration:"none",borderRadius:"8px",transition:"all 0.3s",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.2)"},children:"View/Download Onboarding Slides"})}),d.jsxs("div",{children:[d.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:600,color:"#ffffff",marginBottom:"1rem",textAlign:"center"},children:"Onboarding Video"}),d.jsx("div",{className:"video-wrapper",children:d.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[d.jsx("source",{src:`${aC}platform_onboarding_11-25-2025.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})}),d.jsx("div",{style:{marginTop:"2rem",maxWidth:"800px",margin:"2rem auto 0"},children:d.jsx(Z3,{itemId:"resource-expert-platform-onboarding"})})]})]})}const oC="/Terminus-EC-Training-stateful/";function dW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Office Hours Videos and Slides"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Office Hours Videos and Slides"}),d.jsx("div",{className:"workbook-intro",children:d.jsx("p",{children:"Access Office Hours videos and feedback presentation slides to learn about common issues and best practices."})}),d.jsxs("div",{className:"workbook-resources",children:[d.jsxs("div",{className:"video-card",children:[d.jsx("h3",{className:"video-card-title",children:"Office Hours 11/12"}),d.jsx("div",{className:"video-wrapper",children:d.jsxs("video",{controls:!0,className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[d.jsx("source",{src:"/Terminus-EC-Training/video1344882306.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),d.jsxs("div",{className:"download-card",children:[d.jsx("div",{className:"download-icon",children:""}),d.jsx("h3",{children:"Feedback 10/31"}),d.jsx("p",{children:"Feedback slides from October 31st"}),d.jsx("a",{href:`${oC}Feedback%2010_31.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),d.jsxs("div",{className:"download-card",children:[d.jsx("div",{className:"download-icon",children:""}),d.jsx("h3",{children:"Feedback 11/3"}),d.jsx("p",{children:"Feedback slides from November 3rd"}),d.jsx("a",{href:`${oC}Feedback%2011_3.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]})]})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function hW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"FAQ"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Frequently Asked Questions"}),d.jsxs("div",{className:"faq-container",children:[d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"1. Do I need to attend onboarding to get started?"}),d.jsx("p",{className:"faq-answer",children:"No, you do not need to attend a live onboarding. We encourage this so that you can ask questions and they're scheduled every couple of days in case you can't make one day. However, we also have a recording and slides from this session on this site, so you're free to look at those to familiarize yourself and get started right away."})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"2. I didn't receive an assessment, do I need to take one?"}),d.jsx("p",{className:"faq-answer",children:"No, there is currently no assessment for this project, you can get started familiarizing yourself with the task and working on it immediately."})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"3. How do I receive my API keys?"}),d.jsx("p",{className:"faq-answer",children:"You should receive an email with your OpenAI API key shortly after joining the project. If you haven't received it within a day or two, please reach out to Puyun Tafreshi or Alejandro Sanchez on Slack. You will only need the OpenAI key - our infrastructure will allow you to run Anthropic models using only this key."})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"4. Why do I not see anything in my Snorkel Expert Platform?"}),d.jsx("p",{className:"faq-answer",children:"This project is currently being run entirely outside of the Snorkel Expert Platform. Therefore, you should not and will not see anything related to the project on the platform. Everything will be done through the GitHub repo at this point in time."})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"5. How do I get served a task?"}),d.jsx("p",{className:"faq-answer",children:'You will not be "served" a task to complete like in other Snorkel projects. You will be ideating and creating the task completely from scratch. Please see the Task Walkthrough videos for more detail on how to do this.'})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"6. How do I get an idea for my task?"}),d.jsx("p",{className:"faq-answer",children:'You can either come up with a task from scratch or take a task idea from our sheet of task ideas, this is up to you. You can also use the task ideas as "inspiration" and come up with a similar or more complex version.'})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"7. How do I claim an existing task idea from the sheet?"}),d.jsx("p",{className:"faq-answer",children:"To claim a task, please DM Puyun Tafreshi or Alejandro Sanchez on Slack with the line number of the task that you would like to claim. Please do not request more than 2-3 tasks at once, you will be capped at this until you have completed one or more of the tasks that you have previously requested."})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"8. What are the daily Office Hours sessions?"}),d.jsx("p",{className:"faq-answer",children:"These are open forums that are entirely for you. You can come and ask any general questions or specific questions about your task. These are not required, but we encourage attending either to ask questions yourself or just to learn from listening to other people."})]}),d.jsxs("div",{className:"faq-item",children:[d.jsx("h2",{className:"faq-question",children:"9. How do I make a hard task?"}),d.jsxs("p",{className:"faq-answer",children:[d.jsx("strong",{children:"Important:"}),' Tasks that are not at least "Easy" difficulty rating will NOT be accepted. Here are some suggestions and guidelines to make harder tasks:']}),d.jsxs("ul",{style:{marginTop:"0.75rem",paddingLeft:"1.5rem",color:"#64748b"},children:[d.jsxs("li",{style:{marginBottom:"0.75rem"},children:[d.jsx("strong",{children:"Make a debugging-style task:"})," When an agent has to figure out the root cause of an issue, it inherently requires reasoning."]}),d.jsxs("li",{style:{marginBottom:"0.75rem"},children:[d.jsx("strong",{children:"Make tasks requiring special/niche knowledge:"})," Knowledge is publicly available but LLMs have not been well-trained on it due to niche nature. Example: ",d.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/103",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Blockchains/NFT task"})]}),d.jsxs("li",{style:{marginBottom:"0.75rem"},children:[d.jsx("strong",{children:"Use a bespoke rule buried in common rules:"})," The task.yaml still has to clearly define it, but a bespoke rule seems to confuse an agent. Example: ",d.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/174#discussion_r2497044356",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Bespoke rule example"})]}),d.jsxs("li",{style:{marginBottom:"0.75rem"},children:[d.jsx("strong",{children:"Develop a complex, multi-step task:"})," Each step has a certain amount of chance that an agent fails, making the overall failure rate higher."]})]})]})]}),d.jsx("div",{className:"workbook-actions",style:{marginTop:"2rem"},children:d.jsx(Z3,{itemId:"resource-faq"})})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function fW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Glossary"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Glossary"}),d.jsx("div",{className:"content-body",style:{maxWidth:"1000px",margin:"0 auto",textAlign:"left"},children:d.jsxs("div",{className:"glossary-grid",children:[d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Canary String"}),d.jsx("p",{style:{marginBottom:0},children:"A special string that must be present at the top of all required files (task.yaml, solution.sh, Dockerfile, test_outputs.py). Used to verify that these files have been properly reviewed and meet project standards."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"CI Checks"}),d.jsx("p",{style:{marginBottom:0},children:"Automated checks that validate technical requirements for submissions. Include checks for pinned dependencies, typos, canary strings, Dockerfile references, absolute paths, privileged containers, linting (ruff), file sizes, and required task.yaml fields. All CI checks must pass before a submission can be accepted."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"docker-compose.yaml"}),d.jsx("p",{style:{marginBottom:0},children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources. Must not use privileged containers."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Dockerfile"}),d.jsx("p",{style:{marginBottom:0},children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode. Must not copy tests/ folder or solution files, as these are automatically copied by the harness."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"LLMAJ Checks"}),d.jsx("p",{style:{marginBottom:0},children:"Automated checks that evaluate task quality and correctness. Include checks for behavior alignment between task description and tests, informative test docstrings, anti-cheating measures, structured data schema description, hardcoded solutions, and file reference mentions. These checks ensure the task is well-designed and properly tested."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Oracle Agent"}),d.jsx("p",{style:{marginBottom:0},children:"Agent that is run in created environment to check the solution implemented in the solution.sh file. Checks that the solution runs correctly and without bugs, and tests the output of the solution against the created pytests to ensure that the solution passes."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Pass Rate Difficulty"}),d.jsx("p",{style:{marginBottom:0},children:"The average pass rate for an acceptable task must be <80%. This ensures tasks are challenging enough to provide meaningful evaluation of agent capabilities."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"run-tests.sh"}),d.jsx("p",{style:{marginBottom:0},children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. Must be deterministic, portable, and callable directly from the project root. Should use uv init or uv venv, or have proper task.yaml keywords."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"solution.sh"}),d.jsx("p",{style:{marginBottom:0},children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task. Must demonstrate a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Used by the Oracle Agent to verify the task is solvable."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"stb"}),d.jsxs("p",{style:{marginBottom:0},children:["Command-line tool for Terminal-Bench tasks. Used with commands like ",d.jsx("code",{children:"uv run stb tasks create"}),"to create new task structures and manage task-related operations."]})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"task.yaml"}),d.jsx("p",{style:{marginBottom:0},children:"Clear and self-contained description of the task to be accomplished by the agent. Includes references to relevant resources, rules and constraints, success criteria, and task metadata. Must be written by a human and should explicitly mention any filenames that agents need to produce."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"tb run"}),d.jsxs("p",{style:{marginBottom:0},children:["Command used to run tasks with different agents. Example: ",d.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"}),"runs the Oracle Agent on a specified task to verify the solution works correctly."]})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"test_outputs.py"}),d.jsx("p",{style:{marginBottom:0},children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment. Each test should have informative docstrings describing which behavior or requirement the test is checking. All behavior described in task.yaml should have corresponding tests."})]}),d.jsxs("div",{className:"info-box",style:{marginTop:0},children:[d.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"uv"}),d.jsx("p",{style:{marginBottom:0},children:"A fast Python package installer and resolver written in Rust. Used in the Terminus project for managing Python dependencies and virtual environments. Required for running tasks and managing test dependencies."})]})]})})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function pW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Local Testing Info"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Local Testing Info"}),d.jsxs("div",{className:"content-body",style:{maxWidth:"900px",margin:"0 auto",textAlign:"left"},children:[d.jsx("p",{style:{marginBottom:"2rem",lineHeight:"1.7",color:"#475569"},children:"Running agents locally allows you to iterate on your tasks more effectively compared to needing to submit your PR before receiving test results. By testing locally, you can quickly identify issues, refine your task design, and validate solutions before submitting. You'll receive your API key from Snorkel via email, which you'll need to set up your environment for local testing."}),d.jsx("h2",{children:"Test SOTA agent performance on your task"}),d.jsxs("ol",{children:[d.jsx("li",{children:"Receive API key from Snorkel via email"}),d.jsxs("li",{children:["Update environmental variables:",d.jsx("pre",{children:d.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),d.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",d.jsx("pre",{children:d.jsx("code",{children:"# GPT-5 tb run --agent terminus-2 --model openai/@openai-tbench/gpt-5 --task-id <task_id> # Claude Sonnet 4.5 tb run --agent terminus-2 --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929 --task-id <task_id>"})})]})]}),d.jsx("h2",{children:"Check that your solution passes CI and LLMaJ checks"}),d.jsxs("ol",{children:[d.jsx("li",{children:"Receive API key from Snorkel via email"}),d.jsxs("li",{children:["Update environmental variables:",d.jsx("pre",{children:d.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),d.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",d.jsx("pre",{children:d.jsx("code",{children:"# GPT-5 tb tasks check <task_id> --model openai/@openai-tbench/gpt-5 # Claude Sonnet 4.5 tb tasks check <task_id> --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929"})})]})]})]})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function mW(){const e=pt();return d.jsxs("div",{className:"videos-page",children:[d.jsxs("header",{className:"videos-header",children:[d.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),d.jsx("div",{className:"videos-logo",children:"Environment Setup"})]}),d.jsxs("main",{className:"videos-content",children:[d.jsx("h1",{className:"videos-title",children:"Environment Setup"}),d.jsx("div",{className:"content-body",style:{maxWidth:"900px",margin:"0 auto",textAlign:"left"},children:d.jsx("p",{style:{marginBottom:"2rem",lineHeight:"1.7",color:"#475569"},children:"Set up your development environment to get started with the Terminus EC project."})})]}),d.jsx("footer",{className:"videos-footer",children:d.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const gW=[{id:"overview",title:"Project Overview",content:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:"Project Goal"}),d.jsx("p",{children:"This project aims to develop a high-quality dataset in the style of Terminal-Bench. Terminal-Bench is a suite of multi-step agentic tasks executed in a Command-Line Interface (CLI) environment, designed to benchmark the performance of models. You will design these tasks and include the necessary components to be compatible with the Terminus framework."}),d.jsx("h3",{children:"Your Role as a Coding Expert"}),d.jsx("p",{children:"Your role is to develop a task, solution, and associated tests to verify the solution. These should be quite difficult, targeting an accuracy of below 80% for GPT-5 or Sonnet 4.5."}),d.jsx("p",{children:d.jsx("strong",{children:"Task Difficulty Classifications:"})}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Hard"})," - accuracy < 40% for GPT-5 or Sonnet 4.5"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Medium"})," - accuracy < 60% for either GPT-5 or Sonnet 4.5"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Easy"})," - accuracy < 80% for either GPT-5 or Sonnet 4.5"]})]}),d.jsx("p",{children:"You will create the task locally, validate that it meets all project criteria, and then package it as part of your submissions. Each submission undergoes independent review by another qualified coding expert with experience in the corresponding practice area to ensure accuracy and completeness."}),d.jsx("h3",{children:"Resources"}),d.jsxs("ul",{children:[d.jsxs("li",{children:["Slack for all project-related questions: ",d.jsx("strong",{children:"#ec-terminus-submission"})]}),d.jsxs("li",{children:["Terminal-Bench site: ",d.jsx("a",{href:"https://www.tbench.ai/",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/"})]}),d.jsx("li",{children:"While this project is NOT affiliated with the official Terminal-Bench project, this is a valuable resource given their similarities"}),d.jsx("li",{children:"Tickets for non-project-specific questions (i.e., payments): Expert Support Form"})]})]})},{id:"components",title:"Task Components",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Key Submission Components"}),d.jsx("h3",{children:"Components that Define the Task"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Instruction/Prompt (task.yaml)"}),d.jsx("p",{children:"Clear and self-contained description of the task to be accomplished by the agent. The instructions will include references to the relevant resources necessary for task completion, rules and additional constraints, and a description of the success criteria. This will also contain task metadata that is not available to the agent at runtime."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Docker Environment (Dockerfile)"}),d.jsx("p",{children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"docker-compose.yaml"}),d.jsx("p",{children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Oracle Solution (solution.sh)"}),d.jsx("p",{children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"run-tests.sh"}),d.jsx("p",{children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. It must be deterministic, portable, and callable directly from the project root."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Python Tests"}),d.jsx("p",{children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment."})]}),d.jsx("h3",{children:"Optional Components"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Supporting Data Files:"})," Any additional inputs (e.g., data, configuration files, etc.) that are required for the task itself"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Custom Tools:"})," Custom tools to be used by the agent can be delivered in multiple ways, from source code files to companion containers"]})]}),d.jsxs("p",{className:"warning-box",children:[d.jsx("strong",{children:"Note:"})," See the template task in the GitHub repository for an example of submission structure."]})]})},{id:"taxonomy",title:"Task Type Taxonomy",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Task Type Taxonomy"}),d.jsx("p",{children:"The following taxonomy is used to label each task and describes the primary theme, topic, or activity in the task:"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"system-administration"}),d.jsx("p",{children:"Tasks involving OS-level configuration, user management, package management, processes, or installing, configuring, and bringing up services, networks, and environments."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"build-and-dependency-management"}),d.jsx("p",{children:"Compile code, manage dependencies, build components."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"data-processing"}),d.jsx("p",{children:"Tasks that transform, parse, filter, aggregate datasets or files and directories and generate derived output."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"games"}),d.jsx("p",{children:"Tasks centered on game-like or simulated environments, interactive puzzles, or simulation games that run in the terminal."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"software-engineering"}),d.jsx("p",{children:"Tasks focused on developing or testing features and algorithms, fixing bugs and improving/optimizing an existing feature, implementing tests, or maintaining software projects."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"machine-learning"}),d.jsx("p",{children:"Tasks requiring training, fine-tuning, running inference, or evaluating machine learning models, including dependency setup, running training loops, and managing data pipelines for ML tasks."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"debugging"}),d.jsx("p",{children:"Tasks that require identifying, diagnosing, and fixing errors in scripts, codebases, or system configurations."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"security"}),d.jsx("p",{children:"Tasks related to cryptography, authentication, permissions, penetration-style tests, exploit, validate vulnerabilities, reverse engineering or security configuration."})]}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"scientific-computing"}),d.jsx("p",{children:"Tasks using scientific libraries or workflows, such as numerical computation, simulations, or domain-specific research code."})]}),d.jsxs("p",{className:"warning-box",children:[d.jsx("strong",{children:"Note:"})," If your Terminal-Bench tasks are designed to be relevant to a particular domain, such as financial services, an additional taxonomy specific to that domain can be developed."]})]})},{id:"workflow",title:"Setup + Workflow",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Environment Setup and Tasking Workflow"}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Before Beginning:"})," Familiarize yourself with Terminal-Bench and its existing tasks here:",d.jsx("a",{href:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1"}),". Our project, while not a direct contribution to Terminal-Bench, will mimic the style closely."]}),d.jsx("h3",{children:"Submissions Workflow"}),d.jsxs("p",{children:["Submissions will be created through a private GitHub repository: ",d.jsx("code",{children:"https://github.com/snorkel-ai/snorkel-tb-tasks"})]}),d.jsx("p",{children:"Once you receive access to this repository, please do the following:"}),d.jsxs("ol",{children:[d.jsx("li",{children:"Clone the repository"}),d.jsxs("li",{children:["Create a task in your local environment under ",d.jsx("code",{children:"tasks"})," directory"]}),d.jsx("li",{children:"Ensure the oracle solution passes and minimum criteria for difficulty are met"}),d.jsxs("li",{children:["Push a branch (e.g. ",d.jsx("code",{children:"username/<task-id>"}),")"]}),d.jsxs("li",{children:["Create a pull request against the repository and make sure the title starts with ",d.jsx("strong",{children:"Task:"})]}),d.jsx("li",{children:"Iterate on that branch until all CI/Evals pass"})]}),d.jsxs("p",{className:"info-box",children:[d.jsx("strong",{children:"Estimated Time:"})," The submission task is expected to require around 2-5 hours to complete."]}),d.jsx("h3",{children:"Initial Setup (one-time)"}),d.jsxs("ol",{children:[d.jsxs("li",{children:["Install uv",d.jsx("pre",{children:d.jsx("code",{children:"curl -LsSf https://astral.sh/uv/install.sh | sh"})})]}),d.jsxs("li",{children:["Clone the repository",d.jsx("pre",{children:d.jsx("code",{children:"git clone https://github.com/snorkel-ai/snorkel-tb-tasks.git"})})]}),d.jsxs("li",{children:["Navigate to the created local directory",d.jsx("pre",{children:d.jsx("code",{children:"cd snorkel-tb-tasks"})})]})]}),d.jsx("h3",{children:"Creating the File Structure for a New Task"}),d.jsxs("ol",{children:[d.jsx("li",{children:"Download the task skeleton template from the training site"}),d.jsx("li",{children:"Extract and rename the folder to match your task name"}),d.jsx("li",{children:"[Optional] Enter 'y' to receive an overview of Terminal-Bench, or 'n' to skip"}),d.jsxs("li",{children:["Follow the steps given in the terminal to:",d.jsxs("ul",{children:[d.jsx("li",{children:"Provide a unique name for your task"}),d.jsx("li",{children:"Provide the task description/what the task is"}),d.jsx("li",{children:"Indicate whether interactive commands are required (most cases: no)"}),d.jsx("li",{children:"Please skip entering your name and email (we will track this through the app)"}),d.jsx("li",{children:"Enter a category for your task corresponding to one in the Taxonomy"}),d.jsx("li",{children:"Enter 3-6 tags for your task (separated by spaces)"}),d.jsx("li",{children:"Provide an easy/medium/hard rating based on how long it would take an expert to solve"}),d.jsx("li",{children:"Provide a completion time estimate for an expert engineer"}),d.jsx("li",{children:"Provide a completion time estimate for a junior engineer"})]})]})]}),d.jsxs("p",{children:["This will create a new folder in your ",d.jsx("code",{children:"snorkel-tb-tasks/tasks"})," directory, with a name corresponding to the unique name provided. The contents contain all the necessary files needed for task submission (unless you need to add additional data files)."]}),d.jsx("h3",{children:"Completing a Task After Creation"}),d.jsxs("ol",{children:[d.jsxs("li",{children:["Edit the created Dockerfile to set up your task environment",d.jsxs("ul",{children:[d.jsx("li",{children:"Add any dependencies of the task, such as additional required packages"}),d.jsx("li",{children:"If you require a multi-container environment or other custom configuration, see the documentation for customizing your docker-compose.yaml"})]})]}),d.jsxs("li",{children:["Enter your task container in interactive mode",d.jsx("pre",{children:d.jsx("code",{children:"tb tasks interact -t <task-name>"})})]}),d.jsx("li",{children:"While interacting with your task container, test your solution idea to make sure it works as expected"}),d.jsx("li",{children:"Once solution is verified, record it and exit the container"}),d.jsxs("li",{children:["Modify the solution file (solution.sh) with the verified commands",d.jsxs("ul",{children:[d.jsx("li",{children:"This file will be used by the OracleAgent to ensure the task is solvable"}),d.jsx("li",{children:"If you need to run commands that are not possible with a bash script (e.g. vim), use a solution.yaml file"})]})]}),d.jsxs("li",{children:["Update the tests/test_outputs.py file to verify task completion",d.jsxs("ul",{children:[d.jsx("li",{children:"Create pytest unit tests to ensure that the task was completed correctly"}),d.jsx("li",{children:"If tests require any file dependencies, place them in the tests/ directory"})]})]}),d.jsxs("li",{children:["Test your task solution passes and meets all requirements",d.jsx("pre",{children:d.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"})})]}),d.jsx("li",{children:"Push a branch (e.g. my-task-1) to the repository"}),d.jsx("li",{children:"Create a PR to submit your task"})]})]})},{id:"requirements",title:"Task Requirements",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Task Design Requirements"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Frontier Models and Agents:"})," The following combinations are used to evaluate each task (evaluations are repeated 5 times):",d.jsxs("ul",{children:[d.jsx("li",{children:"Codex agent with GPT-5-Codex"}),d.jsx("li",{children:"Claude Code agent with Sonnet 4.5"})]})]}),d.jsxs("div",{className:"checklist",children:[d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"Pass Rate Difficulty:"})," Average pass rate for acceptable task is <80%"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"Multi-Step:"})," Tasks must require chaining multiple commands, handling intermediate states, and some reasoning"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"Testable:"})," Each task must be fully specified with sufficient information for the agent to complete without ambiguity"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"Unique:"})," All tasks must be unique and distinct from all existing Terminal-Bench tasks"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"No Privileged Ops:"})," Tasks must not require root-level privileges or unsafe Docker settings"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"Standalone:"})," Tasks must run to completion without additional user input after start"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"Task Type Distribution:"})," No single type will exceed ~30% of offerings, with at least four types each representing 10%"]}),d.jsxs("div",{className:"checklist-item",children:[d.jsx("strong",{children:"(Optional) Domain Relevance:"})," Tasks should reflect real-world skills for the relevant domain"]})]}),d.jsx("h3",{children:"Submission Checklist"}),d.jsxs("div",{className:"checklist",children:[d.jsx("div",{className:"checklist-item",children:"All behavior checked in the test cases is described in the task instruction"}),d.jsx("div",{className:"checklist-item",children:"All behavior described in the task instruction is checked in the unit tests"}),d.jsx("div",{className:"checklist-item",children:"Test cases have informative docstrings that describe which behavior they check"}),d.jsx("div",{className:"checklist-item",children:"Hard for agent to cheat (e.g. by editing data files or looking inside files for solutions)"}),d.jsx("div",{className:"checklist-item",children:"task.yaml was written by a human"}),d.jsx("div",{className:"checklist-item",children:"solution.sh was written by a human (with minimal LLM help)"}),d.jsx("div",{className:"checklist-item",children:"If agent produces structured data, exact schema is described in task.yaml or separate file"}),d.jsx("div",{className:"checklist-item",children:"External dependencies have pinned versions for reproducibility"}),d.jsx("div",{className:"checklist-item",children:"Ran task using agent with powerful model and analyzed failing runs to confirm task validity"}),d.jsx("div",{className:"checklist-item",children:"Formatted and linted the task (Ruff)"})]})]})},{id:"examples",title:"Example Tasks",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Example Tasks"}),d.jsx("h3",{children:"Example 1: VimGolf Challenge"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Category:"})," games",d.jsx("br",{}),d.jsx("strong",{children:"Difficulty:"})," medium",d.jsx("br",{}),d.jsx("strong",{children:"Tags:"})," games, vim, text-editing"]}),d.jsx("pre",{children:d.jsx("code",{children:`instruction: |-
  You are given a fresh install with python installed.
  First, use pip to install vimgolf.
  Then, read the file "/challenge.txt" to get the challenge id.
  Then, use vimgolf show <CHALLENGE_ID> to get the best scores,
  as well as the start file and end file.
  Then, write the Start File to /start.txt and End File to /end.txt
  Attempt the vimgolf challenge using vimgolf local /start.txt /end.txt,
  and output the string of vim inputs in "/score.txt".
  
  Your primary objective is to solve the problem within the
  minimum score * 1.5 in the leaderboard.`})}),d.jsx("h3",{children:"Example 2: OpenCV Debugging"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Category:"})," computer-vision",d.jsx("br",{}),d.jsx("strong",{children:"Difficulty:"})," medium",d.jsx("br",{}),d.jsx("strong",{children:"Tags:"})," computer-vision, jupyter-notebooks, bugfix"]}),d.jsx("pre",{children:d.jsx("code",{children:`instruction: |-
  A Jupyter notebook at /app/opencv_analysis.ipynb contains
  several OpenCV image processing operations, but it has multiple
  errors preventing it from running successfully.
  Fix all errors in the notebook so that it executes completely
  without errors and produces the expected output image.`})}),d.jsx("h3",{children:"Example 3: Python Bytecode Decompilation"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Category:"})," software-engineering",d.jsx("br",{}),d.jsx("strong",{children:"Difficulty:"})," hard",d.jsx("br",{}),d.jsx("strong",{children:"Tags:"})," software-engineering, python, bytecode, serialization"]}),d.jsx("pre",{children:d.jsx("code",{children:`instruction: |
  Your task is to decompile a Python function in bytecode format,
  compiled in CPython 3.8, and save the function in decompiled.py
  in the same folder as task.yaml.
  The function name should be "func".
  Note that the function is pickled using dill and serialized
  using base64 in the file called func.serialized.`})}),d.jsx("h3",{children:"Example 4: Python Environment Setup"}),d.jsxs("div",{className:"info-box",children:[d.jsx("strong",{children:"Category:"})," system-administration",d.jsx("br",{}),d.jsx("strong",{children:"Difficulty:"})," medium",d.jsx("br",{}),d.jsx("strong",{children:"Tags:"})," environment-setup, python, virtualenv, dependency-management"]}),d.jsx("pre",{children:d.jsx("code",{children:`instruction: |
  Install Python using pyenv, create a virtual environment using
  pyenv/virtualenv called "venv", activate it and install
  numpy 1.26.4 in it.
  You shouldn't get any warning during Python installation.
  Make sure that tkinter is also available in the virtual environment.`})})]})},{id:"ci-quality",title:"CI + Quality Control",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Quality Control"}),d.jsx("h3",{children:"Manual Peer Review"}),d.jsx("p",{children:"Peer reviewers will provide additional expert oversight on oracle correctness, prompt clarity, environment correctness, and tagging. Disagreements are adjudicated by Snorkel's in-house experts."}),d.jsx("h3",{children:"LLMAJ Checks"}),d.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Check Name"}),d.jsx("th",{children:"Description"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"behavior_in_task_description"})}),d.jsx("td",{children:"Whether all behavior checked in tests is described in the task"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"behavior_in_tests"})}),d.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"informative_test_docstrings"})}),d.jsx("td",{children:"Whether test cases have informative docstrings"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"anti_cheating_measures"})}),d.jsx("td",{children:"Is it hard for the agent to cheat on the task?"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"structured_data_schema"})}),d.jsx("td",{children:"If agent produces structured data, is exact schema described?"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"hardcoded_solution"})}),d.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"file_reference_mentioned"})}),d.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.yaml?"})]})]})]}),d.jsx("h3",{children:"CI Checks"}),d.jsx("p",{children:"The following automated checks validate technical requirements:"}),d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Check Name"}),d.jsx("th",{children:"Description"})]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"pinned_dependencies"})}),d.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"typos"})}),d.jsx("td",{children:"Check for typos in file and variable names"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"tests_or_solution_in_image"})}),d.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"test_deps_in_image"})}),d.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_canary"})}),d.jsx("td",{children:"Checks if canary string is present at top of required files"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_dockerfile_references"})}),d.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_run-tests_sh"})}),d.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.yaml keywords"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_task_absolute_path"})}),d.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_privileged_containers"})}),d.jsx("td",{children:"No privileged containers in docker-compose.yaml"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"ruff"})}),d.jsx("td",{children:"Lint checks"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"check_task_sizes"})}),d.jsx("td",{children:"Every file is under 1MB"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("code",{children:"validate_task_fields"})}),d.jsx("td",{children:"All required fields are present in task.yaml"})]})]})]})]})},{id:"review",title:"Review Guidelines",content:d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Review Guidelines"}),d.jsx("h3",{children:"Steps for Checking Tasks"}),d.jsx("h4",{children:"1. Read the Task Description"}),d.jsxs("div",{className:"checklist",children:[d.jsx("div",{className:"checklist-item",children:"Check that the task description looks like it's written by a person"}),d.jsx("div",{className:"checklist-item",children:"Imagine you're a malicious agent - does the description give extra information that makes cheating easier?"}),d.jsx("div",{className:"checklist-item",children:"Carefully read each requirement and verify there is a corresponding test"})]}),d.jsx("h4",{children:"2. Read the Tests"}),d.jsxs("div",{className:"checklist",children:[d.jsx("div",{className:"checklist-item",children:"Do the tests seem brittle, with many hardcoded strings?"}),d.jsx("div",{className:"checklist-item",children:"Are there hardcoded thresholds? Do these thresholds seem reasonable?"}),d.jsx("div",{className:"checklist-item",children:"Are there any tests that unreasonably assume behavior not mentioned in the description?"})]}),d.jsx("h4",{children:"3. Check Timeouts, Time Estimates, and Difficulty"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Difficulty should be based on effort required by a human"}),d.jsx("li",{children:"Junior estimate is for an L3 at Google, expert is a domain expert"}),d.jsx("li",{children:"Timeout should be high enough that it likely won't be the limiting factor"})]}),d.jsx("h4",{children:"4. On the Task Viewer"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Watch the terminal recording. If the agent fails, is it failing for a good reason?"}),d.jsx("li",{children:"Check the analysis. Are the identified issues real?"}),d.jsx("li",{children:"Read the debug pane, which shows why an agent failed the task"})]}),d.jsx("h3",{children:"Common Errors to Watch For"}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Testing Behavior:"})," It is almost always better to test a behavior by actually running the code or environment the agent writes than trying to statically analyze it."]}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Tool Specifications:"})," Task instructions shouldn't mention specific tools that the agent should use unless there's a way to check if these tools were actually used. For example, don't ask the agent to use vim to write a text file because we can't confirm it was used over sed or emacs."]}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Randomness:"})," Tasks or solutions that involve randomness MUST NOT assume the solution matches that same random order or implementation. Don't depend on particular ",d.jsx("code",{children:"np.random.seed"}),"values."]}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Test Complexity:"})," Test files should be as clear and simple as possible. Long test files are almost always wrong since more tests means more opportunities for error. Similarly, a task should be carefully defined. It's usually a bad sign if a task description is long with many requirements."]}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Data Formats:"})," Be especially paranoid about specifying data formats like API structures, json response schemas, etc. For example, if you're telling the model it needs to output a CSV you'll also need to specify whether it needs a header."]}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"String Matching:"})," Avoid tests that rely on string matching. This is almost always too brittle. For example, checking for a python import by looking for ",d.jsx("code",{children:"import pandas.DataFrame"}),"could fail because the agent could write ",d.jsx("code",{children:"from pandas import DataFrame"}),"."]}),d.jsxs("div",{className:"warning-box",children:[d.jsx("strong",{children:"Anti-Cheating:"})," Think about how agents could cheat. Examples:",d.jsxs("ul",{children:[d.jsx("li",{children:"If an answer is hidden in a program, ensure agents cannot directly get the answer by decompiling it"}),d.jsx("li",{children:"If task requires running programs and reporting behavior, ensure agents can't pass by replacing programs with dummy versions"}),d.jsx("li",{children:"If task exposes test cases, ensure they cannot pass real tests by deleting tests"})]})]})]})}];function vW({stats:e}){const t=[{label:"Total ECs",value:e.totalUsers,icon:"",color:"#667eea"},{label:"Active (7 days)",value:e.activeUsers7d,icon:"",color:"#48bb78"},{label:"Active (30 days)",value:e.activeUsers30d,icon:"",color:"#4299e1"},{label:"Avg Completion",value:`${e.avgCompletion}%`,icon:"",color:"#ed8936"},{label:"New (7 days)",value:e.newUsers7d,icon:"",color:"#9f7aea"}];return d.jsx("div",{className:"overview-stats",children:t.map((r,n)=>d.jsxs("div",{className:"stat-card",style:{borderTopColor:r.color},children:[d.jsx("div",{className:"stat-icon",children:r.icon}),d.jsxs("div",{className:"stat-content",children:[d.jsx("div",{className:"stat-label",children:r.label}),d.jsx("div",{className:"stat-value",children:r.value})]})]},n))})}function yW({users:e}){const[t,r]=T.useState(""),[n,i]=T.useState("all"),[s,a]=T.useState("created_at"),[o,u]=T.useState("desc"),h=e.filter(g=>{var _,w;const b=((_=g.github_username)==null?void 0:_.toLowerCase().includes(t.toLowerCase()))||((w=g.email)==null?void 0:w.toLowerCase().includes(t.toLowerCase())),x=n==="all"||g.status===n;return b&&x}).sort((g,b)=>{let x=g[s],_=b[s];return s==="completion_percentage"&&(x=parseFloat(x)||0,_=parseFloat(_)||0),o==="asc"?x>_?1:-1:x<_?1:-1}),f=g=>{s===g?u(o==="asc"?"desc":"asc"):(a(g),u("desc"))},p=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=g=>{const b={active:{bg:"#f0fff4",color:"#22543d",border:"#48bb78"},inactive:{bg:"#fffaf0",color:"#744210",border:"#ed8936"},dormant:{bg:"#fff5f5",color:"#742a2a",border:"#f56565"}},x=b[g]||b.dormant;return d.jsx("span",{className:"status-badge",style:{background:x.bg,color:x.color,borderColor:x.border},children:g})};return d.jsxs("div",{className:"user-stats-table",children:[d.jsxs("div",{className:"table-header",children:[d.jsx("h2",{children:"User Progress"}),d.jsxs("div",{className:"table-controls",children:[d.jsx("input",{type:"text",placeholder:"Search by name or email...",value:t,onChange:g=>r(g.target.value),className:"search-input"}),d.jsxs("select",{value:n,onChange:g=>i(g.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"}),d.jsx("option",{value:"dormant",children:"Dormant"})]})]})]}),d.jsxs("div",{className:"table-scroll",children:[d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>f("github_username"),children:["Name ",s==="github_username"&&(o==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>f("created_at"),children:["Joined ",s==="created_at"&&(o==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>f("last_active"),children:["Last Active ",s==="last_active"&&(o==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>f("completion_percentage"),children:["Progress ",s==="completion_percentage"&&(o==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>f("status"),children:["Status ",s==="status"&&(o==="asc"?"":"")]})]})}),d.jsx("tbody",{children:h.map(g=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("div",{className:"user-cell",children:[g.github_avatar_url&&d.jsx("img",{src:g.github_avatar_url,alt:g.github_username,className:"user-avatar-small"}),d.jsxs("div",{children:[d.jsx("div",{className:"user-name",children:g.github_username||"Unknown"}),d.jsx("div",{className:"user-email",children:g.email})]})]})}),d.jsx("td",{children:p(g.created_at)}),d.jsx("td",{children:p(g.last_active)}),d.jsx("td",{children:d.jsxs("div",{className:"progress-cell",children:[d.jsx("div",{className:"progress-bar-mini",children:d.jsx("div",{className:"progress-fill-mini",style:{width:`${g.completion_percentage||0}%`}})}),d.jsxs("span",{className:"progress-text",children:[g.completion_percentage||0,"%"]})]})}),d.jsx("td",{children:v(g.status)})]},g.id))})]}),h.length===0&&d.jsx("div",{className:"no-results",children:"No users found matching your criteria"})]}),d.jsxs("div",{className:"table-footer",children:["Showing ",h.length," of ",e.length," users"]})]})}function eR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=eR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=eR(e))&&(n&&(n+=" "),n+=t);return n}var bW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Cx(e){if(typeof e!="string")return!1;var t=bW;return t.includes(e)}var _W=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function tR(e){if(typeof e!="string")return!1;var t=_W;return t.includes(e)}function rR(e){return typeof e=="string"&&e.startsWith("data-")}function xs(e){var t=Object.entries(e).filter(r=>{var[n]=r;return tR(n)||rR(n)});return Object.fromEntries(t)}function Ax(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xs(t)}return typeof e=="object"&&!Array.isArray(e)?xs(e):null}function Zn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return tR(n)||rR(n)||Cx(n)});return Object.fromEntries(t)}var xW=["children","width","height","viewBox","className","style","title","desc"];function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(null,arguments)}function wW(e,t){if(e==null)return{};var r,n,i=EW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nR=T.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:u,desc:h}=e,f=wW(e,xW),p=s||{width:n,height:i,x:0,y:0},v=Pt("recharts-surface",a);return T.createElement("svg",D1({},Zn(f),{className:v,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),T.createElement("title",null,u),T.createElement("desc",null,h),r)}),kW=["children","className"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(null,arguments)}function TW(e,t){if(e==null)return{};var r,n,i=SW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ka=T.forwardRef((e,t)=>{var{children:r,className:n}=e,i=TW(e,kW),s=Pt("recharts-layer",n);return T.createElement("g",L1({className:s},Zn(i),{ref:t}),r)}),CW=T.createContext(null);function kt(e){return function(){return e}}const iR=Math.cos,Dp=Math.sin,Ai=Math.sqrt,Lp=Math.PI,Mm=2*Lp,M1=Math.PI,F1=2*M1,ro=1e-6,AW=F1-ro;function sR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sR;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class NW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sR:OW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=n-t,h=i-r,f=a-t,p=o-r,v=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ro)if(!(Math.abs(p*u-h*f)>ro)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-a,b=i-o,x=u*u+h*h,_=g*g+b*b,w=Math.sqrt(x),C=Math.sqrt(v),S=s*Math.tan((M1-Math.acos((x+v-_)/(2*w*C)))/2),O=S/C,P=S/w;Math.abs(O-1)>ro&&this._append`L${t+O*f},${r+O*p}`,this._append`A${s},${s},0,0,${+(p*g>f*b)},${this._x1=t+P*u},${this._y1=r+P*h}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),u=n*Math.sin(i),h=t+o,f=r+u,p=1^a,v=a?i-s:s-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>ro||Math.abs(this._y1-f)>ro)&&this._append`L${h},${f}`,n&&(v<0&&(v=v%F1+F1),v>AW?this._append`A${n},${n},0,1,${p},${t-o},${r-u}A${n},${n},0,1,${p},${this._x1=h},${this._y1=f}`:v>ro&&this._append`A${n},${n},0,${+(v>=M1)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ox(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new NW(t)}function Nx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aR(e){this._context=e}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fm(e){return new aR(e)}function oR(e){return e[0]}function lR(e){return e[1]}function uR(e,t){var r=kt(!0),n=null,i=Fm,s=null,a=Ox(o);e=typeof e=="function"?e:e===void 0?oR:kt(e),t=typeof t=="function"?t:t===void 0?lR:kt(t);function o(u){var h,f=(u=Nx(u)).length,p,v=!1,g;for(n==null&&(s=i(g=a())),h=0;h<=f;++h)!(h<f&&r(p=u[h],h,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,h,u),+t(p,h,u));if(g)return s=null,g+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:kt(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:kt(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:kt(!!u),o):r},o.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),o):i},o.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),o):n},o}function Pf(e,t,r){var n=null,i=kt(!0),s=null,a=Fm,o=null,u=Ox(h);e=typeof e=="function"?e:e===void 0?oR:kt(+e),t=typeof t=="function"?t:kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?lR:kt(+r);function h(p){var v,g,b,x=(p=Nx(p)).length,_,w=!1,C,S=new Array(x),O=new Array(x);for(s==null&&(o=a(C=u())),v=0;v<=x;++v){if(!(v<x&&i(_=p[v],v,p))===w)if(w=!w)g=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=v-1;b>=g;--b)o.point(S[b],O[b]);o.lineEnd(),o.areaEnd()}w&&(S[v]=+e(_,v,p),O[v]=+t(_,v,p),o.point(n?+n(_,v,p):S[v],r?+r(_,v,p):O[v]))}if(C)return o=null,C+""||null}function f(){return uR().defined(i).curve(a).context(s)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:kt(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:kt(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:kt(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:kt(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:kt(+p),h):r},h.lineX0=h.lineY0=function(){return f().x(e).y(t)},h.lineY1=function(){return f().x(e).y(r)},h.lineX1=function(){return f().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:kt(!!p),h):i},h.curve=function(p){return arguments.length?(a=p,s!=null&&(o=a(s)),h):a},h.context=function(p){return arguments.length?(p==null?s=o=null:o=a(s=p),h):s},h}class cR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PW(e){return new cR(e,!0)}function IW(e){return new cR(e,!1)}const Px={draw(e,t){const r=Ai(t/Lp);e.moveTo(r,0),e.arc(0,0,r,0,Mm)}},jW={draw(e,t){const r=Ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dR=Ai(1/3),RW=dR*2,DW={draw(e,t){const r=Ai(t/RW),n=r*dR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},LW={draw(e,t){const r=Ai(t),n=-r/2;e.rect(n,n,r,r)}},MW=.8908130915292852,hR=Dp(Lp/10)/Dp(7*Lp/10),FW=Dp(Mm/10)*hR,BW=-iR(Mm/10)*hR,$W={draw(e,t){const r=Ai(t*MW),n=FW*r,i=BW*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Mm*s/5,o=iR(a),u=Dp(a);e.lineTo(u*r,-o*r),e.lineTo(o*n-u*i,u*n+o*i)}e.closePath()}},Qv=Ai(3),UW={draw(e,t){const r=-Ai(t/(Qv*3));e.moveTo(0,r*2),e.lineTo(-Qv*r,-r),e.lineTo(Qv*r,-r),e.closePath()}},Wn=-.5,qn=Ai(3)/2,B1=1/Ai(12),HW=(B1/2+1)*3,zW={draw(e,t){const r=Ai(t/HW),n=r/2,i=r*B1,s=n,a=r*B1+r,o=-s,u=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(o,u),e.lineTo(Wn*n-qn*i,qn*n+Wn*i),e.lineTo(Wn*s-qn*a,qn*s+Wn*a),e.lineTo(Wn*o-qn*u,qn*o+Wn*u),e.lineTo(Wn*n+qn*i,Wn*i-qn*n),e.lineTo(Wn*s+qn*a,Wn*a-qn*s),e.lineTo(Wn*o+qn*u,Wn*u-qn*o),e.closePath()}};function WW(e,t){let r=null,n=Ox(i);e=typeof e=="function"?e:kt(e||Px),t=typeof t=="function"?t:kt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:kt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:kt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Mp(){}function Fp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fR(e){this._context=e}fR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qW(e){return new fR(e)}function pR(e){this._context=e}pR.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VW(e){return new pR(e)}function mR(e){this._context=e}mR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KW(e){return new mR(e)}function gR(e){this._context=e}gR.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function YW(e){return new gR(e)}function lC(e){return e<0?-1:1}function uC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(lC(s)+lC(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function cC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jv(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function Bp(e){this._context=e}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jv(this,this._t0,cC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jv(this,cC(this,r=uC(this,e,t)),r);break;default:Jv(this,this._t0,r=uC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function vR(e){this._context=new yR(e)}(vR.prototype=Object.create(Bp.prototype)).point=function(e,t){Bp.prototype.point.call(this,t,e)};function yR(e){this._context=e}yR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function GW(e){return new Bp(e)}function XW(e){return new vR(e)}function bR(e){this._context=e}bR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dC(e),i=dC(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dC(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function QW(e){return new bR(e)}function Bm(e,t){this._context=e,this._t=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function JW(e){return new Bm(e,.5)}function ZW(e){return new Bm(e,0)}function eq(e){return new Bm(e,1)}function Fl(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,o=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function tq(e,t){return e[t]}function rq(e){const t=[];return t.key=e,t}function nq(){var e=kt([]),t=$1,r=Fl,n=tq;function i(s){var a=Array.from(e.apply(this,arguments),rq),o,u=a.length,h=-1,f;for(const p of s)for(o=0,++h;o<u;++o)(a[o][h]=[0,+n(p,a[o].key,h,s)]).data=p;for(o=0,f=Nx(t(a));o<u;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:kt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:kt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?$1:typeof s=="function"?s:kt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Fl,i):r},i}function iq(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Fl(e,t)}}function sq(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=e[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Fl(e,t)}}function aq(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,u=0,h=0;o<a;++o){for(var f=e[t[o]],p=f[n][1]||0,v=f[n-1][1]||0,g=(p-v)/2,b=0;b<o;++b){var x=e[t[b]],_=x[n][1]||0,w=x[n-1][1]||0;g+=_-w}u+=p,h+=g*p}i[n-1][1]+=i[n-1][0]=r,u&&(r-=h/u)}i[n-1][1]+=i[n-1][0]=r,Fl(e,t)}}var Zv={},ey={},hC;function oq(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ey)),ey}var ty={},fC;function _R(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ty)),ty}var ry={},pC;function Ix(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ry)),ry}var ny={},iy={},mC;function lq(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(iy)),iy}var gC;function jx(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lq(),r=Ix();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,u="",h="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const p=i[o];h?p==="\\"&&o+1<a?(o++,u+=i[o]):p===h?h="":u+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,s.push(u),u=""):u+=p:p==="["?(f=!0,u&&(s.push(u),u="")):p==="."?u&&(s.push(u),u=""):u+=p,o++}return u&&s.push(u),s}e.toPath=n})(ny)),ny}var vC;function Rx(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oq(),r=_R(),n=Ix(),i=jx();function s(o,u,h){if(o==null)return h;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return h;const f=o[u];return f===void 0?r.isDeepKey(u)?s(o,i.toPath(u),h):h:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=o[u];return f===void 0?h:f}default:{if(Array.isArray(u))return a(o,u,h);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return h;const f=o[u];return f===void 0?h:f}}}function a(o,u,h){if(u.length===0)return h;let f=o;for(let p=0;p<u.length;p++){if(f==null||t.isUnsafeProperty(u[p]))return h;f=f[u[p]]}return f===void 0?h:f}e.get=s})(Zv)),Zv}var sy,yC;function uq(){return yC||(yC=1,sy=Rx().get),sy}var cq=uq();const Bl=ni(cq);var mn=e=>e===0?0:e>0?1:-1,ei=e=>typeof e=="number"&&e!=+e,ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Le=e=>(typeof e=="number"||e instanceof Number)&&!ei(e),Vi=e=>Le(e)||typeof e=="string",dq=0,dd=e=>{var t=++dq;return"".concat(e||"").concat(t)},Ti=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&typeof t!="string")return n;var s;if(ws(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return ei(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},xR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Kr(e,t,r){return Le(e)&&Le(t)?e+r*(t-e):t}function hq(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Bl(n,t))===r)}var yr=e=>e===null||typeof e>"u",jd=e=>yr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),fq=["type","size","sizeType"];function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vq(e,t){if(e==null)return{};var r,n,i=yq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wR={symbolCircle:Px,symbolCross:jW,symbolDiamond:DW,symbolSquare:LW,symbolStar:$W,symbolTriangle:UW,symbolWye:zW},bq=Math.PI/180,_q=e=>{var t="symbol".concat(jd(e));return wR[t]||Px},xq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*bq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wq=(e,t)=>{wR["symbol".concat(jd(e))]=t},ER=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=vq(e,fq),s=_C(_C({},i),{},{type:t,size:r,sizeType:n}),a="circle";typeof t=="string"&&(a=t);var o=()=>{var v=_q(a),g=WW().type(v).size(xq(r,n,a)),b=g();if(b!==null)return b},{className:u,cx:h,cy:f}=s,p=Zn(s);return h===+h&&f===+f&&r===+r?T.createElement("path",U1({},p,{className:Pt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:o()})):null};ER.registerSymbol=wq;var Eq=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Cx(i)&&(n[i]=(s=>r[i](r,s)))}),n},kq=(e,t,r)=>n=>(e(t,r,n),null),Dx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Cx(i)&&typeof s=="function"&&(n||(n={}),n[i]=kq(s,t,r))}),n},ay={},oy={},xC;function Tq(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(oy)),oy}var ly={},wC;function kR(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ly)),ly}var uy={},cy={},dy={},EC;function Sq(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dy)),dy}var kC;function Lx(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sq();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cy)),cy}var hy={},TC;function Cq(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(hy)),hy}var SC;function Aq(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lx(),r=Cq();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(uy)),uy}var fy={},py={},CC;function Oq(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rx();function r(n){return function(i){return t.get(i,n)}}e.property=r})(py)),py}var my={},gy={},vy={},yy={},AC;function TR(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yy)),yy}var by={},OC;function SR(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(by)),by}var _y={},NC;function CR(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(_y)),_y}var PC;function Nq(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR(),r=SR(),n=CR();function i(f,p,v){return typeof v!="function"?i(f,p,()=>{}):s(f,p,function g(b,x,_,w,C,S){const O=v(b,x,_,w,C,S);return O!==void 0?!!O:s(b,x,g,S)},new Map)}function s(f,p,v,g){if(p===f)return!0;switch(typeof p){case"object":return a(f,p,v,g);case"function":return Object.keys(p).length>0?s(f,{...p},v,g):n.eq(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function a(f,p,v,g){if(p==null)return!0;if(Array.isArray(p))return u(f,p,v,g);if(p instanceof Map)return o(f,p,v,g);if(p instanceof Set)return h(f,p,v,g);const b=Object.keys(p);if(f==null)return b.length===0;if(b.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===f;g==null||g.set(p,f);try{for(let x=0;x<b.length;x++){const _=b[x];if(!r.isPrimitive(f)&&!(_ in f)||p[_]===void 0&&f[_]!==void 0||p[_]===null&&f[_]!==null||!v(f[_],p[_],_,f,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function o(f,p,v,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,x]of p.entries()){const _=f.get(b);if(v(_,x,b,f,p,g)===!1)return!1}return!0}function u(f,p,v,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let x=0;x<p.length;x++){const _=p[x];let w=!1;for(let C=0;C<f.length;C++){if(b.has(C))continue;const S=f[C];let O=!1;if(v(S,_,x,f,p,g)&&(O=!0),O){b.add(C),w=!0;break}}if(!w)return!1}return!0}function h(f,p,v,g){return p.size===0?!0:f instanceof Set?u([...f],[...p],v,g):!1}e.isMatchWith=i,e.isSetMatch=h})(vy)),vy}var IC;function AR(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nq();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(gy)),gy}var xy={},wy={},Ey={},jC;function Pq(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ey)),Ey}var ky={},RC;function OR(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ky)),ky}var Ty={},DC;function NR(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",u="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",v="[object ArrayBuffer]",g="[object Object]",b="[object Error]",x="[object DataView]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",R="[object BigInt64Array]",$="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=f,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=$,e.float64ArrayTag=L,e.functionTag=p,e.int16ArrayTag=N,e.int32ArrayTag=j,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=C,e.uint32ArrayTag=S,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=w})(Ty)),Ty}var Sy={},LC;function Iq(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Sy)),Sy}var MC;function PR(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pq(),r=OR(),n=NR(),i=SR(),s=Iq();function a(f,p){return o(f,void 0,f,new Map,p)}function o(f,p,v,g=new Map,b=void 0){const x=b==null?void 0:b(f,p,v,g);if(x!==void 0)return x;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const _=new Array(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=o(f[w],w,v,g,b);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;g.set(f,_);for(const[w,C]of f)_.set(w,o(C,w,v,g,b));return _}if(f instanceof Set){const _=new Set;g.set(f,_);for(const w of f)_.add(o(w,void 0,v,g,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=o(f[w],w,v,g,b);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,_),u(_,f,v,g,b),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return g.set(f,_),u(_,f,v,g,b),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return g.set(f,_),u(_,f,v,g,b),_}if(f instanceof Error){const _=new f.constructor;return g.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,u(_,f,v,g,b),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return g.set(f,_),u(_,f,v,g,b),_}if(f instanceof Number){const _=new Number(f.valueOf());return g.set(f,_),u(_,f,v,g,b),_}if(f instanceof String){const _=new String(f.valueOf());return g.set(f,_),u(_,f,v,g,b),_}if(typeof f=="object"&&h(f)){const _=Object.create(Object.getPrototypeOf(f));return g.set(f,_),u(_,f,v,g,b),_}return f}function u(f,p,v=f,g,b){const x=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<x.length;_++){const w=x[_],C=Object.getOwnPropertyDescriptor(f,w);(C==null||C.writable)&&(f[w]=o(p[w],w,v,g,b))}}function h(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=u})(wy)),wy}var FC;function jq(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PR();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xy)),xy}var BC;function Rq(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AR(),r=jq();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(my)),my}var Cy={},Ay={},Oy={},$C;function Dq(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PR(),r=NR();function n(i,s){return t.cloneDeepWith(i,(a,o,u,h)=>{const f=s==null?void 0:s(a,o,u,h);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Oy)),Oy}var UC;function Lq(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dq();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ay)),Ay}var Ny={},Py={},HC;function IR(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Py)),Py}var Iy={},zC;function Mq(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OR();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Iy)),Iy}var WC;function Fq(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_R(),r=IR(),n=Mq(),i=jx();function s(a,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let h=a;for(let f=0;f<u.length;f++){const p=u[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=s})(Ny)),Ny}var qC;function Bq(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AR(),r=Ix(),n=Lq(),i=Rx(),s=Fq();function a(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return u=n.cloneDeep(u),function(h){const f=i.get(h,o);return f===void 0?s.has(h,o):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=a})(Cy)),Cy}var VC;function $q(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kR(),r=Oq(),n=Rq(),i=Bq();function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(fy)),fy}var KC;function Uq(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tq(),r=kR(),n=Aq(),i=$q();function s(a,o=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(ay)),ay}var jy,YC;function Hq(){return YC||(YC=1,jy=Uq().uniqBy),jy}var zq=Hq();const GC=ni(zq);function Wq(e,t,r){return t===!0?GC(e,r):typeof t=="function"?GC(e,t):e}var Ry={exports:{}},Dy={},Ly={exports:{}},My={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC;function qq(){if(XC)return My;XC=1;var e=Ql();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(p,v){var g=v(),b=n({inst:{value:g,getSnapshot:v}}),x=b[0].inst,_=b[1];return s(function(){x.value=g,x.getSnapshot=v,u(x)&&_({inst:x})},[p,g,v]),i(function(){return u(x)&&_({inst:x}),p(function(){u(x)&&_({inst:x})})},[p]),a(g),g}function u(p){var v=p.getSnapshot;p=p.value;try{var g=v();return!r(p,g)}catch{return!0}}function h(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:o;return My.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,My}var QC;function Vq(){return QC||(QC=1,Ly.exports=qq()),Ly.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function Kq(){if(JC)return Dy;JC=1;var e=Ql(),t=Vq();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,u=e.useDebugValue;return Dy.useSyncExternalStoreWithSelector=function(h,f,p,v,g){var b=s(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=o(function(){function w(N){if(!C){if(C=!0,S=N,N=v(N),g!==void 0&&x.hasValue){var j=x.value;if(g(j,N))return O=j}return O=N}if(j=O,n(S,N))return j;var R=v(N);return g!==void 0&&g(j,R)?(S=N,j):(S=N,O=R)}var C=!1,S,O,P=p===void 0?null:p;return[function(){return w(f())},P===null?void 0:function(){return w(P())}]},[f,p,v,g]);var _=i(h,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=_},[_]),u(_),_},Dy}var ZC;function Yq(){return ZC||(ZC=1,Ry.exports=Kq()),Ry.exports}var Gq=Yq(),Mx=T.createContext(null),Xq=e=>e,sr=()=>{var e=T.useContext(Mx);return e?e.store.dispatch:Xq},sp=()=>{},Qq=()=>sp,Jq=(e,t)=>e===t;function Fe(e){var t=T.useContext(Mx);return Gq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Qq,t?t.store.getState:sp,t?t.store.getState:sp,t?e:sp,Jq)}function Zq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function eV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function tV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var eA=e=>Array.isArray(e)?e:[e];function rV(e){const t=Array.isArray(e[0])?e[0]:e;return tV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nV(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var iV=class{constructor(e){this.value=e}deref(){return this.value}},sV=typeof WeakRef<"u"?WeakRef:iV,aV=0,tA=1;function If(){return{s:aV,v:void 0,o:null,p:null}}function jR(e,t={}){let r=If();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var p;let o=r;const{length:u}=arguments;for(let v=0,g=u;v<g;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const _=x.get(b);_===void 0?(o=If(),x.set(b,o)):o=_}else{let x=o.p;x===null&&(o.p=x=new Map);const _=x.get(b);_===void 0?(o=If(),x.set(b,o)):o=_}}const h=o;let f;if(o.s===tA)f=o.v;else if(f=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,f)&&(f=v,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new sV(f):f}return h.s=tA,h.v=f,f}return a.clearCache=()=>{r=If(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function oV(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,o,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),Zq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...u},{memoize:p,memoizeOptions:v=[],argsMemoize:g=jR,argsMemoizeOptions:b=[]}=f,x=eA(v),_=eA(b),w=rV(i),C=p(function(){return s++,h.apply(null,arguments)},...x),S=g(function(){a++;const P=nV(w,arguments);return o=C.apply(null,P),o},..._);return Object.assign(S,{resultFunc:h,memoizedResultFunc:C,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var ne=oV(jR),lV=Object.assign((e,t=ne)=>{eV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,o,u)=>(a[r[u]]=o,a),{}))},{withTypes:()=>lV}),Fy={},By={},$y={},rA;function uV(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),o=t(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=r})($y)),$y}var Uy={},Hy={},nA;function RR(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Hy)),Hy}var iA;function cV(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RR(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(Uy)),Uy}var sA;function dV(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uV(),r=cV(),n=jx();function i(s,a,o,u){if(s==null)return[];o=u?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const h=(g,b)=>{let x=g;for(let _=0;_<b.length&&x!=null;++_)x=x[b[_]];return x},f=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:h(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?h(b,g):typeof b=="object"?b[g]:b,p=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:p.map(b=>f(b,g))})).slice().sort((g,b)=>{for(let x=0;x<p.length;x++){const _=t.compareValues(g.criteria[x],b.criteria[x],o[x]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=i})(By)),By}var zy={},aA;function hV(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(o,u)=>{for(let h=0;h<o.length;h++){const f=o[h];Array.isArray(f)&&u<s?a(f,u+1):i.push(f)}};return a(r,0),i}e.flatten=t})(zy)),zy}var Wy={},oA;function DR(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IR(),r=Lx(),n=TR(),i=CR();function s(a,o,u){return n.isObject(u)&&(typeof o=="number"&&r.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.eq(u[o],a):!1}e.isIterateeCall=s})(Wy)),Wy}var lA;function fV(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dV(),r=hV(),n=DR();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(Fy)),Fy}var qy,uA;function pV(){return uA||(uA=1,qy=fV().sortBy),qy}var mV=pV();const $m=ni(mV);var LR=e=>e.legend.settings,gV=e=>e.legend.size,vV=e=>e.legend.payload;ne([vV,LR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$m(n,r):n});var jf=1;function yV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>jf||Math.abs(a.left-t.left)>jf||Math.abs(a.top-t.top)>jf||Math.abs(a.width-t.width)>jf)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bV=typeof Symbol=="function"&&Symbol.observable||"@@observable",cA=bV,Vy=()=>Math.random().toString(36).substring(7).split("").join("."),_V={INIT:`@@redux/INIT${Vy()}`,REPLACE:`@@redux/REPLACE${Vy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vy()}`},$p=_V;function Fx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MR(e,t,r){if(typeof e!="function")throw new Error(Tr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tr(1));return r(MR)(e,t)}let n=e,i=t,s=new Map,a=s,o=0,u=!1;function h(){a===s&&(a=new Map,s.forEach((_,w)=>{a.set(w,_)}))}function f(){if(u)throw new Error(Tr(3));return i}function p(_){if(typeof _!="function")throw new Error(Tr(4));if(u)throw new Error(Tr(5));let w=!0;h();const C=o++;return a.set(C,_),function(){if(w){if(u)throw new Error(Tr(6));w=!1,h(),a.delete(C),s=null}}}function v(_){if(!Fx(_))throw new Error(Tr(7));if(typeof _.type>"u")throw new Error(Tr(8));if(typeof _.type!="string")throw new Error(Tr(17));if(u)throw new Error(Tr(9));try{u=!0,i=n(i,_)}finally{u=!1}return(s=a).forEach(C=>{C()}),_}function g(_){if(typeof _!="function")throw new Error(Tr(10));n=_,v({type:$p.REPLACE})}function b(){const _=p;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Tr(11));function C(){const O=w;O.next&&O.next(f())}return C(),{unsubscribe:_(C)}},[cA](){return this}}}return v({type:$p.INIT}),{dispatch:v,subscribe:p,getState:f,replaceReducer:g,[cA]:b}}function xV(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$p.INIT})>"u")throw new Error(Tr(12));if(typeof r(void 0,{type:$p.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tr(13))})}function FR(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{xV(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let u=!1;const h={};for(let f=0;f<n.length;f++){const p=n[f],v=r[p],g=a[p],b=v(g,o);if(typeof b>"u")throw o&&o.type,new Error(Tr(14));h[p]=b,u=u||b!==g}return u=u||n.length!==Object.keys(a).length,u?h:a}}function Up(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function wV(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Tr(15))};const a={getState:i.getState,dispatch:(u,...h)=>s(u,...h)},o=e.map(u=>u(a));return s=Up(...o)(i.dispatch),{...i,dispatch:s}}}function BR(e){return Fx(e)&&"type"in e&&typeof e.type=="string"}var $R=Symbol.for("immer-nothing"),dA=Symbol.for("immer-draftable"),Rn=Symbol.for("immer-state");function _i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hd=Object.getPrototypeOf;function wo(e){return!!e&&!!e[Rn]}function Es(e){var t;return e?UR(e)||Array.isArray(e)||!!e[dA]||!!((t=e.constructor)!=null&&t[dA])||Rd(e)||Hm(e):!1}var EV=Object.prototype.constructor.toString(),hA=new WeakMap;function UR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=hA.get(r);return n===void 0&&(n=Function.toString.call(r),hA.set(r,n)),n===EV}function Hp(e,t,r=!0){Um(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Um(e){const t=e[Rn];return t?t.type_:Array.isArray(e)?1:Rd(e)?2:Hm(e)?3:0}function H1(e,t){return Um(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function HR(e,t,r){const n=Um(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rd(e){return e instanceof Map}function Hm(e){return e instanceof Set}function no(e){return e.copy_||e.base_}function z1(e,t){if(Rd(e))return new Map(e);if(Hm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=UR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Rn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(hd(e),n)}else{const n=hd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Bx(e,t=!1){return zm(e)||wo(e)||!Es(e)||(Um(e)>1&&Object.defineProperties(e,{set:Rf,add:Rf,clear:Rf,delete:Rf}),Object.freeze(e),t&&Object.values(e).forEach(r=>Bx(r,!0))),e}function TV(){_i(2)}var Rf={value:TV};function zm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var SV={};function Eo(e){const t=SV[e];return t||_i(0,e),t}var fd;function zR(){return fd}function CV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fA(e,t){t&&(Eo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function W1(e){q1(e),e.drafts_.forEach(AV),e.drafts_=null}function q1(e){e===fd&&(fd=e.parent_)}function pA(e){return fd=CV(fd,e)}function AV(e){const t=e[Rn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Rn].modified_&&(W1(t),_i(4)),Es(e)&&(e=zp(t,e),t.parent_||Wp(t,e)),t.patches_&&Eo("Patches").generateReplacementPatches_(r[Rn].base_,e,t.patches_,t.inversePatches_)):e=zp(t,r,[]),W1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$R?e:void 0}function zp(e,t,r){if(zm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Rn];if(!i)return Hp(t,(s,a)=>gA(e,i,t,s,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Wp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),Hp(a,(u,h)=>gA(e,i,s,u,h,r,o),n),Wp(e,s,!1),r&&e.patches_&&Eo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function gA(e,t,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=zm(i);if(!(o&&!a)){if(wo(i)){const u=s&&t&&t.type_!==3&&!H1(t.assigned_,n)?s.concat(n):void 0,h=zp(e,i,u);if(HR(r,n,h),wo(h))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Es(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;zp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Rd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wp(e,i)}}}function Wp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bx(t,r)}function OV(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:zR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=$x;r&&(i=[n],s=pd);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var $x={get(e,t){if(t===Rn)return e;const r=no(e);if(!H1(r,t))return NV(e,r,t);const n=r[t];return e.finalized_||!Es(n)?n:n===Ky(e.base_,t)?(Yy(e),e.copy_[t]=K1(n,e)):n},has(e,t){return t in no(e)},ownKeys(e){return Reflect.ownKeys(no(e))},set(e,t,r){const n=WR(no(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ky(no(e),t),s=i==null?void 0:i[Rn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kV(r,i)&&(r!==void 0||H1(e.base_,t)))return!0;Yy(e),V1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ky(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Yy(e),V1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=no(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){_i(11)},getPrototypeOf(e){return hd(e.base_)},setPrototypeOf(){_i(12)}},pd={};Hp($x,(e,t)=>{pd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});pd.deleteProperty=function(e,t){return pd.set.call(this,e,t,void 0)};pd.set=function(e,t,r){return $x.set.call(this,e[0],t,r,e[0])};function Ky(e,t){const r=e[Rn];return(r?no(r):e)[t]}function NV(e,t,r){var i;const n=WR(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function WR(e,t){if(!(t in e))return;let r=hd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=hd(r)}}function V1(e){e.modified_||(e.modified_=!0,e.parent_&&V1(e.parent_))}function Yy(e){e.copy_||(e.copy_=z1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(u=s,...h){return a.produce(u,f=>r.call(this,f,...h))}}typeof r!="function"&&_i(6),n!==void 0&&typeof n!="function"&&_i(7);let i;if(Es(t)){const s=pA(this),a=K1(t,void 0);let o=!0;try{i=r(a),o=!1}finally{o?W1(s):q1(s)}return fA(s,n),mA(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===$R&&(i=void 0),this.autoFreeze_&&Bx(i,!0),n){const s=[],a=[];Eo("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else _i(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,u=>t(u,...o));let n,i;return[this.produce(t,r,(a,o)=>{n=a,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Es(e)||_i(8),wo(e)&&(e=ys(e));const t=pA(this),r=K1(e,void 0);return r[Rn].isManual_=!0,q1(t),r}finishDraft(e,t){const r=e&&e[Rn];(!r||!r.isManual_)&&_i(9);const{scope_:n}=r;return fA(n,t),mA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Eo("Patches").applyPatches_;return wo(e)?n(e,t):this.produce(e,i=>n(i,t))}};function K1(e,t){const r=Rd(e)?Eo("MapSet").proxyMap_(e,t):Hm(e)?Eo("MapSet").proxySet_(e,t):OV(e,t);return(t?t.scope_:zR()).drafts_.push(r),r}function ys(e){return wo(e)||_i(10,e),qR(e)}function qR(e){if(!Es(e)||zm(e))return e;const t=e[Rn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=z1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=z1(e,!0);return Hp(r,(i,s)=>{HR(r,i,qR(s))},n),t&&(t.finalized_=!1),r}var Y1=new PV,VR=Y1.produce,IV=Y1.setUseStrictIteration.bind(Y1);function KR(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var jV=KR(),RV=KR,DV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Up:Up.apply(null,arguments)};function ti(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(In(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>BR(n)&&n.type===e,r}var YR=class Bc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bc.prototype)}static get[Symbol.species](){return Bc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bc(...t[0].concat(this)):new Bc(...t.concat(this))}};function vA(e){return Es(e)?VR(e,()=>{}):e}function Df(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function LV(e){return typeof e=="boolean"}var MV=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new YR;return r&&(LV(r)?a.push(jV):a.push(RV(r.extraArgument))),a},GR="RTK_autoBatch",Yr=()=>e=>({payload:e,meta:{[GR]:!0}}),yA=e=>t=>{setTimeout(t,e)},XR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yA(10):e.type==="callback"?e.queueNotification:yA(e.timeout),h=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),v=n.subscribe(p);return o.add(f),()=>{v(),o.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[GR]),s=!i,s&&(a||(a=!0,u(h))),n.dispatch(f)}finally{i=!0}}})},FV=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new YR(e);return n&&i.push(XR(typeof n=="object"?n:void 0)),i};function BV(e){const t=MV(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Fx(r))o=FR(r);else throw new Error(In(1));let u;typeof n=="function"?u=n(t):u=t();let h=Up;i&&(h=DV({trace:!1,...typeof i=="object"&&i}));const f=wV(...u),p=FV(f);let v=typeof a=="function"?a(p):p();const g=h(...v);return MR(o,s,g)}function QR(e){const t={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(In(28));if(o in t)throw new Error(In(29));return t[o]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}IV(!1);function $V(e){return typeof e=="function"}function UV(e,t){let[r,n,i]=QR(t),s;if($V(e))s=()=>vA(e());else{const o=vA(e);s=()=>o}function a(o=s(),u){let h=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(wo(f)){const g=p(f,u);return g===void 0?f:g}else{if(Es(f))return VR(f,v=>p(v,u));{const v=p(f,u);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},o)}return a.getInitialState=s,a}var HV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zV=(e=21)=>{let t="",r=e;for(;r--;)t+=HV[Math.random()*64|0];return t},WV=Symbol.for("rtk-slice-createasyncthunk");function qV(e,t){return`${e}/${t}`}function VV({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[WV];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(In(11));const o=(typeof i.reducers=="function"?i.reducers(YV()):i.reducers)||{},u=Object.keys(o),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,P){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(In(12));if(N in h.sliceCaseReducersByType)throw new Error(In(13));return h.sliceCaseReducersByType[N]=P,f},addMatcher(O,P){return h.sliceMatchers.push({matcher:O,reducer:P}),f},exposeAction(O,P){return h.actionCreators[O]=P,f},exposeCaseReducer(O,P){return h.sliceCaseReducersByName[O]=P,f}};u.forEach(O=>{const P=o[O],N={reducerName:O,type:qV(s,O),createNotation:typeof i.reducers=="function"};XV(P)?JV(N,P,f,t):GV(N,P,f)});function p(){const[O={},P=[],N=void 0]=typeof i.extraReducers=="function"?QR(i.extraReducers):[i.extraReducers],j={...O,...h.sliceCaseReducersByType};return UV(i.initialState,R=>{for(let $ in j)R.addCase($,j[$]);for(let $ of h.sliceMatchers)R.addMatcher($.matcher,$.reducer);for(let $ of P)R.addMatcher($.matcher,$.reducer);N&&R.addDefaultCase(N)})}const v=O=>O,g=new Map,b=new WeakMap;let x;function _(O,P){return x||(x=p()),x(O,P)}function w(){return x||(x=p()),x.getInitialState()}function C(O,P=!1){function N(R){let $=R[O];return typeof $>"u"&&P&&($=Df(b,N,w)),$}function j(R=v){const $=Df(g,P,()=>new WeakMap);return Df($,R,()=>{const L={};for(const[U,W]of Object.entries(i.selectors??{}))L[U]=KV(W,R,()=>Df(b,R,w),P);return L})}return{reducerPath:O,getSelectors:j,get selectors(){return j(N)},selectSlice:N}}const S={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:w,...C(a),injectInto(O,{reducerPath:P,...N}={}){const j=P??a;return O.inject({reducerPath:j,reducer:_},N),{...S,...C(j,!0)}}};return S}}function KV(e,t,r,n){function i(s,...a){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...a)}return i.unwrapped=e,i}var Dn=VV();function YV(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function GV({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!QV(n))throw new Error(In(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?ti(e,a):ti(e))}function XV(e){return e._reducerDefinitionType==="asyncThunk"}function QV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function JV({type:e,reducerName:t},r,n,i){if(!i)throw new Error(In(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:u,settled:h,options:f}=r,p=i(e,s,f);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),o&&n.addCase(p.pending,o),u&&n.addCase(p.rejected,u),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(t,{fulfilled:a||Lf,pending:o||Lf,rejected:u||Lf,settled:h||Lf})}function Lf(){}var ZV="task",JR="listener",ZR="completed",Ux="cancelled",eK=`task-${Ux}`,tK=`task-${ZR}`,G1=`${JR}-${Ux}`,rK=`${JR}-${ZR}`,Wm=class{constructor(e){fv(this,"name","TaskAbortError");fv(this,"message");this.code=e,this.message=`${ZV} ${Ux} (reason: ${e})`}},Hx=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},qp=()=>{},eD=(e,t=qp)=>(e.catch(t),e),tD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),po=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},mo=e=>{if(e.aborted){const{reason:t}=e;throw new Wm(t)}};function rD(e,t){let r=qp;return new Promise((n,i)=>{const s=()=>i(new Wm(e.reason));if(e.aborted){s();return}r=tD(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qp})}var nK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Wm?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vp=e=>t=>eD(rD(e,t).then(r=>(mo(e),r))),nD=e=>{const t=Vp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Pl}=Object,bA={},qm="listenerMiddleware",iK=(e,t)=>{const r=n=>tD(e,()=>po(n,e.reason));return(n,i)=>{Hx(n);const s=new AbortController;r(s);const a=nK(async()=>{mo(e),mo(s.signal);const o=await n({pause:Vp(s.signal),delay:nD(s.signal),signal:s.signal});return mo(s.signal),o},()=>po(s,tK));return i!=null&&i.autoJoin&&t.push(a.catch(qp)),{result:Vp(e)(a),cancel(){po(s,eK)}}}},sK=(e,t)=>{const r=async(n,i)=>{mo(t);let s=()=>{};const o=[new Promise((u,h)=>{let f=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),u([p,v.getState(),v.getOriginalState()])}});s=()=>{f(),h()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await rD(t,Promise.race(o));return mo(t),u}finally{s()}};return(n,i)=>eD(r(n,i))},iD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=ti(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(In(21));return Hx(s),{predicate:i,type:t,effect:s}},sD=Pl(e=>{const{type:t,predicate:r,effect:n}=iD(e);return{id:zV(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>sD}),_A=(e,t)=>{const{type:r,effect:n,predicate:i}=iD(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},X1=e=>{e.pending.forEach(t=>{po(t,G1)})},aK=(e,t)=>()=>{for(const r of t.keys())X1(r);e.clear()},xA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},aD=Pl(ti(`${qm}/add`),{withTypes:()=>aD}),oK=ti(`${qm}/removeAll`),oD=Pl(ti(`${qm}/remove`),{withTypes:()=>oD}),lK=(...e)=>{console.error(`${qm}/error`,...e)},Dd=(e={})=>{const t=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},i=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:s,onError:a=lK}=e;Hx(a);const o=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),b=>{g.unsubscribe(),b!=null&&b.cancelActive&&X1(g)}),u=g=>{const b=_A(t,g)??sD(g);return o(b)};Pl(u,{withTypes:()=>u});const h=g=>{const b=_A(t,g);return b&&(b.unsubscribe(),g.cancelActive&&X1(b)),!!b};Pl(h,{withTypes:()=>h});const f=async(g,b,x,_)=>{const w=new AbortController,C=sK(u,w.signal),S=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(b,Pl({},x,{getOriginalState:_,condition:(O,P)=>C(O,P).then(Boolean),take:C,delay:nD(w.signal),pause:Vp(w.signal),extra:s,signal:w.signal,fork:iK(w.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,P,N)=>{O!==w&&(po(O,G1),N.delete(O))})},cancel:()=>{po(w,G1),g.pending.delete(w)},throwIfCancelled:()=>{mo(w.signal)}})))}catch(O){O instanceof Wm||xA(a,O,{raisedBy:"effect"})}finally{await Promise.all(S),po(w,rK),i(g),g.pending.delete(w)}},p=aK(t,r);return{middleware:g=>b=>x=>{if(!BR(x))return b(x);if(aD.match(x))return u(x.payload);if(oK.match(x)){p();return}if(oD.match(x))return h(x.payload);let _=g.getState();const w=()=>{if(_===bA)throw new Error(In(23));return _};let C;try{if(C=b(x),t.size>0){const S=g.getState(),O=Array.from(t.values());for(const P of O){let N=!1;try{N=P.predicate(x,S,_)}catch(j){N=!1,xA(a,j,{raisedBy:"predicate"})}N&&f(P,x,g,w)}}}finally{_=bA}return C},startListening:u,stopListening:h,clearListeners:p}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lD=Dn({name:"chartLayout",initialState:uK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cK,setLayout:dK,setChartSize:hK,setScale:fK}=lD.actions,pK=lD.reducer;function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp=Math.PI/180,yK=e=>e*180/Math.PI,Nr=(e,t,r,n)=>({x:e+Math.cos(-Kp*n)*r,y:t+Math.sin(-Kp*n)*r}),bK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_K=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},xK=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=_K({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,u=Math.acos(o);return n>s&&(u=2*Math.PI-u),{radius:a,angle:yK(u),angleInRadian:u}},wK=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},EK=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},kK=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=xK({x:r,y:n},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:u,endAngle:h}=wK(t),f=s,p;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=u}return p?EA(EA({},t),{},{radius:i,angle:EK(f,t)}):null};function uD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){TK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(e,t,r){return yr(e)||yr(t)?r:Vi(t)?Bl(e,t,r):typeof t=="function"?t(e):r}var AK=(e,t,r,n,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var h=u>0?r[u-1].coordinate:r[o-1].coordinate,f=r[u].coordinate,p=u>=o-1?r[0].coordinate:r[u+1].coordinate,v=void 0;if(mn(f-h)!==mn(p-f)){var g=[];if(mn(p-f)===mn(i[1]-i[0])){v=p;var b=f+i[1]-i[0];g[0]=Math.min(b,(b+h)/2),g[1]=Math.max(b,(b+h)/2)}else{v=h;var x=p+i[1]-i[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){({index:a}=r[u]);break}}else{var w=Math.min(h,p),C=Math.max(h,p);if(e>(w+f)/2&&e<=(C+f)/2){({index:a}=r[u]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:a}=t[S]);break}}return a},OK=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Le(e[s]))return Kn(Kn({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Le(e[a]))return Kn(Kn({},e),{},{[a]:e[a]+(i||0)})}return e},Oo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cD=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(r),a},dD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:u,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:v,axisType:g}=e;if(!a)return null;var b=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(x=g==="angleAxis"&&s&&s.length>=2?mn(s[0]-s[1])*2*x:x,p||v){var _=(p||v||[]).map((w,C)=>{var S=n?n.indexOf(w):w;return{coordinate:a(S)+x,value:w,offset:x,index:C}});return _.filter(w=>!ei(w.coordinate))}return u&&h?h.map((w,C)=>({coordinate:a(w)+x,value:w,index:C,offset:x})):a.ticks&&f!=null?a.ticks(f).map((w,C)=>({coordinate:a(w)+x,value:w,offset:x,index:C})):a.domain().map((w,C)=>({coordinate:a(w)+x,value:n?n[w]:w,index:C,offset:x}))},TA=1e-4,NK=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-TA,s=Math.max(n[0],n[1])+TA,a=e(t[0]),o=e(t[r-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[r-1]])}},PK=(e,t)=>{if(!t||t.length!==2||!Le(t[0])||!Le(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Le(e[0])||e[0]<r)&&(i[0]=r),(!Le(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},IK=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var o=ei(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1])}},jK=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=ei(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},RK={sign:IK,expand:iq,none:Fl,silhouette:sq,wiggle:aq,positive:jK},DK=(e,t,r)=>{var n=RK[r],i=nq().keys(t).value((s,a)=>+Jr(s,a,0)).order($1).offset(n);return i(e)};function LK(e){return e==null?void 0:String(e)}var SA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var o=Jr(s,t.dataKey,t.scale.domain()[a]);return yr(o)?null:t.scale(o)-i/2+n},MK=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},FK=e=>{var t=e.flat(2).filter(Le);return[Math.min(...t),Math.max(...t)]},BK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$K=(e,t,r)=>{if(e!=null)return BK(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((u,h)=>{var f=uD(h,t,r),p=FK(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},CA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zx=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=$m(t,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var u=i[a],h=i[a-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function OA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Kn(Kn({},t),{},{dataKey:r,payload:n,value:i,name:s})}function hD(e,t){if(e)return String(e);if(typeof t=="string")return t}function UK(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?kK({x:e,y:t},n):null}var HK=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return Kn(Kn(Kn({},n),Nr(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:u}=n;return Kn(Kn(Kn({},n),Nr(n.cx,n.cy,o,u)),{},{angle:u,radius:o})}return{x:0,y:0}},zK=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ns=e=>e.layout.width,Ps=e=>e.layout.height,WK=e=>e.layout.scale,fD=e=>e.layout.margin,Vm=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Km=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qK="data-recharts-item-index",VK="data-recharts-item-data-key",Ld=60;function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XK=e=>e.brush.height;function QK(e){var t=Km(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ld;return r+i}return r},0)}function JK(e){var t=Km(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ld;return r+i}return r},0)}function ZK(e){var t=Vm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function eY(e){var t=Vm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var br=ne([Ns,Ps,fD,XK,QK,JK,ZK,eY,LR,gV],(e,t,r,n,i,s,a,o,u,h)=>{var f={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+a,bottom:(r.bottom||0)+o},v=Mf(Mf({},p),f),g=v.bottom;v.bottom+=n,v=OK(v,u,h);var b=e-v.left-v.right,x=t-v.top-v.bottom;return Mf(Mf({brushBottom:g},v),{},{width:Math.max(b,0),height:Math.max(x,0)})}),tY=ne(br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Wx=ne(Ns,Ps,(e,t)=>({x:0,y:0,width:e,height:t})),rY=T.createContext(null),Ln=()=>T.useContext(rY)!=null,Ym=e=>e.brush,Gm=ne([Ym,br,fD],(e,t,r)=>({height:e.height,x:Le(e.x)?e.x:t.left,y:Le(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Le(e.width)?e.width:t.width})),Gy={},Xy={},Qy={},PA;function nY(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,o=null;const u=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),f=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},p=()=>{h&&f(),x()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},b=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{b(),a=void 0,o=null},_=()=>{f()},w=function(...C){if(i!=null&&i.aborted)return;a=this,o=C;const S=v==null;g(),u&&S&&f()};return w.schedule=g,w.cancel=x,w.flush=_,i==null||i.addEventListener("abort",x,{once:!0}),w}e.debounce=t})(Qy)),Qy}var IA;function iY(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nY();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:u}=s,h=Array(2);a&&(h[0]="leading"),o&&(h[1]="trailing");let f,p=null;const v=t.debounce(function(...x){f=n.apply(this,x),p=null},i,{edges:h}),g=function(...x){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=n.apply(this,x),p=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,x),f)},b=()=>(v.flush(),f);return g.cancel=v.cancel,g.flush=b,g}e.debounce=r})(Xy)),Xy}var jA;function sY(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iY();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:o})}e.throttle=r})(Gy)),Gy}var Jy,RA;function aY(){return RA||(RA=1,Jy=sY().throttle),Jy}var oY=aY();const lY=ni(oY);var Yp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},pD=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=ws(n)?e:Number(n),u=ws(i)?t:Number(i);return s&&s>0&&(o?u=o/s:u&&(o=u*s),a&&u>a&&(u=a)),{calculatedWidth:o,calculatedHeight:u}},uY={width:0,height:0,overflow:"visible"},cY={width:0,overflowX:"visible"},dY={height:0,overflowY:"visible"},hY={},fY=e=>{var{width:t,height:r}=e,n=ws(t),i=ws(r);return n&&i?uY:n?cY:i?dY:hY};function pY(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function Ur(e){return Number.isFinite(e)}function $l(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q1.apply(null,arguments)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return(t=gY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mD=T.createContext({width:-1,height:-1});function gD(e){var{children:t,width:r,height:n}=e,i=T.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:T.createElement(mD.Provider,{value:i},t)}var qx=()=>T.useContext(mD),yY=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:u,children:h,debounce:f=0,id:p,className:v,onResize:g,style:b={}}=e,x=T.useRef(null),_=T.useRef();_.current=g,T.useImperativeHandle(t,()=>x.current);var[w,C]=T.useState({containerWidth:n.width,containerHeight:n.height}),S=T.useCallback((R,$)=>{C(L=>{var U=Math.round(R),W=Math.round($);return L.containerWidth===U&&L.containerHeight===W?L:{containerWidth:U,containerHeight:W}})},[]);T.useEffect(()=>{var R=W=>{var Q,{width:Y,height:V}=W[0].contentRect;S(Y,V),(Q=_.current)===null||Q===void 0||Q.call(_,Y,V)};f>0&&(R=lY(R,f,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),{width:L,height:U}=x.current.getBoundingClientRect();return S(L,U),$.observe(x.current),()=>{$.disconnect()}},[S,f]);var{containerWidth:O,containerHeight:P}=w;Yp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:j}=pD(O,P,{width:i,height:s,aspect:r,maxHeight:u});return Yp(N>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,j,i,s,a,o,r),T.createElement("div",{id:p?"".concat(p):void 0,className:Pt("recharts-responsive-container",v),style:LA(LA({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:u}),ref:x},T.createElement("div",{style:fY({width:i,height:s})},T.createElement(gD,{width:N,height:j},h)))}),bY=T.forwardRef((e,t)=>{var r=qx();if($l(r.width)&&$l(r.height))return e.children;var{width:n,height:i}=pY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=pD(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Le(s)&&Le(a)?T.createElement(gD,{width:s,height:a},e.children):T.createElement(yY,Q1({},e,{width:n,height:i,ref:t}))}),Xm=()=>{var e,t=Ln(),r=Fe(tY),n=Fe(Gm),i=(e=Fe(Ym))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},_Y={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vD=()=>{var e;return(e=Fe(br))!==null&&e!==void 0?e:_Y},yD=()=>Fe(Ns),bD=()=>Fe(Ps),mt=e=>e.layout.layoutType,Vx=()=>Fe(mt),Qm=e=>{var t=sr(),r=Ln(),{width:n,height:i}=e,s=qx(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),T.useEffect(()=>{!r&&$l(a)&&$l(o)&&t(hK({width:a,height:o}))},[t,r,a,o]),null},xY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_D=Dn({name:"legend",initialState:xY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Yr()},removeLegendPayload:{reducer(e,t){var r=ys(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Yr()}}}),{setLegendSize:z0e,setLegendSettings:W0e,addLegendPayload:wY,removeLegendPayload:EY}=_D.actions,kY=_D.reducer;function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(null,arguments)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AY(e){return Array.isArray(e)&&Vi(e[0])&&Vi(e[1])?e.join(" ~ "):e}var OY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:u,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:v=!1}=e,g=()=>{if(s&&s.length){var P={padding:0,margin:0},N=(o?$m(s,o):s).map((j,R)=>{if(j.type==="none")return null;var $=j.formatter||a||AY,{value:L,name:U}=j,W=L,Q=U;if($){var Y=$(L,U,j,R,s);if(Array.isArray(Y))[W,Q]=Y;else if(Y!=null)W=Y;else return null}var V=Zy({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:V},Vi(Q)?T.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Vi(Q)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},W),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:P},N)}return null},b=Zy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Zy({margin:0},i),_=!yr(f),w=_?f:"",C=Pt("recharts-default-tooltip",u),S=Pt("recharts-tooltip-label",h);_&&p&&s!==void 0&&s!==null&&(w=p(f,s));var O=v?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",J1({className:C,style:b},O),T.createElement("p",{className:S,style:x},T.isValidElement(w)?w:"".concat(w)),g())},vc="recharts-tooltip-wrapper",NY={visibility:"hidden"};function PY(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pt(vc,{["".concat(vc,"-right")]:Le(r)&&t&&Le(t.x)&&r>=t.x,["".concat(vc,"-left")]:Le(r)&&t&&Le(t.x)&&r<t.x,["".concat(vc,"-bottom")]:Le(n)&&t&&Le(t.y)&&n>=t.y,["".concat(vc,"-top")]:Le(n)&&t&&Le(t.y)&&n<t.y})}function FA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:u,viewBoxDimension:h}=e;if(s&&Le(s[n]))return s[n];var f=r[n]-o-(i>0?i:0),p=r[n]+i;if(t[n])return a[n]?f:p;var v=u[n];if(v==null)return 0;if(a[n]){var g=f,b=v;return g<b?Math.max(p,v):Math.max(f,v)}if(h==null)return 0;var x=p+o,_=v+h;return x>_?Math.max(f,v):Math.max(p,v)}function IY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:u}=e,h,f,p;return a.height>0&&a.width>0&&r?(f=FA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=FA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),h=IY({translateX:f,translateY:p,useTranslate3d:o})):h=NY,{cssProperties:h,cssClasses:PY({translateX:f,translateY:p,coordinate:r})}}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){Z1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z1(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LY extends T.PureComponent{constructor(){super(...arguments),Z1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Z1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:u,offset:h,position:f,reverseDirection:p,useTranslate3d:v,viewBox:g,wrapperStyle:b,lastBoundingBox:x,innerRef:_,hasPortalFromProps:w}=this.props,{cssClasses:C,cssProperties:S}=jY({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:g}),O=w?{}:Ff(Ff({transition:u&&t?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ff(Ff({},O),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:P,ref:_},s)}}var MY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ou={devToolsEnabled:!1,isSsr:MY()},xD=()=>Fe(e=>e.rootProps.accessibilityLayer);function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HA={curveBasisClosed:VW,curveBasisOpen:KW,curveBasis:qW,curveBumpX:PW,curveBumpY:IW,curveLinearClosed:YW,curveLinear:Fm,curveMonotoneX:GW,curveMonotoneY:XW,curveNatural:QW,curveStep:JW,curveStepAfter:eq,curveStepBefore:ZW},Bf=e=>Ur(e.x)&&Ur(e.y),yc=e=>e.x,bc=e=>e.y,UY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(jd(e));return(r==="curveMonotone"||r==="curveBump")&&t?HA["".concat(r).concat(t==="vertical"?"Y":"X")]:HA[r]||Fm},HY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=UY(t,i),o=s?r.filter(Bf):r,u;if(Array.isArray(n)){var h=s?n.filter(p=>Bf(p)):n,f=o.map((p,v)=>UA(UA({},p),{},{base:h[v]}));return i==="vertical"?u=Pf().y(bc).x1(yc).x0(p=>p.base.x):u=Pf().x(yc).y1(bc).y0(p=>p.base.y),u.defined(Bf).curve(a),u(f)}return i==="vertical"&&Le(n)?u=Pf().y(bc).x1(yc).x0(n):Le(n)?u=Pf().x(yc).y1(bc).y0(n):u=uR().x(yc).y(bc),u.defined(Bf).curve(a),u(o)},zY=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?HY(e):n;return T.createElement("path",e_({},xs(e),Eq(e),{className:Pt("recharts-curve",t),d:s===null?void 0:s,ref:i}))},WY=["x","y","top","left","width","height","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(null,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VY(e,t,r){return(t=KY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GY(e,t){if(e==null)return{};var r,n,i=XY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QY=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),JY=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=e,u=GY(e,WY),h=qY({x:t,y:r,top:n,left:i,width:s,height:a},u);return!Le(t)||!Le(r)||!Le(s)||!Le(a)||!Le(n)||!Le(i)?null:T.createElement("path",t_({},Zn(h),{className:Pt("recharts-cross",o),d:QY(t,r,s,a,n,i)}))};function ZY(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(e,t){var r=eG({},e),n=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function iG(){}function sG(e){return e!=null}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),wD=(e,t,r)=>e.map(n=>"".concat(uG(n)," ").concat(t,"ms ").concat(r)).join(","),cG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),md=(e,t)=>Object.keys(t).reduce((r,n)=>VA(VA({},r),{},{[n]:e(n,t[n])}),{});function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp=(e,t,r)=>e+(t-e)*r,r_=e=>{var{from:t,to:r}=e;return t!==r},ED=(e,t,r)=>{var n=md((i,s)=>{if(r_(s)){var[a,o]=e(s.from,s.to,s.velocity);return Ar(Ar({},s),{},{from:a,velocity:o})}return s},t);return r<1?md((i,s)=>r_(s)?Ar(Ar({},s),{},{velocity:Gp(s.velocity,n[i].velocity,r),from:Gp(s.from,n[i].from,r)}):s,t):ED(e,n,r-1)};function pG(e,t,r,n,i,s){var a,o=n.reduce((v,g)=>Ar(Ar({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>md((v,g)=>g.from,o),h=()=>!Object.values(o).filter(r_).length,f=null,p=v=>{a||(a=v);var g=v-a,b=g/r.dt;o=ED(r,o,b),i(Ar(Ar(Ar({},e),t),u())),a=v,h()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{f()})}function mG(e,t,r,n,i,s,a){var o=null,u=i.reduce((p,v)=>Ar(Ar({},p),{},{[v]:[e[v],t[v]]}),{}),h,f=p=>{h||(h=p);var v=(p-h)/n,g=md((x,_)=>Gp(..._,r(v)),u);if(s(Ar(Ar(Ar({},e),t),g)),v<1)o=a.setTimeout(f);else{var b=md((x,_)=>Gp(..._,r(1)),u);s(Ar(Ar(Ar({},e),t),b))}};return()=>(o=a.setTimeout(f),()=>{o()})}const gG=(e,t,r,n,i,s)=>{var a=cG(e,t);return r.isStepper===!0?pG(e,t,r,a,i,s):mG(e,t,r,n,a,i,s)};var Xp=1e-4,kD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],TD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),YA=(e,t)=>r=>{var n=kD(e,t);return TD(n,r)},vG=(e,t)=>r=>{var n=kD(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return TD(i,r)},GA=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else a.length===4&&([t,n,r,i]=a);var h=YA(t,r),f=YA(n,i),p=vG(t,r),v=b=>b>1?1:b<0?0:b,g=b=>{for(var x=b>1?1:b,_=x,w=0;w<8;++w){var C=h(_)-x,S=p(_);if(Math.abs(C-x)<Xp||S<Xp)return f(_);_=v(_-C/S)}return f(_)};return g.isStepper=!1,g},yG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,o,u)=>{var h=-(a-o)*r,f=u*n,p=u+(h-f)*i/1e3,v=u*i/1e3+a;return Math.abs(v-o)<Xp&&Math.abs(p)<Xp?[o,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},bG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GA(e);case"spring":return yG();default:if(e.split("(")[0]==="cubic-bezier")return GA(e)}return typeof e=="function"?e:null};function _G(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[u,...h]=o;if(typeof u=="number"){i=e.setTimeout(s.bind(null,h),u);return}s(u),i=e.setTimeout(s.bind(null,h));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class xG{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function wG(){return _G(new xG)}var EG=T.createContext(wG);function kG(e,t){var r=T.useContext(EG);return T.useMemo(()=>t??r(e),[e,t,r])}var TG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XA={t:0},eb={t:1};function Kx(e){var t=ai(e,TG),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:u,children:h}=t,f=kG(t.animationId,t.animationManager),[p,v]=T.useState(r?XA:eb),g=T.useRef(null);return T.useEffect(()=>{r||v(eb)},[r]),T.useEffect(()=>{if(!r||!n)return iG;var b=gG(XA,eb,bG(s),i,v,f.getTimeoutController()),x=()=>{g.current=b()};return f.start([u,a,x,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,u,o,f]),h(p.t)}function Yx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(dd(t)),n=T.useRef(e);return n.current!==e&&(r.current=dd(t),n.current=e),r.current}var SG=["radius"],CG=["radius"];function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}function ZA(e,t){if(e==null)return{};var r,n,i=PG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eO=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=i[p]>s?s:i[p];h="M".concat(e,",").concat(t+a*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+o*f[0],",").concat(t)),h+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+a*f[1])),h+="L ".concat(e+r,",").concat(t+n-a*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-o*f[2],",").concat(t+n)),h+="L ".concat(e+o*f[3],",").concat(t+n),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-a*f[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);h="M ".concat(e,",").concat(t+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+o*g,",").concat(t,`
            L `).concat(e+r-o*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(t+a*g,`
            L `).concat(e+r,",").concat(t+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-o*g,",").concat(t+n,`
            L `).concat(e+o*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(t+n-a*g," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},IG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SD=e=>{var t=ai(e,IG),r=T.useRef(null),[n,i]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:s,y:a,width:o,height:u,radius:h,className:f}=t,{animationEasing:p,animationDuration:v,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:x}=t,_=T.useRef(o),w=T.useRef(u),C=T.useRef(s),S=T.useRef(a),O=T.useMemo(()=>({x:s,y:a,width:o,height:u,radius:h}),[s,a,o,u,h]),P=Yx(O,"rectangle-");if(s!==+s||a!==+a||o!==+o||u!==+u||o===0||u===0)return null;var N=Pt("recharts-rectangle",f);if(!x){var j=Zn(t),{radius:R}=j,$=ZA(j,SG);return T.createElement("path",Qp({},$,{radius:typeof h=="number"?h:void 0,className:N,d:eO(s,a,o,u,h)}))}var L=_.current,U=w.current,W=C.current,Q=S.current,Y="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),le=wD(["strokeDasharray"],v,typeof p=="string"?p:void 0);return T.createElement(Kx,{animationId:P,key:P,canBegin:n>0,duration:v,easing:p,isActive:x,begin:g},oe=>{var te=Kr(L,o,oe),ue=Kr(U,u,oe),D=Kr(W,s,oe),q=Kr(Q,a,oe);r.current&&(_.current=te,w.current=ue,C.current=D,S.current=q);var X;b?oe>0?X={transition:le,strokeDasharray:V}:X={strokeDasharray:Y}:X={strokeDasharray:V};var F=Zn(t),{radius:_e}=F,Te=ZA(F,CG);return T.createElement("path",Qp({},Te,{radius:typeof h=="number"?h:void 0,className:N,d:eO(D,q,te,ue,h),ref:r,style:JA(JA({},X),t.style)}))})};function CD(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Nr(t,r,n,i),o=Nr(t,r,n,s);return{points:[a,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(null,arguments)}var jG=(e,t)=>{var r=mn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$f=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:u}=e,h=o*(a?1:-1)+n,f=Math.asin(o/h)/Kp,p=u?i:i+s*f,v=Nr(t,r,h,p),g=Nr(t,r,n,p),b=u?i-s*f:i,x=Nr(t,r,h*Math.cos(f*Kp),b);return{center:v,circleTangency:g,lineTangency:x,theta:f}},AD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,o=jG(s,a),u=s+o,h=Nr(t,r,i,s),f=Nr(t,r,i,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var v=Nr(t,r,n,s),g=Nr(t,r,n,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},RG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:u,endAngle:h}=e,f=mn(h-u),{circleTangency:p,lineTangency:v,theta:g}=$f({cx:t,cy:r,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:x,theta:_}=$f({cx:t,cy:r,radius:i,angle:h,sign:-f,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(u-h):Math.abs(u-h)-g-_;if(w<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AD({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:h});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:O,theta:P}=$f({cx:t,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:N,lineTangency:j,theta:R}=$f({cx:t,cy:r,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),$=o?Math.abs(u-h):Math.abs(u-h)-P-R;if($<0&&s===0)return"".concat(C,"L").concat(t,",").concat(r,"Z");C+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(t,",").concat(r,"Z");return C},DG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OD=e=>{var t=ai(e,DG),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:f,className:p}=t;if(s<i||h===f)return null;var v=Pt("recharts-sector",p),g=s-i,b=Ti(a,g,0,!0),x;return b>0&&Math.abs(h-f)<360?x=RG({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,g/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:h,endAngle:f}):x=AD({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:f}),T.createElement("path",n_({},Zn(t),{className:v,d:x}))};function LG(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:u,innerRadius:h,outerRadius:f,angle:p}=t,v=Nr(o,u,h,p),g=Nr(o,u,f,p);n=v.x,i=v.y,s=g.x,a=g.y}else return CD(t);return[{x:n,y:i},{x:s,y:a}]}var tb={},rb={},nb={},tO;function MG(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RR();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(nb)),nb}var rO;function FG(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MG();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(rb)),rb}var nO;function BG(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DR(),r=FG();function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(o);for(let h=0;h<o;h++)u[h]=i,i+=a;return u}e.range=n})(tb)),tb}var ib,iO;function $G(){return iO||(iO=1,ib=BG().range),ib}var UG=$G();const ND=ni(UG);function Ea(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gx(e){let t,r,n;e.length!==2?(t=Ea,r=(o,u)=>Ea(e(o),u),n=(o,u)=>e(o)-u):(t=e===Ea||e===HG?e:zG,r=e,n=e);function i(o,u,h=0,f=o.length){if(h<f){if(t(u,u)!==0)return f;do{const p=h+f>>>1;r(o[p],u)<0?h=p+1:f=p}while(h<f)}return h}function s(o,u,h=0,f=o.length){if(h<f){if(t(u,u)!==0)return f;do{const p=h+f>>>1;r(o[p],u)<=0?h=p+1:f=p}while(h<f)}return h}function a(o,u,h=0,f=o.length){const p=i(o,u,h,f-1);return p>h&&n(o[p-1],u)>-n(o[p],u)?p-1:p}return{left:i,center:a,right:s}}function zG(){return 0}function PD(e){return e===null?NaN:+e}function*WG(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qG=Gx(Ea),Md=qG.right;Gx(PD).center;class sO extends Map{constructor(t,r=YG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(aO(this,t))}has(t){return super.has(aO(this,t))}set(t,r){return super.set(VG(this,t),r)}delete(t){return super.delete(KG(this,t))}}function aO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function VG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function KG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GG(e=Ea){if(e===Ea)return ID;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ID(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const XG=Math.sqrt(50),QG=Math.sqrt(10),JG=Math.sqrt(2);function Jp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=XG?10:s>=QG?5:s>=JG?2:1;let o,u,h;return i<0?(h=Math.pow(10,-i)/a,o=Math.round(e*h),u=Math.round(t*h),o/h<e&&++o,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*a,o=Math.round(e/h),u=Math.round(t/h),o*h<e&&++o,u*h>t&&--u),u<o&&.5<=r&&r<2?Jp(e,t,r*2):[o,u,h]}function i_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?Jp(t,e,r):Jp(e,t,r);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(n)if(a<0)for(let h=0;h<o;++h)u[h]=(s-h)/-a;else for(let h=0;h<o;++h)u[h]=(s-h)*a;else if(a<0)for(let h=0;h<o;++h)u[h]=(i+h)/-a;else for(let h=0;h<o;++h)u[h]=(i+h)*a;return u}function s_(e,t,r){return t=+t,e=+e,r=+r,Jp(e,t,r)[2]}function a_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?s_(t,e,r):s_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function oO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jD(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?ID:GG(i);n>r;){if(n-r>600){const u=n-r+1,h=t-r+1,f=Math.log(u),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(u-p)/u)*(h-u/2<0?-1:1),g=Math.max(r,Math.floor(t-h*p/u+v)),b=Math.min(n,Math.floor(t+(u-h)*p/u+v));jD(e,t,g,b,i)}const s=e[t];let a=r,o=n;for(_c(e,r,t),i(e[n],s)>0&&_c(e,r,n);a<o;){for(_c(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[r],s)===0?_c(e,r,o):(++o,_c(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function _c(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ZG(e,t,r){if(e=Float64Array.from(WG(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lO(e);if(t>=1)return oO(e);var n,i=(n-1)*t,s=Math.floor(i),a=oO(jD(e,s).subarray(0,s+1)),o=lO(e.subarray(s+1));return a+(o-a)*(i-s)}}function eX(e,t,r=PD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function tX(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function oi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Is(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const o_=Symbol("implicit");function Xx(){var e=new sO,t=[],r=[],n=o_;function i(s){let a=e.get(s);if(a===void 0){if(n!==o_)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new sO;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Xx(t,r).unknown(n)},oi.apply(i,arguments),i}function Qx(){var e=Xx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,o=!1,u=0,h=0,f=.5;delete e.unknown;function p(){var v=t().length,g=i<n,b=g?i:n,x=g?n:i;s=(x-b)/Math.max(1,v-u+h*2),o&&(s=Math.floor(s)),b+=(x-b-s*(v-u))*f,a=s*(1-u),o&&(b=Math.round(b),a=Math.round(a));var _=tX(v).map(function(w){return b+s*w});return r(g?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,o=!0,p()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(v){return arguments.length?(o=!!v,p()):o},e.padding=function(v){return arguments.length?(u=Math.min(1,h=+v),p()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),p()):u},e.paddingOuter=function(v){return arguments.length?(h=+v,p()):h},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),p()):f},e.copy=function(){return Qx(t(),[n,i]).round(o).paddingInner(u).paddingOuter(h).align(f)},oi.apply(p(),arguments)}function RD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RD(t())},e}function rX(){return RD(Qx.apply(null,arguments).paddingInner(1))}function Jx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fd(){}var gd=.7,Zp=1/gd,Il="\\s*([+-]?\\d+)\\s*",vd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nX=/^#([0-9a-f]{3,8})$/,iX=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),sX=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),aX=new RegExp(`^rgba\\(${Il},${Il},${Il},${vd}\\)$`),oX=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${vd}\\)$`),lX=new RegExp(`^hsl\\(${vd},${Wi},${Wi}\\)$`),uX=new RegExp(`^hsla\\(${vd},${Wi},${Wi},${vd}\\)$`),uO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jx(Fd,yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cO,formatHex:cO,formatHex8:cX,formatHsl:dX,formatRgb:dO,toString:dO});function cO(){return this.rgb().formatHex()}function cX(){return this.rgb().formatHex8()}function dX(){return LD(this).formatHsl()}function dO(){return this.rgb().formatRgb()}function yd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hO(t):r===3?new gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iX.exec(e))?new gn(t[1],t[2],t[3],1):(t=sX.exec(e))?new gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aX.exec(e))?Uf(t[1],t[2],t[3],t[4]):(t=oX.exec(e))?Uf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lX.exec(e))?mO(t[1],t[2]/100,t[3]/100,1):(t=uX.exec(e))?mO(t[1],t[2]/100,t[3]/100,t[4]):uO.hasOwnProperty(e)?hO(uO[e]):e==="transparent"?new gn(NaN,NaN,NaN,0):null}function hO(e){return new gn(e>>16&255,e>>8&255,e&255,1)}function Uf(e,t,r,n){return n<=0&&(e=t=r=NaN),new gn(e,t,r,n)}function hX(e){return e instanceof Fd||(e=yd(e)),e?(e=e.rgb(),new gn(e.r,e.g,e.b,e.opacity)):new gn}function l_(e,t,r,n){return arguments.length===1?hX(e):new gn(e,t,r,n??1)}function gn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jx(gn,l_,DD(Fd,{brighter(e){return e=e==null?Zp:Math.pow(Zp,e),new gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gn(go(this.r),go(this.g),go(this.b),em(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fO,formatHex:fO,formatHex8:fX,formatRgb:pO,toString:pO}));function fO(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}`}function fX(){return`#${uo(this.r)}${uo(this.g)}${uo(this.b)}${uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function pO(){const e=em(this.opacity);return`${e===1?"rgb(":"rgba("}${go(this.r)}, ${go(this.g)}, ${go(this.b)}${e===1?")":`, ${e})`}`}function em(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function go(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uo(e){return e=go(e),(e<16?"0":"")+e.toString(16)}function mO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xi(e,t,r,n)}function LD(e){if(e instanceof xi)return new xi(e.h,e.s,e.l,e.opacity);if(e instanceof Fd||(e=yd(e)),!e)return new xi;if(e instanceof xi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,u=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new xi(a,o,u,e.opacity)}function pX(e,t,r,n){return arguments.length===1?LD(e):new xi(e,t,r,n??1)}function xi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jx(xi,pX,DD(Fd,{brighter(e){return e=e==null?Zp:Math.pow(Zp,e),new xi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new xi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new gn(sb(e>=240?e-240:e+120,i,n),sb(e,i,n),sb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new xi(gO(this.h),Hf(this.s),Hf(this.l),em(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=em(this.opacity);return`${e===1?"hsl(":"hsla("}${gO(this.h)}, ${Hf(this.s)*100}%, ${Hf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gO(e){return e=(e||0)%360,e<0?e+360:e}function Hf(e){return Math.max(0,Math.min(1,e||0))}function sb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zx=e=>()=>e;function mX(e,t){return function(r){return e+r*t}}function gX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vX(e){return(e=+e)==1?MD:function(t,r){return r-t?gX(t,r,e):Zx(isNaN(t)?r:t)}}function MD(e,t){var r=t-e;return r?mX(e,r):Zx(isNaN(e)?t:e)}const vO=(function e(t){var r=vX(t);function n(i,s){var a=r((i=l_(i)).r,(s=l_(s)).r),o=r(i.g,s.g),u=r(i.b,s.b),h=MD(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=u(f),i.opacity=h(f),i+""}}return n.gamma=e,n})(1);function yX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function bX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _X(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=lu(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function xX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wX(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=lu(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var u_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ab=new RegExp(u_.source,"g");function EX(e){return function(){return e}}function kX(e){return function(t){return e(t)+""}}function TX(e,t){var r=u_.lastIndex=ab.lastIndex=0,n,i,s,a=-1,o=[],u=[];for(e=e+"",t=t+"";(n=u_.exec(e))&&(i=ab.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:tm(n,i)})),r=ab.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?kX(u[0].x):EX(t):(t=u.length,function(h){for(var f=0,p;f<t;++f)o[(p=u[f]).i]=p.x(h);return o.join("")})}function lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zx(t):(r==="number"?tm:r==="string"?(n=yd(t))?(t=n,vO):TX:t instanceof yd?vO:t instanceof Date?xX:bX(t)?yX:Array.isArray(t)?_X:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wX:tm)(e,t)}function ew(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function SX(e,t){t===void 0&&(t=e,e=lu);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function CX(e){return function(){return e}}function rm(e){return+e}var yO=[0,1];function Qr(e){return e}function c_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:CX(isNaN(t)?NaN:.5)}function AX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function OX(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=c_(i,n),s=r(a,s)):(n=c_(n,i),s=r(s,a)),function(o){return s(n(o))}}function NX(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=c_(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(o){var u=Md(e,o,1,n)-1;return s[u](i[u](o))}}function Bd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jm(){var e=yO,t=yO,r=lu,n,i,s,a=Qr,o,u,h;function f(){var v=Math.min(e.length,t.length);return a!==Qr&&(a=AX(e[0],e[v-1])),o=v>2?NX:OX,u=h=null,p}function p(v){return v==null||isNaN(v=+v)?s:(u||(u=o(e.map(n),t,r)))(n(a(v)))}return p.invert=function(v){return a(i((h||(h=o(t,e.map(n),tm)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,rm),f()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=ew,f()},p.clamp=function(v){return arguments.length?(a=v?!0:Qr,f()):a!==Qr},p.interpolate=function(v){return arguments.length?(r=v,f()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,g){return n=v,i=g,f()}}function tw(){return Jm()(Qr,Qr)}function PX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ul(e){return e=nm(Math.abs(e)),e?e[1]:NaN}function IX(e,t){return function(r,n){for(var i=r.length,s=[],a=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>n&&(o=Math.max(1,n-u)),s.push(r.substring(i-=o,i+o)),!((u+=o+1)>n));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function jX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var RX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bd(e){if(!(t=RX.exec(e)))throw new Error("invalid format: "+e);var t;return new rw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bd.prototype=rw.prototype;function rw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DX(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var FD;function LX(e,t){var r=nm(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(FD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+nm(e,Math.max(0,t+s-1))[0]}function bO(e,t){var r=nm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const _O={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:PX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bO(e*100,t),r:bO,s:LX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xO(e){return e}var wO=Array.prototype.map,EO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MX(e){var t=e.grouping===void 0||e.thousands===void 0?xO:IX(wO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?xO:jX(wO.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=bd(p);var v=p.fill,g=p.align,b=p.sign,x=p.symbol,_=p.zero,w=p.width,C=p.comma,S=p.precision,O=p.trim,P=p.type;P==="n"?(C=!0,P="g"):_O[P]||(S===void 0&&(S=12),O=!0,P="g"),(_||v==="0"&&g==="=")&&(_=!0,v="0",g="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",j=x==="$"?n:/[%p]/.test(P)?a:"",R=_O[P],$=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L(U){var W=N,Q=j,Y,V,le;if(P==="c")Q=R(U)+Q,U="";else{U=+U;var oe=U<0||1/U<0;if(U=isNaN(U)?u:R(Math.abs(U),S),O&&(U=DX(U)),oe&&+U==0&&b!=="+"&&(oe=!1),W=(oe?b==="("?b:o:b==="-"||b==="("?"":b)+W,Q=(P==="s"?EO[8+FD/3]:"")+Q+(oe&&b==="("?")":""),$){for(Y=-1,V=U.length;++Y<V;)if(le=U.charCodeAt(Y),48>le||le>57){Q=(le===46?i+U.slice(Y+1):U.slice(Y))+Q,U=U.slice(0,Y);break}}}C&&!_&&(U=t(U,1/0));var te=W.length+U.length+Q.length,ue=te<w?new Array(w-te+1).join(v):"";switch(C&&_&&(U=t(ue+U,ue.length?w-Q.length:1/0),ue=""),g){case"<":U=W+U+Q+ue;break;case"=":U=W+ue+U+Q;break;case"^":U=ue.slice(0,te=ue.length>>1)+W+U+Q+ue.slice(te);break;default:U=ue+W+U+Q;break}return s(U)}return L.toString=function(){return p+""},L}function f(p,v){var g=h((p=bd(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Ul(v)/3)))*3,x=Math.pow(10,-b),_=EO[8+b/3];return function(w){return g(x*w)+_}}return{format:h,formatPrefix:f}}var zf,nw,BD;FX({thousands:",",grouping:[3],currency:["$",""]});function FX(e){return zf=MX(e),nw=zf.format,BD=zf.formatPrefix,zf}function BX(e){return Math.max(0,-Ul(Math.abs(e)))}function $X(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ul(t)/3)))*3-Ul(Math.abs(e)))}function UX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ul(t)-Ul(e))+1}function $D(e,t,r,n){var i=a_(e,t,r),s;switch(n=bd(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=$X(i,a))&&(n.precision=s),BD(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=UX(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=BX(i))&&(n.precision=s-(n.type==="%")*2);break}}return nw(n)}function Ca(e){var t=e.domain;return e.ticks=function(r){var n=t();return i_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return $D(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],o=n[s],u,h,f=10;for(o<a&&(h=a,a=o,o=h,h=i,i=s,s=h);f-- >0;){if(h=s_(a,o,r),h===u)return n[i]=a,n[s]=o,t(n);if(h>0)a=Math.floor(a/h)*h,o=Math.ceil(o/h)*h;else if(h<0)a=Math.ceil(a*h)/h,o=Math.floor(o*h)/h;else break;u=h}return e},e}function UD(){var e=tw();return e.copy=function(){return Bd(e,UD())},oi.apply(e,arguments),Ca(e)}function HD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HD(e).unknown(t)},e=arguments.length?Array.from(e,rm):[0,1],Ca(r)}function zD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function kO(e){return Math.log(e)}function TO(e){return Math.exp(e)}function HX(e){return-Math.log(-e)}function zX(e){return-Math.exp(-e)}function WX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qX(e){return e===10?WX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SO(e){return(t,r)=>-e(-t,r)}function iw(e){const t=e(kO,TO),r=t.domain;let n=10,i,s;function a(){return i=VX(n),s=qX(n),r()[0]<0?(i=SO(i),s=SO(s),e(HX,zX)):e(kO,TO),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=o=>{const u=r();let h=u[0],f=u[u.length-1];const p=f<h;p&&([h,f]=[f,h]);let v=i(h),g=i(f),b,x;const _=o==null?10:+o;let w=[];if(!(n%1)&&g-v<_){if(v=Math.floor(v),g=Math.ceil(g),h>0){for(;v<=g;++v)for(b=1;b<n;++b)if(x=v<0?b/s(-v):b*s(v),!(x<h)){if(x>f)break;w.push(x)}}else for(;v<=g;++v)for(b=n-1;b>=1;--b)if(x=v>0?b/s(-v):b*s(v),!(x<h)){if(x>f)break;w.push(x)}w.length*2<_&&(w=i_(h,f,_))}else w=i_(v,g,Math.min(g-v,_)).map(s);return p?w.reverse():w},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=bd(u)).precision==null&&(u.trim=!0),u=nw(u)),o===1/0)return u;const h=Math.max(1,n*o/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=h?u(f):""}},t.nice=()=>r(zD(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function WD(){const e=iw(Jm()).domain([1,10]);return e.copy=()=>Bd(e,WD()).base(e.base()),oi.apply(e,arguments),e}function CO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sw(e){var t=1,r=e(CO(t),AO(t));return r.constant=function(n){return arguments.length?e(CO(t=+n),AO(t)):t},Ca(r)}function qD(){var e=sw(Jm());return e.copy=function(){return Bd(e,qD()).constant(e.constant())},oi.apply(e,arguments)}function OO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function KX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YX(e){return e<0?-e*e:e*e}function aw(e){var t=e(Qr,Qr),r=1;function n(){return r===1?e(Qr,Qr):r===.5?e(KX,YX):e(OO(r),OO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ca(t)}function ow(){var e=aw(Jm());return e.copy=function(){return Bd(e,ow()).exponent(e.exponent())},oi.apply(e,arguments),e}function GX(){return ow.apply(null,arguments).exponent(.5)}function NO(e){return Math.sign(e)*e*e}function XX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VD(){var e=tw(),t=[0,1],r=!1,n;function i(s){var a=XX(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(NO(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,rm)).map(NO)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return VD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oi.apply(i,arguments),Ca(i)}function KD(){var e=[],t=[],r=[],n;function i(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=eX(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Md(r,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ea),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return KD().domain(e).range(t).unknown(n)},oi.apply(s,arguments)}function YD(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[Md(n,u,0,r)]:s}function o(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,o()):i.slice()},a.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return YD().domain([e,t]).range(i).unknown(s)},oi.apply(Ca(a),arguments)}function GD(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Md(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GD().domain(e).range(t).unknown(r)},oi.apply(i,arguments)}const ob=new Date,lb=new Date;function ar(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let h;do u.push(h=new Date(+s)),t(s,o),e(s);while(h<s&&s<a);return u},i.filter=s=>ar(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(ob.setTime(+s),lb.setTime(+a),e(ob),e(lb),Math.floor(r(ob,lb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const im=ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);im.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):im);im.range;const ps=1e3,Xn=ps*60,ms=Xn*60,ks=ms*24,lw=ks*7,PO=ks*30,ub=ks*365,co=ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getUTCSeconds());co.range;const uw=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ps)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getMinutes());uw.range;const cw=ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getUTCMinutes());cw.range;const dw=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ps-e.getMinutes()*Xn)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getHours());dw.range;const hw=ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getUTCHours());hw.range;const $d=ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/ks,e=>e.getDate()-1);$d.range;const Zm=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ks,e=>e.getUTCDate()-1);Zm.range;const XD=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ks,e=>Math.floor(e/ks));XD.range;function No(e){return ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/lw)}const eg=No(0),sm=No(1),QX=No(2),JX=No(3),Hl=No(4),ZX=No(5),eQ=No(6);eg.range;sm.range;QX.range;JX.range;Hl.range;ZX.range;eQ.range;function Po(e){return ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lw)}const tg=Po(0),am=Po(1),tQ=Po(2),rQ=Po(3),zl=Po(4),nQ=Po(5),iQ=Po(6);tg.range;am.range;tQ.range;rQ.range;zl.range;nQ.range;iQ.range;const fw=ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fw.range;const pw=ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pw.range;const Ts=ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ts.range;const Ss=ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ss.range;function QD(e,t,r,n,i,s){const a=[[co,1,ps],[co,5,5*ps],[co,15,15*ps],[co,30,30*ps],[s,1,Xn],[s,5,5*Xn],[s,15,15*Xn],[s,30,30*Xn],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[n,1,ks],[n,2,2*ks],[r,1,lw],[t,1,PO],[t,3,3*PO],[e,1,ub]];function o(h,f,p){const v=f<h;v&&([h,f]=[f,h]);const g=p&&typeof p.range=="function"?p:u(h,f,p),b=g?g.range(h,+f+1):[];return v?b.reverse():b}function u(h,f,p){const v=Math.abs(f-h)/p,g=Gx(([,,_])=>_).right(a,v);if(g===a.length)return e.every(a_(h/ub,f/ub,p));if(g===0)return im.every(Math.max(a_(h,f,p),1));const[b,x]=a[v/a[g-1][2]<a[g][2]/v?g-1:g];return b.every(x)}return[o,u]}const[sQ,aQ]=QD(Ss,pw,tg,XD,hw,cw),[oQ,lQ]=QD(Ts,fw,eg,$d,dw,uw);function cb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function db(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uQ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,u=e.shortMonths,h=wc(i),f=Ec(i),p=wc(s),v=Ec(s),g=wc(a),b=Ec(a),x=wc(o),_=Ec(o),w=wc(u),C=Ec(u),S={a:oe,A:te,b:ue,B:D,c:null,d:MO,e:MO,f:IQ,g:HQ,G:WQ,H:OQ,I:NQ,j:PQ,L:JD,m:jQ,M:RQ,p:q,q:X,Q:$O,s:UO,S:DQ,u:LQ,U:MQ,V:FQ,w:BQ,W:$Q,x:null,X:null,y:UQ,Y:zQ,Z:qQ,"%":BO},O={a:F,A:_e,b:Te,B:Ne,c:null,d:FO,e:FO,f:GQ,g:sJ,G:oJ,H:VQ,I:KQ,j:YQ,L:eL,m:XQ,M:QQ,p:Xe,q:Ye,Q:$O,s:UO,S:JQ,u:ZQ,U:eJ,V:tJ,w:rJ,W:nJ,x:null,X:null,y:iJ,Y:aJ,Z:lJ,"%":BO},P={a:L,A:U,b:W,B:Q,c:Y,d:DO,e:DO,f:TQ,g:RO,G:jO,H:LO,I:LO,j:xQ,L:kQ,m:_Q,M:wQ,p:$,q:bQ,Q:CQ,s:AQ,S:EQ,u:pQ,U:mQ,V:gQ,w:fQ,W:vQ,x:V,X:le,y:RO,Y:jO,Z:yQ,"%":SQ};S.x=N(r,S),S.X=N(n,S),S.c=N(t,S),O.x=N(r,O),O.X=N(n,O),O.c=N(t,O);function N(ae,Se){return function(Ge){var pe=[],St=-1,nt=0,$t=ae.length,Ut,cr,ja;for(Ge instanceof Date||(Ge=new Date(+Ge));++St<$t;)ae.charCodeAt(St)===37&&(pe.push(ae.slice(nt,St)),(cr=IO[Ut=ae.charAt(++St)])!=null?Ut=ae.charAt(++St):cr=Ut==="e"?" ":"0",(ja=Se[Ut])&&(Ut=ja(Ge,cr)),pe.push(Ut),nt=St+1);return pe.push(ae.slice(nt,St)),pe.join("")}}function j(ae,Se){return function(Ge){var pe=xc(1900,void 0,1),St=R(pe,ae,Ge+="",0),nt,$t;if(St!=Ge.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Se&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(nt=db(xc(pe.y,0,1)),$t=nt.getUTCDay(),nt=$t>4||$t===0?am.ceil(nt):am(nt),nt=Zm.offset(nt,(pe.V-1)*7),pe.y=nt.getUTCFullYear(),pe.m=nt.getUTCMonth(),pe.d=nt.getUTCDate()+(pe.w+6)%7):(nt=cb(xc(pe.y,0,1)),$t=nt.getDay(),nt=$t>4||$t===0?sm.ceil(nt):sm(nt),nt=$d.offset(nt,(pe.V-1)*7),pe.y=nt.getFullYear(),pe.m=nt.getMonth(),pe.d=nt.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),$t="Z"in pe?db(xc(pe.y,0,1)).getUTCDay():cb(xc(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-($t+5)%7:pe.w+pe.U*7-($t+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,db(pe)):cb(pe)}}function R(ae,Se,Ge,pe){for(var St=0,nt=Se.length,$t=Ge.length,Ut,cr;St<nt;){if(pe>=$t)return-1;if(Ut=Se.charCodeAt(St++),Ut===37){if(Ut=Se.charAt(St++),cr=P[Ut in IO?Se.charAt(St++):Ut],!cr||(pe=cr(ae,Ge,pe))<0)return-1}else if(Ut!=Ge.charCodeAt(pe++))return-1}return pe}function $(ae,Se,Ge){var pe=h.exec(Se.slice(Ge));return pe?(ae.p=f.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function L(ae,Se,Ge){var pe=g.exec(Se.slice(Ge));return pe?(ae.w=b.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function U(ae,Se,Ge){var pe=p.exec(Se.slice(Ge));return pe?(ae.w=v.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function W(ae,Se,Ge){var pe=w.exec(Se.slice(Ge));return pe?(ae.m=C.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function Q(ae,Se,Ge){var pe=x.exec(Se.slice(Ge));return pe?(ae.m=_.get(pe[0].toLowerCase()),Ge+pe[0].length):-1}function Y(ae,Se,Ge){return R(ae,t,Se,Ge)}function V(ae,Se,Ge){return R(ae,r,Se,Ge)}function le(ae,Se,Ge){return R(ae,n,Se,Ge)}function oe(ae){return a[ae.getDay()]}function te(ae){return s[ae.getDay()]}function ue(ae){return u[ae.getMonth()]}function D(ae){return o[ae.getMonth()]}function q(ae){return i[+(ae.getHours()>=12)]}function X(ae){return 1+~~(ae.getMonth()/3)}function F(ae){return a[ae.getUTCDay()]}function _e(ae){return s[ae.getUTCDay()]}function Te(ae){return u[ae.getUTCMonth()]}function Ne(ae){return o[ae.getUTCMonth()]}function Xe(ae){return i[+(ae.getUTCHours()>=12)]}function Ye(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Se=N(ae+="",S);return Se.toString=function(){return ae},Se},parse:function(ae){var Se=j(ae+="",!1);return Se.toString=function(){return ae},Se},utcFormat:function(ae){var Se=N(ae+="",O);return Se.toString=function(){return ae},Se},utcParse:function(ae){var Se=j(ae+="",!0);return Se.toString=function(){return ae},Se}}}var IO={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,cQ=/^%/,dQ=/[\\^$*+?|[\]().{}]/g;function ct(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function hQ(e){return e.replace(dQ,"\\$&")}function wc(e){return new RegExp("^(?:"+e.map(hQ).join("|")+")","i")}function Ec(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function fQ(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pQ(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function mQ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gQ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vQ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function jO(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function RO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function yQ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bQ(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function _Q(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function xQ(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LO(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function wQ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function EQ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kQ(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function TQ(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SQ(e,t,r){var n=cQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function CQ(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function AQ(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function MO(e,t){return ct(e.getDate(),t,2)}function OQ(e,t){return ct(e.getHours(),t,2)}function NQ(e,t){return ct(e.getHours()%12||12,t,2)}function PQ(e,t){return ct(1+$d.count(Ts(e),e),t,3)}function JD(e,t){return ct(e.getMilliseconds(),t,3)}function IQ(e,t){return JD(e,t)+"000"}function jQ(e,t){return ct(e.getMonth()+1,t,2)}function RQ(e,t){return ct(e.getMinutes(),t,2)}function DQ(e,t){return ct(e.getSeconds(),t,2)}function LQ(e){var t=e.getDay();return t===0?7:t}function MQ(e,t){return ct(eg.count(Ts(e)-1,e),t,2)}function ZD(e){var t=e.getDay();return t>=4||t===0?Hl(e):Hl.ceil(e)}function FQ(e,t){return e=ZD(e),ct(Hl.count(Ts(e),e)+(Ts(e).getDay()===4),t,2)}function BQ(e){return e.getDay()}function $Q(e,t){return ct(sm.count(Ts(e)-1,e),t,2)}function UQ(e,t){return ct(e.getFullYear()%100,t,2)}function HQ(e,t){return e=ZD(e),ct(e.getFullYear()%100,t,2)}function zQ(e,t){return ct(e.getFullYear()%1e4,t,4)}function WQ(e,t){var r=e.getDay();return e=r>=4||r===0?Hl(e):Hl.ceil(e),ct(e.getFullYear()%1e4,t,4)}function qQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ct(t/60|0,"0",2)+ct(t%60,"0",2)}function FO(e,t){return ct(e.getUTCDate(),t,2)}function VQ(e,t){return ct(e.getUTCHours(),t,2)}function KQ(e,t){return ct(e.getUTCHours()%12||12,t,2)}function YQ(e,t){return ct(1+Zm.count(Ss(e),e),t,3)}function eL(e,t){return ct(e.getUTCMilliseconds(),t,3)}function GQ(e,t){return eL(e,t)+"000"}function XQ(e,t){return ct(e.getUTCMonth()+1,t,2)}function QQ(e,t){return ct(e.getUTCMinutes(),t,2)}function JQ(e,t){return ct(e.getUTCSeconds(),t,2)}function ZQ(e){var t=e.getUTCDay();return t===0?7:t}function eJ(e,t){return ct(tg.count(Ss(e)-1,e),t,2)}function tL(e){var t=e.getUTCDay();return t>=4||t===0?zl(e):zl.ceil(e)}function tJ(e,t){return e=tL(e),ct(zl.count(Ss(e),e)+(Ss(e).getUTCDay()===4),t,2)}function rJ(e){return e.getUTCDay()}function nJ(e,t){return ct(am.count(Ss(e)-1,e),t,2)}function iJ(e,t){return ct(e.getUTCFullYear()%100,t,2)}function sJ(e,t){return e=tL(e),ct(e.getUTCFullYear()%100,t,2)}function aJ(e,t){return ct(e.getUTCFullYear()%1e4,t,4)}function oJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zl(e):zl.ceil(e),ct(e.getUTCFullYear()%1e4,t,4)}function lJ(){return"+0000"}function BO(){return"%"}function $O(e){return+e}function UO(e){return Math.floor(+e/1e3)}var fl,rL,nL;uJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uJ(e){return fl=uQ(e),rL=fl.format,fl.parse,nL=fl.utcFormat,fl.utcParse,fl}function cJ(e){return new Date(e)}function dJ(e){return e instanceof Date?+e:+new Date(+e)}function mw(e,t,r,n,i,s,a,o,u,h){var f=tw(),p=f.invert,v=f.domain,g=h(".%L"),b=h(":%S"),x=h("%I:%M"),_=h("%I %p"),w=h("%a %d"),C=h("%b %d"),S=h("%B"),O=h("%Y");function P(N){return(u(N)<N?g:o(N)<N?b:a(N)<N?x:s(N)<N?_:n(N)<N?i(N)<N?w:C:r(N)<N?S:O)(N)}return f.invert=function(N){return new Date(p(N))},f.domain=function(N){return arguments.length?v(Array.from(N,dJ)):v().map(cJ)},f.ticks=function(N){var j=v();return e(j[0],j[j.length-1],N??10)},f.tickFormat=function(N,j){return j==null?P:h(j)},f.nice=function(N){var j=v();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?v(zD(j,N)):f},f.copy=function(){return Bd(f,mw(e,t,r,n,i,s,a,o,u,h))},f}function hJ(){return oi.apply(mw(oQ,lQ,Ts,fw,eg,$d,dw,uw,co,rL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fJ(){return oi.apply(mw(sQ,aQ,Ss,pw,tg,Zm,hw,cw,co,nL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rg(){var e=0,t=1,r,n,i,s,a=Qr,o=!1,u;function h(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(s(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(o=!!p,h):o},h.interpolator=function(p){return arguments.length?(a=p,h):a};function f(p){return function(v){var g,b;return arguments.length?([g,b]=v,a=p(g,b),h):[a(0),a(1)]}}return h.range=f(lu),h.rangeRound=f(ew),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function Aa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iL(){var e=Ca(rg()(Qr));return e.copy=function(){return Aa(e,iL())},Is.apply(e,arguments)}function sL(){var e=iw(rg()).domain([1,10]);return e.copy=function(){return Aa(e,sL()).base(e.base())},Is.apply(e,arguments)}function aL(){var e=sw(rg());return e.copy=function(){return Aa(e,aL()).constant(e.constant())},Is.apply(e,arguments)}function gw(){var e=aw(rg());return e.copy=function(){return Aa(e,gw()).exponent(e.exponent())},Is.apply(e,arguments)}function pJ(){return gw.apply(null,arguments).exponent(.5)}function oL(){var e=[],t=Qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Md(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ea),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>ZG(e,s/n))},r.copy=function(){return oL(t).domain(e)},Is.apply(r,arguments)}function ng(){var e=0,t=.5,r=1,n=1,i,s,a,o,u,h=Qr,f,p=!1,v;function g(x){return isNaN(x=+x)?v:(x=.5+((x=+f(x))-s)*(n*x<n*s?o:u),h(p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,i=f(e=+e),s=f(t=+t),a=f(r=+r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(h=x,g):h};function b(x){return function(_){var w,C,S;return arguments.length?([w,C,S]=_,h=SX(x,[w,C,S]),g):[h(0),h(.5),h(1)]}}return g.range=b(lu),g.rangeRound=b(ew),g.unknown=function(x){return arguments.length?(v=x,g):v},function(x){return f=x,i=x(e),s=x(t),a=x(r),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function lL(){var e=Ca(ng()(Qr));return e.copy=function(){return Aa(e,lL())},Is.apply(e,arguments)}function uL(){var e=iw(ng()).domain([.1,1,10]);return e.copy=function(){return Aa(e,uL()).base(e.base())},Is.apply(e,arguments)}function cL(){var e=sw(ng());return e.copy=function(){return Aa(e,cL()).constant(e.constant())},Is.apply(e,arguments)}function vw(){var e=aw(ng());return e.copy=function(){return Aa(e,vw()).exponent(e.exponent())},Is.apply(e,arguments)}function mJ(){return vw.apply(null,arguments).exponent(.5)}const $c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qx,scaleDiverging:lL,scaleDivergingLog:uL,scaleDivergingPow:vw,scaleDivergingSqrt:mJ,scaleDivergingSymlog:cL,scaleIdentity:HD,scaleImplicit:o_,scaleLinear:UD,scaleLog:WD,scaleOrdinal:Xx,scalePoint:rX,scalePow:ow,scaleQuantile:KD,scaleQuantize:YD,scaleRadial:VD,scaleSequential:iL,scaleSequentialLog:sL,scaleSequentialPow:gw,scaleSequentialQuantile:oL,scaleSequentialSqrt:pJ,scaleSequentialSymlog:aL,scaleSqrt:GX,scaleSymlog:qD,scaleThreshold:GD,scaleTime:hJ,scaleUtc:fJ,tickFormat:$D},Symbol.toStringTag,{value:"Module"}));var Oa=e=>e.chartData,gJ=ne([Oa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yw=(e,t,r,n)=>n?gJ(e):Oa(e);function ko(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ur(t)&&Ur(r))return!0}return!1}function HO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Ur(r))i=r;else if(typeof r=="function")return;if(Ur(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(ko(a))return a}}function vJ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ko(n))return HO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(Le(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&CA.test(i)){var u=CA.exec(i);if(u==null||t==null)a=void 0;else{var h=+u[1];a=t[0]-h}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(Le(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&AA.test(s)){var f=AA.exec(s);if(f==null||t==null)o=void 0;else{var p=+f[1];o=t[1]+p}}else o=t==null?void 0:t[1];var v=[a,o];if(ko(v))return t==null?v:HO(v,t,r)}}}var uu=1e9,yJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_w,Rt=!0,ri="[DecimalError] ",vo=ri+"Invalid argument: ",bw=ri+"Exponent out of range: ",cu=Math.floor,io=Math.pow,bJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,mr=1e7,Ot=7,hL=9007199254740991,om=cu(hL/Ot),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return bs(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return bt(bs(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Jt(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Nn))throw Error(ri+"NaN");if(r.s<1)throw Error(ri+(r.s?"NaN":"-Infinity"));return r.eq(Nn)?new n(0):(Rt=!1,t=bs(_d(r,s),_d(e,s),s),Rt=!0,bt(t,i))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mL(t,e):fL(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ri+"NaN");return r.s?(Rt=!1,t=bs(r,e,0,1).times(e),Rt=!0,r.minus(t)):bt(new n(r),i)};Oe.naturalExponential=Oe.exp=function(){return pL(this)};Oe.naturalLogarithm=Oe.ln=function(){return _d(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fL(t,e):mL(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vo+e);if(t=Jt(i)+1,n=i.d.length-1,r=n*Ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,i,s,a,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(ri+"NaN")}for(e=Jt(o),Rt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ui(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=cu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(bs(o,s,a+2)).times(.5),Ui(s.d).slice(0,a)===(t=Ui(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(bt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;a+=4}return Rt=!0,bt(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,i,s,a,o,u,h,f=this,p=f.constructor,v=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,u=v.length,h=g.length,u<h&&(s=v,v=g,g=s,a=u,u=h,h=a),s=[],a=u+h,n=a;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=u+n;i>n;)o=s[i]+g[n]*v[i-n-1]+t,s[i--]=o%mr|0,t=o/mr|0;s[i]=(s[i]+t)%mr|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Rt?bt(e,p.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ki(e,0,uu),t===void 0?t=n.rounding:Ki(t,0,8),bt(r,e+Jt(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=To(n,!0):(Ki(e,0,uu),t===void 0?t=i.rounding:Ki(t,0,8),n=bt(new i(n),e+1,t),r=To(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?To(i):(Ki(e,0,uu),t===void 0?t=s.rounding:Ki(t,0,8),n=bt(new s(i),e+Jt(i)+1,t),r=To(n.abs(),!1,e+Jt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return bt(new t(e),Jt(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,i,s,a,o=this,u=o.constructor,h=12,f=+(e=new u(e));if(!e.s)return new u(Nn);if(o=new u(o),!o.s){if(e.s<1)throw Error(ri+"Infinity");return o}if(o.eq(Nn))return o;if(n=u.precision,e.eq(Nn))return bt(o,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=o.s,a){if((r=f<0?-f:f)<=hL){for(i=new u(Nn),t=Math.ceil(n/Ot+4),Rt=!1;r%2&&(i=i.times(o),WO(i.d,t)),r=cu(r/2),r!==0;)o=o.times(o),WO(o.d,t);return Rt=!0,e.s<0?new u(Nn).div(i):bt(i,n)}}else if(s<0)throw Error(ri+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Rt=!1,i=e.times(_d(o,n+h)),Rt=!0,i=pL(i),i.s=s,i};Oe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Jt(i),n=To(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ki(e,1,uu),t===void 0?t=s.rounding:Ki(t,0,8),i=bt(new s(i),e,t),r=Jt(i),n=To(i,e<=r||r<=s.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ki(e,1,uu),t===void 0?t=n.rounding:Ki(t,0,8)),bt(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),r=e.constructor;return To(e,t<=r.toExpNeg||t>=r.toExpPos)};function fL(e,t){var r,n,i,s,a,o,u,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Rt?bt(t,p):t;if(u=e.d,h=t.d,a=e.e,i=t.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,o=h.length):(n=h,i=a,o=u.length),a=Math.ceil(p/Ot),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=u.length,s=h.length,o-s<0&&(s=o,n=h,h=u,u=n),r=0;s;)r=(u[--s]=u[s]+h[s]+r)/mr|0,u[s]%=mr;for(r&&(u.unshift(r),++i),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=i,Rt?bt(t,p):t}function Ki(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vo+e)}function Ui(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Ot-n.length,r&&(s+=fa(r)),s+=n;a=e[t],n=a+"",r=Ot-n.length,r&&(s+=fa(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var bs=(function(){function e(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%mr|0,a=s/mr|0;return a&&n.unshift(a),n}function t(n,i,s,a){var o,u;if(s!=a)u=s>a?1:-1;else for(o=u=0;o<s;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*mr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,u,h,f,p,v,g,b,x,_,w,C,S,O,P,N,j,R,$=n.constructor,L=n.s==i.s?1:-1,U=n.d,W=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(ri+"Division by zero");for(u=n.e-i.e,j=W.length,P=U.length,g=new $(L),b=g.d=[],h=0;W[h]==(U[h]||0);)++h;if(W[h]>(U[h]||0)&&--u,s==null?C=s=$.precision:a?C=s+(Jt(n)-Jt(i))+1:C=s,C<0)return new $(0);if(C=C/Ot+2|0,h=0,j==1)for(f=0,W=W[0],C++;(h<P||f)&&C--;h++)S=f*mr+(U[h]||0),b[h]=S/W|0,f=S%W|0;else{for(f=mr/(W[0]+1)|0,f>1&&(W=e(W,f),U=e(U,f),j=W.length,P=U.length),O=j,x=U.slice(0,j),_=x.length;_<j;)x[_++]=0;R=W.slice(),R.unshift(0),N=W[0],W[1]>=mr/2&&++N;do f=0,o=t(W,x,j,_),o<0?(w=x[0],j!=_&&(w=w*mr+(x[1]||0)),f=w/N|0,f>1?(f>=mr&&(f=mr-1),p=e(W,f),v=p.length,_=x.length,o=t(p,x,v,_),o==1&&(f--,r(p,j<v?R:W,v))):(f==0&&(o=f=1),p=W.slice()),v=p.length,v<_&&p.unshift(0),r(x,p,_),o==-1&&(_=x.length,o=t(W,x,j,_),o<1&&(f++,r(x,j<_?R:W,_))),_=x.length):o===0&&(f++,x=[0]),b[h++]=f,o&&x[0]?x[_++]=U[O]||0:(x=[U[O]],_=1);while((O++<P||x[0]!==void 0)&&C--)}return b[0]||b.shift(),g.e=u,bt(g,a?s+Jt(g)+1:s)}})();function pL(e,t){var r,n,i,s,a,o,u=0,h=0,f=e.constructor,p=f.precision;if(Jt(e)>16)throw Error(bw+Jt(e));if(!e.s)return new f(Nn);for(Rt=!1,o=p,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(n=Math.log(io(2,h))/Math.LN10*2+5|0,o+=n,r=i=s=new f(Nn),f.precision=o;;){if(i=bt(i.times(e),o),r=r.times(++u),a=s.plus(bs(i,r,o)),Ui(a.d).slice(0,o)===Ui(s.d).slice(0,o)){for(;h--;)s=bt(s.times(s),o);return f.precision=p,t==null?(Rt=!0,bt(s,p)):s}s=a}}function Jt(e){for(var t=e.e*Ot,r=e.d[0];r>=10;r/=10)t++;return t}function hb(e,t,r){if(t>e.LN10.sd())throw Rt=!0,r&&(e.precision=r),Error(ri+"LN10 precision limit exceeded");return bt(new e(e.LN10),t)}function fa(e){for(var t="";e--;)t+="0";return t}function _d(e,t){var r,n,i,s,a,o,u,h,f,p=1,v=10,g=e,b=g.d,x=g.constructor,_=x.precision;if(g.s<1)throw Error(ri+(g.s?"NaN":"-Infinity"));if(g.eq(Nn))return new x(0);if(t==null?(Rt=!1,h=_):h=t,g.eq(10))return t==null&&(Rt=!0),hb(x,h);if(h+=v,x.precision=h,r=Ui(b),n=r.charAt(0),s=Jt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ui(g.d),n=r.charAt(0),p++;s=Jt(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return u=hb(x,h+2,_).times(s+""),g=_d(new x(n+"."+r.slice(1)),h-v).plus(u),x.precision=_,t==null?(Rt=!0,bt(g,_)):g;for(o=a=g=bs(g.minus(Nn),g.plus(Nn),h),f=bt(g.times(g),h),i=3;;){if(a=bt(a.times(f),h),u=o.plus(bs(a,new x(i),h)),Ui(u.d).slice(0,h)===Ui(o.d).slice(0,h))return o=o.times(2),s!==0&&(o=o.plus(hb(x,h+2,_).times(s+""))),o=bs(o,new x(p),h),x.precision=_,t==null?(Rt=!0,bt(o,_)):o;o=u,i+=2}}function zO(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=cu(r/Ot),e.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ot;n<i;)e.d.push(+t.slice(n,n+=Ot));t=t.slice(n),n=Ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Rt&&(e.e>om||e.e<-om))throw Error(bw+r)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,t,r){var n,i,s,a,o,u,h,f,p=e.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Ot,i=t,h=p[f=0];else{if(f=Math.ceil((n+1)/Ot),s=p.length,f>=s)return e;for(h=s=p[f],a=1;s>=10;s/=10)a++;n%=Ot,i=n-Ot+a}if(r!==void 0&&(s=io(10,a-i-1),o=h/s%10|0,u=t<0||p[f+1]!==void 0||h%s,u=r<4?(o||u)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||u||r==6&&(n>0?i>0?h/io(10,a-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return u?(s=Jt(e),p.length=1,t=t-s-1,p[0]=io(10,(Ot-t%Ot)%Ot),e.e=cu(-t/Ot)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=io(10,Ot-n),p[f]=i>0?(h/io(10,a-i)%io(10,i)|0)*s:0),u)for(;;)if(f==0){(p[0]+=s)==mr&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=mr)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Rt&&(e.e>om||e.e<-om))throw Error(bw+Jt(e));return e}function mL(e,t){var r,n,i,s,a,o,u,h,f,p,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Rt?bt(t,g):t;if(u=e.d,p=t.d,n=t.e,h=e.e,u=u.slice(),a=h-n,a){for(f=a<0,f?(r=u,a=-a,o=p.length):(r=p,n=h,o=u.length),i=Math.max(Math.ceil(g/Ot),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}a=0}for(f&&(r=u,u=p,p=r,t.s=-t.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(s=i;s&&u[--s]===0;)u[s]=mr-1;--u[s],u[i]+=mr}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Rt?bt(t,g):t):new v(0)}function To(e,t,r){var n,i=Jt(e),s=Ui(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+fa(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+fa(-i-1)+s,r&&(n=r-a)>0&&(s+=fa(n))):i>=a?(s+=fa(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+fa(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=fa(n))),e.s<0?"-"+s:s}function WO(e,t){if(e.length>t)return e.length=t,!0}function gL(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return zO(a,s.toString())}else if(typeof s!="string")throw Error(vo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bJ.test(s))zO(a,s);else throw Error(vo+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gL,i.config=i.set=_J,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function _J(e){if(!e||typeof e!="object")throw Error(ri+"Object expected");var t,r,n,i=["precision",1,uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(cu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(vo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vo+r+": "+n);return this}var _w=gL(yJ);Nn=new _w(1);const ft=_w;var xJ=e=>e,vL={},yL=e=>e===vL,qO=e=>function t(){return arguments.length===0||arguments.length===1&&yL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},bL=(e,t)=>e===1?t:qO(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==vL).length;return s>=e?t(...n):bL(e-s,qO(function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var h=n.map(f=>yL(f)?o.shift():f);return t(...h,...o)}))}),ig=e=>bL(e.length,e),d_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},wJ=ig((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),EJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xJ;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,u)=>u(o),s(...arguments))}},h_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),_L=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,o)=>{var u;return a===((u=t)===null||u===void 0?void 0:u[o])})||(t=i,r=e(...i)),r}};function xL(e){var t;return e===0?t=1:t=Math.floor(new ft(e).abs().log(10).toNumber())+1,t}function wL(e,t,r){for(var n=new ft(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}ig((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});ig((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});ig((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var EL=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},kL=(e,t,r)=>{if(e.lte(0))return new ft(0);var n=xL(e.toNumber()),i=new ft(10).pow(n),s=e.div(i),a=n!==1?.05:.1,o=new ft(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=o.mul(i);return t?new ft(u.toNumber()):new ft(Math.ceil(u.toNumber()))},kJ=(e,t,r)=>{var n=new ft(1),i=new ft(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new ft(10).pow(xL(e)-1),i=new ft(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new ft(Math.floor(e)))}else e===0?i=new ft(Math.floor((t-1)/2)):r||(i=new ft(Math.floor(e)));var a=Math.floor((t-1)/2),o=EJ(wJ(u=>i.add(new ft(u-a).mul(n)).toNumber()),d_);return o(0,t)},TL=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=kL(new ft(r).sub(t).div(n-1),i,s),o;t<=0&&r>=0?o=new ft(0):(o=new ft(t).add(r).div(2),o=o.sub(new ft(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),h=Math.ceil(new ft(r).sub(o).div(a).toNumber()),f=u+h+1;return f>n?TL(t,r,n,i,s+1):(f<n&&(h=r>0?h+(n-f):h,u=r>0?u:u+(n-f)),{step:a,tickMin:o.sub(new ft(u).mul(a)),tickMax:o.add(new ft(h).mul(a))})};function TJ(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=EL([t,r]);if(a===-1/0||o===1/0){var u=o===1/0?[a,...d_(0,n-1).map(()=>1/0)]:[...d_(0,n-1).map(()=>-1/0),o];return t>r?h_(u):u}if(a===o)return kJ(a,n,i);var{step:h,tickMin:f,tickMax:p}=TL(a,o,s,i,0),v=wL(f,p.add(new ft(.1).mul(h)),h);return t>r?h_(v):v}function SJ(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=EL([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(t,2),u=kL(new ft(a).sub(s).div(o-1),i,0),h=[...wL(new ft(s),new ft(a),u),a];return i===!1&&(h=h.map(f=>Math.round(f))),r>n?h_(h):h}var CJ=_L(TJ),AJ=_L(SJ),SL=e=>e.rootProps.maxBarSize,OJ=e=>e.rootProps.barGap,CL=e=>e.rootProps.barCategoryGap,NJ=e=>e.rootProps.barSize,sg=e=>e.rootProps.stackOffset,xw=e=>e.options.chartName,ww=e=>e.rootProps.syncId,AL=e=>e.rootProps.syncMethod,Ew=e=>e.options.eventEmitter,ds={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Sn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ag=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},PJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ds.angleAxisId,includeHidden:!1,name:void 0,reversed:ds.reversed,scale:ds.scale,tick:ds.tick,tickCount:void 0,ticks:void 0,type:ds.type,unit:void 0},IJ={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:Sn.type,unit:void 0},jJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ds.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ds.scale,tick:ds.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},RJ={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:"category",unit:void 0},kw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?jJ:PJ,Tw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?RJ:IJ,og=e=>e.polarOptions,Sw=ne([Ns,Ps,br],bK),OL=ne([og,Sw],(e,t)=>{if(e!=null)return Ti(e.innerRadius,t,0)}),NL=ne([og,Sw],(e,t)=>{if(e!=null)return Ti(e.outerRadius,t,t*.8)}),DJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PL=ne([og],DJ);ne([kw,PL],ag);var IL=ne([Sw,OL,NL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ne([Tw,IL],ag);var jL=ne([mt,og,OL,NL,Ns,Ps],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:o,startAngle:u,endAngle:h}=t;return{cx:Ti(a,i,i/2),cy:Ti(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:h,clockWise:!1}}}),or=(e,t)=>t,lg=(e,t,r)=>r;function Cw(e){return e==null?void 0:e.id}var lr=e=>{var t=mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},du=e=>e.tooltip.settings.axisId,ur=e=>{var t=lr(e),r=du(e);return Ud(e,t,r)},RL=ne([ur],e=>e==null?void 0:e.dataKey);function DL(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return e.forEach(o=>{var u,h=(u=o.data)!==null&&u!==void 0?u:n;if(!(h==null||h.length===0)){var f=Cw(o);h.forEach((p,v)=>{var g=s==null||i?v:String(Jr(p,s,null)),b=Jr(p,o.dataKey,0),x;a.has(g)?x=a.get(g):x={},Object.assign(x,{[f]:b}),a.set(g,x)})}}),Array.from(a.values())}function ug(e){return e.stackId!=null&&e.dataKey!=null}var cg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function dg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){LJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJ(e,t,r){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LL=(e,t)=>e.cartesianAxis.xAxis[t],js=(e,t)=>{var r=LL(e,t);return r??kn},Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:f_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ld},ML=(e,t)=>e.cartesianAxis.yAxis[t],Rs=(e,t)=>{var r=ML(e,t);return r??Tn},BJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Aw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??BJ},en=(e,t,r)=>{switch(t){case"xAxis":return js(e,r);case"yAxis":return Rs(e,r);case"zAxis":return Aw(e,r);case"angleAxis":return kw(e,r);case"radiusAxis":return Tw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$J=(e,t,r)=>{switch(t){case"xAxis":return js(e,r);case"yAxis":return Rs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ud=(e,t,r)=>{switch(t){case"xAxis":return js(e,r);case"yAxis":return Rs(e,r);case"angleAxis":return kw(e,r);case"radiusAxis":return Tw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},FL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function BL(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ow=e=>e.graphicalItems.cartesianItems,UJ=ne([or,lg],BL),$L=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hd=ne([Ow,en,UJ],$L,{memoizeOptions:{resultEqualityCheck:dg}}),UL=ne([Hd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ug)),HL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),HJ=ne([Hd],HL),zL=e=>e.map(t=>t.data).filter(Boolean).flat(1),zJ=ne([Hd],zL,{memoizeOptions:{resultEqualityCheck:dg}}),WL=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Nw=ne([zJ,yw],WL),qL=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Jr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Jr(i,n)}))):e.map(n=>({value:n})),hg=ne([Nw,en,Hd],qL);function VL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ap(e){if(Vi(e)||e instanceof Date){var t=Number(e);if(Ur(t))return t}}function KO(e){if(Array.isArray(e)){var t=[ap(e[0]),ap(e[1])];return ko(t)?t:void 0}var r=ap(e);if(r!=null)return[r,r]}function hu(e){return e.map(ap).filter(sG)}function WJ(e,t,r){return!r||typeof t!="number"||ei(t)?[]:r.length?hu(r.flatMap(n=>{var i=Jr(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ur(s)||!Ur(a)))return[t-s,t+a]})):[]}var qJ=ne([UL,yw,ur],DL),KL=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,u=o.map(Cw);return[a,{stackedData:DK(e,u,r),graphicalItems:o}]}))},p_=ne([qJ,UL,sg],KL),YL=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var a=$K(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},VJ=ne([en],e=>e.allowDataOverflow),Pw=e=>{var t;if(e==null||!("domain"in e))return f_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=hu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:f_},GL=ne([en],Pw),XL=ne([GL,VJ],dL),KJ=ne([p_,Oa,or,XL],YL,{memoizeOptions:{resultEqualityCheck:cg}}),Iw=e=>e.errorBars,YJ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>VL(r,n)),um=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},QL=(e,t,r,n,i)=>{var s,a;if(r.length>0&&e.forEach(o=>{r.forEach(u=>{var h,f,p=(h=n[u.id])===null||h===void 0?void 0:h.filter(w=>VL(i,w)),v=Jr(o,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),g=WJ(o,v,p);if(g.length>=2){var b=Math.min(...g),x=Math.max(...g);(s==null||b<s)&&(s=b),(a==null||x>a)&&(a=x)}var _=KO(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var u=KO(Jr(o,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Ur(s)&&Ur(a))return[s,a]},GJ=ne([Nw,en,HJ,Iw,or],QL,{memoizeOptions:{resultEqualityCheck:cg}});function XJ(e){var{value:t}=e;if(Vi(t)||t instanceof Date)return t}var QJ=(e,t,r)=>{var n=e.map(XJ).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xR(n))?ND(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},JL=e=>e.referenceElements.dots,fu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),JJ=ne([JL,or,lg],fu),ZL=e=>e.referenceElements.areas,ZJ=ne([ZL,or,lg],fu),e6=e=>e.referenceElements.lines,eZ=ne([e6,or,lg],fu),t6=(e,t)=>{var r=hu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tZ=ne(JJ,or,t6),r6=(e,t)=>{var r=hu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rZ=ne([ZJ,or],r6),n6=(e,t)=>{var r=hu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nZ=ne(eZ,or,n6),iZ=ne(tZ,nZ,rZ,(e,t,r)=>um(e,r,t)),i6=(e,t,r,n,i,s,a,o)=>{if(r!=null)return r;var u=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",h=u?um(n,s,i):um(s,i);return vJ(t,h,e.allowDataOverflow)},sZ=ne([en,GL,XL,KJ,GJ,iZ,mt,or],i6,{memoizeOptions:{resultEqualityCheck:cg}}),aZ=[0,1],s6=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:u}=e,h=Oo(t,s);return h&&o==null?ND(0,r.length):u==="category"?QJ(n,e,h):i==="expand"?aZ:a}},jw=ne([en,mt,Nw,hg,sg,or,sZ],s6),a6=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(jd(s));return o in $c?o:"point"}}},zd=ne([en,mt,FL,xw,or],a6);function oZ(e){if(e!=null){if(e in $c)return $c[e]();var t="scale".concat(jd(e));if(t in $c)return $c[t]()}}function Rw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=oZ(t);if(i!=null){var s=i.domain(r).range(n);return NK(s),s}}}var o6=(e,t,r)=>{var n=Pw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ko(e))return CJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ko(e))return AJ(e,t.tickCount,t.allowDecimals)}},Dw=ne([jw,Ud,zd],o6),l6=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ko(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},lZ=ne([en,jw,Dw,or],l6),uZ=ne(hg,en,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(hu(e.map(o=>o.value))).sort((o,u)=>o-u);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),u6=ne(uZ,mt,CL,br,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Ur(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Ti(r,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),cZ=(e,t)=>{var r=js(e,t);return r==null||typeof r.padding!="string"?0:u6(e,"xAxis",t,r.padding)},dZ=(e,t)=>{var r=Rs(e,t);return r==null||typeof r.padding!="string"?0:u6(e,"yAxis",t,r.padding)},hZ=ne(js,cZ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),fZ=ne(Rs,dZ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),pZ=ne([br,hZ,Gm,Ym,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),mZ=ne([br,mt,fZ,Gm,Ym,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return pZ(e,r,n);case"yAxis":return mZ(e,r,n);case"zAxis":return(i=Aw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return PL(e);case"radiusAxis":return IL(e,r);default:return}},c6=ne([en,Wd],ag),pu=ne([en,zd,lZ,c6],Rw);ne([Hd,Iw,or],YJ);function d6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fg=(e,t)=>t,pg=(e,t,r)=>r,gZ=ne(Vm,fg,pg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(d6)),vZ=ne(Km,fg,pg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(d6)),h6=(e,t)=>({width:e.width,height:t.height}),yZ=(e,t)=>{var r=typeof t.width=="number"?t.width:Ld;return{width:r,height:e.height}},f6=ne(br,js,h6),bZ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},_Z=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},xZ=ne(Ps,br,gZ,fg,pg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var u=h6(t,o);a==null&&(a=bZ(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(h)*u.height,a+=(h?-1:1)*u.height}),s}),wZ=ne(Ns,br,vZ,fg,pg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var u=yZ(t,o);a==null&&(a=_Z(t,n,e));var h=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(h)*u.width,a+=(h?-1:1)*u.width}),s}),EZ=(e,t)=>{var r=js(e,t);if(r!=null)return xZ(e,r.orientation,r.mirror)},kZ=ne([br,js,EZ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),TZ=(e,t)=>{var r=Rs(e,t);if(r!=null)return wZ(e,r.orientation,r.mirror)},SZ=ne([br,Rs,TZ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),p6=ne(br,Rs,(e,t)=>{var r=typeof t.width=="number"?t.width:Ld;return{width:r,height:e.height}}),YO=(e,t,r)=>{switch(t){case"xAxis":return f6(e,r).width;case"yAxis":return p6(e,r).height;default:return}},m6=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=Oo(e,n),u=t.map(h=>h.value);if(a&&o&&s==="category"&&i&&xR(u))return u}},Lw=ne([mt,hg,en,or],m6),g6=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Oo(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},Mw=ne([mt,hg,Ud,or],g6),GO=ne([mt,$J,zd,pu,Lw,Mw,Wd,Dw,or],(e,t,r,n,i,s,a,o,u)=>{if(t==null)return null;var h=Oo(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:o,range:a,realScaleType:r,scale:n}}),CZ=(e,t,r,n,i,s,a,o,u)=>{if(!(t==null||n==null)){var h=Oo(e,u),{type:f,ticks:p,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=f==="category"&&n.bandwidth?n.bandwidth()/g:0;b=u==="angleAxis"&&s!=null&&s.length>=2?mn(s[0]-s[1])*2*b:b;var x=p||i;if(x){var _=x.map((w,C)=>{var S=a?a.indexOf(w):w;return{index:C,coordinate:n(S)+b,value:w,offset:b}});return _.filter(w=>!ei(w.coordinate))}return h&&o?o.map((w,C)=>({coordinate:n(w)+b,value:w,index:C,offset:b})):n.ticks?n.ticks(v).map(w=>({coordinate:n(w)+b,value:w,offset:b})):n.domain().map((w,C)=>({coordinate:n(w)+b,value:a?a[w]:w,index:C,offset:b}))}},v6=ne([mt,Ud,zd,pu,Dw,Wd,Lw,Mw,or],CZ),AZ=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Oo(e,a),{tickCount:u}=t,h=0;return h=a==="angleAxis"&&(n==null?void 0:n.length)>=2?mn(n[0]-n[1])*2*h:h,o&&s?s.map((f,p)=>({coordinate:r(f)+h,value:f,index:p,offset:h})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+h,value:f,offset:h})):r.domain().map((f,p)=>({coordinate:r(f)+h,value:i?i[f]:f,index:p,offset:h}))}},Wl=ne([mt,Ud,pu,Wd,Lw,Mw,or],AZ),ql=ne(en,pu,(e,t)=>{if(!(e==null||t==null))return lm(lm({},e),{},{scale:t})}),OZ=ne([en,zd,jw,c6],Rw);ne((e,t,r)=>Aw(e,r),OZ,(e,t)=>{if(!(e==null||t==null))return lm(lm({},e),{},{scale:t})});var NZ=ne([mt,Vm,Km],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),y6=e=>e.options.defaultTooltipEventType,b6=e=>e.options.validateTooltipEventTypes;function _6(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Fw(e,t){var r=y6(e),n=b6(e);return _6(t,r,n)}function PZ(e){return Fe(t=>Fw(t,e))}var x6=(e,t)=>{var r,n=Number(t);if(!(ei(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},IZ=e=>e.tooltip.settings,ga={active:!1,index:null,dataKey:void 0,coordinate:void 0},jZ={itemInteraction:{click:ga,hover:ga},axisInteraction:{click:ga,hover:ga},keyboardInteraction:ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},w6=Dn({name:"tooltip",initialState:jZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Yr()},removeTooltipEntrySettings:{reducer(e,t){var r=ys(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Yr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:RZ,removeTooltipEntrySettings:DZ,setTooltipSettingsState:LZ,setActiveMouseOverItemIndex:E6,mouseLeaveItem:MZ,mouseLeaveChart:k6,setActiveClickItemIndex:FZ,setMouseOverAxisIndex:T6,setMouseClickAxisIndex:BZ,setSyncInteraction:m_,setKeyboardInteraction:g_}=w6.actions,$Z=w6.reducer;function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){UZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WZ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qZ(e){return e.index!=null}var S6=(e,t,r,n)=>{if(t==null)return ga;var i=WZ(e,t,r);if(i==null)return ga;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(qZ(i)){if(s)return Wf(Wf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Wf(Wf({},ga),{},{coordinate:i.coordinate})},Bw=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ur(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},C6=(e,t,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var u=a[0],h=u==null?void 0:o(u.positions,s);if(h!=null)return h;var f=i==null?void 0:i[Number(s)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},A6=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},qd=e=>e.options.tooltipPayloadSearcher,mu=e=>e.tooltip;function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GZ(e,t){return e??t}var O6=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:u,dataStartIndex:h,dataEndIndex:f}=r,p=[];return e.reduce((v,g)=>{var b,{dataDefinedOnItem:x,settings:_}=g,w=GZ(x,o),C=Array.isArray(w)?uD(w,h,f):w,S=(b=_==null?void 0:_.dataKey)!==null&&b!==void 0?b:n,O=_==null?void 0:_.nameKey,P;if(n&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?P=hq(C,n,i):P=s(C,t,u,O),Array.isArray(P))P.forEach(j=>{var R=JO(JO({},_),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});v.push(OA({tooltipEntrySettings:R,dataKey:j.dataKey,payload:j.payload,value:Jr(j.payload,j.dataKey),name:j.name}))});else{var N;v.push(OA({tooltipEntrySettings:_,dataKey:S,payload:P,value:Jr(P,S),name:(N=Jr(P,O))!==null&&N!==void 0?N:_==null?void 0:_.name}))}return v},p)}},$w=ne([ur,mt,FL,xw,lr],a6),XZ=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QZ=ne([lr,du],BL),Vd=ne([XZ,ur,QZ],$L,{memoizeOptions:{resultEqualityCheck:dg}}),JZ=ne([Vd],e=>e.filter(ug)),ZZ=ne([Vd],zL,{memoizeOptions:{resultEqualityCheck:dg}}),gu=ne([ZZ,Oa],WL),eee=ne([JZ,Oa,ur],DL),Uw=ne([gu,ur,Vd],qL),N6=ne([ur],Pw),tee=ne([ur],e=>e.allowDataOverflow),P6=ne([N6,tee],dL),ree=ne([Vd],e=>e.filter(ug)),nee=ne([eee,ree,sg],KL),iee=ne([nee,Oa,lr,P6],YL),see=ne([Vd],HL),aee=ne([gu,ur,see,Iw,lr],QL,{memoizeOptions:{resultEqualityCheck:cg}}),oee=ne([JL,lr,du],fu),lee=ne([oee,lr],t6),uee=ne([ZL,lr,du],fu),cee=ne([uee,lr],r6),dee=ne([e6,lr,du],fu),hee=ne([dee,lr],n6),fee=ne([lee,hee,cee],um),pee=ne([ur,N6,P6,iee,aee,fee,mt,lr],i6),I6=ne([ur,mt,gu,Uw,sg,lr,pee],s6),mee=ne([I6,ur,$w],o6),gee=ne([ur,I6,mee,lr],l6),j6=e=>{var t=lr(e),r=du(e),n=!1;return Wd(e,t,r,n)},R6=ne([ur,j6],ag),D6=ne([ur,$w,gee,R6],Rw),vee=ne([mt,Uw,ur,lr],m6),yee=ne([mt,Uw,ur,lr],g6),bee=(e,t,r,n,i,s,a,o)=>{if(t){var{type:u}=t,h=Oo(e,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mn(i[0]-i[1])*2*p:p,h&&a?a.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:s?s[v]:v,index:g,offset:p}))}}},Ds=ne([mt,ur,$w,D6,j6,vee,yee,lr],bee),Hw=ne([y6,b6,IZ],(e,t,r)=>_6(r.shared,e,t)),L6=e=>e.tooltip.settings.trigger,zw=e=>e.tooltip.settings.defaultIndex,mg=ne([mu,Hw,L6,zw],S6),Vl=ne([mg,gu],Bw),M6=ne([Ds,Vl],x6),F6=ne([mg],e=>{if(e)return e.dataKey}),B6=ne([mu,Hw,L6,zw],A6),_ee=ne([Ns,Ps,mt,br,Ds,zw,B6,qd],C6),xee=ne([mg,_ee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wee=ne([mg],e=>e.active),Eee=ne([B6,Vl,Oa,RL,M6,qd,Hw],O6);ne([Eee],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cee=()=>Fe(ur),Aee=()=>{var e=Cee(),t=Fe(Ds),r=Fe(D6);return zx(eN(eN({},e),{},{scale:r}),t)},Oee=()=>Fe(xw),Ww=(e,t)=>t,$6=(e,t,r)=>r,qw=(e,t,r,n)=>n,Nee=ne(Ds,e=>$m(e,t=>t.coordinate)),Vw=ne([mu,Ww,$6,qw],S6),U6=ne([Vw,gu],Bw),Pee=(e,t,r)=>{if(t!=null){var n=mu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},H6=ne([mu,Ww,$6,qw],A6),cm=ne([Ns,Ps,mt,br,Ds,qw,H6,qd],C6),Iee=ne([Vw,cm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),z6=ne(Ds,U6,x6),jee=ne([H6,U6,Oa,RL,z6,qd,Ww],O6),Ree=ne([Vw],e=>({isActive:e.active,activeIndex:e.index})),Dee=(e,t,r,n,i,s,a,o)=>{if(!(!e||!t||!n||!i||!s)){var u=UK(e.chartX,e.chartY,t,r,o);if(u){var h=zK(u,t),f=AK(h,a,s,n,i),p=HK(t,s,f,u);return{activeIndex:String(f),activeCoordinate:p}}}};function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:u,chartName:h}=e,f=t,p=r,v=n;if(!o||!f||h!=="ScatterChart"&&u!=="axis")return null;var g,b;if(h==="ScatterChart")g=f,b=JY;else if(h==="BarChart")g=ZY(a,f,i,s),b=SD;else if(a==="radial"){var{cx:x,cy:_,radius:w,startAngle:C,endAngle:S}=CD(f);g={cx:x,cy:_,startAngle:C,endAngle:S,innerRadius:w,outerRadius:w},b=OD}else g={points:LG(a,f,i)},b=zY;var O=typeof o=="object"&&"className"in o?o.className:void 0,P=qf(qf(qf(qf({stroke:"#ccc",pointerEvents:"none"},i),g),Ax(o)),{},{payload:p,payloadIndex:v,className:Pt("recharts-tooltip-cursor",O)});return T.isValidElement(o)?T.cloneElement(o,P):T.createElement(b,P)}function $ee(e){var t=Aee(),r=vD(),n=Vx(),i=Oee();return T.createElement(Bee,v_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var W6=T.createContext(null),Uee=()=>T.useContext(W6),fb={exports:{}},rN;function Hee(){return rN||(rN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||u,v),b=r?r+h:h;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function a(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)t.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},o.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,b=new Array(g);v<g;v++)b[v]=p[v].fn;return b},o.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(h,f,p,v,g,b){var x=r?r+h:h;if(!this._events[x])return!1;var _=this._events[x],w=arguments.length,C,S;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,v),!0;case 5:return _.fn.call(_.context,f,p,v,g),!0;case 6:return _.fn.call(_.context,f,p,v,g,b),!0}for(S=1,C=new Array(w-1);S<w;S++)C[S-1]=arguments[S];_.fn.apply(_.context,C)}else{var O=_.length,P;for(S=0;S<O;S++)switch(_[S].once&&this.removeListener(h,_[S].fn,void 0,!0),w){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,f);break;case 3:_[S].fn.call(_[S].context,f,p);break;case 4:_[S].fn.call(_[S].context,f,p,v);break;default:if(!C)for(P=1,C=new Array(w-1);P<w;P++)C[P-1]=arguments[P];_[S].fn.apply(_[S].context,C)}}return!0},o.prototype.on=function(h,f,p){return s(this,h,f,p,!1)},o.prototype.once=function(h,f,p){return s(this,h,f,p,!0)},o.prototype.removeListener=function(h,f,p,v){var g=r?r+h:h;if(!this._events[g])return this;if(!f)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===f&&(!v||b.once)&&(!p||b.context===p)&&a(this,g);else{for(var x=0,_=[],w=b.length;x<w;x++)(b[x].fn!==f||v&&!b[x].once||p&&b[x].context!==p)&&_.push(b[x]);_.length?this._events[g]=_.length===1?_[0]:_:a(this,g)}return this},o.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(fb)),fb.exports}var zee=Hee();const Wee=ni(zee);var xd=new Wee,y_="recharts.syncEvent.tooltip",nN="recharts.syncEvent.brush";function qee(e,t){if(t){var r=Number.parseInt(t,10);if(!ei(r))return e==null?void 0:e[r]}}var Vee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q6=Dn({name:"options",initialState:Vee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kee=q6.reducer,{createEventEmitter:Yee}=q6.actions;function Gee(e){return e.tooltip.syncInteraction}var Xee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V6=Dn({name:"chartData",initialState:Xee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:iN,setDataStartEndIndexes:Qee,setComputedData:q0e}=V6.actions,Jee=V6.reducer,Zee=["x","y"];function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){ete(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ete(e,t,r){return(t=tte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e,t){if(e==null)return{};var r,n,i=ite(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var K6=()=>{};function ste(){var e=Fe(ww),t=Fe(Ew),r=sr(),n=Fe(AL),i=Fe(Ds),s=Vx(),a=Xm(),o=Fe(u=>u.rootProps.className);T.useEffect(()=>{if(e==null)return K6;var u=(h,f,p)=>{if(t!==p&&e===h){if(n==="index"){var v;if(a&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:b,y:x}=g,_=nte(g,Zee),{x:w,y:C,width:S,height:O}=f.payload.sourceViewBox,P=pl(pl({},_),{},{x:a.x+(S?(b-w)/S:0)*a.width,y:a.y+(O?(x-C)/O:0)*a.height});r(pl(pl({},f),{},{payload:pl(pl({},f.payload),{},{coordinate:P})}))}else r(f);return}if(i!=null){var N;if(typeof n=="function"){var j={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},R=n(i,j);N=i[R]}else n==="value"&&(N=i.find(le=>String(le.value)===f.payload.label));var{coordinate:$}=f.payload;if(N==null||f.payload.active===!1||$==null||a==null){r(m_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:L,y:U}=$,W=Math.min(L,a.x+a.width),Q=Math.min(U,a.y+a.height),Y={x:s==="horizontal"?N.coordinate:W,y:s==="horizontal"?Q:N.coordinate},V=m_({active:f.payload.active,coordinate:Y,dataKey:f.payload.dataKey,index:String(N.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});r(V)}}};return xd.on(y_,u),()=>{xd.off(y_,u)}},[o,r,t,e,n,i,s,a])}function ate(){var e=Fe(ww),t=Fe(Ew),r=sr();T.useEffect(()=>{if(e==null)return K6;var n=(i,s,a)=>{t!==a&&e===i&&r(Qee(s))};return xd.on(nN,n),()=>{xd.off(nN,n)}},[r,t,e])}function ote(){var e=sr();T.useEffect(()=>{e(Yee())},[e]),ste(),ate()}function lte(e,t,r,n,i,s){var a=Fe(g=>Pee(g,e,t)),o=Fe(Ew),u=Fe(ww),h=Fe(AL),f=Fe(Gee),p=f==null?void 0:f.active,v=Xm();T.useEffect(()=>{if(!p&&u!=null&&o!=null){var g=m_({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v});xd.emit(y_,u,g,o)}},[p,r,a,i,n,o,u,h,s,v])}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t,r){return(t=cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hte(e){return e.dataKey}function fte(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(OY,t)}var lN=[],pte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ou.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mte(e){var t=ai(e,pte),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:u,offset:h,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:b,cursor:x,shared:_,trigger:w,defaultIndex:C,portal:S,axisId:O}=t,P=sr(),N=typeof C=="number"?String(C):C;T.useEffect(()=>{P(LZ({shared:_,trigger:w,axisId:O,active:r,defaultIndex:N}))},[P,_,w,O,r,N]);var j=Xm(),R=xD(),$=PZ(_),{activeIndex:L,isActive:U}=Fe(Te=>Ree(Te,$,w,N)),W=Fe(Te=>jee(Te,$,w,N)),Q=Fe(Te=>z6(Te,$,w,N)),Y=Fe(Te=>Iee(Te,$,w,N)),V=W,le=Uee(),oe=r??U,[te,ue]=yV([V,oe]),D=$==="axis"?Q:void 0;lte($,w,Y,D,L,oe);var q=S??le;if(q==null)return null;var X=V??lN;oe||(X=lN),o&&X.length&&(X=Wq(V.filter(Te=>Te.value!=null&&(Te.hide!==!0||t.includeHidden)),f,hte));var F=X.length>0,_e=T.createElement(LY,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:u,active:oe,coordinate:Y,hasPayload:F,offset:h,position:p,reverseDirection:v,useTranslate3d:g,viewBox:j,wrapperStyle:b,lastBoundingBox:te,innerRef:ue,hasPortalFromProps:!!S},fte(a,oN(oN({},t),{},{payload:X,label:D,active:oe,coordinate:Y,accessibilityLayer:R})));return T.createElement(T.Fragment,null,NI.createPortal(_e,q),oe&&T.createElement($ee,{cursor:x,tooltipEventType:$,coordinate:Y,payload:V,index:L}))}var Kw=e=>null;Kw.displayName="Cell";function gte(e,t,r){return(t=vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bte{constructor(t){gte(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xte(e,t,r){return(t=wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kte={cacheSize:2e3,enableCache:!0},Y6=_te({},kte),cN=new bte(Y6.cacheSize),Tte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dN="recharts_measurement_span";function Ste(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var hN=(e,t)=>{try{var r=document.getElementById(dN);r||(r=document.createElement("span"),r.setAttribute("id",dN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Tte,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Kc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ou.isSsr)return{width:0,height:0};if(!Y6.enableCache)return hN(t,r);var n=Ste(t,r),i=cN.get(n);if(i)return i;var s=hN(t,r);return cN.set(n,s),s},fN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ate=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,G6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ote=Object.keys(G6),Tl="NaN";function Nte(e,t){return e*G6[t]}class dn{static parse(t){var r,[,n,i]=(r=Ate.exec(t))!==null&&r!==void 0?r:[];return new dn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ei(t)&&(this.unit=""),r!==""&&!Cte.test(r)&&(this.num=NaN,this.unit=""),Ote.includes(r)&&(this.num=Nte(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dn(NaN,""):new dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dn(NaN,""):new dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dn(NaN,""):new dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dn(NaN,""):new dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ei(this.num)}}function X6(e){if(e.includes(Tl))return Tl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=fN.exec(t))!==null&&r!==void 0?r:[],a=dn.parse(n??""),o=dn.parse(s??""),u=i==="*"?a.multiply(o):a.divide(o);if(u.isNaN())return Tl;t=t.replace(fN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,p,v]=(h=pN.exec(t))!==null&&h!==void 0?h:[],g=dn.parse(f??""),b=dn.parse(v??""),x=p==="+"?g.add(b):g.subtract(b);if(x.isNaN())return Tl;t=t.replace(pN,x.toString())}return t}var mN=/\(([^()]*)\)/;function Pte(e){for(var t=e,r;(r=mN.exec(t))!=null;){var[,n]=r;t=t.replace(mN,X6(n))}return t}function Ite(e){var t=e.replace(/\s+/g,"");return t=Pte(t),t=X6(t),t}function jte(e){try{return Ite(e)}catch{return Tl}}function pb(e){var t=jte(e.slice(5,-1));return t===Tl?"":t}var Rte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dte=["dx","dy","angle","className","breakAll"];function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(null,arguments)}function gN(e,t){if(e==null)return{};var r,n,i=Lte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q6=/[ \f\n\r\t\v\u2028\u2029]+/,J6=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];yr(t)||(r?i=t.toString().split(""):i=t.toString().split(Q6));var s=i.map(o=>({word:o,width:Kc(o,n).width})),a=r?0:Kc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Mte=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:u}=e,h=Le(s),f=a,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((W,Q)=>{var{word:Y,width:V}=Q,le=W[W.length-1];if(le&&(n==null||i||le.width+V+r<Number(n)))le.words.push(Y),le.width+=V+r;else{var oe={words:[Y],width:V};W.push(oe)}return W},[])},v=p(t),g=L=>L.reduce((U,W)=>U.width>W.width?U:W);if(!h||i)return v;var b=v.length>s||g(v).width>Number(n);if(!b)return v;for(var x="",_=L=>{var U=f.slice(0,L),W=J6({breakAll:u,style:o,children:U+x}).wordsWithComputedWidth,Q=p(W),Y=Q.length>s||g(Q).width>Number(n);return[Y,Q]},w=0,C=f.length-1,S=0,O;w<=C&&S<=f.length-1;){var P=Math.floor((w+C)/2),N=P-1,[j,R]=_(N),[$]=_(P);if(!j&&!$&&(w=P+1),j&&$&&(C=P-1),!j&&$){O=R;break}S++}return O||v},vN=e=>{var t=yr(e)?[]:e.toString().split(Q6);return[{words:t}]},Fte=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!ou.isSsr){var o,u,h=J6({breakAll:s,children:n,style:i});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;o=f,u=p}else return vN(n);return Mte({breakAll:s,children:n,maxLines:a,style:i},o,u,t,r)}return vN(n)},yN="#808080",Yw=T.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:u="end",fill:h=yN}=e,f=gN(e,Rte),p=T.useMemo(()=>Fte({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:a,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,a,f.style,f.width]),{dx:v,dy:g,angle:b,className:x,breakAll:_}=f,w=gN(f,Dte);if(!Vi(r)||!Vi(n)||p.length===0)return null;var C=r+(Le(v)?v:0),S=n+(Le(g)?g:0),O;switch(u){case"start":O=pb("calc(".concat(s,")"));break;case"middle":O=pb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:O=pb("calc(".concat(p.length-1," * -").concat(i,")"));break}var P=[];if(a){var N=p[0].width,{width:j}=f;P.push("scale(".concat(Le(j)?j/N:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(C,", ").concat(S,")")),P.length&&(w.transform=P.join(" ")),T.createElement("text",b_({},Zn(w),{ref:t,x:C,y:S,className:Pt("recharts-text",x),textAnchor:o,fill:h.includes("url")?yN:h}),p.map((R,$)=>{var L=R.words.join(_?"":" ");return T.createElement("tspan",{x:C,dy:$===0?O:i,key:"".concat(L,"-").concat($)},L)}))});Yw.displayName="Text";var Bte=["labelRef"];function $te(e,t){if(e==null)return{};var r,n,i=Ute(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ute(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hte(e,t,r){return(t=zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=Wte(e,"string");return typeof t=="symbol"?t:t+""}function Wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(null,arguments)}var Z6=T.createContext(null),qte=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,a=T.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return T.createElement(Z6.Provider,{value:a},s)},e4=()=>{var e=T.useContext(Z6),t=Xm();return e||t},Vte=T.createContext(null),Kte=()=>{var e=T.useContext(Vte),t=Fe(jL);return e||t},Yte=e=>{var{value:t,formatter:r}=e,n=yr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Gw=e=>e!=null&&typeof e=="function",Gte=(e,t)=>{var r=mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Xte=(e,t,r,n,i)=>{var{offset:s,className:a}=e,{cx:o,cy:u,innerRadius:h,outerRadius:f,startAngle:p,endAngle:v,clockWise:g}=i,b=(h+f)/2,x=Gte(p,v),_=x>=0?1:-1,w,C;switch(t){case"insideStart":w=p+_*s,C=g;break;case"insideEnd":w=v-_*s,C=!g;break;case"end":w=v+_*s,C=g;break;default:throw new Error("Unsupported position ".concat(t))}C=x<=0?C:!C;var S=Nr(o,u,b,w),O=Nr(o,u,b,w+(C?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),N=yr(e.id)?dd("recharts-radial-line-"):e.id;return T.createElement("text",hs({},n,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",a)}),T.createElement("defs",null,T.createElement("path",{id:N,d:P})),T.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Qte=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:u}=e,h=(o+u)/2;if(r==="outside"){var{x:f,y:p}=Nr(n,i,a+t,h);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+a)/2,{x:g,y:b}=Nr(n,i,v,h);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},t4=e=>"cx"in e&&Le(e.cx),Jte=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!t4(r)&&(s=r);var{x:a,y:o,width:u,height:h}=t,f=h>=0?1:-1,p=f*n,v=f>0?"end":"start",g=f>0?"start":"end",b=u>=0?1:-1,x=b*n,_=b>0?"end":"start",w=b>0?"start":"end";if(i==="top"){var C={x:a+u/2,y:o-f*n,textAnchor:"middle",verticalAnchor:v};return qt(qt({},C),s?{height:Math.max(o-s.y,0),width:u}:{})}if(i==="bottom"){var S={x:a+u/2,y:o+h+p,textAnchor:"middle",verticalAnchor:g};return qt(qt({},S),s?{height:Math.max(s.y+s.height-(o+h),0),width:u}:{})}if(i==="left"){var O={x:a-x,y:o+h/2,textAnchor:_,verticalAnchor:"middle"};return qt(qt({},O),s?{width:Math.max(O.x-s.x,0),height:h}:{})}if(i==="right"){var P={x:a+u+x,y:o+h/2,textAnchor:w,verticalAnchor:"middle"};return qt(qt({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:h}:{})}var N=s?{width:u,height:h}:{};return i==="insideLeft"?qt({x:a+x,y:o+h/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?qt({x:a+u-x,y:o+h/2,textAnchor:_,verticalAnchor:"middle"},N):i==="insideTop"?qt({x:a+u/2,y:o+p,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?qt({x:a+u/2,y:o+h-p,textAnchor:"middle",verticalAnchor:v},N):i==="insideTopLeft"?qt({x:a+x,y:o+p,textAnchor:w,verticalAnchor:g},N):i==="insideTopRight"?qt({x:a+u-x,y:o+p,textAnchor:_,verticalAnchor:g},N):i==="insideBottomLeft"?qt({x:a+x,y:o+h-p,textAnchor:w,verticalAnchor:v},N):i==="insideBottomRight"?qt({x:a+u-x,y:o+h-p,textAnchor:_,verticalAnchor:v},N):i&&typeof i=="object"&&(Le(i.x)||ws(i.x))&&(Le(i.y)||ws(i.y))?qt({x:a+Ti(i.x,u),y:o+Ti(i.y,h),textAnchor:"end",verticalAnchor:"end"},N):qt({x:a+u/2,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Zte={offset:5};function pa(e){var t=ai(e,Zte),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:u,labelRef:h}=t,f=Kte(),p=e4(),v=n==="center"?p:f??p,g=r||v;if(!g||yr(i)&&yr(s)&&!T.isValidElement(a)&&typeof a!="function")return null;var b=qt(qt({},t),{},{viewBox:g});if(T.isValidElement(a)){var{labelRef:x}=b,_=$te(b,Bte);return T.cloneElement(a,_)}var w;if(typeof a=="function"){if(w=T.createElement(a,b),T.isValidElement(w))return w}else w=Yte(t);var C=t4(g),S=Zn(t);if(C&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Xte(t,n,w,S,g);var O=C?Qte(g,t.offset,t.position):Jte(t,g);return T.createElement(Yw,hs({ref:h,className:Pt("recharts-label",o)},S,O,{breakAll:u}),w)}pa.displayName="Label";var ere=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(pa,hs({key:"label-implicit"},n)):Vi(e)?T.createElement(pa,hs({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===pa?T.cloneElement(e,qt({key:"label-implicit"},n)):T.createElement(pa,hs({key:"label-implicit",content:e},n)):Gw(e)?T.createElement(pa,hs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(pa,hs({},e,{key:"label-implicit"},n)):null};function tre(e){var{label:t,labelRef:r}=e,n=e4();return ere(t,n,r)||null}var mb={},gb={},_N;function rre(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(gb)),gb}var vb={},xN;function nre(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vb)),vb}var wN;function ire(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rre(),r=nre(),n=Lx();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(mb)),mb}var yb,EN;function sre(){return EN||(EN=1,yb=ire().last),yb}var are=sre();const ore=ni(are);var lre=["valueAccessor"],ure=["dataKey","clockWise","id","textBreakAll"];function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(null,arguments)}function kN(e,t){if(e==null)return{};var r,n,i=cre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dre=e=>Array.isArray(e.value)?ore(e.value):e.value,r4=T.createContext(void 0),hre=r4.Provider,n4=T.createContext(void 0);n4.Provider;function fre(){return T.useContext(r4)}function pre(){return T.useContext(n4)}function op(e){var{valueAccessor:t=dre}=e,r=kN(e,lre),{dataKey:n,clockWise:i,id:s,textBreakAll:a}=r,o=kN(r,ure),u=fre(),h=pre(),f=u||h;return!f||!f.length?null:T.createElement(ka,{className:"recharts-label-list"},f.map((p,v)=>{var g,b=yr(n)?t(p,v):Jr(p&&p.payload,n),x=yr(s)?{}:{id:"".concat(s,"-").concat(v)};return T.createElement(pa,dm({key:"label-".concat(v)},Zn(p),o,x,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:v}))}))}op.displayName="LabelList";function mre(e){var{label:t}=e;return t?t===!0?T.createElement(op,{key:"labelList-implicit"}):T.isValidElement(t)||Gw(t)?T.createElement(op,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(op,dm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var gre={radiusAxis:{},angleAxis:{}},i4=Dn({name:"polarAxis",initialState:gre,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:V0e,removeRadiusAxis:K0e,addAngleAxis:Y0e,removeAngleAxis:G0e}=i4.actions,vre=i4.reducer,bb={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function yre(){if(TN)return gt;TN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case e:switch(x=x.type,x){case r:case i:case n:case u:case h:case v:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case p:case f:return x;case s:return x;default:return _}}case t:return _}}}return gt.ContextConsumer=s,gt.ContextProvider=a,gt.Element=e,gt.ForwardRef=o,gt.Fragment=r,gt.Lazy=p,gt.Memo=f,gt.Portal=t,gt.Profiler=i,gt.StrictMode=n,gt.Suspense=u,gt.SuspenseList=h,gt.isContextConsumer=function(x){return b(x)===s},gt.isContextProvider=function(x){return b(x)===a},gt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},gt.isForwardRef=function(x){return b(x)===o},gt.isFragment=function(x){return b(x)===r},gt.isLazy=function(x){return b(x)===p},gt.isMemo=function(x){return b(x)===f},gt.isPortal=function(x){return b(x)===t},gt.isProfiler=function(x){return b(x)===i},gt.isStrictMode=function(x){return b(x)===n},gt.isSuspense=function(x){return b(x)===u},gt.isSuspenseList=function(x){return b(x)===h},gt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===u||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===a||x.$$typeof===s||x.$$typeof===o||x.$$typeof===g||x.getModuleId!==void 0)},gt.typeOf=b,gt}var SN;function bre(){return SN||(SN=1,bb.exports=yre()),bb.exports}var _re=bre(),CN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",AN=null,_b=null,s4=e=>{if(e===AN&&Array.isArray(_b))return _b;var t=[];return T.Children.forEach(e,r=>{yr(r)||(_re.isFragment(r)?t=t.concat(s4(r.props.children)):t.push(r))}),_b=t,AN=e,t};function xre(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>CN(i)):n=[CN(t)],s4(e).forEach(i=>{var s=Bl(i,"type.displayName")||Bl(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var xb={},ON;function wre(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(xb)),xb}var wb,NN;function Ere(){return NN||(NN=1,wb=wre().isPlainObject),wb}var kre=Ere();const Tre=ni(kre);function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){Sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t,r){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}var jN=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},Ore={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nre=e=>{var t=ai(e,Ore),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=t,{animationEasing:u,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=t,v=T.useRef(null),[g,b]=T.useState(-1),x=T.useRef(i),_=T.useRef(s),w=T.useRef(a),C=T.useRef(r),S=T.useRef(n),O=Yx(e,"trapezoid-");if(T.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Y=v.current.getTotalLength();Y&&b(Y)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=Pt("recharts-trapezoid",o);if(!p)return T.createElement("g",null,T.createElement("path",hm({},Zn(t),{className:P,d:jN(r,n,i,s,a)})));var N=x.current,j=_.current,R=w.current,$=C.current,L=S.current,U="0px ".concat(g===-1?1:g,"px"),W="".concat(g,"px 0px"),Q=wD(["strokeDasharray"],h,u);return T.createElement(Kx,{animationId:O,key:O,canBegin:g>0,duration:h,easing:u,isActive:p,begin:f},Y=>{var V=Kr(N,i,Y),le=Kr(j,s,Y),oe=Kr(R,a,Y),te=Kr($,r,Y),ue=Kr(L,n,Y);v.current&&(x.current=V,_.current=le,w.current=oe,C.current=te,S.current=ue);var D=Y>0?{transition:Q,strokeDasharray:W}:{strokeDasharray:U};return T.createElement("path",hm({},Zn(t),{className:P,d:jN(te,ue,V,le,oe),ref:v,style:IN(IN({},D),t.style)}))})},Pre=["option","shapeType","propTransformer","activeClassName","isActive"];function Ire(e,t){if(e==null)return{};var r,n,i=jre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){Rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rre(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mre(e,t){return fm(fm({},t),e)}function Fre(e,t){return e==="symbols"}function DN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(SD,r);case"trapezoid":return T.createElement(Nre,r);case"sector":return T.createElement(OD,r);case"symbols":if(Fre(t))return T.createElement(ER,r);break;default:return null}}function Bre(e){return T.isValidElement(e)?e.props:e}function $re(e){var{option:t,shapeType:r,propTransformer:n=Mre,activeClassName:i="recharts-active-shape",isActive:s}=e,a=Ire(e,Pre),o;if(T.isValidElement(t))o=T.cloneElement(t,fm(fm({},a),Bre(t)));else if(typeof t=="function")o=t(a);else if(Tre(t)&&typeof t!="boolean"){var u=n(t,a);o=T.createElement(DN,{shapeType:r,elementProps:u})}else{var h=a;o=T.createElement(DN,{shapeType:r,elementProps:h})}return s?T.createElement(ka,{className:i},o):o}var a4=(e,t)=>{var r=sr();return(n,i)=>s=>{e==null||e(n,i,s),r(E6({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},o4=e=>{var t=sr();return(r,n)=>i=>{e==null||e(r,n,i),t(MZ())}},l4=(e,t)=>{var r=sr();return(n,i)=>s=>{e==null||e(n,i,s),r(FZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Ure(e){var{fn:t,args:r}=e,n=sr(),i=Ln();return T.useLayoutEffect(()=>{if(!i){var s=t(r);return n(RZ(s)),()=>{n(DZ(s))}}},[t,r,n,i]),null}var Hre=()=>{};function zre(e){var{legendPayload:t}=e,r=sr(),n=Ln();return T.useLayoutEffect(()=>n?Hre:(r(wY(t)),()=>{r(EY(t))}),[r,n,t]),null}var Eb,Wre=()=>{var[e]=T.useState(()=>dd("uid-"));return e},qre=(Eb=jF.useId)!==null&&Eb!==void 0?Eb:Wre;function Vre(e,t){var r=qre();return t||(e?"".concat(e,"-").concat(r):r)}var Kre=T.createContext(void 0),Yre=e=>{var{id:t,type:r,children:n}=e,i=Vre("recharts-".concat(r),t);return T.createElement(Kre.Provider,{value:i},n(i))},Gre={cartesianItems:[],polarItems:[]},u4=Dn({name:"graphicalItems",initialState:Gre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Yr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ys(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Yr()},removeCartesianGraphicalItem:{reducer(e,t){var r=ys(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Yr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Yr()},removePolarGraphicalItem:{reducer(e,t){var r=ys(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Yr()}}}),{addCartesianGraphicalItem:Xre,replaceCartesianGraphicalItem:Qre,removeCartesianGraphicalItem:Jre,addPolarGraphicalItem:X0e,removePolarGraphicalItem:Q0e}=u4.actions,Zre=u4.reducer;function ene(e){var t=sr(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(Xre(e)):r.current!==e&&t(Qre({prev:r.current,next:e})),r.current=e},[t,e]),T.useLayoutEffect(()=>()=>{r.current&&(t(Jre(r.current)),r.current=null)},[t]),null}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tne(e,t,r){return(t=rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rne(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ine={xAxis:{},yAxis:{},zAxis:{}},c4=Dn({name:"cartesianAxis",initialState:ine,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Yr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Yr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Yr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Yr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Yr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Yr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);e.yAxis[r]=MN(MN({},e.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:sne,removeXAxis:ane,addYAxis:one,removeYAxis:lne,addZAxis:J0e,removeZAxis:Z0e,updateYAxisWidth:une}=c4.actions,cne=c4.reducer,dne=ne([br],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hne=ne([dne,Ns,Ps],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),d4=()=>Fe(hne),fne="Invariant failed";function pne(e,t){throw new Error(fne)}var mne=["x","y"];function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(null,arguments)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return(t=vne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bne(e,t){if(e==null)return{};var r,n,i=_ne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _ne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xne(e,t){var{x:r,y:n}=e,i=bne(e,mne),s="".concat(r),a=parseInt(s,10),o="".concat(n),u=parseInt(o,10),h="".concat(t.height||i.height),f=parseInt(h,10),p="".concat(t.width||i.width),v=parseInt(p,10);return kc(kc(kc(kc(kc({},t),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function Xw(e){return T.createElement($re,__({shapeType:"rectangle",propTransformer:xne,activeClassName:"recharts-active-bar"},e))}var wne=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Le(t))return t;var s=Le(n)||yr(n);return s?t(n,i):(s||pne(),r)}},Ene={},h4=Dn({name:"errorBars",initialState:Ene,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:eve,replaceErrorBar:tve,removeErrorBar:rve}=h4.actions,kne=h4.reducer,Tne=["children"];function Sne(e,t){if(e==null)return{};var r,n,i=Cne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ane={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},One=T.createContext(Ane);function Nne(e){var{children:t}=e,r=Sne(e,Tne);return T.createElement(One.Provider,{value:r},t)}function f4(e,t){var r,n,i=Fe(h=>js(h,e)),s=Fe(h=>Rs(h,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:kn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Tn.allowDataOverflow,u=a||o;return{needClip:u,needClipX:a,needClipY:o}}function Pne(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=d4(),{needClipX:s,needClipY:a,needClip:o}=f4(t,r);if(!o)return null;var{x:u,y:h,width:f,height:p}=i;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:s?u:u-f/2,y:a?h:h-p/2,width:s?f:f*2,height:a?p:p*2}))}var Ine=["onMouseEnter","onMouseLeave","onClick"],jne=["value","background","tooltipPosition"],Rne=["id"],Dne=["onMouseEnter","onClick","onMouseLeave"];function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){Lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lne(e,t,r){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pm(e,t){if(e==null)return{};var r,n,i=Bne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $ne=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:hD(r,t),payload:e}]};function Une(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:hD(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function Hne(e){var t=Fe(Vl),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:u}=s,h=pm(s,Ine),f=a4(a,n),p=o4(o),v=l4(u,n);if(!i||r==null)return null;var g=Ax(i);return T.createElement(T.Fragment,null,r.map((b,x)=>{var{value:_,background:w,tooltipPosition:C}=b,S=pm(b,jne);if(!w)return null;var O=f(b,x),P=p(b,x),N=v(b,x),j=Gr(Gr(Gr(Gr(Gr({option:i,isActive:String(x)===t},S),{},{fill:"#eee"},w),g),Dx(h,b,x)),{},{onMouseEnter:O,onMouseLeave:P,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return T.createElement(Xw,Ta({key:"background-bar-".concat(x)},j))}))}function zne(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return Gr(Gr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return T.createElement(hre,{value:t?i:void 0},r)}function Wne(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=e,o=Fe(Vl),u=Fe(F6),h=r&&String(s)===o&&(u==null||a===u),f=h?r:t;return T.createElement(Xw,Ta({},n,{name:String(n.name)},i,{isActive:h,option:f,index:s,dataKey:a}))}function qne(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return T.createElement(Xw,Ta({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function Vne(e){var{data:t,props:r}=e,n=xs(r),{id:i}=n,s=pm(n,Rne),{shape:a,dataKey:o,activeBar:u}=r,{onMouseEnter:h,onClick:f,onMouseLeave:p}=r,v=pm(r,Dne),g=a4(h,o),b=o4(p),x=l4(f,o);return t?T.createElement(T.Fragment,null,t.map((_,w)=>T.createElement(ka,Ta({key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(w),className:"recharts-bar-rectangle"},Dx(v,_,w),{onMouseEnter:g(_,w),onMouseLeave:b(_,w),onClick:x(_,w)}),u?T.createElement(Wne,{shape:a,activeBar:u,baseProps:s,entry:_,index:w,dataKey:o}):T.createElement(qne,{shape:a,baseProps:s,entry:_,index:w,dataKey:o})))):null}function Kne(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:u,onAnimationEnd:h,onAnimationStart:f}=t,p=r.current,v=Yx(t,"recharts-bar-"),[g,b]=T.useState(!1),x=!g,_=T.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),w=T.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return T.createElement(zne,{showLabels:x,rects:n},T.createElement(Kx,{animationId:v,begin:a,duration:o,isActive:s,easing:u,onAnimationEnd:_,onAnimationStart:w,key:v},C=>{var S=C===1?n:n==null?void 0:n.map((O,P)=>{var N=p&&p[P];if(N)return Gr(Gr({},O),{},{x:Kr(N.x,O.x,C),y:Kr(N.y,O.y,C),width:Kr(N.width,O.width,C),height:Kr(N.height,O.height,C)});if(i==="horizontal"){var j=Kr(0,O.height,C);return Gr(Gr({},O),{},{y:O.y+O.height-j,height:j})}var R=Kr(0,O.width,C);return Gr(Gr({},O),{},{width:R})});return C>0&&(r.current=S??null),S==null?null:T.createElement(ka,null,T.createElement(Vne,{props:t,data:S}))}),T.createElement(mre,{label:t.label}),t.children)}function Yne(e){var t=T.useRef(null);return T.createElement(Kne,{previousRectanglesRef:t,props:e})}var p4=0,Gne=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Jr(e,t)}};class Xne extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:u,id:h}=this.props;if(t||r==null)return null;var f=Pt("recharts-bar",i),p=h;return T.createElement(ka,{className:f,id:h},o&&T.createElement("defs",null,T.createElement(Pne,{clipPathId:p,xAxisId:s,yAxisId:a})),T.createElement(ka,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},T.createElement(Hne,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),T.createElement(Yne,this.props)))}}var Qne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ou.isSsr,legendType:"rect",minPointSize:p4,xAxisId:0,yAxisId:0};function Jne(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:u,animationEasing:h,isAnimationActive:f}=e,{needClip:p}=f4(t,r),v=Vx(),g=Ln(),b=xre(e.children,Kw),x=Fe(C=>Sie(C,t,r,g,e.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var _,w=x==null?void 0:x[0];return w==null||w.height==null||w.width==null?_=0:_=v==="vertical"?w.height/2:w.width/2,T.createElement(Nne,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Gne,errorBarOffset:_},T.createElement(Xne,Ta({},e,{layout:v,needClip:p,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:u,animationEasing:h,isAnimationActive:f})))}function Zne(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:u,yAxisTicks:h,stackedData:f,displayedData:p,offset:v,cells:g,parentViewBox:b}=e,x=t==="horizontal"?o:a,_=f?x.scale.domain():null,w=MK({numericAxis:x});return p.map((C,S)=>{var O,P,N,j,R,$;f?O=PK(f[S],_):(O=Jr(C,r),Array.isArray(O)||(O=[w,O]));var L=wne(n,p4)(O[1],S);if(t==="horizontal"){var U,[W,Q]=[o.scale(O[0]),o.scale(O[1])];P=SA({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:C,index:S}),N=(U=Q??W)!==null&&U!==void 0?U:void 0,j=i.size;var Y=W-Q;if(R=ei(Y)?0:Y,$={x:P,y:v.top,width:j,height:v.height},Math.abs(L)>0&&Math.abs(R)<Math.abs(L)){var V=mn(R||L)*(Math.abs(L)-Math.abs(R));N-=V,R+=V}}else{var[le,oe]=[a.scale(O[0]),a.scale(O[1])];if(P=le,N=SA({axis:o,ticks:h,bandSize:s,offset:i.offset,entry:C,index:S}),j=oe-le,R=i.size,$={x:v.left,y:N,width:v.width,height:R},Math.abs(L)>0&&Math.abs(j)<Math.abs(L)){var te=mn(j||L)*(Math.abs(L)-Math.abs(j));j+=te}}if(P==null||N==null||j==null||R==null)return null;var ue=Gr(Gr({},C),{},{x:P,y:N,width:j,height:R,value:f?O:O[1],payload:C,background:$,tooltipPosition:{x:P+j/2,y:N+R/2},parentViewBox:b},g&&g[S]&&g[S].props);return ue}).filter(Boolean)}function eie(e){var t=ai(e,Qne),r=Ln();return T.createElement(Yre,{id:t.id,type:"bar"},n=>T.createElement(T.Fragment,null,T.createElement(zre,{legendPayload:$ne(t)}),T.createElement(Ure,{fn:Une,args:t}),T.createElement(ene,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:LK(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),T.createElement(Jne,Ta({},t,{id:n}))))}var m4=T.memo(eie);m4.displayName="Bar";function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tie(e,t,r){return(t=rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iie=(e,t)=>t,sie=(e,t,r)=>r,aie=(e,t,r,n)=>n,oie=(e,t,r,n,i)=>i,Kd=ne([Ow,oie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),lie=ne([Kd],e=>e==null?void 0:e.maxBarSize),uie=(e,t,r,n,i,s)=>s,UN=(e,t,r)=>{var n=r??e;if(!yr(n))return Ti(n,t,0)},cie=ne([mt,Ow,iie,sie,aie],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),die=(e,t,r,n)=>{var i=mt(e);return i==="horizontal"?p_(e,"yAxis",r,n):p_(e,"xAxis",t,n)},hie=(e,t,r)=>{var n=mt(e);return n==="horizontal"?YO(e,"xAxis",t):YO(e,"yAxis",r)},fie=(e,t,r)=>{var n={},i=e.filter(ug),s=e.filter(h=>h.stackId==null),a=i.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),n),o=Object.entries(a).map(h=>{var[f,p]=h,v=p.map(b=>b.dataKey),g=UN(t,r,p[0].barSize);return{stackId:f,dataKeys:v,barSize:g}}),u=s.map(h=>{var f=[h.dataKey].filter(v=>v!=null),p=UN(t,r,h.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...o,...u]},pie=ne([cie,NJ,hie],fie),mie=(e,t,r,n,i)=>{var s,a,o=Kd(e,t,r,n,i);if(o!=null){var u=mt(e),h=SL(e),{maxBarSize:f}=o,p=yr(f)?h:f,v,g;return u==="horizontal"?(v=ql(e,"xAxis",t,n),g=Wl(e,"xAxis",t,n)):(v=ql(e,"yAxis",r,n),g=Wl(e,"yAxis",r,n)),(s=(a=zx(v,g,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},g4=(e,t,r,n)=>{var i=mt(e),s,a;return i==="horizontal"?(s=ql(e,"xAxis",t,n),a=Wl(e,"xAxis",t,n)):(s=ql(e,"yAxis",r,n),a=Wl(e,"yAxis",r,n)),zx(s,a)};function gie(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Ti(e,r,0,!0),o,u=[];if(Ur(n[0].barSize)){var h=!1,f=r/s,p=n.reduce((w,C)=>w+(C.barSize||0),0);p+=(s-1)*a,p>=r&&(p-=(s-1)*a,a=0),p>=r&&f>0&&(h=!0,f*=.9,p=s*f);var v=(r-p)/2>>0,g={offset:v-a,size:0};o=n.reduce((w,C)=>{var S,O={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:g.offset+g.size+a,size:h?f:(S=C.barSize)!==null&&S!==void 0?S:0}},P=[...w,O];return g=P[P.length-1].position,P},u)}else{var b=Ti(t,r,0,!0);r-2*b-(s-1)*a<=0&&(a=0);var x=(r-2*b-(s-1)*a)/s;x>1&&(x>>=0);var _=Ur(i)?Math.min(x,i):x;o=n.reduce((w,C,S)=>[...w,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b+(x+a)*S+(x-_)/2,size:_}}],u)}return o}}var vie=(e,t,r,n,i,s,a)=>{var o=yr(a)?t:a,u=gie(r,n,i!==s?i:s,e,o);return i!==s&&u!=null&&(u=u.map(h=>Vf(Vf({},h),{},{position:Vf(Vf({},h.position),{},{offset:h.position.offset-i/2})}))),u},yie=ne([pie,SL,OJ,CL,mie,g4,lie],vie),bie=(e,t,r,n)=>ql(e,"xAxis",t,n),_ie=(e,t,r,n)=>ql(e,"yAxis",r,n),xie=(e,t,r,n)=>Wl(e,"xAxis",t,n),wie=(e,t,r,n)=>Wl(e,"yAxis",r,n),Eie=ne([yie,Kd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),kie=(e,t)=>{var r=Cw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},Tie=ne([die,Kd],kie),Sie=ne([br,Wx,bie,_ie,xie,wie,Eie,mt,yw,g4,Tie,Kd,uie],(e,t,r,n,i,s,a,o,u,h,f,p,v)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:x}=u;if(!(p==null||a==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||s==null||h==null)){var{data:_}=p,w;if(_!=null&&_.length>0?w=_:w=g==null?void 0:g.slice(b,x+1),w!=null)return Zne({layout:o,barSettings:p,pos:a,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:w,offset:e,cells:v})}}),Cie=e=>{var{chartData:t}=e,r=sr(),n=Ln();return T.useEffect(()=>n?()=>{}:(r(iN(t)),()=>{r(iN(void 0))}),[t,r,n]),null},HN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},v4=Dn({name:"brush",initialState:HN,reducers:{setBrushSettings(e,t){return t.payload==null?HN:t.payload}}}),{setBrushSettings:nve}=v4.actions,Aie=v4.reducer;function Oie(e,t,r){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qw{static create(t){return new Qw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Oie(Qw,"EPS",1e-4);function Iie(e){return(e%180+180)%180}var jie=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Iie(i),a=s*Math.PI/180,o=Math.atan(n/r),u=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},Rie={dots:[],areas:[],lines:[]},y4=Dn({name:"referenceElements",initialState:Rie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ys(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ys(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ys(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ive,removeDot:sve,addArea:ave,removeArea:ove,addLine:lve,removeLine:uve}=y4.actions,Die=y4.reducer,Lie=T.createContext(void 0),Mie=e=>{var{children:t}=e,[r]=T.useState("".concat(dd("recharts"),"-clip")),n=d4();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return T.createElement(Lie.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function Kl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function b4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Fie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jie(n,r)}function Bie(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function mm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function $ie(e,t){return b4(e,t+1)}function Uie(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=t,u=0,h=1,f=a,p=function(){var b=n==null?void 0:n[u];if(b===void 0)return{v:b4(n,h)};var x=u,_,w=()=>(_===void 0&&(_=r(b,x)),_),C=b.coordinate,S=u===0||mm(e,C,w,f,o);S||(u=0,f=a,h+=1),S&&(f=C+e*(w()/2+i),u+=h)},v;h<=s.length;)if(v=p(),v)return v.v;return[]}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qie(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=t,{end:u}=t,h=function(v){var g=s[v],b,x=()=>(b===void 0&&(b=r(g,v)),b);if(v===a-1){var _=e*(g.coordinate+e*x()/2-u);s[v]=g=Fr(Fr({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else s[v]=g=Fr(Fr({},g),{},{tickCoord:g.coordinate});var w=mm(e,g.tickCoord,x,o,u);w&&(u=g.tickCoord-e*(x()/2+i),s[v]=Fr(Fr({},g),{},{isShow:!0}))},f=a-1;f>=0;f--)h(f);return s}function Vie(e,t,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:u,end:h}=t;if(s){var f=n[o-1],p=r(f,o-1),v=e*(f.coordinate+e*p/2-h);a[o-1]=f=Fr(Fr({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate});var g=mm(e,f.tickCoord,()=>p,u,h);g&&(h=f.tickCoord-e*(p/2+i),a[o-1]=Fr(Fr({},f),{},{isShow:!0}))}for(var b=s?o-1:o,x=function(C){var S=a[C],O,P=()=>(O===void 0&&(O=r(S,C)),O);if(C===0){var N=e*(S.coordinate-e*P()/2-u);a[C]=S=Fr(Fr({},S),{},{tickCoord:N<0?S.coordinate-N*e:S.coordinate})}else a[C]=S=Fr(Fr({},S),{},{tickCoord:S.coordinate});var j=mm(e,S.tickCoord,P,u,h);j&&(u=S.tickCoord+e*(P()/2+i),a[C]=Fr(Fr({},S),{},{isShow:!0}))},_=0;_<b;_++)x(_);return a}function Jw(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:u,tickFormatter:h,unit:f,angle:p}=e;if(!i||!i.length||!n)return[];if(Le(u)||ou.isSsr){var v;return(v=$ie(i,Le(u)?u:0))!==null&&v!==void 0?v:[]}var g=[],b=o==="top"||o==="bottom"?"width":"height",x=f&&b==="width"?Kc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(S,O)=>{var P=typeof h=="function"?h(S.value,O):S.value;return b==="width"?Fie(Kc(P,{fontSize:t,letterSpacing:r}),x,p):Kc(P,{fontSize:t,letterSpacing:r})[b]},w=i.length>=2?mn(i[1].coordinate-i[0].coordinate):1,C=Bie(s,w,b);return u==="equidistantPreserveStart"?Uie(w,C,_,i,a):(u==="preserveStart"||u==="preserveStartEnd"?g=Vie(w,C,_,i,a,u==="preserveStartEnd"):g=qie(w,C,_,i,a),g.filter(S=>S.isShow))}var Kie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var o=r?r.getBoundingClientRect().width:0,u=i+s,h=a+u+o+(r?n:0);return Math.round(h)}return 0},Yie=["axisLine","width","height","className","hide","ticks"],Gie=["viewBox"],Xie=["viewBox"];function x_(e,t){if(e==null)return{};var r,n,i=Qie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=ese(e,"string");return typeof t=="symbol"?t:t+""}function ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zw={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function tse(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var h=rr(rr(rr({},u),xs(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);h=rr(rr({},h),{},{x1:t,y1:r+f*i,x2:t+n,y2:r+f*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);h=rr(rr({},h),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return T.createElement("line",So({},h,{className:Pt("recharts-cartesian-axis-line",Bl(o,"className"))}))}function rse(e,t,r,n,i,s,a,o,u){var h,f,p,v,g,b,x=o?-1:1,_=e.tickSize||a,w=Le(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=f=e.coordinate,v=r+ +!o*i,p=v-x*_,b=p-x*u,g=w;break;case"left":p=v=e.coordinate,f=t+ +!o*n,h=f-x*_,g=h-x*u,b=w;break;case"right":p=v=e.coordinate,f=t+ +o*n,h=f+x*_,g=h+x*u,b=w;break;default:h=f=e.coordinate,v=r+ +o*i,p=v+x*_,b=p+x*u,g=w;break}return{line:{x1:h,y1:p,x2:f,y2:v},tick:{x:g,y:b}}}function nse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ise(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function sse(e){var{option:t,tickProps:r,value:n}=e,i,s=Pt(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))i=T.cloneElement(t,rr(rr({},r),{},{className:s}));else if(typeof t=="function")i=t(rr(rr({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Pt(a,t==null?void 0:t.className)),i=T.createElement(Yw,So({},r,{className:a}),n)}return i}function ase(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:u,orientation:h,mirror:f,x:p,y:v,width:g,height:b,tickSize:x,tickMargin:_,fontSize:w,letterSpacing:C,getTicksConfig:S,events:O}=e,P=Jw(rr(rr({},S),{},{ticks:t}),w,C),N=nse(h,f),j=ise(h,f),R=xs(S),$=Ax(r),L={};typeof n=="object"&&(L=n);var U=rr(rr({},R),{},{fill:"none"},L),W=P.map((Q,Y)=>{var{line:V,tick:le}=rse(Q,p,v,g,b,h,x,f,_),oe=rr(rr(rr(rr({textAnchor:N,verticalAnchor:j},R),{},{stroke:"none",fill:i},$),le),{},{index:Y,payload:Q,visibleTicksCount:P.length,tickFormatter:s,padding:o},u);return T.createElement(ka,So({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},Dx(O,Q,Y)),n&&T.createElement("line",So({},U,V,{className:Pt("recharts-cartesian-axis-tick-line",Bl(n,"className"))})),r&&T.createElement(sse,{option:r,tickProps:oe,value:"".concat(typeof s=="function"?s(Q.value,Y):Q.value).concat(a||"")}))});return W.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},W):null}var ose=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o}=e,u=x_(e,Yie),[h,f]=T.useState(""),[p,v]=T.useState(""),g=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Kie({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=T.useCallback(x=>{if(x){var _=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var w=_[0];if(w){var C=window.getComputedStyle(w),S=C.fontSize,O=C.letterSpacing;(S!==h||O!==p)&&(f(S),v(O))}}},[h,p]);return a||n!=null&&n<=0||i!=null&&i<=0?null:T.createElement(ka,{className:Pt("recharts-cartesian-axis",s),ref:b},T.createElement(tse,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xs(e)}),T.createElement(ase,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:e,events:u}),T.createElement(qte,{x:e.x,y:e.y,width:e.width,height:e.height},T.createElement(tre,{label:e.label,labelRef:e.labelRef}),e.children))}),lse=T.memo(ose,(e,t)=>{var{viewBox:r}=e,n=x_(e,Gie),{viewBox:i}=t,s=x_(t,Xie);return Kl(r,i)&&Kl(n,s)}),eE=T.forwardRef((e,t)=>{var r=ai(e,Zw);return T.createElement(lse,So({},r,{ref:t}))});eE.displayName="CartesianAxis";var use=["x1","y1","x2","y2","key"],cse=["offset"],dse=["xAxisId","yAxisId"],hse=["xAxisId","yAxisId"];function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t,r){return(t=pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function gm(e,t){if(e==null)return{};var r,n,i=gse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=e;return T.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _4(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=t,u=gm(t,use),h=xs(u),{offset:f}=h,p=gm(h,cse);r=T.createElement("line",ho({},p,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function yse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=gm(e,dse),u=i.map((h,f)=>{var p=Br(Br({},o),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(f),index:f});return _4(n,p)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function bse(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=gm(e,hse),u=i.map((h,f)=>{var p=Br(Br({},o),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(f),index:f});return _4(n,p)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function _se(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var h=o.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var f=h.map((p,v)=>{var g=!h[v+1],b=g?i+a-p:h[v+1]-p;if(b<=0)return null;var x=v%t.length;return T.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:b,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function xse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var f=h.map((p,v)=>{var g=!h[v+1],b=g?i+a-p:h[v+1]-p;if(b<=0)return null;var x=v%r.length;return T.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:b,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wse=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return cD(Jw(Br(Br(Br({},Zw),r),{},{ticks:dD(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},Ese=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return cD(Jw(Br(Br(Br({},Zw),r),{},{ticks:dD(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},kse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function x4(e){var t=yD(),r=bD(),n=vD(),i=Br(Br({},ai(e,kse)),{},{x:Le(e.x)?e.x:n.left,y:Le(e.y)?e.y:n.top,width:Le(e.width)?e.width:n.width,height:Le(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:u,width:h,height:f,syncWithTicks:p,horizontalValues:v,verticalValues:g}=i,b=Ln(),x=Fe($=>GO($,"xAxis",s,b)),_=Fe($=>GO($,"yAxis",a,b));if(!Le(h)||h<=0||!Le(f)||f<=0||!Le(o)||o!==+o||!Le(u)||u!==+u)return null;var w=i.verticalCoordinatesGenerator||wse,C=i.horizontalCoordinatesGenerator||Ese,{horizontalPoints:S,verticalPoints:O}=i;if((!S||!S.length)&&typeof C=="function"){var P=v&&v.length,N=C({yAxis:_?Br(Br({},_),{},{ticks:P?v:_.ticks}):void 0,width:t,height:r,offset:n},P?!0:p);Yp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}if((!O||!O.length)&&typeof w=="function"){var j=g&&g.length,R=w({xAxis:x?Br(Br({},x),{},{ticks:j?g:x.ticks}):void 0,width:t,height:r,offset:n},j?!0:p);Yp(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(vse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(_se,ho({},i,{horizontalPoints:S})),T.createElement(xse,ho({},i,{verticalPoints:O})),T.createElement(yse,ho({},i,{offset:n,horizontalPoints:S,xAxis:x,yAxis:_})),T.createElement(bse,ho({},i,{offset:n,verticalPoints:O,xAxis:x,yAxis:_})))}x4.displayName="CartesianGrid";var Tse=["dangerouslySetInnerHTML","ticks"],Sse=["id"],Cse=["domain"],Ase=["domain"];function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(null,arguments)}function vm(e,t){if(e==null)return{};var r,n,i=Ose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nse(e){var t=sr();return T.useLayoutEffect(()=>(t(sne(e)),()=>{t(ane(e))}),[e,t]),null}var Pse=e=>{var{xAxisId:t,className:r}=e,n=Fe(Wx),i=Ln(),s="xAxis",a=Fe(_=>pu(_,s,t,i)),o=Fe(_=>v6(_,s,t,i)),u=Fe(_=>f6(_,t)),h=Fe(_=>kZ(_,t)),f=Fe(_=>LL(_,t));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,g=vm(e,Tse),{id:b}=f,x=vm(f,Sse);return T.createElement(eE,w_({},g,x,{scale:a,x:h.x,y:h.y,width:u.width,height:u.height,className:Pt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Ise={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,height:kn.height,hide:!1,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tickCount:kn.tickCount,type:kn.type,xAxisId:0},jse=e=>{var t,r,n,i,s,a=ai(e,Ise);return T.createElement(T.Fragment,null,T.createElement(Nse,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),T.createElement(Pse,a))},Rse=(e,t)=>{var{domain:r}=e,n=vm(e,Cse),{domain:i}=t,s=vm(t,Ase);return Kl(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Kl({domain:r},{domain:i}):!1},w4=T.memo(jse,Rse);w4.displayName="XAxis";var Dse=["dangerouslySetInnerHTML","ticks"],Lse=["id"],Mse=["domain"],Fse=["domain"];function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(null,arguments)}function ym(e,t){if(e==null)return{};var r,n,i=Bse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $se(e){var t=sr();return T.useLayoutEffect(()=>(t(one(e)),()=>{t(lne(e))}),[e,t]),null}var Use=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=T.useRef(null),a=T.useRef(null),o=Fe(Wx),u=Ln(),h=sr(),f="yAxis",p=Fe(P=>pu(P,f,t,u)),v=Fe(P=>p6(P,t)),g=Fe(P=>SZ(P,t)),b=Fe(P=>v6(P,f,t,u)),x=Fe(P=>ML(P,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Gw(i)||T.isValidElement(i)||x==null)){var P=s.current;if(P){var N=P.getCalculatedWidth();Math.round(v.width)!==Math.round(N)&&h(une({id:t,width:N}))}}},[b,v,h,i,t,n,x]),v==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:_,ticks:w}=e,C=ym(e,Dse),{id:S}=x,O=ym(x,Lse);return T.createElement(eE,E_({},C,O,{ref:s,labelRef:a,scale:p,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:Pt("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:b}))},Hse={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,hide:!1,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tickCount:Tn.tickCount,type:Tn.type,width:Tn.width,yAxisId:0},zse=e=>{var t,r,n,i,s,a=ai(e,Hse);return T.createElement(T.Fragment,null,T.createElement($se,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),T.createElement(Use,a))},Wse=(e,t)=>{var{domain:r}=e,n=ym(e,Mse),{domain:i}=t,s=ym(t,Fse);return Kl(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Kl({domain:r},{domain:i}):!1},E4=T.memo(zse,Wse);E4.displayName="YAxis";var kb={exports:{}},Tb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function qse(){if(VN)return Tb;VN=1;var e=Ql();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return Tb.useSyncExternalStoreWithSelector=function(u,h,f,p,v){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function _(P){if(!w){if(w=!0,C=P,P=p(P),v!==void 0&&b.hasValue){var N=b.value;if(v(N,P))return S=N}return S=P}if(N=S,r(C,P))return N;var j=p(P);return v!==void 0&&v(N,j)?(C=P,N):(C=P,S=j)}var w=!1,C,S,O=f===void 0?null:f;return[function(){return _(h())},O===null?void 0:function(){return _(O())}]},[h,f,p,v]);var x=n(u,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=x},[x]),o(x),x},Tb}var KN;function Vse(){return KN||(KN=1,kb.exports=qse()),kb.exports}Vse();function Kse(e){e()}function Yse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Kse(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var YN={notify(){},get:()=>[]};function Gse(e,t){let r,n=YN,i=0,s=!1;function a(x){f();const _=n.subscribe(x);let w=!1;return()=>{w||(w=!0,_(),p())}}function o(){n.notify()}function u(){b.onStateChange&&b.onStateChange()}function h(){return s}function f(){i++,r||(r=e.subscribe(u),n=Yse())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=YN)}function v(){s||(s=!0,f())}function g(){s&&(s=!1,p())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:h,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return b}var Xse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qse=Xse(),Jse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Zse=Jse(),eae=()=>Qse||Zse?T.useLayoutEffect:T.useEffect,tae=eae(),Sb=Symbol.for("react-redux-context"),Cb=typeof globalThis<"u"?globalThis:{};function rae(){if(!T.createContext)return{};const e=Cb[Sb]??(Cb[Sb]=new Map);let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var nae=rae();function iae(e){const{children:t,context:r,serverState:n,store:i}=e,s=T.useMemo(()=>{const u=Gse(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),a=T.useMemo(()=>i.getState(),[i]);tae(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const o=r||nae;return T.createElement(o.Provider,{value:s},t)}var sae=iae,aae=(e,t)=>t,tE=ne([aae,mt,jL,lr,R6,Ds,Nee,br],Dee),rE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},k4=ti("mouseClick"),T4=Dd();T4.startListening({actionCreator:k4,effect:(e,t)=>{var r=e.payload,n=tE(t.getState(),rE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(BZ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var k_=ti("mouseMove"),S4=Dd();S4.startListening({actionCreator:k_,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Fw(n,n.tooltip.settings.shared),s=tE(n,rE(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(T6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(k6()))}});var GN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},C4=Dn({name:"rootProps",initialState:GN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:GN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),oae=C4.reducer,{updateOptions:lae}=C4.actions,A4=Dn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:cve}=A4.actions,uae=A4.reducer,O4=ti("keyDown"),N4=ti("focus"),nE=Dd();nE.startListening({actionCreator:O4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Bw(i,gu(r))),o=Ds(r);if(s==="Enter"){var u=cm(r,"axis","hover",String(i.index));t.dispatch(g_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var h=NZ(r),f=h==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=a+p*f;if(!(o==null||v>=o.length||v<0)){var g=cm(r,"axis","hover",String(v));t.dispatch(g_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});nE.startListening({actionCreator:N4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=cm(r,"axis","hover",String(s));t.dispatch(g_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Vn=ti("externalEvent"),P4=Dd();P4.startListening({actionCreator:Vn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:xee(r),activeDataKey:F6(r),activeIndex:Vl(r),activeLabel:M6(r),activeTooltipIndex:Vl(r),isTooltipActive:wee(r)};e.payload.handler(n,e.payload.reactEvent)}}});var cae=ne([mu],e=>e.tooltipItemPayloads),dae=ne([cae,qd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),I4=ti("touchMove"),j4=Dd();j4.startListening({actionCreator:I4,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Fw(n,n.tooltip.settings.shared);if(i==="axis"){var s=tE(n,rE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(T6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(qK),f=(a=u.getAttribute(VK))!==null&&a!==void 0?a:void 0,p=dae(t.getState(),h,f);t.dispatch(E6({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}});var hae=FR({brush:Aie,cartesianAxis:cne,chartData:Jee,errorBars:kne,graphicalItems:Zre,layout:pK,legend:kY,options:Kee,polarAxis:vre,polarOptions:uae,referenceElements:Die,rootProps:oae,tooltip:$Z}),fae=function(t){return BV({reducer:hae,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([T4.middleware,S4.middleware,nE.middleware,P4.middleware,j4.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(XR({type:"raf"}))},devTools:ou.devToolsEnabled})};function pae(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ln(),s=T.useRef(null);if(i)return r;s.current==null&&(s.current=fae(t));var a=Mx;return T.createElement(sae,{context:a,store:s.current},r)}function mae(e){var{layout:t,margin:r}=e,n=sr(),i=Ln();return T.useEffect(()=>{i||(n(dK(t)),n(cK(r)))},[n,i,t,r]),null}function gae(e){var t=sr();return T.useEffect(()=>{t(lae(e))},[t,e]),null}var vae=["children"];function yae(e,t){if(e==null)return{};var r,n,i=bae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(null,arguments)}var _ae={width:"100%",height:"100%",display:"block"},xae=T.forwardRef((e,t)=>{var r=yD(),n=bD(),i=xD();if(!$l(r)||!$l(n))return null;var{children:s,otherAttributes:a,title:o,desc:u}=e,h,f;return typeof a.tabIndex=="number"?h=a.tabIndex:h=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0,T.createElement(nR,bm({},a,{title:o,desc:u,role:f,tabIndex:h,width:r,height:n,style:_ae,ref:t}),s)}),wae=e=>{var{children:t}=e,r=Fe(Gm);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return T.createElement(nR,{width:n,height:i,x:a,y:s},t)},XN=T.forwardRef((e,t)=>{var{children:r}=e,n=yae(e,vae),i=Ln();return i?T.createElement(wae,null,r):T.createElement(xae,bm({ref:t},n),r)});function Eae(){var e=sr(),[t,r]=T.useState(null),n=Fe(WK);return T.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ur(s)&&s!==n&&e(fK(s))}},[t,e,n]),r}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){Tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tae(e,t,r){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(null,arguments)}var Aae=()=>(ote(),null);function _m(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Oae=T.forwardRef((e,t)=>{var r,n,i=T.useRef(null),[s,a]=T.useState({containerWidth:_m((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_m((n=e.style)===null||n===void 0?void 0:n.height)}),o=T.useCallback((h,f)=>{a(p=>{var v=Math.round(h),g=Math.round(f);return p.containerWidth===v&&p.containerHeight===g?p:{containerWidth:v,containerHeight:g}})},[]),u=T.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();o(f,p);var v=b=>{var{width:x,height:_}=b[0].contentRect;o(x,_)},g=new ResizeObserver(v);g.observe(h),i.current=g}},[t,o]);return T.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(Qm,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Co({ref:u},e)))}),Nae=T.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=T.useState({containerWidth:_m(r),containerHeight:_m(n)}),a=T.useCallback((u,h)=>{s(f=>{var p=Math.round(u),v=Math.round(h);return f.containerWidth===p&&f.containerHeight===v?f:{containerWidth:p,containerHeight:v}})},[]),o=T.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:f}=u.getBoundingClientRect();a(h,f)}},[t,a]);return T.createElement(T.Fragment,null,T.createElement(Qm,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Co({ref:o},e)))}),Pae=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return T.createElement(T.Fragment,null,T.createElement(Qm,{width:r,height:n}),T.createElement("div",Co({ref:t},e)))}),Iae=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return ws(r)||ws(n)?T.createElement(Nae,Co({},e,{ref:t})):T.createElement(Pae,Co({},e,{ref:t}))});function jae(e){return e===!0?Oae:Iae}var Rae=T.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:u,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:v,onTouchEnd:g,onTouchMove:b,onTouchStart:x,style:_,width:w,responsive:C,dispatchTouchEvents:S=!0}=e,O=T.useRef(null),P=sr(),[N,j]=T.useState(null),[R,$]=T.useState(null),L=Eae(),U=qx(),W=(U==null?void 0:U.width)>0?U.width:w,Q=(U==null?void 0:U.height)>0?U.height:i,Y=T.useCallback(ae=>{L(ae),typeof t=="function"&&t(ae),j(ae),$(ae),ae!=null&&(O.current=ae)},[L,t,j,$]),V=T.useCallback(ae=>{P(k4(ae)),P(Vn({handler:s,reactEvent:ae}))},[P,s]),le=T.useCallback(ae=>{P(k_(ae)),P(Vn({handler:h,reactEvent:ae}))},[P,h]),oe=T.useCallback(ae=>{P(k6()),P(Vn({handler:f,reactEvent:ae}))},[P,f]),te=T.useCallback(ae=>{P(k_(ae)),P(Vn({handler:p,reactEvent:ae}))},[P,p]),ue=T.useCallback(()=>{P(N4())},[P]),D=T.useCallback(ae=>{P(O4(ae.key))},[P]),q=T.useCallback(ae=>{P(Vn({handler:a,reactEvent:ae}))},[P,a]),X=T.useCallback(ae=>{P(Vn({handler:o,reactEvent:ae}))},[P,o]),F=T.useCallback(ae=>{P(Vn({handler:u,reactEvent:ae}))},[P,u]),_e=T.useCallback(ae=>{P(Vn({handler:v,reactEvent:ae}))},[P,v]),Te=T.useCallback(ae=>{P(Vn({handler:x,reactEvent:ae}))},[P,x]),Ne=T.useCallback(ae=>{S&&P(I4(ae)),P(Vn({handler:b,reactEvent:ae}))},[P,S,b]),Xe=T.useCallback(ae=>{P(Vn({handler:g,reactEvent:ae}))},[P,g]),Ye=jae(C);return T.createElement(W6.Provider,{value:N},T.createElement(CW.Provider,{value:R},T.createElement(Ye,{width:W??(_==null?void 0:_.width),height:Q??(_==null?void 0:_.height),className:Pt("recharts-wrapper",n),style:kae({position:"relative",cursor:"default",width:W,height:Q},_),onClick:V,onContextMenu:q,onDoubleClick:X,onFocus:ue,onKeyDown:D,onMouseDown:F,onMouseEnter:le,onMouseLeave:oe,onMouseMove:te,onMouseUp:_e,onTouchEnd:Xe,onTouchMove:Ne,onTouchStart:Te,ref:Y},T.createElement(Aae,null),r)))}),Dae=["width","height","responsive","children","className","style","compact","title","desc"];function Lae(e,t){if(e==null)return{};var r,n,i=Mae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Mae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fae=T.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:u,title:h,desc:f}=e,p=Lae(e,Dae),v=xs(p);return u?T.createElement(T.Fragment,null,T.createElement(Qm,{width:r,height:n}),T.createElement(XN,{otherAttributes:v,title:h,desc:f},s)):T.createElement(Rae,{className:a,style:o,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(XN,{otherAttributes:v,title:h,desc:f,ref:t},T.createElement(Mie,null,s)))});function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}var Bae={top:5,right:5,bottom:5,left:5},$ae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Uae=T.forwardRef(function(t,r){var n,i=ai(t.categoricalChartProps,$ae),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:h}=t,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(pae,{preloadedState:{options:f},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},T.createElement(Cie,{chartData:h.data}),T.createElement(mae,{layout:i.layout,margin:i.margin}),T.createElement(gae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(Fae,T_({},i,{ref:r})))}),Hae=["axis","item"],zae=T.forwardRef((e,t)=>T.createElement(Uae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hae,tooltipPayloadSearcher:qee,categoricalChartProps:e,ref:t}));function Wae({sections:e}){const t=e.map(i=>({name:i.title.length>20?i.title.substring(0,20)+"...":i.title,fullName:i.title,rate:parseFloat(i.completion_rate)||0,completed:i.completed_by,total:i.total_users})).sort((i,s)=>i.rate-s.rate),r=i=>i>=75?"#48bb78":i>=50?"#4299e1":i>=25?"#ed8936":"#f56565",n=({active:i,payload:s})=>{if(i&&s&&s.length){const a=s[0].payload;return d.jsxs("div",{className:"custom-tooltip",children:[d.jsx("p",{className:"tooltip-title",children:a.fullName}),d.jsxs("p",{className:"tooltip-value",children:["Completion: ",a.rate.toFixed(1),"%"]}),d.jsxs("p",{className:"tooltip-detail",children:[a.completed," of ",a.total," users"]})]})}return null};return d.jsxs("div",{className:"section-stats",children:[d.jsxs("div",{className:"section-stats-header",children:[d.jsx("h2",{children:"Section Completion Rates"}),d.jsx("p",{children:"Identify sections with low completion (potential issues)"})]}),d.jsx("div",{className:"chart-container",children:d.jsx(bY,{width:"100%",height:400,children:d.jsxs(zae,{data:t,layout:"vertical",margin:{left:120,right:20,top:20,bottom:20},children:[d.jsx(x4,{strokeDasharray:"3 3",horizontal:!1}),d.jsx(w4,{type:"number",domain:[0,100]}),d.jsx(E4,{type:"category",dataKey:"name",width:110,tick:{fontSize:12}}),d.jsx(mte,{content:d.jsx(n,{})}),d.jsx(m4,{dataKey:"rate",radius:[0,4,4,0],children:t.map((i,s)=>d.jsx(Kw,{fill:r(i.rate)},`cell-${s}`))})]})})}),d.jsxs("div",{className:"legend",children:[d.jsxs("div",{className:"legend-item",children:[d.jsx("span",{className:"legend-color",style:{background:"#48bb78"}}),d.jsx("span",{children:"75%+ (Good)"})]}),d.jsxs("div",{className:"legend-item",children:[d.jsx("span",{className:"legend-color",style:{background:"#4299e1"}}),d.jsx("span",{children:"50-75% (Fair)"})]}),d.jsxs("div",{className:"legend-item",children:[d.jsx("span",{className:"legend-color",style:{background:"#ed8936"}}),d.jsx("span",{children:"25-50% (Low)"})]}),d.jsxs("div",{className:"legend-item",children:[d.jsx("span",{className:"legend-color",style:{background:"#f56565"}}),d.jsx("span",{children:"<25% (Critical)"})]})]})]})}function qae(){var N;const[e,t]=T.useState([]),[r,n]=T.useState([]),[i,s]=T.useState(!0),[a,o]=T.useState(!1),[u,h]=T.useState(""),[f,p]=T.useState(""),[v,g]=T.useState("$"),[b,x]=T.useState("Higher Pay"),[_,w]=T.useState(0);T.useEffect(()=>{C()},[]);const C=async()=>{try{s(!0);const{data:j,error:R}=await it.from("task_inspiration").select("category, subcategory").order("category").order("subcategory");if(R)throw R;const $=new Map;j.forEach(({category:Q,subcategory:Y})=>{$.has(Q)||$.set(Q,new Set),Y&&$.get(Q).add(Y)});const L=Array.from($.entries()).map(([Q,Y])=>({category:Q,subcategories:Array.from(Y).sort()}));t(L);const{data:U,error:W}=await it.from("task_priorities").select("*").order("display_order").order("category");if(W)throw W;n(U||[])}catch(j){console.error("Error fetching data:",j)}finally{s(!1)}},S=async j=>{if(j.preventDefault(),!!u)try{o(!0);const{error:R}=await it.from("task_priorities").insert({category:u,subcategory:f||null,is_highlighted:!0,priority_tag:v||null,tag_label:b||null,display_order:_});if(R){if(R.code==="23505"){alert("This category/subcategory combination already has a priority setting.");return}throw R}h(""),p(""),g("$"),x("Higher Pay"),w(0),await C()}catch(R){console.error("Error adding priority:",R),alert("Failed to add priority: "+R.message)}finally{o(!1)}},O=async j=>{if(confirm("Remove this priority setting?"))try{const{error:R}=await it.from("task_priorities").delete().eq("id",j);if(R)throw R;await C()}catch(R){console.error("Error deleting priority:",R),alert("Failed to delete priority: "+R.message)}},P=((N=e.find(j=>j.category===u))==null?void 0:N.subcategories)||[];return i?d.jsx("div",{className:"task-priorities-loading",children:"Loading..."}):d.jsxs("div",{className:"task-priorities",children:[d.jsxs("div",{className:"priorities-header",children:[d.jsx("h2",{children:"Task Priorities & Highlighting"}),d.jsx("p",{children:"Highlight task categories to make them more visible to ECs. Add tags like $ to indicate higher pay opportunities."})]}),d.jsxs("div",{className:"priorities-content",children:[d.jsxs("div",{className:"add-priority-section",children:[d.jsx("h3",{children:"Add New Priority"}),d.jsxs("form",{onSubmit:S,className:"priority-form",children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"category",children:"Category *"}),d.jsxs("select",{id:"category",value:u,onChange:j=>{h(j.target.value),p("")},required:!0,children:[d.jsx("option",{value:"",children:"Select category..."}),e.map(({category:j})=>d.jsx("option",{value:j,children:j},j))]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"subcategory",children:"Subcategory (optional)"}),d.jsxs("select",{id:"subcategory",value:f,onChange:j=>p(j.target.value),disabled:!u,children:[d.jsx("option",{value:"",children:"All subcategories"}),P.map(j=>d.jsx("option",{value:j,children:j},j))]})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"priorityTag",children:"Tag (shown in corner)"}),d.jsxs("select",{id:"priorityTag",value:v,onChange:j=>g(j.target.value),children:[d.jsx("option",{value:"",children:"No tag"}),d.jsx("option",{value:"$",children:"$ (Standard)"}),d.jsx("option",{value:"$$",children:"$$ (Higher)"}),d.jsx("option",{value:"$$$",children:"$$$ (Highest)"}),d.jsx("option",{value:"",children:" (Diamond)"}),d.jsx("option",{value:"",children:" (Hot)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"tagLabel",children:"Tag Label (hover text)"}),d.jsx("input",{type:"text",id:"tagLabel",value:b,onChange:j=>x(j.target.value),placeholder:"e.g., Higher Pay, Urgent"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"displayOrder",children:"Display Order"}),d.jsx("input",{type:"number",id:"displayOrder",value:_,onChange:j=>w(parseInt(j.target.value)),min:"0",placeholder:"0 = highest"})]})]}),d.jsx(He,{type:"submit",variant:"primary",loading:a,disabled:!u,children:"Add Priority"})]})]}),d.jsxs("div",{className:"priorities-list-section",children:[d.jsxs("h3",{children:["Current Priorities (",r.length,")"]}),r.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No task priorities configured yet."})}):d.jsx("div",{className:"priorities-table",children:d.jsxs("table",{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Order"}),d.jsx("th",{children:"Category"}),d.jsx("th",{children:"Subcategory"}),d.jsx("th",{children:"Tag"}),d.jsx("th",{children:"Label"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:r.map(j=>d.jsxs("tr",{children:[d.jsx("td",{children:j.display_order}),d.jsx("td",{className:"category-cell",children:j.category}),d.jsx("td",{children:j.subcategory||d.jsx("em",{children:"All"})}),d.jsx("td",{className:"tag-cell",children:j.priority_tag&&d.jsx("span",{className:"preview-tag",title:j.tag_label,children:j.priority_tag})}),d.jsx("td",{children:j.tag_label}),d.jsx("td",{children:d.jsx(He,{variant:"danger",size:"sm",onClick:()=>O(j.id),children:"Remove"})})]},j.id))})]})})]})]})]})}function Vae(){const{user:e,profile:t}=ii(),r=pt(),[n,i]=T.useState("overview"),[s,a]=T.useState(!0),[o,u]=T.useState(null),[h,f]=T.useState([]),[p,v]=T.useState([]),g=Id(tz,2200),b=(t==null?void 0:t.is_admin)||!1;T.useEffect(()=>{if(!b){r("/");return}x()},[b,r]);const x=async()=>{try{a(!0);const{data:_,error:w}=await it.from("v_admin_user_stats").select("*").order("created_at",{ascending:!1});if(w)throw w;f(_||[]);const{data:C,error:S}=await it.from("v_section_stats").select("*").order("display_order");if(S)throw S;v(C||[]);const O=(_==null?void 0:_.filter(L=>L.status==="active").length)||0,P=(_==null?void 0:_.filter(L=>L.status==="active"||L.status==="inactive").length)||0,N=(_==null?void 0:_.reduce((L,U)=>L+(parseFloat(U.completion_percentage)||0),0))/((_==null?void 0:_.length)||1),j=new Date,R=new Date(j.getTime()-10080*60*1e3),$=(_==null?void 0:_.filter(L=>new Date(L.created_at)>R).length)||0;u({totalUsers:(_==null?void 0:_.length)||0,activeUsers7d:O,activeUsers30d:P,avgCompletion:Math.round(N),newUsers7d:$})}catch(_){console.error("Error fetching dashboard data:",_)}finally{a(!1)}};return b?s?d.jsx("div",{className:"admin-loading",children:d.jsx(su,{size:"lg",message:g})}):d.jsxs("div",{className:"admin-dashboard",children:[d.jsxs("div",{className:"admin-header",children:[d.jsxs("div",{children:[d.jsx("h1",{children:"Admin Dashboard"}),d.jsx("p",{children:"Monitor EC progress and engagement"})]}),d.jsx(He,{variant:"ghost",onClick:()=>r("/"),children:" Back to Home"})]}),d.jsxs("div",{className:"admin-tabs",children:[d.jsx("button",{className:`admin-tab ${n==="overview"?"active":""}`,onClick:()=>i("overview"),children:"Overview"}),d.jsx("button",{className:`admin-tab ${n==="users"?"active":""}`,onClick:()=>i("users"),children:"User Progress"}),d.jsx("button",{className:`admin-tab ${n==="sections"?"active":""}`,onClick:()=>i("sections"),children:"Section Stats"}),d.jsx("button",{className:`admin-tab ${n==="priorities"?"active":""}`,onClick:()=>i("priorities"),children:"Task Priorities"})]}),d.jsxs("div",{className:"admin-content",children:[n==="overview"&&o&&d.jsx(vW,{stats:o}),n==="users"&&d.jsx(yW,{users:h}),n==="sections"&&d.jsx(Wae,{sections:p}),n==="priorities"&&d.jsx(qae,{})]})]}):null}function Kae(e){return si({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function Yae(e){return si({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function Gae(e){return si({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Xae(e){return si({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}const Qae=["Machine Learning","Data Science","Cyber Security","Full Stack Web","System Design","Cloud Infrastructure","Algorithms","Database Optimization","Mobile Development","Distributed Systems","Frontend Architecture","Backend Development","Reverse Engineering","Penetration Testing","NLP","Computer Vision","Embedded Systems","Blockchain","Game Development","AR/VR","Operating Systems","Compilers","Cryptography","Bioinformatics","Robotics","Quantum Computing","IoT","Edge Computing"],Jae=()=>{var D,q;const{user:e,profile:t,updateProfile:r,signOut:n,deleteAccount:i}=ii(),s=pt();au();const[a,o]=T.useState({first_name:"",last_name:"",bio:"",linkedin_url:"",github_username:"",website_url:"",specialties:[]}),[u,h]=T.useState(""),[f,p]=T.useState([]),[v,g]=T.useState(!1),[b,x]=T.useState(null),[_,w]=T.useState(!1),[C,S]=T.useState(!1),[O,P]=T.useState(""),[N,j]=T.useState(!1),[R,$]=T.useState({onboarding_completed:!1,slack_joined:!1,payments_setup:!1,dev_env_setup:!1});T.useEffect(()=>{t&&(o({first_name:t.first_name||"",last_name:t.last_name||"",bio:t.bio||"",linkedin_url:t.linkedin_url||"",github_username:t.github_username||"",website_url:t.website_url||"",specialties:t.specialties||[]}),$({onboarding_completed:t.onboarding_completed||!1,slack_joined:t.slack_joined||!1,payments_setup:t.payments_setup||!1,dev_env_setup:t.dev_env_setup||!1}))},[t]);const L=X=>{o({...a,[X.target.name]:X.target.value})},U=X=>{const F=X.target.value;if(h(F),F.length>0){const _e=Qae.filter(Te=>Te.toLowerCase().includes(F.toLowerCase())&&!a.specialties.includes(Te));p(_e)}else p([])},W=X=>{X.key==="Enter"&&u.trim()&&(X.preventDefault(),Q(u.trim()))},Q=X=>{X&&!a.specialties.includes(X)&&(o(F=>({...F,specialties:[...F.specialties,X]})),h(""),p([]))},Y=X=>{o(F=>({...F,specialties:F.specialties.filter(_e=>_e!==X)}))},V=async X=>{X.preventDefault(),g(!0),x(null);const{error:F}=await r(a);g(!1),F?x({type:"error",text:"Failed to update profile"}):(x({type:"success",text:"Profile updated successfully"}),setTimeout(()=>x(null),3e3))},le=async()=>{if(O==="DELETE"){S(!0),x(null);try{const{error:X}=await i();if(X)throw X;s("/",{replace:!0})}catch(X){console.error("Error deleting account:",X),x({type:"error",text:"Failed to delete account. Please try again or reach out to Snorkel."}),S(!1),j(!1),P("")}}},oe=()=>{j(!1),P("")};if(!t)return d.jsx("div",{className:"loading",children:"Loading profile..."});const te=`${a.first_name} ${a.last_name}`.trim()||((D=t.email)==null?void 0:D.split("@")[0]),ue=te.split(" ").map(X=>X[0]).join("").toUpperCase().slice(0,2);return d.jsxs("div",{className:"profile-page",children:[d.jsxs("div",{className:"profile-header-card",children:[d.jsx("div",{className:"profile-avatar-wrapper",children:t.github_avatar_url?d.jsx("img",{src:t.github_avatar_url,alt:"Profile",className:"profile-avatar"}):d.jsx("div",{className:"profile-avatar-placeholder",children:ue})}),d.jsxs("div",{className:"profile-info",children:[d.jsx("h1",{children:te}),d.jsxs("div",{className:"profile-meta",children:[d.jsxs("span",{className:"meta-item",children:[d.jsx(Xae,{})," ",t.email]}),t.github_username&&d.jsxs("span",{className:"meta-item",children:[d.jsx(Kae,{})," ",t.github_username]}),a.linkedin_url&&d.jsxs("a",{href:a.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"meta-item",children:[d.jsx(Yae,{})," LinkedIn"]})]})]})]}),b&&d.jsxs("div",{className:`toast-message ${b.type==="error"?"error":"success"}`,children:[b.type==="success"&&d.jsx(Gae,{style:{color:"#4CAF50"}}),b.text]}),d.jsx("div",{className:"profile-grid",children:d.jsxs("div",{className:"profile-main",children:[d.jsx("section",{className:"profile-card",children:d.jsxs("form",{onSubmit:V,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"First Name"}),d.jsx("input",{type:"text",name:"first_name",value:a.first_name,onChange:L,placeholder:"Jane"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Last Name"}),d.jsx("input",{type:"text",name:"last_name",value:a.last_name,onChange:L,placeholder:"Doe"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Bio"}),d.jsx("textarea",{name:"bio",value:a.bio,onChange:L,placeholder:"Tell us a bit about yourself...",rows:4})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"LinkedIn URL"}),d.jsx("input",{type:"url",name:"linkedin_url",value:a.linkedin_url,onChange:L,placeholder:"https://linkedin.com/in/..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"GitHub Username"}),d.jsx("input",{type:"text",name:"github_username",value:a.github_username,onChange:L,placeholder:"username",disabled:((q=e==null?void 0:e.app_metadata)==null?void 0:q.provider)==="github"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Portfolio / Website"}),d.jsx("input",{type:"url",name:"website_url",value:a.website_url,onChange:L,placeholder:"https://..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Areas of expertise"}),d.jsxs("div",{className:"tags-input-container",style:{position:"relative"},children:[d.jsx("div",{className:"tags-list",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"8px"},children:a.specialties.map(X=>d.jsxs("span",{className:"tag-pill",children:[X," ",d.jsx("button",{type:"button",onClick:()=>Y(X),className:"tag-remove",children:""})]},X))}),d.jsx("input",{type:"text",value:u,onChange:U,onKeyDown:W,placeholder:"Type to search or add your own...",className:"tag-input-field",style:{width:"100%"}}),f.length>0&&d.jsx("div",{className:"specialties-suggestions",style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:f.map((X,F)=>d.jsx("div",{onClick:()=>Q(X),style:{padding:"10px 16px",cursor:"pointer",borderBottom:F<f.length-1?"1px solid var(--border-color)":"none",transition:"background-color 0.2s"},onMouseEnter:_e=>_e.target.style.backgroundColor="var(--bg-secondary)",onMouseLeave:_e=>_e.target.style.backgroundColor="transparent",children:X},F))})]})]}),d.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:d.jsx(He,{type:"submit",variant:"primary",loading:v,children:"Save Changes"})})]})}),d.jsxs("section",{className:"profile-card danger-zone",children:[d.jsxs("div",{className:"danger-header",onClick:()=>w(!_),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("h2",{style:{margin:0,border:"none",padding:0},children:"Danger Zone"}),d.jsx("span",{style:{transform:_?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),_&&d.jsx("div",{className:"danger-actions",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255, 68, 68, 0.25)"},children:N?d.jsxs("div",{className:"delete-confirm-flow",style:{width:"100%"},children:[d.jsxs("div",{className:"danger-warning",style:{backgroundColor:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[d.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:600,color:"var(--color-error)"},children:"This action is irreversible"}),d.jsx("small",{style:{color:"var(--text-secondary)"},children:"Deleting your account will permanently remove all your data including your profile, progress, and selected tasks. This cannot be undone."})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[d.jsxs("label",{style:{marginBottom:"0.5rem",display:"block"},children:["Type ",d.jsx("strong",{children:"DELETE"})," to confirm:"]}),d.jsx("input",{type:"text",value:O,onChange:X=>P(X.target.value),placeholder:"DELETE",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)"},disabled:C})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[d.jsx(He,{variant:"secondary",onClick:oe,disabled:C,children:"Cancel"}),d.jsx(He,{variant:"danger",onClick:le,disabled:O!=="DELETE"||C,loading:C,children:C?"Deleting...":"Permanently Delete Account"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"danger-text",children:[d.jsx("p",{children:"Delete Account"}),d.jsx("small",{children:"Permanently remove your account and all associated data."})]}),d.jsx(He,{variant:"danger",onClick:()=>j(!0),children:"Delete Account"})]})})]})]})})]})};function Zae(e=[],t={}){const[r,n]=T.useState({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:"",...t}),[i,s]=T.useState("priority"),a=T.useCallback(f=>{n(p=>({...p,search:f||""}))},[]),o=T.useCallback(()=>{n(f=>({...f,search:""}))},[]),u=T.useCallback(()=>{n({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},[]),h=T.useMemo(()=>e.filter(p=>{var v,g,b,x,_;if(p.is_selected||r.priorityOnly&&!p.is_highlighted||r.categories.length>0&&!r.categories.includes(p.category)||r.subcategories.length>0&&!r.subcategories.includes(p.subcategory))return!1;if(r.difficulties.length>0){const w=((v=p.difficulty)==null?void 0:v.toLowerCase())||"unknown";if(!r.difficulties.includes(w))return!1}if(r.search){const w=r.search.toLowerCase(),C=(g=p.category)==null?void 0:g.toLowerCase().includes(w),S=(b=p.subcategory)==null?void 0:b.toLowerCase().includes(w),O=(x=p.subsubcategory)==null?void 0:x.toLowerCase().includes(w),P=(_=p.description)==null?void 0:_.toLowerCase().includes(w);if(!C&&!S&&!O&&!P)return!1}return!0}).sort((p,v)=>{var g,b,x,_;switch(i){case"priority":return p.is_highlighted!==v.is_highlighted?p.is_highlighted?-1:1:p.display_order!==v.display_order?(p.display_order||999)-(v.display_order||999):(p.category||"").localeCompare(v.category||"");case"difficulty_asc":{const w={easy:1,medium:2,hard:3,unknown:4},C=w[(g=p.difficulty)==null?void 0:g.toLowerCase()]||4,S=w[(b=v.difficulty)==null?void 0:b.toLowerCase()]||4;return C!==S?C-S:0}case"difficulty_desc":{const w={easy:1,medium:2,hard:3,unknown:0},C=w[(x=p.difficulty)==null?void 0:x.toLowerCase()]||0,S=w[(_=v.difficulty)==null?void 0:_.toLowerCase()]||0;return C!==S?S-C:0}case"alpha_asc":return(p.subcategory||p.description||"").localeCompare(v.subcategory||v.description||"");default:return 0}}),[e,r,i]);return{filters:r,setFilters:n,sortOption:i,setSortOption:s,filteredTasks:h,applySearch:a,clearSearch:o,clearAllFilters:u}}const eoe=T.forwardRef(function({onSubmit:t,onClear:r,placeholder:n="Search tasks... (press Enter)",initialValue:i="",variant:s="default"},a){const[o,u]=T.useState(!1),[h,f]=T.useState(!!i),p=T.useRef(null);T.useImperativeHandle(a,()=>({focus:()=>{var w;return(w=p.current)==null?void 0:w.focus()},getValue:()=>{var w;return((w=p.current)==null?void 0:w.value)||""},setValue:w=>{p.current&&(p.current.value=w,f(!!w))},clear:()=>{p.current&&(p.current.value="",f(!1))}}));const v=T.useMemo(()=>{var w,C;return typeof navigator>"u"?!1:(w=navigator.userAgentData)!=null&&w.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((C=navigator.platform)==null?void 0:C.toLowerCase().includes("mac"))??!1},[]);T.useEffect(()=>{const w=C=>{var S;(C.metaKey||C.ctrlKey)&&C.key==="k"&&(C.preventDefault(),(S=p.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const g=T.useCallback(w=>{var C,S;if(w.key==="Enter"){w.preventDefault();const O=((C=p.current)==null?void 0:C.value)||"";t==null||t(O)}else w.key==="Escape"&&((S=p.current)==null||S.blur())},[t]),b=T.useCallback(()=>{var w;f(!!((w=p.current)!=null&&w.value))},[]),x=T.useCallback(()=>{u(!0)},[]),_=T.useCallback(()=>{u(!1)},[]);return T.useCallback(()=>{p.current&&(p.current.value="",f(!1),p.current.focus()),r==null||r()},[r]),d.jsx("div",{className:`task-search-bar ${s} ${o?"focused":""}`,children:d.jsxs("div",{className:"search-input-wrapper",children:[d.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]}),d.jsx("input",{ref:p,type:"text",className:"search-input",placeholder:n,defaultValue:i,onChange:b,onKeyDown:g,onFocus:x,onBlur:_,"aria-label":"Search tasks",autoComplete:"off"}),h?d.jsx("button",{className:"search-submit",onClick:()=>{var w;return t==null?void 0:t(((w=p.current)==null?void 0:w.value)||"")},type:"button","aria-label":"Submit search",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})}):d.jsxs("div",{className:"search-shortcut",children:[d.jsx("kbd",{children:v?"":"Ctrl"}),d.jsx("kbd",{children:"K"})]})]})})});function toe({onSearch:e,onClearSearch:t,onOpenFilters:r}){const n=T.useRef(null),i=o=>{var u;o.target.closest(".search-clear")||(u=n.current)==null||u.focus()},s=o=>{e==null||e(o)},a=()=>{var o;(o=n.current)==null||o.clear(),t==null||t()};return d.jsxs("div",{className:"task-search-header",children:[d.jsxs("div",{className:"header-section search-section",onClick:i,children:[d.jsx("div",{className:"section-label",children:"Where"}),d.jsx(eoe,{ref:n,onSubmit:s,onClear:a,variant:"embedded",placeholder:"Search tasks... (press Enter)"})]}),d.jsx("div",{className:"header-divider"}),d.jsx("div",{className:"header-section filter-section",children:d.jsxs("div",{className:"filter-button-container",onClick:r,children:[d.jsxs("div",{className:"filter-text-group",children:[d.jsx("div",{className:"section-label",children:"Filters"}),d.jsx("div",{className:"section-value",children:"Advanced"})]}),d.jsx("div",{className:"filter-icon-wrapper",children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),d.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),d.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),d.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),d.jsx("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),d.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),d.jsx("line",{x1:"17",y1:"16",x2:"23",y2:"16"})]})})]})})]})}function roe({value:e,duration:t=300}){const[r,n]=T.useState(e),i=T.useRef(null),s=T.useRef(e);return T.useEffect(()=>{i.current&&cancelAnimationFrame(i.current);const a=s.current,o=e,u=performance.now(),h=o-a;if(h===0)return;const f=p=>{const v=p-u,g=Math.min(v/t,1),b=1-Math.pow(1-g,3),x=Math.round(a+h*b);n(x),g<1?i.current=requestAnimationFrame(f):s.current=o};return i.current=requestAnimationFrame(f),()=>{i.current&&cancelAnimationFrame(i.current)}},[e,t]),d.jsx("span",{className:"animated-count",children:r})}function noe({isOpen:e,onClose:t,tasks:r=[],filters:n,onFilterChange:i}){var C,S;const[s,a]=T.useState(""),[o,u]=T.useState({}),h=T.useMemo(()=>{const O={};return r.forEach(P=>{if(P.is_selected)return;const N=P.category||"Uncategorized",j=P.subcategory||"General";O[N]||(O[N]={count:0,subcategories:{}}),O[N].count++,O[N].subcategories[j]||(O[N].subcategories[j]=0),O[N].subcategories[j]++}),Object.keys(O).sort().reduce((P,N)=>(P[N]=O[N],P),{})},[r]),f=T.useMemo(()=>{if(!s)return h;const O=s.toLowerCase(),P={};return Object.entries(h).forEach(([N,j])=>{const R=N.toLowerCase().includes(O),$={};let L=!1;Object.entries(j.subcategories).forEach(([U,W])=>{(U.toLowerCase().includes(O)||R)&&($[U]=W,L=!0)}),(R||L)&&(P[N]={count:j.count,subcategories:$})}),P},[h,s]),p=()=>{i({...n,priorityOnly:!n.priorityOnly})},v=O=>{const P=n.categories||[],N=P.includes(O);let j,R=[...n.subcategories||[]];if(N){j=P.filter(L=>L!==O);const $=h[O];if($&&$.subcategories){const L=Object.keys($.subcategories);R=R.filter(U=>!L.includes(U))}}else{j=[...P,O];const $=h[O];$&&$.subcategories&&Object.keys($.subcategories).forEach(U=>{R.includes(U)||R.push(U)})}i({...n,categories:j,subcategories:R})},g=(O,P)=>{const N=n.subcategories||[],j=N.includes(O);let R;j?R=N.filter(W=>W!==O):R=[...N,O];let L=[...n.categories||[]];const U=h[P];if(U&&U.subcategories){const W=Object.keys(U.subcategories),Q=W.filter(Y=>R.includes(Y)).length;Q===W.length&&W.length>0?L.includes(P)||L.push(P):Q===0?L=L.filter(Y=>Y!==P):L.includes(P)||L.push(P)}i({...n,categories:L,subcategories:R})},b=O=>{u(P=>({...P,[O]:!P[O]}))},x=()=>{i({categories:[],subcategories:[],priorityOnly:!1,search:""}),a("")},_=(((C=n.categories)==null?void 0:C.length)||0)+(((S=n.subcategories)==null?void 0:S.length)||0)+(n.priorityOnly?1:0),w=T.useMemo(()=>r.filter(O=>{var P;if(O.is_selected||n.priorityOnly&&!O.is_highlighted)return!1;if(((P=n.subcategories)==null?void 0:P.length)>0){const N=O.subcategory||"General";if(!n.subcategories.includes(N))return!1}return!0}).length,[r,n]);return d.jsx(Ex,{isOpen:e,onClose:t,title:"Filter Tasks",size:"md",children:d.jsxs("div",{className:"task-filters-modal",children:[d.jsxs("div",{className:"filter-section",children:[d.jsx("h4",{children:"Priority"}),d.jsxs("div",{className:`priority-toggle-row ${n.priorityOnly?"active":""}`,onClick:p,children:[d.jsx("div",{className:"priority-info",children:d.jsxs("span",{className:"priority-label",children:["Only show Priority tasks",d.jsxs("span",{className:"tooltip-wrapper",onClick:O=>O.stopPropagation(),children:[d.jsxs("svg",{className:"help-icon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("path",{d:"M12 17h.01"})]}),d.jsx("span",{className:"tooltip",children:"Tasks prioritized by Snorkel with increased payout"})]})]})}),d.jsx("div",{className:"toggle-switch"})]})]}),d.jsxs("div",{className:"filter-section",style:{flex:1,minHeight:0},children:[d.jsx("h4",{children:"Categories"}),d.jsxs("div",{className:"categories-container",children:[d.jsx("div",{className:"search-container",children:d.jsx(iz,{placeholder:"Search categories...",value:s,onChange:O=>a(O.target.value),onClear:()=>a(""),className:"category-search-input"})}),d.jsx("div",{className:"category-tree",children:Object.keys(f).length===0?d.jsx("div",{className:"empty-search-state",children:d.jsx("p",{children:"No categories found"})}):Object.entries(f).map(([O,P])=>{var Y;const N=o[O]||s.length>0,j=Object.keys(P.subcategories),R=j.filter(V=>{var le;return(le=n.subcategories)==null?void 0:le.includes(V)}),$=j.length,L=$>0&&R.length===$,U=R.length>0&&R.length<$,W=$===0?(Y=n.categories)==null?void 0:Y.includes(O):L,Q=U;return d.jsxs("div",{className:"tree-node",children:[d.jsxs("div",{className:"tree-header",children:[d.jsxs("div",{className:"tree-label-group",children:[d.jsx("div",{className:`expand-icon ${N?"expanded":""}`,onClick:V=>{V.stopPropagation(),b(O)},children:$>0&&d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})}),d.jsxs("div",{className:"checkbox-label-group",onClick:()=>v(O),style:{flex:1},children:[d.jsx(Q2,{checked:W,indeterminate:Q}),d.jsx("span",{className:"node-label",children:O})]})]}),d.jsx("span",{className:"filter-count",children:P.count})]}),N&&$>0&&d.jsx("div",{className:"tree-children",children:Object.entries(P.subcategories).map(([V,le])=>{var te;const oe=(te=n.subcategories)==null?void 0:te.includes(V);return d.jsxs("div",{className:`child-node ${oe?"active":""}`,onClick:()=>g(V,O),children:[d.jsxs("div",{className:"checkbox-label-group",children:[d.jsx(Q2,{checked:oe}),d.jsx("span",{children:V})]}),d.jsx("span",{className:"filter-count",children:le})]},V)})})]},O)})})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx(He,{variant:"ghost",onClick:x,disabled:_===0,children:"Clear all"}),d.jsxs(He,{variant:"primary",onClick:t,children:["Show ",d.jsx(roe,{value:w})," ",w===1?"Result":"Results"]})]})]})})}function JN({task:e,isSelected:t,isMine:r,onSelect:n,onUnselect:i,onComplete:s,onUncomplete:a,isCompleted:o,showActions:u=!0,searchQuery:h=""}){const[f,p]=T.useState(!1),v=async w=>{if(w==null||w.stopPropagation(),!(f||r)){p(!0);try{await(n==null?void 0:n(e.id))}catch(C){console.error("Error selecting task:",C)}finally{p(!1)}}},g=async w=>{if(w==null||w.stopPropagation(),!f&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await(i==null?void 0:i(e.id))}catch(C){console.error("Error unselecting task:",C)}finally{p(!1)}}},b=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(s==null?void 0:s(e.id))}catch(C){console.error("Error completing task:",C)}finally{p(!1)}}},x=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(a==null?void 0:a(e.id))}catch(C){console.error("Error uncompleting task:",C)}finally{p(!1)}}},_=()=>!u||!r?null:d.jsxs("div",{className:"task-card-actions",children:[s&&!o&&d.jsx(He,{variant:"primary",size:"sm",onClick:b,loading:f,children:"Accept"}),a&&o&&d.jsx(He,{variant:"secondary",size:"sm",onClick:x,loading:f,children:"Mark Active"}),d.jsx(He,{variant:"danger",size:"sm",onClick:g,loading:f,children:"Abandon Task"})]});return d.jsx(xo,{task:e,isCompleted:o,isHighlighted:e==null?void 0:e.is_highlighted,searchQuery:h,onClick:r?void 0:v,footer:_(),className:`${t?"selected":""} ${r?"mine":""}`})}function R4({title:e,tasks:t=[],onTaskSelect:r,onTaskUnselect:n,onTaskComplete:i,onTaskUncomplete:s,onExplore:a,searchQuery:o,showAll:u=!1,isMine:h=!1}){const[f,p]=T.useState(!1),v=T.useRef(null),g=x=>{v.current&&v.current.scrollBy({left:x==="left"?-400:400,behavior:"smooth"})},b=t.some(x=>x.is_special||x.priority_tag);return t.length===0?null:d.jsxs("div",{className:`task-category-section ${b?"prioritized-section":""}`,children:[d.jsxs("div",{className:"section-header",children:[d.jsxs("div",{className:"section-title-group",onClick:()=>p(!f),children:[d.jsx("button",{className:`collapse-btn ${f?"collapsed":""}`,children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})}),d.jsxs("div",{className:"section-title-wrapper",children:[d.jsxs("h3",{children:[e,d.jsx("span",{className:"section-count",children:t.length})]}),b&&d.jsx(vs,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})]}),!f&&!u&&d.jsxs("div",{className:"section-controls",children:[d.jsx(He,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:x=>{x.stopPropagation(),a(e)},children:d.jsxs("span",{className:"explore-btn-content",children:[d.jsx("span",{children:"Explore domain"}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),d.jsx("button",{className:"scroll-btn",onClick:()=>g("left"),"aria-label":"Scroll left",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})})}),d.jsx("button",{className:"scroll-btn",onClick:()=>g("right"),"aria-label":"Scroll right",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]}),!f&&d.jsx("div",{className:"section-content",children:u?d.jsx("div",{className:"tasks-grid-row show-all",children:t.map(x=>d.jsx("div",{className:"grid-item",children:d.jsx(JN,{task:x,isSelected:x.is_selected,isMine:h,isCompleted:!!x.completed_at,onSelect:()=>r==null?void 0:r(x,t),onUnselect:()=>n==null?void 0:n(x.id),onComplete:()=>i==null?void 0:i(x.id),onUncomplete:()=>s==null?void 0:s(x.id),showActions:!0,searchQuery:o})},x.id))}):d.jsx("div",{className:"tasks-carousel",ref:v,children:t.map(x=>d.jsx("div",{className:"carousel-item",children:d.jsx(JN,{task:x,isSelected:x.is_selected,isMine:h,isCompleted:!!x.completed_at,onSelect:()=>r==null?void 0:r(x,t),onUnselect:()=>n==null?void 0:n(x.id),onComplete:()=>i==null?void 0:i(x.id),onUncomplete:()=>s==null?void 0:s(x.id),showActions:!0,searchQuery:o})},x.id))})})]})}function ioe({category:e,tasks:t=[],onTaskSelect:r,onBack:n,searchQuery:i=""}){const s=T.useMemo(()=>{const o={};return t.forEach(u=>{const h=u.subcategory||"General";o[h]||(o[h]=[]),o[h].push(u)}),Object.entries(o).sort((u,h)=>h[1].length-u[1].length)},[t]),a=t.some(o=>o.is_special||o.priority_tag);return d.jsxs("div",{className:"category-explore-view",children:[d.jsxs("div",{className:"explore-header",children:[d.jsx(He,{variant:"ghost",size:"sm",onClick:n,className:"back-btn",children:d.jsxs("span",{className:"back-btn-content",children:[d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})}),d.jsx("span",{children:"Back to all categories"})]})}),d.jsx("div",{className:"explore-title-section",children:d.jsxs("div",{className:"explore-title-row",children:[d.jsx("h2",{className:"explore-title",children:e}),a&&d.jsx(vs,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})})]}),d.jsx("div",{className:"tasks-grouped-layout",children:s.map(([o,u])=>d.jsx(R4,{title:o,tasks:u,onTaskSelect:r,onTaskUnselect:()=>{},onExplore:()=>{},searchQuery:i,showAll:!0},o))})]})}function soe(){var U,W;const{tasks:e,loading:t,error:r}=Tx();au();const n=Zr(),i=T.useRef(!1),[s,a]=T.useState(null),[o,u]=T.useState([]),h=Id(QH,2200),[f,p]=T.useState(!1);T.useEffect(()=>{n&&e.length>0&&!i.current&&(n.capture("gallery_viewed",{total_tasks:e.length,available_tasks:e.filter(Q=>!Q.is_selected).length}),i.current=!0)},[n,e]);const{filters:v,setFilters:g,filteredTasks:b,applySearch:x,clearSearch:_}=Zae(e);T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[v]);const w=T.useMemo(()=>{const Q={};return b.forEach(Y=>{const V=Y.category||"Uncategorized";Q[V]||(Q[V]=[]),Q[V].push(Y)}),Object.entries(Q).sort((Y,V)=>{const le=Y[1].some(te=>te.is_special||te.priority_tag),oe=V[1].some(te=>te.is_special||te.priority_tag);return le&&!oe?-1:!le&&oe?1:V[1].length-Y[1].length})},[b]);e.filter(Q=>!Q.is_selected).length,e.filter(Q=>Q.is_selected).length;const C=(Q,Y=[])=>{a(Q),u(Y)},S=()=>{a(null),u([])},O=Q=>{a(Q)},[P,N]=T.useState(null),j=Q=>{N(Q),window.scrollTo({top:0,behavior:"smooth"})},R=()=>{N(null)},$=(((U=v.categories)==null?void 0:U.length)||0)+(((W=v.difficulties)==null?void 0:W.length)||0)+(v.priorityOnly?1:0),L=v.search||$>0;return t?d.jsxs("div",{className:"tasks-view",children:[d.jsxs("div",{className:"tasks-header",children:[d.jsx("h1",{children:"Task Inspiration"}),d.jsx("p",{children:"Browse and select tasks to work on"})]}),d.jsx("div",{className:"tasks-loading",children:d.jsx(su,{size:"lg",message:h})})]}):r?d.jsxs("div",{className:"tasks-view",children:[d.jsxs("div",{className:"tasks-header",children:[d.jsx("h1",{children:"Task Inspiration"}),d.jsx("p",{children:"Browse and select tasks to work on"})]}),d.jsxs("div",{className:"tasks-error",children:[d.jsxs("p",{children:["Error loading tasks: ",r]}),d.jsx(He,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):d.jsxs("div",{className:"tasks-view tasks-gallery",children:[d.jsxs("div",{className:"tasks-header",children:[d.jsx("h1",{children:"Pick Your Next Challenge."}),d.jsx("p",{children:"Real problems frontier models still struggle with. Choose one and start building."})]}),d.jsxs("div",{className:"gallery-container",children:[d.jsx(toe,{onSearch:x,onClearSearch:_,onOpenFilters:()=>p(!0)}),d.jsxs("div",{className:"gallery-content",children:[d.jsxs("div",{className:"tasks-results-header",children:[d.jsx("p",{className:"results-count",children:L&&d.jsxs(d.Fragment,{children:["Found ",b.length," tasks"]})}),L&&d.jsx(He,{variant:"ghost",size:"sm",onClick:()=>{_(),g({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},children:"Clear all filters"})]}),P?d.jsx(ioe,{category:P,tasks:b.filter(Q=>Q.category===P),onTaskSelect:C,onBack:R,searchQuery:v.search}):b.length===0?d.jsxs("div",{className:"tasks-empty",children:[d.jsx("div",{className:"empty-icon",children:d.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.35-4.35"})]})}),d.jsx("h3",{children:"No tasks found"}),d.jsx("p",{children:"Try adjusting your search or filters to find what you're looking for."}),d.jsx(He,{variant:"secondary",onClick:()=>{_(),g({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},children:"Clear All Filters"})]}):d.jsx("div",{className:"tasks-grouped-layout",children:w.map(([Q,Y])=>{var V;return d.jsx(R4,{title:Q,tasks:Y,onTaskSelect:C,onTaskUnselect:()=>{},onExplore:j,searchQuery:v.search,showAll:(V=v.categories)==null?void 0:V.includes(Q)},Q)})})]})]}),d.jsx(noe,{isOpen:f,onClose:()=>p(!1),tasks:e,filters:v,onFilterChange:g}),d.jsx(Y3,{task:s,isOpen:!!s,onClose:S,contextTasks:o,onNavigate:O,showNavigation:o.length>1})]})}function aoe({sections:e,currentSlug:t,onSearchClick:r,isOpen:n,onClose:i,onNavClick:s}){const a=()=>{s&&s(),i()},o=T.useMemo(()=>{var u,h;return typeof navigator>"u"?!1:(u=navigator.userAgentData)!=null&&u.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((h=navigator.platform)==null?void 0:h.toLowerCase().includes("mac"))??!1},[]);return d.jsxs(d.Fragment,{children:[n&&d.jsx("div",{className:"docs-sidebar-overlay",onClick:i}),d.jsxs("aside",{className:`docs-sidebar ${n?"docs-sidebar--open":""}`,children:[d.jsxs("div",{className:"docs-sidebar-header",children:[d.jsxs(Sr,{to:"/portal",className:"docs-back-link",children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to Portal"]}),d.jsx("h2",{className:"docs-sidebar-title",children:"Documentation"})]}),d.jsxs("button",{className:"docs-search-trigger",onClick:r,children:[d.jsxs("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]}),d.jsx("span",{children:"Search docs..."}),d.jsx("kbd",{children:o?"K":"Ctrl+K"})]}),d.jsx("nav",{className:"docs-nav",children:e.map(u=>d.jsxs("div",{className:"docs-nav-section",children:[d.jsx("h3",{className:"docs-nav-section-title",children:u.title}),d.jsx("ul",{className:"docs-nav-list",children:u.items.map(h=>d.jsx("li",{children:d.jsx(Sr,{to:`/portal/docs/${h.slug}`,className:`docs-nav-link ${t===h.slug?"docs-nav-link--active":""}`,onClick:a,children:h.title})},h.slug))})]},u.title))})]})]})}function ZN(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function D4(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const ooe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,loe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uoe={};function eP(e,t){return(uoe.jsx?loe:ooe).test(e)}const coe=/[ \t\n\f\r]/g;function doe(e){return typeof e=="object"?e.type==="text"?tP(e.value):!1:tP(e)}function tP(e){return e.replace(coe,"")===""}class Yd{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Yd.prototype.normal={};Yd.prototype.property={};Yd.prototype.space=void 0;function L4(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Yd(r,n,t)}function wd(e){return e.toLowerCase()}class vn{constructor(t,r){this.attribute=r,this.property=t}}vn.prototype.attribute="";vn.prototype.booleanish=!1;vn.prototype.boolean=!1;vn.prototype.commaOrSpaceSeparated=!1;vn.prototype.commaSeparated=!1;vn.prototype.defined=!1;vn.prototype.mustUseProperty=!1;vn.prototype.number=!1;vn.prototype.overloadedBoolean=!1;vn.prototype.property="";vn.prototype.spaceSeparated=!1;vn.prototype.space=void 0;let hoe=0;const Qe=Io(),Gt=Io(),S_=Io(),ve=Io(),Et=Io(),jl=Io(),En=Io();function Io(){return 2**++hoe}const C_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qe,booleanish:Gt,commaOrSpaceSeparated:En,commaSeparated:jl,number:ve,overloadedBoolean:S_,spaceSeparated:Et},Symbol.toStringTag,{value:"Module"})),Ab=Object.keys(C_);class iE extends vn{constructor(t,r,n,i){let s=-1;if(super(t,r),rP(this,"space",i),typeof n=="number")for(;++s<Ab.length;){const a=Ab[s];rP(this,Ab[s],(n&C_[a])===C_[a])}}}iE.prototype.defined=!0;function rP(e,t,r){r&&(e[t]=r)}function vu(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new iE(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[wd(n)]=n,r[wd(s.attribute)]=n}return new Yd(t,r,e.space)}const M4=vu({properties:{ariaActiveDescendant:null,ariaAtomic:Gt,ariaAutoComplete:null,ariaBusy:Gt,ariaChecked:Gt,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:Et,ariaCurrent:null,ariaDescribedBy:Et,ariaDetails:null,ariaDisabled:Gt,ariaDropEffect:Et,ariaErrorMessage:null,ariaExpanded:Gt,ariaFlowTo:Et,ariaGrabbed:Gt,ariaHasPopup:null,ariaHidden:Gt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Et,ariaLevel:ve,ariaLive:null,ariaModal:Gt,ariaMultiLine:Gt,ariaMultiSelectable:Gt,ariaOrientation:null,ariaOwns:Et,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:Gt,ariaReadOnly:Gt,ariaRelevant:null,ariaRequired:Gt,ariaRoleDescription:Et,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:Gt,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function F4(e,t){return t in e?e[t]:t}function B4(e,t){return F4(e,t.toLowerCase())}const foe=vu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jl,acceptCharset:Et,accessKey:Et,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:Et,autoFocus:Qe,autoPlay:Qe,blocking:Et,capture:null,charSet:null,checked:Qe,cite:null,className:Et,cols:ve,colSpan:null,content:null,contentEditable:Gt,controls:Qe,controlsList:Et,coords:ve|jl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:S_,draggable:Gt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:Et,height:ve,hidden:S_,high:ve,href:null,hrefLang:null,htmlFor:Et,httpEquiv:Et,id:null,imageSizes:null,imageSrcSet:null,inert:Qe,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:Et,itemRef:Et,itemScope:Qe,itemType:Et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:ve,pattern:null,ping:Et,placeholder:null,playsInline:Qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:Et,required:Qe,reversed:Qe,rows:ve,rowSpan:ve,sandbox:Et,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shadowRootClonable:Qe,shadowRootDelegatesFocus:Qe,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:Gt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:Gt,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Et,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:Gt,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:ve,security:null,unselectable:null},space:"html",transform:B4}),poe=vu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:En,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:Et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jl,g2:jl,glyphName:jl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:En,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:En,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:En,rev:En,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:En,requiredFeatures:En,requiredFonts:En,requiredFormats:En,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:En,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:En,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:En,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:F4}),$4=vu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),U4=vu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:B4}),H4=vu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),moe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},goe=/[A-Z]/g,nP=/-[a-z]/g,voe=/^data[-\w.:]+$/i;function gg(e,t){const r=wd(t);let n=t,i=vn;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&voe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(nP,boe);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!nP.test(s)){let a=s.replace(goe,yoe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=iE}return new i(n,t)}function yoe(e){return"-"+e.toLowerCase()}function boe(e){return e.charAt(1).toUpperCase()}const Gd=L4([M4,foe,$4,U4,H4],"html"),Na=L4([M4,poe,$4,U4,H4],"svg");function iP(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function z4(e){return e.join(" ").trim()}var ml={},Ob,sP;function _oe(){if(sP)return Ob;sP=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,h="/",f="*",p="",v="comment",g="declaration";function b(_,w){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];w=w||{};var C=1,S=1;function O(Y){var V=Y.match(t);V&&(C+=V.length);var le=Y.lastIndexOf(u);S=~le?Y.length-le:S+Y.length}function P(){var Y={line:C,column:S};return function(V){return V.position=new N(Y),$(),V}}function N(Y){this.start=Y,this.end={line:C,column:S},this.source=w.source}N.prototype.content=_;function j(Y){var V=new Error(w.source+":"+C+":"+S+": "+Y);if(V.reason=Y,V.filename=w.source,V.line=C,V.column=S,V.source=_,!w.silent)throw V}function R(Y){var V=Y.exec(_);if(V){var le=V[0];return O(le),_=_.slice(le.length),V}}function $(){R(r)}function L(Y){var V;for(Y=Y||[];V=U();)V!==!1&&Y.push(V);return Y}function U(){var Y=P();if(!(h!=_.charAt(0)||f!=_.charAt(1))){for(var V=2;p!=_.charAt(V)&&(f!=_.charAt(V)||h!=_.charAt(V+1));)++V;if(V+=2,p===_.charAt(V-1))return j("End of comment missing");var le=_.slice(2,V-2);return S+=2,O(le),_=_.slice(V),S+=2,Y({type:v,comment:le})}}function W(){var Y=P(),V=R(n);if(V){if(U(),!R(i))return j("property missing ':'");var le=R(s),oe=Y({type:g,property:x(V[0].replace(e,p)),value:le?x(le[0].replace(e,p)):p});return R(a),oe}}function Q(){var Y=[];L(Y);for(var V;V=W();)V!==!1&&(Y.push(V),L(Y));return Y}return $(),Q()}function x(_){return _?_.replace(o,p):p}return Ob=b,Ob}var aP;function xoe(){if(aP)return ml;aP=1;var e=ml&&ml.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ml,"__esModule",{value:!0}),ml.default=r;const t=e(_oe());function r(n,i){let s=null;if(!n||typeof n!="string")return s;const a=(0,t.default)(n),o=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:h,value:f}=u;o?i(h,f,u):f&&(s=s||{},s[h]=f)}),s}return ml}var Tc={},oP;function woe(){if(oP)return Tc;oP=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(h){return!h||r.test(h)||e.test(h)},a=function(h,f){return f.toUpperCase()},o=function(h,f){return"".concat(f,"-")},u=function(h,f){return f===void 0&&(f={}),s(h)?h:(h=h.toLowerCase(),f.reactCompat?h=h.replace(i,o):h=h.replace(n,o),h.replace(t,a))};return Tc.camelCase=u,Tc}var Sc,lP;function Eoe(){if(lP)return Sc;lP=1;var e=Sc&&Sc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(xoe()),r=woe();function n(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,u){o&&u&&(a[(0,r.camelCase)(o,s)]=u)}),a}return n.default=n,Sc=n,Sc}var koe=Eoe();const Toe=ni(koe),vg=W4("end"),Yi=W4("start");function W4(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Soe(e){const t=Yi(e),r=vg(e);if(t&&r)return{start:t,end:r}}function Yc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?uP(e.position):"start"in e||"end"in e?uP(e):"line"in e||"column"in e?A_(e):""}function A_(e){return cP(e&&e.line)+":"+cP(e&&e.column)}function uP(e){return A_(e&&e.start)+"-"+A_(e&&e.end)}function cP(e){return e&&typeof e=="number"?e:1}class Hr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?s.ruleId=n:(s.source=n.slice(0,u),s.ruleId=n.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Yc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Hr.prototype.file="";Hr.prototype.name="";Hr.prototype.reason="";Hr.prototype.message="";Hr.prototype.stack="";Hr.prototype.column=void 0;Hr.prototype.line=void 0;Hr.prototype.ancestors=void 0;Hr.prototype.cause=void 0;Hr.prototype.fatal=void 0;Hr.prototype.place=void 0;Hr.prototype.ruleId=void 0;Hr.prototype.source=void 0;const sE={}.hasOwnProperty,Coe=new Map,Aoe=/[A-Z]/g,Ooe=new Set(["table","tbody","thead","tfoot","tr"]),Noe=new Set(["td","th"]),q4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Poe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=Boe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=Foe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Na:Gd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=V4(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function V4(e,t,r){if(t.type==="element")return Ioe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return joe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Doe(e,t,r);if(t.type==="mdxjsEsm")return Roe(e,t);if(t.type==="root")return Loe(e,t,r);if(t.type==="text")return Moe(e,t)}function Ioe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Na,e.schema=i),e.ancestors.push(t);const s=Y4(e,t.tagName,!1),a=$oe(e,t);let o=oE(e,t);return Ooe.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!doe(u):!0})),K4(e,a,s,t),aE(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function joe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ed(e,t.position)}function Roe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ed(e,t.position)}function Doe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Na,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Y4(e,t.name,!0),a=Uoe(e,t),o=oE(e,t);return K4(e,a,s,t),aE(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function Loe(e,t,r){const n={};return aE(n,oE(e,t)),e.create(t,e.Fragment,n,r)}function Moe(e,t){return t.value}function K4(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function aE(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Foe(e,t,r){return n;function n(i,s,a,o){const h=Array.isArray(a.children)?r:t;return o?h(s,a,o):h(s,a)}}function Boe(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),u=Yi(n);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function $oe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&sE.call(t.properties,i)){const s=Hoe(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Noe.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function Uoe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Ed(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Ed(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function oE(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:Coe;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const h=i.get(u)||0;a=u+"-"+h,i.set(u,h+1)}}const o=V4(e,s,a);o!==void 0&&r.push(o)}return r}function Hoe(e,t,r){const n=gg(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?D4(r):z4(r)),n.property==="style"){let i=typeof r=="object"?r:zoe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=Woe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?moe[n.property]||n.property:n.attribute,r]}}function zoe(e,t){try{return Toe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Hr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=q4+"#cannot-parse-style-attribute",i}}function Y4(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=eP(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=eP(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return sE.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Ed(e)}function Ed(e,t){const r=new Hr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=q4+"#cannot-handle-mdx-estrees-without-createevaluater",r}function Woe(e){const t={};let r;for(r in e)sE.call(e,r)&&(t[qoe(r)]=e[r]);return t}function qoe(e){let t=e.replace(Aoe,Voe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Voe(e){return"-"+e.toLowerCase()}const Nb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Koe={};function lE(e,t){const r=Koe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return G4(e,n,i)}function G4(e,t,r){if(Yoe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dP(e.children,t,r)}return Array.isArray(e)?dP(e,t,r):""}function dP(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=G4(e[i],t,r);return n.join("")}function Yoe(e){return!!(e&&typeof e=="object")}const hP=document.createElement("i");function uE(e){const t="&"+e+";";hP.innerHTML=t;const r=hP.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function jn(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Yn(e,t){return e.length>0?(jn(e,e.length,0,t),e):t}const fP={}.hasOwnProperty;function X4(e){const t={};let r=-1;for(;++r<e.length;)Goe(t,e[r]);return t}function Goe(e,t){let r;for(r in t){const i=(fP.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){fP.call(i,a)||(i[a]=[]);const o=s[a];Xoe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Xoe(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);jn(e,0,0,n)}function Q4(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Ei(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xr=Pa(/[A-Za-z]/),$r=Pa(/[\dA-Za-z]/),Qoe=Pa(/[#-'*+\--9=?A-Z^-~]/);function xm(e){return e!==null&&(e<32||e===127)}const O_=Pa(/\d/),Joe=Pa(/[\dA-Fa-f]/),Zoe=Pa(/[!-/:-@[-`{-~]/);function Ue(e){return e!==null&&e<-2}function _t(e){return e!==null&&(e<0||e===32)}function rt(e){return e===-2||e===-1||e===32}const yg=Pa(new RegExp("\\p{P}|\\p{S}","u")),Ao=Pa(/\s/);function Pa(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function yu(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&$r(e.charCodeAt(r+1))&&$r(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function st(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return rt(u)?(e.enter(r),o(u)):t(u)}function o(u){return rt(u)&&s++<i?(e.consume(u),o):(e.exit(r),t(u))}}const ele={tokenize:tle};function tle(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),st(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Ue(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const rle={tokenize:nle},pP={tokenize:ile};function nle(e){const t=this,r=[];let n=0,i,s,a;return o;function o(S){if(n<r.length){const O=r[n];return t.containerState=O[1],e.attempt(O[0].continuation,u,h)(S)}return h(S)}function u(S){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const O=t.events.length;let P=O,N;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){N=t.events[P][1].end;break}w(n);let j=O;for(;j<t.events.length;)t.events[j][1].end={...N},j++;return jn(t.events,P+1,0,t.events.slice(O)),t.events.length=j,h(S)}return o(S)}function h(S){if(n===r.length){if(!i)return v(S);if(i.currentConstruct&&i.currentConstruct.concrete)return b(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(pP,f,p)(S)}function f(S){return i&&C(),w(n),v(S)}function p(S){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,b(S)}function v(S){return t.containerState={},e.attempt(pP,g,b)(S)}function g(S){return n++,r.push([t.currentConstruct,t.containerState]),v(S)}function b(S){if(S===null){i&&C(),w(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(S)}function x(S){if(S===null){_(e.exit("chunkFlow"),!0),w(0),e.consume(S);return}return Ue(S)?(e.consume(S),_(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(S),x)}function _(S,O){const P=t.sliceStream(S);if(O&&P.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(P),t.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<a&&(!i.events[N][1].end||i.events[N][1].end.offset>a))return;const j=t.events.length;let R=j,$,L;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if($){L=t.events[R][1].end;break}$=!0}for(w(n),N=j;N<t.events.length;)t.events[N][1].end={...L},N++;jn(t.events,R+1,0,t.events.slice(j)),t.events.length=N}}function w(S){let O=r.length;for(;O-- >S;){const P=r[O];t.containerState=P[1],P[0].exit.call(t,e)}r.length=S}function C(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ile(e,t,r){return st(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Yl(e){if(e===null||_t(e)||Ao(e))return 1;if(yg(e))return 2}function bg(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const N_={name:"attention",resolveAll:sle,tokenize:ale};function sle(e,t){let r=-1,n,i,s,a,o,u,h,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const p={...e[n][1].end},v={...e[r][1].start};mP(p,-u),mP(v,u),a={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[n][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},s={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},h=[],e[n][1].end.offset-e[n][1].start.offset&&(h=Yn(h,[["enter",e[n][1],t],["exit",e[n][1],t]])),h=Yn(h,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),h=Yn(h,bg(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),h=Yn(h,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,h=Yn(h,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,jn(e,n-1,r-n+3,h),r=n+h.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function ale(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Yl(n);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const h=e.exit("attentionSequence"),f=Yl(u),p=!f||f===2&&i||r.includes(u),v=!i||i===2&&f||r.includes(n);return h._open=!!(s===42?p:p&&(i||!v)),h._close=!!(s===42?v:v&&(f||!p)),t(u)}}function mP(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ole={name:"autolink",tokenize:lle};function lle(e,t,r){let n=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return Xr(g)?(e.consume(g),a):g===64?r(g):h(g)}function a(g){return g===43||g===45||g===46||$r(g)?(n=1,o(g)):h(g)}function o(g){return g===58?(e.consume(g),n=0,u):(g===43||g===45||g===46||$r(g))&&n++<32?(e.consume(g),o):(n=0,h(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||xm(g)?r(g):(e.consume(g),u)}function h(g){return g===64?(e.consume(g),f):Qoe(g)?(e.consume(g),h):r(g)}function f(g){return $r(g)?p(g):r(g)}function p(g){return g===46?(e.consume(g),n=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):v(g)}function v(g){if((g===45||$r(g))&&n++<63){const b=g===45?v:p;return e.consume(g),b}return r(g)}}const Xd={partial:!0,tokenize:ule};function ule(e,t,r){return n;function n(s){return rt(s)?st(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ue(s)?t(s):r(s)}}const J4={continuation:{tokenize:dle},exit:hle,name:"blockQuote",tokenize:cle};function cle(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return rt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function dle(e,t,r){const n=this;return i;function i(a){return rt(a)?st(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(J4,t,r)(a)}}function hle(e){e.exit("blockQuote")}const Z4={name:"characterEscape",tokenize:fle};function fle(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Zoe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const eM={name:"characterReference",tokenize:ple};function ple(e,t,r){const n=this;let i=0,s,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),s=31,a=$r,f(p))}function h(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Joe,f):(e.enter("characterReferenceValue"),s=7,a=O_,f(p))}function f(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return a===$r&&!uE(n.sliceSerialize(v))?r(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<s?(e.consume(p),f):r(p)}}const gP={partial:!0,tokenize:gle},vP={concrete:!0,name:"codeFenced",tokenize:mle};function mle(e,t,r){const n=this,i={partial:!0,tokenize:P};let s=0,a=0,o;return u;function u(N){return h(N)}function h(N){const j=n.events[n.events.length-1];return s=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(N)}function f(N){return N===o?(a++,e.consume(N),f):a<3?r(N):(e.exit("codeFencedFenceSequence"),rt(N)?st(e,p,"whitespace")(N):p(N))}function p(N){return N===null||Ue(N)?(e.exit("codeFencedFence"),n.interrupt?t(N):e.check(gP,x,O)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Ue(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(N)):rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),st(e,g,"whitespace")(N)):N===96&&N===o?r(N):(e.consume(N),v)}function g(N){return N===null||Ue(N)?p(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===null||Ue(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(N)):N===96&&N===o?r(N):(e.consume(N),b)}function x(N){return e.attempt(i,O,_)(N)}function _(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),w}function w(N){return s>0&&rt(N)?st(e,C,"linePrefix",s+1)(N):C(N)}function C(N){return N===null||Ue(N)?e.check(gP,x,O)(N):(e.enter("codeFlowValue"),S(N))}function S(N){return N===null||Ue(N)?(e.exit("codeFlowValue"),C(N)):(e.consume(N),S)}function O(N){return e.exit("codeFenced"),t(N)}function P(N,j,R){let $=0;return L;function L(V){return N.enter("lineEnding"),N.consume(V),N.exit("lineEnding"),U}function U(V){return N.enter("codeFencedFence"),rt(V)?st(N,W,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):W(V)}function W(V){return V===o?(N.enter("codeFencedFenceSequence"),Q(V)):R(V)}function Q(V){return V===o?($++,N.consume(V),Q):$>=a?(N.exit("codeFencedFenceSequence"),rt(V)?st(N,Y,"whitespace")(V):Y(V)):R(V)}function Y(V){return V===null||Ue(V)?(N.exit("codeFencedFence"),j(V)):R(V)}}}function gle(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const Pb={name:"codeIndented",tokenize:yle},vle={partial:!0,tokenize:ble};function yle(e,t,r){const n=this;return i;function i(h){return e.enter("codeIndented"),st(e,s,"linePrefix",5)(h)}function s(h){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(h):r(h)}function a(h){return h===null?u(h):Ue(h)?e.attempt(vle,a,u)(h):(e.enter("codeFlowValue"),o(h))}function o(h){return h===null||Ue(h)?(e.exit("codeFlowValue"),a(h)):(e.consume(h),o)}function u(h){return e.exit("codeIndented"),t(h)}}function ble(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):st(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Ue(a)?i(a):r(a)}}const _le={name:"codeText",previous:wle,resolve:xle,tokenize:Ele};function xle(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function wle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ele(e,t,r){let n=0,i,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),n++,o):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?r(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):Ue(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),h(p))}function h(p){return p===null||p===32||p===96||Ue(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),h)}function f(p){return p===96?(e.consume(p),i++,f):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",h(p))}}class kle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Cc(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Cc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Cc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Cc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Cc(this.left,r.reverse())}}}function Cc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function tM(e){const t={};let r=-1,n,i,s,a,o,u,h;const f=new kle(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Tle(f,r)),r=t[r],h=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},o=f.slice(i,r),o.unshift(n),f.splice(i,r-i+1,o))}}return jn(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function Tle(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],h={};let f,p,v=-1,g=r,b=0,x=0;const _=[x];for(;g;){for(;e.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=n.sliceStream(g),g.next||f.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=r;++v<o.length;)o[v][0]==="exit"&&o[v-1][0]==="enter"&&o[v][1].type===o[v-1][1].type&&o[v][1].start.line!==o[v][1].end.line&&(x=v+1,_.push(x),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):_.pop(),v=_.length;v--;){const w=o.slice(_[v],_[v+1]),C=s.pop();u.push([C,C+w.length-1]),e.splice(C,2,w)}for(u.reverse(),v=-1;++v<u.length;)h[b+u[v][0]]=b+u[v][1],b+=u[v][1]-u[v][0]-1;return h}const Sle={resolve:Ale,tokenize:Ole},Cle={partial:!0,tokenize:Nle};function Ale(e){return tM(e),e}function Ole(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Ue(o)?e.check(Cle,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Nle(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),st(e,s,"linePrefix")}function s(a){if(a===null||Ue(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function rM(e,t,r,n,i,s,a,o,u){const h=u||Number.POSITIVE_INFINITY;let f=0;return p;function p(w){return w===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(w),e.exit(s),v):w===null||w===32||w===41||xm(w)?r(w):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(w))}function v(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(e.exit("chunkString"),e.exit(o),v(w)):w===null||w===60||Ue(w)?r(w):(e.consume(w),w===92?b:g)}function b(w){return w===60||w===62||w===92?(e.consume(w),g):g(w)}function x(w){return!f&&(w===null||w===41||_t(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(w)):f<h&&w===40?(e.consume(w),f++,x):w===41?(e.consume(w),f--,x):w===null||w===32||w===40||xm(w)?r(w):(e.consume(w),w===92?_:x)}function _(w){return w===40||w===41||w===92?(e.consume(w),x):x(w)}}function nM(e,t,r,n,i,s){const a=this;let o=0,u;return h;function h(g){return e.enter(n),e.enter(i),e.consume(g),e.exit(i),e.enter(s),f}function f(g){return o>999||g===null||g===91||g===93&&!u||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(g):g===93?(e.exit(s),e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):Ue(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||Ue(g)||o++>999?(e.exit("chunkString"),f(g)):(e.consume(g),u||(u=!rt(g)),g===92?v:p)}function v(g){return g===91||g===92||g===93?(e.consume(g),o++,p):p(g)}}function iM(e,t,r,n,i,s){let a;return o;function o(v){return v===34||v===39||v===40?(e.enter(n),e.enter(i),e.consume(v),e.exit(i),a=v===40?41:v,u):r(v)}function u(v){return v===a?(e.enter(i),e.consume(v),e.exit(i),e.exit(n),t):(e.enter(s),h(v))}function h(v){return v===a?(e.exit(s),u(a)):v===null?r(v):Ue(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),st(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===a||v===null||Ue(v)?(e.exit("chunkString"),h(v)):(e.consume(v),v===92?p:f)}function p(v){return v===a||v===92?(e.consume(v),f):f(v)}}function Gc(e,t){let r;return n;function n(i){return Ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):rt(i)?st(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Ple={name:"definition",tokenize:jle},Ile={partial:!0,tokenize:Rle};function jle(e,t,r){const n=this;let i;return s;function s(g){return e.enter("definition"),a(g)}function a(g){return nM.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=Ei(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):r(g)}function u(g){return _t(g)?Gc(e,h)(g):h(g)}function h(g){return rM(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(Ile,p,p)(g)}function p(g){return rt(g)?st(e,v,"whitespace")(g):v(g)}function v(g){return g===null||Ue(g)?(e.exit("definition"),n.parser.defined.push(i),t(g)):r(g)}}function Rle(e,t,r){return n;function n(o){return _t(o)?Gc(e,i)(o):r(o)}function i(o){return iM(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return rt(o)?st(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Ue(o)?t(o):r(o)}}const Dle={name:"hardBreakEscape",tokenize:Lle};function Lle(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Ue(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const Mle={name:"headingAtx",resolve:Fle,tokenize:Ble};function Fle(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},jn(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Ble(e,t,r){let n=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&n++<6?(e.consume(f),a):f===null||_t(f)?(e.exit("atxHeadingSequence"),o(f)):r(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||Ue(f)?(e.exit("atxHeading"),t(f)):rt(f)?st(e,o,"whitespace")(f):(e.enter("atxHeadingText"),h(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),o(f))}function h(f){return f===null||f===35||_t(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),h)}}const $le=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yP=["pre","script","style","textarea"],Ule={concrete:!0,name:"htmlFlow",resolveTo:Wle,tokenize:qle},Hle={partial:!0,tokenize:Kle},zle={partial:!0,tokenize:Vle};function Wle(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function qle(e,t,r){const n=this;let i,s,a,o,u;return h;function h(F){return f(F)}function f(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),p}function p(F){return F===33?(e.consume(F),v):F===47?(e.consume(F),s=!0,x):F===63?(e.consume(F),i=3,n.interrupt?t:D):Xr(F)?(e.consume(F),a=String.fromCharCode(F),_):r(F)}function v(F){return F===45?(e.consume(F),i=2,g):F===91?(e.consume(F),i=5,o=0,b):Xr(F)?(e.consume(F),i=4,n.interrupt?t:D):r(F)}function g(F){return F===45?(e.consume(F),n.interrupt?t:D):r(F)}function b(F){const _e="CDATA[";return F===_e.charCodeAt(o++)?(e.consume(F),o===_e.length?n.interrupt?t:W:b):r(F)}function x(F){return Xr(F)?(e.consume(F),a=String.fromCharCode(F),_):r(F)}function _(F){if(F===null||F===47||F===62||_t(F)){const _e=F===47,Te=a.toLowerCase();return!_e&&!s&&yP.includes(Te)?(i=1,n.interrupt?t(F):W(F)):$le.includes(a.toLowerCase())?(i=6,_e?(e.consume(F),w):n.interrupt?t(F):W(F)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(F):s?C(F):S(F))}return F===45||$r(F)?(e.consume(F),a+=String.fromCharCode(F),_):r(F)}function w(F){return F===62?(e.consume(F),n.interrupt?t:W):r(F)}function C(F){return rt(F)?(e.consume(F),C):L(F)}function S(F){return F===47?(e.consume(F),L):F===58||F===95||Xr(F)?(e.consume(F),O):rt(F)?(e.consume(F),S):L(F)}function O(F){return F===45||F===46||F===58||F===95||$r(F)?(e.consume(F),O):P(F)}function P(F){return F===61?(e.consume(F),N):rt(F)?(e.consume(F),P):S(F)}function N(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),u=F,j):rt(F)?(e.consume(F),N):R(F)}function j(F){return F===u?(e.consume(F),u=null,$):F===null||Ue(F)?r(F):(e.consume(F),j)}function R(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||_t(F)?P(F):(e.consume(F),R)}function $(F){return F===47||F===62||rt(F)?S(F):r(F)}function L(F){return F===62?(e.consume(F),U):r(F)}function U(F){return F===null||Ue(F)?W(F):rt(F)?(e.consume(F),U):r(F)}function W(F){return F===45&&i===2?(e.consume(F),le):F===60&&i===1?(e.consume(F),oe):F===62&&i===4?(e.consume(F),q):F===63&&i===3?(e.consume(F),D):F===93&&i===5?(e.consume(F),ue):Ue(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Hle,X,Q)(F)):F===null||Ue(F)?(e.exit("htmlFlowData"),Q(F)):(e.consume(F),W)}function Q(F){return e.check(zle,Y,X)(F)}function Y(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),V}function V(F){return F===null||Ue(F)?Q(F):(e.enter("htmlFlowData"),W(F))}function le(F){return F===45?(e.consume(F),D):W(F)}function oe(F){return F===47?(e.consume(F),a="",te):W(F)}function te(F){if(F===62){const _e=a.toLowerCase();return yP.includes(_e)?(e.consume(F),q):W(F)}return Xr(F)&&a.length<8?(e.consume(F),a+=String.fromCharCode(F),te):W(F)}function ue(F){return F===93?(e.consume(F),D):W(F)}function D(F){return F===62?(e.consume(F),q):F===45&&i===2?(e.consume(F),D):W(F)}function q(F){return F===null||Ue(F)?(e.exit("htmlFlowData"),X(F)):(e.consume(F),q)}function X(F){return e.exit("htmlFlow"),t(F)}}function Vle(e,t,r){const n=this;return i;function i(a){return Ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function Kle(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Xd,t,r)}}const Yle={name:"htmlText",tokenize:Gle};function Gle(e,t,r){const n=this;let i,s,a;return o;function o(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),u}function u(D){return D===33?(e.consume(D),h):D===47?(e.consume(D),P):D===63?(e.consume(D),S):Xr(D)?(e.consume(D),R):r(D)}function h(D){return D===45?(e.consume(D),f):D===91?(e.consume(D),s=0,b):Xr(D)?(e.consume(D),C):r(D)}function f(D){return D===45?(e.consume(D),g):r(D)}function p(D){return D===null?r(D):D===45?(e.consume(D),v):Ue(D)?(a=p,oe(D)):(e.consume(D),p)}function v(D){return D===45?(e.consume(D),g):p(D)}function g(D){return D===62?le(D):D===45?v(D):p(D)}function b(D){const q="CDATA[";return D===q.charCodeAt(s++)?(e.consume(D),s===q.length?x:b):r(D)}function x(D){return D===null?r(D):D===93?(e.consume(D),_):Ue(D)?(a=x,oe(D)):(e.consume(D),x)}function _(D){return D===93?(e.consume(D),w):x(D)}function w(D){return D===62?le(D):D===93?(e.consume(D),w):x(D)}function C(D){return D===null||D===62?le(D):Ue(D)?(a=C,oe(D)):(e.consume(D),C)}function S(D){return D===null?r(D):D===63?(e.consume(D),O):Ue(D)?(a=S,oe(D)):(e.consume(D),S)}function O(D){return D===62?le(D):S(D)}function P(D){return Xr(D)?(e.consume(D),N):r(D)}function N(D){return D===45||$r(D)?(e.consume(D),N):j(D)}function j(D){return Ue(D)?(a=j,oe(D)):rt(D)?(e.consume(D),j):le(D)}function R(D){return D===45||$r(D)?(e.consume(D),R):D===47||D===62||_t(D)?$(D):r(D)}function $(D){return D===47?(e.consume(D),le):D===58||D===95||Xr(D)?(e.consume(D),L):Ue(D)?(a=$,oe(D)):rt(D)?(e.consume(D),$):le(D)}function L(D){return D===45||D===46||D===58||D===95||$r(D)?(e.consume(D),L):U(D)}function U(D){return D===61?(e.consume(D),W):Ue(D)?(a=U,oe(D)):rt(D)?(e.consume(D),U):$(D)}function W(D){return D===null||D===60||D===61||D===62||D===96?r(D):D===34||D===39?(e.consume(D),i=D,Q):Ue(D)?(a=W,oe(D)):rt(D)?(e.consume(D),W):(e.consume(D),Y)}function Q(D){return D===i?(e.consume(D),i=void 0,V):D===null?r(D):Ue(D)?(a=Q,oe(D)):(e.consume(D),Q)}function Y(D){return D===null||D===34||D===39||D===60||D===61||D===96?r(D):D===47||D===62||_t(D)?$(D):(e.consume(D),Y)}function V(D){return D===47||D===62||_t(D)?$(D):r(D)}function le(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):r(D)}function oe(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),te}function te(D){return rt(D)?st(e,ue,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):ue(D)}function ue(D){return e.enter("htmlTextData"),a(D)}}const cE={name:"labelEnd",resolveAll:Zle,resolveTo:eue,tokenize:tue},Xle={tokenize:rue},Qle={tokenize:nue},Jle={tokenize:iue};function Zle(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&jn(e,0,e.length,r),e}function eue(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",u,t],["enter",h,t]],o=Yn(o,e.slice(s+1,s+n+3)),o=Yn(o,[["enter",f,t]]),o=Yn(o,bg(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Yn(o,[["exit",f,t],e[a-2],e[a-1],["exit",h,t]]),o=Yn(o,e.slice(a+1)),o=Yn(o,[["exit",u,t]]),jn(e,s,e.length,o),e}function tue(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(v){return s?s._inactive?p(v):(a=n.parser.defined.includes(Ei(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),u):r(v)}function u(v){return v===40?e.attempt(Xle,f,a?f:p)(v):v===91?e.attempt(Qle,f,a?h:p)(v):a?f(v):p(v)}function h(v){return e.attempt(Jle,f,p)(v)}function f(v){return t(v)}function p(v){return s._balanced=!0,r(v)}}function rue(e,t,r){return n;function n(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return _t(p)?Gc(e,s)(p):s(p)}function s(p){return p===41?f(p):rM(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return _t(p)?Gc(e,u)(p):f(p)}function o(p){return r(p)}function u(p){return p===34||p===39||p===40?iM(e,h,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function h(p){return _t(p)?Gc(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):r(p)}}function nue(e,t,r){const n=this;return i;function i(o){return nM.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(Ei(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function iue(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const sue={name:"labelStartImage",resolveAll:cE.resolveAll,tokenize:aue};function aue(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const oue={name:"labelStartLink",resolveAll:cE.resolveAll,tokenize:lue};function lue(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const Ib={name:"lineEnding",tokenize:uue};function uue(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),st(e,t,"linePrefix")}}const lp={name:"thematicBreak",tokenize:cue};function cue(e,t,r){let n=0,i;return s;function s(h){return e.enter("thematicBreak"),a(h)}function a(h){return i=h,o(h)}function o(h){return h===i?(e.enter("thematicBreakSequence"),u(h)):n>=3&&(h===null||Ue(h))?(e.exit("thematicBreak"),t(h)):r(h)}function u(h){return h===i?(e.consume(h),n++,u):(e.exit("thematicBreakSequence"),rt(h)?st(e,o,"whitespace")(h):o(h))}}const un={continuation:{tokenize:pue},exit:gue,name:"list",tokenize:fue},due={partial:!0,tokenize:vue},hue={partial:!0,tokenize:mue};function fue(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const b=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:O_(g)){if(n.containerState.type||(n.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(lp,r,h)(g):h(g);if(!n.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return r(g)}function u(g){return O_(g)&&++a<10?(e.consume(g),u):(!n.interrupt||a<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),h(g)):r(g)}function h(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,e.check(Xd,n.interrupt?r:f,e.attempt(due,v,p))}function f(g){return n.containerState.initialBlankLine=!0,s++,v(g)}function p(g){return rt(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),v):r(g)}function v(g){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function pue(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Xd,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,st(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!rt(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(hue,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,st(e,e.attempt(un,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function mue(e,t,r){const n=this;return st(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function gue(e){e.exit(this.containerState.type)}function vue(e,t,r){const n=this;return st(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!rt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const bP={name:"setextUnderline",resolveTo:yue,tokenize:bue};function yue(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function bue(e,t,r){const n=this;let i;return s;function s(h){let f=n.events.length,p;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){p=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(e.enter("setextHeadingLine"),i=h,a(h)):r(h)}function a(h){return e.enter("setextHeadingLineSequence"),o(h)}function o(h){return h===i?(e.consume(h),o):(e.exit("setextHeadingLineSequence"),rt(h)?st(e,u,"lineSuffix")(h):u(h))}function u(h){return h===null||Ue(h)?(e.exit("setextHeadingLine"),t(h)):r(h)}}const _ue={tokenize:xue};function xue(e){const t=this,r=e.attempt(Xd,n,e.attempt(this.parser.constructs.flowInitial,i,st(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Sle,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const wue={resolveAll:aM()},Eue=sM("string"),kue=sM("text");function sM(e){return{resolveAll:aM(e==="text"?Tue:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(f){return h(f)?s(f):o(f)}function o(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),u}function u(f){return h(f)?(r.exit("data"),s(f)):(r.consume(f),u)}function h(f){if(f===null)return!0;const p=i[f];let v=-1;if(p)for(;++v<p.length;){const g=p[v];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function aM(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function Tue(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,u;for(;s--;){const h=i[s];if(typeof h=="string"){for(a=h.length;h.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(h===-2)u=!0,o++;else if(h!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const h={type:r===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...h.start},n.start.offset===n.end.offset?Object.assign(n,h):(e.splice(r,0,["enter",h,t],["exit",h,t]),r+=2)}r++}return e}const Sue={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:J4},Cue={91:Ple},Aue={[-2]:Pb,[-1]:Pb,32:Pb},Oue={35:Mle,42:lp,45:[bP,lp],60:Ule,61:bP,95:lp,96:vP,126:vP},Nue={38:eM,92:Z4},Pue={[-5]:Ib,[-4]:Ib,[-3]:Ib,33:sue,38:eM,42:N_,60:[ole,Yle],91:oue,92:[Dle,Z4],93:cE,95:N_,96:_le},Iue={null:[N_,wue]},jue={null:[42,95]},Rue={null:[]},Due=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jue,contentInitial:Cue,disable:Rue,document:Sue,flow:Oue,flowInitial:Aue,insideSpan:Iue,string:Nue,text:Pue},Symbol.toStringTag,{value:"Module"}));function Lue(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:j(P),check:j(N),consume:C,enter:S,exit:O,interrupt:j(N,{interrupt:!0})},h={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:e,previous:null,sliceSerialize:v,sliceStream:g,write:p};let f=t.tokenize.call(h,u);return t.resolveAll&&s.push(t),h;function p(U){return a=Yn(a,U),_(),a[a.length-1]!==null?[]:(R(t,0),h.events=bg(s,h.events,h),h.events)}function v(U,W){return Fue(g(U),W)}function g(U){return Mue(a,U)}function b(){const{_bufferIndex:U,_index:W,line:Q,column:Y,offset:V}=n;return{_bufferIndex:U,_index:W,line:Q,column:Y,offset:V}}function x(U){i[U.line]=U.column,L()}function _(){let U;for(;n._index<a.length;){const W=a[n._index];if(typeof W=="string")for(U=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===U&&n._bufferIndex<W.length;)w(W.charCodeAt(n._bufferIndex));else w(W)}}function w(U){f=f(U)}function C(U){Ue(U)?(n.line++,n.column=1,n.offset+=U===-3?2:1,L()):U!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),h.previous=U}function S(U,W){const Q=W||{};return Q.type=U,Q.start=b(),h.events.push(["enter",Q,h]),o.push(Q),Q}function O(U){const W=o.pop();return W.end=b(),h.events.push(["exit",W,h]),W}function P(U,W){R(U,W.from)}function N(U,W){W.restore()}function j(U,W){return Q;function Q(Y,V,le){let oe,te,ue,D;return Array.isArray(Y)?X(Y):"tokenize"in Y?X([Y]):q(Y);function q(Ne){return Xe;function Xe(Ye){const ae=Ye!==null&&Ne[Ye],Se=Ye!==null&&Ne.null,Ge=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Se)?Se:Se?[Se]:[]];return X(Ge)(Ye)}}function X(Ne){return oe=Ne,te=0,Ne.length===0?le:F(Ne[te])}function F(Ne){return Xe;function Xe(Ye){return D=$(),ue=Ne,Ne.partial||(h.currentConstruct=Ne),Ne.name&&h.parser.constructs.disable.null.includes(Ne.name)?Te():Ne.tokenize.call(W?Object.assign(Object.create(h),W):h,u,_e,Te)(Ye)}}function _e(Ne){return U(ue,D),V}function Te(Ne){return D.restore(),++te<oe.length?F(oe[te]):le}}}function R(U,W){U.resolveAll&&!s.includes(U)&&s.push(U),U.resolve&&jn(h.events,W,h.events.length-W,U.resolve(h.events.slice(W),h)),U.resolveTo&&(h.events=U.resolveTo(h.events,h))}function $(){const U=b(),W=h.previous,Q=h.currentConstruct,Y=h.events.length,V=Array.from(o);return{from:Y,restore:le};function le(){n=U,h.previous=W,h.currentConstruct=Q,h.events.length=Y,o=V,L()}}function L(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Mue(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Fue(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Bue(e){const n={constructs:X4([Due,...(e||{}).extensions||[]]),content:i(ele),defined:[],document:i(rle),flow:i(_ue),lazy:{},string:i(Eue),text:i(kue)};return n;function i(s){return a;function a(o){return Lue(n,s,o)}}}function $ue(e){for(;!tM(e););return e}const _P=/[\0\t\n\r]/g;function Uue(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const u=[];let h,f,p,v,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",r&&(s.charCodeAt(0)===65279&&p++,r=void 0);p<s.length;){if(_P.lastIndex=p,h=_P.exec(s),v=h&&h.index!==void 0?h.index:s.length,g=s.charCodeAt(v),!h){t=s.slice(p);break}if(g===10&&p===v&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),p<v&&(u.push(s.slice(p,v)),e+=v-p),g){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}p=v+1}return o&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const Hue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zue(e){return e.replace(Hue,Wue)}function Wue(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return Q4(r.slice(s?2:1),s?16:10)}return uE(r)||e}const oM={}.hasOwnProperty;function que(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Vue(r)($ue(Bue(r).document().write(Uue()(e,t,!0))))}function Vue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ro),autolinkProtocol:$,autolinkEmail:$,atxHeading:s($t),blockQuote:s(Se),characterEscape:$,characterReference:$,codeFenced:s(Ge),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ge,a),codeText:s(pe,a),codeTextData:$,data:$,codeFlowValue:$,definition:s(St),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(nt),hardBreakEscape:s(Ut),hardBreakTrailing:s(Ut),htmlFlow:s(cr,a),htmlFlowData:$,htmlText:s(cr,a),htmlTextData:$,image:s(ja),label:a,link:s(Ro),listItem:s(Fs),listItemValue:v,listOrdered:s(Ms,p),listUnordered:s(Ms),paragraph:s(Eu),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s($t),strong:s(eh),thematicBreak:s(rh)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:ae,autolinkProtocol:Ye,blockQuote:u(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:Ne,characterReference:Xe,codeFenced:u(_),codeFencedFence:x,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:L,codeIndented:u(w),codeText:u(V),codeTextData:L,data:L,definition:u(),definitionDestinationString:O,definitionLabelString:C,definitionTitleString:S,emphasis:u(),hardBreakEscape:u(W),hardBreakTrailing:u(W),htmlFlow:u(Q),htmlFlowData:L,htmlText:u(Y),htmlTextData:L,image:u(oe),label:ue,labelText:te,lineEnding:U,link:u(le),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:_e,resourceDestinationString:D,resourceTitleString:q,resource:X,setextHeading:u(R),setextHeadingLineSequence:j,setextHeadingText:N,strong:u(),thematicBreak:u()}};lM(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ce){let be={type:"root",children:[]};const ze={stack:[be],tokenStack:[],config:t,enter:o,exit:h,buffer:a,resume:f,data:r},Je=[];let at=-1;for(;++at<ce.length;)if(ce[at][1].type==="listOrdered"||ce[at][1].type==="listUnordered")if(ce[at][0]==="enter")Je.push(at);else{const xr=Je.pop();at=i(ce,xr,at)}for(at=-1;++at<ce.length;){const xr=t[ce[at][0]];oM.call(xr,ce[at][1].type)&&xr[ce[at][1].type].call(Object.assign({sliceSerialize:ce[at][2].sliceSerialize},ze),ce[at][1])}if(ze.tokenStack.length>0){const xr=ze.tokenStack[ze.tokenStack.length-1];(xr[1]||xP).call(ze,void 0,xr[0])}for(be.position={start:la(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:la(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},at=-1;++at<t.transforms.length;)be=t.transforms[at](be)||be;return be}function i(ce,be,ze){let Je=be-1,at=-1,xr=!1,Xi,Mn,Bs,Ra;for(;++Je<=ze;){const wr=ce[Je];switch(wr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wr[0]==="enter"?at++:at--,Ra=void 0;break}case"lineEndingBlank":{wr[0]==="enter"&&(Xi&&!Ra&&!at&&!Bs&&(Bs=Je),Ra=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ra=void 0}if(!at&&wr[0]==="enter"&&wr[1].type==="listItemPrefix"||at===-1&&wr[0]==="exit"&&(wr[1].type==="listUnordered"||wr[1].type==="listOrdered")){if(Xi){let Ni=Je;for(Mn=void 0;Ni--;){const yn=ce[Ni];if(yn[1].type==="lineEnding"||yn[1].type==="lineEndingBlank"){if(yn[0]==="exit")continue;Mn&&(ce[Mn][1].type="lineEndingBlank",xr=!0),yn[1].type="lineEnding",Mn=Ni}else if(!(yn[1].type==="linePrefix"||yn[1].type==="blockQuotePrefix"||yn[1].type==="blockQuotePrefixWhitespace"||yn[1].type==="blockQuoteMarker"||yn[1].type==="listItemIndent"))break}Bs&&(!Mn||Bs<Mn)&&(Xi._spread=!0),Xi.end=Object.assign({},Mn?ce[Mn][1].start:wr[1].end),ce.splice(Mn||Je,0,["exit",Xi,wr[2]]),Je++,ze++}if(wr[1].type==="listItemPrefix"){const Ni={type:"listItem",_spread:!1,start:Object.assign({},wr[1].start),end:void 0};Xi=Ni,ce.splice(Je,0,["enter",Ni,wr[2]]),Je++,ze++,Bs=void 0,Ra=!0}}}return ce[be][1]._spread=xr,ze}function s(ce,be){return ze;function ze(Je){o.call(this,ce(Je),Je),be&&be.call(this,Je)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ce,be,ze){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([be,ze||void 0]),ce.position={start:la(be.start),end:void 0}}function u(ce){return be;function be(ze){ce&&ce.call(this,ze),h.call(this,ze)}}function h(ce,be){const ze=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==ce.type&&(be?be.call(this,ce,Je[0]):(Je[1]||xP).call(this,ce,Je[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Yc({start:ce.start,end:ce.end})+"): its not open");ze.position.end=la(ce.end)}function f(){return lE(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(ce){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.lang=ce}function b(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.meta=ce}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.value=ce.replace(/(\r?\n|\r)$/g,"")}function C(ce){const be=this.resume(),ze=this.stack[this.stack.length-1];ze.label=be,ze.identifier=Ei(this.sliceSerialize(ce)).toLowerCase()}function S(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.title=ce}function O(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.url=ce}function P(ce){const be=this.stack[this.stack.length-1];if(!be.depth){const ze=this.sliceSerialize(ce).length;be.depth=ze}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function j(ce){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ce){const ze=this.stack[this.stack.length-1].children;let Je=ze[ze.length-1];(!Je||Je.type!=="text")&&(Je=th(),Je.position={start:la(ce.start),end:void 0},ze.push(Je)),this.stack.push(Je)}function L(ce){const be=this.stack.pop();be.value+=this.sliceSerialize(ce),be.position.end=la(ce.end)}function U(ce){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=be.children[be.children.length-1];ze.position.end=la(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&($.call(this,ce),L.call(this,ce))}function W(){this.data.atHardBreak=!0}function Q(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.value=ce}function Y(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.value=ce}function V(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.value=ce}function le(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=be,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function oe(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=be,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function te(ce){const be=this.sliceSerialize(ce),ze=this.stack[this.stack.length-2];ze.label=zue(be),ze.identifier=Ei(be).toLowerCase()}function ue(){const ce=this.stack[this.stack.length-1],be=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const Je=ce.children;ze.children=Je}else ze.alt=be}function D(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.url=ce}function q(){const ce=this.resume(),be=this.stack[this.stack.length-1];be.title=ce}function X(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function _e(ce){const be=this.resume(),ze=this.stack[this.stack.length-1];ze.label=be,ze.identifier=Ei(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Te(ce){this.data.characterReferenceType=ce.type}function Ne(ce){const be=this.sliceSerialize(ce),ze=this.data.characterReferenceType;let Je;ze?(Je=Q4(be,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Je=uE(be);const at=this.stack[this.stack.length-1];at.value+=Je}function Xe(ce){const be=this.stack.pop();be.position.end=la(ce.end)}function Ye(ce){L.call(this,ce);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(ce)}function ae(ce){L.call(this,ce);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(ce)}function Se(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function St(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nt(){return{type:"emphasis",children:[]}}function $t(){return{type:"heading",depth:0,children:[]}}function Ut(){return{type:"break"}}function cr(){return{type:"html",value:""}}function ja(){return{type:"image",title:null,url:"",alt:null}}function Ro(){return{type:"link",title:null,url:"",children:[]}}function Ms(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Fs(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Eu(){return{type:"paragraph",children:[]}}function eh(){return{type:"strong",children:[]}}function th(){return{type:"text",value:""}}function rh(){return{type:"thematicBreak"}}}function la(e){return{line:e.line,column:e.column,offset:e.offset}}function lM(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?lM(e,n):Kue(e,n)}}function Kue(e,t){let r;for(r in t)if(oM.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function xP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yc({start:t.start,end:t.end})+") is still open")}function Yue(e){const t=this;t.parser=r;function r(n){return que(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Gue(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Xue(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function Que(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Jue(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Zue(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ece(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=yu(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const h={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,h),e.applyData(t,h)}function tce(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rce(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function uM(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function nce(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return uM(e,t);const i={src:yu(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ice(e,t){const r={src:yu(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function sce(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function ace(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return uM(e,t);const i={href:yu(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function oce(e,t){const r={href:yu(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lce(e,t,r){const n=e.all(t),i=r?uce(r):cM(t),s={},a=[];if(typeof t.checked=="boolean"){const f=n[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const f=n[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const u=n[n.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,h),e.applyData(t,h)}function uce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=cM(r[n])}return t}function cM(e){const t=e.spread;return t??e.children.length>1}function cce(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function dce(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hce(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function fce(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pce(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Yi(t.children[1]),u=vg(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function mce(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let u=-1;const h=[];for(;++u<o;){const p=t.children[u],v={},g=a?a[u]:void 0;g&&(v.align=g);let b={type:"element",tagName:s,properties:v,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),h.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(t,f),e.applyData(t,f)}function gce(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const wP=9,EP=32;function vce(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(kP(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(kP(t.slice(i),i>0,!1)),s.join("")}function kP(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===wP||s===EP;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===wP||s===EP;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function yce(e,t){const r={type:"text",value:vce(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function bce(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const _ce={blockquote:Gue,break:Xue,code:Que,delete:Jue,emphasis:Zue,footnoteReference:ece,heading:tce,html:rce,imageReference:nce,image:ice,inlineCode:sce,linkReference:ace,link:oce,listItem:lce,list:cce,paragraph:dce,root:hce,strong:fce,table:pce,tableCell:gce,tableRow:mce,text:yce,thematicBreak:bce,toml:Kf,yaml:Kf,definition:Kf,footnoteDefinition:Kf};function Kf(){}const dM=-1,_g=0,Xc=1,wm=2,dE=3,hE=4,fE=5,pE=6,hM=7,fM=8,TP=typeof self=="object"?self:globalThis,xce=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case _g:case dM:return r(a,i);case Xc:{const o=r([],i);for(const u of a)o.push(n(u));return o}case wm:{const o=r({},i);for(const[u,h]of a)o[n(u)]=n(h);return o}case dE:return r(new Date(a),i);case hE:{const{source:o,flags:u}=a;return r(new RegExp(o,u),i)}case fE:{const o=r(new Map,i);for(const[u,h]of a)o.set(n(u),n(h));return o}case pE:{const o=r(new Set,i);for(const u of a)o.add(n(u));return o}case hM:{const{name:o,message:u}=a;return r(new TP[o](u),i)}case fM:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new TP[s](a),i)};return n},SP=e=>xce(new Map,e)(0),gl="",{toString:wce}={},{keys:Ece}=Object,Ac=e=>{const t=typeof e;if(t!=="object"||!e)return[_g,t];const r=wce.call(e).slice(8,-1);switch(r){case"Array":return[Xc,gl];case"Object":return[wm,gl];case"Date":return[dE,gl];case"RegExp":return[hE,gl];case"Map":return[fE,gl];case"Set":return[pE,gl];case"DataView":return[Xc,r]}return r.includes("Array")?[Xc,r]:r.includes("Error")?[hM,r]:[wm,r]},Yf=([e,t])=>e===_g&&(t==="function"||t==="symbol"),kce=(e,t,r,n)=>{const i=(a,o)=>{const u=n.push(a)-1;return r.set(o,u),u},s=a=>{if(r.has(a))return r.get(a);let[o,u]=Ac(a);switch(o){case _g:{let f=a;switch(u){case"bigint":o=fM,f=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);f=null;break;case"undefined":return i([dM],a)}return i([o,f],a)}case Xc:{if(u){let v=a;return u==="DataView"?v=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(v=new Uint8Array(a)),i([u,[...v]],a)}const f=[],p=i([o,f],a);for(const v of a)f.push(s(v));return p}case wm:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const f=[],p=i([o,f],a);for(const v of Ece(a))(e||!Yf(Ac(a[v])))&&f.push([s(v),s(a[v])]);return p}case dE:return i([o,a.toISOString()],a);case hE:{const{source:f,flags:p}=a;return i([o,{source:f,flags:p}],a)}case fE:{const f=[],p=i([o,f],a);for(const[v,g]of a)(e||!(Yf(Ac(v))||Yf(Ac(g))))&&f.push([s(v),s(g)]);return p}case pE:{const f=[],p=i([o,f],a);for(const v of a)(e||!Yf(Ac(v)))&&f.push(s(v));return p}}const{message:h}=a;return i([o,{name:u,message:h}],a)};return s},CP=(e,{json:t,lossy:r}={})=>{const n=[];return kce(!(t||r),!!t,new Map,n)(e),n},Gl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?SP(CP(e,t)):structuredClone(e):(e,t)=>SP(CP(e,t));function Tce(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Sce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Cce(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Tce,n=e.options.footnoteBackLabel||Sce,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[u]);if(!h)continue;const f=e.all(h),p=String(h.identifier).toUpperCase(),v=yu(p.toLowerCase());let g=0;const b=[],x=e.footnoteCounts.get(p);for(;x!==void 0&&++g<=x;){b.length>0&&b.push({type:"text",value:" "});let C=typeof r=="string"?r:r(u,g);typeof C=="string"&&(C={type:"text",value:C}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,g),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const _=f[f.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const C=_.children[_.children.length-1];C&&C.type==="text"?C.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...b)}else f.push(...b);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(f,!0)};e.patch(h,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Gl(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const xg=(function(e){if(e==null)return Pce;if(typeof e=="function")return wg(e);if(typeof e=="object")return Array.isArray(e)?Ace(e):Oce(e);if(typeof e=="string")return Nce(e);throw new Error("Expected function, string, or object as test")});function Ace(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=xg(e[r]);return wg(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Oce(e){const t=e;return wg(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Nce(e){return wg(t);function t(r){return r&&r.type===e}}function wg(e){return t;function t(r,n,i){return!!(Ice(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Pce(){return!0}function Ice(e){return e!==null&&typeof e=="object"&&"type"in e}const pM=[],jce=!0,P_=!1,Rce="skip";function mM(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=xg(i),a=n?-1:1;o(e,void 0,[])();function o(u,h,f){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return v;function v(){let g=pM,b,x,_;if((!t||s(u,h,f[f.length-1]||void 0))&&(g=Dce(r(u,f)),g[0]===P_))return g;if("children"in u&&u.children){const w=u;if(w.children&&g[0]!==Rce)for(x=(n?w.children.length:-1)+a,_=f.concat(w);x>-1&&x<w.children.length;){const C=w.children[x];if(b=o(C,x,_)(),b[0]===P_)return b;x=typeof b[1]=="number"?b[1]:x+a}}return g}}}function Dce(e){return Array.isArray(e)?e:typeof e=="number"?[jce,e]:e==null?pM:[e]}function Eg(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),mM(e,s,o,i);function o(u,h){const f=h[h.length-1],p=f?f.children.indexOf(u):void 0;return a(u,p,f)}}const I_={}.hasOwnProperty,Lce={};function Mce(e,t){const r=t||Lce,n=new Map,i=new Map,s=new Map,a={..._ce,...r.handlers},o={all:h,applyData:Bce,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:r,patch:Fce,wrap:Uce};return Eg(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?n:i,v=String(f.identifier).toUpperCase();p.has(v)||p.set(v,f)}}),o;function u(f,p){const v=f.type,g=o.handlers[v];if(I_.call(o.handlers,v)&&g)return g(o,f,p);if(o.options.passThrough&&o.options.passThrough.includes(v)){if("children"in f){const{children:x,..._}=f,w=Gl(_);return w.children=o.all(f),w}return Gl(f)}return(o.options.unknownHandler||$ce)(o,f,p)}function h(f){const p=[];if("children"in f){const v=f.children;let g=-1;for(;++g<v.length;){const b=o.one(v[g],f);if(b){if(g&&v[g-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=AP(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=AP(x.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function Fce(e,t){e.position&&(t.position=Soe(e))}function Bce(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Gl(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function $ce(e,t){const r=t.data||{},n="value"in t&&!(I_.call(r,"hProperties")||I_.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Uce(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function AP(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function OP(e,t){const r=Mce(e,t),n=r.one(e,void 0),i=Cce(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Hce(e,t){return e&&"run"in e?async function(r,n){const i=OP(r,{file:n,...t});await e.run(i,n)}:function(r,n){return OP(r,{file:n,...e||t})}}function NP(e){if(e)throw e}var jb,PP;function zce(){if(PP)return jb;PP=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(h){return typeof Array.isArray=="function"?Array.isArray(h):t.call(h)==="[object Array]"},s=function(h){if(!h||t.call(h)!=="[object Object]")return!1;var f=e.call(h,"constructor"),p=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!f&&!p)return!1;var v;for(v in h);return typeof v>"u"||e.call(h,v)},a=function(h,f){r&&f.name==="__proto__"?r(h,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):h[f.name]=f.newValue},o=function(h,f){if(f==="__proto__")if(e.call(h,f)){if(n)return n(h,f).value}else return;return h[f]};return jb=function u(){var h,f,p,v,g,b,x=arguments[0],_=1,w=arguments.length,C=!1;for(typeof x=="boolean"&&(C=x,x=arguments[1]||{},_=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});_<w;++_)if(h=arguments[_],h!=null)for(f in h)p=o(x,f),v=o(h,f),x!==v&&(C&&v&&(s(v)||(g=i(v)))?(g?(g=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},a(x,{name:f,newValue:u(C,b,v)})):typeof v<"u"&&a(x,{name:f,newValue:v}));return x},jb}var Wce=zce();const Rb=ni(Wce);function j_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qce(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...h){const f=e[++s];let p=-1;if(u){a(u);return}for(;++p<i.length;)(h[p]===null||h[p]===void 0)&&(h[p]=i[p]);i=h,f?Vce(f,o)(...h):a(null,...h)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Vce(e,t){let r;return n;function n(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(h){const f=h;if(o&&r)throw f;return i(f)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const Mi={basename:Kce,dirname:Yce,extname:Gce,join:Xce,sep:"/"};function Kce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Qd(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function Yce(e){if(Qd(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Gce(e){Qd(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function Xce(...e){let t=-1,r;for(;++t<e.length;)Qd(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Qce(r)}function Qce(e){Qd(e);const t=e.codePointAt(0)===47;let r=Jce(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Jce(e,t){let r="",n=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function Qd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Zce={cwd:ede};function ede(){return"/"}function R_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function tde(e){if(typeof e=="string")e=new URL(e);else if(!R_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return rde(e)}function rde(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Db=["history","path","basename","stem","extname","dirname"];class gM{constructor(t){let r;t?R_(t)?r={path:t}:typeof t=="string"||nde(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Zce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Db.length;){const s=Db[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)Db.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Mi.basename(this.path):void 0}set basename(t){Mb(t,"basename"),Lb(t,"basename"),this.path=Mi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mi.dirname(this.path):void 0}set dirname(t){IP(this.basename,"dirname"),this.path=Mi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mi.extname(this.path):void 0}set extname(t){if(Lb(t,"extname"),IP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){R_(t)&&(t=tde(t)),Mb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mi.basename(this.path,this.extname):void 0}set stem(t){Mb(t,"stem"),Lb(t,"stem"),this.path=Mi.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Hr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Lb(e,t){if(e&&e.includes(Mi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mi.sep+"`")}function Mb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function IP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function nde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ide=(function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),sde={}.hasOwnProperty;class mE extends ide{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=qce()}copy(){const t=new mE;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Rb(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?($b("data",this.frozen),this.namespace[t]=r,this):sde.call(this.namespace,t)&&this.namespace[t]||void 0:t?($b("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Gf(t),n=this.parser||this.Parser;return Fb("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Fb("process",this.parser||this.Parser),Bb("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=Gf(t),u=n.parse(o);n.run(u,o,function(f,p,v){if(f||!p||!v)return h(f);const g=p,b=n.stringify(g,v);lde(b)?v.value=b:v.result=b,h(f,v)});function h(f,p){f||!p?a(f):s?s(p):r(void 0,p)}}}processSync(t){let r=!1,n;return this.freeze(),Fb("processSync",this.parser||this.Parser),Bb("processSync",this.compiler||this.Compiler),this.process(t,i),RP("processSync","process",r),n;function i(s,a){r=!0,NP(s),n=a}}run(t,r,n){jP(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const u=Gf(r);i.run(t,u,h);function h(f,p,v){const g=p||t;f?o(f):a?a(g):n(void 0,g,v)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),RP("runSync","run",n),i;function s(a,o){NP(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=Gf(r),i=this.compiler||this.Compiler;return Bb("stringify",i),jP(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if($b("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(h){if(typeof h=="function")u(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[f,...p]=h;u(f,p)}else a(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function a(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(h.plugins),h.settings&&(i.settings=Rb(!0,i.settings,h.settings))}function o(h){let f=-1;if(h!=null)if(Array.isArray(h))for(;++f<h.length;){const p=h[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function u(h,f){let p=-1,v=-1;for(;++p<n.length;)if(n[p][0]===h){v=p;break}if(v===-1)n.push([h,...f]);else if(f.length>0){let[g,...b]=f;const x=n[v][1];j_(x)&&j_(g)&&(g=Rb(!0,x,g)),n[v]=[h,g,...b]}}}}const ade=new mE().freeze();function Fb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function $b(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jP(e){if(!j_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function RP(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Gf(e){return ode(e)?e:new gM(e)}function ode(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function lde(e){return typeof e=="string"||ude(e)}function ude(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",DP=[],LP={allowDangerousHtml:!0},dde=/^(https?|ircs?|mailto|xmpp)$/i,hde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fde(e){const t=pde(e),r=mde(e);return gde(t.runSync(t.parse(r),r),e)}function pde(e){const t=e.rehypePlugins||DP,r=e.remarkPlugins||DP,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...LP}:LP;return ade().use(Yue).use(r).use(Hce,n).use(t)}function mde(e){const t=e.children||"",r=new gM;return typeof t=="string"&&(r.value=t),r}function gde(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||vde;for(const f of hde)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+cde+f.id,void 0);return Eg(e,h),Poe(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function h(f,p,v){if(f.type==="raw"&&v&&typeof p=="number")return a?v.children.splice(p,1):v.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let g;for(g in Nb)if(Object.hasOwn(Nb,g)&&Object.hasOwn(f.properties,g)){const b=f.properties[g],x=Nb[g];(x===null||x.includes(f.tagName))&&(f.properties[g]=u(String(b||""),g,f))}}if(f.type==="element"){let g=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&n&&typeof p=="number"&&(g=!n(f,p,v)),g&&v&&typeof p=="number")return o&&f.children?v.children.splice(p,1,...f.children):v.children.splice(p,1),p}}}function vde(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||dde.test(e.slice(0,t))?e:""}function MP(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function yde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function bde(e,t,r){const i=xg((r||{}).ignore||[]),s=_de(t);let a=-1;for(;++a<s.length;)mM(e,"text",o);function o(h,f){let p=-1,v;for(;++p<f.length;){const g=f[p],b=v?v.children:void 0;if(i(g,b?b.indexOf(g):void 0,v))return;v=g}if(v)return u(h,f)}function u(h,f){const p=f[f.length-1],v=s[a][0],g=s[a][1];let b=0;const _=p.children.indexOf(h);let w=!1,C=[];v.lastIndex=0;let S=v.exec(h.value);for(;S;){const O=S.index,P={index:S.index,input:S.input,stack:[...f,h]};let N=g(...S,P);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?v.lastIndex=O+1:(b!==O&&C.push({type:"text",value:h.value.slice(b,O)}),Array.isArray(N)?C.push(...N):N&&C.push(N),b=O+S[0].length,w=!0),!v.global)break;S=v.exec(h.value)}return w?(b<h.value.length&&C.push({type:"text",value:h.value.slice(b)}),p.children.splice(_,1,...C)):C=[h],_+C.length}}function _de(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([xde(i[0]),wde(i[1])])}return t}function xde(e){return typeof e=="string"?new RegExp(yde(e),"g"):e}function wde(e){return typeof e=="function"?e:function(){return e}}const Ub="phrasing",Hb=["autolink","link","image","label"];function Ede(){return{transforms:[Nde],enter:{literalAutolink:Tde,literalAutolinkEmail:zb,literalAutolinkHttp:zb,literalAutolinkWww:zb},exit:{literalAutolink:Ode,literalAutolinkEmail:Ade,literalAutolinkHttp:Sde,literalAutolinkWww:Cde}}}function kde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ub,notInConstruct:Hb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ub,notInConstruct:Hb},{character:":",before:"[ps]",after:"\\/",inConstruct:Ub,notInConstruct:Hb}]}}function Tde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function zb(e){this.config.enter.autolinkProtocol.call(this,e)}function Sde(e){this.config.exit.autolinkProtocol.call(this,e)}function Cde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Ade(e){this.config.exit.autolinkEmail.call(this,e)}function Ode(e){this.exit(e)}function Nde(e){bde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Pde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Ide]],{ignore:["link","linkReference"]})}function Pde(e,t,r,n,i){let s="";if(!vM(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!jde(r)))return!1;const a=Rde(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function Ide(e,t,r,n){return!vM(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function jde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Rde(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=MP(e,"(");let s=MP(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function vM(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Ao(r)||yg(r))&&(!t||r!==47)}yM.peek=zde;function Dde(){this.buffer()}function Lde(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Mde(){this.buffer()}function Fde(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Bde(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Ei(this.sliceSerialize(e)).toLowerCase(),r.label=t}function $de(e){this.exit(e)}function Ude(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Ei(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Hde(e){this.exit(e)}function zde(){return"["}function yM(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function Wde(){return{enter:{gfmFootnoteCallString:Dde,gfmFootnoteCall:Lde,gfmFootnoteDefinitionLabelString:Mde,gfmFootnoteDefinition:Fde},exit:{gfmFootnoteCallString:Bde,gfmFootnoteCall:$de,gfmFootnoteDefinitionLabelString:Ude,gfmFootnoteDefinition:Hde}}}function qde(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:yM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const h=s.enter("footnoteDefinition"),f=s.enter("label");return u+=o.move(s.safe(s.associationId(n),{before:u,after:"]"})),f(),u+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?bM:Vde))),h(),u}}function Vde(e,t,r){return t===0?e:bM(e,t,r)}function bM(e,t,r){return(r?"":"    ")+e}const Kde=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];_M.peek=Jde;function Yde(){return{canContainEols:["delete"],enter:{strikethrough:Xde},exit:{strikethrough:Qde}}}function Gde(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Kde}],handlers:{delete:_M}}}function Xde(e){this.enter({type:"delete",children:[]},e)}function Qde(e){this.exit(e)}function _M(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Jde(){return"~"}function Zde(e){return e.length}function ehe(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||Zde,s=[],a=[],o=[],u=[];let h=0,f=-1;for(;++f<e.length;){const x=[],_=[];let w=-1;for(e[f].length>h&&(h=e[f].length);++w<e[f].length;){const C=the(e[f][w]);if(r.alignDelimiters!==!1){const S=i(C);_[w]=S,(u[w]===void 0||S>u[w])&&(u[w]=S)}x.push(C)}a[f]=x,o[f]=_}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<h;)s[p]=FP(n[p]);else{const x=FP(n);for(;++p<h;)s[p]=x}p=-1;const v=[],g=[];for(;++p<h;){const x=s[p];let _="",w="";x===99?(_=":",w=":"):x===108?_=":":x===114&&(w=":");let C=r.alignDelimiters===!1?1:Math.max(1,u[p]-_.length-w.length);const S=_+"-".repeat(C)+w;r.alignDelimiters!==!1&&(C=_.length+C+w.length,C>u[p]&&(u[p]=C),g[p]=C),v[p]=S}a.splice(1,0,v),o.splice(1,0,g),f=-1;const b=[];for(;++f<a.length;){const x=a[f],_=o[f];p=-1;const w=[];for(;++p<h;){const C=x[p]||"";let S="",O="";if(r.alignDelimiters!==!1){const P=u[p]-(_[p]||0),N=s[p];N===114?S=" ".repeat(P):N===99?P%2?(S=" ".repeat(P/2+.5),O=" ".repeat(P/2-.5)):(S=" ".repeat(P/2),O=S):O=" ".repeat(P)}r.delimiterStart!==!1&&!p&&w.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&C==="")&&(r.delimiterStart!==!1||p)&&w.push(" "),r.alignDelimiters!==!1&&w.push(S),w.push(C),r.alignDelimiters!==!1&&w.push(O),r.padding!==!1&&w.push(" "),(r.delimiterEnd!==!1||p!==h-1)&&w.push("|")}b.push(r.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return b.join(`
`)}function the(e){return e==null?"":String(e)}function FP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const BP={}.hasOwnProperty;function xM(e,t){const r=t||{};function n(i,...s){let a=n.invalid;const o=n.handlers;if(i&&BP.call(i,e)){const u=String(i[e]);a=BP.call(o,u)?o[u]:n.unknown}if(a)return a.call(this,i,...s)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function rhe(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),nhe);return i(),a}function nhe(e,t,r){return">"+(r?"":" ")+e}function ihe(e,t){return $P(e,t.inConstruct,!0)&&!$P(e,t.notInConstruct,!1)}function $P(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function UP(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&ihe(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function she(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function ahe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ohe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function lhe(e,t,r,n){const i=ohe(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(ahe(e,r)){const p=r.enter("codeIndented"),v=r.indentLines(s,uhe);return p(),v}const o=r.createTracker(n),u=i.repeat(Math.max(she(s,i)+1,3)),h=r.enter("codeFenced");let f=o.move(u);if(e.lang){const p=r.enter(`codeFencedLang${a}`);f+=o.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=r.enter(`codeFencedMeta${a}`);f+=o.move(" "),f+=o.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),p()}return f+=o.move(`
`),s&&(f+=o.move(s+`
`)),f+=o.move(u),h(),f}function uhe(e,t,r){return(r?"":"    ")+e}function gE(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function che(e,t,r,n){const i=gE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const u=r.createTracker(n);let h=u.move("[");return h+=u.move(r.safe(r.associationId(e),{before:h,after:"]",...u.current()})),h+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(o=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=r.enter(`title${s}`),h+=u.move(" "+i),h+=u.move(r.safe(e.title,{before:h,after:i,...u.current()})),h+=u.move(i),o()),a(),h}function dhe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function kd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Em(e,t,r){const n=Yl(e),i=Yl(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wM.peek=hhe;function wM(e,t,r,n){const i=dhe(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let u=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const h=u.charCodeAt(0),f=Em(n.before.charCodeAt(n.before.length-1),h,i);f.inside&&(u=kd(h)+u.slice(1));const p=u.charCodeAt(u.length-1),v=Em(n.after.charCodeAt(0),p,i);v.inside&&(u=u.slice(0,-1)+kd(p));const g=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+u+g}function hhe(e,t,r){return r.options.emphasis||"*"}function fhe(e,t){let r=!1;return Eg(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,P_}),!!((!e.depth||e.depth<3)&&lE(e)&&(t.options.setext||r))}function phe(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(fhe(e,r)){const f=r.enter("headingSetext"),p=r.enter("phrasing"),v=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),u=r.enter("phrasing");s.move(a+" ");let h=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=kd(h.charCodeAt(0))+h.slice(1)),h=h?a+" "+h:a,r.options.closeAtx&&(h+=" "+a),u(),o(),h}EM.peek=mhe;function EM(e){return e.value||""}function mhe(){return"<"}kM.peek=ghe;function kM(e,t,r,n){const i=gE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const u=r.createTracker(n);let h=u.move("![");return h+=u.move(r.safe(e.alt,{before:h,after:"]",...u.current()})),h+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(o=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=r.enter(`title${s}`),h+=u.move(" "+i),h+=u.move(r.safe(e.title,{before:h,after:i,...u.current()})),h+=u.move(i),o()),h+=u.move(")"),a(),h}function ghe(){return"!"}TM.peek=vhe;function TM(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let u=o.move("![");const h=r.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(h+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:u,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!h||h!==p?u+=o.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function vhe(){return"!"}SM.peek=yhe;function SM(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(n);){let h=u.index;n.charCodeAt(h)===10&&n.charCodeAt(h-1)===13&&h--,n=n.slice(0,h)+" "+n.slice(u.index+1)}}return i+n+i}function yhe(){return"`"}function CM(e,t){const r=lE(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}AM.peek=bhe;function AM(e,t,r,n){const i=gE(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,u;if(CM(e,r)){const f=r.stack;r.stack=[],o=r.enter("autolink");let p=a.move("<");return p+=a.move(r.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),r.stack=f,p}o=r.enter("link"),u=r.enter("label");let h=a.move("[");return h+=a.move(r.containerPhrasing(e,{before:h,after:"](",...a.current()})),h+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),h+=a.move("<"),h+=a.move(r.safe(e.url,{before:h,after:">",...a.current()})),h+=a.move(">")):(u=r.enter("destinationRaw"),h+=a.move(r.safe(e.url,{before:h,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=r.enter(`title${s}`),h+=a.move(" "+i),h+=a.move(r.safe(e.title,{before:h,after:i,...a.current()})),h+=a.move(i),u()),h+=a.move(")"),o(),h}function bhe(e,t,r){return CM(e,r)?"<":"["}OM.peek=_he;function OM(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let u=o.move("[");const h=r.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(h+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:u,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!h||h!==p?u+=o.move(p+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function _he(){return"["}function vE(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xhe(e){const t=vE(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function whe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function NM(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ehe(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?whe(r):vE(r);const o=e.ordered?a==="."?")":".":xhe(r);let u=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),NM(r)===a&&f){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),r.bulletCurrent=a;const h=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),h}function khe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function The(e,t,r,n){const i=khe(r);let s=r.bulletCurrent||vE(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=r.enter("listItem"),h=r.indentLines(r.containerFlow(e,o.current()),f);return u(),h;function f(p,v,g){return v?(g?"":" ".repeat(a))+p:(g?s:s+" ".repeat(a-s.length))+p}}function She(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const Che=xg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ahe(e,t,r,n){return(e.children.some(function(a){return Che(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Ohe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}PM.peek=Nhe;function PM(e,t,r,n){const i=Ohe(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let u=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const h=u.charCodeAt(0),f=Em(n.before.charCodeAt(n.before.length-1),h,i);f.inside&&(u=kd(h)+u.slice(1));const p=u.charCodeAt(u.length-1),v=Em(n.after.charCodeAt(0),p,i);v.inside&&(u=u.slice(0,-1)+kd(p));const g=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+u+g}function Nhe(e,t,r){return r.options.strong||"*"}function Phe(e,t,r,n){return r.safe(e.value,n)}function Ihe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function jhe(e,t,r){const n=(NM(r)+(r.options.ruleSpaces?" ":"")).repeat(Ihe(r));return r.options.ruleSpaces?n.slice(0,-1):n}const IM={blockquote:rhe,break:UP,code:lhe,definition:che,emphasis:wM,hardBreak:UP,heading:phe,html:EM,image:kM,imageReference:TM,inlineCode:SM,link:AM,linkReference:OM,list:Ehe,listItem:The,paragraph:She,root:Ahe,strong:PM,text:Phe,thematicBreak:jhe};function Rhe(){return{enter:{table:Dhe,tableData:HP,tableHeader:HP,tableRow:Mhe},exit:{codeText:Fhe,table:Lhe,tableData:Wb,tableHeader:Wb,tableRow:Wb}}}function Dhe(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Lhe(e){this.exit(e),this.data.inTable=void 0}function Mhe(e){this.enter({type:"tableRow",children:[]},e)}function Wb(e){this.exit(e)}function HP(e){this.enter({type:"tableCell",children:[]},e)}function Fhe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Bhe));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Bhe(e,t){return t==="|"?t:e}function $he(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:u,tableRow:o}};function a(g,b,x,_){return h(f(g,x,_),g.align)}function o(g,b,x,_){const w=p(g,x,_),C=h([w]);return C.slice(0,C.indexOf(`
`))}function u(g,b,x,_){const w=x.enter("tableCell"),C=x.enter("phrasing"),S=x.containerPhrasing(g,{..._,before:s,after:s});return C(),w(),S}function h(g,b){return ehe(g,{align:b,alignDelimiters:n,padding:r,stringLength:i})}function f(g,b,x){const _=g.children;let w=-1;const C=[],S=b.enter("table");for(;++w<_.length;)C[w]=p(_[w],b,x);return S(),C}function p(g,b,x){const _=g.children;let w=-1;const C=[],S=b.enter("tableRow");for(;++w<_.length;)C[w]=u(_[w],g,b,x);return S(),C}function v(g,b,x){let _=IM.inlineCode(g,b,x);return x.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Uhe(){return{exit:{taskListCheckValueChecked:zP,taskListCheckValueUnchecked:zP,paragraph:zhe}}}function Hhe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Whe}}}function zP(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function zhe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Whe(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let u=IM.listItem(e,t,r,{...n,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),u;function h(f){return f+a}}function qhe(){return[Ede(),Wde(),Yde(),Rhe(),Uhe()]}function Vhe(e){return{extensions:[kde(),qde(e),Gde(),$he(e),Hhe()]}}const Khe={tokenize:Zhe,partial:!0},jM={tokenize:efe,partial:!0},RM={tokenize:tfe,partial:!0},DM={tokenize:rfe,partial:!0},Yhe={tokenize:nfe,partial:!0},LM={name:"wwwAutolink",tokenize:Qhe,previous:FM},MM={name:"protocolAutolink",tokenize:Jhe,previous:BM},Ls={name:"emailAutolink",tokenize:Xhe,previous:$M},Gi={};function Ghe(){return{text:Gi}}let Za=48;for(;Za<123;)Gi[Za]=Ls,Za++,Za===58?Za=65:Za===91&&(Za=97);Gi[43]=Ls;Gi[45]=Ls;Gi[46]=Ls;Gi[95]=Ls;Gi[72]=[Ls,MM];Gi[104]=[Ls,MM];Gi[87]=[Ls,LM];Gi[119]=[Ls,LM];function Xhe(e,t,r){const n=this;let i,s;return a;function a(p){return!D_(p)||!$M.call(n,n.previous)||yE(n.events)?r(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return D_(p)?(e.consume(p),o):p===64?(e.consume(p),u):r(p)}function u(p){return p===46?e.check(Yhe,f,h)(p):p===45||p===95||$r(p)?(s=!0,e.consume(p),u):f(p)}function h(p){return e.consume(p),i=!0,u}function f(p){return s&&i&&Xr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):r(p)}}function Qhe(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!FM.call(n,n.previous)||yE(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Khe,e.attempt(jM,e.attempt(RM,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Jhe(e,t,r){const n=this;let i="",s=!1;return a;function a(p){return(p===72||p===104)&&BM.call(n,n.previous)&&!yE(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),o):r(p)}function o(p){if(Xr(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),u}return r(p)}function u(p){return p===47?(e.consume(p),s?h:(s=!0,u)):r(p)}function h(p){return p===null||xm(p)||_t(p)||Ao(p)||yg(p)?r(p):e.attempt(jM,e.attempt(RM,f),r)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Zhe(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function efe(e,t,r){let n,i,s;return a;function a(h){return h===46||h===95?e.check(DM,u,o)(h):h===null||_t(h)||Ao(h)||h!==45&&yg(h)?u(h):(s=!0,e.consume(h),a)}function o(h){return h===95?n=!0:(i=n,n=void 0),e.consume(h),a}function u(h){return i||n||!s?r(h):t(h)}}function tfe(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(DM,t,s)(a):a===null||_t(a)||Ao(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function rfe(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||_t(o)||Ao(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||_t(o)||Ao(o)?t(o):n(o)}function s(o){return Xr(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):Xr(o)?(e.consume(o),a):r(o)}}function nfe(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return $r(s)?r(s):t(s)}}function FM(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||_t(e)}function BM(e){return!Xr(e)}function $M(e){return!(e===47||D_(e))}function D_(e){return e===43||e===45||e===46||e===95||$r(e)}function yE(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const ife={tokenize:hfe,partial:!0};function sfe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ufe,continuation:{tokenize:cfe},exit:dfe}},text:{91:{name:"gfmFootnoteCall",tokenize:lfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:afe,resolveTo:ofe}}}}function afe(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const u=n.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return r(u);const h=Ei(n.sliceSerialize({start:a.end,end:n.now()}));return h.codePointAt(0)!==94||!s.includes(h.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function ofe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function lfe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?r(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(p){if(s>999||p===93&&!a||p===null||p===91||_t(p))return r(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(Ei(n.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(p)}return _t(p)||(a=!0),s++,e.consume(p),p===92?f:h}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,h):h(p)}}function ufe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(b)}function f(b){if(a>999||b===93&&!o||b===null||b===91||_t(b))return r(b);if(b===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=Ei(n.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return _t(b)||(o=!0),a++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,f):f(b)}function v(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),st(e,g,"gfmFootnoteDefinitionWhitespace")):r(b)}function g(b){return t(b)}}function cfe(e,t,r){return e.check(Xd,t,e.attempt(ife,t,r))}function dfe(e){e.exit("gfmFootnoteDefinition")}function hfe(e,t,r){const n=this;return st(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function ffe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let h=u;for(;h--;)if(a[h][0]==="exit"&&a[h][1].type==="strikethroughSequenceTemporary"&&a[h][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[h][1].end.offset-a[h][1].start.offset){a[u][1].type="strikethroughSequence",a[h][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[h][1].start),end:Object.assign({},a[u][1].end)},p={type:"strikethroughText",start:Object.assign({},a[h][1].end),end:Object.assign({},a[u][1].start)},v=[["enter",f,o],["enter",a[h][1],o],["exit",a[h][1],o],["enter",p,o]],g=o.parser.constructs.insideSpan.null;g&&jn(v,v.length,0,bg(g,a.slice(h+1,u),o)),jn(v,v.length,0,[["exit",p,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",f,o]]),jn(a,h-1,u-h+3,v),u=h+v.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const h=this.previous,f=this.events;let p=0;return v;function v(b){return h===126&&f[f.length-1][1].type!=="characterEscape"?u(b):(a.enter("strikethroughSequenceTemporary"),g(b))}function g(b){const x=Yl(h);if(b===126)return p>1?u(b):(a.consume(b),p++,g);if(p<2&&!r)return u(b);const _=a.exit("strikethroughSequenceTemporary"),w=Yl(b);return _._open=!w||w===2&&!!x,_._close=!x||x===2&&!!w,o(b)}}}class pfe{constructor(){this.map=[]}add(t,r,n){mfe(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function mfe(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function gfe(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function vfe(){return{flow:{null:{name:"table",tokenize:yfe,resolveAll:bfe}}}}function yfe(e,t,r){const n=this;let i=0,s=0,a;return o;function o(L){let U=n.events.length-1;for(;U>-1;){const Y=n.events[U][1].type;if(Y==="lineEnding"||Y==="linePrefix")U--;else break}const W=U>-1?n.events[U][1].type:null,Q=W==="tableHead"||W==="tableRow"?N:u;return Q===N&&n.parser.lazy[n.now().line]?r(L):Q(L)}function u(L){return e.enter("tableHead"),e.enter("tableRow"),h(L)}function h(L){return L===124||(a=!0,s+=1),f(L)}function f(L){return L===null?r(L):Ue(L)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),g):r(L):rt(L)?st(e,f,"whitespace")(L):(s+=1,a&&(a=!1,i+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),a=!0,f):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||_t(L)?(e.exit("data"),f(L)):(e.consume(L),L===92?v:p)}function v(L){return L===92||L===124?(e.consume(L),p):p(L)}function g(L){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(L):(e.enter("tableDelimiterRow"),a=!1,rt(L)?st(e,b,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):b(L))}function b(L){return L===45||L===58?_(L):L===124?(a=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),x):P(L)}function x(L){return rt(L)?st(e,_,"whitespace")(L):_(L)}function _(L){return L===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),w):L===45?(s+=1,w(L)):L===null||Ue(L)?O(L):P(L)}function w(L){return L===45?(e.enter("tableDelimiterFiller"),C(L)):P(L)}function C(L){return L===45?(e.consume(L),C):L===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(L))}function S(L){return rt(L)?st(e,O,"whitespace")(L):O(L)}function O(L){return L===124?b(L):L===null||Ue(L)?!a||i!==s?P(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):P(L)}function P(L){return r(L)}function N(L){return e.enter("tableRow"),j(L)}function j(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),j):L===null||Ue(L)?(e.exit("tableRow"),t(L)):rt(L)?st(e,j,"whitespace")(L):(e.enter("data"),R(L))}function R(L){return L===null||L===124||_t(L)?(e.exit("data"),j(L)):(e.consume(L),L===92?$:R)}function $(L){return L===92||L===124?(e.consume(L),R):R(L)}}function bfe(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,h,f,p;const v=new pfe;for(;++r<e.length;){const g=e[r],b=g[1];g[0]==="enter"?b.type==="tableHead"?(o=!1,u!==0&&(WP(v,t,u,h,f),f=void 0,u=0),h={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(r,0,[["enter",h,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(r,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],p=Xf(v,t,s,i,void 0,p),s=[0,0,0,0]),a[2]=r)):b.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],p=Xf(v,t,s,i,void 0,p)),s=a,a=[s[1],r,0,0])):b.type==="tableHead"?(o=!0,u=r):b.type==="tableRow"||b.type==="tableDelimiterRow"?(u=r,s[1]!==0?(a[0]=a[1],p=Xf(v,t,s,i,r,p)):a[1]!==0&&(p=Xf(v,t,a,i,r,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=r)}for(u!==0&&WP(v,t,u,h,f),v.consume(t.events),r=-1;++r<t.events.length;){const g=t.events[r];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=gfe(t.events,r))}return e}function Xf(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},wl(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const u=wl(t.events,r[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const h=wl(t.events,r[2]),f=wl(t.events,r[3]),p={type:o,start:Object.assign({},h),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",p,t]]),n!==2){const v=t.events[r[2]],g=t.events[r[3]];if(v[1].end=Object.assign({},g[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const b=r[2]+1,x=r[3]-r[2]-1;e.add(b,x,[])}}e.add(r[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},wl(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function WP(e,t,r,n,i){const s=[],a=wl(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function wl(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const _fe={name:"tasklistCheck",tokenize:wfe};function xfe(){return{text:{91:_fe}}}function wfe(e,t,r){const n=this;return i;function i(u){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return _t(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):r(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(u)}function o(u){return Ue(u)?t(u):rt(u)?e.check({tokenize:Efe},t,r)(u):r(u)}}function Efe(e,t,r){return st(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function kfe(e){return X4([Ghe(),sfe(),ffe(e),vfe(),xfe()])}const Tfe={};function Sfe(e){const t=this,r=e||Tfe,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(kfe(r)),s.push(qhe()),a.push(Vhe(r))}const qP=/[#.]/g;function Cfe(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){qP.lastIndex=i;const o=qP.exec(r),u=r.slice(i,o?o.index:r.length);u&&(s?s==="#"?n.id=u:Array.isArray(n.className)?n.className.push(u):n.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function UM(e,t,r){const n=r?Pfe(r):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const h=a;o.unshift(h)}else{u=Cfe(s,t);const h=u.tagName.toLowerCase(),f=n?n.get(h):void 0;if(u.tagName=f||h,Afe(a))o.unshift(a);else for(const[p,v]of Object.entries(a))Ofe(e,u.properties,p,v)}for(const h of o)L_(u.children,h);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function Afe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Ofe(e,t,r,n){const i=gg(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=iP(n):i.commaSeparated?s=ZN(n):i.commaOrSpaceSeparated?s=iP(ZN(n).join(" ")):s=VP(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?Nfe(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(VP(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function L_(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)L_(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?L_(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function VP(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||wd(r)===wd(t)))return!0}return r}function Nfe(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function Pfe(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const Ife=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],jfe=UM(Gd,"div"),Rfe=UM(Na,"g",Ife);function Dfe(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=r[a];if(o===void 0){const u=KP(t,r[a-1]);o=u===-1?t.length+1:u+1,r[a]=o}if(o>s)return{line:a+1,column:s-(a>0?r[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const o=r[r.length-1],u=KP(t,o),h=u===-1?t.length+1:u+1;if(o===h)break;r.push(h)}const a=(s.line>1?r[s.line-2]:0)+s.column-1;if(a<r[s.line-1])return a}}}function KP(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const fo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},HM={}.hasOwnProperty,Lfe=Object.prototype;function Mfe(e,t){const r=t||{};return bE({file:r.file||void 0,location:!1,schema:r.space==="svg"?Na:Gd,verbose:r.verbose||!1},e)}function bE(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},up(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:zM(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=Dfe(s),o=a.toPoint(0),u=a.toPoint(s.length);r.position={start:o,end:u}}return r}case"#documentType":{const n=t;return r={type:"doctype"},up(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},up(e,n,r),r}default:return r=Ffe(e,t),r}}function zM(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=bE(e,t[r]);n.push(i)}return n}function Ffe(e,t){const r=e.schema;e.schema=t.namespaceURI===fo.svg?Na:Gd;let n=-1;const i={};for(;++n<t.attrs.length;){const o=t.attrs[n],u=(o.prefix?o.prefix+":":"")+o.name;HM.call(Lfe,u)||(i[u]=o.value)}const a=(e.schema.space==="svg"?Rfe:jfe)(t.tagName,i,zM(e,t.childNodes));if(up(e,t,a),a.tagName==="template"){const o=t,u=o.sourceCodeLocation,h=u&&u.startTag&&Sl(u.startTag),f=u&&u.endTag&&Sl(u.endTag),p=bE(e,o.content);h&&f&&e.file&&(p.position={start:h.end,end:f.start}),a.content=p}return e.schema=r,a}function up(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=Bfe(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function Bfe(e,t,r){const n=Sl(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(r.attrs)for(a in r.attrs)HM.call(r.attrs,a)&&(s[gg(e.schema,a).property]=Sl(r.attrs[a]));r.startTag;const o=Sl(r.startTag),u=r.endTag?Sl(r.endTag):void 0,h={opening:o};u&&(h.closing=u),h.properties=s,t.data={position:h}}}return n}function Sl(e){const t=YP({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=YP({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function YP(e){return e.line&&e.column?e:void 0}const $fe={},Ufe={}.hasOwnProperty,WM=xM("type",{handlers:{root:zfe,element:Yfe,text:Vfe,comment:Kfe,doctype:qfe}});function Hfe(e,t){const n=(t||$fe).space;return WM(e,n==="svg"?Na:Gd)}function zfe(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=_E(e.children,r,t),bu(e,r),r}function Wfe(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=_E(e.children,r,t),bu(e,r),r}function qfe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return bu(e,t),t}function Vfe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return bu(e,t),t}function Kfe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return bu(e,t),t}function Yfe(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=Na);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Ufe.call(e.properties,s)){const u=Gfe(n,s,e.properties[s]);u&&i.push(u)}}const a=n.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:fo[a],childNodes:[],parentNode:null};return o.childNodes=_E(e.children,o,n),bu(e,o),e.tagName==="template"&&e.content&&(o.content=Wfe(e.content,n)),o}function Gfe(e,t,r){const n=gg(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?D4(r):z4(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=n.attribute.slice(0,s)),i.namespace=fo[n.space]}return i}function _E(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const s=WM(e[n],r);s.parentNode=t,i.push(s)}return i}function bu(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const Xfe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Qfe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),jt="";var M;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(M||(M={}));const ln={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function qM(e){return e>=55296&&e<=57343}function Jfe(e){return e>=56320&&e<=57343}function Zfe(e,t){return(e-55296)*1024+9216+t}function VM(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function KM(e){return e>=64976&&e<=65007||Qfe.has(e)}var se;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(se||(se={}));const epe=65536;class tpe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=epe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,a=i+r,o=s+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(Jfe(r))return this.pos++,this._addGap(),Zfe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,M.EOF;return this._err(se.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;const n=this.html.charCodeAt(r);return n===M.CARRIAGE_RETURN?M.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let t=this.html.charCodeAt(this.pos);return t===M.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,M.LINE_FEED):t===M.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,qM(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===M.LINE_FEED||t===M.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){VM(t)?this._err(se.controlCharacterInInputStream):KM(t)&&this._err(se.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var et;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(et||(et={}));function YM(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const rpe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),npe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ipe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=npe.get(e))!==null&&t!==void 0?t:e}var vr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(vr||(vr={}));const spe=32;var ya;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ya||(ya={}));function M_(e){return e>=vr.ZERO&&e<=vr.NINE}function ape(e){return e>=vr.UPPER_A&&e<=vr.UPPER_F||e>=vr.LOWER_A&&e<=vr.LOWER_F}function ope(e){return e>=vr.UPPER_A&&e<=vr.UPPER_Z||e>=vr.LOWER_A&&e<=vr.LOWER_Z||M_(e)}function lpe(e){return e===vr.EQUALS||ope(e)}var pr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(pr||(pr={}));var fs;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(fs||(fs={}));class upe{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=pr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=fs.Strict}startEntity(t){this.decodeMode=t,this.state=pr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case pr.EntityStart:return t.charCodeAt(r)===vr.NUM?(this.state=pr.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=pr.NamedEntity,this.stateNamedEntity(t,r));case pr.NumericStart:return this.stateNumericStart(t,r);case pr.NumericDecimal:return this.stateNumericDecimal(t,r);case pr.NumericHex:return this.stateNumericHex(t,r);case pr.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|spe)===vr.LOWER_X?(this.state=pr.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=pr.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(M_(i)||ape(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(M_(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===vr.SEMI)this.consumed+=1;else if(this.decodeMode===fs.Strict)return 0;return this.emitCodePoint(ipe(this.result),this.consumed),this.errors&&(t!==vr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&ya.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=cpe(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===fs.Attribute&&(s===0||lpe(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&ya.VALUE_LENGTH)>>14,s!==0){if(a===vr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==fs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&ya.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~ya.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case pr.NamedEntity:return this.result!==0&&(this.decodeMode!==fs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case pr.NumericDecimal:return this.emitNumericEntity(0,2);case pr.NumericHex:return this.emitNumericEntity(0,3);case pr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case pr.EntityStart:return 0}}}function cpe(e,t,r,n){const i=(t&ya.BRANCH_LENGTH)>>7,s=t&ya.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const u=n-s;return u<0||u>=i?-1:e[r+u]-1}let a=r,o=a+i-1;for(;a<=o;){const u=a+o>>>1,h=e[u];if(h<n)a=u+1;else if(h>n)o=u-1;else return e[u+i]}return-1}var he;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(he||(he={}));var yo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(yo||(yo={}));var Gn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Gn||(Gn={}));var Z;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Z||(Z={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(E||(E={}));const dpe=new Map([[Z.A,E.A],[Z.ADDRESS,E.ADDRESS],[Z.ANNOTATION_XML,E.ANNOTATION_XML],[Z.APPLET,E.APPLET],[Z.AREA,E.AREA],[Z.ARTICLE,E.ARTICLE],[Z.ASIDE,E.ASIDE],[Z.B,E.B],[Z.BASE,E.BASE],[Z.BASEFONT,E.BASEFONT],[Z.BGSOUND,E.BGSOUND],[Z.BIG,E.BIG],[Z.BLOCKQUOTE,E.BLOCKQUOTE],[Z.BODY,E.BODY],[Z.BR,E.BR],[Z.BUTTON,E.BUTTON],[Z.CAPTION,E.CAPTION],[Z.CENTER,E.CENTER],[Z.CODE,E.CODE],[Z.COL,E.COL],[Z.COLGROUP,E.COLGROUP],[Z.DD,E.DD],[Z.DESC,E.DESC],[Z.DETAILS,E.DETAILS],[Z.DIALOG,E.DIALOG],[Z.DIR,E.DIR],[Z.DIV,E.DIV],[Z.DL,E.DL],[Z.DT,E.DT],[Z.EM,E.EM],[Z.EMBED,E.EMBED],[Z.FIELDSET,E.FIELDSET],[Z.FIGCAPTION,E.FIGCAPTION],[Z.FIGURE,E.FIGURE],[Z.FONT,E.FONT],[Z.FOOTER,E.FOOTER],[Z.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[Z.FORM,E.FORM],[Z.FRAME,E.FRAME],[Z.FRAMESET,E.FRAMESET],[Z.H1,E.H1],[Z.H2,E.H2],[Z.H3,E.H3],[Z.H4,E.H4],[Z.H5,E.H5],[Z.H6,E.H6],[Z.HEAD,E.HEAD],[Z.HEADER,E.HEADER],[Z.HGROUP,E.HGROUP],[Z.HR,E.HR],[Z.HTML,E.HTML],[Z.I,E.I],[Z.IMG,E.IMG],[Z.IMAGE,E.IMAGE],[Z.INPUT,E.INPUT],[Z.IFRAME,E.IFRAME],[Z.KEYGEN,E.KEYGEN],[Z.LABEL,E.LABEL],[Z.LI,E.LI],[Z.LINK,E.LINK],[Z.LISTING,E.LISTING],[Z.MAIN,E.MAIN],[Z.MALIGNMARK,E.MALIGNMARK],[Z.MARQUEE,E.MARQUEE],[Z.MATH,E.MATH],[Z.MENU,E.MENU],[Z.META,E.META],[Z.MGLYPH,E.MGLYPH],[Z.MI,E.MI],[Z.MO,E.MO],[Z.MN,E.MN],[Z.MS,E.MS],[Z.MTEXT,E.MTEXT],[Z.NAV,E.NAV],[Z.NOBR,E.NOBR],[Z.NOFRAMES,E.NOFRAMES],[Z.NOEMBED,E.NOEMBED],[Z.NOSCRIPT,E.NOSCRIPT],[Z.OBJECT,E.OBJECT],[Z.OL,E.OL],[Z.OPTGROUP,E.OPTGROUP],[Z.OPTION,E.OPTION],[Z.P,E.P],[Z.PARAM,E.PARAM],[Z.PLAINTEXT,E.PLAINTEXT],[Z.PRE,E.PRE],[Z.RB,E.RB],[Z.RP,E.RP],[Z.RT,E.RT],[Z.RTC,E.RTC],[Z.RUBY,E.RUBY],[Z.S,E.S],[Z.SCRIPT,E.SCRIPT],[Z.SEARCH,E.SEARCH],[Z.SECTION,E.SECTION],[Z.SELECT,E.SELECT],[Z.SOURCE,E.SOURCE],[Z.SMALL,E.SMALL],[Z.SPAN,E.SPAN],[Z.STRIKE,E.STRIKE],[Z.STRONG,E.STRONG],[Z.STYLE,E.STYLE],[Z.SUB,E.SUB],[Z.SUMMARY,E.SUMMARY],[Z.SUP,E.SUP],[Z.TABLE,E.TABLE],[Z.TBODY,E.TBODY],[Z.TEMPLATE,E.TEMPLATE],[Z.TEXTAREA,E.TEXTAREA],[Z.TFOOT,E.TFOOT],[Z.TD,E.TD],[Z.TH,E.TH],[Z.THEAD,E.THEAD],[Z.TITLE,E.TITLE],[Z.TR,E.TR],[Z.TRACK,E.TRACK],[Z.TT,E.TT],[Z.U,E.U],[Z.UL,E.UL],[Z.SVG,E.SVG],[Z.VAR,E.VAR],[Z.WBR,E.WBR],[Z.XMP,E.XMP]]);function _u(e){var t;return(t=dpe.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const ge=E,hpe={[he.HTML]:new Set([ge.ADDRESS,ge.APPLET,ge.AREA,ge.ARTICLE,ge.ASIDE,ge.BASE,ge.BASEFONT,ge.BGSOUND,ge.BLOCKQUOTE,ge.BODY,ge.BR,ge.BUTTON,ge.CAPTION,ge.CENTER,ge.COL,ge.COLGROUP,ge.DD,ge.DETAILS,ge.DIR,ge.DIV,ge.DL,ge.DT,ge.EMBED,ge.FIELDSET,ge.FIGCAPTION,ge.FIGURE,ge.FOOTER,ge.FORM,ge.FRAME,ge.FRAMESET,ge.H1,ge.H2,ge.H3,ge.H4,ge.H5,ge.H6,ge.HEAD,ge.HEADER,ge.HGROUP,ge.HR,ge.HTML,ge.IFRAME,ge.IMG,ge.INPUT,ge.LI,ge.LINK,ge.LISTING,ge.MAIN,ge.MARQUEE,ge.MENU,ge.META,ge.NAV,ge.NOEMBED,ge.NOFRAMES,ge.NOSCRIPT,ge.OBJECT,ge.OL,ge.P,ge.PARAM,ge.PLAINTEXT,ge.PRE,ge.SCRIPT,ge.SECTION,ge.SELECT,ge.SOURCE,ge.STYLE,ge.SUMMARY,ge.TABLE,ge.TBODY,ge.TD,ge.TEMPLATE,ge.TEXTAREA,ge.TFOOT,ge.TH,ge.THEAD,ge.TITLE,ge.TR,ge.TRACK,ge.UL,ge.WBR,ge.XMP]),[he.MATHML]:new Set([ge.MI,ge.MO,ge.MN,ge.MS,ge.MTEXT,ge.ANNOTATION_XML]),[he.SVG]:new Set([ge.TITLE,ge.FOREIGN_OBJECT,ge.DESC]),[he.XLINK]:new Set,[he.XML]:new Set,[he.XMLNS]:new Set},F_=new Set([ge.H1,ge.H2,ge.H3,ge.H4,ge.H5,ge.H6]);Z.STYLE,Z.SCRIPT,Z.XMP,Z.IFRAME,Z.NOEMBED,Z.NOFRAMES,Z.PLAINTEXT;var B;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(B||(B={}));const Kt={DATA:B.DATA,RCDATA:B.RCDATA,RAWTEXT:B.RAWTEXT,SCRIPT_DATA:B.SCRIPT_DATA,PLAINTEXT:B.PLAINTEXT,CDATA_SECTION:B.CDATA_SECTION};function fpe(e){return e>=M.DIGIT_0&&e<=M.DIGIT_9}function Uc(e){return e>=M.LATIN_CAPITAL_A&&e<=M.LATIN_CAPITAL_Z}function ppe(e){return e>=M.LATIN_SMALL_A&&e<=M.LATIN_SMALL_Z}function ca(e){return ppe(e)||Uc(e)}function GP(e){return ca(e)||fpe(e)}function Qf(e){return e+32}function GM(e){return e===M.SPACE||e===M.LINE_FEED||e===M.TABULATION||e===M.FORM_FEED}function XP(e){return GM(e)||e===M.SOLIDUS||e===M.GREATER_THAN_SIGN}function mpe(e){return e===M.NULL?se.nullCharacterReference:e>1114111?se.characterReferenceOutsideUnicodeRange:qM(e)?se.surrogateCharacterReference:KM(e)?se.noncharacterCharacterReference:VM(e)||e===M.CARRIAGE_RETURN?se.controlCharacterReference:null}class gpe{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=B.DATA,this.returnState=B.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new tpe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new upe(rpe,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(se.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(se.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=mpe(n);i&&this._err(i,1)}}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:et.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:et.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:et.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:et.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(YM(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(se.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=_u(t.tagName),t.type===et.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(se.endTagWithAttributes),t.selfClosing&&this._err(se.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case et.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case et.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case et.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:et.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=GM(t)?et.WHITESPACE_CHARACTER:t===M.NULL?et.NULL_CHARACTER:et.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(et.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=B.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?fs.Attribute:fs.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===B.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case B.DATA:{this._stateData(t);break}case B.RCDATA:{this._stateRcdata(t);break}case B.RAWTEXT:{this._stateRawtext(t);break}case B.SCRIPT_DATA:{this._stateScriptData(t);break}case B.PLAINTEXT:{this._statePlaintext(t);break}case B.TAG_OPEN:{this._stateTagOpen(t);break}case B.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case B.TAG_NAME:{this._stateTagName(t);break}case B.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case B.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case B.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case B.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case B.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case B.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case B.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case B.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case B.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case B.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case B.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case B.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case B.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case B.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case B.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case B.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case B.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case B.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case B.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case B.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case B.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case B.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case B.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case B.BOGUS_COMMENT:{this._stateBogusComment(t);break}case B.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case B.COMMENT_START:{this._stateCommentStart(t);break}case B.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case B.COMMENT:{this._stateComment(t);break}case B.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case B.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case B.COMMENT_END:{this._stateCommentEnd(t);break}case B.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case B.DOCTYPE:{this._stateDoctype(t);break}case B.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case B.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case B.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case B.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case B.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case B.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case B.CDATA_SECTION:{this._stateCdataSection(t);break}case B.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case B.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case B.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case B.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=B.TAG_OPEN;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitCodePoint(t);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case M.AMPERSAND:{this._startCharacterReference();break}case M.LESS_THAN_SIGN:{this.state=B.RCDATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case M.LESS_THAN_SIGN:{this.state=B.RAWTEXT_LESS_THAN_SIGN;break}case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ca(t))this._createStartTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case M.EXCLAMATION_MARK:{this.state=B.MARKUP_DECLARATION_OPEN;break}case M.SOLIDUS:{this.state=B.END_TAG_OPEN;break}case M.QUESTION_MARK:{this._err(se.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t);break}case M.EOF:{this._err(se.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(se.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=B.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ca(t))this._createEndTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case M.GREATER_THAN_SIGN:{this._err(se.missingEndTagName),this.state=B.DATA;break}case M.EOF:{this._err(se.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(se.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=B.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.tagName+=jt;break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Uc(t)?Qf(t):t)}}_stateRcdataLessThanSign(t){t===M.SOLIDUS?this.state=B.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ca(t)?(this.state=B.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=B.BEFORE_ATTRIBUTE_NAME,!1;case M.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=B.SELF_CLOSING_START_TAG,!1;case M.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=B.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===M.SOLIDUS?this.state=B.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ca(t)?(this.state=B.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case M.SOLIDUS:{this.state=B.SCRIPT_DATA_END_TAG_OPEN;break}case M.EXCLAMATION_MARK:{this.state=B.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=B.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ca(t)?(this.state=B.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===M.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===M.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._err(se.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(se.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(se.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===M.SOLIDUS?this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ca(t)?(this._emitChars("<"),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ca(t)?(this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ln.SCRIPT,!1)&&XP(this.preprocessor.peek(ln.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ln.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(se.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._err(se.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(se.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(se.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===M.SOLIDUS?(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ln.SCRIPT,!1)&&XP(this.preprocessor.peek(ln.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<ln.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._err(se.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=B.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this._leaveAttrName(),this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._leaveAttrName(),this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:{this._err(se.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.currentAttr.name+=jt;break}default:this.currentAttr.name+=String.fromCodePoint(Uc(t)?Qf(t):t)}}_stateAfterAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case M.EQUALS_SIGN:{this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{this.state=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this.state=B.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(se.missingAttributeValue),this.state=B.DATA,this.emitCurrentTagToken();break}default:this.state=B.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case M.QUOTATION_MARK:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.currentAttr.value+=jt;break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case M.APOSTROPHE:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.currentAttr.value+=jt;break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(se.unexpectedNullCharacter),this.currentAttr.value+=jt;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:case M.EQUALS_SIGN:case M.GRAVE_ACCENT:{this._err(se.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this._leaveAttrValue(),this.state=B.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:this._err(se.missingWhitespaceBetweenAttributes),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case M.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=B.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(se.eofInTag),this._emitEOFToken();break}default:this._err(se.unexpectedSolidusInTag),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(r);break}case M.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.data+=jt;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ln.DASH_DASH,!0)?(this._createCommentToken(ln.DASH_DASH.length+1),this.state=B.COMMENT_START):this._consumeSequenceIfMatch(ln.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ln.DOCTYPE.length+1),this.state=B.DOCTYPE):this._consumeSequenceIfMatch(ln.CDATA_START,!0)?this.inForeignNode?this.state=B.CDATA_SECTION:(this._err(se.cdataInHtmlContent),this._createCommentToken(ln.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=B.BOGUS_COMMENT):this._ensureHibernation()||(this._err(se.incorrectlyOpenedComment),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case M.HYPHEN_MINUS:{this.state=B.COMMENT_START_DASH;break}case M.GREATER_THAN_SIGN:{this._err(se.abruptClosingOfEmptyComment),this.state=B.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case M.GREATER_THAN_SIGN:{this._err(se.abruptClosingOfEmptyComment),this.state=B.DATA,this.emitCurrentComment(r);break}case M.EOF:{this._err(se.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=B.COMMENT_END_DASH;break}case M.LESS_THAN_SIGN:{r.data+="<",this.state=B.COMMENT_LESS_THAN_SIGN;break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.data+=jt;break}case M.EOF:{this._err(se.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case M.EXCLAMATION_MARK:{r.data+="!",this.state=B.COMMENT_LESS_THAN_SIGN_BANG;break}case M.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===M.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=B.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===M.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=B.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==M.GREATER_THAN_SIGN&&t!==M.EOF&&this._err(se.nestedComment),this.state=B.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case M.EOF:{this._err(se.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(r);break}case M.EXCLAMATION_MARK:{this.state=B.COMMENT_END_BANG;break}case M.HYPHEN_MINUS:{r.data+="-";break}case M.EOF:{this._err(se.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case M.HYPHEN_MINUS:{r.data+="--!",this.state=B.COMMENT_END_DASH;break}case M.GREATER_THAN_SIGN:{this._err(se.incorrectlyClosedComment),this.state=B.DATA,this.emitCurrentComment(r);break}case M.EOF:{this._err(se.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=B.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case M.EOF:{this._err(se.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingWhitespaceBeforeDoctypeName),this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Uc(t))this._createDoctypeToken(String.fromCharCode(Qf(t))),this.state=B.DOCTYPE_NAME;else switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.NULL:{this._err(se.unexpectedNullCharacter),this._createDoctypeToken(jt),this.state=B.DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this._err(se.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.EOF:{this._err(se.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=B.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=B.AFTER_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.name+=jt;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Uc(t)?Qf(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ln.PUBLIC,!1)?this.state=B.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ln.SYSTEM,!1)?this.state=B.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(se.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(se.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(se.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(se.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{r.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(se.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.publicId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(se.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.publicId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(se.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case M.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.QUOTATION_MARK:{this._err(se.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(se.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.QUOTATION_MARK:{r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(se.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(se.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(se.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{r.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(se.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(r);break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.systemId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(se.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(se.unexpectedNullCharacter),r.systemId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(se.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.EOF:{this._err(se.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(se.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=B.DATA;break}case M.NULL:{this._err(se.unexpectedNullCharacter);break}case M.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case M.RIGHT_SQUARE_BRACKET:{this.state=B.CDATA_SECTION_BRACKET;break}case M.EOF:{this._err(se.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===M.RIGHT_SQUARE_BRACKET?this.state=B.CDATA_SECTION_END:(this._emitChars("]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case M.GREATER_THAN_SIGN:{this.state=B.DATA;break}case M.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(M.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&GP(this.preprocessor.peek(1))?B.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){GP(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===M.SEMICOLON&&this._err(se.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const XM=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),QP=new Set([...XM,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),km=new Set([E.APPLET,E.CAPTION,E.HTML,E.MARQUEE,E.OBJECT,E.TABLE,E.TD,E.TEMPLATE,E.TH]),vpe=new Set([...km,E.OL,E.UL]),ype=new Set([...km,E.BUTTON]),JP=new Set([E.ANNOTATION_XML,E.MI,E.MN,E.MO,E.MS,E.MTEXT]),ZP=new Set([E.DESC,E.FOREIGN_OBJECT,E.TITLE]),bpe=new Set([E.TR,E.TEMPLATE,E.HTML]),_pe=new Set([E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML]),xpe=new Set([E.TABLE,E.TEMPLATE,E.HTML]),wpe=new Set([E.TD,E.TH]);class Epe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===he.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==he.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(F_,he.HTML)}popUntilTableCellPopped(){this.popUntilPopped(wpe,he.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(xpe,he.HTML)}clearBackToTableBodyContext(){this.clearBackTo(_pe,he.HTML)}clearBackToTableRowContext(){this.clearBackTo(bpe,he.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case he.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case he.SVG:{if(ZP.has(i))return!1;break}case he.MATHML:{if(JP.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,km)}hasInListItemScope(t){return this.hasInDynamicScope(t,vpe)}hasInButtonScope(t){return this.hasInDynamicScope(t,ype)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case he.HTML:{if(F_.has(r))return!0;if(km.has(r))return!1;break}case he.SVG:{if(ZP.has(r))return!1;break}case he.MATHML:{if(JP.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===he.HTML)switch(this.tagIDs[r]){case t:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===he.HTML)switch(this.tagIDs[t]){case E.TBODY:case E.THEAD:case E.TFOOT:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===he.HTML)switch(this.tagIDs[r]){case t:return!0;case E.OPTION:case E.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&XM.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&QP.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&QP.has(this.currentTagId);)this.pop()}}const qb=3;var Fi;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Fi||(Fi={}));const eI={type:Fi.Marker};class kpe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===Fi.Marker)break;const{element:h}=u;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===a){const f=this.treeAdapter.getAttrList(h);f.length===i&&n.push({idx:o,attrs:f})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<qb)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<qb)return;const i=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=qb&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(eI)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Fi.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Fi.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(eI);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Fi.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Fi.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Fi.Element&&r.element===t)}}const da={createDocument(){return{nodeName:"#document",mode:Gn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};da.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(da.isTextNode(r)){r.value+=t;return}}da.appendChild(e,da.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&da.isTextNode(n)?n.value+=t:da.insertBefore(e,da.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},QM="html",Tpe="about:legacy-compat",Spe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",JM=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Cpe=[...JM,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Ape=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ZM=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Ope=[...ZM,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function tI(e,t){return t.some(r=>e.startsWith(r))}function Npe(e){return e.name===QM&&e.publicId===null&&(e.systemId===null||e.systemId===Tpe)}function Ppe(e){if(e.name!==QM)return Gn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Spe)return Gn.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Ape.has(r))return Gn.QUIRKS;let n=t===null?Cpe:JM;if(tI(r,n))return Gn.QUIRKS;if(n=t===null?ZM:Ope,tI(r,n))return Gn.LIMITED_QUIRKS}return Gn.NO_QUIRKS}const rI={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Ipe="definitionurl",jpe="definitionURL",Rpe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Dpe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:he.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:he.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:he.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:he.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:he.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:he.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:he.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:he.XML}],["xml:space",{prefix:"xml",name:"space",namespace:he.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:he.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:he.XMLNS}]]),Lpe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Mpe=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function Fpe(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:n})=>n===yo.COLOR||n===yo.SIZE||n===yo.FACE)||Mpe.has(t)}function e5(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Ipe){e.attrs[t].name=jpe;break}}function t5(e){for(let t=0;t<e.attrs.length;t++){const r=Rpe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function xE(e){for(let t=0;t<e.attrs.length;t++){const r=Dpe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function Bpe(e){const t=Lpe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=_u(e.tagName))}function $pe(e,t){return t===he.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function Upe(e,t,r){if(t===he.MATHML&&e===E.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===yo.ENCODING){const i=r[n].value.toLowerCase();return i===rI.TEXT_HTML||i===rI.APPLICATION_XML}}return t===he.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function Hpe(e,t,r,n){return(!n||n===he.HTML)&&Upe(e,t,r)||(!n||n===he.MATHML)&&$pe(e,t)}const zpe="hidden",Wpe=8,qpe=3;var z;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(z||(z={}));const Vpe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},r5=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),nI={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:da,onParseError:null};class iI{constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=z.INITIAL,this.originalInsertionMode=z.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...nI,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new gpe(this.options,this),this.activeFormattingElements=new kpe(this.treeAdapter),this.fragmentContextID=n?_u(this.treeAdapter.getTagName(n)):E.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new Epe(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...nI,...r};t??(t=n.treeAdapter.createElement(Z.TEMPLATE,he.HTML,[]));const i=n.treeAdapter.createElement("documentmock",he.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(z.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Vpe,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===he.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,he.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=z.TEXT}switchToPlaintextParsing(){this.insertionMode=z.TEXT,this.originalInsertionMode=z.IN_BODY,this.tokenizer.state=Kt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Z.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==he.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Kt.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Kt.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Kt.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Kt.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,he.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,he.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Z.HTML,he.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:h,endOffset:f}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:h,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===et.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(r)===Z.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===he.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,he.HTML)}_processToken(t){switch(t.type){case et.CHARACTER:{this.onCharacter(t);break}case et.NULL_CHARACTER:{this.onNullCharacter(t);break}case et.COMMENT:{this.onComment(t);break}case et.DOCTYPE:{this.onDoctype(t);break}case et.START_TAG:{this._processStartTag(t);break}case et.END_TAG:{this.onEndTag(t);break}case et.EOF:{this.onEof(t);break}case et.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return Hpe(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===Fi.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=z.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=z.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=z.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=z.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=z.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=z.IN_TABLE;return}case E.BODY:{this.insertionMode=z.IN_BODY;return}case E.FRAMESET:{this.insertionMode=z.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?z.AFTER_HEAD:z.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=z.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=z.IN_HEAD;return}break}}this.insertionMode=z.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===E.TEMPLATE)break;if(n===E.TABLE){this.insertionMode=z.IN_SELECT_IN_TABLE;return}}this.insertionMode=z.IN_SELECT}_isElementCausesFosterParenting(t){return r5.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===he.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case E.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return hpe[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){wge(this,t);return}switch(this.insertionMode){case z.INITIAL:{Oc(this,t);break}case z.BEFORE_HTML:{Qc(this,t);break}case z.BEFORE_HEAD:{Jc(this,t);break}case z.IN_HEAD:{Zc(this,t);break}case z.IN_HEAD_NO_SCRIPT:{ed(this,t);break}case z.AFTER_HEAD:{td(this,t);break}case z.IN_BODY:case z.IN_CAPTION:case z.IN_CELL:case z.IN_TEMPLATE:{i5(this,t);break}case z.TEXT:case z.IN_SELECT:case z.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case z.IN_TABLE:case z.IN_TABLE_BODY:case z.IN_ROW:{Vb(this,t);break}case z.IN_TABLE_TEXT:{c5(this,t);break}case z.IN_COLUMN_GROUP:{Tm(this,t);break}case z.AFTER_BODY:{Sm(this,t);break}case z.AFTER_AFTER_BODY:{cp(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){xge(this,t);return}switch(this.insertionMode){case z.INITIAL:{Oc(this,t);break}case z.BEFORE_HTML:{Qc(this,t);break}case z.BEFORE_HEAD:{Jc(this,t);break}case z.IN_HEAD:{Zc(this,t);break}case z.IN_HEAD_NO_SCRIPT:{ed(this,t);break}case z.AFTER_HEAD:{td(this,t);break}case z.TEXT:{this._insertCharacters(t);break}case z.IN_TABLE:case z.IN_TABLE_BODY:case z.IN_ROW:{Vb(this,t);break}case z.IN_COLUMN_GROUP:{Tm(this,t);break}case z.AFTER_BODY:{Sm(this,t);break}case z.AFTER_AFTER_BODY:{cp(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){B_(this,t);return}switch(this.insertionMode){case z.INITIAL:case z.BEFORE_HTML:case z.BEFORE_HEAD:case z.IN_HEAD:case z.IN_HEAD_NO_SCRIPT:case z.AFTER_HEAD:case z.IN_BODY:case z.IN_TABLE:case z.IN_CAPTION:case z.IN_COLUMN_GROUP:case z.IN_TABLE_BODY:case z.IN_ROW:case z.IN_CELL:case z.IN_SELECT:case z.IN_SELECT_IN_TABLE:case z.IN_TEMPLATE:case z.IN_FRAMESET:case z.AFTER_FRAMESET:{B_(this,t);break}case z.IN_TABLE_TEXT:{Nc(this,t);break}case z.AFTER_BODY:{Zpe(this,t);break}case z.AFTER_AFTER_BODY:case z.AFTER_AFTER_FRAMESET:{eme(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case z.INITIAL:{tme(this,t);break}case z.BEFORE_HEAD:case z.IN_HEAD:case z.IN_HEAD_NO_SCRIPT:case z.AFTER_HEAD:{this._err(t,se.misplacedDoctype);break}case z.IN_TABLE_TEXT:{Nc(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,se.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Ege(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case z.INITIAL:{Oc(this,t);break}case z.BEFORE_HTML:{rme(this,t);break}case z.BEFORE_HEAD:{ime(this,t);break}case z.IN_HEAD:{Oi(this,t);break}case z.IN_HEAD_NO_SCRIPT:{ome(this,t);break}case z.AFTER_HEAD:{ume(this,t);break}case z.IN_BODY:{zr(this,t);break}case z.IN_TABLE:{Xl(this,t);break}case z.IN_TABLE_TEXT:{Nc(this,t);break}case z.IN_CAPTION:{sge(this,t);break}case z.IN_COLUMN_GROUP:{kE(this,t);break}case z.IN_TABLE_BODY:{Sg(this,t);break}case z.IN_ROW:{Cg(this,t);break}case z.IN_CELL:{lge(this,t);break}case z.IN_SELECT:{f5(this,t);break}case z.IN_SELECT_IN_TABLE:{cge(this,t);break}case z.IN_TEMPLATE:{hge(this,t);break}case z.AFTER_BODY:{pge(this,t);break}case z.IN_FRAMESET:{mge(this,t);break}case z.AFTER_FRAMESET:{vge(this,t);break}case z.AFTER_AFTER_BODY:{bge(this,t);break}case z.AFTER_AFTER_FRAMESET:{_ge(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?kge(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case z.INITIAL:{Oc(this,t);break}case z.BEFORE_HTML:{nme(this,t);break}case z.BEFORE_HEAD:{sme(this,t);break}case z.IN_HEAD:{ame(this,t);break}case z.IN_HEAD_NO_SCRIPT:{lme(this,t);break}case z.AFTER_HEAD:{cme(this,t);break}case z.IN_BODY:{Tg(this,t);break}case z.TEXT:{Gme(this,t);break}case z.IN_TABLE:{Td(this,t);break}case z.IN_TABLE_TEXT:{Nc(this,t);break}case z.IN_CAPTION:{age(this,t);break}case z.IN_COLUMN_GROUP:{oge(this,t);break}case z.IN_TABLE_BODY:{$_(this,t);break}case z.IN_ROW:{h5(this,t);break}case z.IN_CELL:{uge(this,t);break}case z.IN_SELECT:{p5(this,t);break}case z.IN_SELECT_IN_TABLE:{dge(this,t);break}case z.IN_TEMPLATE:{fge(this,t);break}case z.AFTER_BODY:{g5(this,t);break}case z.IN_FRAMESET:{gge(this,t);break}case z.AFTER_FRAMESET:{yge(this,t);break}case z.AFTER_AFTER_BODY:{cp(this,t);break}}}onEof(t){switch(this.insertionMode){case z.INITIAL:{Oc(this,t);break}case z.BEFORE_HTML:{Qc(this,t);break}case z.BEFORE_HEAD:{Jc(this,t);break}case z.IN_HEAD:{Zc(this,t);break}case z.IN_HEAD_NO_SCRIPT:{ed(this,t);break}case z.AFTER_HEAD:{td(this,t);break}case z.IN_BODY:case z.IN_TABLE:case z.IN_CAPTION:case z.IN_COLUMN_GROUP:case z.IN_TABLE_BODY:case z.IN_ROW:case z.IN_CELL:case z.IN_SELECT:case z.IN_SELECT_IN_TABLE:{l5(this,t);break}case z.TEXT:{Xme(this,t);break}case z.IN_TABLE_TEXT:{Nc(this,t);break}case z.IN_TEMPLATE:{m5(this,t);break}case z.AFTER_BODY:case z.IN_FRAMESET:case z.AFTER_FRAMESET:case z.AFTER_AFTER_BODY:case z.AFTER_AFTER_FRAMESET:{EE(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===M.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case z.IN_HEAD:case z.IN_HEAD_NO_SCRIPT:case z.AFTER_HEAD:case z.TEXT:case z.IN_COLUMN_GROUP:case z.IN_SELECT:case z.IN_SELECT_IN_TABLE:case z.IN_FRAMESET:case z.AFTER_FRAMESET:{this._insertCharacters(t);break}case z.IN_BODY:case z.IN_CAPTION:case z.IN_CELL:case z.IN_TEMPLATE:case z.AFTER_BODY:case z.AFTER_AFTER_BODY:case z.AFTER_AFTER_FRAMESET:{n5(this,t);break}case z.IN_TABLE:case z.IN_TABLE_BODY:case z.IN_ROW:{Vb(this,t);break}case z.IN_TABLE_TEXT:{u5(this,t);break}}}}function Kpe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):o5(e,t),r}function Ype(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function Gpe(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==r;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),u=o&&s>=qpe;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=Xpe(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function Xpe(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Qpe(e,t,r){const n=e.treeAdapter.getTagName(t),i=_u(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===E.TEMPLATE&&s===he.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function Jpe(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}function wE(e,t){for(let r=0;r<Wpe;r++){const n=Kpe(e,t);if(!n)break;const i=Ype(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=Gpe(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),a&&Qpe(e,a,s),Jpe(e,i,n)}}function B_(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Zpe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function eme(e,t){e._appendCommentNode(t,e.document)}function EE(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function tme(e,t){e._setDocumentType(t);const r=t.forceQuirks?Gn.QUIRKS:Ppe(t);Npe(t)||e._err(t,se.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=z.BEFORE_HTML}function Oc(e,t){e._err(t,se.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Gn.QUIRKS),e.insertionMode=z.BEFORE_HTML,e._processToken(t)}function rme(e,t){t.tagID===E.HTML?(e._insertElement(t,he.HTML),e.insertionMode=z.BEFORE_HEAD):Qc(e,t)}function nme(e,t){const r=t.tagID;(r===E.HTML||r===E.HEAD||r===E.BODY||r===E.BR)&&Qc(e,t)}function Qc(e,t){e._insertFakeRootElement(),e.insertionMode=z.BEFORE_HEAD,e._processToken(t)}function ime(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.HEAD:{e._insertElement(t,he.HTML),e.headElement=e.openElements.current,e.insertionMode=z.IN_HEAD;break}default:Jc(e,t)}}function sme(e,t){const r=t.tagID;r===E.HEAD||r===E.BODY||r===E.HTML||r===E.BR?Jc(e,t):e._err(t,se.endTagWithoutMatchingOpenElement)}function Jc(e,t){e._insertFakeElement(Z.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=z.IN_HEAD,e._processToken(t)}function Oi(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Kt.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Kt.RAWTEXT):(e._insertElement(t,he.HTML),e.insertionMode=z.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Kt.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Kt.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=z.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(z.IN_TEMPLATE);break}case E.HEAD:{e._err(t,se.misplacedStartTagForHeadElement);break}default:Zc(e,t)}}function ame(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=z.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{Zc(e,t);break}case E.TEMPLATE:{jo(e,t);break}default:e._err(t,se.endTagWithoutMatchingOpenElement)}}function jo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,se.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,se.endTagWithoutMatchingOpenElement)}function Zc(e,t){e.openElements.pop(),e.insertionMode=z.AFTER_HEAD,e._processToken(t)}function ome(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{Oi(e,t);break}case E.NOSCRIPT:{e._err(t,se.nestedNoscriptInHead);break}default:ed(e,t)}}function lme(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=z.IN_HEAD;break}case E.BR:{ed(e,t);break}default:e._err(t,se.endTagWithoutMatchingOpenElement)}}function ed(e,t){const r=t.type===et.EOF?se.openElementsLeftAfterEof:se.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=z.IN_HEAD,e._processToken(t)}function ume(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.BODY:{e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=z.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,he.HTML),e.insertionMode=z.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,se.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),Oi(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,se.misplacedStartTagForHeadElement);break}default:td(e,t)}}function cme(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{td(e,t);break}case E.TEMPLATE:{jo(e,t);break}default:e._err(t,se.endTagWithoutMatchingOpenElement)}}function td(e,t){e._insertFakeElement(Z.BODY,E.BODY),e.insertionMode=z.IN_BODY,kg(e,t)}function kg(e,t){switch(t.type){case et.CHARACTER:{i5(e,t);break}case et.WHITESPACE_CHARACTER:{n5(e,t);break}case et.COMMENT:{B_(e,t);break}case et.START_TAG:{zr(e,t);break}case et.END_TAG:{Tg(e,t);break}case et.EOF:{l5(e,t);break}}}function n5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function i5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function dme(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function hme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function fme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,he.HTML),e.insertionMode=z.IN_FRAMESET)}function pme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML)}function mme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&F_.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,he.HTML)}function gme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function vme(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),r||(e.formElement=e.openElements.current))}function yme(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===E.LI&&i===E.LI||(r===E.DD||r===E.DT)&&(i===E.DD||i===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==E.ADDRESS&&i!==E.DIV&&i!==E.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML)}function bme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.tokenizer.state=Kt.PLAINTEXT}function _me(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.framesetOk=!1}function xme(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Z.A);r&&(wE(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function wme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Eme(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(wE(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Tme(e,t){e.treeAdapter.getDocumentMode(e.document)!==Gn.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=z.IN_TABLE}function s5(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,he.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function a5(e){const t=YM(e,yo.TYPE);return t!=null&&t.toLowerCase()===zpe}function Sme(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,he.HTML),a5(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Cme(e,t){e._appendElement(t,he.HTML),t.ackSelfClosing=!0}function Ame(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,he.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ome(e,t){t.tagName=Z.IMG,t.tagID=E.IMG,s5(e,t)}function Nme(e,t){e._insertElement(t,he.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Kt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=z.TEXT}function Pme(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function Ime(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function sI(e,t){e._switchToTextParsing(t,Kt.RAWTEXT)}function jme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===z.IN_TABLE||e.insertionMode===z.IN_CAPTION||e.insertionMode===z.IN_TABLE_BODY||e.insertionMode===z.IN_ROW||e.insertionMode===z.IN_CELL?z.IN_SELECT_IN_TABLE:z.IN_SELECT}function Rme(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML)}function Dme(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,he.HTML)}function Lme(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,he.HTML)}function Mme(e,t){e._reconstructActiveFormattingElements(),e5(t),xE(t),t.selfClosing?e._appendElement(t,he.MATHML):e._insertElement(t,he.MATHML),t.ackSelfClosing=!0}function Fme(e,t){e._reconstructActiveFormattingElements(),t5(t),xE(t),t.selfClosing?e._appendElement(t,he.SVG):e._insertElement(t,he.SVG),t.ackSelfClosing=!0}function aI(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML)}function zr(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{wme(e,t);break}case E.A:{xme(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{mme(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{pme(e,t);break}case E.LI:case E.DD:case E.DT:{yme(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{s5(e,t);break}case E.HR:{Ame(e,t);break}case E.RB:case E.RTC:{Dme(e,t);break}case E.RT:case E.RP:{Lme(e,t);break}case E.PRE:case E.LISTING:{gme(e,t);break}case E.XMP:{Pme(e,t);break}case E.SVG:{Fme(e,t);break}case E.HTML:{dme(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{Oi(e,t);break}case E.BODY:{hme(e,t);break}case E.FORM:{vme(e,t);break}case E.NOBR:{Eme(e,t);break}case E.MATH:{Mme(e,t);break}case E.TABLE:{Tme(e,t);break}case E.INPUT:{Sme(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{Cme(e,t);break}case E.IMAGE:{Ome(e,t);break}case E.BUTTON:{_me(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{kme(e,t);break}case E.IFRAME:{Ime(e,t);break}case E.SELECT:{jme(e,t);break}case E.OPTION:case E.OPTGROUP:{Rme(e,t);break}case E.NOEMBED:case E.NOFRAMES:{sI(e,t);break}case E.FRAMESET:{fme(e,t);break}case E.TEXTAREA:{Nme(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?sI(e,t):aI(e,t);break}case E.PLAINTEXT:{bme(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:aI(e,t)}}function Bme(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=z.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function $me(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=z.AFTER_BODY,g5(e,t))}function Ume(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function Hme(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):r&&e.openElements.remove(r))}function zme(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(Z.P,E.P),e._closePElement()}function Wme(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function qme(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function Vme(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Kme(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function Yme(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Z.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function o5(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(n===a&&(n!==E.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function Tg(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{wE(e,t);break}case E.P:{zme(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{Ume(e,t);break}case E.LI:{Wme(e);break}case E.DD:case E.DT:{qme(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{Vme(e);break}case E.BR:{Yme(e);break}case E.BODY:{Bme(e,t);break}case E.HTML:{$me(e,t);break}case E.FORM:{Hme(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{Kme(e,t);break}case E.TEMPLATE:{jo(e,t);break}default:o5(e,t)}}function l5(e,t){e.tmplInsertionModeStack.length>0?m5(e,t):EE(e,t)}function Gme(e,t){var r;t.tagID===E.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Xme(e,t){e._err(t,se.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Vb(e,t){if(e.openElements.currentTagId!==void 0&&r5.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=z.IN_TABLE_TEXT,t.type){case et.CHARACTER:{c5(e,t);break}case et.WHITESPACE_CHARACTER:{u5(e,t);break}}else Jd(e,t)}function Qme(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,he.HTML),e.insertionMode=z.IN_CAPTION}function Jme(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,he.HTML),e.insertionMode=z.IN_COLUMN_GROUP}function Zme(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Z.COLGROUP,E.COLGROUP),e.insertionMode=z.IN_COLUMN_GROUP,kE(e,t)}function ege(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,he.HTML),e.insertionMode=z.IN_TABLE_BODY}function tge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Z.TBODY,E.TBODY),e.insertionMode=z.IN_TABLE_BODY,Sg(e,t)}function rge(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function nge(e,t){a5(t)?e._appendElement(t,he.HTML):Jd(e,t),t.ackSelfClosing=!0}function ige(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,he.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Xl(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{tge(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{Oi(e,t);break}case E.COL:{Zme(e,t);break}case E.FORM:{ige(e,t);break}case E.TABLE:{rge(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{ege(e,t);break}case E.INPUT:{nge(e,t);break}case E.CAPTION:{Qme(e,t);break}case E.COLGROUP:{Jme(e,t);break}default:Jd(e,t)}}function Td(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{jo(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Jd(e,t)}}function Jd(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,kg(e,t),e.fosterParentingEnabled=r}function u5(e,t){e.pendingCharacterTokens.push(t)}function c5(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Nc(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)Jd(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const d5=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function sge(e,t){const r=t.tagID;d5.has(r)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=z.IN_TABLE,Xl(e,t)):zr(e,t)}function age(e,t){const r=t.tagID;switch(r){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=z.IN_TABLE,r===E.TABLE&&Td(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Tg(e,t)}}function kE(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.COL:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{Oi(e,t);break}default:Tm(e,t)}}function oge(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=z.IN_TABLE);break}case E.TEMPLATE:{jo(e,t);break}case E.COL:break;default:Tm(e,t)}}function Tm(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=z.IN_TABLE,e._processToken(t))}function Sg(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,he.HTML),e.insertionMode=z.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Z.TR,E.TR),e.insertionMode=z.IN_ROW,Cg(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE,Xl(e,t));break}default:Xl(e,t)}}function $_(e,t){const r=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE,Td(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Td(e,t)}}function Cg(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,he.HTML),e.insertionMode=z.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE_BODY,Sg(e,t));break}default:Xl(e,t)}}function h5(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE_BODY,$_(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=z.IN_TABLE_BODY,$_(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Td(e,t)}}function lge(e,t){const r=t.tagID;d5.has(r)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),Cg(e,t)):zr(e,t)}function uge(e,t){const r=t.tagID;switch(r){case E.TD:case E.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=z.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),h5(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:Tg(e,t)}}function f5(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,he.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,he.HTML);break}case E.HR:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{Oi(e,t);break}}}function p5(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{jo(e,t);break}}}function cge(e,t){const r=t.tagID;r===E.CAPTION||r===E.TABLE||r===E.TBODY||r===E.TFOOT||r===E.THEAD||r===E.TR||r===E.TD||r===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):f5(e,t)}function dge(e,t){const r=t.tagID;r===E.CAPTION||r===E.TABLE||r===E.TBODY||r===E.TFOOT||r===E.THEAD||r===E.TR||r===E.TD||r===E.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):p5(e,t)}function hge(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{Oi(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=z.IN_TABLE,e.insertionMode=z.IN_TABLE,Xl(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=z.IN_COLUMN_GROUP,e.insertionMode=z.IN_COLUMN_GROUP,kE(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=z.IN_TABLE_BODY,e.insertionMode=z.IN_TABLE_BODY,Sg(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=z.IN_ROW,e.insertionMode=z.IN_ROW,Cg(e,t);break}default:e.tmplInsertionModeStack[0]=z.IN_BODY,e.insertionMode=z.IN_BODY,zr(e,t)}}function fge(e,t){t.tagID===E.TEMPLATE&&jo(e,t)}function m5(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):EE(e,t)}function pge(e,t){t.tagID===E.HTML?zr(e,t):Sm(e,t)}function g5(e,t){var r;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=z.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Sm(e,t)}function Sm(e,t){e.insertionMode=z.IN_BODY,kg(e,t)}function mge(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.FRAMESET:{e._insertElement(t,he.HTML);break}case E.FRAME:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{Oi(e,t);break}}}function gge(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=z.AFTER_FRAMESET))}function vge(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.NOFRAMES:{Oi(e,t);break}}}function yge(e,t){t.tagID===E.HTML&&(e.insertionMode=z.AFTER_AFTER_FRAMESET)}function bge(e,t){t.tagID===E.HTML?zr(e,t):cp(e,t)}function cp(e,t){e.insertionMode=z.IN_BODY,kg(e,t)}function _ge(e,t){switch(t.tagID){case E.HTML:{zr(e,t);break}case E.NOFRAMES:{Oi(e,t);break}}}function xge(e,t){t.chars=jt,e._insertCharacters(t)}function wge(e,t){e._insertCharacters(t),e.framesetOk=!1}function v5(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==he.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Ege(e,t){if(Fpe(t))v5(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===he.MATHML?e5(t):n===he.SVG&&(Bpe(t),t5(t)),xE(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function kge(e,t){if(t.tagID===E.P||t.tagID===E.BR){v5(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===he.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}Z.AREA,Z.BASE,Z.BASEFONT,Z.BGSOUND,Z.BR,Z.COL,Z.EMBED,Z.FRAME,Z.HR,Z.IMG,Z.INPUT,Z.KEYGEN,Z.LINK,Z.META,Z.PARAM,Z.SOURCE,Z.TRACK,Z.WBR;const Tge=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Sge=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),oI={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function y5(e,t){const r=Lge(e),n=xM("type",{handlers:{root:Cge,element:Age,text:Oge,comment:_5,doctype:Nge,raw:Ige},unknown:jge}),i={parser:r?new iI(oI):iI.getFragmentParser(void 0,oI),handle(o){n(o,i)},stitches:!1,options:t||{}};n(e,i),xu(i,Yi());const s=r?i.parser.document:i.parser.getFragment(),a=Mfe(s,{file:i.options.file});return i.stitches&&Eg(a,"comment",function(o,u,h){const f=o;if(f.value.stitch&&h&&u!==void 0){const p=h.children;return p[u]=f.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function b5(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function Cge(e,t){b5(e.children,t)}function Age(e,t){Rge(e,t),b5(e.children,t),Dge(e,t)}function Oge(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:et.CHARACTER,chars:e.value,location:Zd(e)};xu(t,Yi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Nge(e,t){const r={type:et.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Zd(e)};xu(t,Yi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Pge(e,t){t.stitches=!0;const r=Mge(e);if("children"in e&&"children"in r){const n=y5({type:"root",children:e.children},t.options);r.children=n.children}_5({type:"comment",value:{stitch:r}},t)}function _5(e,t){const r=e.value,n={type:et.COMMENT,data:r,location:Zd(e)};xu(t,Yi(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Ige(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,x5(t,Yi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(Tge,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function jge(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))Pge(r,t);else{let n="";throw Sge.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function xu(e,t){x5(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Kt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function x5(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function Rge(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Kt.PLAINTEXT)return;xu(t,Yi(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:fo.html;i===fo.html&&r==="svg"&&(i=fo.svg);const s=Hfe({...e,children:[]},{space:i===fo.svg?"svg":"html"}),a={type:et.START_TAG,tagName:r,tagID:_u(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:Zd(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function Dge(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Xfe.includes(r)||t.parser.tokenizer.state===Kt.PLAINTEXT)return;xu(t,vg(e));const n={type:et.END_TAG,tagName:r,tagID:_u(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Zd(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Kt.RCDATA||t.parser.tokenizer.state===Kt.RAWTEXT||t.parser.tokenizer.state===Kt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Kt.DATA)}function Lge(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Zd(e){const t=Yi(e)||{line:void 0,column:void 0,offset:void 0},r=vg(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function Mge(e){return"children"in e?Gl({...e,children:[]}):Gl(e)}function Fge(e){return function(t,r){return y5(t,{...e,file:r})}}function Bge({src:e,title:t}){const r=Zr(),n=T.useRef(!1),i=T.useRef(!1),s=T.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"local"}),n.current=!0)},[r,e,t]),a=T.useCallback(()=>{r&&!i.current&&(r.capture("docs_video_completed",{video_src:e,video_title:t||e,video_type:"local"}),i.current=!0)},[r,e,t]);return d.jsxs("div",{className:"video-embed",children:[t&&d.jsx("h4",{className:"video-embed-title",children:t}),d.jsx("div",{className:"video-embed-wrapper",children:d.jsxs("video",{controls:!0,preload:"metadata",className:"video-embed-player",title:t,onPlay:s,onEnded:a,children:[d.jsx("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}function $ge({id:e,title:t}){const r=Zr(),n=T.useRef(!1),i=`https://www.loom.com/embed/${e}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,s=T.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"loom"}),n.current=!0)},[r,e,t]);return d.jsxs("div",{className:"video-embed",children:[t&&d.jsx("h4",{className:"video-embed-title",children:t}),d.jsx("div",{className:"video-embed-wrapper",children:d.jsx("iframe",{src:i,frameBorder:"0",allowFullScreen:!0,className:"video-embed-iframe",title:t||"Loom video",onLoad:s})})]})}function Uge({src:e,title:t}){const r=Zr(),n=e.split("/").pop(),i=n.endsWith(".ipynb"),s=n.endsWith(".zip"),a=n.includes("template-task")||n.includes("skeleton"),o=i?"":s?"":"",u=i?"Jupyter Notebook":s?"ZIP Archive":"PDF Document",h=()=>{if(r){const f=a?"skeleton_downloaded":"docs_file_downloaded";r.capture(f,{file_name:n,file_title:t||n,file_type:u,source:"docs"})}};return d.jsxs("div",{className:"pdf-download",children:[d.jsx("div",{className:"pdf-download-icon",children:o}),d.jsxs("div",{className:"pdf-download-info",children:[d.jsx("span",{className:"pdf-download-title",children:t||n}),d.jsx("span",{className:"pdf-download-type",children:u})]}),d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"pdf-download-button",download:i||s?n:void 0,onClick:h,children:i||s?"Download":"View / Download"})]})}const Hge=({inline:e,className:t,children:r})=>{const i=String(r).includes(`
`),s=t==null?void 0:t.startsWith("language-");if(e===!0||!s&&!i)return d.jsx("code",{className:"docs-inline-code",children:r});const[o,u]=T.useState(!1),h=(t==null?void 0:t.replace("language-",""))||"",f=()=>{navigator.clipboard.writeText(String(r).replace(/\n$/,"")),u(!0),setTimeout(()=>u(!1),2e3)};return d.jsxs("div",{className:"docs-code-wrapper",children:[d.jsxs("div",{className:"docs-code-header",children:[d.jsx("span",{className:"docs-code-lang",children:h}),d.jsx("button",{className:`docs-code-copy-btn ${o?"copied":""}`,onClick:f,"aria-label":"Copy code",children:o?d.jsxs(d.Fragment,{children:[d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})}),d.jsx("span",{children:"Copied"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),d.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),d.jsx("span",{children:"Copy"})]})})]}),d.jsx("pre",{className:"docs-code-block",children:d.jsx("code",{className:t,children:r})})]})};function zge({content:e,loading:t,title:r,prevDoc:n,nextDoc:i,onPaginationClick:s}){return t?d.jsxs("div",{className:"docs-content-loading",children:[d.jsx($3,{size:"lg"}),d.jsx("p",{children:"Loading documentation..."})]}):d.jsxs("article",{className:"docs-content",children:[d.jsx(fde,{remarkPlugins:[Sfe],rehypePlugins:[Fge],components:{"video-embed":({node:a})=>{var o,u;return d.jsx(Bge,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(u=a==null?void 0:a.properties)==null?void 0:u.title})},"video-loom":({node:a})=>{var o,u;return d.jsx($ge,{id:(o=a==null?void 0:a.properties)==null?void 0:o.id,title:(u=a==null?void 0:a.properties)==null?void 0:u.title})},"pdf-download":({node:a})=>{var o,u;return d.jsx(Uge,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(u=a==null?void 0:a.properties)==null?void 0:u.title})},h1:({children:a})=>d.jsx("h1",{className:"docs-h1",children:a}),h2:({children:a})=>d.jsx("h2",{className:"docs-h2",children:a}),h3:({children:a})=>d.jsx("h3",{className:"docs-h3",children:a}),h4:({children:a})=>d.jsx("h4",{className:"docs-h4",children:a}),p:({children:a})=>d.jsx("p",{className:"docs-p",children:a}),code:Hge,img:({src:a,alt:o})=>d.jsxs("figure",{className:"docs-figure",children:[d.jsx("img",{src:a,alt:o,className:"docs-image",loading:"lazy"}),o&&d.jsx("figcaption",{className:"docs-figcaption",children:o})]}),a:({href:a,children:o})=>(a==null?void 0:a.startsWith("http"))?d.jsxs("a",{href:a,className:"docs-link",target:"_blank",rel:"noopener noreferrer",children:[o,d.jsx("svg",{className:"docs-external-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}):d.jsx(Sr,{to:a,className:"docs-link",children:o}),blockquote:({children:a})=>d.jsx("blockquote",{className:"docs-callout",children:a}),table:({children:a})=>d.jsx("div",{className:"docs-table-wrapper",children:d.jsx("table",{className:"docs-table",children:a})}),ul:({children:a})=>d.jsx("ul",{className:"docs-ul",children:a}),ol:({children:a})=>d.jsx("ol",{className:"docs-ol",children:a}),li:({children:a})=>d.jsx("li",{className:"docs-li",children:a}),hr:()=>d.jsx("hr",{className:"docs-hr"})},children:e}),d.jsxs("nav",{className:"docs-pagination",children:[n?d.jsxs(Sr,{to:`/portal/docs/${n.slug}`,className:"docs-pagination-link docs-pagination-prev",onClick:s,children:[d.jsx("span",{className:"docs-pagination-label",children:"Previous"}),d.jsxs("span",{className:"docs-pagination-title",children:[d.jsx("span",{className:"docs-pagination-icon",children:n.icon}),n.title]})]}):d.jsx("div",{}),i?d.jsxs(Sr,{to:`/portal/docs/${i.slug}`,className:"docs-pagination-link docs-pagination-next",onClick:s,children:[d.jsx("span",{className:"docs-pagination-label",children:"Next"}),d.jsxs("span",{className:"docs-pagination-title",children:[i.title,d.jsx("span",{className:"docs-pagination-icon",children:i.icon})]})]}):d.jsx("div",{})]})]})}function Cs(e){return Array.isArray?Array.isArray(e):k5(e)==="[object Array]"}function Wge(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function qge(e){return e==null?"":Wge(e)}function Hi(e){return typeof e=="string"}function w5(e){return typeof e=="number"}function Vge(e){return e===!0||e===!1||Kge(e)&&k5(e)=="[object Boolean]"}function E5(e){return typeof e=="object"}function Kge(e){return E5(e)&&e!==null}function Cn(e){return e!=null}function Kb(e){return!e.trim().length}function k5(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Yge="Incorrect 'index' type",Gge=e=>`Invalid value for key ${e}`,Xge=e=>`Pattern length exceeds max of ${e}.`,Qge=e=>`Missing ${e} property in key`,Jge=e=>`Property 'weight' in key '${e}' must be a positive integer`,lI=Object.prototype.hasOwnProperty;class Zge{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=T5(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function T5(e){let t=null,r=null,n=null,i=1,s=null;if(Hi(e)||Cs(e))n=e,t=uI(e),r=U_(e);else{if(!lI.call(e,"name"))throw new Error(Qge("name"));const a=e.name;if(n=a,lI.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Jge(a));t=uI(a),r=U_(a),s=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:s}}function uI(e){return Cs(e)?e:e.split(".")}function U_(e){return Cs(e)?e.join("."):e}function e0e(e,t){let r=[],n=!1;const i=(s,a,o)=>{if(Cn(s))if(!a[o])r.push(s);else{let u=a[o];const h=s[u];if(!Cn(h))return;if(o===a.length-1&&(Hi(h)||w5(h)||Vge(h)))r.push(qge(h));else if(Cs(h)){n=!0;for(let f=0,p=h.length;f<p;f+=1)i(h[f],a,o+1)}else a.length&&i(h,a,o+1)}};return i(e,Hi(t)?t.split("."):t,0),n?r:r[0]}const t0e={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},r0e={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},n0e={location:0,threshold:.6,distance:100},i0e={useExtendedSearch:!1,getFn:e0e,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var qe={...r0e,...t0e,...n0e,...i0e};const s0e=/[^ ]+/g;function a0e(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const s=i.match(s0e).length;if(r.has(s))return r.get(s);const a=1/Math.pow(s,.5*e),o=parseFloat(Math.round(a*n)/n);return r.set(s,o),o},clear(){r.clear()}}}class TE{constructor({getFn:t=qe.getFn,fieldNormWeight:r=qe.fieldNormWeight}={}){this.norm=a0e(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Hi(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Hi(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!Cn(t)||Kb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Cn(a)){if(Cs(a)){let o=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:h,value:f}=u.pop();if(Cn(f))if(Hi(f)&&!Kb(f)){let p={v:f,i:h,n:this.norm.get(f)};o.push(p)}else Cs(f)&&f.forEach((p,v)=>{u.push({nestedArrIndex:v,value:p})})}n.$[s]=o}else if(Hi(a)&&!Kb(a)){let o={v:a,n:this.norm.get(a)};n.$[s]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function S5(e,t,{getFn:r=qe.getFn,fieldNormWeight:n=qe.fieldNormWeight}={}){const i=new TE({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(T5)),i.setSources(t),i.create(),i}function o0e(e,{getFn:t=qe.getFn,fieldNormWeight:r=qe.fieldNormWeight}={}){const{keys:n,records:i}=e,s=new TE({getFn:t,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}function Jf(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=qe.distance,ignoreLocation:s=qe.ignoreLocation}={}){const a=t/e.length;if(s)return a;const o=Math.abs(n-r);return i?a+o/i:o?1:a}function l0e(e=[],t=qe.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let a=e.length;s<a;s+=1){let o=e[s];o&&n===-1?n=s:!o&&n!==-1&&(i=s-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[s-1]&&s-n>=t&&r.push([n,s-1]),r}const oo=32;function u0e(e,t,r,{location:n=qe.location,distance:i=qe.distance,threshold:s=qe.threshold,findAllMatches:a=qe.findAllMatches,minMatchCharLength:o=qe.minMatchCharLength,includeMatches:u=qe.includeMatches,ignoreLocation:h=qe.ignoreLocation}={}){if(t.length>oo)throw new Error(Xge(oo));const f=t.length,p=e.length,v=Math.max(0,Math.min(n,p));let g=s,b=v;const x=o>1||u,_=x?Array(p):[];let w;for(;(w=e.indexOf(t,b))>-1;){let j=Jf(t,{currentLocation:w,expectedLocation:v,distance:i,ignoreLocation:h});if(g=Math.min(j,g),b=w+f,x){let R=0;for(;R<f;)_[w+R]=1,R+=1}}b=-1;let C=[],S=1,O=f+p;const P=1<<f-1;for(let j=0;j<f;j+=1){let R=0,$=O;for(;R<$;)Jf(t,{errors:j,currentLocation:v+$,expectedLocation:v,distance:i,ignoreLocation:h})<=g?R=$:O=$,$=Math.floor((O-R)/2+R);O=$;let L=Math.max(1,v-$+1),U=a?p:Math.min(v+$,p)+f,W=Array(U+2);W[U+1]=(1<<j)-1;for(let Y=U;Y>=L;Y-=1){let V=Y-1,le=r[e.charAt(V)];if(x&&(_[V]=+!!le),W[Y]=(W[Y+1]<<1|1)&le,j&&(W[Y]|=(C[Y+1]|C[Y])<<1|1|C[Y+1]),W[Y]&P&&(S=Jf(t,{errors:j,currentLocation:V,expectedLocation:v,distance:i,ignoreLocation:h}),S<=g)){if(g=S,b=V,b<=v)break;L=Math.max(1,2*v-b)}}if(Jf(t,{errors:j+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:h})>g)break;C=W}const N={isMatch:b>=0,score:Math.max(.001,S)};if(x){const j=l0e(_,o);j.length?u&&(N.indices=j):N.isMatch=!1}return N}function c0e(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Cm=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class C5{constructor(t,{location:r=qe.location,threshold:n=qe.threshold,distance:i=qe.distance,includeMatches:s=qe.includeMatches,findAllMatches:a=qe.findAllMatches,minMatchCharLength:o=qe.minMatchCharLength,isCaseSensitive:u=qe.isCaseSensitive,ignoreDiacritics:h=qe.ignoreDiacritics,ignoreLocation:f=qe.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:h,ignoreLocation:f},t=u?t:t.toLowerCase(),t=h?Cm(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const p=(g,b)=>{this.chunks.push({pattern:g,alphabet:c0e(g),startIndex:b})},v=this.pattern.length;if(v>oo){let g=0;const b=v%oo,x=v-b;for(;g<x;)p(this.pattern.substr(g,oo),g),g+=oo;if(b){const _=v-oo;p(this.pattern.substr(_),_)}}else p(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Cm(t):t,this.pattern===t){let x={isMatch:!0,score:0};return i&&(x.indices=[[0,t.length-1]]),x}const{location:s,distance:a,threshold:o,findAllMatches:u,minMatchCharLength:h,ignoreLocation:f}=this.options;let p=[],v=0,g=!1;this.chunks.forEach(({pattern:x,alphabet:_,startIndex:w})=>{const{isMatch:C,score:S,indices:O}=u0e(t,x,_,{location:s+w,distance:a,threshold:o,findAllMatches:u,minMatchCharLength:h,includeMatches:i,ignoreLocation:f});C&&(g=!0),v+=S,C&&O&&(p=[...p,...O])});let b={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(b.indices=p),b}}class Ia{constructor(t){this.pattern=t}static isMultiMatch(t){return cI(t,this.multiRegex)}static isSingleMatch(t){return cI(t,this.singleRegex)}search(){}}function cI(e,t){const r=e.match(t);return r?r[1]:null}class d0e extends Ia{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class h0e extends Ia{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class f0e extends Ia{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class p0e extends Ia{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class m0e extends Ia{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class g0e extends Ia{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class A5 extends Ia{constructor(t,{location:r=qe.location,threshold:n=qe.threshold,distance:i=qe.distance,includeMatches:s=qe.includeMatches,findAllMatches:a=qe.findAllMatches,minMatchCharLength:o=qe.minMatchCharLength,isCaseSensitive:u=qe.isCaseSensitive,ignoreDiacritics:h=qe.ignoreDiacritics,ignoreLocation:f=qe.ignoreLocation}={}){super(t),this._bitapSearch=new C5(t,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:u,ignoreDiacritics:h,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class O5 extends Ia{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],s=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const H_=[d0e,O5,f0e,p0e,g0e,m0e,h0e,A5],dI=H_.length,v0e=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,y0e="|";function b0e(e,t={}){return e.split(y0e).map(r=>{let n=r.trim().split(v0e).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=n.length;s<a;s+=1){const o=n[s];let u=!1,h=-1;for(;!u&&++h<dI;){const f=H_[h];let p=f.isMultiMatch(o);p&&(i.push(new f(p,t)),u=!0)}if(!u)for(h=-1;++h<dI;){const f=H_[h];let p=f.isSingleMatch(o);if(p){i.push(new f(p,t));break}}}return i})}const _0e=new Set([A5.type,O5.type]);class x0e{constructor(t,{isCaseSensitive:r=qe.isCaseSensitive,ignoreDiacritics:n=qe.ignoreDiacritics,includeMatches:i=qe.includeMatches,minMatchCharLength:s=qe.minMatchCharLength,ignoreLocation:a=qe.ignoreLocation,findAllMatches:o=qe.findAllMatches,location:u=qe.location,threshold:h=qe.threshold,distance:f=qe.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:a,location:u,threshold:h,distance:f},t=r?t:t.toLowerCase(),t=n?Cm(t):t,this.pattern=t,this.query=b0e(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:s}=this.options;t=i?t:t.toLowerCase(),t=s?Cm(t):t;let a=0,o=[],u=0;for(let h=0,f=r.length;h<f;h+=1){const p=r[h];o.length=0,a=0;for(let v=0,g=p.length;v<g;v+=1){const b=p[v],{isMatch:x,indices:_,score:w}=b.search(t);if(x){if(a+=1,u+=w,n){const C=b.constructor.type;_0e.has(C)?o=[...o,..._]:o.push(_)}}else{u=0,a=0,o.length=0;break}}if(a){let v={isMatch:!0,score:u/a};return n&&(v.indices=o),v}}return{isMatch:!1,score:1}}}const z_=[];function w0e(...e){z_.push(...e)}function W_(e,t){for(let r=0,n=z_.length;r<n;r+=1){let i=z_[r];if(i.condition(e,t))return new i(e,t)}return new C5(e,t)}const Am={AND:"$and",OR:"$or"},q_={PATH:"$path",PATTERN:"$val"},V_=e=>!!(e[Am.AND]||e[Am.OR]),E0e=e=>!!e[q_.PATH],k0e=e=>!Cs(e)&&E5(e)&&!V_(e),hI=e=>({[Am.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function N5(e,t,{auto:r=!0}={}){const n=i=>{let s=Object.keys(i);const a=E0e(i);if(!a&&s.length>1&&!V_(i))return n(hI(i));if(k0e(i)){const u=a?i[q_.PATH]:s[0],h=a?i[q_.PATTERN]:i[u];if(!Hi(h))throw new Error(Gge(u));const f={keyId:U_(u),pattern:h};return r&&(f.searcher=W_(h,t)),f}let o={children:[],operator:s[0]};return s.forEach(u=>{const h=i[u];Cs(h)&&h.forEach(f=>{o.children.push(n(f))})}),o};return V_(e)||(e=hI(e)),n(e)}function T0e(e,{ignoreFieldNorm:t=qe.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:a})=>{const o=i?i.weight:null;n*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:s))}),r.score=n})}function S0e(e,t){const r=e.matches;t.matches=[],Cn(r)&&r.forEach(n=>{if(!Cn(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let a={indices:i,value:s};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function C0e(e,t){t.score=e.score}function A0e(e,t,{includeMatches:r=qe.includeMatches,includeScore:n=qe.includeScore}={}){const i=[];return r&&i.push(S0e),n&&i.push(C0e),e.map(s=>{const{idx:a}=s,o={item:t[a],refIndex:a};return i.length&&i.forEach(u=>{u(s,o)}),o})}class wu{constructor(t,r={},n){this.options={...qe,...r},this.options.useExtendedSearch,this._keyStore=new Zge(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof TE))throw new Error(Yge);this._myIndex=r||S5(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Cn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:o}=this.options;let u=Hi(t)?Hi(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return T0e(u,{ignoreFieldNorm:o}),s&&u.sort(a),w5(r)&&r>-1&&(u=u.slice(0,r)),A0e(u,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=W_(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:a,n:o})=>{if(!Cn(s))return;const{isMatch:u,score:h,indices:f}=r.searchIn(s);u&&i.push({item:s,idx:a,matches:[{score:h,value:s,norm:o,indices:f}]})}),i}_searchLogical(t){const r=N5(t,this.options),n=(o,u,h)=>{if(!o.children){const{keyId:p,searcher:v}=o,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(u,p),searcher:v});return g&&g.length?[{idx:h,item:u,matches:g}]:[]}const f=[];for(let p=0,v=o.children.length;p<v;p+=1){const g=o.children[p],b=n(g,u,h);if(b.length)f.push(...b);else if(o.operator===Am.AND)return[]}return f},i=this._myIndex.records,s={},a=[];return i.forEach(({$:o,i:u})=>{if(Cn(o)){let h=n(r,o,u);h.length&&(s[u]||(s[u]={idx:u,item:o,matches:[]},a.push(s[u])),h.forEach(({matches:f})=>{s[u].matches.push(...f)}))}}),a}_searchObjectList(t){const r=W_(t,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:o})=>{if(!Cn(a))return;let u=[];n.forEach((h,f)=>{u.push(...this._findMatches({key:h,value:a[f],searcher:r}))}),u.length&&s.push({idx:o,item:a,matches:u})}),s}_findMatches({key:t,value:r,searcher:n}){if(!Cn(r))return[];let i=[];if(Cs(r))r.forEach(({v:s,i:a,n:o})=>{if(!Cn(s))return;const{isMatch:u,score:h,indices:f}=n.searchIn(s);u&&i.push({score:h,key:t,value:s,idx:a,norm:o,indices:f})});else{const{v:s,n:a}=r,{isMatch:o,score:u,indices:h}=n.searchIn(s);o&&i.push({score:u,key:t,value:s,norm:a,indices:h})}return i}}wu.version="7.1.0";wu.createIndex=S5;wu.parseIndex=o0e;wu.config=qe;wu.parseQuery=N5;w0e(x0e);const P5={sections:[{title:"Getting Started",items:[{slug:"getting-started/welcome",title:"Welcome to TerminalBench"},{slug:"onboarding/project-overview",title:"Project Overview"},{slug:"onboarding/platform-onboarding",title:"Onboarding Video and Slides"},{slug:"getting-started/quick-start",title:"Quick Start Guide"},{slug:"getting-started/environment-setup",title:"Environment Setup"}]},{title:"Understanding Tasks",items:[{slug:"understanding-tasks/what-makes-a-good-task",title:"What Makes a Good Task"},{slug:"understanding-tasks/task-components",title:"Task Components"},{slug:"understanding-tasks/task-requirements",title:"Task Requirements"},{slug:"understanding-tasks/task-taxonomy",title:"Task Taxonomy"},{slug:"understanding-tasks/example-tasks",title:"Example Tasks"},{slug:"understanding-tasks/difficulty-guidelines",title:"Difficulty Guidelines"}]},{title:"Tasking Overview",items:[{slug:"submitting-tasks/platform-submission",title:"Platform Submission"},{slug:"submitting-tasks/submission-checklist",title:"Submission Checklist"},{slug:"submitting-tasks/after-submission",title:"After Submission"}]},{title:"Detailed Tasking Guides",items:[{slug:"creating-tasks/videos/creating-task",title:"Creating a Task"},{slug:"creating-tasks/videos/running-your-task",title:"Running Your Task"},{slug:"creating-tasks/writing-task-yaml",title:"Writing Instructions & Config"},{slug:"creating-tasks/creating-docker-environment",title:"Docker Environment"},{slug:"creating-tasks/writing-oracle-solution",title:"Writing Oracle Solution"},{slug:"creating-tasks/writing-tests",title:"Writing Tests"}]},{title:"Testing & Validation",items:[{slug:"testing-and-validation/oracle-agent",title:"Oracle Agent"},{slug:"testing-and-validation/running-real-agents",title:"Testing Agent Performance"},{slug:"testing-and-validation/ci-feedback-training",title:"CI Feedback Training"},{slug:"testing-and-validation/ci-checks-reference",title:"CI Checks Reference"},{slug:"testing-and-validation/llmaj-checks-reference",title:"LLMaJ Checks Reference"}]},{title:"Reviewing Tasks",items:[{slug:"reviewing-tasks/review-guidelines",title:"Review Guidelines"},{slug:"reviewing-tasks/common-errors",title:"Common Errors"},{slug:"reviewing-tasks/defending-your-submission",title:"Defending Your Submission"}]},{title:"Reference",items:[{slug:"reference/faq",title:"FAQ"},{slug:"reference/glossary",title:"Glossary"},{slug:"reference/rate-schedule",title:"Rate Schedule"},{slug:"reference/troubleshooting",title:"Troubleshooting"},{slug:"reference/office-hours",title:"Office Hours"},{slug:"reference/external-resources",title:"External Resources"}]}]},K_=()=>P5.sections.flatMap(e=>e.items.map(t=>({...t,section:e.title}))),I5=async e=>{const r=await fetch(`/Terminus-EC-Training-stateful/docs/${e}.md`);if(!r.ok)throw new Error(`Doc not found: ${e}`);return r.text()},O0e=(e,t,r=120)=>{if(!e||!t)return null;const n=e.toLowerCase(),i=t.toLowerCase(),s=n.indexOf(i);if(s===-1)return null;const a=Math.floor((r-t.length)/2);let o=Math.max(0,s-a),u=Math.min(e.length,s+t.length+a);if(o>0){const f=e.indexOf(" ",o);f!==-1&&f<s&&(o=f+1)}if(u<e.length){const f=e.lastIndexOf(" ",u);f>s+t.length&&(u=f)}let h=e.slice(o,u).trim();return o>0&&(h="..."+h),u<e.length&&(h=h+"..."),h};function N0e({isOpen:e,onClose:t,onSelect:r}){const n=Zr(),[i,s]=T.useState(""),[a,o]=T.useState([]),[u,h]=T.useState(0),f=T.useRef(null),p=T.useRef("");T.useEffect(()=>{(async()=>{const x=K_(),_=await Promise.all(x.map(async w=>{try{const S=(await I5(w.slug)).replace(/#{1,6}\s/g,"").replace(/\*\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`[^`]+`/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim().slice(0,8e3);return{...w,content:S}}catch{return{...w,content:w.title}}}));o(_)})()},[]);const v=T.useMemo(()=>new wu(a,{keys:[{name:"title",weight:3},{name:"section",weight:2},{name:"content",weight:1}],threshold:.15,includeMatches:!0,minMatchCharLength:2,ignoreLocation:!0,findAllMatches:!0}),[a]),g=i.length>=2?v.search(i).slice(0,8):[];return T.useEffect(()=>{h(0)},[g.length]),T.useEffect(()=>{if(i.length<2||i===p.current)return;const b=setTimeout(()=>{n&&i.length>=2&&(n.capture("docs_search_performed",{search_query:i,results_count:g.length,has_results:g.length>0}),p.current=i)},500);return()=>clearTimeout(b)},[i,g.length,n]),T.useEffect(()=>{e&&f.current&&(f.current.focus(),s(""))},[e]),T.useEffect(()=>{if(!e)return;const b=x=>{switch(x.key){case"Escape":t();break;case"ArrowDown":x.preventDefault(),h(_=>Math.min(_+1,g.length-1));break;case"ArrowUp":x.preventDefault(),h(_=>Math.max(_-1,0));break;case"Enter":x.preventDefault(),g[u]&&r(g[u].item.slug,i);break}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,t,r,g,u]),e?d.jsx("div",{className:"docs-search-overlay",onClick:t,children:d.jsxs("div",{className:"docs-search-modal",onClick:b=>b.stopPropagation(),children:[d.jsxs("div",{className:"docs-search-header",children:[d.jsxs("svg",{className:"docs-search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]}),d.jsx("input",{ref:f,type:"text",className:"docs-search-input",placeholder:"Search documentation...",value:i,onChange:b=>s(b.target.value)}),d.jsx("kbd",{className:"docs-search-esc",children:"ESC"})]}),d.jsx("div",{className:"docs-search-results",children:i.length<2?d.jsxs("div",{className:"docs-search-hint",children:[d.jsx("p",{children:"Type to search all documentation..."}),d.jsxs("div",{className:"docs-search-shortcuts",children:[d.jsxs("span",{children:[d.jsx("kbd",{children:""}),d.jsx("kbd",{children:""})," Navigate"]}),d.jsxs("span",{children:[d.jsx("kbd",{children:""})," Select"]}),d.jsxs("span",{children:[d.jsx("kbd",{children:"ESC"})," Close"]})]})]}):g.length===0?d.jsxs("div",{className:"docs-search-empty",children:[d.jsxs("p",{children:['No results for "',d.jsx("strong",{children:i}),'"']}),d.jsx("p",{className:"docs-search-empty-hint",children:"Try different keywords or check spelling"})]}):d.jsx("ul",{className:"docs-search-list",children:g.map(({item:b},x)=>{const _=O0e(b.content,i);return d.jsx("li",{children:d.jsxs("button",{className:`docs-search-result ${x===u?"docs-search-result--selected":""}`,onClick:()=>r(b.slug,i),onMouseEnter:()=>h(x),children:[d.jsx("span",{className:"docs-search-result-icon",children:b.icon}),d.jsxs("div",{className:"docs-search-result-text",children:[d.jsx("span",{className:"docs-search-result-title",children:b.title}),d.jsx("span",{className:"docs-search-result-section",children:b.section}),_&&d.jsx("span",{className:"docs-search-result-snippet",children:_})]}),d.jsx("svg",{className:"docs-search-result-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M9 18l6-6-6-6"})})]})},b.slug)})})})]})}):null}function P0e(){const{"*":e}=wI(),t=e||"getting-started/welcome",r=pt(),n=Zr(),[i,s]=T.useState(""),[a,o]=T.useState(!0),[u,h]=T.useState(!1),[f,p]=T.useState(!1),v=T.useRef("direct");T.useEffect(()=>{o(!0),I5(t).then(S=>{if(s(S),n){const P=K_().find(N=>N.slug===t);n.capture("doc_viewed",{doc_slug:t,doc_title:(P==null?void 0:P.title)||t,doc_section:(P==null?void 0:P.section)||"unknown",navigation_source:v.current})}v.current="direct"}).catch(()=>s(`# Page Not Found

This documentation page doesn't exist yet.

[ Back to Welcome](/portal/docs/getting-started/welcome)`)).finally(()=>o(!1))},[t,n]),T.useEffect(()=>{const S=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),g("keyboard"))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const g=(S="button")=>{h(!0),n&&n.capture("docs_search_opened",{trigger:S,current_doc_slug:t})};T.useEffect(()=>{p(!1)},[t]);const b=K_(),x=b.find(S=>S.slug===t),_=b.findIndex(S=>S.slug===t),w=_>0?b[_-1]:null,C=_<b.length-1?b[_+1]:null;return d.jsxs("div",{className:"docs-layout",children:[d.jsx("button",{className:"docs-mobile-menu-btn",onClick:()=>p(!f),"aria-label":"Toggle menu",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?d.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):d.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),d.jsx(aoe,{sections:P5.sections,currentSlug:t,onSearchClick:()=>g("button"),isOpen:f,onClose:()=>p(!1),onNavClick:()=>{v.current="sidebar"}}),d.jsx("main",{className:"docs-main",children:d.jsx(zge,{content:i,loading:a,title:x==null?void 0:x.title,prevDoc:w,nextDoc:C,onPaginationClick:()=>{v.current="pagination"}})}),d.jsx(N0e,{isOpen:u,onClose:()=>h(!1),onSelect:(S,O)=>{v.current="search",n&&n.capture("docs_search_result_clicked",{search_query:O,selected_doc_slug:S,current_doc_slug:t}),r(`/portal/docs/${S}`),h(!1)}})]})}function I0e({category:e,tasks:t,onTaskClick:r}){const[n,i]=T.useState(!1),[s,a]=T.useState(!1),o=T.useRef(null),u=t.length>4,h=f=>{o.current&&o.current.scrollBy({left:f==="left"?-400:400,behavior:"smooth"})};return d.jsxs("div",{className:"task-category-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsxs("div",{className:"section-title-group",onClick:()=>i(!n),children:[d.jsx("button",{className:`collapse-btn ${n?"collapsed":""}`,children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})}),d.jsx("div",{className:"section-title-wrapper",children:d.jsxs("h3",{children:[e,d.jsx("span",{className:"section-count",children:t.length})]})})]}),!n&&!s&&u&&d.jsxs("div",{className:"section-controls",children:[d.jsx(He,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!0)},children:d.jsxs("span",{className:"explore-btn-content",children:[d.jsx("span",{children:"View all"}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),d.jsx("button",{className:"scroll-btn",onClick:()=>h("left"),"aria-label":"Scroll left",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})})}),d.jsx("button",{className:"scroll-btn",onClick:()=>h("right"),"aria-label":"Scroll right",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),!n&&s&&d.jsx("div",{className:"section-controls",children:d.jsx(He,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!1)},children:d.jsxs("span",{className:"explore-btn-content",children:[d.jsx("span",{children:"Collapse"}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polyline",{points:"15 18 9 12 15 6"})})]})})})]}),!n&&d.jsx("div",{className:"section-content",children:s?d.jsx("div",{className:"tasks-grid-row show-all",children:t.map(f=>d.jsx("div",{className:"grid-item",children:d.jsx(xo,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))}):d.jsx("div",{className:"tasks-carousel",ref:o,children:t.map(f=>d.jsx("div",{className:"carousel-item",children:d.jsx(xo,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))})})]})}function j0e(){const e=pt(),{selectedTasks:t,loading:r,error:n,activeTaskCount:i,canClaimMore:s,refetch:a}=au(),[o,u]=T.useState(null),[h,f]=T.useState("active"),p=Id(JH,2200),v=t.filter(C=>C.status===Me.CLAIMED||C.status===Me.IN_PROGRESS),g=t.filter(C=>C.status===Me.WAITING_REVIEW),b=t.filter(C=>C.status===Me.ACCEPTED),x=T.useMemo(()=>{const C={};return b.forEach(S=>{const O=S.category||"Uncategorized";C[O]||(C[O]=[]),C[O].push(S)}),Object.entries(C).sort((S,O)=>O[1].length-S[1].length)},[b]),_=C=>{u(C)},w=()=>{u(null),a()};return r?d.jsxs("div",{className:"tasks-view my-tasks-view",children:[d.jsxs("div",{className:"tasks-header",children:[d.jsx("h1",{children:"My Tasks"}),d.jsx("p",{children:"Track your progress and complete challenges"})]}),d.jsx("div",{className:"tasks-loading",children:d.jsx(su,{size:"lg",message:p})})]}):n?d.jsxs("div",{className:"tasks-view my-tasks-view",children:[d.jsxs("div",{className:"tasks-header",children:[d.jsx("h1",{children:"My Tasks"}),d.jsx("p",{children:"Track your progress and complete challenges"})]}),d.jsxs("div",{className:"tasks-error",children:[d.jsxs("p",{children:["Error loading your tasks: ",n]}),d.jsx(He,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):d.jsxs("div",{className:"tasks-view my-tasks-view",children:[d.jsxs("div",{className:"tasks-header",children:[d.jsx("h1",{children:"My Tasks"}),d.jsx("p",{children:"Track your progress as you work on tasks."})]}),t.length===0?d.jsxs("div",{className:"tasks-empty",children:[d.jsx("div",{className:"empty-icon",children:d.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),d.jsx("h3",{children:"No challenges yet"}),d.jsx("p",{children:"Browse tasks and claim challenges to get started."}),d.jsx(He,{variant:"primary",onClick:()=>e("/portal/tasks"),children:"Browse Tasks"})]}):d.jsxs("div",{className:"gallery-content",style:{marginTop:"var(--space-6)"},children:[d.jsx("div",{className:"claim-limit-indicator",style:{marginBottom:"var(--space-4)",padding:"var(--space-3) var(--space-4)",background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:d.jsxs("span",{style:{fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:["Active Task Quota: ",d.jsxs("strong",{style:{color:s?"var(--text-primary)":"var(--color-warning)"},children:[i," / ",wi]})]})}),d.jsxs(az,{value:h,onChange:f,children:[d.jsxs(Yv,{value:"active",children:["Active Tasks",v.length>0&&d.jsx("span",{className:"tab-count",children:v.length})]}),d.jsxs(Yv,{value:"review",children:["In Review",g.length>0&&d.jsx("span",{className:"tab-count",children:g.length})]}),d.jsxs(Yv,{value:"accepted",children:["Accepted",b.length>0&&d.jsx("span",{className:"tab-count",children:b.length})]})]}),d.jsxs("div",{className:"my-tasks-tab-content",children:[h==="active"&&(v.length===0?d.jsxs("div",{className:"tasks-empty-tab",children:[d.jsxs("p",{children:["No active challenges. ",s?"Claim some tasks to get started!":"Submit tasks for review to free up slots."]}),s&&d.jsx(He,{variant:"secondary",onClick:()=>e("/portal/tasks"),children:"Find Challenges"})]}):d.jsx("div",{className:"my-tasks-grid",children:v.map(C=>d.jsx(xo,{task:C,isCompleted:!1,isHighlighted:C.is_highlighted,claimedAt:C.selected_at,statusBadge:V3[C.status],onClick:()=>_(C)},C.id))})),h==="review"&&(g.length===0?d.jsx("div",{className:"tasks-empty-tab",children:d.jsx("p",{children:"No tasks waiting for review."})}):d.jsx("div",{className:"my-tasks-grid",children:g.map(C=>d.jsx(xo,{task:C,isCompleted:!1,isHighlighted:C.is_highlighted,claimedAt:C.selected_at,statusBadge:"Waiting on Review",onClick:()=>_(C)},C.id))})),h==="accepted"&&(b.length===0?d.jsx("div",{className:"tasks-empty-tab",children:d.jsx("p",{children:"No accepted challenges yet. Keep going!"})}):d.jsx("div",{className:"tasks-grouped-layout",children:x.map(([C,S])=>d.jsx(I0e,{category:C,tasks:S,onTaskClick:_},C))}))]})]}),d.jsx(G3,{task:o,isOpen:!!o,onClose:w,onTaskUpdate:()=>a()})]})}const R0e=()=>{const{taskId:e}=wI(),t=pt(),{user:r}=ii(),[n,i]=T.useState(null),[s,a]=T.useState(!0),[o,u]=T.useState(!1),[h,f]=T.useState(!1),[p,v]=T.useState(null),g=Id(ZH,2200);T.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{a(!0);const{data:_,error:w}=await it.from("task_inspiration").select("*").eq("id",e).single();if(w)throw w;if(i(_),r){const{data:C,error:S}=await it.from("selected_tasks").select("id").eq("user_id",r.id).eq("task_id",e).maybeSingle();S&&console.error("Error checking selection:",S),C&&f(!0)}}catch(_){console.error("Error loading task:",_),v(_.message)}finally{a(!1)}},x=async()=>{if(r)try{u(!0);const{error:_}=await it.from("selected_tasks").insert({user_id:r.id,task_id:e});if(_)if(_.code==="23505")f(!0),alert("You have already claimed this task.");else throw _;else f(!0),window.confirm("Task claimed successfully! Would you like to view your tasks?")&&t("/portal/my-tasks")}catch(_){console.error("Error claiming task:",_),alert("Failed to claim task: "+_.message)}finally{u(!1)}};return s?d.jsx("div",{className:"task-detail-loading",children:d.jsx(su,{size:"lg",message:g})}):p||!n?d.jsxs("div",{className:"task-detail-error",children:[d.jsx("h2",{children:"Task not found"}),d.jsx("p",{children:p||"The requested task could not be loaded."}),d.jsx(He,{variant:"secondary",onClick:()=>t("/portal/tasks"),children:"Back to Gallery"})]}):d.jsxs("div",{className:"task-detail-page",children:[d.jsx(He,{variant:"ghost",size:"sm",className:"back-btn",onClick:()=>t(-1),children:" Back"}),d.jsxs("div",{className:"task-detail-card",children:[d.jsxs("div",{className:"task-detail-header",children:[d.jsxs("div",{className:"task-meta-top",children:[d.jsx("span",{className:"task-category",children:n.category}),n.subcategory&&d.jsxs("span",{className:"task-subcategory",children:[" / ",n.subcategory]})]}),d.jsx("h1",{children:n.subcategory||n.subsubcategory||"Engineering Task"}),d.jsxs("div",{className:"task-meta-badges",children:[n.difficulty&&d.jsx(vs,{variant:n.difficulty,size:"lg",children:n.difficulty.toUpperCase()}),n.tags&&n.tags.map(_=>d.jsx(vs,{variant:"tag",size:"lg",children:_},_))]})]}),d.jsx("div",{className:"task-detail-body",children:d.jsxs("section",{className:"detail-section",children:[d.jsx("h3",{children:"Description"}),d.jsx("p",{children:n.description})]})}),d.jsx("div",{className:"task-detail-actions",children:h?d.jsx(He,{variant:"primary",size:"lg",disabled:!0,className:"claim-btn claimed",children:" Task Claimed"}):d.jsx(He,{variant:"primary",size:"lg",className:"claim-btn",onClick:x,loading:o,children:"Claim This Task"})})]})]})};function D0e(){return d.jsx(WH,{children:d.jsx(XH,{children:d.jsx(zH,{children:d.jsx(qH,{children:d.jsxs(wS,{children:[d.jsx(ut,{path:"/",element:d.jsx(Hz,{})}),d.jsx(ut,{path:"/login",element:d.jsx(Oz,{})}),d.jsx(ut,{path:"/portal/*",element:d.jsx(Az,{children:d.jsxs("div",{className:"app",children:[d.jsx(Cz,{}),d.jsx(Wz,{}),d.jsx(sz,{variant:"subtle",title:"Please do not reach out to reviewers directly; ",children:"messaging them will not speed up your review."}),d.jsxs(wS,{children:[d.jsx(ut,{path:"/",element:d.jsx(eW,{})}),d.jsx(ut,{path:"/overview",element:d.jsx(tW,{})}),d.jsx(ut,{path:"/tasks",element:d.jsx(soe,{})}),d.jsx(ut,{path:"/task/:taskId",element:d.jsx(R0e,{})}),d.jsx(ut,{path:"/my-tasks",element:d.jsx(j0e,{})}),d.jsx(ut,{path:"/videos",element:d.jsx(iW,{})}),d.jsx(ut,{path:"/workbook",element:d.jsx(aW,{})}),d.jsx(ut,{path:"/oracle",element:d.jsx(lW,{})}),d.jsx(ut,{path:"/onboarding",element:d.jsx(uW,{})}),d.jsx(ut,{path:"/environment-setup",element:d.jsx(mW,{})}),d.jsx(ut,{path:"/local-testing",element:d.jsx(pW,{})}),d.jsx(ut,{path:"/expert-platform-onboarding",element:d.jsx(cW,{})}),d.jsx(ut,{path:"/expert-platform-walkthrough",element:d.jsx(Li,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),d.jsx(ut,{path:"/feedback",element:d.jsx(dW,{})}),d.jsx(ut,{path:"/faq",element:d.jsx(hW,{})}),d.jsx(ut,{path:"/glossary",element:d.jsx(fW,{})}),d.jsx(ut,{path:"/docs/*",element:d.jsx(P0e,{})}),d.jsx(ut,{path:"/docs-platform-onboarding",element:d.jsx(Li,{to:"/portal/docs/onboarding/platform-onboarding",replace:!0})}),d.jsx(ut,{path:"/docs-platform-submission",element:d.jsx(Li,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),d.jsx(ut,{path:"/docs-ci-training",element:d.jsx(Li,{to:"/portal/docs/testing-and-validation/ci-feedback-training",replace:!0})}),d.jsx(ut,{path:"/docs-oracle-training",element:d.jsx(Li,{to:"/portal/docs/testing-and-validation/oracle-training",replace:!0})}),d.jsx(ut,{path:"/docs-faq",element:d.jsx(Li,{to:"/portal/docs/reference/faq",replace:!0})}),d.jsx(ut,{path:"/docs-glossary",element:d.jsx(Li,{to:"/portal/docs/reference/glossary",replace:!0})}),d.jsx(ut,{path:"/profile",element:d.jsx(Jae,{})}),d.jsx(ut,{path:"/admin",element:d.jsx(Vae,{})}),gW.map(e=>d.jsx(ut,{path:`/${e.id}`,element:d.jsx(nW,{section:e})},e.id)),d.jsx(ut,{path:"*",element:d.jsx(Li,{to:"/portal",replace:!0})})]})]})})}),d.jsx(ut,{path:"*",element:d.jsx(Li,{to:"/",replace:!0})})]})})})})})}const dp="/Terminus-EC-Training-stateful/",Y_=new URLSearchParams(window.location.search),Zf=Y_.get("redirect");if(Zf){const e=Y_.get("search")||"",t=Y_.get("hash")||"",r=dp.endsWith("/")?dp.slice(0,-1):dp,n=Zf.startsWith("/")?Zf:"/"+Zf;window.history.replaceState(null,"",r+n+e+t)}FF.createRoot(document.getElementById("root")).render(d.jsx(T.StrictMode,{children:d.jsx(yU,{apiKey:"phc_ywGAskGEiQwP7kudLchm56fN5s07jrWgFjpGzk995cl",options:{api_host:"https://us.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:d.jsx(XB,{basename:dp,children:d.jsx(D0e,{})})})}));
