var UB=Object.defineProperty;var HB=(e,t,r)=>t in e?UB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vv=(e,t,r)=>HB(e,typeof t!="symbol"?t+"":t,r);function wP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var yv={exports:{}},uc={},bv={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function WB(){if(g2)return nt;g2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=p&&V[p]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function b(V,ie,$){this.props=V,this.context=ie,this.refs=x,this.updater=$||g}b.prototype.isReactComponent={},b.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=b.prototype;function A(V,ie,$){this.props=V,this.context=ie,this.refs=x,this.updater=$||g}var S=A.prototype=new w;S.constructor=A,_(S,b.prototype),S.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(V,ie,$){var Ee,ke={},pe=null,Me=null;if(ie!=null)for(Ee in ie.ref!==void 0&&(Me=ie.ref),ie.key!==void 0&&(pe=""+ie.key),ie)j.call(ie,Ee)&&!P.hasOwnProperty(Ee)&&(ke[Ee]=ie[Ee]);var De=arguments.length-2;if(De===1)ke.children=$;else if(1<De){for(var se=Array(De),Ce=0;Ce<De;Ce++)se[Ce]=arguments[Ce+2];ke.children=se}if(V&&V.defaultProps)for(Ee in De=V.defaultProps,De)ke[Ee]===void 0&&(ke[Ee]=De[Ee]);return{$$typeof:e,type:V,key:pe,ref:Me,props:ke,_owner:N.current}}function H(V,ie){return{$$typeof:e,type:V.type,key:ie,ref:V.ref,props:V.props,_owner:V._owner}}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function M(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function($){return ie[$]})}var F=/\/+/g;function Y(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ie.toString(36)}function G(V,ie,$,Ee,ke){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var Me=!1;if(V===null)Me=!0;else switch(pe){case"string":case"number":Me=!0;break;case"object":switch(V.$$typeof){case e:case t:Me=!0}}if(Me)return Me=V,ke=ke(Me),V=Ee===""?"."+Y(Me,0):Ee,O(ke)?($="",V!=null&&($=V.replace(F,"$&/")+"/"),G(ke,ie,$,"",function(Ce){return Ce})):ke!=null&&(D(ke)&&(ke=H(ke,$+(!ke.key||Me&&Me.key===ke.key?"":(""+ke.key).replace(F,"$&/")+"/")+V)),ie.push(ke)),1;if(Me=0,Ee=Ee===""?".":Ee+":",O(V))for(var De=0;De<V.length;De++){pe=V[De];var se=Ee+Y(pe,De);Me+=G(pe,ie,$,se,ke)}else if(se=v(V),typeof se=="function")for(V=se.call(V),De=0;!(pe=V.next()).done;)pe=pe.value,se=Ee+Y(pe,De++),Me+=G(pe,ie,$,se,ke);else if(pe==="object")throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Me}function W(V,ie,$){if(V==null)return V;var Ee=[],ke=0;return G(V,Ee,"","",function(pe){return ie.call($,pe,ke++)}),Ee}function Q(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function($){(V._status===0||V._status===-1)&&(V._status=1,V._result=$)},function($){(V._status===0||V._status===-1)&&(V._status=2,V._result=$)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var te={current:null},ne={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:W,forEach:function(V,ie,$){W(V,function(){ie.apply(this,arguments)},$)},count:function(V){var ie=0;return W(V,function(){ie++}),ie},toArray:function(V){return W(V,function(ie){return ie})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},nt.Component=b,nt.Fragment=r,nt.Profiler=i,nt.PureComponent=A,nt.StrictMode=n,nt.Suspense=c,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,nt.act=L,nt.cloneElement=function(V,ie,$){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ee=_({},V.props),ke=V.key,pe=V.ref,Me=V._owner;if(ie!=null){if(ie.ref!==void 0&&(pe=ie.ref,Me=N.current),ie.key!==void 0&&(ke=""+ie.key),V.type&&V.type.defaultProps)var De=V.type.defaultProps;for(se in ie)j.call(ie,se)&&!P.hasOwnProperty(se)&&(Ee[se]=ie[se]===void 0&&De!==void 0?De[se]:ie[se])}var se=arguments.length-2;if(se===1)Ee.children=$;else if(1<se){De=Array(se);for(var Ce=0;Ce<se;Ce++)De[Ce]=arguments[Ce+2];Ee.children=De}return{$$typeof:e,type:V.type,key:ke,ref:pe,props:Ee,_owner:Me}},nt.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},nt.createElement=R,nt.createFactory=function(V){var ie=R.bind(null,V);return ie.type=V,ie},nt.createRef=function(){return{current:null}},nt.forwardRef=function(V){return{$$typeof:o,render:V}},nt.isValidElement=D,nt.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:Q}},nt.memo=function(V,ie){return{$$typeof:d,type:V,compare:ie===void 0?null:ie}},nt.startTransition=function(V){var ie=ne.transition;ne.transition={};try{V()}finally{ne.transition=ie}},nt.unstable_act=L,nt.useCallback=function(V,ie){return te.current.useCallback(V,ie)},nt.useContext=function(V){return te.current.useContext(V)},nt.useDebugValue=function(){},nt.useDeferredValue=function(V){return te.current.useDeferredValue(V)},nt.useEffect=function(V,ie){return te.current.useEffect(V,ie)},nt.useId=function(){return te.current.useId()},nt.useImperativeHandle=function(V,ie,$){return te.current.useImperativeHandle(V,ie,$)},nt.useInsertionEffect=function(V,ie){return te.current.useInsertionEffect(V,ie)},nt.useLayoutEffect=function(V,ie){return te.current.useLayoutEffect(V,ie)},nt.useMemo=function(V,ie){return te.current.useMemo(V,ie)},nt.useReducer=function(V,ie,$){return te.current.useReducer(V,ie,$)},nt.useRef=function(V){return te.current.useRef(V)},nt.useState=function(V){return te.current.useState(V)},nt.useSyncExternalStore=function(V,ie,$){return te.current.useSyncExternalStore(V,ie,$)},nt.useTransition=function(){return te.current.useTransition()},nt.version="18.3.1",nt}var v2;function ru(){return v2||(v2=1,bv.exports=WB()),bv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function qB(){if(y2)return uc;y2=1;var e=ru(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,d){var f,p={},v=null,g=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:o,key:v,ref:g,props:p,_owner:i.current}}return uc.Fragment=r,uc.jsx=a,uc.jsxs=a,uc}var b2;function VB(){return b2||(b2=1,yv.exports=qB()),yv.exports}var l=VB(),E=ru();const yn=ui(E),GB=wP({__proto__:null,default:yn},[E]);var hf={},_v={exports:{}},dn={},xv={exports:{}},wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function YB(){return _2||(_2=1,(function(e){function t(ne,oe){var L=ne.length;ne.push(oe);e:for(;0<L;){var V=L-1>>>1,ie=ne[V];if(0<i(ie,oe))ne[V]=oe,ne[L]=ie,L=V;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var oe=ne[0],L=ne.pop();if(L!==oe){ne[0]=L;e:for(var V=0,ie=ne.length,$=ie>>>1;V<$;){var Ee=2*(V+1)-1,ke=ne[Ee],pe=Ee+1,Me=ne[pe];if(0>i(ke,L))pe<ie&&0>i(Me,ke)?(ne[V]=Me,ne[pe]=L,V=pe):(ne[V]=ke,ne[Ee]=L,V=Ee);else if(pe<ie&&0>i(Me,L))ne[V]=Me,ne[pe]=L,V=pe;else break e}}return oe}function i(ne,oe){var L=ne.sortIndex-oe.sortIndex;return L!==0?L:ne.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],f=1,p=null,v=3,g=!1,_=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ne){for(var oe=r(d);oe!==null;){if(oe.callback===null)n(d);else if(oe.startTime<=ne)n(d),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=r(d)}}function O(ne){if(x=!1,S(ne),!_)if(r(c)!==null)_=!0,Q(j);else{var oe=r(d);oe!==null&&te(O,oe.startTime-ne)}}function j(ne,oe){_=!1,x&&(x=!1,w(R),R=-1),g=!0;var L=v;try{for(S(oe),p=r(c);p!==null&&(!(p.expirationTime>oe)||ne&&!M());){var V=p.callback;if(typeof V=="function"){p.callback=null,v=p.priorityLevel;var ie=V(p.expirationTime<=oe);oe=e.unstable_now(),typeof ie=="function"?p.callback=ie:p===r(c)&&n(c),S(oe)}else n(c);p=r(c)}if(p!==null)var $=!0;else{var Ee=r(d);Ee!==null&&te(O,Ee.startTime-oe),$=!1}return $}finally{p=null,v=L,g=!1}}var N=!1,P=null,R=-1,H=5,D=-1;function M(){return!(e.unstable_now()-D<H)}function F(){if(P!==null){var ne=e.unstable_now();D=ne;var oe=!0;try{oe=P(!0,ne)}finally{oe?Y():(N=!1,P=null)}}else N=!1}var Y;if(typeof A=="function")Y=function(){A(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=F,Y=function(){W.postMessage(null)}}else Y=function(){b(F,0)};function Q(ne){P=ne,N||(N=!0,Y())}function te(ne,oe){R=b(function(){ne(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,Q(j))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var L=v;v=oe;try{return ne()}finally{v=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,oe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var L=v;v=ne;try{return oe()}finally{v=L}},e.unstable_scheduleCallback=function(ne,oe,L){var V=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?V+L:V):L=V,ne){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=L+ie,ne={id:f++,callback:oe,priorityLevel:ne,startTime:L,expirationTime:ie,sortIndex:-1},L>V?(ne.sortIndex=L,t(d,ne),r(c)===null&&ne===r(d)&&(x?(w(R),R=-1):x=!0,te(O,L-V))):(ne.sortIndex=ie,t(c,ne),_||g||(_=!0,Q(j))),ne},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(ne){var oe=v;return function(){var L=v;v=oe;try{return ne.apply(this,arguments)}finally{v=L}}}})(wv)),wv}var x2;function KB(){return x2||(x2=1,xv.exports=YB()),xv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function XB(){if(w2)return dn;w2=1;var e=ru(),t=KB();function r(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(u){return c.call(p,u)?!0:c.call(f,u)?!1:d.test(u)?p[u]=!0:(f[u]=!0,!1)}function g(u,h,m,y){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function _(u,h,m,y){if(h===null||typeof h>"u"||g(u,h,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,m,y,T,C,I){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=y,this.attributeNamespace=T,this.mustUseProperty=m,this.propertyName=u,this.type=h,this.sanitizeURL=C,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];b[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(w,A);b[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(w,A);b[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(w,A);b[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function S(u,h,m,y){var T=b.hasOwnProperty(h)?b[h]:null;(T!==null?T.type!==0:y||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(_(h,m,T,y)&&(m=null),y||T===null?v(h)&&(m===null?u.removeAttribute(h):u.setAttribute(h,""+m)):T.mustUseProperty?u[T.propertyName]=m===null?T.type===3?!1:"":m:(h=T.attributeName,y=T.attributeNamespace,m===null?u.removeAttribute(h):(T=T.type,m=T===3||T===4&&m===!0?"":""+m,y?u.setAttributeNS(y,h,m):u.setAttribute(h,m))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function oe(u){return u===null||typeof u!="object"?null:(u=ne&&u[ne]||u["@@iterator"],typeof u=="function"?u:null)}var L=Object.assign,V;function ie(u){if(V===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);V=h&&h[1]||""}return`
`+V+u}var $=!1;function Ee(u,h){if(!u||$)return"";$=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ae){var y=ae}Reflect.construct(u,[],h)}else{try{h.call()}catch(ae){y=ae}u.call(h.prototype)}else{try{throw Error()}catch(ae){y=ae}u()}}catch(ae){if(ae&&y&&typeof ae.stack=="string"){for(var T=ae.stack.split(`
`),C=y.stack.split(`
`),I=T.length-1,z=C.length-1;1<=I&&0<=z&&T[I]!==C[z];)z--;for(;1<=I&&0<=z;I--,z--)if(T[I]!==C[z]){if(I!==1||z!==1)do if(I--,z--,0>z||T[I]!==C[z]){var K=`
`+T[I].replace(" at new "," at ");return u.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",u.displayName)),K}while(1<=I&&0<=z);break}}}finally{$=!1,Error.prepareStackTrace=m}return(u=u?u.displayName||u.name:"")?ie(u):""}function ke(u){switch(u.tag){case 5:return ie(u.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return u=Ee(u.type,!1),u;case 11:return u=Ee(u.type.render,!1),u;case 1:return u=Ee(u.type,!0),u;default:return""}}function pe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case P:return"Fragment";case N:return"Portal";case H:return"Profiler";case R:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case M:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case F:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case W:return h=u.displayName||null,h!==null?h:pe(u.type)||"Memo";case Q:h=u._payload,u=u._init;try{return pe(u(h))}catch{}}return null}function Me(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(h);case 8:return h===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function De(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function se(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ce(u){var h=se(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),y=""+u[h];if(!u.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,C=m.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return T.call(this)},set:function(I){y=""+I,C.call(this,I)}}),Object.defineProperty(u,h,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(I){y=""+I},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Ge(u){u._valueTracker||(u._valueTracker=Ce(u))}function he(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var m=h.getValue(),y="";return u&&(y=se(u)?u.checked?"true":"false":u.value),u=y,u!==m?(h.setValue(u),!0):!1}function pt(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Te(u,h){var m=h.checked;return L({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??u._wrapperState.initialChecked})}function tt(u,h){var m=h.defaultValue==null?"":h.defaultValue,y=h.checked!=null?h.checked:h.defaultChecked;m=De(h.value!=null?h.value:m),u._wrapperState={initialChecked:y,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ut(u,h){h=h.checked,h!=null&&S(u,"checked",h,!1)}function Bt(u,h){ut(u,h);var m=De(h.value),y=h.type;if(m!=null)y==="number"?(m===0&&u.value===""||u.value!=m)&&(u.value=""+m):u.value!==""+m&&(u.value=""+m);else if(y==="submit"||y==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Ws(u,h.type,m):h.hasOwnProperty("defaultValue")&&Ws(u,h.type,De(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function ss(u,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var y=h.type;if(!(y!=="submit"&&y!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,m||h===u.value||(u.value=h),u.defaultValue=h}m=u.name,m!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,m!==""&&(u.name=m)}function Ws(u,h,m){(h!=="number"||pt(u.ownerDocument)!==u)&&(m==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+m&&(u.defaultValue=""+m))}var Mi=Array.isArray;function Bi(u,h,m,y){if(u=u.options,h){h={};for(var T=0;T<m.length;T++)h["$"+m[T]]=!0;for(m=0;m<u.length;m++)T=h.hasOwnProperty("$"+u[m].value),u[m].selected!==T&&(u[m].selected=T),T&&y&&(u[m].defaultSelected=!0)}else{for(m=""+De(m),h=null,T=0;T<u.length;T++){if(u[T].value===m){u[T].selected=!0,y&&(u[T].defaultSelected=!0);return}h!==null||u[T].disabled||(h=u[T])}h!==null&&(h.selected=!0)}}function Fa(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return L({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Fo(u,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(r(92));if(Mi(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),m=h}u._wrapperState={initialValue:De(m)}}function $o(u,h){var m=De(h.value),y=De(h.defaultValue);m!=null&&(m=""+m,m!==u.value&&(u.value=m),h.defaultValue==null&&u.defaultValue!==m&&(u.defaultValue=m)),y!=null&&(u.defaultValue=""+y)}function Uo(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function de(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function we(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?de(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var J,be=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,y,T){MSApp.execUnsafeLocalFunction(function(){return u(h,m,y,T)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(J=J||document.createElement("div"),J.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=J.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function ze(u,h){if(h){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=h;return}}u.textContent=h}var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Ft).forEach(function(u){Pr.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Ft[h]=Ft[u]})});function Ir(u,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||Ft.hasOwnProperty(u)&&Ft[u]?(""+h).trim():h+"px"}function pr(u,h){u=u.style;for(var m in h)if(h.hasOwnProperty(m)){var y=m.indexOf("--")===0,T=Ir(m,h[m],y);m==="float"&&(m="cssFloat"),y?u.setProperty(m,T):u[m]=T}}var zn=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tr(u,h){if(h){if(zn[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Fi(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=null;function Pg(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ig=null,Ho=null,zo=null;function IE(u){if(u=Yu(u)){if(typeof Ig!="function")throw Error(r(280));var h=u.stateNode;h&&(h=Sh(h),Ig(u.stateNode,u.type,h))}}function RE(u){Ho?zo?zo.push(u):zo=[u]:Ho=u}function DE(){if(Ho){var u=Ho,h=zo;if(zo=Ho=null,IE(u),h)for(u=0;u<h.length;u++)IE(h[u])}}function LE(u,h){return u(h)}function ME(){}var Rg=!1;function BE(u,h,m){if(Rg)return u(h,m);Rg=!0;try{return LE(u,h,m)}finally{Rg=!1,(Ho!==null||zo!==null)&&(ME(),DE())}}function Cu(u,h){var m=u.stateNode;if(m===null)return null;var y=Sh(m);if(y===null)return null;m=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(u=u.type,y=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!y;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,h,typeof m));return m}var Dg=!1;if(o)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Dg=!1}function G5(u,h,m,y,T,C,I,z,K){var ae=Array.prototype.slice.call(arguments,3);try{h.apply(m,ae)}catch(ge){this.onError(ge)}}var Nu=!1,ih=null,sh=!1,Lg=null,Y5={onError:function(u){Nu=!0,ih=u}};function K5(u,h,m,y,T,C,I,z,K){Nu=!1,ih=null,G5.apply(Y5,arguments)}function X5(u,h,m,y,T,C,I,z,K){if(K5.apply(this,arguments),Nu){if(Nu){var ae=ih;Nu=!1,ih=null}else throw Error(r(198));sh||(sh=!0,Lg=ae)}}function $a(u){var h=u,m=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(m=h.return),u=h.return;while(u)}return h.tag===3?m:null}function FE(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function $E(u){if($a(u)!==u)throw Error(r(188))}function Q5(u){var h=u.alternate;if(!h){if(h=$a(u),h===null)throw Error(r(188));return h!==u?null:u}for(var m=u,y=h;;){var T=m.return;if(T===null)break;var C=T.alternate;if(C===null){if(y=T.return,y!==null){m=y;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===m)return $E(T),u;if(C===y)return $E(T),h;C=C.sibling}throw Error(r(188))}if(m.return!==y.return)m=T,y=C;else{for(var I=!1,z=T.child;z;){if(z===m){I=!0,m=T,y=C;break}if(z===y){I=!0,y=T,m=C;break}z=z.sibling}if(!I){for(z=C.child;z;){if(z===m){I=!0,m=C,y=T;break}if(z===y){I=!0,y=C,m=T;break}z=z.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:h}function UE(u){return u=Q5(u),u!==null?HE(u):null}function HE(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=HE(u);if(h!==null)return h;u=u.sibling}return null}var zE=t.unstable_scheduleCallback,WE=t.unstable_cancelCallback,J5=t.unstable_shouldYield,Z5=t.unstable_requestPaint,qt=t.unstable_now,e8=t.unstable_getCurrentPriorityLevel,Mg=t.unstable_ImmediatePriority,qE=t.unstable_UserBlockingPriority,ah=t.unstable_NormalPriority,t8=t.unstable_LowPriority,VE=t.unstable_IdlePriority,oh=null,$i=null;function r8(u){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(oh,u,void 0,(u.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:s8,n8=Math.log,i8=Math.LN2;function s8(u){return u>>>=0,u===0?32:31-(n8(u)/i8|0)|0}var lh=64,uh=4194304;function ju(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function ch(u,h){var m=u.pendingLanes;if(m===0)return 0;var y=0,T=u.suspendedLanes,C=u.pingedLanes,I=m&268435455;if(I!==0){var z=I&~T;z!==0?y=ju(z):(C&=I,C!==0&&(y=ju(C)))}else I=m&~T,I!==0?y=ju(I):C!==0&&(y=ju(C));if(y===0)return 0;if(h!==0&&h!==y&&(h&T)===0&&(T=y&-y,C=h&-h,T>=C||T===16&&(C&4194240)!==0))return h;if((y&4)!==0&&(y|=m&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=y;0<h;)m=31-fi(h),T=1<<m,y|=u[m],h&=~T;return y}function a8(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o8(u,h){for(var m=u.suspendedLanes,y=u.pingedLanes,T=u.expirationTimes,C=u.pendingLanes;0<C;){var I=31-fi(C),z=1<<I,K=T[I];K===-1?((z&m)===0||(z&y)!==0)&&(T[I]=a8(z,h)):K<=h&&(u.expiredLanes|=z),C&=~z}}function Bg(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function GE(){var u=lh;return lh<<=1,(lh&4194240)===0&&(lh=64),u}function Fg(u){for(var h=[],m=0;31>m;m++)h.push(u);return h}function Ou(u,h,m){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-fi(h),u[h]=m}function l8(u,h){var m=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var y=u.eventTimes;for(u=u.expirationTimes;0<m;){var T=31-fi(m),C=1<<T;h[T]=0,y[T]=-1,u[T]=-1,m&=~C}}function $g(u,h){var m=u.entangledLanes|=h;for(u=u.entanglements;m;){var y=31-fi(m),T=1<<y;T&h|u[y]&h&&(u[y]|=h),m&=~T}}var mt=0;function YE(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var KE,Ug,XE,QE,JE,Hg=!1,dh=[],qs=null,Vs=null,Gs=null,Pu=new Map,Iu=new Map,Ys=[],u8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZE(u,h){switch(u){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Pu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(h.pointerId)}}function Ru(u,h,m,y,T,C){return u===null||u.nativeEvent!==C?(u={blockedOn:h,domEventName:m,eventSystemFlags:y,nativeEvent:C,targetContainers:[T]},h!==null&&(h=Yu(h),h!==null&&Ug(h)),u):(u.eventSystemFlags|=y,h=u.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),u)}function c8(u,h,m,y,T){switch(h){case"focusin":return qs=Ru(qs,u,h,m,y,T),!0;case"dragenter":return Vs=Ru(Vs,u,h,m,y,T),!0;case"mouseover":return Gs=Ru(Gs,u,h,m,y,T),!0;case"pointerover":var C=T.pointerId;return Pu.set(C,Ru(Pu.get(C)||null,u,h,m,y,T)),!0;case"gotpointercapture":return C=T.pointerId,Iu.set(C,Ru(Iu.get(C)||null,u,h,m,y,T)),!0}return!1}function ek(u){var h=Ua(u.target);if(h!==null){var m=$a(h);if(m!==null){if(h=m.tag,h===13){if(h=FE(m),h!==null){u.blockedOn=h,JE(u.priority,function(){XE(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function hh(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var m=Wg(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(m===null){m=u.nativeEvent;var y=new m.constructor(m.type,m);kn=y,m.target.dispatchEvent(y),kn=null}else return h=Yu(m),h!==null&&Ug(h),u.blockedOn=m,!1;h.shift()}return!0}function tk(u,h,m){hh(u)&&m.delete(h)}function d8(){Hg=!1,qs!==null&&hh(qs)&&(qs=null),Vs!==null&&hh(Vs)&&(Vs=null),Gs!==null&&hh(Gs)&&(Gs=null),Pu.forEach(tk),Iu.forEach(tk)}function Du(u,h){u.blockedOn===h&&(u.blockedOn=null,Hg||(Hg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d8)))}function Lu(u){function h(T){return Du(T,u)}if(0<dh.length){Du(dh[0],u);for(var m=1;m<dh.length;m++){var y=dh[m];y.blockedOn===u&&(y.blockedOn=null)}}for(qs!==null&&Du(qs,u),Vs!==null&&Du(Vs,u),Gs!==null&&Du(Gs,u),Pu.forEach(h),Iu.forEach(h),m=0;m<Ys.length;m++)y=Ys[m],y.blockedOn===u&&(y.blockedOn=null);for(;0<Ys.length&&(m=Ys[0],m.blockedOn===null);)ek(m),m.blockedOn===null&&Ys.shift()}var Wo=O.ReactCurrentBatchConfig,fh=!0;function h8(u,h,m,y){var T=mt,C=Wo.transition;Wo.transition=null;try{mt=1,zg(u,h,m,y)}finally{mt=T,Wo.transition=C}}function f8(u,h,m,y){var T=mt,C=Wo.transition;Wo.transition=null;try{mt=4,zg(u,h,m,y)}finally{mt=T,Wo.transition=C}}function zg(u,h,m,y){if(fh){var T=Wg(u,h,m,y);if(T===null)o0(u,h,y,ph,m),ZE(u,y);else if(c8(T,u,h,m,y))y.stopPropagation();else if(ZE(u,y),h&4&&-1<u8.indexOf(u)){for(;T!==null;){var C=Yu(T);if(C!==null&&KE(C),C=Wg(u,h,m,y),C===null&&o0(u,h,y,ph,m),C===T)break;T=C}T!==null&&y.stopPropagation()}else o0(u,h,y,null,m)}}var ph=null;function Wg(u,h,m,y){if(ph=null,u=Pg(y),u=Ua(u),u!==null)if(h=$a(u),h===null)u=null;else if(m=h.tag,m===13){if(u=FE(h),u!==null)return u;u=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return ph=u,null}function rk(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e8()){case Mg:return 1;case qE:return 4;case ah:case t8:return 16;case VE:return 536870912;default:return 16}default:return 16}}var Ks=null,qg=null,mh=null;function nk(){if(mh)return mh;var u,h=qg,m=h.length,y,T="value"in Ks?Ks.value:Ks.textContent,C=T.length;for(u=0;u<m&&h[u]===T[u];u++);var I=m-u;for(y=1;y<=I&&h[m-y]===T[C-y];y++);return mh=T.slice(u,1<y?1-y:void 0)}function gh(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function vh(){return!0}function ik(){return!1}function Tn(u){function h(m,y,T,C,I){this._reactName=m,this._targetInst=T,this.type=y,this.nativeEvent=C,this.target=I,this.currentTarget=null;for(var z in u)u.hasOwnProperty(z)&&(m=u[z],this[z]=m?m(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?vh:ik,this.isPropagationStopped=ik,this}return L(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),h}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vg=Tn(qo),Mu=L({},qo,{view:0,detail:0}),p8=Tn(Mu),Gg,Yg,Bu,yh=L({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Bu&&(Bu&&u.type==="mousemove"?(Gg=u.screenX-Bu.screenX,Yg=u.screenY-Bu.screenY):Yg=Gg=0,Bu=u),Gg)},movementY:function(u){return"movementY"in u?u.movementY:Yg}}),sk=Tn(yh),m8=L({},yh,{dataTransfer:0}),g8=Tn(m8),v8=L({},Mu,{relatedTarget:0}),Kg=Tn(v8),y8=L({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),b8=Tn(y8),_8=L({},qo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),x8=Tn(_8),w8=L({},qo,{data:0}),ak=Tn(w8),E8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S8(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=T8[u])?!!h[u]:!1}function Xg(){return S8}var C8=L({},Mu,{key:function(u){if(u.key){var h=E8[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=gh(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?k8[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(u){return u.type==="keypress"?gh(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?gh(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),A8=Tn(C8),N8=L({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ok=Tn(N8),j8=L({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),O8=Tn(j8),P8=L({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),I8=Tn(P8),R8=L({},yh,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),D8=Tn(R8),L8=[9,13,27,32],Qg=o&&"CompositionEvent"in window,Fu=null;o&&"documentMode"in document&&(Fu=document.documentMode);var M8=o&&"TextEvent"in window&&!Fu,lk=o&&(!Qg||Fu&&8<Fu&&11>=Fu),uk=" ",ck=!1;function dk(u,h){switch(u){case"keyup":return L8.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hk(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Vo=!1;function B8(u,h){switch(u){case"compositionend":return hk(h);case"keypress":return h.which!==32?null:(ck=!0,uk);case"textInput":return u=h.data,u===uk&&ck?null:u;default:return null}}function F8(u,h){if(Vo)return u==="compositionend"||!Qg&&dk(u,h)?(u=nk(),mh=qg=Ks=null,Vo=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return lk&&h.locale!=="ko"?null:h.data;default:return null}}var $8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fk(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!$8[u.type]:h==="textarea"}function pk(u,h,m,y){RE(y),h=Eh(h,"onChange"),0<h.length&&(m=new Vg("onChange","change",null,m,y),u.push({event:m,listeners:h}))}var $u=null,Uu=null;function U8(u){Pk(u,0)}function bh(u){var h=Qo(u);if(he(h))return u}function H8(u,h){if(u==="change")return h}var mk=!1;if(o){var Jg;if(o){var Zg="oninput"in document;if(!Zg){var gk=document.createElement("div");gk.setAttribute("oninput","return;"),Zg=typeof gk.oninput=="function"}Jg=Zg}else Jg=!1;mk=Jg&&(!document.documentMode||9<document.documentMode)}function vk(){$u&&($u.detachEvent("onpropertychange",yk),Uu=$u=null)}function yk(u){if(u.propertyName==="value"&&bh(Uu)){var h=[];pk(h,Uu,u,Pg(u)),BE(U8,h)}}function z8(u,h,m){u==="focusin"?(vk(),$u=h,Uu=m,$u.attachEvent("onpropertychange",yk)):u==="focusout"&&vk()}function W8(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return bh(Uu)}function q8(u,h){if(u==="click")return bh(h)}function V8(u,h){if(u==="input"||u==="change")return bh(h)}function G8(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var pi=typeof Object.is=="function"?Object.is:G8;function Hu(u,h){if(pi(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var m=Object.keys(u),y=Object.keys(h);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var T=m[y];if(!c.call(h,T)||!pi(u[T],h[T]))return!1}return!0}function bk(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function _k(u,h){var m=bk(u);u=0;for(var y;m;){if(m.nodeType===3){if(y=u+m.textContent.length,u<=h&&y>=h)return{node:m,offset:h-u};u=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=bk(m)}}function xk(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?xk(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function wk(){for(var u=window,h=pt();h instanceof u.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)u=h.contentWindow;else break;h=pt(u.document)}return h}function e0(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function Y8(u){var h=wk(),m=u.focusedElem,y=u.selectionRange;if(h!==m&&m&&m.ownerDocument&&xk(m.ownerDocument.documentElement,m)){if(y!==null&&e0(m)){if(h=y.start,u=y.end,u===void 0&&(u=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(u,m.value.length);else if(u=(h=m.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var T=m.textContent.length,C=Math.min(y.start,T);y=y.end===void 0?C:Math.min(y.end,T),!u.extend&&C>y&&(T=y,y=C,C=T),T=_k(m,C);var I=_k(m,y);T&&I&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),u.removeAllRanges(),C>y?(u.addRange(h),u.extend(I.node,I.offset)):(h.setEnd(I.node,I.offset),u.addRange(h)))}}for(h=[],u=m;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)u=h[m],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var K8=o&&"documentMode"in document&&11>=document.documentMode,Go=null,t0=null,zu=null,r0=!1;function Ek(u,h,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;r0||Go==null||Go!==pt(y)||(y=Go,"selectionStart"in y&&e0(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),zu&&Hu(zu,y)||(zu=y,y=Eh(t0,"onSelect"),0<y.length&&(h=new Vg("onSelect","select",null,h,m),u.push({event:h,listeners:y}),h.target=Go)))}function _h(u,h){var m={};return m[u.toLowerCase()]=h.toLowerCase(),m["Webkit"+u]="webkit"+h,m["Moz"+u]="moz"+h,m}var Yo={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},n0={},kk={};o&&(kk=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function xh(u){if(n0[u])return n0[u];if(!Yo[u])return u;var h=Yo[u],m;for(m in h)if(h.hasOwnProperty(m)&&m in kk)return n0[u]=h[m];return u}var Tk=xh("animationend"),Sk=xh("animationiteration"),Ck=xh("animationstart"),Ak=xh("transitionend"),Nk=new Map,jk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(u,h){Nk.set(u,h),s(h,[u])}for(var i0=0;i0<jk.length;i0++){var s0=jk[i0],X8=s0.toLowerCase(),Q8=s0[0].toUpperCase()+s0.slice(1);Xs(X8,"on"+Q8)}Xs(Tk,"onAnimationEnd"),Xs(Sk,"onAnimationIteration"),Xs(Ck,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(Ak,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function Ok(u,h,m){var y=u.type||"unknown-event";u.currentTarget=m,X5(y,h,void 0,u),u.currentTarget=null}function Pk(u,h){h=(h&4)!==0;for(var m=0;m<u.length;m++){var y=u[m],T=y.event;y=y.listeners;e:{var C=void 0;if(h)for(var I=y.length-1;0<=I;I--){var z=y[I],K=z.instance,ae=z.currentTarget;if(z=z.listener,K!==C&&T.isPropagationStopped())break e;Ok(T,z,ae),C=K}else for(I=0;I<y.length;I++){if(z=y[I],K=z.instance,ae=z.currentTarget,z=z.listener,K!==C&&T.isPropagationStopped())break e;Ok(T,z,ae),C=K}}}if(sh)throw u=Lg,sh=!1,Lg=null,u}function Nt(u,h){var m=h[f0];m===void 0&&(m=h[f0]=new Set);var y=u+"__bubble";m.has(y)||(Ik(h,u,2,!1),m.add(y))}function a0(u,h,m){var y=0;h&&(y|=4),Ik(m,u,y,h)}var wh="_reactListening"+Math.random().toString(36).slice(2);function qu(u){if(!u[wh]){u[wh]=!0,n.forEach(function(m){m!=="selectionchange"&&(J8.has(m)||a0(m,!1,u),a0(m,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[wh]||(h[wh]=!0,a0("selectionchange",!1,h))}}function Ik(u,h,m,y){switch(rk(h)){case 1:var T=h8;break;case 4:T=f8;break;default:T=zg}m=T.bind(null,h,m,u),T=void 0,!Dg||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),y?T!==void 0?u.addEventListener(h,m,{capture:!0,passive:T}):u.addEventListener(h,m,!0):T!==void 0?u.addEventListener(h,m,{passive:T}):u.addEventListener(h,m,!1)}function o0(u,h,m,y,T){var C=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var z=y.stateNode.containerInfo;if(z===T||z.nodeType===8&&z.parentNode===T)break;if(I===4)for(I=y.return;I!==null;){var K=I.tag;if((K===3||K===4)&&(K=I.stateNode.containerInfo,K===T||K.nodeType===8&&K.parentNode===T))return;I=I.return}for(;z!==null;){if(I=Ua(z),I===null)return;if(K=I.tag,K===5||K===6){y=C=I;continue e}z=z.parentNode}}y=y.return}BE(function(){var ae=C,ge=Pg(m),ve=[];e:{var fe=Nk.get(u);if(fe!==void 0){var je=Vg,Re=u;switch(u){case"keypress":if(gh(m)===0)break e;case"keydown":case"keyup":je=A8;break;case"focusin":Re="focus",je=Kg;break;case"focusout":Re="blur",je=Kg;break;case"beforeblur":case"afterblur":je=Kg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=sk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=g8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=O8;break;case Tk:case Sk:case Ck:je=b8;break;case Ak:je=I8;break;case"scroll":je=p8;break;case"wheel":je=D8;break;case"copy":case"cut":case"paste":je=x8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=ok}var Le=(h&4)!==0,Vt=!Le&&u==="scroll",Z=Le?fe!==null?fe+"Capture":null:fe;Le=[];for(var X=ae,re;X!==null;){re=X;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,Z!==null&&(xe=Cu(X,Z),xe!=null&&Le.push(Vu(X,xe,re)))),Vt)break;X=X.return}0<Le.length&&(fe=new je(fe,Re,null,m,ge),ve.push({event:fe,listeners:Le}))}}if((h&7)===0){e:{if(fe=u==="mouseover"||u==="pointerover",je=u==="mouseout"||u==="pointerout",fe&&m!==kn&&(Re=m.relatedTarget||m.fromElement)&&(Ua(Re)||Re[as]))break e;if((je||fe)&&(fe=ge.window===ge?ge:(fe=ge.ownerDocument)?fe.defaultView||fe.parentWindow:window,je?(Re=m.relatedTarget||m.toElement,je=ae,Re=Re?Ua(Re):null,Re!==null&&(Vt=$a(Re),Re!==Vt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(je=null,Re=ae),je!==Re)){if(Le=sk,xe="onMouseLeave",Z="onMouseEnter",X="mouse",(u==="pointerout"||u==="pointerover")&&(Le=ok,xe="onPointerLeave",Z="onPointerEnter",X="pointer"),Vt=je==null?fe:Qo(je),re=Re==null?fe:Qo(Re),fe=new Le(xe,X+"leave",je,m,ge),fe.target=Vt,fe.relatedTarget=re,xe=null,Ua(ge)===ae&&(Le=new Le(Z,X+"enter",Re,m,ge),Le.target=re,Le.relatedTarget=Vt,xe=Le),Vt=xe,je&&Re)t:{for(Le=je,Z=Re,X=0,re=Le;re;re=Ko(re))X++;for(re=0,xe=Z;xe;xe=Ko(xe))re++;for(;0<X-re;)Le=Ko(Le),X--;for(;0<re-X;)Z=Ko(Z),re--;for(;X--;){if(Le===Z||Z!==null&&Le===Z.alternate)break t;Le=Ko(Le),Z=Ko(Z)}Le=null}else Le=null;je!==null&&Rk(ve,fe,je,Le,!1),Re!==null&&Vt!==null&&Rk(ve,Vt,Re,Le,!0)}}e:{if(fe=ae?Qo(ae):window,je=fe.nodeName&&fe.nodeName.toLowerCase(),je==="select"||je==="input"&&fe.type==="file")var Be=H8;else if(fk(fe))if(mk)Be=V8;else{Be=W8;var Ye=z8}else(je=fe.nodeName)&&je.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Be=q8);if(Be&&(Be=Be(u,ae))){pk(ve,Be,m,ge);break e}Ye&&Ye(u,fe,ae),u==="focusout"&&(Ye=fe._wrapperState)&&Ye.controlled&&fe.type==="number"&&Ws(fe,"number",fe.value)}switch(Ye=ae?Qo(ae):window,u){case"focusin":(fk(Ye)||Ye.contentEditable==="true")&&(Go=Ye,t0=ae,zu=null);break;case"focusout":zu=t0=Go=null;break;case"mousedown":r0=!0;break;case"contextmenu":case"mouseup":case"dragend":r0=!1,Ek(ve,m,ge);break;case"selectionchange":if(K8)break;case"keydown":case"keyup":Ek(ve,m,ge)}var Ke;if(Qg)e:{switch(u){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Vo?dk(u,m)&&(Ze="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Ze="onCompositionStart");Ze&&(lk&&m.locale!=="ko"&&(Vo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Vo&&(Ke=nk()):(Ks=ge,qg="value"in Ks?Ks.value:Ks.textContent,Vo=!0)),Ye=Eh(ae,Ze),0<Ye.length&&(Ze=new ak(Ze,u,null,m,ge),ve.push({event:Ze,listeners:Ye}),Ke?Ze.data=Ke:(Ke=hk(m),Ke!==null&&(Ze.data=Ke)))),(Ke=M8?B8(u,m):F8(u,m))&&(ae=Eh(ae,"onBeforeInput"),0<ae.length&&(ge=new ak("onBeforeInput","beforeinput",null,m,ge),ve.push({event:ge,listeners:ae}),ge.data=Ke))}Pk(ve,h)})}function Vu(u,h,m){return{instance:u,listener:h,currentTarget:m}}function Eh(u,h){for(var m=h+"Capture",y=[];u!==null;){var T=u,C=T.stateNode;T.tag===5&&C!==null&&(T=C,C=Cu(u,m),C!=null&&y.unshift(Vu(u,C,T)),C=Cu(u,h),C!=null&&y.push(Vu(u,C,T))),u=u.return}return y}function Ko(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Rk(u,h,m,y,T){for(var C=h._reactName,I=[];m!==null&&m!==y;){var z=m,K=z.alternate,ae=z.stateNode;if(K!==null&&K===y)break;z.tag===5&&ae!==null&&(z=ae,T?(K=Cu(m,C),K!=null&&I.unshift(Vu(m,K,z))):T||(K=Cu(m,C),K!=null&&I.push(Vu(m,K,z)))),m=m.return}I.length!==0&&u.push({event:h,listeners:I})}var Z8=/\r\n?/g,eB=/\u0000|\uFFFD/g;function Dk(u){return(typeof u=="string"?u:""+u).replace(Z8,`
`).replace(eB,"")}function kh(u,h,m){if(h=Dk(h),Dk(u)!==h&&m)throw Error(r(425))}function Th(){}var l0=null,u0=null;function c0(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var d0=typeof setTimeout=="function"?setTimeout:void 0,tB=typeof clearTimeout=="function"?clearTimeout:void 0,Lk=typeof Promise=="function"?Promise:void 0,rB=typeof queueMicrotask=="function"?queueMicrotask:typeof Lk<"u"?function(u){return Lk.resolve(null).then(u).catch(nB)}:d0;function nB(u){setTimeout(function(){throw u})}function h0(u,h){var m=h,y=0;do{var T=m.nextSibling;if(u.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(y===0){u.removeChild(T),Lu(h);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=T}while(m);Lu(h)}function Qs(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function Mk(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return u;h--}else m==="/$"&&h++}u=u.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Xo,Gu="__reactProps$"+Xo,as="__reactContainer$"+Xo,f0="__reactEvents$"+Xo,iB="__reactListeners$"+Xo,sB="__reactHandles$"+Xo;function Ua(u){var h=u[Ui];if(h)return h;for(var m=u.parentNode;m;){if(h=m[as]||m[Ui]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(u=Mk(u);u!==null;){if(m=u[Ui])return m;u=Mk(u)}return h}u=m,m=u.parentNode}return null}function Yu(u){return u=u[Ui]||u[as],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Qo(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function Sh(u){return u[Gu]||null}var p0=[],Jo=-1;function Js(u){return{current:u}}function jt(u){0>Jo||(u.current=p0[Jo],p0[Jo]=null,Jo--)}function kt(u,h){Jo++,p0[Jo]=u.current,u.current=h}var Zs={},Rr=Js(Zs),an=Js(!1),Ha=Zs;function Zo(u,h){var m=u.type.contextTypes;if(!m)return Zs;var y=u.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===h)return y.__reactInternalMemoizedMaskedChildContext;var T={},C;for(C in m)T[C]=h[C];return y&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=T),T}function on(u){return u=u.childContextTypes,u!=null}function Ch(){jt(an),jt(Rr)}function Bk(u,h,m){if(Rr.current!==Zs)throw Error(r(168));kt(Rr,h),kt(an,m)}function Fk(u,h,m){var y=u.stateNode;if(h=h.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var T in y)if(!(T in h))throw Error(r(108,Me(u)||"Unknown",T));return L({},m,y)}function Ah(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Zs,Ha=Rr.current,kt(Rr,u),kt(an,an.current),!0}function $k(u,h,m){var y=u.stateNode;if(!y)throw Error(r(169));m?(u=Fk(u,h,Ha),y.__reactInternalMemoizedMergedChildContext=u,jt(an),jt(Rr),kt(Rr,u)):jt(an),kt(an,m)}var os=null,Nh=!1,m0=!1;function Uk(u){os===null?os=[u]:os.push(u)}function aB(u){Nh=!0,Uk(u)}function ea(){if(!m0&&os!==null){m0=!0;var u=0,h=mt;try{var m=os;for(mt=1;u<m.length;u++){var y=m[u];do y=y(!0);while(y!==null)}os=null,Nh=!1}catch(T){throw os!==null&&(os=os.slice(u+1)),zE(Mg,ea),T}finally{mt=h,m0=!1}}return null}var el=[],tl=0,jh=null,Oh=0,Wn=[],qn=0,za=null,ls=1,us="";function Wa(u,h){el[tl++]=Oh,el[tl++]=jh,jh=u,Oh=h}function Hk(u,h,m){Wn[qn++]=ls,Wn[qn++]=us,Wn[qn++]=za,za=u;var y=ls;u=us;var T=32-fi(y)-1;y&=~(1<<T),m+=1;var C=32-fi(h)+T;if(30<C){var I=T-T%5;C=(y&(1<<I)-1).toString(32),y>>=I,T-=I,ls=1<<32-fi(h)+T|m<<T|y,us=C+u}else ls=1<<C|m<<T|y,us=u}function g0(u){u.return!==null&&(Wa(u,1),Hk(u,1,0))}function v0(u){for(;u===jh;)jh=el[--tl],el[tl]=null,Oh=el[--tl],el[tl]=null;for(;u===za;)za=Wn[--qn],Wn[qn]=null,us=Wn[--qn],Wn[qn]=null,ls=Wn[--qn],Wn[qn]=null}var Sn=null,Cn=null,Rt=!1,mi=null;function zk(u,h){var m=Kn(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=u,h=u.deletions,h===null?(u.deletions=[m],u.flags|=16):h.push(m)}function Wk(u,h){switch(u.tag){case 5:var m=u.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Sn=u,Cn=Qs(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Sn=u,Cn=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=za!==null?{id:ls,overflow:us}:null,u.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=Kn(18,null,null,0),m.stateNode=h,m.return=u,u.child=m,Sn=u,Cn=null,!0):!1;default:return!1}}function y0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function b0(u){if(Rt){var h=Cn;if(h){var m=h;if(!Wk(u,h)){if(y0(u))throw Error(r(418));h=Qs(m.nextSibling);var y=Sn;h&&Wk(u,h)?zk(y,m):(u.flags=u.flags&-4097|2,Rt=!1,Sn=u)}}else{if(y0(u))throw Error(r(418));u.flags=u.flags&-4097|2,Rt=!1,Sn=u}}}function qk(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Sn=u}function Ph(u){if(u!==Sn)return!1;if(!Rt)return qk(u),Rt=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!c0(u.type,u.memoizedProps)),h&&(h=Cn)){if(y0(u))throw Vk(),Error(r(418));for(;h;)zk(u,h),h=Qs(h.nextSibling)}if(qk(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"){if(h===0){Cn=Qs(u.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}u=u.nextSibling}Cn=null}}else Cn=Sn?Qs(u.stateNode.nextSibling):null;return!0}function Vk(){for(var u=Cn;u;)u=Qs(u.nextSibling)}function rl(){Cn=Sn=null,Rt=!1}function _0(u){mi===null?mi=[u]:mi.push(u)}var oB=O.ReactCurrentBatchConfig;function Ku(u,h,m){if(u=m.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,u));var T=y,C=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===C?h.ref:(h=function(I){var z=T.refs;I===null?delete z[C]:z[C]=I},h._stringRef=C,h)}if(typeof u!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,u))}return u}function Ih(u,h){throw u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function Gk(u){var h=u._init;return h(u._payload)}function Yk(u){function h(Z,X){if(u){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function m(Z,X){if(!u)return null;for(;X!==null;)h(Z,X),X=X.sibling;return null}function y(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function T(Z,X){return Z=la(Z,X),Z.index=0,Z.sibling=null,Z}function C(Z,X,re){return Z.index=re,u?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=2,X):re):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function I(Z){return u&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,X,re,xe){return X===null||X.tag!==6?(X=dv(re,Z.mode,xe),X.return=Z,X):(X=T(X,re),X.return=Z,X)}function K(Z,X,re,xe){var Be=re.type;return Be===P?ge(Z,X,re.props.children,xe,re.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Q&&Gk(Be)===X.type)?(xe=T(X,re.props),xe.ref=Ku(Z,X,re),xe.return=Z,xe):(xe=nf(re.type,re.key,re.props,null,Z.mode,xe),xe.ref=Ku(Z,X,re),xe.return=Z,xe)}function ae(Z,X,re,xe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=hv(re,Z.mode,xe),X.return=Z,X):(X=T(X,re.children||[]),X.return=Z,X)}function ge(Z,X,re,xe,Be){return X===null||X.tag!==7?(X=Ja(re,Z.mode,xe,Be),X.return=Z,X):(X=T(X,re),X.return=Z,X)}function ve(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=dv(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return re=nf(X.type,X.key,X.props,null,Z.mode,re),re.ref=Ku(Z,null,X),re.return=Z,re;case N:return X=hv(X,Z.mode,re),X.return=Z,X;case Q:var xe=X._init;return ve(Z,xe(X._payload),re)}if(Mi(X)||oe(X))return X=Ja(X,Z.mode,re,null),X.return=Z,X;Ih(Z,X)}return null}function fe(Z,X,re,xe){var Be=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Be!==null?null:z(Z,X,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return re.key===Be?K(Z,X,re,xe):null;case N:return re.key===Be?ae(Z,X,re,xe):null;case Q:return Be=re._init,fe(Z,X,Be(re._payload),xe)}if(Mi(re)||oe(re))return Be!==null?null:ge(Z,X,re,xe,null);Ih(Z,re)}return null}function je(Z,X,re,xe,Be){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Z=Z.get(re)||null,z(X,Z,""+xe,Be);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case j:return Z=Z.get(xe.key===null?re:xe.key)||null,K(X,Z,xe,Be);case N:return Z=Z.get(xe.key===null?re:xe.key)||null,ae(X,Z,xe,Be);case Q:var Ye=xe._init;return je(Z,X,re,Ye(xe._payload),Be)}if(Mi(xe)||oe(xe))return Z=Z.get(re)||null,ge(X,Z,xe,Be,null);Ih(X,xe)}return null}function Re(Z,X,re,xe){for(var Be=null,Ye=null,Ke=X,Ze=X=0,vr=null;Ke!==null&&Ze<re.length;Ze++){Ke.index>Ze?(vr=Ke,Ke=null):vr=Ke.sibling;var dt=fe(Z,Ke,re[Ze],xe);if(dt===null){Ke===null&&(Ke=vr);break}u&&Ke&&dt.alternate===null&&h(Z,Ke),X=C(dt,X,Ze),Ye===null?Be=dt:Ye.sibling=dt,Ye=dt,Ke=vr}if(Ze===re.length)return m(Z,Ke),Rt&&Wa(Z,Ze),Be;if(Ke===null){for(;Ze<re.length;Ze++)Ke=ve(Z,re[Ze],xe),Ke!==null&&(X=C(Ke,X,Ze),Ye===null?Be=Ke:Ye.sibling=Ke,Ye=Ke);return Rt&&Wa(Z,Ze),Be}for(Ke=y(Z,Ke);Ze<re.length;Ze++)vr=je(Ke,Z,Ze,re[Ze],xe),vr!==null&&(u&&vr.alternate!==null&&Ke.delete(vr.key===null?Ze:vr.key),X=C(vr,X,Ze),Ye===null?Be=vr:Ye.sibling=vr,Ye=vr);return u&&Ke.forEach(function(ua){return h(Z,ua)}),Rt&&Wa(Z,Ze),Be}function Le(Z,X,re,xe){var Be=oe(re);if(typeof Be!="function")throw Error(r(150));if(re=Be.call(re),re==null)throw Error(r(151));for(var Ye=Be=null,Ke=X,Ze=X=0,vr=null,dt=re.next();Ke!==null&&!dt.done;Ze++,dt=re.next()){Ke.index>Ze?(vr=Ke,Ke=null):vr=Ke.sibling;var ua=fe(Z,Ke,dt.value,xe);if(ua===null){Ke===null&&(Ke=vr);break}u&&Ke&&ua.alternate===null&&h(Z,Ke),X=C(ua,X,Ze),Ye===null?Be=ua:Ye.sibling=ua,Ye=ua,Ke=vr}if(dt.done)return m(Z,Ke),Rt&&Wa(Z,Ze),Be;if(Ke===null){for(;!dt.done;Ze++,dt=re.next())dt=ve(Z,dt.value,xe),dt!==null&&(X=C(dt,X,Ze),Ye===null?Be=dt:Ye.sibling=dt,Ye=dt);return Rt&&Wa(Z,Ze),Be}for(Ke=y(Z,Ke);!dt.done;Ze++,dt=re.next())dt=je(Ke,Z,Ze,dt.value,xe),dt!==null&&(u&&dt.alternate!==null&&Ke.delete(dt.key===null?Ze:dt.key),X=C(dt,X,Ze),Ye===null?Be=dt:Ye.sibling=dt,Ye=dt);return u&&Ke.forEach(function($B){return h(Z,$B)}),Rt&&Wa(Z,Ze),Be}function Vt(Z,X,re,xe){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case j:e:{for(var Be=re.key,Ye=X;Ye!==null;){if(Ye.key===Be){if(Be=re.type,Be===P){if(Ye.tag===7){m(Z,Ye.sibling),X=T(Ye,re.props.children),X.return=Z,Z=X;break e}}else if(Ye.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Q&&Gk(Be)===Ye.type){m(Z,Ye.sibling),X=T(Ye,re.props),X.ref=Ku(Z,Ye,re),X.return=Z,Z=X;break e}m(Z,Ye);break}else h(Z,Ye);Ye=Ye.sibling}re.type===P?(X=Ja(re.props.children,Z.mode,xe,re.key),X.return=Z,Z=X):(xe=nf(re.type,re.key,re.props,null,Z.mode,xe),xe.ref=Ku(Z,X,re),xe.return=Z,Z=xe)}return I(Z);case N:e:{for(Ye=re.key;X!==null;){if(X.key===Ye)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){m(Z,X.sibling),X=T(X,re.children||[]),X.return=Z,Z=X;break e}else{m(Z,X);break}else h(Z,X);X=X.sibling}X=hv(re,Z.mode,xe),X.return=Z,Z=X}return I(Z);case Q:return Ye=re._init,Vt(Z,X,Ye(re._payload),xe)}if(Mi(re))return Re(Z,X,re,xe);if(oe(re))return Le(Z,X,re,xe);Ih(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(m(Z,X.sibling),X=T(X,re),X.return=Z,Z=X):(m(Z,X),X=dv(re,Z.mode,xe),X.return=Z,Z=X),I(Z)):m(Z,X)}return Vt}var nl=Yk(!0),Kk=Yk(!1),Rh=Js(null),Dh=null,il=null,x0=null;function w0(){x0=il=Dh=null}function E0(u){var h=Rh.current;jt(Rh),u._currentValue=h}function k0(u,h,m){for(;u!==null;){var y=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),u===m)break;u=u.return}}function sl(u,h){Dh=u,x0=il=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ln=!0),u.firstContext=null)}function Vn(u){var h=u._currentValue;if(x0!==u)if(u={context:u,memoizedValue:h,next:null},il===null){if(Dh===null)throw Error(r(308));il=u,Dh.dependencies={lanes:0,firstContext:u}}else il=il.next=u;return h}var qa=null;function T0(u){qa===null?qa=[u]:qa.push(u)}function Xk(u,h,m,y){var T=h.interleaved;return T===null?(m.next=m,T0(h)):(m.next=T.next,T.next=m),h.interleaved=m,cs(u,y)}function cs(u,h){u.lanes|=h;var m=u.alternate;for(m!==null&&(m.lanes|=h),m=u,u=u.return;u!==null;)u.childLanes|=h,m=u.alternate,m!==null&&(m.childLanes|=h),m=u,u=u.return;return m.tag===3?m.stateNode:null}var ta=!1;function S0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qk(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ds(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function ra(u,h,m){var y=u.updateQueue;if(y===null)return null;if(y=y.shared,(ct&2)!==0){var T=y.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),y.pending=h,cs(u,m)}return T=y.interleaved,T===null?(h.next=h,T0(y)):(h.next=T.next,T.next=h),y.interleaved=h,cs(u,m)}function Lh(u,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var y=h.lanes;y&=u.pendingLanes,m|=y,h.lanes=m,$g(u,m)}}function Jk(u,h){var m=u.updateQueue,y=u.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var T=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var I={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};C===null?T=C=I:C=C.next=I,m=m.next}while(m!==null);C===null?T=C=h:C=C.next=h}else T=C=h;m={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:y.shared,effects:y.effects},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=h}function Mh(u,h,m,y){var T=u.updateQueue;ta=!1;var C=T.firstBaseUpdate,I=T.lastBaseUpdate,z=T.shared.pending;if(z!==null){T.shared.pending=null;var K=z,ae=K.next;K.next=null,I===null?C=ae:I.next=ae,I=K;var ge=u.alternate;ge!==null&&(ge=ge.updateQueue,z=ge.lastBaseUpdate,z!==I&&(z===null?ge.firstBaseUpdate=ae:z.next=ae,ge.lastBaseUpdate=K))}if(C!==null){var ve=T.baseState;I=0,ge=ae=K=null,z=C;do{var fe=z.lane,je=z.eventTime;if((y&fe)===fe){ge!==null&&(ge=ge.next={eventTime:je,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Re=u,Le=z;switch(fe=h,je=m,Le.tag){case 1:if(Re=Le.payload,typeof Re=="function"){ve=Re.call(je,ve,fe);break e}ve=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Le.payload,fe=typeof Re=="function"?Re.call(je,ve,fe):Re,fe==null)break e;ve=L({},ve,fe);break e;case 2:ta=!0}}z.callback!==null&&z.lane!==0&&(u.flags|=64,fe=T.effects,fe===null?T.effects=[z]:fe.push(z))}else je={eventTime:je,lane:fe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ge===null?(ae=ge=je,K=ve):ge=ge.next=je,I|=fe;if(z=z.next,z===null){if(z=T.shared.pending,z===null)break;fe=z,z=fe.next,fe.next=null,T.lastBaseUpdate=fe,T.shared.pending=null}}while(!0);if(ge===null&&(K=ve),T.baseState=K,T.firstBaseUpdate=ae,T.lastBaseUpdate=ge,h=T.shared.interleaved,h!==null){T=h;do I|=T.lane,T=T.next;while(T!==h)}else C===null&&(T.shared.lanes=0);Ya|=I,u.lanes=I,u.memoizedState=ve}}function Zk(u,h,m){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var y=u[h],T=y.callback;if(T!==null){if(y.callback=null,y=m,typeof T!="function")throw Error(r(191,T));T.call(y)}}}var Xu={},Hi=Js(Xu),Qu=Js(Xu),Ju=Js(Xu);function Va(u){if(u===Xu)throw Error(r(174));return u}function C0(u,h){switch(kt(Ju,h),kt(Qu,u),kt(Hi,Xu),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:we(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=we(h,u)}jt(Hi),kt(Hi,h)}function al(){jt(Hi),jt(Qu),jt(Ju)}function eT(u){Va(Ju.current);var h=Va(Hi.current),m=we(h,u.type);h!==m&&(kt(Qu,u),kt(Hi,m))}function A0(u){Qu.current===u&&(jt(Hi),jt(Qu))}var $t=Js(0);function Bh(u){for(var h=u;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var N0=[];function j0(){for(var u=0;u<N0.length;u++)N0[u]._workInProgressVersionPrimary=null;N0.length=0}var Fh=O.ReactCurrentDispatcher,O0=O.ReactCurrentBatchConfig,Ga=0,Ut=null,rr=null,mr=null,$h=!1,Zu=!1,ec=0,lB=0;function Dr(){throw Error(r(321))}function P0(u,h){if(h===null)return!1;for(var m=0;m<h.length&&m<u.length;m++)if(!pi(u[m],h[m]))return!1;return!0}function I0(u,h,m,y,T,C){if(Ga=C,Ut=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Fh.current=u===null||u.memoizedState===null?hB:fB,u=m(y,T),Zu){C=0;do{if(Zu=!1,ec=0,25<=C)throw Error(r(301));C+=1,mr=rr=null,h.updateQueue=null,Fh.current=pB,u=m(y,T)}while(Zu)}if(Fh.current=zh,h=rr!==null&&rr.next!==null,Ga=0,mr=rr=Ut=null,$h=!1,h)throw Error(r(300));return u}function R0(){var u=ec!==0;return ec=0,u}function zi(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Ut.memoizedState=mr=u:mr=mr.next=u,mr}function Gn(){if(rr===null){var u=Ut.alternate;u=u!==null?u.memoizedState:null}else u=rr.next;var h=mr===null?Ut.memoizedState:mr.next;if(h!==null)mr=h,rr=u;else{if(u===null)throw Error(r(310));rr=u,u={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},mr===null?Ut.memoizedState=mr=u:mr=mr.next=u}return mr}function tc(u,h){return typeof h=="function"?h(u):h}function D0(u){var h=Gn(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=rr,T=y.baseQueue,C=m.pending;if(C!==null){if(T!==null){var I=T.next;T.next=C.next,C.next=I}y.baseQueue=T=C,m.pending=null}if(T!==null){C=T.next,y=y.baseState;var z=I=null,K=null,ae=C;do{var ge=ae.lane;if((Ga&ge)===ge)K!==null&&(K=K.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),y=ae.hasEagerState?ae.eagerState:u(y,ae.action);else{var ve={lane:ge,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};K===null?(z=K=ve,I=y):K=K.next=ve,Ut.lanes|=ge,Ya|=ge}ae=ae.next}while(ae!==null&&ae!==C);K===null?I=y:K.next=z,pi(y,h.memoizedState)||(ln=!0),h.memoizedState=y,h.baseState=I,h.baseQueue=K,m.lastRenderedState=y}if(u=m.interleaved,u!==null){T=u;do C=T.lane,Ut.lanes|=C,Ya|=C,T=T.next;while(T!==u)}else T===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function L0(u){var h=Gn(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=m.dispatch,T=m.pending,C=h.memoizedState;if(T!==null){m.pending=null;var I=T=T.next;do C=u(C,I.action),I=I.next;while(I!==T);pi(C,h.memoizedState)||(ln=!0),h.memoizedState=C,h.baseQueue===null&&(h.baseState=C),m.lastRenderedState=C}return[C,y]}function tT(){}function rT(u,h){var m=Ut,y=Gn(),T=h(),C=!pi(y.memoizedState,T);if(C&&(y.memoizedState=T,ln=!0),y=y.queue,M0(sT.bind(null,m,y,u),[u]),y.getSnapshot!==h||C||mr!==null&&mr.memoizedState.tag&1){if(m.flags|=2048,rc(9,iT.bind(null,m,y,T,h),void 0,null),gr===null)throw Error(r(349));(Ga&30)!==0||nT(m,h,T)}return T}function nT(u,h,m){u.flags|=16384,u={getSnapshot:h,value:m},h=Ut.updateQueue,h===null?(h={lastEffect:null,stores:null},Ut.updateQueue=h,h.stores=[u]):(m=h.stores,m===null?h.stores=[u]:m.push(u))}function iT(u,h,m,y){h.value=m,h.getSnapshot=y,aT(h)&&oT(u)}function sT(u,h,m){return m(function(){aT(h)&&oT(u)})}function aT(u){var h=u.getSnapshot;u=u.value;try{var m=h();return!pi(u,m)}catch{return!0}}function oT(u){var h=cs(u,1);h!==null&&bi(h,u,1,-1)}function lT(u){var h=zi();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:u},h.queue=u,u=u.dispatch=dB.bind(null,Ut,u),[h.memoizedState,u]}function rc(u,h,m,y){return u={tag:u,create:h,destroy:m,deps:y,next:null},h=Ut.updateQueue,h===null?(h={lastEffect:null,stores:null},Ut.updateQueue=h,h.lastEffect=u.next=u):(m=h.lastEffect,m===null?h.lastEffect=u.next=u:(y=m.next,m.next=u,u.next=y,h.lastEffect=u)),u}function uT(){return Gn().memoizedState}function Uh(u,h,m,y){var T=zi();Ut.flags|=u,T.memoizedState=rc(1|h,m,void 0,y===void 0?null:y)}function Hh(u,h,m,y){var T=Gn();y=y===void 0?null:y;var C=void 0;if(rr!==null){var I=rr.memoizedState;if(C=I.destroy,y!==null&&P0(y,I.deps)){T.memoizedState=rc(h,m,C,y);return}}Ut.flags|=u,T.memoizedState=rc(1|h,m,C,y)}function cT(u,h){return Uh(8390656,8,u,h)}function M0(u,h){return Hh(2048,8,u,h)}function dT(u,h){return Hh(4,2,u,h)}function hT(u,h){return Hh(4,4,u,h)}function fT(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function pT(u,h,m){return m=m!=null?m.concat([u]):null,Hh(4,4,fT.bind(null,h,u),m)}function B0(){}function mT(u,h){var m=Gn();h=h===void 0?null:h;var y=m.memoizedState;return y!==null&&h!==null&&P0(h,y[1])?y[0]:(m.memoizedState=[u,h],u)}function gT(u,h){var m=Gn();h=h===void 0?null:h;var y=m.memoizedState;return y!==null&&h!==null&&P0(h,y[1])?y[0]:(u=u(),m.memoizedState=[u,h],u)}function vT(u,h,m){return(Ga&21)===0?(u.baseState&&(u.baseState=!1,ln=!0),u.memoizedState=m):(pi(m,h)||(m=GE(),Ut.lanes|=m,Ya|=m,u.baseState=!0),h)}function uB(u,h){var m=mt;mt=m!==0&&4>m?m:4,u(!0);var y=O0.transition;O0.transition={};try{u(!1),h()}finally{mt=m,O0.transition=y}}function yT(){return Gn().memoizedState}function cB(u,h,m){var y=aa(u);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},bT(u))_T(h,m);else if(m=Xk(u,h,m,y),m!==null){var T=Kr();bi(m,u,y,T),xT(m,h,y)}}function dB(u,h,m){var y=aa(u),T={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(bT(u))_T(h,T);else{var C=u.alternate;if(u.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer,C!==null))try{var I=h.lastRenderedState,z=C(I,m);if(T.hasEagerState=!0,T.eagerState=z,pi(z,I)){var K=h.interleaved;K===null?(T.next=T,T0(h)):(T.next=K.next,K.next=T),h.interleaved=T;return}}catch{}finally{}m=Xk(u,h,T,y),m!==null&&(T=Kr(),bi(m,u,y,T),xT(m,h,y))}}function bT(u){var h=u.alternate;return u===Ut||h!==null&&h===Ut}function _T(u,h){Zu=$h=!0;var m=u.pending;m===null?h.next=h:(h.next=m.next,m.next=h),u.pending=h}function xT(u,h,m){if((m&4194240)!==0){var y=h.lanes;y&=u.pendingLanes,m|=y,h.lanes=m,$g(u,m)}}var zh={readContext:Vn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},hB={readContext:Vn,useCallback:function(u,h){return zi().memoizedState=[u,h===void 0?null:h],u},useContext:Vn,useEffect:cT,useImperativeHandle:function(u,h,m){return m=m!=null?m.concat([u]):null,Uh(4194308,4,fT.bind(null,h,u),m)},useLayoutEffect:function(u,h){return Uh(4194308,4,u,h)},useInsertionEffect:function(u,h){return Uh(4,2,u,h)},useMemo:function(u,h){var m=zi();return h=h===void 0?null:h,u=u(),m.memoizedState=[u,h],u},useReducer:function(u,h,m){var y=zi();return h=m!==void 0?m(h):h,y.memoizedState=y.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},y.queue=u,u=u.dispatch=cB.bind(null,Ut,u),[y.memoizedState,u]},useRef:function(u){var h=zi();return u={current:u},h.memoizedState=u},useState:lT,useDebugValue:B0,useDeferredValue:function(u){return zi().memoizedState=u},useTransition:function(){var u=lT(!1),h=u[0];return u=uB.bind(null,u[1]),zi().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,m){var y=Ut,T=zi();if(Rt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=h(),gr===null)throw Error(r(349));(Ga&30)!==0||nT(y,h,m)}T.memoizedState=m;var C={value:m,getSnapshot:h};return T.queue=C,cT(sT.bind(null,y,C,u),[u]),y.flags|=2048,rc(9,iT.bind(null,y,C,m,h),void 0,null),m},useId:function(){var u=zi(),h=gr.identifierPrefix;if(Rt){var m=us,y=ls;m=(y&~(1<<32-fi(y)-1)).toString(32)+m,h=":"+h+"R"+m,m=ec++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=lB++,h=":"+h+"r"+m.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},fB={readContext:Vn,useCallback:mT,useContext:Vn,useEffect:M0,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:hT,useMemo:gT,useReducer:D0,useRef:uT,useState:function(){return D0(tc)},useDebugValue:B0,useDeferredValue:function(u){var h=Gn();return vT(h,rr.memoizedState,u)},useTransition:function(){var u=D0(tc)[0],h=Gn().memoizedState;return[u,h]},useMutableSource:tT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1},pB={readContext:Vn,useCallback:mT,useContext:Vn,useEffect:M0,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:hT,useMemo:gT,useReducer:L0,useRef:uT,useState:function(){return L0(tc)},useDebugValue:B0,useDeferredValue:function(u){var h=Gn();return rr===null?h.memoizedState=u:vT(h,rr.memoizedState,u)},useTransition:function(){var u=L0(tc)[0],h=Gn().memoizedState;return[u,h]},useMutableSource:tT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1};function gi(u,h){if(u&&u.defaultProps){h=L({},h),u=u.defaultProps;for(var m in u)h[m]===void 0&&(h[m]=u[m]);return h}return h}function F0(u,h,m,y){h=u.memoizedState,m=m(y,h),m=m==null?h:L({},h,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Wh={isMounted:function(u){return(u=u._reactInternals)?$a(u)===u:!1},enqueueSetState:function(u,h,m){u=u._reactInternals;var y=Kr(),T=aa(u),C=ds(y,T);C.payload=h,m!=null&&(C.callback=m),h=ra(u,C,T),h!==null&&(bi(h,u,T,y),Lh(h,u,T))},enqueueReplaceState:function(u,h,m){u=u._reactInternals;var y=Kr(),T=aa(u),C=ds(y,T);C.tag=1,C.payload=h,m!=null&&(C.callback=m),h=ra(u,C,T),h!==null&&(bi(h,u,T,y),Lh(h,u,T))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var m=Kr(),y=aa(u),T=ds(m,y);T.tag=2,h!=null&&(T.callback=h),h=ra(u,T,y),h!==null&&(bi(h,u,y,m),Lh(h,u,y))}};function wT(u,h,m,y,T,C,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(y,C,I):h.prototype&&h.prototype.isPureReactComponent?!Hu(m,y)||!Hu(T,C):!0}function ET(u,h,m){var y=!1,T=Zs,C=h.contextType;return typeof C=="object"&&C!==null?C=Vn(C):(T=on(h)?Ha:Rr.current,y=h.contextTypes,C=(y=y!=null)?Zo(u,T):Zs),h=new h(m,C),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wh,u.stateNode=h,h._reactInternals=u,y&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=C),h}function kT(u,h,m,y){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,y),h.state!==u&&Wh.enqueueReplaceState(h,h.state,null)}function $0(u,h,m,y){var T=u.stateNode;T.props=m,T.state=u.memoizedState,T.refs={},S0(u);var C=h.contextType;typeof C=="object"&&C!==null?T.context=Vn(C):(C=on(h)?Ha:Rr.current,T.context=Zo(u,C)),T.state=u.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(F0(u,h,C,m),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Wh.enqueueReplaceState(T,T.state,null),Mh(u,m,T,y),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function ol(u,h){try{var m="",y=h;do m+=ke(y),y=y.return;while(y);var T=m}catch(C){T=`
Error generating stack: `+C.message+`
`+C.stack}return{value:u,source:h,stack:T,digest:null}}function U0(u,h,m){return{value:u,source:null,stack:m??null,digest:h??null}}function H0(u,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var mB=typeof WeakMap=="function"?WeakMap:Map;function TT(u,h,m){m=ds(-1,m),m.tag=3,m.payload={element:null};var y=h.value;return m.callback=function(){Qh||(Qh=!0,nv=y),H0(u,h)},m}function ST(u,h,m){m=ds(-1,m),m.tag=3;var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var T=h.value;m.payload=function(){return y(T)},m.callback=function(){H0(u,h)}}var C=u.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(m.callback=function(){H0(u,h),typeof y!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})}),m}function CT(u,h,m){var y=u.pingCache;if(y===null){y=u.pingCache=new mB;var T=new Set;y.set(h,T)}else T=y.get(h),T===void 0&&(T=new Set,y.set(h,T));T.has(m)||(T.add(m),u=NB.bind(null,u,h,m),h.then(u,u))}function AT(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function NT(u,h,m,y,T){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=ds(-1,1),h.tag=2,ra(m,h,1))),m.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var gB=O.ReactCurrentOwner,ln=!1;function Yr(u,h,m,y){h.child=u===null?Kk(h,null,m,y):nl(h,u.child,m,y)}function jT(u,h,m,y,T){m=m.render;var C=h.ref;return sl(h,T),y=I0(u,h,m,y,C,T),m=R0(),u!==null&&!ln?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,hs(u,h,T)):(Rt&&m&&g0(h),h.flags|=1,Yr(u,h,y,T),h.child)}function OT(u,h,m,y,T){if(u===null){var C=m.type;return typeof C=="function"&&!cv(C)&&C.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=C,PT(u,h,C,y,T)):(u=nf(m.type,null,y,h,h.mode,T),u.ref=h.ref,u.return=h,h.child=u)}if(C=u.child,(u.lanes&T)===0){var I=C.memoizedProps;if(m=m.compare,m=m!==null?m:Hu,m(I,y)&&u.ref===h.ref)return hs(u,h,T)}return h.flags|=1,u=la(C,y),u.ref=h.ref,u.return=h,h.child=u}function PT(u,h,m,y,T){if(u!==null){var C=u.memoizedProps;if(Hu(C,y)&&u.ref===h.ref)if(ln=!1,h.pendingProps=y=C,(u.lanes&T)!==0)(u.flags&131072)!==0&&(ln=!0);else return h.lanes=u.lanes,hs(u,h,T)}return z0(u,h,m,y,T)}function IT(u,h,m){var y=h.pendingProps,T=y.children,C=u!==null?u.memoizedState:null;if(y.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ul,An),An|=m;else{if((m&1073741824)===0)return u=C!==null?C.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,kt(ul,An),An|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:m,kt(ul,An),An|=y}else C!==null?(y=C.baseLanes|m,h.memoizedState=null):y=m,kt(ul,An),An|=y;return Yr(u,h,T,m),h.child}function RT(u,h){var m=h.ref;(u===null&&m!==null||u!==null&&u.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function z0(u,h,m,y,T){var C=on(m)?Ha:Rr.current;return C=Zo(h,C),sl(h,T),m=I0(u,h,m,y,C,T),y=R0(),u!==null&&!ln?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,hs(u,h,T)):(Rt&&y&&g0(h),h.flags|=1,Yr(u,h,m,T),h.child)}function DT(u,h,m,y,T){if(on(m)){var C=!0;Ah(h)}else C=!1;if(sl(h,T),h.stateNode===null)Vh(u,h),ET(h,m,y),$0(h,m,y,T),y=!0;else if(u===null){var I=h.stateNode,z=h.memoizedProps;I.props=z;var K=I.context,ae=m.contextType;typeof ae=="object"&&ae!==null?ae=Vn(ae):(ae=on(m)?Ha:Rr.current,ae=Zo(h,ae));var ge=m.getDerivedStateFromProps,ve=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function";ve||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==y||K!==ae)&&kT(h,I,y,ae),ta=!1;var fe=h.memoizedState;I.state=fe,Mh(h,y,I,T),K=h.memoizedState,z!==y||fe!==K||an.current||ta?(typeof ge=="function"&&(F0(h,m,ge,y),K=h.memoizedState),(z=ta||wT(h,m,z,y,fe,K,ae))?(ve||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(h.flags|=4194308)):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=K),I.props=y,I.state=K,I.context=ae,y=z):(typeof I.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{I=h.stateNode,Qk(u,h),z=h.memoizedProps,ae=h.type===h.elementType?z:gi(h.type,z),I.props=ae,ve=h.pendingProps,fe=I.context,K=m.contextType,typeof K=="object"&&K!==null?K=Vn(K):(K=on(m)?Ha:Rr.current,K=Zo(h,K));var je=m.getDerivedStateFromProps;(ge=typeof je=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==ve||fe!==K)&&kT(h,I,y,K),ta=!1,fe=h.memoizedState,I.state=fe,Mh(h,y,I,T);var Re=h.memoizedState;z!==ve||fe!==Re||an.current||ta?(typeof je=="function"&&(F0(h,m,je,y),Re=h.memoizedState),(ae=ta||wT(h,m,ae,y,fe,Re,K)||!1)?(ge||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,Re,K),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,Re,K)),typeof I.componentDidUpdate=="function"&&(h.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof I.componentDidUpdate!="function"||z===u.memoizedProps&&fe===u.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===u.memoizedProps&&fe===u.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=Re),I.props=y,I.state=Re,I.context=K,y=ae):(typeof I.componentDidUpdate!="function"||z===u.memoizedProps&&fe===u.memoizedState||(h.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===u.memoizedProps&&fe===u.memoizedState||(h.flags|=1024),y=!1)}return W0(u,h,m,y,C,T)}function W0(u,h,m,y,T,C){RT(u,h);var I=(h.flags&128)!==0;if(!y&&!I)return T&&$k(h,m,!1),hs(u,h,C);y=h.stateNode,gB.current=h;var z=I&&typeof m.getDerivedStateFromError!="function"?null:y.render();return h.flags|=1,u!==null&&I?(h.child=nl(h,u.child,null,C),h.child=nl(h,null,z,C)):Yr(u,h,z,C),h.memoizedState=y.state,T&&$k(h,m,!0),h.child}function LT(u){var h=u.stateNode;h.pendingContext?Bk(u,h.pendingContext,h.pendingContext!==h.context):h.context&&Bk(u,h.context,!1),C0(u,h.containerInfo)}function MT(u,h,m,y,T){return rl(),_0(T),h.flags|=256,Yr(u,h,m,y),h.child}var q0={dehydrated:null,treeContext:null,retryLane:0};function V0(u){return{baseLanes:u,cachePool:null,transitions:null}}function BT(u,h,m){var y=h.pendingProps,T=$t.current,C=!1,I=(h.flags&128)!==0,z;if((z=I)||(z=u!==null&&u.memoizedState===null?!1:(T&2)!==0),z?(C=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),kt($t,T&1),u===null)return b0(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(I=y.children,u=y.fallback,C?(y=h.mode,C=h.child,I={mode:"hidden",children:I},(y&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=I):C=sf(I,y,0,null),u=Ja(u,y,m,null),C.return=h,u.return=h,C.sibling=u,h.child=C,h.child.memoizedState=V0(m),h.memoizedState=q0,u):G0(h,I));if(T=u.memoizedState,T!==null&&(z=T.dehydrated,z!==null))return vB(u,h,I,y,z,T,m);if(C){C=y.fallback,I=h.mode,T=u.child,z=T.sibling;var K={mode:"hidden",children:y.children};return(I&1)===0&&h.child!==T?(y=h.child,y.childLanes=0,y.pendingProps=K,h.deletions=null):(y=la(T,K),y.subtreeFlags=T.subtreeFlags&14680064),z!==null?C=la(z,C):(C=Ja(C,I,m,null),C.flags|=2),C.return=h,y.return=h,y.sibling=C,h.child=y,y=C,C=h.child,I=u.child.memoizedState,I=I===null?V0(m):{baseLanes:I.baseLanes|m,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=u.childLanes&~m,h.memoizedState=q0,y}return C=u.child,u=C.sibling,y=la(C,{mode:"visible",children:y.children}),(h.mode&1)===0&&(y.lanes=m),y.return=h,y.sibling=null,u!==null&&(m=h.deletions,m===null?(h.deletions=[u],h.flags|=16):m.push(u)),h.child=y,h.memoizedState=null,y}function G0(u,h){return h=sf({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function qh(u,h,m,y){return y!==null&&_0(y),nl(h,u.child,null,m),u=G0(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function vB(u,h,m,y,T,C,I){if(m)return h.flags&256?(h.flags&=-257,y=U0(Error(r(422))),qh(u,h,I,y)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(C=y.fallback,T=h.mode,y=sf({mode:"visible",children:y.children},T,0,null),C=Ja(C,T,I,null),C.flags|=2,y.return=h,C.return=h,y.sibling=C,h.child=y,(h.mode&1)!==0&&nl(h,u.child,null,I),h.child.memoizedState=V0(I),h.memoizedState=q0,C);if((h.mode&1)===0)return qh(u,h,I,null);if(T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;return y=z,C=Error(r(419)),y=U0(C,y,void 0),qh(u,h,I,y)}if(z=(I&u.childLanes)!==0,ln||z){if(y=gr,y!==null){switch(I&-I){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(y.suspendedLanes|I))!==0?0:T,T!==0&&T!==C.retryLane&&(C.retryLane=T,cs(u,T),bi(y,u,T,-1))}return uv(),y=U0(Error(r(421))),qh(u,h,I,y)}return T.data==="$?"?(h.flags|=128,h.child=u.child,h=jB.bind(null,u),T._reactRetry=h,null):(u=C.treeContext,Cn=Qs(T.nextSibling),Sn=h,Rt=!0,mi=null,u!==null&&(Wn[qn++]=ls,Wn[qn++]=us,Wn[qn++]=za,ls=u.id,us=u.overflow,za=h),h=G0(h,y.children),h.flags|=4096,h)}function FT(u,h,m){u.lanes|=h;var y=u.alternate;y!==null&&(y.lanes|=h),k0(u.return,h,m)}function Y0(u,h,m,y,T){var C=u.memoizedState;C===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:T}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=m,C.tailMode=T)}function $T(u,h,m){var y=h.pendingProps,T=y.revealOrder,C=y.tail;if(Yr(u,h,y.children,m),y=$t.current,(y&2)!==0)y=y&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&FT(u,m,h);else if(u.tag===19)FT(u,m,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}y&=1}if(kt($t,y),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(m=h.child,T=null;m!==null;)u=m.alternate,u!==null&&Bh(u)===null&&(T=m),m=m.sibling;m=T,m===null?(T=h.child,h.child=null):(T=m.sibling,m.sibling=null),Y0(h,!1,T,m,C);break;case"backwards":for(m=null,T=h.child,h.child=null;T!==null;){if(u=T.alternate,u!==null&&Bh(u)===null){h.child=T;break}u=T.sibling,T.sibling=m,m=T,T=u}Y0(h,!0,m,null,C);break;case"together":Y0(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Vh(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function hs(u,h,m){if(u!==null&&(h.dependencies=u.dependencies),Ya|=h.lanes,(m&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,m=la(u,u.pendingProps),h.child=m,m.return=h;u.sibling!==null;)u=u.sibling,m=m.sibling=la(u,u.pendingProps),m.return=h;m.sibling=null}return h.child}function yB(u,h,m){switch(h.tag){case 3:LT(h),rl();break;case 5:eT(h);break;case 1:on(h.type)&&Ah(h);break;case 4:C0(h,h.stateNode.containerInfo);break;case 10:var y=h.type._context,T=h.memoizedProps.value;kt(Rh,y._currentValue),y._currentValue=T;break;case 13:if(y=h.memoizedState,y!==null)return y.dehydrated!==null?(kt($t,$t.current&1),h.flags|=128,null):(m&h.child.childLanes)!==0?BT(u,h,m):(kt($t,$t.current&1),u=hs(u,h,m),u!==null?u.sibling:null);kt($t,$t.current&1);break;case 19:if(y=(m&h.childLanes)!==0,(u.flags&128)!==0){if(y)return $T(u,h,m);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),kt($t,$t.current),y)break;return null;case 22:case 23:return h.lanes=0,IT(u,h,m)}return hs(u,h,m)}var UT,K0,HT,zT;UT=function(u,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},K0=function(){},HT=function(u,h,m,y){var T=u.memoizedProps;if(T!==y){u=h.stateNode,Va(Hi.current);var C=null;switch(m){case"input":T=Te(u,T),y=Te(u,y),C=[];break;case"select":T=L({},T,{value:void 0}),y=L({},y,{value:void 0}),C=[];break;case"textarea":T=Fa(u,T),y=Fa(u,y),C=[];break;default:typeof T.onClick!="function"&&typeof y.onClick=="function"&&(u.onclick=Th)}tr(m,y);var I;m=null;for(ae in T)if(!y.hasOwnProperty(ae)&&T.hasOwnProperty(ae)&&T[ae]!=null)if(ae==="style"){var z=T[ae];for(I in z)z.hasOwnProperty(I)&&(m||(m={}),m[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?C||(C=[]):(C=C||[]).push(ae,null));for(ae in y){var K=y[ae];if(z=T!=null?T[ae]:void 0,y.hasOwnProperty(ae)&&K!==z&&(K!=null||z!=null))if(ae==="style")if(z){for(I in z)!z.hasOwnProperty(I)||K&&K.hasOwnProperty(I)||(m||(m={}),m[I]="");for(I in K)K.hasOwnProperty(I)&&z[I]!==K[I]&&(m||(m={}),m[I]=K[I])}else m||(C||(C=[]),C.push(ae,m)),m=K;else ae==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,z=z?z.__html:void 0,K!=null&&z!==K&&(C=C||[]).push(ae,K)):ae==="children"?typeof K!="string"&&typeof K!="number"||(C=C||[]).push(ae,""+K):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(K!=null&&ae==="onScroll"&&Nt("scroll",u),C||z===K||(C=[])):(C=C||[]).push(ae,K))}m&&(C=C||[]).push("style",m);var ae=C;(h.updateQueue=ae)&&(h.flags|=4)}},zT=function(u,h,m,y){m!==y&&(h.flags|=4)};function nc(u,h){if(!Rt)switch(u.tailMode){case"hidden":h=u.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:y.sibling=null}}function Lr(u){var h=u.alternate!==null&&u.alternate.child===u.child,m=0,y=0;if(h)for(var T=u.child;T!==null;)m|=T.lanes|T.childLanes,y|=T.subtreeFlags&14680064,y|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)m|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=y,u.childLanes=m,h}function bB(u,h,m){var y=h.pendingProps;switch(v0(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(h),null;case 1:return on(h.type)&&Ch(),Lr(h),null;case 3:return y=h.stateNode,al(),jt(an),jt(Rr),j0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(Ph(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,mi!==null&&(av(mi),mi=null))),K0(u,h),Lr(h),null;case 5:A0(h);var T=Va(Ju.current);if(m=h.type,u!==null&&h.stateNode!=null)HT(u,h,m,y,T),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!y){if(h.stateNode===null)throw Error(r(166));return Lr(h),null}if(u=Va(Hi.current),Ph(h)){y=h.stateNode,m=h.type;var C=h.memoizedProps;switch(y[Ui]=h,y[Gu]=C,u=(h.mode&1)!==0,m){case"dialog":Nt("cancel",y),Nt("close",y);break;case"iframe":case"object":case"embed":Nt("load",y);break;case"video":case"audio":for(T=0;T<Wu.length;T++)Nt(Wu[T],y);break;case"source":Nt("error",y);break;case"img":case"image":case"link":Nt("error",y),Nt("load",y);break;case"details":Nt("toggle",y);break;case"input":tt(y,C),Nt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Nt("invalid",y);break;case"textarea":Fo(y,C),Nt("invalid",y)}tr(m,C),T=null;for(var I in C)if(C.hasOwnProperty(I)){var z=C[I];I==="children"?typeof z=="string"?y.textContent!==z&&(C.suppressHydrationWarning!==!0&&kh(y.textContent,z,u),T=["children",z]):typeof z=="number"&&y.textContent!==""+z&&(C.suppressHydrationWarning!==!0&&kh(y.textContent,z,u),T=["children",""+z]):i.hasOwnProperty(I)&&z!=null&&I==="onScroll"&&Nt("scroll",y)}switch(m){case"input":Ge(y),ss(y,C,!0);break;case"textarea":Ge(y),Uo(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Th)}y=T,h.updateQueue=y,y!==null&&(h.flags|=4)}else{I=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=de(m)),u==="http://www.w3.org/1999/xhtml"?m==="script"?(u=I.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof y.is=="string"?u=I.createElement(m,{is:y.is}):(u=I.createElement(m),m==="select"&&(I=u,y.multiple?I.multiple=!0:y.size&&(I.size=y.size))):u=I.createElementNS(u,m),u[Ui]=h,u[Gu]=y,UT(u,h,!1,!1),h.stateNode=u;e:{switch(I=Fi(m,y),m){case"dialog":Nt("cancel",u),Nt("close",u),T=y;break;case"iframe":case"object":case"embed":Nt("load",u),T=y;break;case"video":case"audio":for(T=0;T<Wu.length;T++)Nt(Wu[T],u);T=y;break;case"source":Nt("error",u),T=y;break;case"img":case"image":case"link":Nt("error",u),Nt("load",u),T=y;break;case"details":Nt("toggle",u),T=y;break;case"input":tt(u,y),T=Te(u,y),Nt("invalid",u);break;case"option":T=y;break;case"select":u._wrapperState={wasMultiple:!!y.multiple},T=L({},y,{value:void 0}),Nt("invalid",u);break;case"textarea":Fo(u,y),T=Fa(u,y),Nt("invalid",u);break;default:T=y}tr(m,T),z=T;for(C in z)if(z.hasOwnProperty(C)){var K=z[C];C==="style"?pr(u,K):C==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&be(u,K)):C==="children"?typeof K=="string"?(m!=="textarea"||K!=="")&&ze(u,K):typeof K=="number"&&ze(u,""+K):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?K!=null&&C==="onScroll"&&Nt("scroll",u):K!=null&&S(u,C,K,I))}switch(m){case"input":Ge(u),ss(u,y,!1);break;case"textarea":Ge(u),Uo(u);break;case"option":y.value!=null&&u.setAttribute("value",""+De(y.value));break;case"select":u.multiple=!!y.multiple,C=y.value,C!=null?Bi(u,!!y.multiple,C,!1):y.defaultValue!=null&&Bi(u,!!y.multiple,y.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=Th)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Lr(h),null;case 6:if(u&&h.stateNode!=null)zT(u,h,u.memoizedProps,y);else{if(typeof y!="string"&&h.stateNode===null)throw Error(r(166));if(m=Va(Ju.current),Va(Hi.current),Ph(h)){if(y=h.stateNode,m=h.memoizedProps,y[Ui]=h,(C=y.nodeValue!==m)&&(u=Sn,u!==null))switch(u.tag){case 3:kh(y.nodeValue,m,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&kh(y.nodeValue,m,(u.mode&1)!==0)}C&&(h.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Ui]=h,h.stateNode=y}return Lr(h),null;case 13:if(jt($t),y=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Rt&&Cn!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Vk(),rl(),h.flags|=98560,C=!1;else if(C=Ph(h),y!==null&&y.dehydrated!==null){if(u===null){if(!C)throw Error(r(318));if(C=h.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Ui]=h}else rl(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Lr(h),C=!1}else mi!==null&&(av(mi),mi=null),C=!0;if(!C)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=m,h):(y=y!==null,y!==(u!==null&&u.memoizedState!==null)&&y&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||($t.current&1)!==0?nr===0&&(nr=3):uv())),h.updateQueue!==null&&(h.flags|=4),Lr(h),null);case 4:return al(),K0(u,h),u===null&&qu(h.stateNode.containerInfo),Lr(h),null;case 10:return E0(h.type._context),Lr(h),null;case 17:return on(h.type)&&Ch(),Lr(h),null;case 19:if(jt($t),C=h.memoizedState,C===null)return Lr(h),null;if(y=(h.flags&128)!==0,I=C.rendering,I===null)if(y)nc(C,!1);else{if(nr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(I=Bh(u),I!==null){for(h.flags|=128,nc(C,!1),y=I.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),h.subtreeFlags=0,y=m,m=h.child;m!==null;)C=m,u=y,C.flags&=14680066,I=C.alternate,I===null?(C.childLanes=0,C.lanes=u,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=I.childLanes,C.lanes=I.lanes,C.child=I.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=I.memoizedProps,C.memoizedState=I.memoizedState,C.updateQueue=I.updateQueue,C.type=I.type,u=I.dependencies,C.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),m=m.sibling;return kt($t,$t.current&1|2),h.child}u=u.sibling}C.tail!==null&&qt()>cl&&(h.flags|=128,y=!0,nc(C,!1),h.lanes=4194304)}else{if(!y)if(u=Bh(I),u!==null){if(h.flags|=128,y=!0,m=u.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),nc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!I.alternate&&!Rt)return Lr(h),null}else 2*qt()-C.renderingStartTime>cl&&m!==1073741824&&(h.flags|=128,y=!0,nc(C,!1),h.lanes=4194304);C.isBackwards?(I.sibling=h.child,h.child=I):(m=C.last,m!==null?m.sibling=I:h.child=I,C.last=I)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=qt(),h.sibling=null,m=$t.current,kt($t,y?m&1|2:m&1),h):(Lr(h),null);case 22:case 23:return lv(),y=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==y&&(h.flags|=8192),y&&(h.mode&1)!==0?(An&1073741824)!==0&&(Lr(h),h.subtreeFlags&6&&(h.flags|=8192)):Lr(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function _B(u,h){switch(v0(h),h.tag){case 1:return on(h.type)&&Ch(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return al(),jt(an),jt(Rr),j0(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return A0(h),null;case 13:if(jt($t),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));rl()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return jt($t),null;case 4:return al(),null;case 10:return E0(h.type._context),null;case 22:case 23:return lv(),null;case 24:return null;default:return null}}var Gh=!1,Mr=!1,xB=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ll(u,h){var m=u.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Wt(u,h,y)}else m.current=null}function X0(u,h,m){try{m()}catch(y){Wt(u,h,y)}}var WT=!1;function wB(u,h){if(l0=fh,u=wk(),e0(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var T=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var I=0,z=-1,K=-1,ae=0,ge=0,ve=u,fe=null;t:for(;;){for(var je;ve!==m||T!==0&&ve.nodeType!==3||(z=I+T),ve!==C||y!==0&&ve.nodeType!==3||(K=I+y),ve.nodeType===3&&(I+=ve.nodeValue.length),(je=ve.firstChild)!==null;)fe=ve,ve=je;for(;;){if(ve===u)break t;if(fe===m&&++ae===T&&(z=I),fe===C&&++ge===y&&(K=I),(je=ve.nextSibling)!==null)break;ve=fe,fe=ve.parentNode}ve=je}m=z===-1||K===-1?null:{start:z,end:K}}else m=null}m=m||{start:0,end:0}}else m=null;for(u0={focusedElem:u,selectionRange:m},fh=!1,Oe=h;Oe!==null;)if(h=Oe,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Oe=u;else for(;Oe!==null;){h=Oe;try{var Re=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Le=Re.memoizedProps,Vt=Re.memoizedState,Z=h.stateNode,X=Z.getSnapshotBeforeUpdate(h.elementType===h.type?Le:gi(h.type,Le),Vt);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=h.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xe){Wt(h,h.return,xe)}if(u=h.sibling,u!==null){u.return=h.return,Oe=u;break}Oe=h.return}return Re=WT,WT=!1,Re}function ic(u,h,m){var y=h.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&u)===u){var C=T.destroy;T.destroy=void 0,C!==void 0&&X0(h,m,C)}T=T.next}while(T!==y)}}function Yh(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&u)===u){var y=m.create;m.destroy=y()}m=m.next}while(m!==h)}}function Q0(u){var h=u.ref;if(h!==null){var m=u.stateNode;switch(u.tag){case 5:u=m;break;default:u=m}typeof h=="function"?h(u):h.current=u}}function qT(u){var h=u.alternate;h!==null&&(u.alternate=null,qT(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Ui],delete h[Gu],delete h[f0],delete h[iB],delete h[sB])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function VT(u){return u.tag===5||u.tag===3||u.tag===4}function GT(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||VT(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function J0(u,h,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(u,h):m.insertBefore(u,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(u,m)):(h=m,h.appendChild(u)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=Th));else if(y!==4&&(u=u.child,u!==null))for(J0(u,h,m),u=u.sibling;u!==null;)J0(u,h,m),u=u.sibling}function Z0(u,h,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,h?m.insertBefore(u,h):m.appendChild(u);else if(y!==4&&(u=u.child,u!==null))for(Z0(u,h,m),u=u.sibling;u!==null;)Z0(u,h,m),u=u.sibling}var Tr=null,vi=!1;function na(u,h,m){for(m=m.child;m!==null;)YT(u,h,m),m=m.sibling}function YT(u,h,m){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(oh,m)}catch{}switch(m.tag){case 5:Mr||ll(m,h);case 6:var y=Tr,T=vi;Tr=null,na(u,h,m),Tr=y,vi=T,Tr!==null&&(vi?(u=Tr,m=m.stateNode,u.nodeType===8?u.parentNode.removeChild(m):u.removeChild(m)):Tr.removeChild(m.stateNode));break;case 18:Tr!==null&&(vi?(u=Tr,m=m.stateNode,u.nodeType===8?h0(u.parentNode,m):u.nodeType===1&&h0(u,m),Lu(u)):h0(Tr,m.stateNode));break;case 4:y=Tr,T=vi,Tr=m.stateNode.containerInfo,vi=!0,na(u,h,m),Tr=y,vi=T;break;case 0:case 11:case 14:case 15:if(!Mr&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){T=y=y.next;do{var C=T,I=C.destroy;C=C.tag,I!==void 0&&((C&2)!==0||(C&4)!==0)&&X0(m,h,I),T=T.next}while(T!==y)}na(u,h,m);break;case 1:if(!Mr&&(ll(m,h),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(z){Wt(m,h,z)}na(u,h,m);break;case 21:na(u,h,m);break;case 22:m.mode&1?(Mr=(y=Mr)||m.memoizedState!==null,na(u,h,m),Mr=y):na(u,h,m);break;default:na(u,h,m)}}function KT(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var m=u.stateNode;m===null&&(m=u.stateNode=new xB),h.forEach(function(y){var T=OB.bind(null,u,y);m.has(y)||(m.add(y),y.then(T,T))})}}function yi(u,h){var m=h.deletions;if(m!==null)for(var y=0;y<m.length;y++){var T=m[y];try{var C=u,I=h,z=I;e:for(;z!==null;){switch(z.tag){case 5:Tr=z.stateNode,vi=!1;break e;case 3:Tr=z.stateNode.containerInfo,vi=!0;break e;case 4:Tr=z.stateNode.containerInfo,vi=!0;break e}z=z.return}if(Tr===null)throw Error(r(160));YT(C,I,T),Tr=null,vi=!1;var K=T.alternate;K!==null&&(K.return=null),T.return=null}catch(ae){Wt(T,h,ae)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)XT(h,u),h=h.sibling}function XT(u,h){var m=u.alternate,y=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(yi(h,u),Wi(u),y&4){try{ic(3,u,u.return),Yh(3,u)}catch(Le){Wt(u,u.return,Le)}try{ic(5,u,u.return)}catch(Le){Wt(u,u.return,Le)}}break;case 1:yi(h,u),Wi(u),y&512&&m!==null&&ll(m,m.return);break;case 5:if(yi(h,u),Wi(u),y&512&&m!==null&&ll(m,m.return),u.flags&32){var T=u.stateNode;try{ze(T,"")}catch(Le){Wt(u,u.return,Le)}}if(y&4&&(T=u.stateNode,T!=null)){var C=u.memoizedProps,I=m!==null?m.memoizedProps:C,z=u.type,K=u.updateQueue;if(u.updateQueue=null,K!==null)try{z==="input"&&C.type==="radio"&&C.name!=null&&ut(T,C),Fi(z,I);var ae=Fi(z,C);for(I=0;I<K.length;I+=2){var ge=K[I],ve=K[I+1];ge==="style"?pr(T,ve):ge==="dangerouslySetInnerHTML"?be(T,ve):ge==="children"?ze(T,ve):S(T,ge,ve,ae)}switch(z){case"input":Bt(T,C);break;case"textarea":$o(T,C);break;case"select":var fe=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!C.multiple;var je=C.value;je!=null?Bi(T,!!C.multiple,je,!1):fe!==!!C.multiple&&(C.defaultValue!=null?Bi(T,!!C.multiple,C.defaultValue,!0):Bi(T,!!C.multiple,C.multiple?[]:"",!1))}T[Gu]=C}catch(Le){Wt(u,u.return,Le)}}break;case 6:if(yi(h,u),Wi(u),y&4){if(u.stateNode===null)throw Error(r(162));T=u.stateNode,C=u.memoizedProps;try{T.nodeValue=C}catch(Le){Wt(u,u.return,Le)}}break;case 3:if(yi(h,u),Wi(u),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Lu(h.containerInfo)}catch(Le){Wt(u,u.return,Le)}break;case 4:yi(h,u),Wi(u);break;case 13:yi(h,u),Wi(u),T=u.child,T.flags&8192&&(C=T.memoizedState!==null,T.stateNode.isHidden=C,!C||T.alternate!==null&&T.alternate.memoizedState!==null||(rv=qt())),y&4&&KT(u);break;case 22:if(ge=m!==null&&m.memoizedState!==null,u.mode&1?(Mr=(ae=Mr)||ge,yi(h,u),Mr=ae):yi(h,u),Wi(u),y&8192){if(ae=u.memoizedState!==null,(u.stateNode.isHidden=ae)&&!ge&&(u.mode&1)!==0)for(Oe=u,ge=u.child;ge!==null;){for(ve=Oe=ge;Oe!==null;){switch(fe=Oe,je=fe.child,fe.tag){case 0:case 11:case 14:case 15:ic(4,fe,fe.return);break;case 1:ll(fe,fe.return);var Re=fe.stateNode;if(typeof Re.componentWillUnmount=="function"){y=fe,m=fe.return;try{h=y,Re.props=h.memoizedProps,Re.state=h.memoizedState,Re.componentWillUnmount()}catch(Le){Wt(y,m,Le)}}break;case 5:ll(fe,fe.return);break;case 22:if(fe.memoizedState!==null){ZT(ve);continue}}je!==null?(je.return=fe,Oe=je):ZT(ve)}ge=ge.sibling}e:for(ge=null,ve=u;;){if(ve.tag===5){if(ge===null){ge=ve;try{T=ve.stateNode,ae?(C=T.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(z=ve.stateNode,K=ve.memoizedProps.style,I=K!=null&&K.hasOwnProperty("display")?K.display:null,z.style.display=Ir("display",I))}catch(Le){Wt(u,u.return,Le)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=ae?"":ve.memoizedProps}catch(Le){Wt(u,u.return,Le)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===u)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===u)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===u)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:yi(h,u),Wi(u),y&4&&KT(u);break;case 21:break;default:yi(h,u),Wi(u)}}function Wi(u){var h=u.flags;if(h&2){try{e:{for(var m=u.return;m!==null;){if(VT(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var T=y.stateNode;y.flags&32&&(ze(T,""),y.flags&=-33);var C=GT(u);Z0(u,C,T);break;case 3:case 4:var I=y.stateNode.containerInfo,z=GT(u);J0(u,z,I);break;default:throw Error(r(161))}}catch(K){Wt(u,u.return,K)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function EB(u,h,m){Oe=u,QT(u)}function QT(u,h,m){for(var y=(u.mode&1)!==0;Oe!==null;){var T=Oe,C=T.child;if(T.tag===22&&y){var I=T.memoizedState!==null||Gh;if(!I){var z=T.alternate,K=z!==null&&z.memoizedState!==null||Mr;z=Gh;var ae=Mr;if(Gh=I,(Mr=K)&&!ae)for(Oe=T;Oe!==null;)I=Oe,K=I.child,I.tag===22&&I.memoizedState!==null?e2(T):K!==null?(K.return=I,Oe=K):e2(T);for(;C!==null;)Oe=C,QT(C),C=C.sibling;Oe=T,Gh=z,Mr=ae}JT(u)}else(T.subtreeFlags&8772)!==0&&C!==null?(C.return=T,Oe=C):JT(u)}}function JT(u){for(;Oe!==null;){var h=Oe;if((h.flags&8772)!==0){var m=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Mr||Yh(5,h);break;case 1:var y=h.stateNode;if(h.flags&4&&!Mr)if(m===null)y.componentDidMount();else{var T=h.elementType===h.type?m.memoizedProps:gi(h.type,m.memoizedProps);y.componentDidUpdate(T,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=h.updateQueue;C!==null&&Zk(h,C,y);break;case 3:var I=h.updateQueue;if(I!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}Zk(h,I,m)}break;case 5:var z=h.stateNode;if(m===null&&h.flags&4){m=z;var K=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&m.focus();break;case"img":K.src&&(m.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ae=h.alternate;if(ae!==null){var ge=ae.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&Lu(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mr||h.flags&512&&Q0(h)}catch(fe){Wt(h,h.return,fe)}}if(h===u){Oe=null;break}if(m=h.sibling,m!==null){m.return=h.return,Oe=m;break}Oe=h.return}}function ZT(u){for(;Oe!==null;){var h=Oe;if(h===u){Oe=null;break}var m=h.sibling;if(m!==null){m.return=h.return,Oe=m;break}Oe=h.return}}function e2(u){for(;Oe!==null;){var h=Oe;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{Yh(4,h)}catch(K){Wt(h,m,K)}break;case 1:var y=h.stateNode;if(typeof y.componentDidMount=="function"){var T=h.return;try{y.componentDidMount()}catch(K){Wt(h,T,K)}}var C=h.return;try{Q0(h)}catch(K){Wt(h,C,K)}break;case 5:var I=h.return;try{Q0(h)}catch(K){Wt(h,I,K)}}}catch(K){Wt(h,h.return,K)}if(h===u){Oe=null;break}var z=h.sibling;if(z!==null){z.return=h.return,Oe=z;break}Oe=h.return}}var kB=Math.ceil,Kh=O.ReactCurrentDispatcher,ev=O.ReactCurrentOwner,Yn=O.ReactCurrentBatchConfig,ct=0,gr=null,Xt=null,Sr=0,An=0,ul=Js(0),nr=0,sc=null,Ya=0,Xh=0,tv=0,ac=null,un=null,rv=0,cl=1/0,fs=null,Qh=!1,nv=null,ia=null,Jh=!1,sa=null,Zh=0,oc=0,iv=null,ef=-1,tf=0;function Kr(){return(ct&6)!==0?qt():ef!==-1?ef:ef=qt()}function aa(u){return(u.mode&1)===0?1:(ct&2)!==0&&Sr!==0?Sr&-Sr:oB.transition!==null?(tf===0&&(tf=GE()),tf):(u=mt,u!==0||(u=window.event,u=u===void 0?16:rk(u.type)),u)}function bi(u,h,m,y){if(50<oc)throw oc=0,iv=null,Error(r(185));Ou(u,m,y),((ct&2)===0||u!==gr)&&(u===gr&&((ct&2)===0&&(Xh|=m),nr===4&&oa(u,Sr)),cn(u,y),m===1&&ct===0&&(h.mode&1)===0&&(cl=qt()+500,Nh&&ea()))}function cn(u,h){var m=u.callbackNode;o8(u,h);var y=ch(u,u===gr?Sr:0);if(y===0)m!==null&&WE(m),u.callbackNode=null,u.callbackPriority=0;else if(h=y&-y,u.callbackPriority!==h){if(m!=null&&WE(m),h===1)u.tag===0?aB(r2.bind(null,u)):Uk(r2.bind(null,u)),rB(function(){(ct&6)===0&&ea()}),m=null;else{switch(YE(y)){case 1:m=Mg;break;case 4:m=qE;break;case 16:m=ah;break;case 536870912:m=VE;break;default:m=ah}m=c2(m,t2.bind(null,u))}u.callbackPriority=h,u.callbackNode=m}}function t2(u,h){if(ef=-1,tf=0,(ct&6)!==0)throw Error(r(327));var m=u.callbackNode;if(dl()&&u.callbackNode!==m)return null;var y=ch(u,u===gr?Sr:0);if(y===0)return null;if((y&30)!==0||(y&u.expiredLanes)!==0||h)h=rf(u,y);else{h=y;var T=ct;ct|=2;var C=i2();(gr!==u||Sr!==h)&&(fs=null,cl=qt()+500,Xa(u,h));do try{CB();break}catch(z){n2(u,z)}while(!0);w0(),Kh.current=C,ct=T,Xt!==null?h=0:(gr=null,Sr=0,h=nr)}if(h!==0){if(h===2&&(T=Bg(u),T!==0&&(y=T,h=sv(u,T))),h===1)throw m=sc,Xa(u,0),oa(u,y),cn(u,qt()),m;if(h===6)oa(u,y);else{if(T=u.current.alternate,(y&30)===0&&!TB(T)&&(h=rf(u,y),h===2&&(C=Bg(u),C!==0&&(y=C,h=sv(u,C))),h===1))throw m=sc,Xa(u,0),oa(u,y),cn(u,qt()),m;switch(u.finishedWork=T,u.finishedLanes=y,h){case 0:case 1:throw Error(r(345));case 2:Qa(u,un,fs);break;case 3:if(oa(u,y),(y&130023424)===y&&(h=rv+500-qt(),10<h)){if(ch(u,0)!==0)break;if(T=u.suspendedLanes,(T&y)!==y){Kr(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=d0(Qa.bind(null,u,un,fs),h);break}Qa(u,un,fs);break;case 4:if(oa(u,y),(y&4194240)===y)break;for(h=u.eventTimes,T=-1;0<y;){var I=31-fi(y);C=1<<I,I=h[I],I>T&&(T=I),y&=~C}if(y=T,y=qt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*kB(y/1960))-y,10<y){u.timeoutHandle=d0(Qa.bind(null,u,un,fs),y);break}Qa(u,un,fs);break;case 5:Qa(u,un,fs);break;default:throw Error(r(329))}}}return cn(u,qt()),u.callbackNode===m?t2.bind(null,u):null}function sv(u,h){var m=ac;return u.current.memoizedState.isDehydrated&&(Xa(u,h).flags|=256),u=rf(u,h),u!==2&&(h=un,un=m,h!==null&&av(h)),u}function av(u){un===null?un=u:un.push.apply(un,u)}function TB(u){for(var h=u;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var T=m[y],C=T.getSnapshot;T=T.value;try{if(!pi(C(),T))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function oa(u,h){for(h&=~tv,h&=~Xh,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var m=31-fi(h),y=1<<m;u[m]=-1,h&=~y}}function r2(u){if((ct&6)!==0)throw Error(r(327));dl();var h=ch(u,0);if((h&1)===0)return cn(u,qt()),null;var m=rf(u,h);if(u.tag!==0&&m===2){var y=Bg(u);y!==0&&(h=y,m=sv(u,y))}if(m===1)throw m=sc,Xa(u,0),oa(u,h),cn(u,qt()),m;if(m===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Qa(u,un,fs),cn(u,qt()),null}function ov(u,h){var m=ct;ct|=1;try{return u(h)}finally{ct=m,ct===0&&(cl=qt()+500,Nh&&ea())}}function Ka(u){sa!==null&&sa.tag===0&&(ct&6)===0&&dl();var h=ct;ct|=1;var m=Yn.transition,y=mt;try{if(Yn.transition=null,mt=1,u)return u()}finally{mt=y,Yn.transition=m,ct=h,(ct&6)===0&&ea()}}function lv(){An=ul.current,jt(ul)}function Xa(u,h){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;if(m!==-1&&(u.timeoutHandle=-1,tB(m)),Xt!==null)for(m=Xt.return;m!==null;){var y=m;switch(v0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ch();break;case 3:al(),jt(an),jt(Rr),j0();break;case 5:A0(y);break;case 4:al();break;case 13:jt($t);break;case 19:jt($t);break;case 10:E0(y.type._context);break;case 22:case 23:lv()}m=m.return}if(gr=u,Xt=u=la(u.current,null),Sr=An=h,nr=0,sc=null,tv=Xh=Ya=0,un=ac=null,qa!==null){for(h=0;h<qa.length;h++)if(m=qa[h],y=m.interleaved,y!==null){m.interleaved=null;var T=y.next,C=m.pending;if(C!==null){var I=C.next;C.next=T,y.next=I}m.pending=y}qa=null}return u}function n2(u,h){do{var m=Xt;try{if(w0(),Fh.current=zh,$h){for(var y=Ut.memoizedState;y!==null;){var T=y.queue;T!==null&&(T.pending=null),y=y.next}$h=!1}if(Ga=0,mr=rr=Ut=null,Zu=!1,ec=0,ev.current=null,m===null||m.return===null){nr=1,sc=h,Xt=null;break}e:{var C=u,I=m.return,z=m,K=h;if(h=Sr,z.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ae=K,ge=z,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var fe=ge.alternate;fe?(ge.updateQueue=fe.updateQueue,ge.memoizedState=fe.memoizedState,ge.lanes=fe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var je=AT(I);if(je!==null){je.flags&=-257,NT(je,I,z,C,h),je.mode&1&&CT(C,ae,h),h=je,K=ae;var Re=h.updateQueue;if(Re===null){var Le=new Set;Le.add(K),h.updateQueue=Le}else Re.add(K);break e}else{if((h&1)===0){CT(C,ae,h),uv();break e}K=Error(r(426))}}else if(Rt&&z.mode&1){var Vt=AT(I);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),NT(Vt,I,z,C,h),_0(ol(K,z));break e}}C=K=ol(K,z),nr!==4&&(nr=2),ac===null?ac=[C]:ac.push(C),C=I;do{switch(C.tag){case 3:C.flags|=65536,h&=-h,C.lanes|=h;var Z=TT(C,K,h);Jk(C,Z);break e;case 1:z=K;var X=C.type,re=C.stateNode;if((C.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(ia===null||!ia.has(re)))){C.flags|=65536,h&=-h,C.lanes|=h;var xe=ST(C,z,h);Jk(C,xe);break e}}C=C.return}while(C!==null)}a2(m)}catch(Be){h=Be,Xt===m&&m!==null&&(Xt=m=m.return);continue}break}while(!0)}function i2(){var u=Kh.current;return Kh.current=zh,u===null?zh:u}function uv(){(nr===0||nr===3||nr===2)&&(nr=4),gr===null||(Ya&268435455)===0&&(Xh&268435455)===0||oa(gr,Sr)}function rf(u,h){var m=ct;ct|=2;var y=i2();(gr!==u||Sr!==h)&&(fs=null,Xa(u,h));do try{SB();break}catch(T){n2(u,T)}while(!0);if(w0(),ct=m,Kh.current=y,Xt!==null)throw Error(r(261));return gr=null,Sr=0,nr}function SB(){for(;Xt!==null;)s2(Xt)}function CB(){for(;Xt!==null&&!J5();)s2(Xt)}function s2(u){var h=u2(u.alternate,u,An);u.memoizedProps=u.pendingProps,h===null?a2(u):Xt=h,ev.current=null}function a2(u){var h=u;do{var m=h.alternate;if(u=h.return,(h.flags&32768)===0){if(m=bB(m,h,An),m!==null){Xt=m;return}}else{if(m=_B(m,h),m!==null){m.flags&=32767,Xt=m;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{nr=6,Xt=null;return}}if(h=h.sibling,h!==null){Xt=h;return}Xt=h=u}while(h!==null);nr===0&&(nr=5)}function Qa(u,h,m){var y=mt,T=Yn.transition;try{Yn.transition=null,mt=1,AB(u,h,m,y)}finally{Yn.transition=T,mt=y}return null}function AB(u,h,m,y){do dl();while(sa!==null);if((ct&6)!==0)throw Error(r(327));m=u.finishedWork;var T=u.finishedLanes;if(m===null)return null;if(u.finishedWork=null,u.finishedLanes=0,m===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var C=m.lanes|m.childLanes;if(l8(u,C),u===gr&&(Xt=gr=null,Sr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Jh||(Jh=!0,c2(ah,function(){return dl(),null})),C=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||C){C=Yn.transition,Yn.transition=null;var I=mt;mt=1;var z=ct;ct|=4,ev.current=null,wB(u,m),XT(m,u),Y8(u0),fh=!!l0,u0=l0=null,u.current=m,EB(m),Z5(),ct=z,mt=I,Yn.transition=C}else u.current=m;if(Jh&&(Jh=!1,sa=u,Zh=T),C=u.pendingLanes,C===0&&(ia=null),r8(m.stateNode),cn(u,qt()),h!==null)for(y=u.onRecoverableError,m=0;m<h.length;m++)T=h[m],y(T.value,{componentStack:T.stack,digest:T.digest});if(Qh)throw Qh=!1,u=nv,nv=null,u;return(Zh&1)!==0&&u.tag!==0&&dl(),C=u.pendingLanes,(C&1)!==0?u===iv?oc++:(oc=0,iv=u):oc=0,ea(),null}function dl(){if(sa!==null){var u=YE(Zh),h=Yn.transition,m=mt;try{if(Yn.transition=null,mt=16>u?16:u,sa===null)var y=!1;else{if(u=sa,sa=null,Zh=0,(ct&6)!==0)throw Error(r(331));var T=ct;for(ct|=4,Oe=u.current;Oe!==null;){var C=Oe,I=C.child;if((Oe.flags&16)!==0){var z=C.deletions;if(z!==null){for(var K=0;K<z.length;K++){var ae=z[K];for(Oe=ae;Oe!==null;){var ge=Oe;switch(ge.tag){case 0:case 11:case 15:ic(8,ge,C)}var ve=ge.child;if(ve!==null)ve.return=ge,Oe=ve;else for(;Oe!==null;){ge=Oe;var fe=ge.sibling,je=ge.return;if(qT(ge),ge===ae){Oe=null;break}if(fe!==null){fe.return=je,Oe=fe;break}Oe=je}}}var Re=C.alternate;if(Re!==null){var Le=Re.child;if(Le!==null){Re.child=null;do{var Vt=Le.sibling;Le.sibling=null,Le=Vt}while(Le!==null)}}Oe=C}}if((C.subtreeFlags&2064)!==0&&I!==null)I.return=C,Oe=I;else e:for(;Oe!==null;){if(C=Oe,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:ic(9,C,C.return)}var Z=C.sibling;if(Z!==null){Z.return=C.return,Oe=Z;break e}Oe=C.return}}var X=u.current;for(Oe=X;Oe!==null;){I=Oe;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,Oe=re;else e:for(I=X;Oe!==null;){if(z=Oe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Yh(9,z)}}catch(Be){Wt(z,z.return,Be)}if(z===I){Oe=null;break e}var xe=z.sibling;if(xe!==null){xe.return=z.return,Oe=xe;break e}Oe=z.return}}if(ct=T,ea(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(oh,u)}catch{}y=!0}return y}finally{mt=m,Yn.transition=h}}return!1}function o2(u,h,m){h=ol(m,h),h=TT(u,h,1),u=ra(u,h,1),h=Kr(),u!==null&&(Ou(u,1,h),cn(u,h))}function Wt(u,h,m){if(u.tag===3)o2(u,u,m);else for(;h!==null;){if(h.tag===3){o2(h,u,m);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ia===null||!ia.has(y))){u=ol(m,u),u=ST(h,u,1),h=ra(h,u,1),u=Kr(),h!==null&&(Ou(h,1,u),cn(h,u));break}}h=h.return}}function NB(u,h,m){var y=u.pingCache;y!==null&&y.delete(h),h=Kr(),u.pingedLanes|=u.suspendedLanes&m,gr===u&&(Sr&m)===m&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>qt()-rv?Xa(u,0):tv|=m),cn(u,h)}function l2(u,h){h===0&&((u.mode&1)===0?h=1:(h=uh,uh<<=1,(uh&130023424)===0&&(uh=4194304)));var m=Kr();u=cs(u,h),u!==null&&(Ou(u,h,m),cn(u,m))}function jB(u){var h=u.memoizedState,m=0;h!==null&&(m=h.retryLane),l2(u,m)}function OB(u,h){var m=0;switch(u.tag){case 13:var y=u.stateNode,T=u.memoizedState;T!==null&&(m=T.retryLane);break;case 19:y=u.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(h),l2(u,m)}var u2;u2=function(u,h,m){if(u!==null)if(u.memoizedProps!==h.pendingProps||an.current)ln=!0;else{if((u.lanes&m)===0&&(h.flags&128)===0)return ln=!1,yB(u,h,m);ln=(u.flags&131072)!==0}else ln=!1,Rt&&(h.flags&1048576)!==0&&Hk(h,Oh,h.index);switch(h.lanes=0,h.tag){case 2:var y=h.type;Vh(u,h),u=h.pendingProps;var T=Zo(h,Rr.current);sl(h,m),T=I0(null,h,y,u,T,m);var C=R0();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,on(y)?(C=!0,Ah(h)):C=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,S0(h),T.updater=Wh,h.stateNode=T,T._reactInternals=h,$0(h,y,u,m),h=W0(null,h,y,!0,C,m)):(h.tag=0,Rt&&C&&g0(h),Yr(null,h,T,m),h=h.child),h;case 16:y=h.elementType;e:{switch(Vh(u,h),u=h.pendingProps,T=y._init,y=T(y._payload),h.type=y,T=h.tag=IB(y),u=gi(y,u),T){case 0:h=z0(null,h,y,u,m);break e;case 1:h=DT(null,h,y,u,m);break e;case 11:h=jT(null,h,y,u,m);break e;case 14:h=OT(null,h,y,gi(y.type,u),m);break e}throw Error(r(306,y,""))}return h;case 0:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),z0(u,h,y,T,m);case 1:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),DT(u,h,y,T,m);case 3:e:{if(LT(h),u===null)throw Error(r(387));y=h.pendingProps,C=h.memoizedState,T=C.element,Qk(u,h),Mh(h,y,null,m);var I=h.memoizedState;if(y=I.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){T=ol(Error(r(423)),h),h=MT(u,h,y,m,T);break e}else if(y!==T){T=ol(Error(r(424)),h),h=MT(u,h,y,m,T);break e}else for(Cn=Qs(h.stateNode.containerInfo.firstChild),Sn=h,Rt=!0,mi=null,m=Kk(h,null,y,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(rl(),y===T){h=hs(u,h,m);break e}Yr(u,h,y,m)}h=h.child}return h;case 5:return eT(h),u===null&&b0(h),y=h.type,T=h.pendingProps,C=u!==null?u.memoizedProps:null,I=T.children,c0(y,T)?I=null:C!==null&&c0(y,C)&&(h.flags|=32),RT(u,h),Yr(u,h,I,m),h.child;case 6:return u===null&&b0(h),null;case 13:return BT(u,h,m);case 4:return C0(h,h.stateNode.containerInfo),y=h.pendingProps,u===null?h.child=nl(h,null,y,m):Yr(u,h,y,m),h.child;case 11:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),jT(u,h,y,T,m);case 7:return Yr(u,h,h.pendingProps,m),h.child;case 8:return Yr(u,h,h.pendingProps.children,m),h.child;case 12:return Yr(u,h,h.pendingProps.children,m),h.child;case 10:e:{if(y=h.type._context,T=h.pendingProps,C=h.memoizedProps,I=T.value,kt(Rh,y._currentValue),y._currentValue=I,C!==null)if(pi(C.value,I)){if(C.children===T.children&&!an.current){h=hs(u,h,m);break e}}else for(C=h.child,C!==null&&(C.return=h);C!==null;){var z=C.dependencies;if(z!==null){I=C.child;for(var K=z.firstContext;K!==null;){if(K.context===y){if(C.tag===1){K=ds(-1,m&-m),K.tag=2;var ae=C.updateQueue;if(ae!==null){ae=ae.shared;var ge=ae.pending;ge===null?K.next=K:(K.next=ge.next,ge.next=K),ae.pending=K}}C.lanes|=m,K=C.alternate,K!==null&&(K.lanes|=m),k0(C.return,m,h),z.lanes|=m;break}K=K.next}}else if(C.tag===10)I=C.type===h.type?null:C.child;else if(C.tag===18){if(I=C.return,I===null)throw Error(r(341));I.lanes|=m,z=I.alternate,z!==null&&(z.lanes|=m),k0(I,m,h),I=C.sibling}else I=C.child;if(I!==null)I.return=C;else for(I=C;I!==null;){if(I===h){I=null;break}if(C=I.sibling,C!==null){C.return=I.return,I=C;break}I=I.return}C=I}Yr(u,h,T.children,m),h=h.child}return h;case 9:return T=h.type,y=h.pendingProps.children,sl(h,m),T=Vn(T),y=y(T),h.flags|=1,Yr(u,h,y,m),h.child;case 14:return y=h.type,T=gi(y,h.pendingProps),T=gi(y.type,T),OT(u,h,y,T,m);case 15:return PT(u,h,h.type,h.pendingProps,m);case 17:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),Vh(u,h),h.tag=1,on(y)?(u=!0,Ah(h)):u=!1,sl(h,m),ET(h,y,T),$0(h,y,T,m),W0(null,h,y,!0,u,m);case 19:return $T(u,h,m);case 22:return IT(u,h,m)}throw Error(r(156,h.tag))};function c2(u,h){return zE(u,h)}function PB(u,h,m,y){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(u,h,m,y){return new PB(u,h,m,y)}function cv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function IB(u){if(typeof u=="function")return cv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===F)return 11;if(u===W)return 14}return 2}function la(u,h){var m=u.alternate;return m===null?(m=Kn(u.tag,h,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=h,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&14680064,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,h=u.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m}function nf(u,h,m,y,T,C){var I=2;if(y=u,typeof u=="function")cv(u)&&(I=1);else if(typeof u=="string")I=5;else e:switch(u){case P:return Ja(m.children,T,C,h);case R:I=8,T|=8;break;case H:return u=Kn(12,m,h,T|2),u.elementType=H,u.lanes=C,u;case Y:return u=Kn(13,m,h,T),u.elementType=Y,u.lanes=C,u;case G:return u=Kn(19,m,h,T),u.elementType=G,u.lanes=C,u;case te:return sf(m,T,C,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:I=10;break e;case M:I=9;break e;case F:I=11;break e;case W:I=14;break e;case Q:I=16,y=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return h=Kn(I,m,h,T),h.elementType=u,h.type=y,h.lanes=C,h}function Ja(u,h,m,y){return u=Kn(7,u,y,h),u.lanes=m,u}function sf(u,h,m,y){return u=Kn(22,u,y,h),u.elementType=te,u.lanes=m,u.stateNode={isHidden:!1},u}function dv(u,h,m){return u=Kn(6,u,null,h),u.lanes=m,u}function hv(u,h,m){return h=Kn(4,u.children!==null?u.children:[],u.key,h),h.lanes=m,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function RB(u,h,m,y,T){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fg(0),this.expirationTimes=Fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fg(0),this.identifierPrefix=y,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function fv(u,h,m,y,T,C,I,z,K){return u=new RB(u,h,m,z,K),h===1?(h=1,C===!0&&(h|=8)):h=0,C=Kn(3,null,null,h),u.current=C,C.stateNode=u,C.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},S0(C),u}function DB(u,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:y==null?null:""+y,children:u,containerInfo:h,implementation:m}}function d2(u){if(!u)return Zs;u=u._reactInternals;e:{if($a(u)!==u||u.tag!==1)throw Error(r(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(on(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(u.tag===1){var m=u.type;if(on(m))return Fk(u,m,h)}return h}function h2(u,h,m,y,T,C,I,z,K){return u=fv(m,y,!0,u,T,C,I,z,K),u.context=d2(null),m=u.current,y=Kr(),T=aa(m),C=ds(y,T),C.callback=h??null,ra(m,C,T),u.current.lanes=T,Ou(u,T,y),cn(u,y),u}function af(u,h,m,y){var T=h.current,C=Kr(),I=aa(T);return m=d2(m),h.context===null?h.context=m:h.pendingContext=m,h=ds(C,I),h.payload={element:u},y=y===void 0?null:y,y!==null&&(h.callback=y),u=ra(T,h,I),u!==null&&(bi(u,T,I,C),Lh(u,T,I)),I}function of(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function f2(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<h?m:h}}function pv(u,h){f2(u,h),(u=u.alternate)&&f2(u,h)}function LB(){return null}var p2=typeof reportError=="function"?reportError:function(u){console.error(u)};function mv(u){this._internalRoot=u}lf.prototype.render=mv.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));af(u,h,null,null)},lf.prototype.unmount=mv.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Ka(function(){af(null,u,null,null)}),h[as]=null}};function lf(u){this._internalRoot=u}lf.prototype.unstable_scheduleHydration=function(u){if(u){var h=QE();u={blockedOn:null,target:u,priority:h};for(var m=0;m<Ys.length&&h!==0&&h<Ys[m].priority;m++);Ys.splice(m,0,u),m===0&&ek(u)}};function gv(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function uf(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function m2(){}function MB(u,h,m,y,T){if(T){if(typeof y=="function"){var C=y;y=function(){var ae=of(I);C.call(ae)}}var I=h2(h,y,u,0,null,!1,!1,"",m2);return u._reactRootContainer=I,u[as]=I.current,qu(u.nodeType===8?u.parentNode:u),Ka(),I}for(;T=u.lastChild;)u.removeChild(T);if(typeof y=="function"){var z=y;y=function(){var ae=of(K);z.call(ae)}}var K=fv(u,0,!1,null,null,!1,!1,"",m2);return u._reactRootContainer=K,u[as]=K.current,qu(u.nodeType===8?u.parentNode:u),Ka(function(){af(h,K,m,y)}),K}function cf(u,h,m,y,T){var C=m._reactRootContainer;if(C){var I=C;if(typeof T=="function"){var z=T;T=function(){var K=of(I);z.call(K)}}af(h,I,u,T)}else I=MB(m,h,u,T,y);return of(I)}KE=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var m=ju(h.pendingLanes);m!==0&&($g(h,m|1),cn(h,qt()),(ct&6)===0&&(cl=qt()+500,ea()))}break;case 13:Ka(function(){var y=cs(u,1);if(y!==null){var T=Kr();bi(y,u,1,T)}}),pv(u,1)}},Ug=function(u){if(u.tag===13){var h=cs(u,134217728);if(h!==null){var m=Kr();bi(h,u,134217728,m)}pv(u,134217728)}},XE=function(u){if(u.tag===13){var h=aa(u),m=cs(u,h);if(m!==null){var y=Kr();bi(m,u,h,y)}pv(u,h)}},QE=function(){return mt},JE=function(u,h){var m=mt;try{return mt=u,h()}finally{mt=m}},Ig=function(u,h,m){switch(h){case"input":if(Bt(u,m),h=m.name,m.type==="radio"&&h!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var y=m[h];if(y!==u&&y.form===u.form){var T=Sh(y);if(!T)throw Error(r(90));he(y),Bt(y,T)}}}break;case"textarea":$o(u,m);break;case"select":h=m.value,h!=null&&Bi(u,!!m.multiple,h,!1)}},LE=ov,ME=Ka;var BB={usingClientEntryPoint:!1,Events:[Yu,Qo,Sh,RE,DE,ov]},lc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FB={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=UE(u),u===null?null:u.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||LB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{oh=df.inject(FB),$i=df}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BB,dn.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gv(h))throw Error(r(200));return DB(u,h,null,m)},dn.createRoot=function(u,h){if(!gv(u))throw Error(r(299));var m=!1,y="",T=p2;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=fv(u,1,!1,null,null,m,!1,y,T),u[as]=h.current,qu(u.nodeType===8?u.parentNode:u),new mv(h)},dn.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=UE(h),u=u===null?null:u.stateNode,u},dn.flushSync=function(u){return Ka(u)},dn.hydrate=function(u,h,m){if(!uf(h))throw Error(r(200));return cf(null,u,h,!0,m)},dn.hydrateRoot=function(u,h,m){if(!gv(u))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,T=!1,C="",I=p2;if(m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onRecoverableError!==void 0&&(I=m.onRecoverableError)),h=h2(h,null,u,1,m??null,T,!1,C,I),u[as]=h.current,qu(u),y)for(u=0;u<y.length;u++)m=y[u],T=m._getVersion,T=T(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,T]:h.mutableSourceEagerHydrationData.push(m,T);return new lf(h)},dn.render=function(u,h,m){if(!uf(h))throw Error(r(200));return cf(null,u,h,!1,m)},dn.unmountComponentAtNode=function(u){if(!uf(u))throw Error(r(40));return u._reactRootContainer?(Ka(function(){cf(null,null,u,!1,function(){u._reactRootContainer=null,u[as]=null})}),!0):!1},dn.unstable_batchedUpdates=ov,dn.unstable_renderSubtreeIntoContainer=function(u,h,m,y){if(!uf(m))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return cf(u,h,m,!1,y)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var E2;function EP(){if(E2)return _v.exports;E2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_v.exports=XB(),_v.exports}var k2;function QB(){if(k2)return hf;k2=1;var e=EP();return hf.createRoot=e.createRoot,hf.hydrateRoot=e.hydrateRoot,hf}var JB=QB();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T2="popstate";function ZB(e={}){function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return e1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ad(i)}return tF(t,r,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eF(){return Math.random().toString(36).substring(2,10)}function S2(e,t){return{usr:e.state,key:e.key,idx:t}}function e1(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?nu(t):t,state:r,key:t&&t.key||n||eF()}}function ad({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function tF(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",c=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let b=f(),w=b==null?null:b-d;d=b,c&&c({action:o,location:x.location,delta:w})}function v(b,w){o="PUSH";let A=e1(x.location,b,w);d=f()+1;let S=S2(A,d),O=x.createHref(A);try{a.pushState(S,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}s&&c&&c({action:o,location:x.location,delta:1})}function g(b,w){o="REPLACE";let A=e1(x.location,b,w);d=f();let S=S2(A,d),O=x.createHref(A);a.replaceState(S,"",O),s&&c&&c({action:o,location:x.location,delta:0})}function _(b){return rF(b)}let x={get action(){return o},get location(){return e(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(T2,p),c=b,()=>{i.removeEventListener(T2,p),c=null}},createHref(b){return t(i,b)},createURL:_,encodeLocation(b){let w=_(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:g,go(b){return a.go(b)}};return x}function rF(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ad(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function kP(e,t,r="/"){return nF(e,t,r,!1)}function nF(e,t,r,n){let i=typeof t=="string"?nu(t):t,s=As(i.pathname||"/",r);if(s==null)return null;let a=TP(e);iF(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=mF(s);o=fF(a[c],d,n)}return o}function TP(e,t=[],r=[],n="",i=!1){let s=(a,o,c=i,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;Mt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Ts([n,f.relativePath]),v=r.concat(f);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),TP(a.children,t,v,p,c)),!(a.path==null&&!a.index)&&t.push({path:p,score:dF(p,a.index),routesMeta:v})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,o);else for(let d of SP(a.path))s(a,o,!0,d)}),t}function SP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=SP(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function iF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var sF=/^:[\w-]+$/,aF=3,oF=2,lF=1,uF=10,cF=-2,C2=e=>e==="*";function dF(e,t){let r=e.split("/"),n=r.length;return r.some(C2)&&(n+=cF),t&&(n+=oF),r.filter(i=>!C2(i)).reduce((i,s)=>i+(sF.test(s)?aF:s===""?lF:uF),n)}function hF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function fF(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=fp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=fp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Ts([s,p.pathname]),pathnameBase:bF(Ts([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=Ts([s,p.pathnameBase]))}return a}function fp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=pF(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:p},v)=>{if(f==="*"){let _=o[v]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=o[v];return p&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function pF(e,t=!1,r=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function mF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function As(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gF(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?nu(e):e;return{pathname:r?r.startsWith("/")?r:vF(r,t):t,search:_F(n),hash:xF(i)}}function vF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ev(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nx(e){let t=yF(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ix(e,t,r,n=!1){let i;typeof e=="string"?i=nu(e):(i={...e},Mt(!i.pathname||!i.pathname.includes("?"),Ev("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Ev("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Ev("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?t[p]:"/"}let c=gF(i,o),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),bF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_F=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CP=["POST","PUT","PATCH","DELETE"];new Set(CP);var EF=["GET",...CP];new Set(EF);var iu=E.createContext(null);iu.displayName="DataRouter";var Pm=E.createContext(null);Pm.displayName="DataRouterState";E.createContext(!1);var AP=E.createContext({isTransitioning:!1});AP.displayName="ViewTransition";var kF=E.createContext(new Map);kF.displayName="Fetchers";var TF=E.createContext(null);TF.displayName="Await";var Ii=E.createContext(null);Ii.displayName="Navigation";var jd=E.createContext(null);jd.displayName="Location";var Ri=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var sx=E.createContext(null);sx.displayName="RouteError";function SF(e,{relative:t}={}){Mt(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(Ii),{hash:i,pathname:s,search:a}=Od(e,{relative:t}),o=s;return r!=="/"&&(o=s==="/"?r:Ts([r,s])),n.createHref({pathname:o,search:a,hash:i})}function su(){return E.useContext(jd)!=null}function ci(){return Mt(su(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(jd).location}var NP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jP(e){E.useContext(Ii).static||E.useLayoutEffect(e)}function ft(){let{isDataRoute:e}=E.useContext(Ri);return e?FF():CF()}function CF(){Mt(su(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(iu),{basename:t,navigator:r}=E.useContext(Ii),{matches:n}=E.useContext(Ri),{pathname:i}=ci(),s=JSON.stringify(nx(n)),a=E.useRef(!1);return jP(()=>{a.current=!0}),E.useCallback((c,d={})=>{if(Oi(a.current,NP),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=ix(c,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ts([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,s,i,e])}E.createContext(null);function OP(){let{matches:e}=E.useContext(Ri),t=e[e.length-1];return t?t.params:{}}function Od(e,{relative:t}={}){let{matches:r}=E.useContext(Ri),{pathname:n}=ci(),i=JSON.stringify(nx(r));return E.useMemo(()=>ix(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function AF(e,t){return PP(e,t)}function PP(e,t,r,n,i){var A;Mt(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(Ii),{matches:a}=E.useContext(Ri),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let S=p&&p.path||"";IP(d,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=ci(),g;if(t){let S=typeof t=="string"?nu(t):t;Mt(f==="/"||((A=S.pathname)==null?void 0:A.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=v;let _=g.pathname||"/",x=_;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=kP(e,{pathname:x});Oi(p||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Oi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=IF(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ts([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ts([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,i);return t&&w?E.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function NF(){let e=BF(),t=wF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:i},r):null,a)}var jF=E.createElement(NF,null),OF=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(Ri.Provider,{value:this.props.routeContext},E.createElement(sx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PF({routeContext:e,match:t,children:r}){let n=E.useContext(iu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Ri.Provider,{value:e},r)}function IF(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=r==null?void 0:r.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Mt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:v}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let v,g=!1,_=null,x=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||jF,o&&(c<0&&p===0?(IP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,p+1)),w=()=>{let A;return v?A=_:g?A=x:f.route.Component?A=E.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,E.createElement(PF,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?E.createElement(OF,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):w()},null)}function ax(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RF(e){let t=E.useContext(iu);return Mt(t,ax(e)),t}function DF(e){let t=E.useContext(Pm);return Mt(t,ax(e)),t}function LF(e){let t=E.useContext(Ri);return Mt(t,ax(e)),t}function ox(e){let t=LF(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function MF(){return ox("useRouteId")}function BF(){var n;let e=E.useContext(sx),t=DF("useRouteError"),r=ox("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function FF(){let{router:e}=RF("useNavigate"),t=ox("useNavigate"),r=E.useRef(!1);return jP(()=>{r.current=!0}),E.useCallback(async(i,s={})=>{Oi(r.current,NP),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var A2={};function IP(e,t,r){!t&&!A2[e]&&(A2[e]=!0,Oi(!1,r))}E.memo($F);function $F({routes:e,future:t,state:r,unstable_onError:n}){return PP(e,void 0,r,n,t)}function _i({to:e,replace:t,state:r,relative:n}){Mt(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Ii);Oi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(Ri),{pathname:a}=ci(),o=ft(),c=ix(e,nx(s),a,n==="path"),d=JSON.stringify(c);return E.useEffect(()=>{o(JSON.parse(d),{replace:t,state:r,relative:n})},[o,d,n,t,r]),null}function ot(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UF({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Mt(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=nu(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,g=E.useMemo(()=>{let _=As(c,a);return _==null?null:{location:{pathname:_,search:d,hash:f,state:p,key:v},navigationType:n}},[a,c,d,f,p,v,n]);return Oi(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:E.createElement(Ii.Provider,{value:o},E.createElement(jd.Provider,{children:t,value:g}))}function N2({children:e,location:t}){return AF(t1(e),t)}function t1(e,t=[]){let r=[];return E.Children.forEach(e,(n,i)=>{if(!E.isValidElement(n))return;let s=[...t,i];if(n.type===E.Fragment){r.push.apply(r,t1(n.props.children,s));return}Mt(n.type===ot,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=t1(n.props.children,s)),r.push(a)}),r}var tp="get",rp="application/x-www-form-urlencoded";function Im(e){return e!=null&&typeof e.tagName=="string"}function HF(e){return Im(e)&&e.tagName.toLowerCase()==="button"}function zF(e){return Im(e)&&e.tagName.toLowerCase()==="form"}function WF(e){return Im(e)&&e.tagName.toLowerCase()==="input"}function qF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VF(e,t){return e.button===0&&(!t||t==="_self")&&!qF(e)}var ff=null;function GF(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var YF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kv(e){return e!=null&&!YF.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):e}function KF(e,t){let r,n,i,s,a;if(zF(e)){let o=e.getAttribute("action");n=o?As(o,t):null,r=e.getAttribute("method")||tp,i=kv(e.getAttribute("enctype"))||rp,s=new FormData(e)}else if(HF(e)||WF(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?As(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||tp,i=kv(e.getAttribute("formenctype"))||kv(o.getAttribute("enctype"))||rp,s=new FormData(o,e),!GF()){let{name:d,type:f,value:p}=e;if(f==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,p)}}else{if(Im(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tp,n=null,i=rp,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XF(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&As(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function QF(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZF(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await QF(s,r);return a.links?a.links():[]}return[]}));return n9(n.flat(1).filter(JF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function j2(e,t,r,n,i,s){let a=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,d)=>a(c,d)||o(c,d)):s==="data"?t.filter((c,d)=>{var p;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function e9(e,t,{includeHydrateFallback:r}={}){return t9(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function t9(e){return[...new Set(e)]}function r9(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function n9(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(r9(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function RP(){let e=E.useContext(iu);return lx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function i9(){let e=E.useContext(Pm);return lx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ux=E.createContext(void 0);ux.displayName="FrameworkContext";function DP(){let e=E.useContext(ux);return lx(e,"You must render this element inside a <HydratedRouter> element"),e}function s9(e,t){let r=E.useContext(ux),[n,i]=E.useState(!1),[s,a]=E.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=w=>{w.forEach(A=>{a(A.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[e]),E.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{i(!0)},_=()=>{i(!1),a(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:cc(o,g),onBlur:cc(c,_),onMouseEnter:cc(d,g),onMouseLeave:cc(f,_),onTouchStart:cc(p,g)}]:[!1,v,{}]}function cc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function a9({page:e,...t}){let{router:r}=RP(),n=E.useMemo(()=>kP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?E.createElement(l9,{page:e,matches:n,...t}):null}function o9(e){let{manifest:t,routeModules:r}=DP(),[n,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return ZF(e,t,r).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,r]),n}function l9({page:e,matches:t,...r}){let n=ci(),{manifest:i,routeModules:s}=DP(),{basename:a}=RP(),{loaderData:o,matches:c}=i9(),d=E.useMemo(()=>j2(e,t,c,i,n,"data"),[e,t,c,i,n]),f=E.useMemo(()=>j2(e,t,c,i,n,"assets"),[e,t,c,i,n]),p=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let _=new Set,x=!1;if(t.forEach(w=>{var S;let A=i.routes[w.route.id];!A||!A.hasLoader||(!d.some(O=>O.route.id===w.route.id)&&w.route.id in o&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||A.hasClientLoader?x=!0:_.add(w.route.id))}),_.size===0)return[];let b=XF(e,a,"data");return x&&_.size>0&&b.searchParams.set("_routes",t.filter(w=>_.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,o,n,i,d,t,e,s]),v=E.useMemo(()=>e9(f,i),[f,i]),g=o9(f);return E.createElement(E.Fragment,null,p.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),v.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),g.map(({key:_,link:x})=>E.createElement("link",{key:_,nonce:r.nonce,...x})))}function u9(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var LP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LP&&(window.__reactRouterVersion="7.9.5")}catch{}function c9({basename:e,children:t,window:r}){let n=E.useRef();n.current==null&&(n.current=ZB({window:r,v5Compat:!0}));let i=n.current,[s,a]=E.useState({action:i.action,location:i.location}),o=E.useCallback(c=>{E.startTransition(()=>a(c))},[a]);return E.useLayoutEffect(()=>i.listen(o),[i,o]),E.createElement(UF,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var MP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=E.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:c,to:d,preventScrollReset:f,viewTransition:p,...v},g){let{basename:_}=E.useContext(Ii),x=typeof d=="string"&&MP.test(d),b,w=!1;if(typeof d=="string"&&x&&(b=d,LP))try{let H=new URL(window.location.href),D=d.startsWith("//")?new URL(H.protocol+d):new URL(d),M=As(D.pathname,_);D.origin===H.origin&&M!=null?d=M+D.search+D.hash:w=!0}catch{Oi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=SF(d,{relative:i}),[S,O,j]=s9(n,v),N=p9(d,{replace:a,state:o,target:c,preventScrollReset:f,relative:i,viewTransition:p});function P(H){t&&t(H),H.defaultPrevented||N(H)}let R=E.createElement("a",{...v,...j,href:b||A,onClick:w||s?t:P,ref:u9(g,O),target:c,"data-discover":!x&&r==="render"?"true":void 0});return S&&!x?E.createElement(E.Fragment,null,R,E.createElement(a9,{page:A})):R});sr.displayName="Link";var d9=E.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:c,...d},f){let p=Od(a,{relative:d.relative}),v=ci(),g=E.useContext(Pm),{navigator:_,basename:x}=E.useContext(Ii),b=g!=null&&b9(p)&&o===!0,w=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,A=v.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(A=A.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=As(S,x)||S);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=A===w||!i&&A.startsWith(w)&&A.charAt(O)==="/",N=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),P={isActive:j,isPending:N,isTransitioning:b},R=j?t:void 0,H;typeof n=="function"?H=n(P):H=[n,j?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(P):s;return E.createElement(sr,{...d,"aria-current":R,className:H,ref:f,style:D,to:a,viewTransition:o},typeof c=="function"?c(P):c)});d9.displayName="NavLink";var h9=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:a=tp,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...v},g)=>{let _=v9(),x=y9(o,{relative:d}),b=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&MP.test(o),A=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,j=(O==null?void 0:O.getAttribute("formmethod"))||a;_(O||S.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return E.createElement("form",{ref:g,method:b,action:x,onSubmit:n?c:A,...v,"data-discover":!w&&e==="render"?"true":void 0})});h9.displayName="Form";function f9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BP(e){let t=E.useContext(iu);return Mt(t,f9(e)),t}function p9(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=ft(),c=ci(),d=Od(e,{relative:s});return E.useCallback(f=>{if(VF(f,t)){f.preventDefault();let p=r!==void 0?r:ad(c)===ad(d);o(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[c,o,d,r,n,t,e,i,s,a])}var m9=0,g9=()=>`__${String(++m9)}__`;function v9(){let{router:e}=BP("useSubmit"),{basename:t}=E.useContext(Ii),r=MF();return E.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:c,body:d}=KF(n,t);if(i.navigate===!1){let f=i.fetcherKey||g9();await e.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function y9(e,{relative:t}={}){let{basename:r}=E.useContext(Ii),n=E.useContext(Ri);Mt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Od(e||".",{relative:t})},a=ci();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ts([r,s.pathname])),ad(s)}function b9(e,{relative:t}={}){let r=E.useContext(AP);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=BP("useViewTransitionState"),i=Od(e,{relative:t});if(!r.isTransitioning)return!1;let s=As(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=As(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fp(i.pathname,a)!=null||fp(i.pathname,s)!=null}var FP=EP(),ue=typeof window<"u"?window:void 0,jr=typeof globalThis<"u"?globalThis:ue;typeof self>"u"&&(jr.self=jr),typeof File>"u"&&(jr.File=function(){});var $P=Array.prototype,O2=$P.forEach,P2=$P.indexOf,Mn=jr==null?void 0:jr.navigator,Ae=jr==null?void 0:jr.document,vn=jr==null?void 0:jr.location,r1=jr==null?void 0:jr.fetch,n1=jr!=null&&jr.XMLHttpRequest&&"withCredentials"in new jr.XMLHttpRequest?jr.XMLHttpRequest:void 0,I2=jr==null?void 0:jr.AbortController,mn=Mn==null?void 0:Mn.userAgent,et=ue??{},ms={DEBUG:!1,LIB_VERSION:"1.302.2"};function R2(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(d){return void r(d)}o.done?t(c):Promise.resolve(c).then(n,i)}function D2(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(c){R2(s,n,i,a,o,"next",c)}function o(c){R2(s,n,i,a,o,"throw",c)}a(void 0)}))}}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pe.apply(null,arguments)}function UP(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _9=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],L2=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return _9.concat(t).some((n=>{var i=n.toLowerCase();return r.indexOf(i)!==-1}))},x9=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function st(e,t){return e.indexOf(t)!==-1}var Rm=function(e){return e.trim()},i1=function(e){return e.replace(/^\$/,"")},w9=Array.isArray,HP=Object.prototype,zP=HP.hasOwnProperty,Dm=HP.toString,xt=w9||function(e){return Dm.call(e)==="[object Array]"},ka=e=>typeof e=="function",_r=e=>e===Object(e)&&!xt(e),Nl=e=>{if(_r(e)){for(var t in e)if(zP.call(e,t))return!1;return!0}return!1},Se=e=>e===void 0,or=e=>Dm.call(e)=="[object String]",s1=e=>or(e)&&e.trim().length===0,Ls=e=>e===null,_t=e=>Se(e)||Ls(e),es=e=>Dm.call(e)=="[object Number]",Ta=e=>Dm.call(e)==="[object Boolean]",E9=e=>e instanceof FormData,k9=e=>st(x9,e);function a1(e){return e===null||typeof e!="object"}function pp(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function WP(e){return!Se(Event)&&(function(t,r){try{return t instanceof r}catch{return!1}})(e,Event)}var T9=[!0,"true",1,"1","yes"],Tv=e=>st(T9,e),S9=[!1,"false",0,"0","no"];function Yi(e,t,r,n,i){return t>r&&(n.warn("min cannot be greater than max."),t=r),es(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+i),Yi(i||r,t,r,n))}class C9{constructor(t){this.t={},this.i=t.i,this.o=Yi(t.bucketSize,0,100,t.h),this.m=Yi(t.refillRate,0,this.o,t.h),this.S=Yi(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,i=Math.floor(n/this.S);if(i>0){var s=i*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+i*this.S}}consumeRateLimit(t){var r,n=Date.now(),i=String(t),s=this.t[i];return s?this.$(s,n):(s={tokens:this.o,lastAccess:n},this.t[i]=s),s.tokens===0||(s.tokens--,s.tokens===0&&((r=this.i)==null||r.call(this,t)),s.tokens===0)}stop(){this.t={}}}var pf,M2,Sv,A9=e=>e instanceof Error;function N9(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return Sv&&r.length===M2||(M2=r.length,Sv=r.reduce(((n,i)=>{pf||(pf={});var s=pf[i];if(s)n[s[0]]=s[1];else for(var a=e(i),o=a.length-1;o>=0;o--){var c=a[o],d=c==null?void 0:c.filename,f=t[i];if(d&&f){n[d]=f,pf[i]=[d,f];break}}return n}),{})),Sv}}class j9{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(n,r,0).apply(t),s=this.buildParsingContext(),a=this.parseStacktrace(i,s);return{$exception_list:this.convertToExceptionList(a,n),$exception_level:"error"}}modifyFrames(t){var r=this;return D2((function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&xt(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t}))()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,i;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(i=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),Pe({},t,{cause:n,stack:i})}applyChunkIds(t,r){return t.map((n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n)))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return D2((function*(){var n=t;for(var i of r.modifiers)n=yield i(n);return n}))()}convertToExceptionList(t,r){var n,i,s,a={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(i=r.handled)===null||i===void 0||i,synthetic:(s=t.synthetic)!==null&&s!==void 0&&s}};t.stack&&(a.stacktrace={type:"raw",frames:t.stack});var o=[a];return t.cause!=null&&o.push(...this.convertToExceptionList(t.cause,Pe({},r,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:N9(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var i=(s,a)=>{if(a<=4){var o=this.buildCoercingContext(t,r,a);return this.applyCoercers(s,o)}};return Pe({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:s=>i(s,n),next:s=>i(s,n+1)})}}var Fl="?";function o1(e,t,r,n,i){var s={platform:e,filename:t,function:r==="<anonymous>"?Fl:r,in_app:!0};return Se(n)||(s.lineno=n),Se(i)||(s.colno=i),s}var qP=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Fl,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},O9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,P9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,I9=/\((\S*)(?::(\d+))(?::(\d+))\)/,R9=(e,t)=>{var r=O9.exec(e);if(r){var[,n,i,s]=r;return o1(t,n,Fl,+i,+s)}var a=P9.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){var o=I9.exec(a[2]);o&&(a[2]=o[1],a[3]=o[2],a[4]=o[3])}var[c,d]=qP(a[1]||Fl,a[2]);return o1(t,d,c,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},D9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,L9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,M9=(e,t)=>{var r=D9.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=L9.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var i=r[3],s=r[1]||Fl;return[s,i]=qP(s,i),o1(t,i,s,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},B2=/\(error: (.*)\)/,F2=50;function B9(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(i,s){s===void 0&&(s=0);for(var a=[],o=i.split(`
`),c=s;c<o.length;c++){var d=o[c];if(!(d.length>1024)){var f=B2.test(d)?d.replace(B2,"$1"):d;if(!f.match(/\S*Error: /)){for(var p of r){var v=p(f,e);if(v){a.push(v);break}}if(a.length>=F2)break}}}return(function(g){if(!g.length)return[];var _=Array.from(g);return _.reverse(),_.slice(0,F2).map((x=>{return Pe({},x,{filename:x.filename||(b=_,b[b.length-1]||{}).filename,function:x.function||Fl});var b}))})(a)}}class F9{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=or(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return pp(t,"DOMException")}isDOMError(t){return pp(t,"DOMError")}}class $9{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}class U9{constructor(){}match(t){return pp(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,i=r.apply(t.error);return i||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}var H9=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class z9{match(t){return typeof t=="string"}coerce(t,r){var n,[i,s]=this.getInfos(t);return{type:i??"Error",value:s??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,i=t.match(H9);return i&&(r=i[1],n=i[2]),[r,n]}}var W9=["fatal","error","warning","log","info","debug"];function VP(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length||i.length<=t?i:i.slice(0,t)+"..."}return""}class q9{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,i=this.getErrorPropertyFromObject(t);return i?r.apply(i):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return WP(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+VP(t)}isSeverityLevel(t){return or(t)&&!s1(t)&&W9.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(A9(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class V9{match(t){return WP(t)}coerce(t,r){var n,i=t.constructor.name;return{type:i,value:i+" captured as exception with keys: "+VP(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class G9{match(t){return a1(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class Y9{match(t){return pp(t,"PromiseRejectionEvent")}coerce(t,r){var n,i=this.getUnhandledRejectionReason(t);return a1(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(i)}getUnhandledRejectionReason(t){if(a1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}}var GP=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(i){if(ue&&(ms.DEBUG||et.POSTHOG_DEBUG||r)&&!Se(ue.console)&&ue.console){for(var s=("__rrweb_original__"in ue.console[i])?ue.console[i].__rrweb_original__:ue.console[i],a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];s(e,...o)}},info:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("log",...s)},warn:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("warn",...s)},error:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("error",...s)},critical:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];console.error(e,...s)},uninitializedWarning:i=>{n.error("You must initialize PostHog before calling "+i)},createLogger:(i,s)=>GP(e+" "+i,s)};return n},Ne=GP("[PostHog.js]"),lr=Ne.createLogger,K9=lr("[ExternalScriptsLoader]"),$2=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return K9.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=Ae==null?void 0:Ae.querySelectorAll("script");if(n){for(var i,s=function(){if(n[a].src===t){var c=n[a];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",(d=>{c.__posthog_loading_callback_fired=!0,r(void 0,d)})),c.onerror=d=>r(d),{v:void 0})}},a=0;a<n.length;a++)if(i=s())return i.v}var o=()=>{if(!Ae)return r("document not found");var c=Ae.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=p=>{c.__posthog_loading_callback_fired=!0,r(void 0,p)},c.onerror=p=>r(p),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var d,f=Ae.querySelectorAll("body > script");f.length>0?(d=f[0].parentNode)==null||d.insertBefore(c,f[0]):Ae.body.appendChild(c)};Ae!=null&&Ae.body?o():Ae==null||Ae.addEventListener("DOMContentLoaded",o)};et.__PosthogExtensions__=et.__PosthogExtensions__||{},et.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;n=n+"&t="+Math.floor(Date.now()/i)*i}var s=e.requestRouter.endpointFor("assets",n);$2(e,s,r)},et.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);$2(e,n,r)};var mp={};function Sa(e,t,r){if(xt(e)){if(O2&&e.forEach===O2)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n)===mp)return}}}function At(e,t,r){if(!_t(e)){if(xt(e))return Sa(e,t,r);if(E9(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===mp)return}else for(var i in e)if(zP.call(e,i)&&t.call(r,e[i],i)===mp)return}}var Yt=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Sa(r,(function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])})),e},au=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Sa(r,(function(i){Sa(i,(function(s){e.push(s)}))})),e};function np(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var U2=function(e){try{return e()}catch{return}},X9=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(i){Ne.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ne.critical(i)}}},cx=function(e){var t={};return At(e,(function(r,n){(or(r)&&r.length>0||es(r))&&(t[n]=r)})),t};function Q9(e,t){return r=e,n=s=>or(s)&&!Ls(t)?s.slice(0,t):s,i=new Set,(function s(a,o){return a!==Object(a)?n?n(a,o):a:i.has(a)?void 0:(i.add(a),xt(a)?(c=[],Sa(a,(d=>{c.push(s(d))}))):(c={},At(a,((d,f)=>{i.has(d)||(c[f]=s(d,f))}))),c);var c})(r);var r,n,i}var J9=["herokuapp.com","vercel.app","netlify.app"];function Z9(e){var t=e==null?void 0:e.hostname;if(!or(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of J9)if(r===n)return!1;return!0}function YP(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Zt(e,t,r,n){var{capture:i=!1,passive:s=!0}=n??{};e==null||e.addEventListener(t,r,{capture:i,passive:s})}var KP="$people_distinct_id",Rc="__alias",Dc="__timers",H2="$autocapture_disabled_server_side",l1="$heatmaps_enabled_server_side",z2="$exception_capture_enabled_server_side",u1="$error_tracking_suppression_rules",W2="$error_tracking_capture_extension_exceptions",q2="$web_vitals_enabled_server_side",XP="$dead_clicks_enabled_server_side",V2="$web_vitals_allowed_metrics",Cv="$session_recording_remote_config",gp="$sesid",QP="$session_is_sampled",jl="$enabled_feature_flags",Lc="$early_access_features",c1="$feature_flag_details",Mc="$stored_person_properties",so="$stored_group_properties",d1="$surveys",mf="$surveys_activated",vp="$flag_call_reported",gs="$user_state",h1="$client_session_props",f1="$capture_rate_limit",p1="$initial_campaign_params",m1="$initial_referrer_info",yp="$initial_person_info",bp="$epp",JP="__POSTHOG_TOOLBAR__",dc="$posthog_cookieless",e$=[KP,Rc,"__cmpns",Dc,"$session_recording_enabled_server_side",l1,gp,jl,u1,gs,Lc,c1,so,Mc,d1,vp,h1,f1,p1,m1,bp,yp];function G2(e){return e instanceof Element&&(e.id===JP||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Lm(e){return!!e&&e.nodeType===1}function Ca(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function ZP(e){return!!e&&e.nodeType===3}function eI(e){return!!e&&e.nodeType===11}function dx(e){return e?Rm(e).split(/\s+/):[]}function Y2(e){var t=ue==null?void 0:ue.location.href;return!!(t&&e&&e.some((r=>t.match(r))))}function _p(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return dx(t)}function tI(e){return _t(e)?null:Rm(e).split(/(\s+)/).filter((t=>od(t))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Pd(e){var t="";return g1(e)&&!aI(e)&&e.childNodes&&e.childNodes.length&&At(e.childNodes,(function(r){var n;ZP(r)&&r.textContent&&(t+=(n=tI(r.textContent))!==null&&n!==void 0?n:"")})),Rm(t)}function rI(e){return Se(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var hx=["a","button","form","input","select","textarea","label"];function nI(e,t){if(Se(t))return!0;var r,n=function(s){if(t.some((a=>s.matches(a))))return{v:!0}};for(var i of e)if(r=n(i))return r.v;return!1}function iI(e){var t=e.parentNode;return!(!t||!Lm(t))&&t}var t$=["next","previous","prev",">","<"],K2=10,X2=[".ph-no-rageclick",".ph-no-capture"];function r$(e,t){if(!ue||fx(e))return!1;var r,n,i;if(Ta(t)?(r=!!t&&X2,n=void 0):(r=(i=t==null?void 0:t.css_selector_ignorelist)!==null&&i!==void 0?i:X2,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:s}=sI(e,!1);return!(function(a,o){if(a===!1||Se(a))return!1;var c;if(a===!0)c=t$;else{if(!xt(a))return!1;if(a.length>K2)return Ne.error("[PostHog] content_ignorelist array cannot exceed "+K2+" items. Use css_selector_ignorelist for more complex matching."),!1;c=a.map((d=>d.toLowerCase()))}return o.some((d=>{var{safeText:f,ariaLabel:p}=d;return c.some((v=>f.includes(v)||p.includes(v)))}))})(n,s.map((a=>{var o;return{safeText:Pd(a).toLowerCase(),ariaLabel:((o=a.getAttribute("aria-label"))==null?void 0:o.toLowerCase().trim())||""}})))&&!nI(s,r)}var fx=e=>!e||Ca(e,"html")||!Lm(e),sI=(e,t)=>{if(!ue||fx(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],i=e;i.parentNode&&!Ca(i,"body");)if(eI(i.parentNode))n.push(i.parentNode.host),i=i.parentNode.host;else{var s=iI(i);if(!s)break;if(t||hx.indexOf(s.tagName.toLowerCase())>-1)r=!0;else{var a=ue.getComputedStyle(s);a&&a.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(s),i=s}return{parentIsUsefulElement:r,targetElementList:n}};function n$(e,t,r,n,i){var s,a,o,c;if(r===void 0&&(r=void 0),!ue||fx(e)||(s=r)!=null&&s.url_allowlist&&!Y2(r.url_allowlist)||(a=r)!=null&&a.url_ignorelist&&Y2(r.url_ignorelist))return!1;if((o=r)!=null&&o.dom_event_allowlist){var d=r.dom_event_allowlist;if(d&&!d.some((_=>t.type===_)))return!1}var{parentIsUsefulElement:f,targetElementList:p}=sI(e,n);if(!(function(_,x){var b=x==null?void 0:x.element_allowlist;if(Se(b))return!0;var w,A=function(O){if(b.some((j=>O.tagName.toLowerCase()===j)))return{v:!0}};for(var S of _)if(w=A(S))return w.v;return!1})(p,r)||!nI(p,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var v=ue.getComputedStyle(e);if(v&&v.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return f?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(hx.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function g1(e){for(var t=e;t.parentNode&&!Ca(t,"body");t=t.parentNode){var r=_p(t);if(st(r,"ph-sensitive")||st(r,"ph-no-capture"))return!1}if(st(_p(e),"ph-include"))return!0;var n=e.type||"";if(or(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(or(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function aI(e){return!!(Ca(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Ca(e,"select")||Ca(e,"textarea")||e.getAttribute("contenteditable")==="true")}var oI="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",i$=new RegExp("^(?:"+oI+")$"),s$=new RegExp(oI),lI="\\d{3}-?\\d{2}-?\\d{4}",a$=new RegExp("^("+lI+")$"),o$=new RegExp("("+lI+")");function od(e,t){return t===void 0&&(t=!0),!(_t(e)||or(e)&&(e=Rm(e),(t?i$:s$).test((e||"").replace(/[- ]/g,""))||(t?a$:o$).test(e)))}function uI(e){var t=Pd(e);return od(t=(t+" "+cI(e)).trim())?t:""}function cI(e){var t="";return e&&e.childNodes&&e.childNodes.length&&At(e.childNodes,(function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var i=Pd(r);t=(t+" "+i).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+cI(r)).trim())}catch(s){Ne.error("[AutoCapture]",s)}})),t}function l$(e){return(function(t){var r=t.map((n=>{var i,s,a="";if(n.tag_name&&(a+=n.tag_name),n.attr_class)for(var o of(n.attr_class.sort(),n.attr_class))a+="."+o.replace(/"/g,"");var c=Pe({},n.text?{text:n.text}:{},{"nth-child":(i=n.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),d={};return np(c).sort(((f,p)=>{var[v]=f,[g]=p;return v.localeCompare(g)})).forEach((f=>{var[p,v]=f;return d[Q2(p.toString())]=Q2(v.toString())})),a+=":",a+=np(d).map((f=>{var[p,v]=f;return p+'="'+v+'"'})).join("")}));return r.join(";")})((function(t){return t.map((r=>{var n,i,s={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(i=r.attr__href)==null?void 0:i.slice(0,2048),attr_class:u$(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return np(r).filter((a=>{var[o]=a;return o.indexOf("attr__")===0})).forEach((a=>{var[o,c]=a;return s.attributes[o]=c})),s}))})(e))}function Q2(e){return e.replace(/"|\\"/g,'\\"')}function u$(e){var t=e.attr__class;return t?xt(t)?t:dx(t):void 0}class dI{constructor(t){this.disabled=t===!1;var r=_r(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(r-i.y)<this.thresholdPx&&n-i.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}}var Av="$copy_autocapture",bs=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),xp=e=>{var t=Ae==null?void 0:Ae.createElement("a");return Se(t)?null:(t.href=e,t)},c$=function(e,t){var r,n;t===void 0&&(t="&");var i=[];return At(e,(function(s,a){Se(s)||Se(a)||a==="undefined"||(r=encodeURIComponent((o=>o instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(a),i[i.length]=n+"="+r)})),i.join(t)},wp=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===t){r=s;break}}if(!xt(r)||r.length<2)return"";var a=r[1];try{a=decodeURIComponent(a)}catch{Ne.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Id=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),i=n[0]||"",s=n[1],a=i.split("?"),o=a[1],c=a[0],d=(o||"").split("&"),f=[],p=0;p<d.length;p++){var v=d[p].split("=");xt(v)&&(t.includes(v[0])?f.push(v[0]+"="+r):f.push(d[p]))}var g=c;return o!=null&&(g+="?"+f.join("&")),s!=null&&(g+="#"+s),g},Ep=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},J2=lr("[AutoCapture]");function Nv(e,t){return t.length>e?t.slice(0,e)+"...":t}function d$(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Lm(t));return t}function h$(e,t,r,n){var i=e.tagName.toLowerCase(),s={tag_name:i};hx.indexOf(i)>-1&&!r&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Nv(1024,uI(e)):s.$el_text=Nv(1024,Pd(e)));var a=_p(e);a.length>0&&(s.classes=a.filter((function(f){return f!==""}))),At(e.attributes,(function(f){var p;if((!aI(e)||["name","id","class","aria-label"].indexOf(f.name)!==-1)&&(n==null||!n.includes(f.name))&&!t&&od(f.value)&&(p=f.name,!or(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var v=f.value;f.name==="class"&&(v=dx(v).join(" ")),s["attr__"+f.name]=Nv(1024,v)}}));for(var o=1,c=1,d=e;d=d$(d);)o++,d.tagName===e.tagName&&c++;return s.nth_child=o,s.nth_of_type=c,s}function f$(e,t){for(var r,n,{e:i,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:c}=t,d=[e],f=e;f.parentNode&&!Ca(f,"body");)eI(f.parentNode)?(d.push(f.parentNode.host),f=f.parentNode.host):(d.push(f.parentNode),f=f.parentNode);var p,v=[],g={},_=!1,x=!1;if(At(d,(O=>{var j=g1(O);O.tagName.toLowerCase()==="a"&&(_=O.getAttribute("href"),_=j&&_&&od(_)&&_),st(_p(O),"ph-no-capture")&&(x=!0),v.push(h$(O,s,a,o));var N=(function(P){if(!g1(P))return{};var R={};return At(P.attributes,(function(H){if(H.name&&H.name.indexOf("data-ph-capture-attribute")===0){var D=H.name.replace("data-ph-capture-attribute-",""),M=H.value;D&&M&&od(M)&&(R[D]=M)}})),R})(O);Yt(g,N)})),x)return{props:{},explicitNoCapture:x};if(a||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=uI(e):v[0].$el_text=Pd(e)),_){var b,w;v[0].attr__href=_;var A=(b=xp(_))==null?void 0:b.host,S=ue==null||(w=ue.location)==null?void 0:w.host;A&&S&&A!==S&&(p=_)}return{props:Yt({$event_type:i.type,$ce_version:1},c?{}:{$elements:v},{$elements_chain:l$(v)},(r=v[0])!=null&&r.$el_text?{$el_text:(n=v[0])==null?void 0:n.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},g)}}class p${constructor(t){this.P=!1,this.T=null,this.R=!1,this.instance=t,this.rageclicks=new dI(t.config.rageclick),this.I=null}get F(){var t,r,n=_r(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map((i=>new RegExp(i))),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map((i=>new RegExp(i))),n}C(){if(this.isBrowserSupported()){if(ue&&Ae){var t=n=>{n=n||(ue==null?void 0:ue.event);try{this.M(n)}catch(i){J2.error("Failed to capture event",i)}};if(Zt(Ae,"submit",t,{capture:!0}),Zt(Ae,"change",t,{capture:!0}),Zt(Ae,"click",t,{capture:!0}),this.F.capture_copied_text){var r=n=>{n=n||(ue==null?void 0:ue.event),this.M(n,Av)};Zt(Ae,"copy",r,{capture:!0}),Zt(Ae,"cut",r,{capture:!0})}}}else J2.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.R=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[H2]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.I=t}getElementSelectors(t){var r,n=[];return(r=this.I)==null||r.forEach((i=>{var s=Ae==null?void 0:Ae.querySelectorAll(i);s==null||s.forEach((a=>{t===a&&n.push(i)}))})),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[H2],i=this.T;if(Ls(i)&&!Ta(n)&&!this.instance.O())return!1;var s=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!s}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,i=rI(t);ZP(i)&&(i=i.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&r$(i,this.instance.config.rageclick)&&this.M(t,"$rageclick");var s=r===Av;if(i&&n$(i,t,this.F,s,s?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=f$(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.R});if(o)return!1;var c=this.getElementSelectors(i);if(c&&c.length>0&&(a.$element_selectors=c),r===Av){var d,f=tI(ue==null||(d=ue.getSelection())==null?void 0:d.toString()),p=t.type||"clipboard";if(!f)return!1;a.$selected_content=f,a.$copy_type=p}return this.instance.capture(r,a),!0}}}isBrowserSupported(){return ka(Ae==null?void 0:Ae.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return es(e)&&isFinite(e)&&Math.floor(e)===e});var Z2="0123456789abcdef";class kp{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,i){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(i)||t<0||r<0||n<0||i<0||t>0xffffffffffff||r>4095||n>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new kp(s)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+Z2.charAt(this.bytes[r]>>>4)+Z2.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new kp(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class m${constructor(){this.A=0,this.D=0,this.j=new g$}generate(){var t=this.generateOrAbort();if(Se(t)){this.A=0;var r=this.generateOrAbort();if(Se(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return kp.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var eS,hI=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ue&&!Se(ue.crypto)&&crypto.getRandomValues&&(hI=e=>crypto.getRandomValues(e));class g${constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(hI(this.N),this.U=0),this.N[this.U++]}}var wa=()=>v$().toString(),v$=()=>(eS||(eS=new m$)).generate(),hc="",y$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function b$(e,t){if(t){var r=(function(i,s){if(s===void 0&&(s=Ae),hc)return hc;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var a=i.split("."),o=Math.min(a.length,8),c="dmn_chk_"+wa();!hc&&o--;){var d=a.slice(o).join("."),f=c+"=1;domain=."+d+";path=/";s.cookie=f+";max-age=3",s.cookie.includes(c)&&(s.cookie=f+";max-age=0",hc=d)}return hc})(e);if(!r){var n=(i=>{var s=i.match(y$);return s?s[0]:""})(e);n!==r&&Ne.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Ji={H:()=>!!Ae,B:function(e){Ne.error("cookieStore error: "+e)},q:function(e){if(Ae){try{for(var t=e+"=",r=Ae.cookie.split(";").filter((s=>s.length)),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Ji.q(e))||{}}catch{}return t},G:function(e,t,r,n,i){if(Ae)try{var s="",a="",o=b$(Ae.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),s="; expires="+c.toUTCString()}i&&(a="; secure");var d=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+o+a;return d.length>3686.4&&Ne.warn("cookieStore warning: large cookie, len="+d.length),Ae.cookie=d,d}catch{return}},V:function(e,t){if(Ae!=null&&Ae.cookie)try{Ji.G(e,"",-1,t)}catch{return}}},jv=null,zt={H:function(){if(!Ls(jv))return jv;var e=!0;if(Se(ue))e=!1;else try{var t="__mplssupport__";zt.G(t,"xyz"),zt.q(t)!=='"xyz"'&&(e=!1),zt.V(t)}catch{e=!1}return e||Ne.error("localStorage unsupported; falling back to cookie store"),jv=e,e},B:function(e){Ne.error("localStorage error: "+e)},q:function(e){try{return ue==null?void 0:ue.localStorage.getItem(e)}catch(t){zt.B(t)}return null},W:function(e){try{return JSON.parse(zt.q(e))||{}}catch{}return null},G:function(e,t){try{ue==null||ue.localStorage.setItem(e,JSON.stringify(t))}catch(r){zt.B(r)}},V:function(e){try{ue==null||ue.localStorage.removeItem(e)}catch(t){zt.B(t)}}},_$=["distinct_id",gp,QP,bp,yp],gf=Pe({},zt,{W:function(e){try{var t={};try{t=Ji.W(e)||{}}catch{}var r=Yt(t,JSON.parse(zt.q(e)||"{}"));return zt.G(e,r),r}catch{}return null},G:function(e,t,r,n,i,s){try{zt.G(e,t,void 0,void 0,s);var a={};_$.forEach((o=>{t[o]&&(a[o]=t[o])})),Object.keys(a).length&&Ji.G(e,a,r,n,i,s)}catch(o){zt.B(o)}},V:function(e,t){try{ue==null||ue.localStorage.removeItem(e),Ji.V(e,t)}catch(r){zt.B(r)}}}),vf={},x$={H:function(){return!0},B:function(e){Ne.error("memoryStorage error: "+e)},q:function(e){return vf[e]||null},W:function(e){return vf[e]||null},G:function(e,t){vf[e]=t},V:function(e){delete vf[e]}},Za=null,Ar={H:function(){if(!Ls(Za))return Za;if(Za=!0,Se(ue))Za=!1;else try{var e="__support__";Ar.G(e,"xyz"),Ar.q(e)!=='"xyz"'&&(Za=!1),Ar.V(e)}catch{Za=!1}return Za},B:function(e){Ne.error("sessionStorage error: ",e)},q:function(e){try{return ue==null?void 0:ue.sessionStorage.getItem(e)}catch(t){Ar.B(t)}return null},W:function(e){try{return JSON.parse(Ar.q(e))||null}catch{}return null},G:function(e,t){try{ue==null||ue.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Ar.B(r)}},V:function(e){try{ue==null||ue.sessionStorage.removeItem(e)}catch(t){Ar.B(t)}}},vs=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class w${constructor(t){this._instance=t}get F(){return this._instance.config}get consent(){return this.J()?vs.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===vs.DENIED||this.consent===vs.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===vs.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return Tv(t)?vs.GRANTED:st(S9,t)?vs.DENIED:vs.PENDING}get Y(){if(!this.Z){var t=this.F.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?zt:Ji;var r=t==="localStorage"?Ji:zt;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(Tv(r.q(this.X))),r.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!YP([Mn==null?void 0:Mn.doNotTrack,Mn==null?void 0:Mn.msDoNotTrack,et.doNotTrack],(t=>Tv(t)))}}var yf=lr("[Dead Clicks]"),E$=()=>!0,k$=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(XP)),n=e.instance.config.capture_dead_clicks;return Ta(n)?n:!!_r(n)||r};class fI{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[XP]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?yf.error("failed to load script",i):t()}))}et(){var t;if(Ae){if(!this.tt&&(t=et.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=_r(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=et.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(Ae),yf.info("starting...")}}else yf.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,yf.info("stopping..."))}}var fc=lr("[ExceptionAutocapture]");class T${constructor(t){var r,n,i;this.rt=()=>{var s;if(ue&&this.isEnabled&&(s=et.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var a=et.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,o=et.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=et.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=a(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=o(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(d){fc.error("failed to start",d),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[z2]),this.F=this.ht(),this.vt=new C9({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:fc}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return _r(t)?r=Pe({},r,t):(Se(t)?this.ut:t)&&(r=Pe({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(fc.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return fc.error("failed to load script",i);t()}))}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[z2]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,i=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.vt.consumeRateLimit(i)?fc.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(t)}}function tS(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],i=r(n);return ka(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}class S${constructor(t){var r;this._instance=t,this.dt=(ue==null||(r=ue.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Ne.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Ne.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(ue&&ue.history){var n=this;(t=ue.history.pushState)!=null&&t.__posthog_wrapped__||tS(ue.history,"pushState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("pushState")})),(r=ue.history.replaceState)!=null&&r.__posthog_wrapped__||tS(ue.history,"replaceState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("replaceState")})),this.gt()}}ft(t){try{var r,n=ue==null||(r=ue.location)==null?void 0:r.pathname;if(!n)return;n!==this.dt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.dt=n}catch(i){Ne.error("Error capturing "+t+" pageview",i)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};Zt(ue,"popstate",t),this.ct=()=>{ue&&ue.removeEventListener("popstate",t)}}}}var Ov=lr("[SegmentIntegration]");function C$(e,t){var r=e.config.segment;if(!r)return t();(function(n,i){var s=n.config.segment;if(!s)return i();var a=c=>{var d=()=>c.anonymousId()||wa();n.config.get_device_id=d,c.id()&&(n.register({distinct_id:c.id(),$device_id:d()}),n.persistence.set_property(gs,"identified")),i()},o=s.user();"then"in o&&ka(o.then)?o.then((c=>a(c))):a(o)})(e,(()=>{r.register((n=>{Promise&&Promise.resolve||Ov.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,a)=>{if(!a)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(Ov.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(Ov.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var o=n.calculateEventProperties(a,s.event.properties);return s.event.properties=Object.assign({},o,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then((()=>{t()}))}))}var pI="posthog-js";function mI(e,t){var{organization:r,projectId:n,prefix:i,severityAllowList:s=["error"],sendExceptionsToPostHog:a=!0}=t===void 0?{}:t;return o=>{var c,d,f,p,v;if(!(s==="*"||s.includes(o.level))||!e.__loaded)return o;o.tags||(o.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());o.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var _=((c=o.exception)==null?void 0:c.values)||[],x=_.map((w=>Pe({},w,{stacktrace:w.stacktrace?Pe({},w.stacktrace,{type:"raw",frames:(w.stacktrace.frames||[]).map((A=>Pe({},A,{platform:"web:javascript"})))}):void 0}))),b={$exception_message:((d=_[0])==null?void 0:d.value)||o.message,$exception_type:(f=_[0])==null?void 0:f.type,$exception_level:o.level,$exception_list:x,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((p=_[0])==null?void 0:p.value)||o.message,$sentry_exception_type:(v=_[0])==null?void 0:v.type,$sentry_tags:o.tags};return r&&n&&(b.$sentry_url=(i||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+o.event_id),a&&e.exceptions.sendExceptionEvent(b),o}}class A${constructor(t,r,n,i,s,a){this.name=pI,this.setupOnce=function(o){o(mI(t,{organization:r,projectId:n,prefix:i,severityAllowList:s,sendExceptionsToPostHog:a==null||a}))}}}var N$=ue!=null&&ue.location?Ep(ue.location.hash,"__posthog")||Ep(location.hash,"state"):null,rS="_postHogToolbarParams",nS=lr("[Toolbar]"),pa=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(pa||{});class j${constructor(t){this.instance=t}_t(t){et.ph_toolbar_state=t}yt(){var t;return(t=et.ph_toolbar_state)!==null&&t!==void 0?t:pa.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!ue||!Ae)return!1;t=t??ue.location,n=n??ue.history;try{if(!r){try{ue.localStorage.setItem("test","test"),ue.localStorage.removeItem("test")}catch{return!1}r=ue==null?void 0:ue.localStorage}var i,s=N$||Ep(t.hash,"__posthog")||Ep(t.hash,"state"),a=s?U2((()=>JSON.parse(atob(decodeURIComponent(s)))))||U2((()=>JSON.parse(decodeURIComponent(s)))):null;return a&&a.action==="ph_authorize"?((i=a).source="url",i&&Object.keys(i).length>0&&(a.desiredHash?t.hash=a.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((i=JSON.parse(r.getItem(rS)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}bt(t){var r=et.ph_load_toolbar||et.ph_load_editor;!_t(r)&&ka(r)?r(t,this.instance):nS.warn("No toolbar load function found")}loadToolbar(t){var r=!(Ae==null||!Ae.getElementById(JP));if(!ue||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Pe({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ue.localStorage.setItem(rS,JSON.stringify(Pe({},i,{source:void 0}))),this.yt()===pa.LOADED)this.bt(i);else if(this.yt()===pa.UNINITIALIZED){var s;this._t(pa.LOADING),(s=et.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",(a=>{if(a)return nS.error("[Toolbar] Failed to load",a),void this._t(pa.UNINITIALIZED);this._t(pa.LOADED),this.bt(i)})),Zt(ue,"turbolinks:load",(()=>{this._t(pa.UNINITIALIZED),this.loadToolbar(i)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var O$=lr("[TracingHeaders]");class P${constructor(t){this.xt=void 0,this.St=void 0,this.rt=()=>{var r,n;Se(this.xt)&&((r=et.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Se(this.St)&&((n=et.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return O$.error("failed to load script",i);t()}))}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.St)==null||r.call(this),this.xt=void 0,this.St=void 0)}}var ni="Mobile",Tp="iOS",Ki="Android",ld="Tablet",gI=Ki+" "+ld,vI="iPad",yI="Apple",bI=yI+" Watch",ud="Safari",$l="BlackBerry",_I="Samsung",xI=_I+"Browser",wI=_I+" Internet",ko="Chrome",I$=ko+" OS",EI=ko+" "+Tp,px="Internet Explorer",kI=px+" "+ni,mx="Opera",R$=mx+" Mini",gx="Edge",TI="Microsoft "+gx,Il="Firefox",SI=Il+" "+Tp,cd="Nintendo",dd="PlayStation",Rl="Xbox",CI=Ki+" "+ni,AI=ni+" "+ud,Bc="Windows",v1=Bc+" Phone",iS="Nokia",y1="Ouya",NI="Generic",D$=NI+" "+ni.toLowerCase(),jI=NI+" "+ld.toLowerCase(),b1="Konqueror",Xr="(\\d+(\\.\\d+)?)",Pv=new RegExp("Version/"+Xr),L$=new RegExp(Rl,"i"),M$=new RegExp(dd+" \\w+","i"),B$=new RegExp(cd+" \\w+","i"),vx=new RegExp($l+"|PlayBook|BB10","i"),F$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},$$=(e,t)=>t&&st(t,yI)||(function(r){return st(r,ud)&&!st(r,ko)&&!st(r,Ki)})(e),OI=function(e,t){return t=t||"",st(e," OPR/")&&st(e,"Mini")?R$:st(e," OPR/")?mx:vx.test(e)?$l:st(e,"IE"+ni)||st(e,"WPDesktop")?kI:st(e,xI)?wI:st(e,gx)||st(e,"Edg/")?TI:st(e,"FBIOS")?"Facebook "+ni:st(e,"UCWEB")||st(e,"UCBrowser")?"UC Browser":st(e,"CriOS")?EI:st(e,"CrMo")||st(e,ko)?ko:st(e,Ki)&&st(e,ud)?CI:st(e,"FxiOS")?SI:st(e.toLowerCase(),b1.toLowerCase())?b1:$$(e,t)?st(e,ni)?AI:ud:st(e,Il)?Il:st(e,"MSIE")||st(e,"Trident/")?px:st(e,"Gecko")?Il:""},U$={[kI]:[new RegExp("rv:"+Xr)],[TI]:[new RegExp(gx+"?\\/"+Xr)],[ko]:[new RegExp("("+ko+"|CrMo)\\/"+Xr)],[EI]:[new RegExp("CriOS\\/"+Xr)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Xr)],[ud]:[Pv],[AI]:[Pv],[mx]:[new RegExp("(Opera|OPR)\\/"+Xr)],[Il]:[new RegExp(Il+"\\/"+Xr)],[SI]:[new RegExp("FxiOS\\/"+Xr)],[b1]:[new RegExp("Konqueror[:/]?"+Xr,"i")],[$l]:[new RegExp($l+" "+Xr),Pv],[CI]:[new RegExp("android\\s"+Xr,"i")],[wI]:[new RegExp(xI+"\\/"+Xr)],[px]:[new RegExp("(rv:|MSIE )"+Xr)],Mozilla:[new RegExp("rv:"+Xr)]},H$=function(e,t){var r=OI(e,t),n=U$[r];if(Se(n))return null;for(var i=0;i<n.length;i++){var s=n[i],a=e.match(s);if(a)return parseFloat(a[a.length-2])}return null},sS=[[new RegExp(Rl+"; "+Rl+" (.*?)[);]","i"),e=>[Rl,e&&e[1]||""]],[new RegExp(cd,"i"),[cd,""]],[new RegExp(dd,"i"),[dd,""]],[vx,[$l,""]],[new RegExp(Bc,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[v1,""];if(new RegExp(ni).test(t)&&!/IEMobile\b/.test(t))return[Bc+" "+ni,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],i=F$[n]||"";return/arm/i.test(t)&&(i="RT"),[Bc,i]}return[Bc,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Tp,t.join(".")]}return[Tp,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Se(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Ki+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ki+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Ki,t.join(".")]}return[Ki,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[I$,""]],[/Linux|debian/i,["Linux",""]]],aS=function(e){return B$.test(e)?cd:M$.test(e)?dd:L$.test(e)?Rl:new RegExp(y1,"i").test(e)?y1:new RegExp("("+v1+"|WPDesktop)","i").test(e)?v1:/iPad/.test(e)?vI:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?bI:vx.test(e)?$l:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(iS,"i").test(e)?iS:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(ni).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ki:gI:Ki:new RegExp("(pda|"+ni+")","i").test(e)?D$:new RegExp(ld,"i").test(e)&&!new RegExp(ld+" pc","i").test(e)?jI:""},bf="https?://(.*)",ou=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],z$=au(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],ou),Rd="<masked>",W$=["li_fat_id"];function PI(e,t,r){if(!Ae)return{};var n,i=t?au([],ou,r||[]):[],s=II(Id(Ae.URL,i,Rd),e),a=(n={},At(W$,(function(o){var c=Ji.q(o);n[o]=c||null})),n);return Yt(a,s)}function II(e,t){var r=z$.concat(t||[]),n={};return At(r,(function(i){var s=wp(e,i);n[i]=s||null})),n}function RI(e){var t=(function(s){return s?s.search(bf+"google.([^/?]*)")===0?"google":s.search(bf+"bing.com")===0?"bing":s.search(bf+"yahoo.com")===0?"yahoo":s.search(bf+"duckduckgo.com")===0?"duckduckgo":null:null})(e),r=t!="yahoo"?"q":"p",n={};if(!Ls(t)){n.$search_engine=t;var i=Ae?wp(Ae.referrer,r):"";i.length&&(n.ph_keyword=i)}return n}function oS(){return navigator.language||navigator.userLanguage}function DI(){return(Ae==null?void 0:Ae.referrer)||"$direct"}function LI(e,t){var r=e?au([],ou,t||[]):[],n=vn==null?void 0:vn.href.substring(0,1e3);return{r:DI().substring(0,1e3),u:n?Id(n,r,Rd):void 0}}function MI(e){var t,{r,u:n}=e,i={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=xp(r))==null?void 0:t.host};if(n){i.$current_url=n;var s=xp(n);i.$host=s==null?void 0:s.host,i.$pathname=s==null?void 0:s.pathname;var a=II(n);Yt(i,a)}if(r){var o=RI(r);Yt(i,o)}return i}function BI(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function q$(){try{return new Date().getTimezoneOffset()}catch{return}}function V$(e,t){if(!mn)return{};var r,n,i,s=e?au([],ou,t||[]):[],[a,o]=(function(c){for(var d=0;d<sS.length;d++){var[f,p]=sS[d],v=f.exec(c),g=v&&(ka(p)?p(v,c):p);if(g)return g}return["",""]})(mn);return Yt(cx({$os:a,$os_version:o,$browser:OI(mn,navigator.vendor),$device:aS(mn),$device_type:(n=mn,i=aS(n),i===vI||i===gI||i==="Kobo"||i==="Kindle Fire"||i===jI?ld:i===cd||i===Rl||i===dd||i===y1?"Console":i===bI?"Wearable":i?ni:"Desktop"),$timezone:BI(),$timezone_offset:q$()}),{$current_url:Id(vn==null?void 0:vn.href,s,Rd),$host:vn==null?void 0:vn.host,$pathname:vn==null?void 0:vn.pathname,$raw_user_agent:mn.length>1e3?mn.substring(0,997)+"...":mn,$browser_version:H$(mn,navigator.vendor),$browser_language:oS(),$browser_language_prefix:(r=oS(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:ue==null?void 0:ue.screen.height,$screen_width:ue==null?void 0:ue.screen.width,$viewport_height:ue==null?void 0:ue.innerHeight,$viewport_width:ue==null?void 0:ue.innerWidth,$lib:"web",$lib_version:ms.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ca=lr("[Web Vitals]"),lS=9e5;class G${constructor(t){var r;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((n,i)=>Pe({},n,{["$web_vitals_"+i.name+"_event"]:Pe({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var i,s=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(Se(s))ca.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Tt();Se(a)||(_t(n==null?void 0:n.name)||_t(n==null?void 0:n.value)?ca.error("Invalid metric received",n):this.Rt&&n.value>=this.Rt?ca.error("Ignoring metric with value >= "+this.Rt,n):(this.N.url!==a&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Se(this.N.url)&&(this.N.url=a),this.N.firstMetricTimestamp=Se(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(Pe({},n,{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,i,s,a,o=et.__PosthogExtensions__;Se(o)||Se(o.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:i,onFCP:s,onINP:a}=o.postHogWebVitalsCallbacks),n&&i&&s&&a?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Pt.bind(this)),this.P=!0):ca.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Et=!((r=this._instance.persistence)==null||!r.props[q2]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=_r(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Se(n)?((r=this._instance.persistence)==null?void 0:r.props[V2])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(_r(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var t=_r(this._instance.config.capture_performance)&&es(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:lS;return 0<t&&t<=6e4?lS:t}get isEnabled(){var t=vn==null?void 0:vn.protocol;if(t!=="http:"&&t!=="https:")return ca.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=_r(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Ta(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Ta(r)?r:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(ca.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=_r(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=_r(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[q2]:r}),this._instance.persistence.register({[V2]:n})),this.Et=r,this.startIfEnabled()}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",(i=>{i?ca.error("failed to load script",i):t()}))}Tt(){var t=ue?ue.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,i=r?au([],ou,n||[]):[];return Id(t,i,Rd)}ca.error("Could not determine current URL")}}var Y$=lr("[Heatmaps]");function uS(e){return _r(e)&&"clientX"in e&&"clientY"in e&&es(e.clientX)&&es(e.clientY)}class K${constructor(t){var r;this.Et=!1,this.P=!1,this.It=null,this.instance=t,this.Et=!((r=this.instance.persistence)==null||!r.props[l1]),this.rageclicks=new dI(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return _r(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Se(this.instance.config.capture_heatmaps)?Se(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;Y$.info("starting..."),this.Ft(),this.Ct()}else{var t;clearInterval((t=this.It)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[l1]:r}),this.Et=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ct(){this.It&&clearInterval(this.It),this.It=(function(t){return(t==null?void 0:t.visibilityState)==="visible"})(Ae)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){ue&&Ae&&(this.jt=this.Dt.bind(this),Zt(ue,"beforeunload",this.jt),this.Lt=t=>this.At(t||(ue==null?void 0:ue.event)),Zt(Ae,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(ue==null?void 0:ue.event)),Zt(Ae,"mousemove",this.Nt,{capture:!0}),this.zt=new fI(this.instance,E$,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),Zt(Ae,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;ue&&Ae&&(this.jt&&ue.removeEventListener("beforeunload",this.jt),this.Lt&&Ae.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&Ae.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&Ae.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=(function(o,c,d){for(var f=o;f&&Lm(f)&&!Ca(f,"body");){if(f===d)return!1;if(st(c,ue==null?void 0:ue.getComputedStyle(f).position))return!0;f=iI(f)}return!1})(rI(t),["fixed","sticky"],s);return{x:t.clientX+(a?0:i),y:t.clientY+(a?0:n),target_fixed:a,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!G2(t.target)&&uS(t)){var i=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(Pe({},i,{type:"rageclick"})),this.Wt(i)}}Ut(t){!G2(t.target)&&uS(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,"mousemove"))}),500))}Wt(t){if(ue){var r=ue.location.href,n=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,s=n?au([],ou,i||[]):[],a=Id(r,s,Rd);this.N=this.N||{},this.N[a]||(this.N[a]=[]),this.N[a].push(t)}}Dt(){this.N&&!Nl(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class X${constructor(t){this._instance=t}doPageView(t,r){var n,i=this.Gt(t,r);return this.Vt={pathname:(n=ue==null?void 0:ue.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var i={$pageview_id:r,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:o,maxScrollY:c,maxContentHeight:d,lastContentY:f,maxContentY:p}=s;if(!(Se(a)||Se(o)||Se(c)||Se(d)||Se(f)||Se(p))){a=Math.ceil(a),o=Math.ceil(o),c=Math.ceil(c),d=Math.ceil(d),f=Math.ceil(f),p=Math.ceil(p);var v=a<=1?1:Yi(o/a,0,1,Ne),g=a<=1?1:Yi(c/a,0,1,Ne),_=d<=1?1:Yi(f/d,0,1,Ne),x=d<=1?1:Yi(p/d,0,1,Ne);i=Yt(i,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:f,$prev_pageview_last_content_percentage:_,$prev_pageview_max_content:p,$prev_pageview_max_content_percentage:x})}}return n.pathname&&(i.$prev_pageview_pathname=n.pathname),n.timestamp&&(i.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),i}}var ii=Uint8Array,bn=Uint16Array,Ul=Uint32Array,yx=new ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bx=new ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cS=new ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FI=function(e,t){for(var r=new bn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Ul(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return[r,i]},$I=FI(yx,2),Q$=$I[0],_1=$I[1];Q$[28]=258,_1[258]=28;for(var dS=FI(bx,0)[1],UI=new bn(32768),Pt=0;Pt<32768;++Pt){var eo=(43690&Pt)>>>1|(21845&Pt)<<1;eo=(61680&(eo=(52428&eo)>>>2|(13107&eo)<<2))>>>4|(3855&eo)<<4,UI[Pt]=((65280&eo)>>>8|(255&eo)<<8)>>>1}var qc=function(e,t,r){for(var n=e.length,i=0,s=new bn(t);i<n;++i)++s[e[i]-1];var a,o=new bn(t);for(i=0;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;for(a=new bn(n),i=0;i<n;++i)a[i]=UI[o[e[i]-1]++]>>>15-e[i];return a},To=new ii(288);for(Pt=0;Pt<144;++Pt)To[Pt]=8;for(Pt=144;Pt<256;++Pt)To[Pt]=9;for(Pt=256;Pt<280;++Pt)To[Pt]=7;for(Pt=280;Pt<288;++Pt)To[Pt]=8;var Sp=new ii(32);for(Pt=0;Pt<32;++Pt)Sp[Pt]=5;var J$=qc(To,9),Z$=qc(Sp,5),HI=function(e){return(e/8>>0)+(7&e&&1)},zI=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof bn?bn:e instanceof Ul?Ul:ii)(r-t);return n.set(e.subarray(t,r)),n},ps=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},pc=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Iv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return[new ii(0),0];if(i==1){var a=new ii(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort((function(j,N){return j.f-N.f})),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,f=1,p=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=i-1;)o=r[r[d].f<r[p].f?d++:p++],c=r[d!=f&&r[d].f<r[p].f?d++:p++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};var v=s[0].s;for(n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var g=new bn(v+1),_=x1(r[f-1],g,0);if(_>t){n=0;var x=0,b=_-t,w=1<<b;for(s.sort((function(j,N){return g[N.s]-g[j.s]||j.f-N.f}));n<i;++n){var A=s[n].s;if(!(g[A]>t))break;x+=w-(1<<_-g[A]),g[A]=t}for(x>>>=b;x>0;){var S=s[n].s;g[S]<t?x-=1<<t-g[S]++-1:++n}for(;n>=0&&x;--n){var O=s[n].s;g[O]==t&&(--g[O],++x)}_=t}return[new ii(g),_]},x1=function(e,t,r){return e.s==-1?Math.max(x1(e.l,t,r+1),x1(e.r,t,r+1)):t[e.s]=r},hS=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new bn(++t),n=0,i=e[0],s=1,a=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return[r.subarray(0,n),t]},mc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},w1=function(e,t,r){var n=r.length,i=HI(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},fS=function(e,t,r,n,i,s,a,o,c,d,f){ps(t,f++,r),++i[256];for(var p=Iv(i,15),v=p[0],g=p[1],_=Iv(s,15),x=_[0],b=_[1],w=hS(v),A=w[0],S=w[1],O=hS(x),j=O[0],N=O[1],P=new bn(19),R=0;R<A.length;++R)P[31&A[R]]++;for(R=0;R<j.length;++R)P[31&j[R]]++;for(var H=Iv(P,7),D=H[0],M=H[1],F=19;F>4&&!D[cS[F-1]];--F);var Y,G,W,Q,te=d+5<<3,ne=mc(i,To)+mc(s,Sp)+a,oe=mc(i,v)+mc(s,x)+a+14+3*F+mc(P,D)+(2*P[16]+3*P[17]+7*P[18]);if(te<=ne&&te<=oe)return w1(t,f,e.subarray(c,c+d));if(ps(t,f,1+(oe<ne)),f+=2,oe<ne){Y=qc(v,g),G=v,W=qc(x,b),Q=x;var L=qc(D,M);for(ps(t,f,S-257),ps(t,f+5,N-1),ps(t,f+10,F-4),f+=14,R=0;R<F;++R)ps(t,f+3*R,D[cS[R]]);f+=3*F;for(var V=[A,j],ie=0;ie<2;++ie){var $=V[ie];for(R=0;R<$.length;++R){var Ee=31&$[R];ps(t,f,L[Ee]),f+=D[Ee],Ee>15&&(ps(t,f,$[R]>>>5&127),f+=$[R]>>>12)}}}else Y=J$,G=To,W=Z$,Q=Sp;for(R=0;R<o;++R)if(n[R]>255){Ee=n[R]>>>18&31,pc(t,f,Y[Ee+257]),f+=G[Ee+257],Ee>7&&(ps(t,f,n[R]>>>23&31),f+=yx[Ee]);var ke=31&n[R];pc(t,f,W[ke]),f+=Q[ke],ke>3&&(pc(t,f,n[R]>>>5&8191),f+=bx[ke])}else pc(t,f,Y[n[R]]),f+=G[n[R]];return pc(t,f,Y[256]),f+G[256]},eU=new Ul([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tU=(function(){for(var e=new Ul(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e})(),rU=function(e,t,r,n,i){return(function(s,a,o,c,d,f){var p=s.length,v=new ii(c+p+5*(1+Math.floor(p/7e3))+d),g=v.subarray(c,v.length-d),_=0;if(!a||p<8)for(var x=0;x<=p;x+=65535){var b=x+65535;b<p?_=w1(g,_,s.subarray(x,b)):(g[x]=f,_=w1(g,_,s.subarray(x,p)))}else{for(var w=eU[a-1],A=w>>>13,S=8191&w,O=(1<<o)-1,j=new bn(32768),N=new bn(O+1),P=Math.ceil(o/3),R=2*P,H=function(Bt){return(s[Bt]^s[Bt+1]<<P^s[Bt+2]<<R)&O},D=new Ul(25e3),M=new bn(288),F=new bn(32),Y=0,G=0,W=(x=0,0),Q=0,te=0;x<p;++x){var ne=H(x),oe=32767&x,L=N[ne];if(j[oe]=L,N[ne]=oe,Q<=x){var V=p-x;if((Y>7e3||W>24576)&&V>423){_=fS(s,g,0,D,M,F,G,W,te,x-te,_),W=Y=G=0,te=x;for(var ie=0;ie<286;++ie)M[ie]=0;for(ie=0;ie<30;++ie)F[ie]=0}var $=2,Ee=0,ke=S,pe=oe-L&32767;if(V>2&&ne==H(x-pe))for(var Me=Math.min(A,V)-1,De=Math.min(32767,x),se=Math.min(258,V);pe<=De&&--ke&&oe!=L;){if(s[x+$]==s[x+$-pe]){for(var Ce=0;Ce<se&&s[x+Ce]==s[x+Ce-pe];++Ce);if(Ce>$){if($=Ce,Ee=pe,Ce>Me)break;var Ge=Math.min(pe,Ce-2),he=0;for(ie=0;ie<Ge;++ie){var pt=x-pe+ie+32768&32767,Te=pt-j[pt]+32768&32767;Te>he&&(he=Te,L=pt)}}}pe+=(oe=L)-(L=j[oe])+32768&32767}if(Ee){D[W++]=268435456|_1[$]<<18|dS[Ee];var tt=31&_1[$],ut=31&dS[Ee];G+=yx[tt]+bx[ut],++M[257+tt],++F[ut],Q=x+$,++Y}else D[W++]=s[x],++M[s[x]]}}_=fS(s,g,f,D,M,F,G,W,te,x-te,_)}return zI(v,0,c+HI(_)+d)})(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},Rv=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function nU(e,t){t===void 0&&(t={});var r=(function(){var o=4294967295;return{p:function(c){for(var d=o,f=0;f<c.length;++f)d=tU[255&d^c[f]]^d>>>8;o=d},d:function(){return 4294967295^o}}})(),n=e.length;r.p(e);var i,s=rU(e,t,10+((i=t).filename&&i.filename.length+1||0),8),a=s.length;return(function(o,c){var d=c.filename;if(o[0]=31,o[1]=139,o[2]=8,o[8]=c.level<2?4:c.level==9?2:0,o[9]=3,c.mtime!=0&&Rv(o,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),d){o[3]=8;for(var f=0;f<=d.length;++f)o[f+10]=d.charCodeAt(f)}})(s,t),Rv(s,a-8,r.d()),Rv(s,a-4,n),s}var iU=function(e){var t,r,n,i,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<n;i++){var a=e.charCodeAt(i),o=null;a<128?r++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Ls(o)||(r>t&&(s+=e.substring(t,r)),s+=o,t=r=i+1)}return r>t&&(s+=e.substring(t,e.length)),s},sU=!!n1||!!r1,pS="text/plain",Cp=function(e,t,r){var n;r===void 0&&(r=!0);var[i,s]=e.split("?"),a=Pe({},t),o=(n=s==null?void 0:s.split("&").map((d=>{var f,[p,v]=d.split("="),g=r&&(f=a[p])!==null&&f!==void 0?f:v;return delete a[p],p+"="+g})))!==null&&n!==void 0?n:[],c=c$(a);return c&&o.push(c),i+"?"+o.join("&")},Fc=(e,t)=>JSON.stringify(e,((r,n)=>typeof n=="bigint"?n.toString():n),t),Dv=e=>{var{data:t,compression:r}=e;if(t){if(r===bs.GZipJS){var n=nU((function(c,d){var f=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var p=new ii(c.length+(c.length>>>1)),v=0,g=function(w){p[v++]=w},_=0;_<f;++_){if(v+5>p.length){var x=new ii(v+8+(f-_<<1));x.set(p),p=x}var b=c.charCodeAt(_);b<128||d?g(b):b<2048?(g(192|b>>>6),g(128|63&b)):b>55295&&b<57344?(g(240|(b=65536+(1047552&b)|1023&c.charCodeAt(++_))>>>18),g(128|b>>>12&63),g(128|b>>>6&63),g(128|63&b)):(g(224|b>>>12),g(128|b>>>6&63),g(128|63&b))}return zI(p,0,v)})(Fc(t)),{mtime:0}),i=new Blob([n],{type:pS});return{contentType:pS,body:i,estimatedSize:i.size}}if(r===bs.Base64){var s=(function(c){var d,f,p,v,g,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=0,b=0,w="",A=[];if(!c)return c;c=iU(c);do d=(g=c.charCodeAt(x++)<<16|c.charCodeAt(x++)<<8|c.charCodeAt(x++))>>18&63,f=g>>12&63,p=g>>6&63,v=63&g,A[b++]=_.charAt(d)+_.charAt(f)+_.charAt(p)+_.charAt(v);while(x<c.length);switch(w=A.join(""),c.length%3){case 1:w=w.slice(0,-2)+"==";break;case 2:w=w.slice(0,-1)+"="}return w})(Fc(t)),a=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Fc(c)))(s);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var o=Fc(t);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},ip=[];r1&&ip.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:i,estimatedSize:s}=(t=Dv(e))!==null&&t!==void 0?t:{},a=new Headers;At(e.headers,(function(f,p){a.append(p,f)})),n&&a.append("Content-Type",n);var o=e.url,c=null;if(I2){var d=new I2;c={signal:d.signal,timeout:setTimeout((()=>d.abort()),e.timeout)}}r1(o,Pe({method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then((f=>f.text().then((p=>{var v={statusCode:f.status,text:p};if(f.status===200)try{v.json=JSON.parse(p)}catch(g){Ne.error(g)}e.callback==null||e.callback(v)})))).catch((f=>{Ne.error(f),e.callback==null||e.callback({statusCode:0,text:f})})).finally((()=>c?clearTimeout(c.timeout):null))}}),n1&&ip.push({transport:"XHR",method:e=>{var t,r=new n1;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:i}=(t=Dv(e))!==null&&t!==void 0?t:{};At(e.headers,(function(s,a){r.setRequestHeader(a,s)})),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var s={statusCode:r.status,text:r.responseText};if(r.status===200)try{s.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(s)}},r.send(i)}}),Mn!=null&&Mn.sendBeacon&&ip.push({transport:"sendBeacon",method:e=>{var t=Cp(e.url,{beacon:"1"});try{var r,{contentType:n,body:i}=(r=Dv(e))!==null&&r!==void 0?r:{},s=typeof i=="string"?new Blob([i],{type:n}):i;Mn.sendBeacon(t,s)}catch{}}});var Ap=function(e,t){if(!(function(r){try{new RegExp(r)}catch{return!1}return!0})(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function mS(e,t,r){return Fc({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var WI={exact:(e,t)=>t.some((r=>e.some((n=>r===n)))),is_not:(e,t)=>t.every((r=>e.every((n=>r!==n)))),regex:(e,t)=>t.some((r=>e.some((n=>Ap(r,n))))),not_regex:(e,t)=>t.every((r=>e.every((n=>!Ap(r,n))))),icontains:(e,t)=>t.map(_f).some((r=>e.map(_f).some((n=>r.includes(n))))),not_icontains:(e,t)=>t.map(_f).every((r=>e.map(_f).every((n=>!r.includes(n)))))},_f=e=>e.toLowerCase();function qI(e,t){return!e||Object.entries(e).every((r=>{var[n,i]=r,s=t==null?void 0:t[n];if(Se(s)||Ls(s))return!1;var a=[String(s)],o=WI[i.operator];return!!o&&o(i.values,a)}))}var Lv=lr("[Error tracking]");class aU{constructor(t){var r,n;this.Jt=[],this.Kt=new j9([new F9,new Y9,new U9,new $9,new V9,new q9,new z9,new G9],B9("web:javascript",R9,M9)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(u1))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,i,s=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],a=(i=t.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[u1]:this.Jt,[W2]:a})}get Yt(){var t,r=!!this._instance.get_property(W2),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void Lv.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void Lv.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void Lv.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce(((n,i)=>{var{type:s,value:a}=i;return or(s)&&s.length>0&&n.$exception_types.push(s),or(a)&&a.length>0&&n.$exception_values.push(a),n}),{$exception_types:[],$exception_values:[]});return this.Jt.some((n=>{var i=n.values.map((s=>{var a,o=WI[s.operator],c=xt(s.value)?s.value:[s.value],d=(a=r[s.key])!==null&&a!==void 0?a:[];return c.length>0&&o(c,d)}));return n.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(t){return t.flatMap((r=>{var n,i;return(n=(i=r.stacktrace)==null?void 0:i.frames)!==null&&n!==void 0?n:[]})).some((r=>r.filename&&r.filename.startsWith("chrome-extension://")))}ti(t){if(t.length>0){var r,n,i,s,a=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],o=a[a.length-1];return(i=o==null||(s=o.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(t){return!_t(t)&&xt(t)}}var xi=lr("[FeatureFlags]"),gc=lr("[FeatureFlags]",{debugEnabled:!0}),Mv="$active_feature_flags",hl="$override_feature_flags",gS="$feature_flag_payloads",vc="$override_feature_flag_payloads",vS="$feature_flag_request_id",yS="$feature_flag_evaluated_at",bS=e=>{var t={};for(var[r,n]of np(e||{}))n&&(t[r]=n);return t},oU=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((r=>t[r].enabled)).filter((r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload})).map((r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]})))):xi.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},lU=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class uU{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter((r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||xi.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.vi({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(c1),r=this._instance.get_property(hl),n=this._instance.get_property(vc);if(!n&&!r)return t||{};var i=Yt({},t||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var a of s){var o,c,d=i[a],f=r==null?void 0:r[a],p=Se(f)?(o=d==null?void 0:d.enabled)!==null&&o!==void 0&&o:!!f,v=Se(f)?d.variant:typeof f=="string"?f:void 0,g=n==null?void 0:n[a],_=Pe({},d,{enabled:p,variant:p?v??(d==null?void 0:d.variant):void 0});p!==(d==null?void 0:d.enabled)&&(_.original_enabled=d==null?void 0:d.enabled),v!==(d==null?void 0:d.variant)&&(_.original_variant=d==null?void 0:d.variant),g&&(_.metadata=Pe({},d==null?void 0:d.metadata,{payload:g,original_payload:d==null||(c=d.metadata)==null?void 0:c.payload})),i[a]=_}return this.ii||(xi.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var t=this._instance.get_property(jl),r=this._instance.get_property(hl);if(!r)return t||{};for(var n=Yt({},t),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(xi.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(gS),r=this._instance.get_property(vc);if(!r)return t||{};for(var n=Yt({},t||{}),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(xi.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.vi()}),5))}di(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}vi(t){var r;if(this.di(),!this._instance.O())if(this.ri)this.ni=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Pe({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Mc)||{}),group_properties:this._instance.get_property(so)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0),this.ui()&&(n.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,s=i?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",o=this._instance.requestRouter.endpointFor("flags",s+a);i&&(n.timezone=BI()),this.ri=!0,this._instance.ci({method:"POST",url:o,data:n,compression:this._instance.config.disable_compression?void 0:bs.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:c=>{var d,f,p=!0;if(c.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),p=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((f=c.json)!==null&&f!==void 0?f:{})),!n.disable_flags||this.ni)if(this.ai=!p,c.json&&(d=c.json.quotaLimited)!=null&&d.includes(lU.FeatureFlags))xi.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;n.disable_flags||this.receivedFeatureFlags((v=c.json)!==null&&v!==void 0?v:{},p),this.ni&&(this.ni=!1,this.vi())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],i=""+n,s=this._instance.get_property(vS)||void 0,a=this._instance.get_property(yS)||void 0,o=this._instance.get_property(vp)||{};if((r.send_event||!("send_event"in r))&&(!(t in o)||!o[t].includes(i))){var c,d,f,p,v,g,_,x,b;xt(o[t])?o[t].push(i):o[t]=[i],(c=this._instance.persistence)==null||c.register({[vp]:o});var w=this.getFeatureFlagDetails(t),A={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_evaluated_at:a,$feature_flag_bootstrapped_response:((d=this._instance.config.bootstrap)==null||(d=d.featureFlags)==null?void 0:d[t])||null,$feature_flag_bootstrapped_payload:((f=this._instance.config.bootstrap)==null||(f=f.featureFlagPayloads)==null?void 0:f[t])||null,$used_bootstrap_value:!this.ai};Se(w==null||(p=w.metadata)==null?void 0:p.version)||(A.$feature_flag_version=w.metadata.version);var S,O=(v=w==null||(g=w.reason)==null?void 0:g.description)!==null&&v!==void 0?v:w==null||(_=w.reason)==null?void 0:_.code;O&&(A.$feature_flag_reason=O),w!=null&&(x=w.metadata)!=null&&x.id&&(A.$feature_flag_id=w.metadata.id),Se(w==null?void 0:w.original_variant)&&Se(w==null?void 0:w.original_enabled)||(A.$feature_flag_original_response=Se(w.original_variant)?w.original_enabled:w.original_variant),w!=null&&(b=w.metadata)!=null&&b.original_payload&&(A.$feature_flag_original_payload=w==null||(S=w.metadata)==null?void 0:S.original_payload),this._instance.capture("$feature_flag_called",A)}return n}xi.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:bs.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var a,o=(a=s.json)==null?void 0:a.featureFlagPayloads;r((o==null?void 0:o[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Se(n)?void 0:!!n}xi.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((r=>r!==t))}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),i=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(a,o,c,d,f){c===void 0&&(c={}),d===void 0&&(d={}),f===void 0&&(f={});var p=oU(a),v=p.flags,g=p.featureFlags,_=p.featureFlagPayloads;if(g){var x=a.requestId,b=a.evaluatedAt;if(xt(g)){xi.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(g)for(var A=0;A<g.length;A++)w[g[A]]=!0;o&&o.register({[Mv]:g,[jl]:w})}else{var S=g,O=_,j=v;a.errorsWhileComputingFlags&&(S=Pe({},c,S),O=Pe({},d,O),j=Pe({},f,j)),o&&o.register(Pe({[Mv]:Object.keys(bS(S)),[jl]:S||{},[gS]:O||{},[c1]:j||{}},x?{[vS]:x}:{},b?{[yS]:b}:{}))}}})(t,this._instance.persistence,n,i,s),this.pi(r)}}override(t,r){r===void 0&&(r=!1),xi.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return xi.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(hl),this._instance.persistence.unregister(vc),this.pi(),gc.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(hl),gc.info("Flag overrides cleared");else if(n.flags){if(xt(n.flags)){for(var i={},s=0;s<n.flags.length;s++)i[n.flags[s]]=!0;this._instance.persistence.register({[hl]:i})}else this._instance.persistence.register({[hl]:n.flags});gc.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(vc),gc.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[vc]:n.payloads}),gc.info("Payload overrides set",{payloads:n.payloads}))),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.gi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var i,s=(this._instance.get_property(Lc)||[]).find((d=>d.flagKey===t)),a={["$feature_enrollment/"+t]:r},o={$feature_flag:t,$feature_enrollment:r,$set:a};s&&(o.$early_access_feature_name=s.name),n&&(o.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",o),this.setPersonPropertiesForFlags(a,!1);var c=Pe({},this.getFlagVariants(),{[t]:r});(i=this._instance.persistence)==null||i.register({[Mv]:Object.keys(bS(c)),[jl]:c}),this.pi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var i=this._instance.get_property(Lc),s=n?"&"+n.map((a=>"stage="+a)).join("&"):"";if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:a=>{var o,c;if(a.json){var d=a.json.earlyAccessFeatures;return(o=this._instance.persistence)==null||o.unregister(Lc),(c=this._instance.persistence)==null||c.register({[Lc]:d}),t(d)}}})}gi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter((n=>r[n])),flagVariants:Object.keys(r).filter((n=>r[n])).reduce(((n,i)=>(n[i]=r[i],n)),{})}}pi(t){var{flags:r,flagVariants:n}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(r,n,{errorsLoading:t})))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Mc)||{};this._instance.register({[Mc]:Pe({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Mc)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(so)||{};Object.keys(n).length!==0&&Object.keys(n).forEach((i=>{n[i]=Pe({},n[i],t[i]),delete t[i]})),this._instance.register({[so]:Pe({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(so)||{};this._instance.register({[so]:Pe({},r,{[t]:{}})})}else this._instance.unregister(so)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.di(),this.ii=!1}}var cU=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Bv{constructor(t,r){this.F=t,this.props={},this.mi=!1,this.yi=(n=>{var i="";return n.token&&(i=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+i+"_posthog"})(t),this.Y=this.bi(t),this.load(),t.debug&&Ne.info("Persistence loaded",t.persistence,Pe({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.wi}bi(t){cU.indexOf(t.persistence.toLowerCase())===-1&&(Ne.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&zt.H()?zt:r==="localstorage+cookie"&&gf.H()?gf:r==="sessionstorage"&&Ar.H()?Ar:r==="memory"?x$:r==="cookie"?Ji:gf.H()?gf:Ji}properties(){var t={};return At(this.props,(function(r,n){if(n===jl&&_r(r))for(var i=Object.keys(r),s=0;s<i.length;s++)t["$feature/"+i[s]]=r[i[s]];else o=n,c=!1,(Ls(a=e$)?c:P2&&a.indexOf===P2?a.indexOf(o)!=-1:(At(a,(function(d){if(c||(c=d===o))return mp})),c))||(t[n]=r);var a,o,c})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Yt({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.Si,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(_r(t)){Se(r)&&(r="None"),this.xi=Se(n)?this.$i:n;var i=!1;if(At(t,((s,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==r||(this.props[a]=s,i=!0)})),i)return this.save(),!0}return!1}register(t,r){if(_r(t)){this.xi=Se(r)?this.$i:r;var n=!1;if(At(t,((i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,n=!0)})),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=PI(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);Nl(cx(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=Ae==null?void 0:Ae.referrer)?RI(t):{})}update_referrer_info(){var t;this.register_once({$referrer:DI(),$referring_domain:Ae!=null&&Ae.referrer&&((t=xp(Ae.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[p1]||this.props[m1]||this.register_once({[yp]:LI(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};At([m1,p1],(a=>{var o=this.props[a];o&&At(o,(function(c,d){t["$initial_"+i1(d)]=c}))}));var r,n,i=this.props[yp];if(i){var s=(r=MI(i),n={},At(r,(function(a,o){n["$initial_"+i1(o)]=a})),n);Yt(t,s)}return t}safe_merge(t){return At(this.props,(function(r,n){n in t||(t[n]=r)})),t}update_config(t,r,n){if(this.$i=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var i=this.bi(t),s=this.props;this.clear(),this.Y=i,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Dc]||{};n[t]=r,this.props[Dc]=n,this.save()}remove_event_timer(t){var r=(this.props[Dc]||{})[t];return Se(r)||(delete this.props[Dc][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var yc=(function(e){return e.Activation="events",e.Cancellation="cancelEvents",e})({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var Fv=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var sp=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),_S=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),VI=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class _x{constructor(){this.ki={},this.ki={}}on(t,r){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(r),()=>{this.ki[t]=this.ki[t].filter((n=>n!==r))}}emit(t,r){for(var n of this.ki[t]||[])n(r);for(var i of this.ki["*"]||[])i(t,r)}}function fl(e,t,r){if(_t(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class dU{constructor(t){this.Pi=new _x,this.Ti=(r,n)=>this.Ri(r,n)&&this.Ii(r,n)&&this.Fi(r,n)&&this.Ci(r,n),this.Ri=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.Mi=new Set,this.Oi=new Set}init(){var t;if(!Se((t=this._instance)==null?void 0:t.Ai)){var r;(r=this._instance)==null||r.Ai(((n,i)=>{this.on(n,i)}))}}register(t){var r,n;if(!Se((r=this._instance)==null?void 0:r.Ai)&&(t.forEach((a=>{var o,c;(o=this.Oi)==null||o.add(a),(c=a.steps)==null||c.forEach((d=>{var f;(f=this.Mi)==null||f.add((d==null?void 0:d.event)||"")}))})),(n=this._instance)!=null&&n.autocapture)){var i,s=new Set;t.forEach((a=>{var o;(o=a.steps)==null||o.forEach((c=>{c!=null&&c.selector&&s.add(c==null?void 0:c.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(s)}}on(t,r){var n;r!=null&&t.length!=0&&(this.Mi.has(t)||this.Mi.has(r==null?void 0:r.event))&&this.Oi&&((n=this.Oi)==null?void 0:n.size)>0&&this.Oi.forEach((i=>{this.Di(r,i)&&this.Pi.emit("actionCaptured",i.name)}))}ji(t){this.onAction("actionCaptured",(r=>t(r)))}Di(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Ti(t,n))return!0;return!1}onAction(t,r){return this.Pi.on(t,r)}Ii(t,r){if(r!=null&&r.url){var n,i=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!i||typeof i!="string"||!fl(i,r.url,r.url_matching||"contains"))return!1}return!0}Fi(t,r){return!!this.Li(t,r)&&!!this.Ni(t,r)&&!!this.Ui(t,r)}Li(t,r){var n;if(r==null||!r.href)return!0;var i=this.zi(t);if(i.length>0)return i.some((o=>fl(o.href,r.href,r.href_matching||"exact")));var s,a=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!a&&fl((s=a.match(/(?::|")href="(.*?)"/))?s[1]:"",r.href,r.href_matching||"exact")}Ni(t,r){var n;if(r==null||!r.text)return!0;var i=this.zi(t);if(i.length>0)return i.some((d=>fl(d.text,r.text,r.text_matching||"exact")||fl(d.$el_text,r.text,r.text_matching||"exact")));var s,a,o,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(s=(function(d){for(var f,p=[],v=/(?::|")text="(.*?)"/g;!_t(f=v.exec(d));)p.includes(f[1])||p.push(f[1]);return p})(c),a=r.text,o=r.text_matching||"exact",s.some((d=>fl(d,a,o))))}Ui(t,r){var n,i;if(r==null||!r.selector)return!0;var s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(s!=null&&s.includes(r.selector))return!0;var a=(t==null||(i=t.properties)==null?void 0:i.$elements_chain)||"";if(r.selector_regex&&a)try{return new RegExp(r.selector_regex).test(a)}catch{return!1}return!1}zi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Ci(t,r){return r==null||!r.properties||r.properties.length===0||qI(r.properties.reduce(((n,i)=>{var s=xt(i.value)?i.value.map(String):i.value!=null?[String(i.value)]:[];return n[i.key]={values:s,operator:i.operator||"exact"},n}),{}),t==null?void 0:t.properties)}}var gt=lr("[Surveys]"),E1="seenSurvey_",hU=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},xS=e=>{var t=""+E1+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+E1+e.id+"_"+e.current_iteration),t},fU=[Fv.Popover,Fv.Widget,Fv.API],pU={ignoreConditions:!1,ignoreDelay:!1,displayType:VI.Popover};let mU=class{constructor(t){this._instance=t,this.Hi=new Map,this.Bi=new Map,this.qi=new Map}Wi(t,r){return!!t&&qI(t.propertyFilters,r==null?void 0:r.properties)}Gi(t,r){var n=new Map;return t.forEach((i=>{var s;(s=i.conditions)==null||(s=s[r])==null||(s=s.values)==null||s.forEach((a=>{if(a!=null&&a.name){var o=n.get(a.name)||[];o.push(i.id),n.set(a.name,o)}}))})),n}Vi(t,r,n){var i,s=(n===yc.Activation?this.Hi:this.Bi).get(t),a=[];return(i=this._instance)==null||i.getSurveys((o=>{a=o.filter((c=>s==null?void 0:s.includes(c.id)))})),a.filter((o=>{var c,d=(c=o.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find((f=>f.name===t));return this.Wi(d,r)}))}register(t){var r;Se((r=this._instance)==null?void 0:r.Ai)||(this.Ji(t),this.Ki(t))}Ki(t){var r=t.filter((n=>{var i,s;return((i=n.conditions)==null?void 0:i.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0}));r.length!==0&&(this.Yi==null&&(this.Yi=new dU(this._instance),this.Yi.init(),this.Yi.ji((n=>{this.onAction(n)}))),r.forEach((n=>{var i,s,a,o,c;n.conditions&&(i=n.conditions)!=null&&i.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0&&((o=this.Yi)==null||o.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach((d=>{if(d&&d.name){var f=this.qi.get(d.name);f&&f.push(n.id),this.qi.set(d.name,f||[n.id])}})))})))}Ji(t){var r,n=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.events)&&((o=s.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0})),i=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.cancelEvents)&&((o=s.conditions)==null||(o=o.cancelEvents)==null||(o=o.values)==null?void 0:o.length)>0}));(n.length!==0||i.length!==0)&&((r=this._instance)==null||r.Ai(((s,a)=>{this.onEvent(s,a)})),this.Hi=this.Gi(t,yc.Activation),this.Bi=this.Gi(t,yc.Cancellation))}onEvent(t,r){var n,i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[mf])||[];if(sp.SHOWN===t&&r&&i.length>0){var s;gt.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:i});var a=r==null||(s=r.properties)==null?void 0:s.$survey_id;if(a){var o=i.indexOf(a);o>=0&&(i.splice(o,1),this.Xi(i))}}else{if(this.Bi.has(t)){var c=this.Vi(t,r,yc.Cancellation);c.length>0&&(gt.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map((f=>f.id))}),c.forEach((f=>{var p,v=i.indexOf(f.id);v>=0&&i.splice(v,1),(p=this._instance)==null||p.cancelPendingSurvey(f.id)})),this.Xi(i))}if(this.Hi.has(t)){gt.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Hi.get(t)});var d=this.Vi(t,r,yc.Activation);this.Xi(i.concat(d.map((f=>f.id))||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[mf])||[];this.qi.has(t)&&this.Xi(n.concat(this.qi.get(t)||[]))}Xi(t){var r;gt.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[mf]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[mf];return r||[]}getEventToSurveys(){return this.Hi}Qi(){return this.Yi}};class gU{constructor(t){this.Zi=void 0,this._surveyManager=null,this.te=!1,this.ie=!1,this.ee=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(_t(r))return gt.warn("Flags not loaded yet. Not loading surveys.");var n=xt(r);this.Zi=n?r.length>0:r,gt.info("flags response received, isSurveysEnabled: "+this.Zi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(E1)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.ie)gt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)gt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())gt.info("Not loading surveys in cookieless mode without consent.");else{var t=et==null?void 0:et.__PosthogExtensions__;if(t){if(!Se(this.Zi)||this._instance.config.advanced_enable_surveys){var r=this.Zi||this._instance.config.advanced_enable_surveys;this.ie=!0;try{var n=t.generateSurveys;if(n)return void this.re(n,r);var i=t.loadExternalDependency;if(!i)return void this.se("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(s=>{s||!t.generateSurveys?this.se("Could not load surveys script",s):this.re(t.generateSurveys,r)}))}catch(s){throw this.se("Error initializing surveys",s),s}finally{this.ie=!1}}}else gt.error("PostHog Extensions not found.")}}re(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new mU(this._instance),gt.info("Surveys loaded successfully"),this.ne({isLoaded:!0})}se(t,r){gt.error(t,r),this.ne({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.ee.push(t),this._surveyManager&&this.ne({isLoaded:!0}),()=>{this.ee=this.ee.filter((r=>r!==t))}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return gt.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(d1);if(n&&!r)return t(n,{isLoaded:!0});if(this.te)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.te=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var s;this.te=!1;var a=i.statusCode;if(a!==200||!i.json){var o="Surveys API could not be loaded, status: "+a;return gt.error(o),t([],{isLoaded:!1,error:o})}var c,d=i.json.surveys||[],f=d.filter((p=>(function(v){return!(!v.start_date||v.end_date)})(p)&&((function(v){var g;return!((g=v.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)})(p)||(function(v){var g;return!((g=v.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)})(p))));return f.length>0&&((c=this._surveyEventReceiver)==null||c.register(f)),(s=this._instance.persistence)==null||s.register({[d1]:d}),t(d,{isLoaded:!0})}})}catch(i){throw this.te=!1,i}}ne(t){for(var r of this.ee)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){gt.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!_t(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);gt.warn("init was not called")}oe(t){var r=null;return this.getSurveys((n=>{var i;r=(i=n.find((s=>s.id===t)))!==null&&i!==void 0?i:null})),r}ae(t){if(_t(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.oe(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(_t(this._surveyManager))return gt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.ae(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return _t(this._surveyManager)?(gt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((n=>{this.getSurveys((i=>{var s,a=(s=i.find((c=>c.id===t)))!==null&&s!==void 0?s:null;if(a){var o=this.ae(a);n({visible:o.eligible,disabledReason:o.reason})}else n({visible:!1,disabledReason:"Survey not found"})}),r)}))}renderSurvey(t,r){var n;if(_t(this._surveyManager))gt.warn("init was not called");else{var i=typeof t=="string"?this.oe(t):t;if(i!=null&&i.id)if(fU.includes(i.type)){var s=Ae==null?void 0:Ae.querySelector(r);if(s)return(n=i.appearance)!=null&&n.surveyPopupDelaySeconds?(gt.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var a,o;gt.info("Rendering survey "+i.id+" with delay of "+((a=i.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(o=this._surveyManager)==null||o.renderSurvey(i,s),gt.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,s);gt.warn("Survey element not found")}else gt.warn("Surveys of type "+i.type+" cannot be rendered in the app");else gt.warn("Survey not found")}}displaySurvey(t,r){var n;if(_t(this._surveyManager))gt.warn("init was not called");else{var i=this.oe(t);if(i){var s=i;if((n=i.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(s=Pe({},i,{appearance:Pe({},i.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var a=this.canRenderSurvey(i);if(!a.visible)return void gt.warn("Survey is not eligible to be displayed: ",a.disabledReason)}r.displayType!==VI.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,r.selector)}else gt.warn("Survey not found")}}cancelPendingSurvey(t){_t(this._surveyManager)?gt.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var wS=lr("[RateLimiter]");class vU{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach((a=>{wS.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4}))}catch(a){return void wS.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:s})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,i;t===void 0&&(t=!1);var s=new Date().getTime(),a=(r=(n=this.instance.persistence)==null?void 0:n.get_property(f1))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||t||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(i=this.instance.persistence)==null||i.set_property(f1,a),{isRateLimited:o,remainingTokens:a.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var to=lr("[RemoteConfig]");class yU{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=et._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}le(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",(()=>t(this.remoteConfig))):(to.error("PostHog Extensions not found. Cannot load remote config."),t())}ue(t){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return to.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.O())return void to.warn("Remote config is disabled. Falling back to local config.");this.le((t=>{if(!t)return to.info("No config found after loading remote JS config. Falling back to JSON."),void this.ue((r=>{this.fi(r)}));this.fi(t)}))}catch(t){to.error("Error loading remote config",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):to.info("__preview_remote_config is disabled. Logging config instead",t):to.error("Failed to fetch remote config from PostHog.")}}var k1=3e3;class bU{constructor(t,r){this.he=!0,this.ve=[],this.de=Yi((r==null?void 0:r.flush_interval_ms)||k1,250,5e3,Ne.createLogger("flush interval"),k1),this.ce=t}enqueue(t){this.ve.push(t),this.fe||this.pe()}unload(){this.ge();var t=this.ve.length>0?this._e():{},r=Object.values(t);[...r.filter((n=>n.url.indexOf("/e")===0)),...r.filter((n=>n.url.indexOf("/e")!==0))].map((n=>{this.ce(Pe({},n,{transport:"sendBeacon"}))}))}enable(){this.he=!1,this.pe()}pe(){var t=this;this.he||(this.fe=setTimeout((()=>{if(this.ge(),this.ve.length>0){var r=this._e(),n=function(){var s=r[i],a=new Date().getTime();s.data&&xt(s.data)&&At(s.data,(o=>{o.offset=Math.abs(o.timestamp-a),delete o.timestamp})),t.ce(s)};for(var i in r)n()}}),this.de))}ge(){clearTimeout(this.fe),this.fe=void 0}_e(){var t={};return At(this.ve,(r=>{var n,i=r,s=(i?i.batchKey:null)||i.url;Se(t[s])&&(t[s]=Pe({},i,{data:[]})),(n=t[s].data)==null||n.push(i.data)})),this.ve=[],t}}var _U=["retriesPerformedSoFar"];class xU{constructor(t){this.me=!1,this.ye=3e3,this.ve=[],this._instance=t,this.ve=[],this.be=!0,!Se(ue)&&"onLine"in ue.navigator&&(this.be=ue.navigator.onLine,this.we=()=>{this.be=!0,this.Dt()},this.xe=()=>{this.be=!1},Zt(ue,"online",this.we),Zt(ue,"offline",this.xe))}get length(){return this.ve.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=UP(t,_U);es(r)&&r>0&&(n.url=Cp(n.url,{retry_count:r})),this._instance.ci(Pe({},n,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(r??0)<10?this.Se(Pe({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(i)}}))}Se(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=(function(a){var o=3e3*Math.pow(2,a),c=o/2,d=Math.min(18e5,o),f=(Math.random()-.5)*(d-c);return Math.ceil(d+f)})(r),i=Date.now()+n;this.ve.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),Ne.warn(s),this.me||(this.me=!0,this.Ee())}Ee(){if(this.$e&&clearTimeout(this.$e),this.ve.length===0)return this.me=!1,void(this.$e=void 0);this.$e=setTimeout((()=>{this.be&&this.ve.length>0&&this.Dt(),this.Ee()}),this.ye)}Dt(){var t=Date.now(),r=[],n=this.ve.filter((s=>s.retryAt<t||(r.push(s),!1)));if(this.ve=r,n.length>0)for(var{requestOptions:i}of n)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.$e&&(clearTimeout(this.$e),this.$e=void 0),this.me=!1,Se(ue)||(this.we&&(ue.removeEventListener("online",this.we),this.we=void 0),this.xe&&(ue.removeEventListener("offline",this.xe),this.xe=void 0)),this.ve))try{this._instance.ci(Pe({},t,{transport:"sendBeacon"}))}catch(r){Ne.error(r)}this.ve=[]}}class wU{constructor(t){this.ke=()=>{var r,n,i,s;this.Pe||(this.Pe={});var a=this.scrollElement(),o=this.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,d=o+((a==null?void 0:a.clientHeight)||0),f=(a==null?void 0:a.scrollHeight)||0;this.Pe.lastScrollY=Math.ceil(o),this.Pe.maxScrollY=Math.max(o,(r=this.Pe.maxScrollY)!==null&&r!==void 0?r:0),this.Pe.maxScrollHeight=Math.max(c,(n=this.Pe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Pe.lastContentY=d,this.Pe.maxContentY=Math.max(d,(i=this.Pe.maxContentY)!==null&&i!==void 0?i:0),this.Pe.maxContentHeight=Math.max(f,(s=this.Pe.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=t}getContext(){return this.Pe}resetContext(){var t=this.Pe;return setTimeout(this.ke,0),t}startMeasuringScrollPosition(){Zt(ue,"scroll",this.ke,{capture:!0}),Zt(ue,"scrollend",this.ke,{capture:!0}),Zt(ue,"resize",this.ke)}scrollElement(){if(!this._instance.config.scroll_root_selector)return ue==null?void 0:ue.document.documentElement;var t=xt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=ue==null?void 0:ue.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return ue&&(ue.scrollY||ue.pageYOffset||ue.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return ue&&(ue.scrollX||ue.pageXOffset||ue.document.documentElement.scrollLeft)||0}}var EU=e=>LI(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class ES{constructor(t,r,n,i){this.Te=s=>{var a=this.Re();if(!a||a.sessionId!==s){var o={sessionId:s,props:this.Ie(this._instance)};this.Fe.register({[h1]:o})}},this._instance=t,this.Ce=r,this.Fe=n,this.Ie=i||EU,this.Ce.onSessionId(this.Te)}Re(){return this.Fe.props[h1]}getSetOnceProps(){var t,r=(t=this.Re())==null?void 0:t.props;return r?"r"in r?MI(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return At(cx(this.getSetOnceProps()),((r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+i1(n)]=r})),t}}var $v=lr("[SessionId]");class kS{on(t,r){return this.Me.on(t,r)}constructor(t,r,n){var i;if(this.Oe=[],this.Ae=void 0,this.Me=new _x,this.De=(f,p)=>Math.abs(f-p)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=t.config,this.Fe=t.persistence,this.je=void 0,this.Le=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ne=r||wa,this.Ue=n||wa;var s=this.F.persistence_name||this.F.token,a=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Yi(a,60,36e3,$v.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.ze(),this.He="ph_"+s+"_window_id",this.Be="ph_"+s+"_primary_window_exists",this.qe()){var o=Ar.W(this.He),c=Ar.W(this.Be);o&&!c?this.je=o:Ar.V(this.He),Ar.G(this.Be,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var d=(f=>{var p=f.replace(/-/g,"");if(p.length!==32)throw new Error("Not a valid UUID");if(p[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(p.substring(0,12),16)})(this.F.bootstrap.sessionID);this.We(this.F.bootstrap.sessionID,new Date().getTime(),d)}catch(f){$v.error("Invalid sessionID in bootstrap",f)}this.Ge()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Se(this.Oe)&&(this.Oe=[]),this.Oe.push(t),this.Le&&t(this.Le,this.je),()=>{this.Oe=this.Oe.filter((r=>r!==t))}}qe(){return this.F.persistence!=="memory"&&!this.Fe.wi&&Ar.H()}Ve(t){t!==this.je&&(this.je=t,this.qe()&&Ar.G(this.He,t))}Je(){return this.je?this.je:this.qe()?Ar.W(this.He):null}We(t,r,n){t===this.Le&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.Le=t,this.Fe.register({[gp]:[r,t,n]}))}Ke(){var t=this.Fe.props[gp];return xt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.We(null,null,null)}destroy(){clearTimeout(this.Ye),this.Ye=void 0,this.Ae&&ue&&(ue.removeEventListener("beforeunload",this.Ae,{capture:!1}),this.Ae=void 0),this.Oe=[]}Ge(){this.Ae=()=>{this.qe()&&Ar.V(this.Be)},Zt(ue,"beforeunload",this.Ae,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[i,s,a]=this.Ke(),o=this.Je(),c=es(a)&&a>0&&Math.abs(n-a)>864e5,d=!1,f=!s,p=!f&&!t&&this.De(n,i);f||p||c?(s=this.Ne(),o=this.Ue(),$v.info("new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:c}}),a=n,d=!0):o||(o=this.Ue(),d=!0);var v=i===0||!t||c?n:i,g=a===0?new Date().getTime():a;return this.Ve(o),this.We(s,v,g),t||this.ze(),d&&this.Oe.forEach((_=>_(s,o,d?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:c}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:g,changeReason:d?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:i}}ze(){clearTimeout(this.Ye),this.Ye=setTimeout((()=>{var[t]=this.Ke();if(this.De(new Date().getTime(),t)){var r=this.Le;this.resetSessionId(),this.Me.emit("forcedIdleReset",{idleSessionId:r})}}),1.1*this.sessionTimeoutMs)}}var kU=["$set_once","$set"],da=lr("[SiteApps]");class TU{constructor(t){this._instance=t,this.Xe=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Qe(t,r){if(r){var n=this.globalsForEvent(r);this.Xe.push(n),this.Xe.length>1e3&&(this.Xe=this.Xe.slice(10))}}get siteAppLoaders(){var t;return(t=et._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ai(this.Qe.bind(this));this.Ze=()=>{t(),this.Xe=[],this.Ze=void 0}}}globalsForEvent(t){var r,n,i,s,a,o,c;if(!t)throw new Error("Event payload is required");var d={},f=this._instance.get_property("$groups")||[],p=this._instance.get_property("$stored_group_properties")||{};for(var[v,g]of Object.entries(p))d[v]={id:f[v],type:v,properties:g};var{$set_once:_,$set:x}=t;return{event:Pe({},UP(t,kU),{properties:Pe({},t.properties,x?{$set:Pe({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},x)}:{},_?{$set_once:Pe({},(i=(s=t.properties)==null?void 0:s.$set_once)!==null&&i!==void 0?i:{},_)}:{}),elements_chain:(a=(o=t.properties)==null?void 0:o.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:d}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var o;!r.errored&&this.Xe.length&&(da.info("Processing "+this.Xe.length+" events for site app with id "+t.id),this.Xe.forEach((c=>r.processEvent==null?void 0:r.processEvent(c))),r.processedBuffer=!0),Object.values(this.apps).every((c=>c.processedBuffer||c.errored))&&((o=this.Ze)==null||o.call(this))},i=!1,s=o=>{r.errored=!o,r.loaded=!0,da.info("Site app with id "+t.id+" "+(o?"loaded":"errored")),i&&n()};try{var{processEvent:a}=t.init({posthog:this._instance,callback:o=>{s(o)}});a&&(r.processEvent=a),i=!0}catch(o){da.error("Error while initializing PostHog app with config id "+t.id,o),s(!1)}if(i&&r.loaded)try{n()}catch(o){da.error("Error while processing buffered events PostHog app with config id "+t.id,o),r.errored=!0}}tr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ir(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(i){da.error("Error while processing event "+t.event+" for site app "+n.id,i)}}}onRemoteConfig(t){var r,n,i,s=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.tr(),void this._instance.on("eventCaptured",(d=>this.ir(d)))):void da.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.Ze)==null||n.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var a=function(d){var f;et["__$$ph_site_app_"+d]=s._instance,(f=et.__PosthogExtensions__)==null||f.loadSiteApp==null||f.loadSiteApp(s._instance,c,(p=>{if(p)return da.error("Error while initializing PostHog app with config id "+d,p)}))};for(var{id:o,url:c}of t.siteApps)a(o)}else da.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var GI=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&L2(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some((i=>L2(i==null?void 0:i.brand,t))))return!0}catch{}return!!e.webdriver},$c=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),TS="i.posthog.com";class SU{constructor(t){this.er={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+TS,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.er[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=$c.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=$c.EU:this.er[this.apiHost]=$c.CUSTOM),this.er[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===$c.CUSTOM)return this.apiHost+r;var n=TS+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var CU={icontains:(e,t)=>!!ue&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ue&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!ue&&Ap(t.href,e),not_regex:(e,t)=>!!ue&&!Ap(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Fr{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments((i=>{Fr.rr("retrieved web experiments from the server"),r.sr=new Map,i.forEach((s=>{if(s.feature_flag_key){var a;r.sr&&(Fr.rr("setting flag key ",s.feature_flag_key," to web experiment ",s),(a=r.sr)==null||a.set(s.feature_flag_key,s));var o=r._instance.getFeatureFlag(s.feature_flag_key);or(o)&&s.variants[o]&&r.nr(s.name,o,s.variants[o].transforms)}else if(s.variants)for(var c in s.variants){var d=s.variants[c];Fr.ar(d)&&r.nr(s.name,c,d.transforms)}}))}),n)},this._instance=t,this._instance.onFeatureFlags((n=>{this.onFeatureFlags(n)}))}onFeatureFlags(t){if(this._is_bot())Fr.rr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(_t(this.sr))return this.sr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Fr.rr("applying feature flags",t),t.forEach((r=>{var n;if(this.sr&&(n=this.sr)!=null&&n.has(r)){var i,s=this._instance.getFeatureFlag(r),a=(i=this.sr)==null?void 0:i.get(r);s&&a!=null&&a.variants[s]&&this.nr(a.name,s,a.variants[s].transforms)}}))}}previewWebExperiment(){var t=Fr.getWindowLocation();if(t!=null&&t.search){var r=wp(t==null?void 0:t.search,"__experiment_id"),n=wp(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Fr.rr("previewing web experiments "+r+" && "+n),this.getWebExperiments((i=>{this.lr(parseInt(r),n,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var a=s.json.experiments||[];return t(a)}})}lr(t,r,n){var i=n.filter((s=>s.id===t));i&&i.length>0&&(Fr.rr("Previewing web experiment ["+i[0].name+"] with variant ["+r+"]"),this.nr(i[0].name,r,i[0].variants[r].transforms))}static ar(t){return!_t(t.conditions)&&Fr.ur(t)&&Fr.hr(t)}static ur(t){var r;if(_t(t.conditions)||_t((r=t.conditions)==null?void 0:r.url))return!0;var n,i,s,a=Fr.getWindowLocation();return!!a&&((n=t.conditions)==null||!n.url||CU[(i=(s=t.conditions)==null?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,a))}static getWindowLocation(){return ue==null?void 0:ue.location}static hr(t){var r;if(_t(t.conditions)||_t((r=t.conditions)==null?void 0:r.utm))return!0;var n=PI();if(n.utm_source){var i,s,a,o,c,d,f,p,v=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,g=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_source||((o=t.conditions)==null||(o=o.utm)==null?void 0:o.utm_source)==n.utm_source,_=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((d=t.conditions)==null||(d=d.utm)==null?void 0:d.utm_medium)==n.utm_medium,x=(f=t.conditions)==null||(f=f.utm)==null||!f.utm_term||((p=t.conditions)==null||(p=p.utm)==null?void 0:p.utm_term)==n.utm_term;return v&&_&&x&&g}return!1}static rr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];Ne.info("[WebExperiments] "+t,n)}nr(t,r,n){this._is_bot()?Fr.rr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach((i=>{if(i.selector){var s;Fr.rr("applying transform of variant "+r+" for experiment "+t+" ",i);var a=(s=document)==null?void 0:s.querySelectorAll(i.selector);a==null||a.forEach((o=>{var c=o;i.html&&(c.innerHTML=i.html),i.css&&c.setAttribute("style",i.css)}))}})):Fr.rr("Control variants leave the page unmodified.")}_is_bot(){return Mn&&this._instance?GI(Mn,this._instance.config.custom_blocked_useragents):void 0}}var AU=lr("[PostHog ExternalIntegrations]"),NU={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class jU{constructor(t){this._instance=t}it(t,r){var n;(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,(i=>{if(i)return AU.error("failed to load script",i);r()}))}startIfEnabledOrStop(){var t=this,r=function(a){var o,c,d;!i||(o=et.__PosthogExtensions__)!=null&&(o=o.integrations)!=null&&o[a]||t.it(NU[a],(()=>{var f;(f=et.__PosthogExtensions__)==null||(f=f.integrations)==null||(f=f[a])==null||f.start(t._instance)})),!i&&(c=et.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[a]&&((d=et.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[a])==null||d.stop())};for(var[n,i]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;r(n)}}}var T1="[SessionRecording]",bc=lr(T1);class SS{get started(){var t;return!((t=this.vr)==null||!t.isStarted)}get status(){return this.vr?this.vr.status:this.dr&&!this.cr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.dr=!1,this.pr=void 0,this._instance=t,!this._instance.sessionManager)throw bc.error("started without valid sessionManager"),new Error(T1+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(T1+' cannot be used with cookieless_mode="always"')}get cr(){var t,r=!((t=this._instance.get_property(Cv))==null||!t.enabled),n=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ue&&r&&n&&!i}startIfEnabledOrStop(t){var r;if(!this.cr||(r=this.vr)==null||!r.isStarted){var n=!Se(Object.assign)&&!Se(Array.from);this.cr&&n?(this.gr(t),bc.info("starting")):this.stopRecording()}}gr(t){var r,n,i;this.cr&&(et!=null&&(r=et.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=et.__PosthogExtensions__)!=null&&n.initSessionRecording?this._r(t):(i=et.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.mr,(s=>{if(s)return bc.error("could not load recorder",s);this._r(t)})))}stopRecording(){var t,r;(t=this.pr)==null||t.call(this),this.pr=void 0,(r=this.vr)==null||r.stop()}yr(){var t;(t=this._instance.persistence)==null||t.unregister(QP)}br(t){if(this._instance.persistence){var r,n,i=this._instance.persistence,s=()=>{var a=t.sessionRecording===!1?void 0:t.sessionRecording,o=a==null?void 0:a.sampleRate,c=_t(o)?null:parseFloat(o);_t(c)&&this.yr();var d=a==null?void 0:a.minimumDurationMilliseconds;i.register({[Cv]:Pe({enabled:!!a},a,{networkPayloadCapture:Pe({capturePerformance:t.capturePerformance},a==null?void 0:a.networkPayloadCapture),canvasRecording:{enabled:a==null?void 0:a.recordCanvas,fps:a==null?void 0:a.canvasFps,quality:a==null?void 0:a.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Se(d)?null:d,endpoint:a==null?void 0:a.endpoint,triggerMatchType:a==null?void 0:a.triggerMatchType,masking:a==null?void 0:a.masking,urlTriggers:a==null?void 0:a.urlTriggers})})};s(),(r=this.pr)==null||r.call(this),this.pr=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.br(t),this.dr=!0,this.startIfEnabledOrStop()):this.dr=!0:bc.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.vr)!=null&&n.log?this.vr.log(t,r):bc.warn("log called before recorder was ready")}get mr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(Cv);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}_r(t){var r,n;if((r=et.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.vr||(this.vr=(n=et.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.vr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.vr.start(t)}onRRwebEmit(t){var r;(r=this.vr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.vr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.vr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.vr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.vr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.vr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.vr)==null||!n.tryAddCustomEvent(t,r))}}var Vc={},S1=()=>{},kl="posthog",YI=!sU&&(mn==null?void 0:mn.indexOf("MSIE"))===-1&&(mn==null?void 0:mn.indexOf("Mozilla"))===-1,CS=e=>{var t;return Pe({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:Z9(Ae==null?void 0:Ae.location),persistence:"localStorage+cookie",persistence_name:"",loaded:S1,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:vn&&or(vn==null?void 0:vn.search)&&vn.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(ue==null||(t=ue.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;Ne.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:k1},error_tracking:{},_onCapture:S1,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},AS=e=>{var t={};Se(e.process_person)||(t.person_profiles=e.process_person),Se(e.xhr_headers)||(t.request_headers=e.xhr_headers),Se(e.cookie_name)||(t.persistence_name=e.cookie_name),Se(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Se(e.store_google)||(t.save_campaign_params=e.store_google),Se(e.verbose)||(t.debug=e.verbose);var r=Yt({},t,e);return xt(e.property_blacklist)&&(Se(e.property_denylist)?r.property_denylist=e.property_blacklist:xt(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ne.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class OU{constructor(){this.__forceAllowLocalhost=!1}get wr(){return this.__forceAllowLocalhost}set wr(t){Ne.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Mm{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new OU,this.Sr=!1,this.version=ms.LIB_VERSION,this.Er=new _x,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=CS(),this.SentryIntegration=A$,this.sentryIntegration=t=>(function(r,n){var i=mI(r,n);return{name:pI,processEvent:s=>i(s)}})(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$r=!1,this.kr=null,this.Pr=null,this.Tr=null,this.featureFlags=new uU(this),this.toolbar=new j$(this),this.scrollManager=new wU(this),this.pageViewManager=new X$(this),this.surveys=new gU(this),this.experiments=new Fr(this),this.exceptions=new aU(this),this.rateLimiter=new vU(this),this.requestRouter=new SU(this),this.consent=new w$(this),this.externalIntegrations=new jU(this),this.people={set:(t,r,n)=>{var i=or(t)?{[t]:r}:t;this.setPersonProperties(i),n==null||n({})},set_once:(t,r,n)=>{var i=or(t)?{[t]:r}:t;this.setPersonProperties(void 0,i),n==null||n({})}},this.on("eventCaptured",(t=>Ne.info('send "'+(t==null?void 0:t.event)+'"',t)))}init(t,r,n){if(n&&n!==kl){var i,s=(i=Vc[n])!==null&&i!==void 0?i:new Mm;return s._init(t,r,n),Vc[n]=s,Vc[kl][n]=s,s}return this._init(t,r,n)}_init(t,r,n){var i;if(r===void 0&&(r={}),Se(t)||s1(t))return Ne.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Rr(r.debug),this.Ir=r,this.Fr=[],r.person_profiles&&(this.Pr=r.person_profiles),this.set_config(Yt({},CS(r.defaults),AS(r),{name:n,token:t})),this.config.on_xhr_error&&Ne.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:bs.GZipJS;var s=this.Cr();this.persistence=new Bv(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Bv(Pe({},this.config,{persistence:"sessionStorage"}),s);var a=Pe({},this.persistence.props),o=Pe({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Mr=new bU((A=>this.Or(A)),this.config.request_queue_config),this.Ar=new xU(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new kS(this),this.sessionPropsManager=new ES(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Ne.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Dr(c)}),0)):(Ne.info("Initializing extensions synchronously"),this.Dr(c)),ms.DEBUG=ms.DEBUG||this.config.debug,ms.DEBUG&&Ne.info("Starting in debug mode",{this:this,config:r,thisC:Pe({},this.config),p:a,s:o}),((i=r.bootstrap)==null?void 0:i.distinctID)!==void 0){var d,f,p=this.config.get_device_id(wa()),v=(d=r.bootstrap)!=null&&d.isIdentifiedID?p:r.bootstrap.distinctID;this.persistence.set_property(gs,(f=r.bootstrap)!=null&&f.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:v})}if(this.jr()){var g,_,x=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter((A=>{var S;return!((S=r.bootstrap)==null||(S=S.featureFlags)==null||!S[A])})).reduce(((A,S)=>{var O;return A[S]=((O=r.bootstrap)==null||(O=O.featureFlags)==null?void 0:O[S])||!1,A}),{}),b=Object.keys(((_=r.bootstrap)==null?void 0:_.featureFlagPayloads)||{}).filter((A=>x[A])).reduce(((A,S)=>{var O,j;return(O=r.bootstrap)!=null&&(O=O.featureFlagPayloads)!=null&&O[S]&&(A[S]=(j=r.bootstrap)==null||(j=j.featureFlagPayloads)==null?void 0:j[S]),A}),{});this.featureFlags.receivedFeatureFlags({featureFlags:x,featureFlagPayloads:b})}if(c)this.register_once({distinct_id:dc,$device_id:null},"");else if(!this.get_distinct_id()){var w=this.config.get_device_id(wa());this.register_once({distinct_id:w,$device_id:w},""),this.persistence.set_property(gs,"anonymous")}return Zt(ue,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?C$(this,(()=>this.Lr())):this.Lr(),ka(this.config._onCapture)&&this.config._onCapture!==S1&&(Ne.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(A=>this.config._onCapture(A.event,A)))),this.config.ip&&Ne.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Dr(t){var r=performance.now();this.historyAutocapture=new S$(this),this.historyAutocapture.startIfEnabled();var n=[];n.push((()=>{new P$(this).startIfEnabledOrStop()})),n.push((()=>{var i;this.siteApps=new TU(this),(i=this.siteApps)==null||i.init()})),t||n.push((()=>{this.sessionRecording=new SS(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||n.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),n.push((()=>{this.autocapture=new p$(this),this.autocapture.startIfEnabled()})),n.push((()=>{this.surveys.loadIfEnabled()})),n.push((()=>{this.heatmaps=new K$(this),this.heatmaps.startIfEnabled()})),n.push((()=>{this.webVitalsAutocapture=new G$(this)})),n.push((()=>{this.exceptionObserver=new T$(this),this.exceptionObserver.startIfEnabled()})),n.push((()=>{this.deadClicksAutocapture=new fI(this,k$),this.deadClicksAutocapture.startIfEnabled()})),n.push((()=>{if(this.Nr){var i=this.Nr;this.Nr=void 0,this.fi(i)}})),this.Ur(n,r)}Ur(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout((()=>{this.Ur(t,r)}),0);var n=t.shift();if(n)try{n()}catch(s){Ne.error("Error initializing extension:",s)}}var i=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&Ne.info("PostHog extensions initialized ("+i+"ms)")}fi(t){var r,n,i,s,a,o,c,d;if(!Ae||!Ae.body)return Ne.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Nr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=st(t.supportedCompression,bs.GZipJS)?bs.GZipJS:st(t.supportedCompression,bs.Base64)?bs.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Pr?this.Pr:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(s=this.autocapture)==null||s.onRemoteConfig(t),(a=this.heatmaps)==null||a.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(o=this.webVitalsAutocapture)==null||o.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(d=this.deadClicksAutocapture)==null||d.onRemoteConfig(t)}Lr(){try{this.config.loaded(this)}catch(t){Ne.critical("`loaded` function failed",t)}this.zr(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Hr()}),1),new yU(this).load(),this.featureFlags.flags()}zr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Mr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Sa(this.__request_queue,(t=>this.Or(t))),this.__request_queue=[],this.zr()}_handle_unload(){var t,r;this.config.request_batching?(this.Br()&&this.capture("$pageleave"),(t=this.Mr)==null||t.unload(),(r=this.Ar)==null||r.unload()):this.Br()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(t){this.__loaded&&(YI?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Cp(t.url,{ip:this.config.ip?1:0}),t.headers=Pe({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,i,s,a=Pe({},r);a.timeout=a.timeout||6e4,a.url=Cp(a.url,{_:new Date().getTime().toString(),ver:ms.LIB_VERSION,compression:a.compression});var o=(n=a.transport)!==null&&n!==void 0?n:"fetch",c=ip.filter((f=>!a.disableTransport||!f.transport||!a.disableTransport.includes(f.transport))),d=(i=(s=YP(c,(f=>f.transport===o)))==null?void 0:s.method)!==null&&i!==void 0?i:c[0].method;if(!d)throw new Error("No available transport method");d(a)})(Pe({},t,{callback:r=>{var n,i;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(i=this.config).on_request_error)==null||n.call(i,r)),t.callback==null||t.callback(r)}}))))}Or(t){this.Ar?this.Ar.retriableRequest(t):this.ci(t)}_execute_array(t){var r,n=[],i=[],s=[];Sa(t,(o=>{o&&(r=o[0],xt(r)?s.push(o):ka(o)?o.call(this):xt(o)&&r==="alias"?n.push(o):xt(o)&&r.indexOf("capture")!==-1&&ka(this[r])?s.push(o):i.push(o))}));var a=function(o,c){Sa(o,(function(d){if(xt(d[0])){var f=c;At(d,(function(p){f=f[p[0]].apply(f,p.slice(1))}))}else this[d[0]].apply(this,d.slice(1))}),c)};a(n,this),a(i,this),a(s,this)}jr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Mr){if(this.is_capturing())if(!Se(t)&&or(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var a=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(a==null||!a.isRateLimited){r!=null&&r.$current_url&&!or(r==null?void 0:r.$current_url)&&(Ne.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,c=(n==null?void 0:n.timestamp)||o,d=wa(),f={uuid:d,event:t,properties:this.calculateEventProperties(t,r||{},c,d)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&s&&(f.event="$bot_pageview",f.properties.$browser_type="bot"),a&&(f.properties.$lib_rate_limit_remaining_tokens=a.remainingTokens),n!=null&&n.$set&&(f.$set=n==null?void 0:n.$set);var p,v=this.qr(n==null?void 0:n.$set_once);if(v&&(f.$set_once=v),(f=Q9(f,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Se(n==null?void 0:n.timestamp)||(f.properties.$event_time_override_provided=!0,f.properties.$event_time_override_system_time=o),t===sp.DISMISSED||t===sp.SENT){var g=r==null?void 0:r[_S.SURVEY_ID],_=r==null?void 0:r[_S.SURVEY_ITERATION];p={id:g,current_iteration:_},localStorage.getItem(xS(p))||localStorage.setItem(xS(p),"true"),f.$set=Pe({},f.$set,{[hU({id:g,current_iteration:_},t===sp.SENT?"responded":"dismissed")]:!0})}var x=Pe({},f.properties.$set,f.$set);if(Nl(x)||this.setPersonPropertiesForFlags(x),!_t(this.config.before_send)){var b=this.Wr(f);if(!b)return;f=b}this.Er.emit("eventCaptured",f);var w={method:"POST",url:(i=n==null?void 0:n._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:f,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Or(w):this.Mr.enqueue(w),f}Ne.critical("This capture call is ignored due to client rate limiting.")}}else Ne.error("No event name provided to posthog.capture")}else Ne.uninitializedWarning("posthog.capture")}Ai(t){return this.on("eventCaptured",(r=>t(r.event,r)))}calculateEventProperties(t,r,n,i,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var a=s?void 0:this.persistence.remove_event_timer(t),o=Pe({},r);if(o.token=this.config.token,o.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(o.$cookieless_mode=!0),t==="$snapshot"){var c=Pe({},this.persistence.properties(),this.sessionPersistence.properties());return o.distinct_id=c.distinct_id,(!or(o.distinct_id)&&!es(o.distinct_id)||s1(o.distinct_id))&&Ne.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var d,f=V$(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());o.$session_id=p,o.$window_id=v}this.sessionPropsManager&&Yt(o,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Yt(o,this.sessionRecording.sdkDebugProperties),o.$sdk_debug_retry_queue_size=(g=this.Ar)==null?void 0:g.length}catch(w){o.$sdk_debug_error_capturing_properties=String(w)}if(this.requestRouter.region===$c.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),d=t!=="$pageview"||s?t!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,i),o=Yt(o,d),t==="$pageview"&&Ae&&(o.title=Ae.title),!Se(a)){var _=n.getTime()-a;o.$duration=parseFloat((_/1e3).toFixed(3))}mn&&this.config.opt_out_useragent_filter&&(o.$browser_type=this._is_bot()?"bot":"browser"),(o=Yt({},f,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),xt(this.config.property_denylist)?At(this.config.property_denylist,(function(w){delete o[w]})):Ne.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var x=this.config.sanitize_properties;x&&(Ne.error("sanitize_properties is deprecated. Use before_send instead"),o=x(o,t));var b=this.Gr();return o.$process_person_profile=b,b&&!s&&this.Vr("_calculate_event_properties"),o}qr(t){var r;if(!this.persistence||!this.Gr()||this.Sr)return t;var n=this.persistence.get_initial_props(),i=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),s=Yt({},n,i||{},t||{}),a=this.config.sanitize_properties;return a&&(Ne.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),this.Sr=!0,Nl(s)?void 0:s}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var i;(i=this.persistence)==null||i.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}Jr(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Er.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=pU),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return Ne.uninitializedWarning("posthog.identify");if(es(t)&&(t=t.toString(),Ne.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ne.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==dc){if(this.Vr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Rc)&&(this.unregister(Rc),this.register({distinct_id:t}));var a=(this.persistence.get_property(gs)||"anonymous")==="anonymous";t!==i&&a?(this.persistence.set_property(gs,"identified"),this.setPersonPropertiesForFlags(Pe({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:r||{},$set_once:n||{}}),this.Tr=mS(t,r,n),this.featureFlags.setAnonymousDistinctId(i)):(r||n)&&this.setPersonProperties(r,n),t!==i&&(this.reloadFeatureFlags(),this.unregister(vp))}}else Ne.critical('The string "'+dc+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Ne.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.Vr("posthog.setPersonProperties")){var n=mS(this.get_distinct_id(),t,r);this.Tr!==n?(this.setPersonPropertiesForFlags(Pe({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Tr=n):Ne.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){if(this.Vr("posthog.group")){var i=this.getGroups();i[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Pe({},i,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),i[t]===r||n||this.reloadFeatureFlags()}}else Ne.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.Vr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,i,s;if(Ne.info("reset"),!this.__loaded)return Ne.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(gs,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Tr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:dc,$device_id:null},"");else{var o=this.config.get_device_id(wa());this.register_once({distinct_id:o,$device_id:t?o:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-a,0)}return i}alias(t,r){return t===this.get_property(KP)?(Ne.critical("Attempting to create alias for existing People user - aborting."),-2):this.Vr("posthog.alias")?(Se(r)&&(r=this.get_distinct_id()),t!==r?(this.Jr(Rc,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(Ne.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=Pe({},this.config);if(_r(t)){var n,i,s,a,o;Yt(this.config,AS(t));var c=this.Cr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Bv(Pe({},this.config,{persistence:"sessionStorage"}),c);var d=this.Rr(this.config.debug);Ta(d)&&(this.config.debug=d),Ta(this.config.debug)&&(this.config.debug?(ms.DEBUG=!0,zt.H()&&zt.G("ph_debug","true"),Ne.info("set_config",{config:t,oldConfig:r,newConfig:Pe({},this.config)})):(ms.DEBUG=!1,zt.H()&&zt.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.Kr(),(o=this.externalIntegrations)==null||o.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var i,s,a,o,c;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),n.url_trigger&&((o=this.sessionRecording)==null||o.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(Pe({},i,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:kl;return r!==kl&&(r=kl+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(gs))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(gs))==="identified"}Gr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Nl(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Rc])&&((r=this.persistence)==null||(r=r.props)==null||!r[bp]))}Br(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Gr()||this.Vr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Vr(t){return this.config.person_profiles==="never"?(Ne.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Jr(bp,!0),!0)}Cr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}Kr(){var t,r,n,i,s=this.Cr();return((t=this.persistence)==null?void 0:t.wi)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((r=this.sessionPersistence)==null?void 0:r.wi)!==s&&((i=this.sessionPersistence)==null||i.set_disabled(s)),s}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,i;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new kS(this),this.persistence&&(this.sessionPropsManager=new ES(this,this.sessionManager,this.persistence)),this.sessionRecording=new SS(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Kr(),this.zr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Se(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((i=t==null?void 0:t.captureEventName)!==null&&i!==void 0?i:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Hr()}else Ne.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Kr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:dc,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Hr())):Ne.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===vs.GRANTED?"granted":t===vs.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Kr()}_is_bot(){return Mn?GI(Mn,this.config.custom_blocked_useragents):void 0}Hr(){Ae&&(Ae.visibilityState==="visible"?this.$r||(this.$r=!0,this.capture("$pageview",{title:Ae.title},{send_instantly:!0}),this.kr&&(Ae.removeEventListener("visibilitychange",this.kr),this.kr=null)):this.kr||(this.kr=this.Hr.bind(this),Zt(Ae,"visibilitychange",this.kr)))}debug(t){t===!1?(ue==null||ue.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(ue==null||ue.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,i,s,a,o,c=this.Ir||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Ne.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",i=!1,s=Ne,a=(r="advanced_disable_flags")in(t=c)&&!Se(t[r]),o=n in t&&!Se(t[n]),a?t[r]:o?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):i)}Wr(t){if(_t(this.config.before_send))return t;var r=xt(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var i of r){if(n=i(n),_t(n)){var s="Event '"+t.event+"' was rejected in beforeSend function";return k9(t.event)?Ne.warn(s+". This can cause unexpected behavior."):Ne.info(s),null}n.properties&&!Nl(n.properties)||Ne.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Rr(t){var r=Ta(t)&&!t,n=zt.H()&&zt.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=X9(e.prototype[t[r]])})(Mm,["identify"]);var NS,Tl=(NS=Vc[kl]=new Mm,(function(){function e(){e.done||(e.done=!0,YI=!1,At(Vc,(function(t){t._dom_loaded()})))}Ae!=null&&Ae.addEventListener?Ae.readyState==="complete"?e():Zt(Ae,"DOMContentLoaded",e,{capture:!1}):ue&&Ne.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),NS),xx=E.createContext({client:Tl,bootstrap:void 0});function KI(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var s=0,a=n;s<a.length;s++){var o=a[s];if(!i.includes(o)||!KI(e[o],t[o],r))return!1}return!0}function PU(e){var t,r,n=e.children,i=e.client,s=e.apiKey,a=e.options,o=E.useRef(null),c=E.useMemo(function(){return i?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),a&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Tl)},[i,s,JSON.stringify(a)]);return E.useEffect(function(){if(!i){var d=o.current;d?(s!==d.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),a&&!KI(a,d.options)&&Tl.set_config(a),o.current={apiKey:s,options:a??{}}):(Tl.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Tl.init(s,a),o.current={apiKey:s,options:a??{}})}},[i,s,JSON.stringify(a)]),yn.createElement(xx.Provider,{value:{client:c,bootstrap:(t=a==null?void 0:a.bootstrap)!==null&&t!==void 0?t:(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.bootstrap}},n)}var Uv=function(e){return typeof e=="function"},nn=function(){var e=E.useContext(xx).client;return e},C1=function(e,t){return C1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},C1(e,t)};function IU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");C1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var RU={componentStack:null,exceptionEvent:null,error:null},DU={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){IU(t,e);function t(r){var n=e.call(this,r)||this;return n.state=RU,n}return t.prototype.componentDidCatch=function(r,n){var i=this.props.additionalProperties,s;Uv(i)?s=i(r):typeof i=="object"&&(s=i);var a=this.context.client,o=a.captureException(r,s),c=n.componentStack;this.setState({error:r,componentStack:c,exceptionEvent:o})},t.prototype.render=function(){var r=this.props,n=r.children,i=r.fallback,s=this.state;if(s.componentStack==null)return Uv(n)?n():n;var a=Uv(i)?yn.createElement(i,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):i;return yn.isValidElement(a)?a:(console.warn(DU.INVALID_FALLBACK),yn.createElement(yn.Fragment,null))},t.contextType=xx,t})(yn.Component);var A1=function(e,t){return A1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},A1(e,t)};function XI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Np=function(){return Np=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Np.apply(this,arguments)};function lu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function QI(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(i<3?a(s):i>3?a(t,r,s):a(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function JI(e,t){return function(r,n){t(r,n,e)}}function ZI(e,t,r,n,i,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,f=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,v=!1,g=r.length-1;g>=0;g--){var _={};for(var x in n)_[x]=x==="access"?{}:n[x];for(var x in n.access)_.access[x]=n.access[x];_.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var b=(0,r[g])(o==="accessor"?{get:f.get,set:f.set}:f[c],_);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(p=a(b.get))&&(f.get=p),(p=a(b.set))&&(f.set=p),(p=a(b.init))&&i.unshift(p)}else(p=a(b))&&(o==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,n.name,f),v=!0}function e3(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function t3(e){return typeof e=="symbol"?e:"".concat(e)}function r3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function n3(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Fe(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,c)}d((n=n.apply(e,t||[])).next())})}function i3(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Bm=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function s3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Bm(t,e,r)}function jp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function a3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wx(arguments[t]));return e}function o3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function l3(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Hl(e){return this instanceof Hl?(this.v=e,this):new Hl(e)}function u3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(_){return Promise.resolve(_).then(g,p)}}function o(g,_){n[g]&&(i[g]=function(x){return new Promise(function(b,w){s.push([g,x,b,w])>1||c(g,x)})},_&&(i[g]=_(i[g])))}function c(g,_){try{d(n[g](_))}catch(x){v(s[0][3],x)}}function d(g){g.value instanceof Hl?Promise.resolve(g.value.v).then(f,p):v(s[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function v(g,_){g(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function c3(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(a){return(r=!r)?{value:Hl(e[i](a)),done:!1}:s?s(a):a}:s}}function d3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof jp=="function"?jp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(o,c){a=e[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(d){s({value:d,done:o})},a)}}function h3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var LU=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},N1=function(e){return N1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},N1(e)};function f3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=N1(e),n=0;n<r.length;n++)r[n]!=="default"&&Bm(t,e,r[n]);return LU(t,e),t}function p3(e){return e&&e.__esModule?e:{default:e}}function m3(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function g3(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function v3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function y3(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var MU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function b3(e){function t(s){e.error=e.hasError?new MU(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function _3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?t?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):e}const BU={__extends:XI,__assign:Np,__rest:lu,__decorate:QI,__param:JI,__esDecorate:ZI,__runInitializers:e3,__propKey:t3,__setFunctionName:r3,__metadata:n3,__awaiter:Fe,__generator:i3,__createBinding:Bm,__exportStar:s3,__values:jp,__read:wx,__spread:a3,__spreadArrays:o3,__spreadArray:l3,__await:Hl,__asyncGenerator:u3,__asyncDelegator:c3,__asyncValues:d3,__makeTemplateObject:h3,__importStar:f3,__importDefault:p3,__classPrivateFieldGet:m3,__classPrivateFieldSet:g3,__classPrivateFieldIn:v3,__addDisposableResource:y3,__disposeResources:b3,__rewriteRelativeImportExtension:_3},FU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:y3,get __assign(){return Np},__asyncDelegator:c3,__asyncGenerator:u3,__asyncValues:d3,__await:Hl,__awaiter:Fe,__classPrivateFieldGet:m3,__classPrivateFieldIn:v3,__classPrivateFieldSet:g3,__createBinding:Bm,__decorate:QI,__disposeResources:b3,__esDecorate:ZI,__exportStar:s3,__extends:XI,__generator:i3,__importDefault:p3,__importStar:f3,__makeTemplateObject:h3,__metadata:n3,__param:JI,__propKey:t3,__read:wx,__rest:lu,__rewriteRelativeImportExtension:_3,__runInitializers:e3,__setFunctionName:r3,__spread:a3,__spreadArray:l3,__spreadArrays:o3,__values:jp,default:BU},Symbol.toStringTag,{value:"Module"})),$U=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ex extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jS extends Ex{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class OS extends Ex{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PS extends Ex{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var j1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(j1||(j1={}));class UU{constructor(t,{headers:r={},customFetch:n,region:i=j1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=$U(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Fe(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:o,signal:c}=n;let d={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let v;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=o):typeof o=="string"?(d["Content-Type"]="text/plain",v=o):typeof FormData<"u"&&o instanceof FormData?v=o:(d["Content-Type"]="application/json",v=JSON.stringify(o)):v=o;const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:v,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new jS(w)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new OS(g);if(!g.ok)throw new PS(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield g.json():x==="application/octet-stream"||x==="application/pdf"?b=yield g.blob():x==="text/event-stream"?b=g:x==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new jS(s)}:{data:null,error:s,response:s instanceof PS||s instanceof OS?s.context:void 0}}})}}var Br={};const uu=zB(FU);var xf={},wf={},Ef={},kf={},Tf={},Sf={},IS;function x3(){if(IS)return Sf;IS=1,Object.defineProperty(Sf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sf.default=e,Sf}var RS;function w3(){if(RS)return Tf;RS=1,Object.defineProperty(Tf,"__esModule",{value:!0});const t=uu.__importDefault(x3());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,p,v;let g=null,_=null,x=null,b=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?_=j:_=JSON.parse(j))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),O=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(g={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,x=null,b=406,w="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const S=await c.text();try{g=JSON.parse(S),Array.isArray(g)&&c.status===404&&(_=[],g=null,b=200,w="OK")}catch{c.status===404&&S===""?(b=204,w="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((v=g==null?void 0:g.details)===null||v===void 0)&&v.includes("0 rows"))&&(g=null,b=200,w="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:_,count:x,status:b,statusText:w}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,f,p;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return Tf.default=r,Tf}var DS;function E3(){if(DS)return kf;DS=1,Object.defineProperty(kf,"__esModule",{value:!0});const t=uu.__importDefault(w3());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return kf.default=r,kf}var LS;function kx(){if(LS)return Ef;LS=1,Object.defineProperty(Ef,"__esModule",{value:!0});const t=uu.__importDefault(E3()),r=new RegExp("[,()]");class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${d}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return Ef.default=n,Ef}var MS;function k3(){if(MS)return wf;MS=1,Object.defineProperty(wf,"__esModule",{value:!0});const t=uu.__importDefault(kx());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},c=a?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return wf.default=r,wf}var BS;function HU(){if(BS)return xf;BS=1,Object.defineProperty(xf,"__esModule",{value:!0});const e=uu,t=e.__importDefault(k3()),r=e.__importDefault(kx());class n{constructor(s,{headers:a={},schema:o,fetch:c}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:c=!1,count:d}={}){var f;let p;const v=new URL(`${this.url}/rpc/${s}`);let g;o||c?(p=o?"HEAD":"GET",Object.entries(a).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{v.searchParams.append(x,b)})):(p="POST",g=a);const _=new Headers(this.headers);return d&&_.set("Prefer",`count=${d}`),new r.default({method:p,url:v,headers:_,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return xf.default=n,xf}var FS;function zU(){if(FS)return Br;FS=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.PostgrestError=Br.PostgrestBuilder=Br.PostgrestTransformBuilder=Br.PostgrestFilterBuilder=Br.PostgrestQueryBuilder=Br.PostgrestClient=void 0;const e=uu,t=e.__importDefault(HU());Br.PostgrestClient=t.default;const r=e.__importDefault(k3());Br.PostgrestQueryBuilder=r.default;const n=e.__importDefault(kx());Br.PostgrestFilterBuilder=n.default;const i=e.__importDefault(E3());Br.PostgrestTransformBuilder=i.default;const s=e.__importDefault(w3());Br.PostgrestBuilder=s.default;const a=e.__importDefault(x3());return Br.PostgrestError=a.default,Br.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Br}var T3=zU();const S3=ui(T3),WU=wP({__proto__:null,default:S3},[T3]),{PostgrestClient:qU,PostgrestQueryBuilder:xve,PostgrestFilterBuilder:wve,PostgrestTransformBuilder:Eve,PostgrestBuilder:kve,PostgrestError:Tve}=S3||WU;class VU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const GU="2.79.0",YU=`realtime-js/${GU}`,KU="1.0.0",O1=1e4,XU=1e3,QU=100;var Gc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gc||(Gc={}));var ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ir||(ir={}));var Si;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Si||(Si={}));var P1;(function(e){e.websocket="websocket"})(P1||(P1={}));var co;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(co||(co={}));class JU{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class C3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const $S=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=ZU(a,e,t,i),s),{}):{}},ZU=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?A3(s,a):I1(a)},A3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return n7(t,r)}switch(e){case Tt.bool:return e7(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return t7(t);case Tt.json:case Tt.jsonb:return r7(t);case Tt.timestamp:return i7(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return I1(t);default:return I1(t)}},I1=e=>e,e7=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},n7=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>A3(t,o))}return e},i7=e=>typeof e=="string"?e.replace(" ","T"):e,N3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hv{constructor(t,r,n={},i=O1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var US;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(US||(US={}));class Yc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Yc.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(s,(d,f)=>{a[d]||(c[d]=f)}),this.map(a,(d,f)=>{const p=s[d];if(p){const v=f.map(b=>b.presence_ref),g=p.map(b=>b.presence_ref),_=f.filter(b=>g.indexOf(b.presence_ref)<0),x=p.filter(b=>v.indexOf(b.presence_ref)<0);_.length>0&&(o[d]=_),x.length>0&&(c[d]=x)}else o[d]=f}),this.syncDiff(s,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var d;const f=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),f.length>0){const p=t[o].map(g=>g.presence_ref),v=f.filter(g=>p.indexOf(g.presence_ref)<0);t[o].unshift(...v)}n(o,f,c)}),this.map(a,(o,c)=>{let d=t[o];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=d,i(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(HS||(HS={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class Tx{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hv(this,Si.join,this.params,this.timeout),this.rejoinTimer=new C3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ir.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Si.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Yc(this),this.broadcastEndpointURL=N3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ir.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Kc.PRESENCE]&&this.bindings[Kc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(ys.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ys.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){t==null||t(ys.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,w=[];for(let A=0;A<b;A++){const S=x[A],{filter:{event:O,schema:j,table:N,filter:P}}=S,R=g&&g[A];if(R&&R.event===O&&R.schema===j&&R.table===N&&R.filter===P)w.push(Object.assign(Object.assign({},S),{id:R.id}));else{this.unsubscribe(),this.state=ir.errored,t==null||t(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ys.SUBSCRIBED);return}}).receive("error",g=>{this.state=ir.errored,t==null||t(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ir.joined&&t===Kc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Si.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Hv(this,Si.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hv(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:f}=Si;if(n&&[o,c,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,x,b;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(x=g.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var _,x,b,w,A,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const O=g.id,j=(_=g.filter)===null||_===void 0?void 0:_.event;return O&&((x=r.ids)===null||x===void 0?void 0:x.includes(O))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const O=(A=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return O==="*"||O===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:x,table:b,commit_timestamp:w,type:A,errors:S}=_;v=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:w,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(_))}g.callback(v,n)})}_isClosed(){return this.state===ir.closed}_isJoined(){return this.state===ir.joined}_isJoining(){return this.state===ir.joining}_isLeaving(){return this.state===ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Tx.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Si.close,{},t)}_onError(t){this._on(Si.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$S(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$S(t.columns,t.old_record)),r}}const zv=()=>{},Cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},s7=[1e3,2e3,5e3,1e4],a7=1e4,o7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l7{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=O1,this.transport=null,this.heartbeatIntervalMs=Cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zv,this.ref=0,this.reconnectTimer=null,this.logger=zv,this.conn=null,this.sendBuffer=[],this.serializer=new JU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${P1.websocket}`,this.httpEndpoint=N3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KU}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gc.connecting:return co.Connecting;case Gc.open:return co.Open;case Gc.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Tx(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Si.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([o7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:YU};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Si.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new C3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,o,c,d,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:O1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Cf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:zv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>s7[p-1]||a7),this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((p,v)=>v(JSON.stringify(p))),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Sx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u7 extends Sx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class R1 extends Sx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Cx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),c7=()=>Response,D1=e=>{if(Array.isArray(e))return e.map(r=>D1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=D1(n)}),t},d7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},h7=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){const n=yield c7();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new u7(Wv(i),s,a))}).catch(i=>{t(new R1(Wv(i),i))}):t(new R1(Wv(e),e))}),f7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(d7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Dd(e,t,r,n,i,s){return Fe(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,f7(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>h7(c,o,n))})})}function hd(e,t,r,n){return Fe(this,void 0,void 0,function*(){return Dd(e,"GET",t,r,n)})}function Ti(e,t,r,n,i){return Fe(this,void 0,void 0,function*(){return Dd(e,"POST",t,n,i,r)})}function L1(e,t,r,n,i){return Fe(this,void 0,void 0,function*(){return Dd(e,"PUT",t,n,i,r)})}function p7(e,t,r,n){return Fe(this,void 0,void 0,function*(){return Dd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ax(e,t,r,n,i){return Fe(this,void 0,void 0,function*(){return Dd(e,"DELETE",t,n,i,r)})}class m7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}var j3;class g7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[j3]="BlobDownloadBuilder",this.promise=null}asStream(){return new m7(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}j3=Symbol.toStringTag;const v7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y7{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Cx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Fe(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},zS),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(t=="PUT"?L1:Ti)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Fe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:zS.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield L1(this.fetch,o.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ht(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ti(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Sx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}update(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Fe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ti(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Fe(this,void 0,void 0,function*(){try{const i=yield Ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(t),c=()=>hd(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new g7(c,this.shouldThrowOnError)}info(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield hd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:D1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}exists(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield p7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n)&&n instanceof R1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ax(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}list(t,r,n){return Fe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},v7),r),{prefix:t||""});return{data:yield Ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}listV2(t,r){return Fe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const O3="2.79.0",P3={"X-Client-Info":`storage-js/${O3}`};class b7{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P3),r),this.fetch=Cx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield hd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield hd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}createBucket(t){return Fe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield L1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ax(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class _7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P3),r),this.fetch=Cx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hd(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ax(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}const Nx={"X-Client-Info":`storage-js/${O3}`,"Content-Type":"application/json"};class I3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class qv extends I3{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x7 extends I3{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var WS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(WS||(WS={}));const jx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),E7=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new qv(qS(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new qv(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new qv(o,i,a))}}else t(new x7(qS(e),e))}),k7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(w7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function T7(e,t,r,n,i,s){return Fe(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,k7(t,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>E7(c,o,n))})})}function Dn(e,t,r,n,i){return Fe(this,void 0,void 0,function*(){return T7(e,"POST",t,n,i,r)})}class S7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nx),r),this.fetch=jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}})}}class C7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nx),r),this.fetch=jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}listVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}}class A7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nx),r),this.fetch=jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}listBuckets(){return Fe(this,arguments,void 0,function*(t={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}}class N7 extends A7{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new j7(this.url,this.headers,t,this.fetch)}}class j7 extends S7{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Fe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Fe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Fe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Fe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new O7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class O7 extends C7{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Fe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Fe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Fe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Fe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Fe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class P7 extends b7{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new y7(this.url,this.headers,t,this.fetch)}get vectors(){return new N7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _7(this.url+"/iceberg",this.headers,this.fetch)}}const I7="2.79.0";let Uc="";typeof Deno<"u"?Uc="deno":typeof document<"u"?Uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uc="react-native":Uc="node";const R7={"X-Client-Info":`supabase-js-${Uc}/${I7}`},D7={headers:R7},L7={schema:"public"},M7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B7={},F7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$7=()=>Headers,U7=(e,t,r)=>{const n=F7(r),i=$7();return async(s,a)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:d}))}};function H7(e){return e.endsWith("/")?e:e+"/"}function z7(e,t){var r,n;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:d,realtime:f,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function W7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(H7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const R3="2.79.0",Sl=30*1e3,M1=3,Vv=M1*Sl,q7="http://localhost:9999",V7="supabase.auth.token",G7={"X-Client-Info":`gotrue-js/${R3}`},B1="X-Supabase-Api-Version",D3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,K7=600*1e3;class fd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class X7 extends fd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Q7(e){return Ue(e)&&e.name==="AuthApiError"}class ho extends fd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pa extends fd{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class wi extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J7(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class pl extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends Pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nf extends Pa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z7(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class VS extends Pa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class F1 extends Pa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gv(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class GS extends Pa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $1 extends Pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YS=` 	
\r=`.split(""),eH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<YS.length;t+=1)e[YS[t].charCodeAt(0)]=-2;for(let t=0;t<Op.length;t+=1)e[Op[t].charCodeAt(0)]=t;return e})();function KS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Op[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Op[n]),t.queuedBits-=6}}function L3(e,t,r){const n=eH[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function XS(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{nH(a,n,r)};for(let a=0;a<e.length;a+=1)L3(e.charCodeAt(a),i,s);return t.join("")}function tH(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rH(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}tH(n,t)}}function nH(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Dl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)L3(e.charCodeAt(i),r,n);return new Uint8Array(t)}function iH(e){const t=[];return rH(e,r=>t.push(r)),new Uint8Array(t)}function po(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>KS(i,r,n)),KS(null,r,n),t.join("")}function sH(e){return Math.round(Date.now()/1e3)+e}function aH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $r=()=>typeof window<"u"&&typeof document<"u",ro={tested:!1,writable:!1},M3=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ro.tested)return ro.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ro.tested=!0,ro.writable=!0}catch{ro.tested=!0,ro.writable=!1}return ro.writable};function oH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const B3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},no=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ha=async(e,t)=>{await e.removeItem(t)};class Fm{constructor(){this.promise=new Fm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fm.promiseConstructor=Promise;function Yv(e){const t=e.split(".");if(t.length!==3)throw new $1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Y7.test(t[n]))throw new $1("JWT not in base64url format");return{header:JSON.parse(XS(t[0])),payload:JSON.parse(XS(t[1])),signature:Dl(t[2]),raw:{header:t[0],payload:t[1]}}}async function uH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cH(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function dH(e){return("0"+e.toString(16)).substr(-2)}function hH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,dH).join("")}async function fH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function pH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await fH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ml(e,t,r=!1){const n=hH();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cl(e,`${t}-code-verifier`,i);const s=await pH(n);return[s,n===s?"plain":"s256"]}const mH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gH(e){const t=e.headers.get(B1);if(!t||!t.match(mH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gl(e){if(!bH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _H(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function QS(e){return JSON.parse(JSON.stringify(e))}const ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xH=[502,503,504];async function JS(e){var t;if(!lH(e))throw new F1(ao(e),0);if(xH.includes(e.status))throw new F1(ao(e),e.status);let r;try{r=await e.json()}catch(s){throw new ho(ao(s),s)}let n;const i=gH(e);if(i&&i.getTime()>=D3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GS(ao(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new GS(ao(r),e.status,r.weak_password.reasons);throw new X7(ao(r),e.status||500,n)}const wH=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Qe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[B1]||(s[B1]=D3["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await EH(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function EH(e,t,r,n,i,s){const a=wH(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new F1(ao(c),0)}if(o.ok||await JS(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await JS(c)}}function Ei(e){var t;let r=null;SH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ZS(e){const t=Ei(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _a(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kH(e){return{data:e,error:null}}function TH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=lu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function eC(e){return e}function SH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xv=["global","local","others"];class CH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=B3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Xv[0]){if(Xv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xv.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lu(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_a})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:eC});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){gl(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_a})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){gl(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_a})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){gl(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){gl(t.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){gl(t.userId),gl(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:eC});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);d[`${b}Page`]=x}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ue(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function tC(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const vl={debug:!!(globalThis&&M3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AH extends F3{}async function NH(e,t,r){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function OH(e){return parseInt(e,16)}function PH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function IH(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:c,resources:d,scheme:f,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=$3(e.address),_=f?`${f}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${_} wants you to sign in with your Ethereum account:
${g}

${x}`;let w=`URI: ${p}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),c&&(w+=`
Request ID: ${c}`),d){let A=`
Resources:`;for(const S of d){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);A+=`
- ${S}`}w+=A}return`${b}
${w}`}class Jt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Pp extends Jt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function RH({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(U3(a)){if(s.rp.id!==a)return new Jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(U3(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class LH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MH=new LH;function BH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=lu(e,["challenge","user","excludeCredentials"]),s=Dl(t).buffer,a=Object.assign(Object.assign({},r),{id:Dl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Dl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function FH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=lu(e,["challenge","allowCredentials"]),i=Dl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Dl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function $H(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:po(new Uint8Array(e.response.attestationObject)),clientDataJSON:po(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:po(new Uint8Array(i.authenticatorData)),clientDataJSON:po(new Uint8Array(i.clientDataJSON)),signature:po(new Uint8Array(i.signature)),userHandle:i.userHandle?po(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rC(){var e,t;return!!($r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pp("Browser returned unexpected credential type",t)}:{data:null,error:new Pp("Empty credential response",t)}}catch(t){return{data:null,error:RH({error:t,options:e})}}}async function zH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pp("Browser returned unexpected credential type",t)}:{data:null,error:new Pp("Empty credential response",t)}}catch(t){return{data:null,error:DH({error:t,options:e})}}}const WH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},qH={userVerification:"preferred",hints:["security-key"]};function Ip(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const o=n[s];t(o)?n[s]=Ip(o,a):n[s]=Ip(a)}else n[s]=a}return n}function VH(e,t){return Ip(WH,e,t||{})}function GH(e,t){return Ip(qH,e,t||{})}class YH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const c=i??MH.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=VH(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await HH({publicKey:d,signal:c});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=GH(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await zH(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new ho("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new fd("rpId is required for WebAuthn authentication")};try{if(!rC())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new ho("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new fd("rpId is required for WebAuthn registration")};try{if(!rC())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new ho("Unexpected error in register",a)}}}}jH();const KH={url:q7,storageKey:V7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function nC(e,t,r){return await r()}const yl={};class pd{get jwks(){var t,r;return(r=(t=yl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&$r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},KH),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new CH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=B3(i.fetch),this.lock=i.lock||nC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:$r()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=NH:this.lock=nC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:M3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=tC(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if($r()&&(r=oH(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$r()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Z7(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new ho("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ei}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:v}=t;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await ml(this.storage,this.storageKey)),s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:_},xform:Ei})}else if("phone"in t){const{phone:f,password:p,options:v}=t;s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ei})}else throw new Af("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ZS})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ZS})}else throw new Af("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new pl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,o,c,d,f,p,v;let g,_;if("message"in t)g=t.message,_=t.signature;else{const{chain:x,wallet:b,statement:w,options:A}=t;let S;if($r())if(typeof b=="object")S=b;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")S=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const O=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href),j=await S.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=$3(j[0]);let P=(n=A==null?void 0:A.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const H=await S.request({method:"eth_chainId"});P=OH(H)}const R={domain:O.host,address:N,statement:w,uri:O.href,version:"1",chainId:P,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=A==null?void 0:A.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=IH(R),_=await S.request({method:"personal_sign",params:[PH(g),N]})}try{const{data:x,error:b}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:_},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ei});if(b)throw b;if(!x||!x.session||!x.user){const w=new pl;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Ue(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,i,s,a,o,c,d,f,p,v,g;let _,x;if("message"in t)_=t.message,x=t.signature;else{const{chain:b,wallet:w,statement:A,options:S}=t;let O;if($r())if(typeof w=="object")O=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))O=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const j=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const N=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),A?{statement:A}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)_=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${j.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:b,error:w}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:po(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ei});if(w)throw w;if(!b||!b.session||!b.user){const A=new pl;return this._returnResult({data:{user:null,session:null},error:A})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(Ue(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await no(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ei});if(await ha(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new pl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ei}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const f=new pl;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ml(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Af("You must provide either an email or phone number.")}catch(o){if(Ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ei});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;this.flowType==="pkce"&&([s,a]=await ml(this.storage,this.storageKey));const o=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:kH});return this._returnResult(o)}catch(s){if(Ue(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wi;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Af("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await no(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Kv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=_H(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_a}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wi}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:_a})})}catch(r){if(Ue(r))return J7(r)&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new wi;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ml(this.storage,this.storageKey));const{data:d,error:f}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:_a});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Yv(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!$r())throw new Nf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new VS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new VS("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=t;if(!s||!o||!a||!d)throw new Nf("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let v=f+p;c&&(v=parseInt(c));const g=v-f;g*1e3<=Sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const _=v-p;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,f);const{data:x,error:b}=await this._getUser(s);if(b)throw b;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:a,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Q7(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ml(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ue(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,c,d,f;const{data:p,error:v}=s;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return $r()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:c,access_token:d,nonce:f}=t,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ei}),{data:v,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new pl}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:g}))}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cH(async i=>(i>0&&await uH(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ei})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Gv(s)&&Date.now()+a-n<Sl})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await no(this.storage,this.storageKey);if(i&&this.userStorage){let a=await no(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Cl(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Kv()}else if(i&&!i.user&&!i.user){const a=await no(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ha(this.storage,this.storageKey+"-user"),await Cl(this.storage,this.storageKey,i)):i.user=Kv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Vv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Gv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fm;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new wi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ue(s)){const a={data:null,error:s};return Gv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=QS(i);await Cl(this.storage,this.storageKey,s)}else{const i=QS(r);await Cl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ha(this.storage,this.storageKey),await ha(this.storage,this.storageKey+"-code-verifier"),await ha(this.storage,this.storageKey+"-user"),this.userStorage&&await ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sl}ms, refresh threshold is ${M1} ticks`),i<=M1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ml(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$H(t.webauthn.credential_response):UH(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:BH(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:FH(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Yv(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wi})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wi});const a=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wi});const a=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+K7>i)return n;const{data:s,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:_}=await this.getSession();if(_||!g.session)return this._returnResult({data:null,error:_});n=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=Yv(n);r!=null&&r.allowExpired||vH(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=yH(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,iH(`${o}.${c}`)))throw new $1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}pd.nextInstanceID=0;const XH=pd;class QH extends XH{constructor(t){super(t)}}class JH{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const o=W7(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:L7,realtime:B7,auth:Object.assign(Object.assign({},M7),{storageKey:c}),global:D7},f=z7(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=U7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new qU(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new P7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new UU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:c,debug:d,throwOnError:f},p,v){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QH({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:c,debug:d,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new l7(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZH=(e,t,r)=>new JH(e,t,r);function ez(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ez()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tz="https://ntmiycfydldoremofrbf.supabase.co",rz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im50bWl5Y2Z5ZGxkb3JlbW9mcmJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzMDUxNDcsImV4cCI6MjA3Nzg4MTE0N30.LvdzPQaM55tQ9t5yZt60K-lYNaKLRyTNtBQ92Mw5Kpc";let Rp=null;const U1=new Set;function Qv(e){Rp!==e&&(Rp=e,U1.forEach(t=>t(e)))}function nz(e){return U1.add(e),Rp!==null&&e(Rp),()=>U1.delete(e)}const iz=5e3;function sz(e,t){const r=typeof e=="string"&&e.includes("/auth/v1/");let n;return r&&(n=setTimeout(()=>Qv(!1),iz)),fetch(e,t).then(i=>(r&&(clearTimeout(n),Qv(i.status<500)),i),i=>{throw r&&(clearTimeout(n),Qv(!1)),i})}const qe=ZH(tz,rz,{global:{fetch:sz}}),ki={AUTH_ATTEMPT_STARTED:"auth_attempt_started",AUTH_SUCCESS:"auth_success",AUTH_FAILED:"auth_failed",AUTH_LOGOUT:"auth_logout",AUTH_REDIRECT_LOOP_DETECTED:"auth_redirect_loop_detected",FIRST_LOGIN_PAGE_VIEW:"first_login_page_view_in_session",AUTH_CALLBACK_STARTED:"auth_callback_started",AUTH_CALLBACK_SUCCESS:"auth_callback_success",AUTH_CALLBACK_ERROR:"auth_callback_error"},H1={GITHUB:"github",EMAIL:"email"},iC={LOGIN_PAGE:"login_page",AUTH_PAGE:"auth_page",AUTO_REDIRECT:"auto_redirect",PROTECTED_ROUTE:"protected_route"},Dp={NEW:"new",RETURNING:"returning"},pn={LOGIN_PAGE_VIEWS:"tb_login_page_views",LOGIN_PAGE_TRACKED:"tb_login_page_tracked",AUTH_ATTEMPT_ID:"tb_auth_attempt_id"},H3=E.createContext({}),qr=()=>{const e=E.useContext(H3);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},az=({children:e})=>{const[t,r]=E.useState(null),[n,i]=E.useState(null),[s,a]=E.useState(!0),o=nn();E.useEffect(()=>{qe.auth.getSession().then(({data:{session:N}})=>{r((N==null?void 0:N.user)??null),N!=null&&N.user?f(N.user.id):a(!1)});const{data:{subscription:j}}=qe.auth.onAuthStateChange((N,P)=>{r((P==null?void 0:P.user)??null),P!=null&&P.user?f(P.user.id):(i(null),a(!1))});return()=>j.unsubscribe()},[]);const c=E.useCallback(()=>{try{sessionStorage.removeItem(pn.LOGIN_PAGE_VIEWS),sessionStorage.removeItem(pn.LOGIN_PAGE_TRACKED),sessionStorage.removeItem(pn.AUTH_ATTEMPT_ID)}catch{}},[]),d=E.useCallback(()=>{try{return sessionStorage.getItem(pn.AUTH_ATTEMPT_ID)}catch{return null}},[]),f=async(j,N=0,P=null)=>{try{const{data:D,error:M}=await qe.from("profiles").select("id, email, github_username, github_avatar_url, first_name, last_name, bio, linkedin_url, website_url, specialties, onboarding_completed, slack_joined, payments_setup, dev_env_setup, is_admin, can_see_incentives, created_at").eq("id",j).single();if(M){if(M.code==="PGRST116"&&N<3)return console.log(`Profile not ready yet, retrying in 500ms... (attempt ${N+1}/3)`),await new Promise(F=>setTimeout(F,500)),f(j,N+1,P);throw M}if(i(D),o&&D){const F=P||(D.github_username?H1.GITHUB:H1.EMAIL),Y=o.get_distinct_id()===j?Dp.RETURNING:Dp.NEW;o.capture(ki.AUTH_SUCCESS,{method:F,session_type:Y,attempt_id:d()}),o.identify(j,{email:D.email,github_username:D.github_username,name:[D.first_name,D.last_name].filter(Boolean).join(" ")||void 0,created_at:D.created_at,is_authenticated:!0,auth_method:F,last_auth_at:new Date().toISOString()}),c()}}catch(D){console.error("Error loading profile:",D),i(null)}finally{a(!1)}},O={user:t,profile:n,loading:s,signInWithGitHub:async()=>{try{const j=window.location.pathname.split("/").filter(Boolean);let N="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?j[0]==="Terminus-EC-Training-stateful"&&(N="/Terminus-EC-Training-stateful"):N="/Terminus-EC-Training-stateful";const P=`${window.location.origin}${N}/portal`;console.log(" OAuth Debug Info:"),console.log("  Current URL:",window.location.href),console.log("  Redirect To:",P),console.log("  Origin:",window.location.origin),console.log("  Pathname:",window.location.pathname);const{error:R}=await qe.auth.signInWithOAuth({provider:"github",options:{redirectTo:P}});if(R)throw R}catch(j){throw console.error("Error signing in with GitHub:",j),j}},signInWithEmail:async(j,N)=>{try{const{data:P,error:R}=await qe.auth.signInWithPassword({email:j,password:N});if(R)throw R;return P}catch(P){throw console.error("Error signing in with email:",P),P}},signUpWithEmail:async(j,N)=>{try{const P=window.location.pathname.split("/").slice(0,-1).join("/")||"",R=`${window.location.origin}${P}/portal`,{data:H,error:D}=await qe.auth.signUp({email:j,password:N,options:{emailRedirectTo:R}});if(D)throw D;return H}catch(P){throw console.error("Error signing up with email:",P),P}},signOut:async()=>{try{o&&o.capture(ki.AUTH_LOGOUT);const{error:j}=await qe.auth.signOut();if(j)throw j;i(null),o&&o.reset()}catch(j){throw console.error("Error signing out:",j),j}},deleteAccount:async()=>{try{const{error:j}=await qe.functions.invoke("delete-account",{method:"POST"});if(j)throw j;return r(null),i(null),o&&o.reset(),{error:null}}catch(j){return console.error("Error deleting account:",j),{error:j}}},completeOnboarding:async(j=[])=>{try{const N={onboarding_completed:!0};j&&j.length>0&&(N.specialties=j);const{error:P}=await qe.from("profiles").update(N).eq("id",t.id);if(P)throw P;i(R=>({...R,...N}))}catch(N){throw console.error("Error completing onboarding:",N),N}},updateProfile:async j=>{try{const{error:N}=await qe.from("profiles").update(j).eq("id",t.id);if(N)throw N;return i(P=>({...P,...j})),{error:null}}catch(N){return console.error("Error updating profile:",N),{error:N}}},resetPassword:async j=>{try{const N=window.location.pathname.split("/").filter(Boolean);let P="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?N[0]==="Terminus-EC-Training-stateful"&&(P="/Terminus-EC-Training-stateful"):P="/Terminus-EC-Training-stateful";const R=`${window.location.origin}${P}/reset-password`,{error:H}=await qe.auth.resetPasswordForEmail(j,{redirectTo:R});if(H)throw H;return{error:null}}catch(N){return console.error("Error resetting password:",N),{error:N}}},updatePassword:async j=>{try{const{error:N}=await qe.auth.updateUser({password:j});if(N)throw N;return{error:null}}catch(N){return console.error("Error updating password:",N),{error:N}}}};return l.jsx(H3.Provider,{value:O,children:e})},z3=E.createContext(),oz=({children:e})=>{const[t,r]=E.useState("light");E.useEffect(()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")},[]);const n=()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")};return l.jsx(z3.Provider,{value:{theme:t,toggleTheme:n},children:e})},W3=()=>E.useContext(z3),q3=E.createContext({}),V3=()=>{const e=E.useContext(q3);if(!e)throw new Error("useProgress must be used within a ProgressProvider");return e},lz=({children:e})=>{const{user:t}=qr(),[r,n]=E.useState([]),[i,s]=E.useState({}),[a,o]=E.useState(!0);E.useEffect(()=>{c()},[]),E.useEffect(()=>{t?d():(s({}),o(!1))},[t]);const c=async()=>{try{const{data:b,error:w}=await qe.from("progress_items").select("id, category, title, display_order, is_core").order("display_order");if(w)throw w;n(b||[])}catch(b){console.error("Error fetching progress items:",b)}},d=async()=>{try{o(!0);const{data:b,error:w}=await qe.from("user_progress").select("progress_item_id, completed, completed_at").eq("user_id",t.id);if(w)throw w;const A={};b==null||b.forEach(S=>{A[S.progress_item_id]=S}),s(A)}catch(b){console.error("Error fetching user progress:",b)}finally{o(!1)}},x={progressItems:r,userProgress:i,loading:a,toggleCompletion:async b=>{if(!t)return;const w=i[b],A=!(w!=null&&w.completed);s(S=>({...S,[b]:{...S[b],completed:A,completed_at:A?new Date().toISOString():null}}));try{const{error:S}=await qe.from("user_progress").upsert({user_id:t.id,progress_item_id:b,completed:A,completed_at:A?new Date().toISOString():null},{onConflict:"user_id,progress_item_id"});if(S)throw S}catch(S){console.error("Error toggling completion:",S),s(O=>({...O,[b]:w}))}},isCompleted:b=>{var w;return((w=i[b])==null?void 0:w.completed)||!1},getCompletionPercentage:()=>{if(r.length===0)return 0;const b=Object.values(i).filter(w=>w.completed).length;return Math.round(b/r.length*100)},getCoreCompletionPercentage:()=>{const b=r.filter(A=>A.is_core);if(b.length===0)return 0;const w=b.filter(A=>{var S;return(S=i[A.id])==null?void 0:S.completed}).length;return Math.round(w/b.length*100)},getCompletedCount:()=>Object.values(i).filter(b=>b.completed).length,totalItems:r.length};return l.jsx(q3.Provider,{value:x,children:e})},uz={success:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),l.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),warning:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),l.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),l.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},cz=({id:e,type:t="info",message:r,onClose:n,duration:i=5e3})=>{const[s,a]=E.useState(!1);E.useEffect(()=>{const c=setTimeout(()=>{o()},i);return()=>clearTimeout(c)},[i]);const o=()=>{a(!0),setTimeout(()=>{n(e)},200)};return l.jsxs("div",{className:`ui-toast ${t} ${s?"closing":""}`,children:[l.jsx("div",{className:"ui-toast-icon",children:uz[t]}),l.jsx("div",{className:"ui-toast-content",children:r}),l.jsx("button",{className:"ui-toast-close",onClick:o,"aria-label":"Close notification",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},dz=({toasts:e,removeToast:t})=>l.jsx("div",{className:"ui-toast-container",children:e.map(r=>l.jsx(cz,{...r,onClose:t},r.id))}),G3=E.createContext(null),hz=()=>{const e=E.useContext(G3);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},fz=({children:e})=>{const[t,r]=E.useState([]),n=E.useCallback(({type:f="info",message:p,duration:v=5e3})=>{const g=Math.random().toString(36).substr(2,9);return r(_=>[..._,{id:g,type:f,message:p,duration:v}]),g},[]),i=E.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),s=E.useCallback((f,p)=>n({type:"success",message:f,duration:p}),[n]),a=E.useCallback((f,p)=>n({type:"error",message:f,duration:p}),[n]),o=E.useCallback((f,p)=>n({type:"warning",message:f,duration:p}),[n]),c=E.useCallback((f,p)=>n({type:"info",message:f,duration:p}),[n]),d={addToast:n,removeToast:i,success:s,error:a,warning:o,info:c,toasts:t};return l.jsxs(G3.Provider,{value:d,children:[e,l.jsx(dz,{toasts:t,removeToast:i})]})},pz=["Waking up the task hamsters...","Fetching challenges from the cloud...","Gathering inspiration...","Polishing the task gems...","Summoning the task wizards...","Loading amazing challenges...","Brewing fresh tasks...","Unpacking brain teasers...","Dusting off the puzzle shelf...","Herding digital cats...","Consulting the oracle...","Spinning up the challenge machine...","Searching for exciting problems...","Preparing your adventure...","Rolling for initiative...","Loading the good stuff...","Calibrating difficulty meters...","Warming up the neurons...","Charging the creativity core...","Assembling the quest board..."],Y3=["Just a moment...","Almost there...","Loading the magic...","Working on it...","Hang tight...","Getting things ready..."],mz=["Gathering your conquests...","Locating your adventures...","Counting your victories...","Rounding up your challenges...","Retrieving your battle plans...","Fetching your quest log...","Loading your journey so far...","Summoning your progress...","Dusting off your trophy case...","Assembling your achievements..."],gz=["Unwrapping this challenge...","Fetching the details...","Preparing the briefing...","Loading the specifics...","Getting the full story...","Gathering intel...","Reading the fine print...","Assembling the facts..."],vz=["Checking your credentials...","Verifying your identity...","Opening the portal...","Rolling out the red carpet...","Finding your profile...","Preparing your workspace...","Unlocking the gates...","Waving you through...","Confirming it's really you...","Setting up your station..."],yz=["Crunching the numbers...","Gathering insights...","Fetching the stats...","Counting all the things...","Consulting the oracles...","Running the analysis...","Preparing your command center...","Loading the control room..."];function bz(e=Y3){return e[Math.floor(Math.random()*e.length)]}function Ld(e=Y3,t=2500){const[r,n]=E.useState(()=>bz(e)),i=E.useRef(new Set);return E.useEffect(()=>{i.current=new Set;const s=setInterval(()=>{i.current.size>=e.length&&(i.current=new Set);let a;do a=Math.floor(Math.random()*e.length);while(i.current.has(a)&&i.current.size<e.length);i.current.add(a),n(e[a])},t);return()=>clearInterval(s)},[e,t]),r}function $e({variant:e="primary",size:t="md",loading:r=!1,disabled:n=!1,className:i="",children:s,...a}){const o=["ui-btn",`ui-btn-${e}`,`ui-btn-${t}`,r&&"ui-btn-loading",i].filter(Boolean).join(" ");return l.jsxs("button",{className:o,disabled:n||r,...a,children:[r&&l.jsx("span",{className:"ui-btn-spinner"}),l.jsx("span",{className:r?"ui-btn-content-hidden":"",children:s})]})}function K3({variant:e="default",padding:t="md",hoverable:r=!1,className:n="",children:i,...s}){const a=["ui-card",`ui-card-${e}`,`ui-card-padding-${t}`,r&&"ui-card-hoverable",n].filter(Boolean).join(" ");return l.jsx("div",{className:a,...s,children:i})}function Jv({type:e="text",label:t,error:r,id:n,className:i="",...s}){const a=n||`input-${Math.random().toString(36).substr(2,9)}`;return l.jsxs("div",{className:`ui-input-group ${r?"ui-input-error":""} ${i}`,children:[t&&l.jsx("label",{htmlFor:a,className:"ui-input-label",children:t}),l.jsx("input",{type:e,id:a,className:"ui-input",...s}),r&&l.jsx("span",{className:"ui-input-error-message",children:r})]})}function _z({className:e="",onClear:t,value:r,...n}){return l.jsxs("div",{className:`ui-search-wrapper ${e}`,children:[l.jsxs("svg",{className:"ui-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.35-4.35"})]}),l.jsx("input",{type:"search",className:"ui-input ui-search-input",value:r,...n}),r&&t&&l.jsx("button",{type:"button",className:"ui-search-clear",onClick:t,"aria-label":"Clear search",children:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function Ni({variant:e="default",size:t="md",className:r="",children:n,...i}){const s=["ui-badge",`ui-badge-${e}`,`ui-badge-${t}`,r].filter(Boolean).join(" ");return l.jsx("span",{className:s,...i,children:n})}function sC({checked:e=!1,indeterminate:t=!1,onChange:r,disabled:n=!1,size:i="md",label:s,className:a="",...o}){const c=E.useRef(null);E.useEffect(()=>{c.current&&(c.current.indeterminate=t)},[t]);const d=["ui-checkbox",`ui-checkbox-${i}`,e&&"ui-checkbox-checked",t&&"ui-checkbox-indeterminate",n&&"ui-checkbox-disabled",a].filter(Boolean).join(" "),f=v=>{n||r&&(v.stopPropagation(),r(!e))},p=l.jsxs("div",{className:d,onClick:f,children:[l.jsx("input",{ref:c,type:"checkbox",checked:e,disabled:n,onChange:()=>r==null?void 0:r(!e),className:"ui-checkbox-input",...o}),l.jsx("div",{className:"ui-checkbox-box",children:t?l.jsx("div",{className:"ui-checkbox-indeterminate-icon"}):l.jsx("svg",{className:"ui-checkbox-check-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:l.jsx("polyline",{points:"20 6 9 17 4 12"})})})]});return s?l.jsxs("label",{className:`ui-checkbox-label ${n?"ui-checkbox-label-disabled":""}`,children:[p,l.jsx("span",{className:"ui-checkbox-label-text",children:s})]}):p}const xz=100;function $m({isOpen:e,onClose:t,closeOnOverlay:r=!0,closeOnEscape:n=!0,showCloseButton:i=!1,size:s="md",className:a="",children:o,...c}){const d=E.useRef(null),[f,p]=E.useState(0),[v,g]=E.useState(!1),_=E.useRef(0),x=E.useRef(0),b=E.useCallback(P=>{P.key==="Escape"&&n&&(t==null||t())},[n,t]);E.useEffect(()=>(e&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden",p(0),g(!1)),()=>{document.removeEventListener("keydown",b),document.body.style.overflow=""}),[e,b]);const w=typeof window<"u"&&window.innerWidth<=480,A=E.useCallback(P=>{if(!w)return;const R=d.current;if(!R)return;const H=P.touches[0],D=R.getBoundingClientRect();H.clientY-D.top<=60&&(_.current=H.clientY,x.current=Date.now(),g(!0),P.preventDefault())},[w]),S=E.useCallback(P=>{if(!v||!w)return;const H=P.touches[0].clientY-_.current;H>0&&(p(H),P.preventDefault())},[v,w]),O=E.useCallback(()=>{if(!v||!w)return;const P=Date.now()-x.current,R=f/P;f>xz||R>.5&&f>30?(p(window.innerHeight),setTimeout(()=>{t==null||t(),p(0)},200)):p(0),g(!1)},[v,w,f,t]);if(!e)return null;const j=P=>{P.target===P.currentTarget&&r&&(t==null||t())},N=w&&f>0?{transform:`translateY(${f}px)`,transition:v?"none":"transform 0.2s ease-out"}:{};return l.jsx("div",{className:"ui-modal-overlay",onClick:j,...c,children:l.jsxs("div",{ref:d,className:`ui-modal-content ui-modal-${s} ${a}`,style:N,onTouchStart:A,onTouchMove:S,onTouchEnd:O,children:[i&&l.jsx("button",{className:"ui-modal-close",onClick:t,"aria-label":"Close",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o]})})}function wz({className:e="",children:t,...r}){return l.jsx("div",{className:`ui-modal-header ${e}`,...r,children:t})}function Ez({className:e="",children:t,...r}){return l.jsx("div",{className:`ui-modal-body ${e}`,...r,children:t})}function kz({className:e="",children:t,...r}){return l.jsx("div",{className:`ui-modal-footer ${e}`,...r,children:t})}function X3({size:e="md",className:t="",...r}){const n=["ui-spinner",`ui-spinner-${e}`,t].filter(Boolean).join(" ");return l.jsx("div",{className:n,...r})}function Aa({size:e="md",message:t,className:r="",...n}){return l.jsxs("div",{className:`ui-loading-state ${r}`,...n,children:[l.jsx(X3,{size:e}),t&&l.jsx("p",{className:"ui-loading-message",children:t})]})}function Tz({variant:e="info",dismissible:t=!1,onDismiss:r,className:n="",children:i,...s}){const a={success:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),l.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),warning:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),l.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),l.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})};return l.jsxs("div",{className:`ui-alert ui-alert-${e} ${n}`,role:"alert",...s,children:[l.jsx("span",{className:"ui-alert-icon",children:a[e]}),l.jsx("span",{className:"ui-alert-content",children:i}),t&&l.jsx("button",{type:"button",className:"ui-alert-dismiss",onClick:r,"aria-label":"Dismiss",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function Sz({variant:e="warning",title:t,children:r,className:n="",dismissible:i=!1,onDismiss:s,...a}){const o={warning:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),l.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),l.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),success:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),l.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})};return l.jsxs("div",{className:`announcement-banner announcement-banner--${e} ${n}`,role:"alert",...a,children:[l.jsx("div",{className:"announcement-banner__icon",children:o[e]||o.warning}),l.jsxs("div",{className:"announcement-banner__content",children:[t&&l.jsx("strong",{className:"announcement-banner__title",children:t}),r&&l.jsx("div",{className:"announcement-banner__body",children:r})]}),i&&l.jsx("button",{type:"button",className:"announcement-banner__dismiss",onClick:s,"aria-label":"Dismiss",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}const Cz={check:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"20 6 9 17 4 12"})}),info:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),warning:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),l.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),l.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),none:null};function Az({title:e,icon:t="none",variant:r="default",squared:n=!1,className:i="",children:s,...a}){const o=typeof t=="string"?Cz[t]:t;return l.jsxs("div",{className:`ui-note ui-note-${r} ${n?"ui-note-squared":""} ${i}`,...a,children:[(o||e)&&l.jsxs("div",{className:"ui-note-header",children:[o&&l.jsx("span",{className:"ui-note-icon",children:o}),e&&l.jsx("span",{className:"ui-note-title",children:e})]}),s&&l.jsx("div",{className:`ui-note-content ${o||e?"ui-note-content-indented":""}`,children:s})]})}const Q3=E.createContext(null);function Nz({value:e,onChange:t,className:r="",children:n,...i}){return l.jsx(Q3.Provider,{value:{value:e,onChange:t},children:l.jsx("div",{className:`ui-tabs ${r}`,...i,children:n})})}function Zv({value:e,className:t="",children:r,...n}){const i=E.useContext(Q3);if(!i)throw new Error("Tab must be used within a Tabs component");const{value:s,onChange:a}=i,o=s===e;return l.jsx("button",{type:"button",className:`ui-tab ${o?"active":""} ${t}`,onClick:()=>a(e),role:"tab","aria-selected":o,...n,children:r})}function J3({steps:e=1,currentStep:t=0,onStepClick:r,className:n="",...i}){const s=a=>{r&&r(a)};return l.jsx("div",{className:`ui-step-indicators ${n}`,...i,children:Array.from({length:e},(a,o)=>l.jsx("button",{type:"button",className:["ui-step-dot",o===t&&"active",o<t&&"completed"].filter(Boolean).join(" "),onClick:()=>s(o),disabled:!r,"aria-label":`Step ${o+1} of ${e}`,"aria-current":o===t?"step":void 0},o))})}const Z3=({className:e="",...t})=>l.jsx("div",{className:`ui-logo-lockup ${e}`,...t,children:l.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"ui-snorkel-logo-img"})}),eR=({className:e="",children:t,...r})=>l.jsx("nav",{className:`ui-navbar ${e}`,...r,children:t}),va=({to:e,href:t,children:r,className:n="",active:i=!1,variant:s="default",as:a,...o})=>{const c=["ui-nav-link",i&&"active",s==="button"&&"variant-button",n].filter(Boolean).join(" ");return a?l.jsx(a,{className:c,...o,children:r}):t?l.jsx("a",{href:t,className:c,...o,children:r}):e?l.jsx(sr,{to:e,className:c,...o,children:r}):l.jsx("button",{className:c,...o,children:r})};function aC(e,t){return!t||!e?e:e.split(new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi")).map((n,i)=>n.toLowerCase()===t.toLowerCase()?l.jsx("mark",{className:"search-highlight",children:n},i):n)}function oC(e){if(!e)return null;const t=new Date(e),n=new Date-t,i=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),a=Math.floor(n/(1e3*60*60*24));return i<1?"Just now":i<60?`${i}m ago`:s<24?`${s}h ago`:a===1?"1 day ago":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} weeks ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const jz=({difficulty:e})=>{const t=e==null?void 0:e.toLowerCase();let r=0;return t==="hard"?r=3:t==="medium"?r=2:t==="easy"&&(r=1),l.jsx("div",{className:"task-card-difficulty",title:`Difficulty: ${e}`,children:[...Array(3)].map((n,i)=>l.jsx("span",{className:i<r?"active":"inactive",children:""},i))})};function So({task:e,isCompleted:t=!1,isHighlighted:r=!1,searchQuery:n="",onClick:i,footer:s,claimedAt:a,completedAt:o,statusBadge:c,className:d=""}){const f=E.useMemo(()=>{const b=(e==null?void 0:e.title)||"Task";return n?aC(b,n):b},[e==null?void 0:e.title,n]),p=E.useMemo(()=>{const b=(e==null?void 0:e.subtypes)||[];return b.length===0?(e==null?void 0:e.type)||null:b.join(", ")},[e==null?void 0:e.subtypes,e==null?void 0:e.type]),v=!!i,g=["task-card",t&&"task-card--completed",r&&"task-card--highlighted",d].filter(Boolean).join(" "),_=b=>{const w=b==null?void 0:b.toLowerCase().replace(/\s+/g,"-");return w==="in-progress"?"info":w==="waiting-on-review"?"warning":w==="accepted"?"success":"default"},x=(e==null?void 0:e.is_milestone)||(e==null?void 0:e.has_external_code);return l.jsx(K3,{variant:"bordered",padding:"none",hoverable:v,className:g,onClick:i,role:v?"button":void 0,tabIndex:v?0:void 0,onKeyDown:v?b=>b.key==="Enter"&&(i==null?void 0:i(b)):void 0,children:l.jsxs("div",{className:"task-card__inner",children:[t&&l.jsx("div",{className:"task-card__ribbon",children:l.jsx("span",{children:"Marked as Accepted"})}),l.jsxs("div",{className:"task-card__header",children:[l.jsx("div",{className:"task-card__subcategory",children:n?aC(p,n):p}),(a||o||c)&&l.jsx("div",{className:"task-card__status-indicator",children:c?l.jsx(Ni,{variant:_(c),size:"sm",children:c}):l.jsx("span",{className:"task-card__claimed-text",children:"Claimed"})})]}),l.jsx("h3",{className:"task-card__title",title:(e==null?void 0:e.title)||"Task",children:f}),l.jsxs("div",{className:"task-card__languages",children:[((e==null?void 0:e.languages)||[]).slice(0,3).map(b=>l.jsx("span",{className:"task-lang-tag",children:b},b)),((e==null?void 0:e.languages)||[]).length>3&&l.jsxs("span",{className:"task-lang-tag",children:["+",e.languages.length-3]})]}),l.jsx("div",{className:"task-card__spacer"}),x&&l.jsxs("div",{className:"task-card__footer-features",children:[e.is_milestone&&l.jsxs("div",{className:"feature-item",title:"This task is broken down into milestones",children:[l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),l.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),l.jsx("span",{children:"Has Milestones"})]}),e.has_external_code&&l.jsxs("div",{className:"feature-item",title:"This task includes additional inspiration to help guide your work",children:[l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"16 18 22 12 16 6"}),l.jsx("polyline",{points:"8 6 2 12 8 18"})]}),l.jsx("span",{children:"Extra Inspiration"})]})]}),s&&l.jsx("div",{className:"task-card__actions-footer",children:s}),(a||o)&&!s&&l.jsx("div",{className:"task-card__timestamp-footer",children:l.jsxs("span",{className:`task-card__timestamp ${t&&o?"task-card__timestamp--accepted":""}`,children:[t&&o?" ":" ",t&&o?`Accepted ${oC(o)}`:`Claimed ${oC(a)}`]})})]})})}const tR="tasks_cache_v5",Oz=1800*1e3,Pz=()=>{try{const e=localStorage.getItem(tR);if(!e)return null;const{tasks:t,timestamp:r}=JSON.parse(e),n=Date.now()-r>Oz;return{tasks:t,isExpired:n}}catch{return null}},Iz=e=>{try{localStorage.setItem(tR,JSON.stringify({tasks:e,timestamp:Date.now()}))}catch{}},lC=(e,t)=>{try{const r=Pz();if(!(r!=null&&r.tasks))return;const n=r.tasks.map(i=>i.id===e?{...i,is_selected:t}:i);Iz(n)}catch{}},We={CLAIMED:"claimed",IN_PROGRESS:"in_progress",WAITING_REVIEW:"waiting_review",ACCEPTED:"accepted"},rR={[We.CLAIMED]:"Claimed",[We.IN_PROGRESS]:"In Progress",[We.WAITING_REVIEW]:"Waiting on Review",[We.ACCEPTED]:"Accepted"},Gi=3,nR="selected_tasks_cache_v4",Rz=e=>{try{const t=localStorage.getItem(`${nR}_${e}`);return t?JSON.parse(t):null}catch{return null}},uC=(e,t)=>{try{localStorage.setItem(`${nR}_${e}`,JSON.stringify(t))}catch{}};function cu(){const{user:e}=qr(),t=nn(),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(null),[c,d]=E.useState(0),f=E.useRef(null),p=E.useRef(!1);E.useEffect(()=>{var P;if(e){const R=Rz(e.id);return((P=R==null?void 0:R.tasks)==null?void 0:P.length)>0?(n(R.tasks),d(R.activeCount||0),s(!1),v(!1)):v(!0),f.current=qe.channel(`my_tasks_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks",filter:`user_id=eq.${e.id}`},H=>{setTimeout(()=>v(!1),100)}).subscribe(),()=>{f.current&&qe.removeChannel(f.current)}}},[e]);const v=async(P=!0)=>{if(!p.current){p.current=!0;try{P&&s(!0),o(null);const{data:R,error:H}=await qe.from("selected_tasks").select("task_id, selected_at, first_commit_at, completed_at, status, started_at, submitted_for_review_at").eq("user_id",e.id);if(H)throw H;if(!R||R.length===0){n([]),d(0),s(!1),p.current=!1,e&&uC(e.id,{tasks:[],activeCount:0});return}const D=R.filter(oe=>oe.status===We.CLAIMED||oe.status===We.IN_PROGRESS).length;d(D);const M=R.map(oe=>oe.task_id),{data:F,error:Y}=await qe.from("v_tasks_with_priorities").select("id, category, subcategory, subsubcategory, title, description, difficulty, is_selected, is_highlighted, priority_tag, tag_label, display_order, is_promoted, promo_multiplier, promo_title").in("id",M);if(Y)throw Y;const G=new Set((F||[]).map(oe=>oe.id)),W=M.filter(oe=>!G.has(oe));let Q=[];if(W.length>0){const{data:oe,error:L}=await qe.from("task_inspiration_v2").select("id, type, subtypes, title, languages, description, is_milestone, milestone_titles, has_external_code, external_code_description").in("id",W);if(L)throw L;Q=(oe||[]).map(V=>({...V,category:V.type,subcategory:(V.subtypes||[]).join(", "),is_selected:!0,is_v2:!0}))}const te=[...F||[],...Q],ne=(te==null?void 0:te.map(oe=>{const L=R.find(V=>V.task_id===oe.id);return{...oe,selected_at:L==null?void 0:L.selected_at,first_commit_at:L==null?void 0:L.first_commit_at,completed_at:L==null?void 0:L.completed_at,status:(L==null?void 0:L.status)||We.CLAIMED,started_at:L==null?void 0:L.started_at,submitted_for_review_at:L==null?void 0:L.submitted_for_review_at}}).sort((oe,L)=>{const V={[We.IN_PROGRESS]:0,[We.CLAIMED]:1,[We.WAITING_REVIEW]:2,[We.ACCEPTED]:3};return V[oe.status]!==V[L.status]?V[oe.status]-V[L.status]:new Date(L.selected_at)-new Date(oe.selected_at)}))||[];n(ne),e&&uC(e.id,{tasks:ne,activeCount:D})}catch(R){console.error("Error fetching selected tasks:",R),o(R.message)}finally{p.current=!1,s(!1)}}},g=async P=>{if(!e)throw new Error("User not authenticated");try{const R=r.find(D=>D.id===P),{error:H}=await qe.from("selected_tasks").delete().match({user_id:e.id,task_id:P});if(H)throw H;return t&&R&&t.capture("task_abandoned",{task_id:P,task_category:R.category,task_subcategory:R.subcategory,task_status_at_abandon:R.status,task_difficulty:R.difficulty}),n(D=>D.filter(M=>M.id!==P)),lC(P,!1),R&&(R.status===We.CLAIMED||R.status===We.IN_PROGRESS)&&d(D=>Math.max(0,D-1)),!0}catch(R){throw console.error("Error unselecting task:",R),await v(),R}},_=async(P,R)=>{if(!e)throw new Error("User not authenticated");try{const H=new Date().toISOString(),D={status:R},M=r.find(Y=>Y.id===P);R===We.IN_PROGRESS?D.started_at=H:R===We.WAITING_REVIEW?D.submitted_for_review_at=H:R===We.ACCEPTED&&(D.completed_at=H);const{error:F}=await qe.from("selected_tasks").update(D).match({user_id:e.id,task_id:P});if(F)throw F;if(t&&M){const Y={[We.IN_PROGRESS]:"task_started",[We.WAITING_REVIEW]:"task_submitted_for_review",[We.ACCEPTED]:"task_accepted"}[R];Y&&t.capture(Y,{task_id:P,category:M.category,subcategory:M.subcategory})}return n(Y=>{const G=Y.map(Q=>Q.id===P?{...Q,...D}:Q),W={[We.IN_PROGRESS]:0,[We.CLAIMED]:1,[We.WAITING_REVIEW]:2,[We.ACCEPTED]:3};return G.sort((Q,te)=>W[Q.status]!==W[te.status]?W[Q.status]-W[te.status]:new Date(te.selected_at)-new Date(Q.selected_at))}),R===We.WAITING_REVIEW||R===We.ACCEPTED?d(Y=>Math.max(0,Y-1)):(R===We.CLAIMED||R===We.IN_PROGRESS)&&d(Y=>Y+1),!0}catch(H){throw console.error("Error updating task status:",H),await v(),H}},x=P=>_(P,We.IN_PROGRESS),b=P=>_(P,We.WAITING_REVIEW),w=P=>_(P,We.ACCEPTED),A=async P=>{if(!e)throw new Error("User not authenticated");if(c>=Gi)throw new Error(`You can only have up to ${Gi} active tasks. Submit tasks for review or wait for acceptance to free up slots.`);return _(P,We.IN_PROGRESS)},S=w,O=A,j=async P=>{if(!e)throw new Error("User not authenticated");try{const R=new Date().toISOString(),{error:H}=await qe.from("selected_tasks").update({first_commit_at:R}).match({user_id:e.id,task_id:P});if(H)throw H;return n(D=>D.map(M=>M.id===P?{...M,first_commit_at:R}:M)),!0}catch(R){throw console.error("Error marking first commit:",R),await v(),R}},N=async(P,R={})=>{if(!e)throw new Error("User not authenticated");if(c>=Gi)throw new Error(`You can only have up to ${Gi} active tasks. Submit tasks for review or complete them to claim more.`);try{const{error:H}=await qe.from("selected_tasks").insert({user_id:e.id,task_id:P,status:"claimed"});if(H)throw H.code==="23505"?new Error("This task has already been selected by another user"):H.code==="P0001"?new Error(H.message):H;return d(D=>D+1),lC(P,!0),t&&t.capture("task_claimed",{task_id:P,category:R.category,subcategory:R.subcategory}),await v(!1),!0}catch(H){throw console.error("Error selecting task:",H),await v(!1),H}};return{selectedTasks:r,loading:i,error:a,activeTaskCount:c,canClaimMore:c<Gi,refetch:v,selectTask:N,unselectTask:g,markFirstCommit:j,startTask:x,submitForReview:b,acceptTask:w,reopenTask:A,updateTaskStatus:_,completeTask:S,uncompleteTask:O}}function iR({task:e,isOpen:t,onClose:r,onTaskUpdate:n,contextTasks:i=[],onNavigate:s,showNavigation:a=!1}){var Y,G;const o=ft(),c=nn(),{selectTask:d,unselectTask:f,activeTaskCount:p,canClaimMore:v}=cu(),[g,_]=E.useState(!1),[x,b]=E.useState(!1),w=E.useRef(null),[A,S]=E.useState((e==null?void 0:e.description)||null),[O,j]=E.useState(!1);E.useEffect(()=>{if(!t||!(e!=null&&e.id))return;if(e.description){S(e.description);return}(async()=>{j(!0);try{const{data:Q,error:te}=await qe.from("task_inspiration_v2").select("description, title").eq("id",e.id).single();if(te)throw te;S((Q==null?void 0:Q.description)||"No description available."),Q!=null&&Q.title&&!e.title&&(e.title=Q.title)}catch(Q){console.error("Error fetching task description:",Q),S("Failed to load description.")}finally{j(!1)}})()},[t,e==null?void 0:e.id,e==null?void 0:e.description]),E.useEffect(()=>{S((e==null?void 0:e.description)||null)},[e==null?void 0:e.id]),E.useEffect(()=>{t&&e&&c&&c.capture("task_card_viewed",{task_id:e.id,task_type:e.type,task_subtypes:e.subtypes,is_milestone:e.is_milestone,has_external_code:e.has_external_code,languages:e.languages})},[t,e==null?void 0:e.id,c]),E.useEffect(()=>{(!t||!e)&&b(!1)},[t,e==null?void 0:e.id]),E.useEffect(()=>{if(!x||!w.current)return;const W=w.current,Q=["#fbbf24","#34d399","#60a5fa","#f472b6","#a78bfa","#fb923c"],te=50;for(let oe=0;oe<te;oe++){const L=document.createElement("div");L.className="confetti-piece",L.style.setProperty("--x",`${Math.random()*100-50}vw`),L.style.setProperty("--rotation",`${Math.random()*720-360}deg`),L.style.left=`${Math.random()*100}%`,L.style.backgroundColor=Q[Math.floor(Math.random()*Q.length)],L.style.animationDelay=`${Math.random()*.5}s`,L.style.animationDuration=`${1+Math.random()*1}s`,W.appendChild(L)}const ne=setTimeout(()=>{W.querySelectorAll(".confetti-piece").forEach(oe=>oe.remove())},3e3);return()=>clearTimeout(ne)},[x]),E.useEffect(()=>{if(!t||!a||x)return;const W=Q=>{Q.key==="ArrowLeft"?H("prev"):Q.key==="ArrowRight"&&H("next")};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[t,e,i,x,a]);const N=()=>{b(!1),r==null||r()},P=async()=>{var W;if(!(!e||g)){_(!0);try{await d(e.id,{category:e.type,subcategory:(W=e.subtypes)==null?void 0:W.join(", ")}),b(!0),n==null||n()}catch(Q){console.error("Error claiming task:",Q),alert(Q.message||"Failed to claim task. Please try again.")}finally{_(!1)}}},R=async()=>{if(e&&window.confirm("Are you sure you want to release this task?"))try{await f(e.id),n==null||n(),N()}catch(W){console.error("Error releasing task:",W)}},H=W=>{if(!e||i.length===0)return;const Q=i.findIndex(ne=>ne.id===e.id);if(Q===-1)return;let te;W==="next"?(te=Q+1,te<i.length&&(s==null||s(i[te]))):(te=Q-1,te>=0&&(s==null||s(i[te])))},D=e&&i.length>0?i.findIndex(W=>W.id===e.id):-1,M=D>0,F=D!==-1&&D<i.length-1;return e?l.jsx($m,{isOpen:t,onClose:N,size:"lg",className:"task-detail-modal",children:x?l.jsxs("div",{className:"task-claim-success",ref:w,children:[l.jsx("div",{className:"success-icon-wrapper",children:l.jsx("div",{className:"success-icon",children:""})}),l.jsx("h2",{children:"Task Claimed!"}),l.jsx("p",{children:"This task has been added to your list."}),l.jsxs("div",{className:"success-actions-stack",children:[l.jsx($e,{variant:"primary",onClick:N,style:{width:"100%"},children:"Continue Browsing"}),l.jsx($e,{variant:"secondary",onClick:()=>{N(),o("/portal/my-tasks")},style:{width:"100%"},children:"Go to My Tasks"}),l.jsx($e,{variant:"ghost",onClick:R,style:{color:"#dc2626",width:"100%"},children:"Give task back"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"task-detail-modal-header",children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("div",{className:"modal-badges",style:{alignItems:"center"},children:l.jsxs("div",{className:"task-breadcrumb",children:[l.jsx("span",{className:"breadcrumb-segment parent",children:e.type}),((Y=e.subtypes)==null?void 0:Y.length)>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"breadcrumb-separator",children:"/"}),l.jsx("span",{className:"breadcrumb-segment current",children:e.subtypes.join(", ")})]})]})}),l.jsx("h2",{children:e.title||"Your challenge"}),l.jsx("div",{className:"task-detail-badges",children:(e.languages||[]).map(W=>l.jsx(Ni,{variant:"default",size:"sm",children:W},W))})]}),a&&i.length>1&&l.jsxs("div",{className:"modal-navigation",style:{display:"flex",gap:"8px"},children:[l.jsx("button",{className:"modal-nav-btn",onClick:()=>H("prev"),disabled:!M,title:"Previous Task (Left Arrow)",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})})}),l.jsx("button",{className:"modal-nav-btn",onClick:()=>H("next"),disabled:!F,title:"Next Task (Right Arrow)",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}),l.jsxs("div",{className:"task-detail-modal-body",children:[O?l.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"Loading description..."}):l.jsx("p",{children:A||"No description available."}),e.is_milestone&&((G=e.milestone_titles)==null?void 0:G.length)>0&&l.jsxs("div",{className:"task-milestones",children:[l.jsx("h4",{children:"Milestones"}),l.jsx("ol",{className:"milestone-list",children:e.milestone_titles.map((W,Q)=>l.jsx("li",{children:W},Q))})]}),e.has_external_code&&e.external_code_description&&l.jsxs("div",{className:"task-external-code",children:[l.jsx("h4",{children:"Additional Inspiration"}),l.jsx("p",{children:e.external_code_description})]})]}),l.jsxs("div",{className:"task-detail-modal-footer",children:[l.jsx("div",{className:"modal-footer-info",children:l.jsxs("span",{className:"active-task-count",children:["Your Active Tasks: ",l.jsxs("strong",{style:{color:v?"var(--text-primary)":"var(--color-warning)"},children:[p,"/",Gi]})]})}),l.jsxs("div",{className:"footer-buttons",children:[l.jsx($e,{variant:"ghost",onClick:N,disabled:g,className:"modal-cancel-btn",children:"Cancel"}),l.jsx($e,{variant:"secondary",onClick:()=>{N(),o("/portal/tasks")},disabled:g,children:"Browse Tasks"}),l.jsx($e,{variant:"primary",onClick:P,loading:g,disabled:!v,title:v?"":`You can only have ${Gi} active tasks. Submit tasks for review to free up slots.`,children:v?"Claim Task":"Limit Reached"})]})]})]})}):null}var sR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cC=yn.createContext&&yn.createContext(sR),Dz=["attr","size","title"];function Lz(e,t){if(e==null)return{};var r=Mz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){Bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bz(e,t,r){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fz(e){var t=$z(e,"string");return typeof t=="symbol"?t:t+""}function $z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aR(e){return e&&e.map((t,r)=>yn.createElement(t.tag,Mp({key:r},t.attr),aR(t.child)))}function wn(e){return t=>yn.createElement(Uz,Lp({attr:Mp({},e.attr)},t),aR(e.child))}function Uz(e){var t=r=>{var{attr:n,size:i,title:s}=e,a=Lz(e,Dz),o=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),yn.createElement("svg",Lp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Mp(Mp({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&yn.createElement("title",null,s),e.children)};return cC!==void 0?yn.createElement(cC.Consumer,null,r=>t(r)):t(sR)}function Hz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function oR(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function zz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Wz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function qz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Vz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Gz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Yz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Kz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function lR({task:e,isOpen:t,onClose:r,onTaskUpdate:n}){var Y,G;const{unselectTask:i,startTask:s,submitForReview:a,acceptTask:o,reopenTask:c,canClaimMore:d}=cu(),[f,p]=E.useState(!1),[v,g]=E.useState(null),[_,x]=E.useState(!1),b=async()=>{if(w!=null&&w.id)try{await navigator.clipboard.writeText(w.id),x(!0),setTimeout(()=>x(!1),2e3)}catch(W){console.error("Failed to copy task ID:",W)}},w=(v==null?void 0:v.id)===(e==null?void 0:e.id)?v:e,A=()=>{g(null),x(!1),r==null||r()},S=async()=>{if(!(!w||f)){p(!0);try{await s(w.id),A(),n==null||n({...w,status:We.IN_PROGRESS,started_at:new Date().toISOString()})}catch(W){console.error("Error starting task:",W),alert(W.message)}finally{p(!1)}}},O=async()=>{if(!(!w||f)){p(!0);try{await a(w.id),A(),n==null||n({...w,status:We.WAITING_REVIEW})}catch(W){console.error("Error submitting task for review:",W),alert(W.message)}finally{p(!1)}}},j=async()=>{if(!(!w||f)){p(!0);try{await o(w.id),A(),n==null||n({...w,status:We.ACCEPTED,completed_at:new Date().toISOString()})}catch(W){console.error("Error accepting task:",W),alert(W.message)}finally{p(!1)}}},N=async()=>{if(!(!w||f)){p(!0);try{await c(w.id),A(),n==null||n({...w,status:We.IN_PROGRESS})}catch(W){console.error("Error reopening task:",W),alert(W.message)}finally{p(!1)}}},P=async()=>{if(!(!w||f)&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await i(w.id),A()}catch(W){console.error("Error abandoning task:",W)}finally{p(!1)}}};if(!w)return null;const R=w.status,H=R===We.CLAIMED||R===We.IN_PROGRESS,D=R===We.WAITING_REVIEW,M=R===We.ACCEPTED,F=H||D||M;return l.jsx($m,{isOpen:t,onClose:A,size:"lg",className:"task-detail-modal",children:l.jsxs(l.Fragment,{children:[M&&l.jsx("div",{className:"modal-ribbon",children:l.jsx("span",{children:"Marked as Accepted"})}),l.jsx("div",{className:"task-detail-modal-header",children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[l.jsxs("div",{className:"task-breadcrumb",children:[l.jsx("span",{className:"breadcrumb-segment parent",children:w.category||w.type}),(w.subcategory||w.subsubcategory)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"breadcrumb-separator",children:"/"}),l.jsx("span",{className:"breadcrumb-segment current",children:w.subcategory||w.subsubcategory})]})]}),w.difficulty&&l.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:l.jsx(jz,{difficulty:w.difficulty})})]}),l.jsx("h2",{children:w.title||"Your challenge"})]}),R===We.IN_PROGRESS&&l.jsx(Ni,{variant:"info",style:{flexShrink:0},children:"In Progress"}),D&&l.jsx(Ni,{variant:"warning",style:{flexShrink:0},children:"Waiting on Review"})]})}),l.jsxs("div",{className:"task-detail-modal-body",children:[l.jsx("p",{children:w.description}),((Y=w.languages)==null?void 0:Y.length)>0&&l.jsx("div",{className:"task-detail-badges",style:{marginTop:"var(--space-3)"},children:w.languages.map(W=>l.jsx(Ni,{variant:"default",size:"sm",children:W},W))}),w.is_milestone&&((G=w.milestone_titles)==null?void 0:G.length)>0&&l.jsxs("div",{className:"task-milestones-section",style:{marginTop:"var(--space-4)"},children:[l.jsx("h4",{style:{fontSize:"var(--font-sm)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-2)"},children:"Milestones"}),l.jsx("ol",{className:"task-milestones-list",children:w.milestone_titles.map((W,Q)=>l.jsx("li",{children:W},Q))})]}),w.has_external_code&&w.external_code_description&&l.jsxs("div",{className:"task-external-code",style:{marginTop:"var(--space-4)"},children:[l.jsx("h4",{style:{fontSize:"var(--font-sm)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-2)"},children:"Additional Inspiration"}),l.jsx("p",{children:w.external_code_description})]}),l.jsxs("div",{className:"modal-timeline-info",style:{marginTop:"var(--space-4)",fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:[w.selected_at&&l.jsxs("div",{children:["Claimed on ",new Date(w.selected_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),w.started_at&&l.jsxs("div",{children:["Started on ",new Date(w.started_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),w.submitted_for_review_at&&l.jsxs("div",{children:["Submitted for review on ",new Date(w.submitted_for_review_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),M&&w.completed_at&&l.jsxs("div",{children:[" You marked this as accepted on ",new Date(w.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]}),D&&l.jsx(Az,{title:"Important",variant:"info",className:"modal-note",children:"Only mark as accepted once confirmed on the Snorkel Expert platform."})]}),l.jsxs("div",{className:"task-detail-modal-footer",children:[l.jsxs("div",{className:"modal-footer-info",children:[(w.is_special||w.priority_tag||w.is_highlighted)&&l.jsx(Ni,{variant:"accent",children:"Double Pay"}),F&&w.id&&l.jsxs("div",{className:`footer-task-id ${_?"copied":""}`,onClick:b,role:"button",title:"Click to copy Task ID",children:[l.jsxs("code",{className:"id-value",children:["#",w.id]}),l.jsx("span",{className:"id-icon",children:_?l.jsx(oR,{size:12}):l.jsx(Gz,{size:12})}),l.jsx("span",{className:"id-tooltip",children:_?"Copied!":"Copy ID"})]})]}),H&&l.jsx($e,{variant:"danger",onClick:P,disabled:f,className:"modal-abandon-btn",children:"Abandon Task"}),R===We.CLAIMED&&l.jsx($e,{variant:"primary",onClick:S,loading:f,children:"Started working on this task"}),R===We.IN_PROGRESS&&l.jsx($e,{variant:"primary",onClick:O,loading:f,children:"Submitted for review"}),D&&l.jsx($e,{variant:"primary",onClick:j,loading:f,children:"Mark as Accepted"}),D&&l.jsx($e,{variant:"secondary",onClick:N,loading:f,disabled:!d,title:d?"":`You have ${Gi} active tasks. Submit or complete some first.`,children:"Go back to working on it"}),M&&l.jsx($e,{variant:"secondary",onClick:N,loading:f,disabled:!d,title:d?"":`You have ${Gi} active tasks. Submit or complete some first.`,children:"Re-open Task"})]})]})})}const bl="/Terminus-EC-Training-stateful/",jf={"onboarding-platform":"onboarding-tile-platform","task-skeleton":"onboarding-tile-skeleton","submission-platform":"onboarding-tile-submission-platform","great-tasks":"onboarding-tile-great-tasks","video-walkthroughs":"onboarding-tile-videos"},Xz=()=>{const{isCompleted:e,toggleCompletion:t}=V3(),{success:r}=hz(),n=ft(),i=nn(),[s,a]=E.useState([]),[o,c]=E.useState(!1),d=[{id:"onboarding-platform",label:"Platform Onboarding",description:"New to Snorkel? Watch the onboarding video and download the slides to get familiar with the Expert Platform interface.",path:"/portal/docs/onboarding/platform-onboarding",image:`${bl}images/onboarding_platform.png`},{id:"task-skeleton",label:"Download Task Skeleton",description:"Get the starter files you need to build your task, including the directory structure and required configuration files.",path:`${bl}template-task.zip`,image:`${bl}images/onboardiing_download_skeleton.png`,isDownload:!0},{id:"submission-platform",label:"Platform Submissions",description:"Ready to submit? Follow our walkthrough to package your task, upload it to the platform, and track your submission through review.",path:"/portal/docs/submitting-tasks/platform-submission",image:`${bl}images/onboarding_submit_task2.png`},{id:"great-tasks",label:"What Makes Great TerminalBench Tasks",description:"Discover the key ingredients that make tasks challenging, realistic, and valuable for training AI agents. Learn patterns to follow and pitfalls to avoid.",path:"/portal/docs/understanding-tasks/what-makes-a-good-task",image:`${bl}images/onboarding_great_tb_task.png`},{id:"video-walkthroughs",label:"Video Walkthroughs",description:"Watch step-by-step videos showing how to create tasks, write solutions, and run tests. Perfect for visual learners.",path:"/portal/docs/creating-tasks/videos/creating-task",image:`${bl}images/onboarding_videos.png`}],p=d.filter(b=>e(jf[b.id])).map(b=>b.id),v=d.filter(b=>!p.includes(b.id)&&!s.includes(b.id));if(p.length===d.length)return null;const g=async()=>{if(!o){c(!0);try{const b=d.filter(S=>!e(jf[S.id])),w=b.map(S=>S.id);i&&b.length>0&&(b.forEach(S=>{i.capture("onboarding_step_completed",{resource_id:S.id,resource_label:S.label,source:"mark_all_complete"})}),i.capture("onboarding_all_completed",{resources_completed:b.map(S=>S.id),count:b.length})),a(S=>[...S,...w]),await new Promise(S=>setTimeout(S,300));const A=w.map(S=>t(jf[S]));await Promise.all(A),r("All onboarding tasks marked as complete!")}catch(b){console.error("Error marking all complete:",b)}finally{c(!1)}}},_=async(b,w)=>{b.stopPropagation();const A=jf[w],S=d.find(O=>O.id===w);i&&S&&i.capture("onboarding_step_completed",{resource_id:w,resource_label:S.label,source:"individual_card"}),a(O=>[...O,w]),setTimeout(async()=>{await t(A),a(O=>O.filter(j=>j!==w)),r("Progress saved!")},300)},x=b=>{if(i&&i.capture(b.isDownload?"skeleton_downloaded":"docs_viewed",{resource_id:b.id,resource_label:b.label}),b.isDownload){const w=document.createElement("a");w.href=b.path,w.download=b.path.split("/").pop(),document.body.appendChild(w),w.click(),document.body.removeChild(w)}else n(b.path)};return l.jsxs("section",{className:"get-started-section",children:[l.jsxs("div",{className:"section-header-row",children:[l.jsx("h2",{className:"section-header",children:"Onboarding Starter Kit"}),l.jsx($e,{variant:"ghost",onClick:g,disabled:o,className:"mark-all-complete-btn",children:"Hide onboarding"})]}),l.jsx("div",{className:`resources-grid cards-${v.length}`,children:v.map(b=>l.jsxs(K3,{variant:"minimal",hoverable:!0,className:`resource-card-rich ${s.includes(b.id)?"card-closing":""}`,onClick:()=>x(b),children:[l.jsxs("div",{className:"resource-preview",children:[b.image?l.jsx("img",{src:b.image,alt:b.label,className:"resource-image"}):l.jsx("div",{className:"image-placeholder",children:l.jsx("span",{className:"preview-placeholder-text",children:b.isDownload?"Download Skeleton":"Card cover image here"})}),l.jsx("div",{className:"preview-gradient"})]}),l.jsxs("div",{className:"resource-body",children:[l.jsx("h3",{className:"resource-title",children:b.label}),l.jsx("p",{className:"resource-description",children:b.description})]}),l.jsxs("div",{className:"resource-footer",children:[l.jsxs("button",{className:"mark-complete-link",onClick:w=>_(w,b.id),children:[l.jsx(oR,{})," Mark complete"]}),l.jsx($e,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),x(b)},children:b.isDownload?l.jsxs(l.Fragment,{children:["Download ",l.jsx(Yz,{})]}):l.jsxs(l.Fragment,{children:["Learn more ",l.jsx(Hz,{})]})})]})]},b.id))})]})},hC="/Terminus-EC-Training-stateful/assets/slack-CpGpJpI8.webp",Qz=()=>{const{profile:e,completeOnboarding:t,updateProfile:r}=qr();ft();const[n,i]=E.useState(0),[s,a]=E.useState(!1),[o,c]=E.useState((e==null?void 0:e.first_name)||""),[d,f]=E.useState((e==null?void 0:e.last_name)||""),[p,v]=E.useState((e==null?void 0:e.github_username)||""),[g,_]=E.useState(!1);if(!e||e.onboarding_completed)return null;const x=async()=>{if(n===1){if(!o.trim()||!d.trim()||!p.trim())return;_(!0);try{const{error:S}=await r({first_name:o,last_name:d,github_username:p});if(S)throw S;i(O=>O+1)}catch(S){console.error("Failed to update profile:",S)}finally{_(!1)}}else i(S=>S+1)},b=()=>{i(S=>S-1)},w=async()=>{a(!0);try{await t()}catch(S){console.error("Failed to complete onboarding:",S),a(!1)}},A=[{content:l.jsxs("div",{className:"onboarding-step-content",children:[l.jsx("div",{className:"onboarding-logos",children:l.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo-onboarding"})}),l.jsx("h1",{className:"onboarding-title",style:{marginBottom:"8px"},children:"Welcome to TerminalBench."}),l.jsx("p",{style:{fontSize:"36px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"32px",lineHeight:"1.2",opacity:.9},children:"Were really glad youre here."}),l.jsx("p",{className:"onboarding-subtitle",children:"You've made the right choice to join the community of experts pushing the boundaries of agentic coding through coding challenges."})]})},{content:l.jsxs("div",{className:"onboarding-step-content",children:[l.jsx("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:"Outsmart the machines."}),l.jsx("p",{className:"onboarding-description",children:"Help push AI to its limits by creating real engineering challenges that todays best models still fail. Every accepted task advances agentic development, and earns you a payout."}),l.jsx("h3",{className:"onboarding-section-title",children:"Your details:"}),l.jsxs("div",{style:{marginTop:"32px",textAlign:"left",maxWidth:"400px",margin:"32px auto 0"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[l.jsx(Jv,{label:"First Name",placeholder:"e.g. Jane",value:o,onChange:S=>c(S.target.value),autoFocus:!0}),l.jsx(Jv,{label:"Last Name",placeholder:"e.g. Doe",value:d,onChange:S=>f(S.target.value)})]}),l.jsx(Jv,{label:"GitHub Username",placeholder:"e.g. janedoe",value:p,onChange:S=>v(S.target.value),helperText:"We use this to verify your contributions and link to your GitHub profile."}),l.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"24px"},children:"We use these details to match your profile with our internal systems and process payouts."})]})]})},{content:l.jsxs("div",{className:"onboarding-step-content",children:[l.jsxs("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:[l.jsx("span",{role:"img","aria-label":"celebration",style:{color:"#FFD700"},children:""})," Youre all set."]}),l.jsx("p",{className:"onboarding-description",children:"Youre now part of a global community pushing the boundaries of agentic AI. Lets get you plugged-in and ready to make an impact."}),l.jsx("h3",{className:"onboarding-section-title",style:{marginTop:"40px",marginBottom:"24px"},children:"Whats next?"}),l.jsxs("div",{className:"next-steps-list",style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"20px"},children:[l.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[l.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:l.jsx("img",{src:hC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),l.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[l.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Community"}),l.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"Connect with other TerminalBench contributors and chat with the team."})]}),l.jsx($e,{variant:"primary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203","_blank")},children:"Join"})]}),l.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[l.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:l.jsx("img",{src:hC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),l.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[l.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Announcements"}),l.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"The single source of truth for important announcements, updates, etc."})]}),l.jsx($e,{variant:"secondary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C0A1WM7EPK4","_blank")},children:"Join"})]})]})]})}];return l.jsx("div",{className:"onboarding-modal-overlay",children:l.jsxs("div",{className:"onboarding-modal-content",children:[l.jsx("div",{className:"onboarding-step-container",children:A[n].content},n),l.jsxs("div",{className:"onboarding-nav",children:[l.jsx(J3,{steps:A.length,currentStep:n}),l.jsxs("div",{className:"nav-buttons",children:[n>0&&l.jsx($e,{variant:"secondary",onClick:b,children:"Back"}),n<A.length-1?l.jsx($e,{variant:"primary",size:"lg",onClick:x,disabled:n===1&&(!o.trim()||!d.trim()||!p.trim()),loading:n===1&&g,children:n===0?"Start Onboarding":"Next Step"}):l.jsx($e,{variant:"primary",size:"lg",onClick:w,loading:s,children:"Start Building"})]})]})]})})};function Jz({children:e}){const{user:t,profile:r,loading:n}=qr(),i=Ld(vz,2200);return n?l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:l.jsx(Aa,{size:"lg",message:i})}):!t||!r?(console.log("ProtectedRoute: Redirecting to login - user or profile missing"),l.jsx(_i,{to:"/login",replace:!0})):e}const Zz=3;function uR(){const e=nn();ci();const t=E.useRef(!1),r=E.useCallback(()=>{const v=`auth_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{sessionStorage.setItem(pn.AUTH_ATTEMPT_ID,v)}catch{}return v},[]),n=E.useCallback(()=>{try{return sessionStorage.getItem(pn.AUTH_ATTEMPT_ID)}catch{return null}},[]),i=E.useCallback((v,g=iC.LOGIN_PAGE,_={})=>{if(!e)return;const x=r();return e.capture(ki.AUTH_ATTEMPT_STARTED,{method:v,source:g,attempt_id:x,current_url:window.location.href,..._}),x},[e,r]),s=E.useCallback((v,g,_={})=>{if(!e)return;const x=n(),b=e.get_distinct_id()===v?Dp.RETURNING:Dp.NEW;e.capture(ki.AUTH_SUCCESS,{method:g,session_type:b,attempt_id:x}),e.identify(v,{is_authenticated:!0,auth_method:g,last_auth_at:new Date().toISOString(),..._}),f()},[e,n]),a=E.useCallback((v,g,_={})=>{if(!e)return;const x=n();e.capture(ki.AUTH_FAILED,{method:v,error_code:(g==null?void 0:g.code)||(g==null?void 0:g.name)||"unknown",error_message:(g==null?void 0:g.message)||String(g),attempt_id:x,..._})},[e,n]),o=E.useCallback(()=>{e&&e.capture(ki.AUTH_LOGOUT)},[e]),c=E.useCallback((v,g={})=>{if(!e)return;const _={started:ki.AUTH_CALLBACK_STARTED,success:ki.AUTH_CALLBACK_SUCCESS,error:ki.AUTH_CALLBACK_ERROR}[v];_&&e.capture(_,{attempt_id:n(),...g})},[e,n]),d=E.useCallback(()=>{if(e)try{const g=parseInt(sessionStorage.getItem(pn.LOGIN_PAGE_VIEWS)||"0",10)+1;sessionStorage.setItem(pn.LOGIN_PAGE_VIEWS,String(g)),g>Zz&&e.capture(ki.AUTH_REDIRECT_LOOP_DETECTED,{login_view_count:g,user_agent:navigator.userAgent,current_url:window.location.href,referrer:document.referrer}),t.current||(sessionStorage.getItem(pn.LOGIN_PAGE_TRACKED)||(e.capture(ki.FIRST_LOGIN_PAGE_VIEW,{referrer:document.referrer,current_url:window.location.href}),sessionStorage.setItem(pn.LOGIN_PAGE_TRACKED,"true")),t.current=!0)}catch{}},[e]),f=E.useCallback(()=>{try{sessionStorage.removeItem(pn.LOGIN_PAGE_VIEWS),sessionStorage.removeItem(pn.LOGIN_PAGE_TRACKED),sessionStorage.removeItem(pn.AUTH_ATTEMPT_ID)}catch{}},[]),p=E.useCallback(()=>{try{return parseInt(sessionStorage.getItem(pn.LOGIN_PAGE_VIEWS)||"0",10)}catch{return 0}},[]);return{trackAuthAttemptStarted:i,trackAuthSuccess:s,trackAuthFailed:a,trackLogout:o,trackAuthCallback:c,trackLoginPageView:d,clearLoginPageTracking:f,getLoginPageViewCount:p,AUTH_METHODS:H1,AUTH_SOURCES:iC}}function eW(){const[e,t]=E.useState(null);return E.useEffect(()=>nz(t),[]),{isHealthy:e}}function tW(){const{signInWithGitHub:e,signInWithEmail:t,signUpWithEmail:r,user:n,profile:i}=qr(),s=ft(),{trackAuthAttemptStarted:a,trackAuthFailed:o,trackLoginPageView:c,AUTH_METHODS:d,AUTH_SOURCES:f}=uR(),[p,v]=E.useState(!1),[g,_]=E.useState(null),[x,b]=E.useState(null),[w,A]=E.useState(!1),[S,O]=E.useState(!1),[j,N]=E.useState(""),[P,R]=E.useState(""),[H,D]=E.useState(!1),{isHealthy:M}=eW();E.useEffect(()=>{c()},[c]),E.useEffect(()=>{n&&i&&s("/portal")},[n,i,s]);const F=async()=>{try{v(!0),_(null),b(null),a(d.GITHUB,f.LOGIN_PAGE),await new Promise(W=>setTimeout(W,300)),await e()}catch(W){o(d.GITHUB,W),_(W.message),v(!1)}},Y=async W=>{W.preventDefault();try{if(v(!0),_(null),b(null),a(d.EMAIL,f.LOGIN_PAGE,{is_signup:S}),S){const{user:Q}=await r(j,P);Q&&(b("Check your email to confirm your account."),O(!1),v(!1))}else await t(j,P)}catch(Q){o(d.EMAIL,Q,{is_signup:S}),_(Q.message),v(!1)}},G=()=>{O(!S),_(null),b(null)};return l.jsx("div",{className:"login-page",children:l.jsxs("div",{className:"login-container",children:[M===!1&&!H&&l.jsx(Tz,{variant:"warning",dismissible:!0,onDismiss:()=>D(!0),className:"login-connectivity-banner",children:"We're currently experiencing connectivity issues with our authentication provider. Login may be temporarily unavailable. Everything will return to normal once the issue is resolved."}),l.jsxs("div",{className:"login-card",children:[l.jsxs("div",{className:"login-header",children:[l.jsx("div",{className:"logos-container",children:l.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo"})}),l.jsx("h1",{children:S?"Create Account":"Welcome to TerminalBench"})]}),l.jsxs("div",{className:"login-content",children:[g&&l.jsx("div",{className:"error-message",children:g}),x&&l.jsx("div",{className:"success-message",children:x}),w?l.jsxs("form",{onSubmit:Y,className:"email-login-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email Address"}),l.jsx("input",{type:"email",id:"email",value:j,onChange:W=>N(W.target.value),placeholder:"name@company.com",required:!0,className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:P,onChange:W=>R(W.target.value),placeholder:"",required:!0,className:"form-input"})]}),!S&&l.jsx("div",{className:"forgot-password-link",children:l.jsx(sr,{to:"/forgot-password",children:"Forgot your password?"})}),l.jsx("button",{type:"submit",disabled:p,className:"submit-button",children:p?S?"Creating account...":"Signing in...":S?"Create Account":"Sign In"}),l.jsxs("div",{className:"auth-mode-toggle",children:[l.jsx("span",{className:"toggle-text",children:S?"Already have an account?":"Don't have an account?"}),l.jsx("button",{type:"button",className:"text-button inline",onClick:G,children:S?"Sign in":"Sign up"})]}),l.jsx("div",{className:"regular-login-section",children:l.jsx("button",{type:"button",className:"text-button",onClick:()=>{A(!1),O(!1),_(null),b(null)},children:"Back to GitHub login"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:F,disabled:p,className:`github-button ${p?"github-button-loading":""}`,children:p?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"github-button-spinner"}),"Opening GitHub..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"github-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Login with GitHub"]})}),l.jsx("div",{className:"regular-login-section",children:l.jsx("button",{className:"text-button",onClick:()=>A(!0),children:"I don't have a GitHub account"})})]})]})]})]})})}function rW(){const{resetPassword:e}=qr(),[t,r]=E.useState(""),[n,i]=E.useState(!1),[s,a]=E.useState(null),[o,c]=E.useState(!1),d=async f=>{f.preventDefault(),a(null),i(!0);try{const{error:p}=await e(t);if(p)throw p;c(!0)}catch(p){a(p.message)}finally{i(!1)}};return l.jsx("div",{className:"forgot-password-page",children:l.jsx("div",{className:"forgot-password-container",children:l.jsxs("div",{className:"forgot-password-card",children:[l.jsxs("div",{className:"forgot-password-header",children:[l.jsx("div",{className:"back-link-container",children:l.jsxs(sr,{to:"/login",className:"back-link",children:[l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to login"]})}),l.jsx("h1",{children:"Reset your password"}),l.jsx("p",{className:"forgot-password-subtitle",children:o?"Check your inbox for the reset link":"Enter your email and we'll send you a reset link"})]}),l.jsxs("div",{className:"forgot-password-content",children:[s&&l.jsx("div",{className:"error-message",children:s}),o?l.jsxs("div",{className:"success-state",children:[l.jsx("div",{className:"success-icon",children:l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),l.jsxs("p",{className:"success-text",children:["We've sent a password reset link to ",l.jsx("strong",{children:t})]}),l.jsxs("p",{className:"success-hint",children:["Didn't receive the email? Check your spam folder or"," ",l.jsx("button",{type:"button",className:"retry-button",onClick:()=>{c(!1),r("")},children:"try again"})]})]}):l.jsxs("form",{onSubmit:d,className:"forgot-password-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email Address"}),l.jsx("input",{type:"email",id:"email",value:t,onChange:f=>r(f.target.value),placeholder:"name@company.com",required:!0,className:"form-input",autoFocus:!0})]}),l.jsx("button",{type:"submit",disabled:n,className:"submit-button",children:n?"Sending...":"Send Reset Link"})]})]})]})})})}function nW(){const{updatePassword:e,user:t}=qr(),r=ft(),[n,i]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(!1),[d,f]=E.useState(null),[p,v]=E.useState(!1),[g,_]=E.useState(!1),[x,b]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const{data:{session:S}}=await qe.auth.getSession(),{data:{subscription:O}}=qe.auth.onAuthStateChange((j,N)=>{j==="PASSWORD_RECOVERY"&&(_(!0),b(!1))});return S&&_(!0),b(!1),()=>O.unsubscribe()}catch(S){console.error("Session check error:",S),b(!1)}})()},[]);const w=async A=>{if(A.preventDefault(),f(null),n!==s){f("Passwords do not match");return}if(n.length<6){f("Password must be at least 6 characters long");return}c(!0);try{const{error:S}=await e(n);if(S)throw S;v(!0),setTimeout(()=>{r("/portal")},2e3)}catch(S){f(S.message)}finally{c(!1)}};return x?l.jsx("div",{className:"reset-password-page",children:l.jsx("div",{className:"reset-password-container",children:l.jsx("div",{className:"reset-password-card",children:l.jsxs("div",{className:"loading-state",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Verifying reset link..."})]})})})}):!g&&!t?l.jsx("div",{className:"reset-password-page",children:l.jsx("div",{className:"reset-password-container",children:l.jsx("div",{className:"reset-password-card",children:l.jsxs("div",{className:"invalid-link-state",children:[l.jsx("div",{className:"error-icon",children:l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),l.jsx("h2",{children:"Invalid or Expired Link"}),l.jsx("p",{children:"This password reset link is invalid or has expired."}),l.jsx("button",{onClick:()=>r("/forgot-password"),className:"request-new-link-button",children:"Request a New Link"})]})})})}):l.jsx("div",{className:"reset-password-page",children:l.jsx("div",{className:"reset-password-container",children:l.jsxs("div",{className:"reset-password-card",children:[l.jsxs("div",{className:"reset-password-header",children:[l.jsx("h1",{children:p?"Password Updated!":"Set New Password"}),l.jsx("p",{className:"reset-password-subtitle",children:p?"Redirecting you to the portal...":"Choose a strong password for your account"})]}),l.jsxs("div",{className:"reset-password-content",children:[d&&l.jsx("div",{className:"error-message",children:d}),p?l.jsxs("div",{className:"success-state",children:[l.jsx("div",{className:"success-icon",children:l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),l.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),l.jsx("p",{className:"success-text",children:"Your password has been successfully updated."})]}):l.jsxs("form",{onSubmit:w,className:"reset-password-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"New Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:A=>i(A.target.value),placeholder:"",required:!0,minLength:6,className:"form-input",autoFocus:!0}),l.jsx("span",{className:"input-hint",children:"Must be at least 6 characters"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx("input",{type:"password",id:"confirmPassword",value:s,onChange:A=>a(A.target.value),placeholder:"",required:!0,className:"form-input"})]}),l.jsx("button",{type:"submit",disabled:o,className:"submit-button",children:o?"Updating...":"Update Password"})]})]})]})})})}function iW(){const e=ft(),t=ci(),{trackAuthCallback:r}=uR(),[n,i]=E.useState(null),[s,a]=E.useState(!0);E.useEffect(()=>{(async()=>{r("started",{has_hash:!!t.hash,has_code:!!new URLSearchParams(t.search).get("code"),callback_type:"oauth"});const d=new URLSearchParams(t.hash.substring(1)),f=d.get("error_code"),p=d.get("error_description"),v=d.get("type"),_=new URLSearchParams(t.search).get("code");if(f){const w=p?decodeURIComponent(p.replace(/\+/g," ")):"An error occurred";r("error",{error_code:f,error_description:w,callback_type:v||"unknown"}),i({code:f,description:w}),a(!1);return}if(d.get("access_token")||_){const{data:{session:w},error:A}=await qe.auth.getSession();if(A){r("error",{error_code:"session_error",error_description:A.message}),i({code:"session_error",description:A.message}),a(!1);return}if(r("success",{callback_type:v||"oauth",has_session:!!w}),v==="recovery"){e("/reset-password",{replace:!0});return}e("/portal",{replace:!0});return}const{data:{session:b}}=await qe.auth.getSession();b?(r("success",{callback_type:"existing_session"}),e("/portal",{replace:!0})):(r("error",{error_code:"no_session",error_description:"No session found after callback"}),e("/login",{replace:!0}))})()},[t,e,r]);const o=()=>{if(!n)return"";switch(n.code){case"otp_expired":return"This password reset link has expired. Please request a new one.";case"access_denied":return"Access was denied. The link may be invalid or expired.";default:return n.description||"An unexpected error occurred."}};return s?l.jsx("div",{className:"auth-callback-page",children:l.jsx("div",{className:"auth-callback-container",children:l.jsx("div",{className:"auth-callback-card",children:l.jsxs("div",{className:"loading-state",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Processing..."})]})})})}):n?l.jsx("div",{className:"auth-callback-page",children:l.jsx("div",{className:"auth-callback-container",children:l.jsx("div",{className:"auth-callback-card",children:l.jsxs("div",{className:"error-state",children:[l.jsx("div",{className:"error-icon",children:l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),l.jsx("h2",{children:"Link Expired or Invalid"}),l.jsx("p",{className:"error-description",children:o()}),l.jsxs("div",{className:"error-actions",children:[l.jsx("button",{onClick:()=>e("/forgot-password"),className:"primary-button",children:"Request New Link"}),l.jsx("button",{onClick:()=>e("/login"),className:"secondary-button",children:"Back to Login"})]})]})})})}):null}const sW=()=>{const e=ft(),{theme:t}=W3(),r=n=>{const i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})};return l.jsx("header",{className:"public-header",children:l.jsxs("div",{className:"public-header-content",children:[l.jsx(Z3,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"})}),l.jsxs(eR,{className:"public-nav",children:[l.jsx(va,{as:"button",onClick:()=>r("what-is-terminalbench"),children:"What is TerminalBench?"}),l.jsx(va,{as:"button",onClick:()=>e("/login"),variant:"button",children:"Login"})]})]})})},cR=()=>{const e=E.useRef(null),{theme:t}=W3();return E.useEffect(()=>{const r=e.current,n=r.getContext("2d");let i,s=[];const a=["0","1","{","}","<",">","/","*","","","","","","::"],o=()=>{const _=window.devicePixelRatio||1;r.width=window.innerWidth*_,r.height=window.innerHeight*_,r.style.width=`${window.innerWidth}px`,r.style.height=`${window.innerHeight}px`,n.scale(_,_),f()},c={x:null,y:null,radius:100};class d{constructor(x,b,w,A,S,O,j){this.x=x,this.y=b,this.z=Math.random()*3+.3,this.baseSize=S,this.size=S*this.z,this.directionX=w*this.z,this.directionY=A*this.z,this.color=O,this.symbol=j,this.vx=0,this.vy=0,this.friction=.96}draw(){n.globalAlpha=Math.min(1,this.z/2.5*.85),n.font=`${Math.max(8,this.size*8)}px "JetBrains Mono", monospace`,n.fillStyle=this.color,n.fillText(this.symbol,this.x,this.y),n.globalAlpha=1}update(x,b){if(this.x>x+50&&(this.x=-50),this.x<-50&&(this.x=x+50),this.y>b+50&&(this.y=-50),this.y<-50&&(this.y=b+50),c.x!=null){let P=c.x-this.x,R=c.y-this.y,H=Math.sqrt(P*P+R*R);const D=c.radius*this.z;if(H<D){const M=P/H,F=R/H,Y=(D-H)/D,G=.3*this.z;this.vx-=M*Y*G,this.vy-=F*Y*G}}let w=x/2,A=b/2,S=280*this.z,O=w-this.x,j=A-this.y,N=Math.sqrt(O*O+j*j);if(N<S){let P=Math.atan2(j,O),R=(S-N)/S;this.vx-=Math.cos(P)*R*.6*this.z,this.vy-=Math.sin(P)*R*.6*this.z}this.x+=this.directionX,this.y+=this.directionY,this.x+=this.vx,this.y+=this.vy,this.vx*=this.friction,this.vy*=this.friction,this.draw()}}const f=()=>{s=[];const _=window.innerWidth,x=window.innerHeight;let b=_*x/15e3,w=t==="dark"?"#64ffda":"#0071e3";for(let A=0;A<b;A++){let S=Math.random()*1.5+.5,O=Math.random()*_,j=Math.random()*x,N=Math.random()*.2-.1,P=Math.random()*-.3-.05,R=a[Math.floor(Math.random()*a.length)];s.push(new d(O,j,N,P,S,w,R))}s.sort((A,S)=>A.z-S.z)},p=()=>{requestAnimationFrame(p),n.clearRect(0,0,window.innerWidth,window.innerHeight);for(let _=0;_<s.length;_++)s[_].update(window.innerWidth,window.innerHeight);v()},v=()=>{const _=window.innerWidth,x=window.innerHeight;for(let b=0;b<s.length;b++)for(let w=b;w<s.length;w++){if(Math.abs(s[b].z-s[w].z)>.2)continue;let A=(s[b].x-s[w].x)*(s[b].x-s[w].x)+(s[b].y-s[w].y)*(s[b].y-s[w].y),S=_/11*(x/11)*.5;if(A<S){let O=1-A/S,j=Math.min(1,s[b].z/2.5),N=t==="dark"?`rgba(100, 255, 218, ${O*.2*j})`:`rgba(0, 113, 227, ${O*.15*j})`;n.strokeStyle=N,n.lineWidth=.5,n.beginPath(),n.moveTo(s[b].x+5,s[b].y-5),n.lineTo(s[w].x+5,s[w].y-5),n.stroke()}}};window.addEventListener("resize",o);const g=_=>{c.x=_.x,c.y=_.y};return window.addEventListener("mousemove",g),window.addEventListener("mouseout",()=>{c.x=void 0,c.y=void 0}),o(),p(),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",g),cancelAnimationFrame(i)}},[t]),l.jsx("canvas",{ref:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"}})},aW=()=>{const e=ft(),t=()=>{e("/login")},r=n=>{n.preventDefault();const i=document.getElementById("what-is-terminalbench");i&&i.scrollIntoView({behavior:"smooth"})};return l.jsxs("section",{className:"landing-hero",children:[l.jsx(cR,{}),l.jsxs("div",{className:"hero-content",children:[l.jsx("h1",{className:"hero-title",children:"Welcome to your new community of experts."}),l.jsxs("p",{className:"hero-subtitle",children:["Build challenging and ",l.jsx("b",{children:"real"})," engineering tasks, beat frontier LLMS, advance the state of agentic coding and ",l.jsx("b",{children:"get paid for your expertise."})]}),l.jsxs("div",{className:"hero-ctas",children:[l.jsxs("button",{onClick:t,className:"cta-button cta-primary",children:["Login to my portal",l.jsxs("svg",{className:"arrow-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M5 12h14"}),l.jsx("path",{d:"M12 5l7 7-7 7"})]})]}),l.jsx("a",{href:"#what-is-terminalbench",onClick:r,className:"cta-link",children:"What is TerminalBench?"}),l.jsx("div",{style:{marginTop:"0.5rem"},children:l.jsx("a",{href:"#how-it-works",onClick:n=>{n.preventDefault();const i=document.getElementById("how-it-works");i&&i.scrollIntoView({behavior:"smooth"})},className:"cta-link",style:{fontSize:"0.9rem",opacity:.8},children:"Learn how it works"})})]})]}),l.jsx("div",{className:"scroll-indicator",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M7 13l5 5 5-5M7 6l5 5 5-5"})})})]})},oW=()=>l.jsxs("section",{id:"what-is-terminalbench",className:"landing-section what-is-section",children:[l.jsx("h2",{className:"section-title",children:"What is TerminalBench?"}),l.jsxs("div",{className:"what-is-content",children:[l.jsx("p",{className:"lead-text",children:"TerminalBench is a platform where developers complete real engineering tasks to benchmark and improve AI coding agents. Companies and research teams submit real problems, developers solve them, and human results are compared against agent performance to advance the next generation of AI-assisted software development."}),l.jsxs("p",{className:"lead-text",children:["TerminalBench was created by ",l.jsx("b",{children:"Stanford University"})," and the ",l.jsx("b",{children:"Laude Institute"}),", and has quickly become a leading benchmark for evaluating AI coding agents in command-line environments. Since launch, it has earned over 1,000 GitHub stars and attracted contributions from developers worldwide. This platform is a ",l.jsx("b",{children:"Snorkel AI initiative"})," to contribute to and expand the benchmark (not an official partnership)."]}),l.jsx("p",{className:"highlight-text",children:"You get paid for high-quality engineering work, and your contributions directly improve the future of agentic development."}),l.jsxs("div",{className:"research-card-wrapper",children:[l.jsx("div",{className:"research-divider"}),l.jsxs("a",{href:"https://snorkel.ai/blog/terminal-bench-2-0-raising-the-bar-for-ai-agent-evaluation/",target:"_blank",rel:"noopener noreferrer",className:"research-card",children:[l.jsx("div",{className:"research-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),l.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),l.jsxs("div",{className:"research-content",children:[l.jsx("span",{className:"research-label",children:"Deep Dive"}),l.jsx("span",{className:"research-question",children:"Terminal-Bench 2.0: Raising the bar for AI agent evaluation"}),l.jsxs("span",{className:"research-cta",children:["Read about Snorkel's contribution to Terminal-Bench 2.0",l.jsxs("svg",{className:"arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),l.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})]})]})]}),lW=()=>{const[e,t]=E.useState(!1),r=[{number:"01",title:"Pick or Define a Task",description:"Browse our queue of real-world engineering problems or create a task that matches your expertise, from debugging to feature implementation.",hasLink:!0},{number:"02",title:"Build & Submit",description:"Work in your own IDE, preferred environment. Use standard tools to code your solution, then push for automated- and human verification."},{number:"03",title:"Get Paid",description:"Once your solution gets accepted, you get paid. Build your reputation and keep building tasks."}];return l.jsxs("section",{id:"how-it-works",className:"landing-section",children:[l.jsx("h2",{className:"section-title",children:"How does TerminalBench work?"}),l.jsx("div",{className:"timeline-container",children:r.map((n,i)=>l.jsx("div",{className:"timeline-step",children:l.jsxs("div",{className:"timeline-content",children:[l.jsx("span",{className:"step-number",children:n.number}),l.jsx("h3",{children:n.title}),l.jsx("p",{children:n.description}),n.hasLink&&l.jsx("a",{className:"learn-more-link",onClick:s=>{s.preventDefault(),t(!0)},children:"Learn more about our tasks "})]})},i))}),l.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:n=>{n.target===n.currentTarget&&t(!1)},children:l.jsxs("div",{className:"modal-content",children:[l.jsx("button",{className:"modal-close",onClick:()=>t(!1),children:""}),l.jsx("h3",{className:"modal-title",children:"Diverse Engineering Challenges"}),l.jsxs("div",{className:"modal-body",children:[l.jsx("p",{children:"Our platform hosts a massive variety of tasks designed to test and improve skills across the entire technology spectrum. From quick bug fixes to complex system architecture problems, there's something for every engineer."}),l.jsxs("p",{children:[l.jsx("b",{children:"Have a specific problem in mind?"})," You can also propose your own tasks and solutions to contribute to our growing library of engineering challenges."]}),l.jsx("p",{children:"Explore challenges in specialized fields including:"}),l.jsxs("div",{className:"modal-tags",children:[l.jsx("span",{className:"modal-tag",children:"Machine Learning"}),l.jsx("span",{className:"modal-tag",children:"Data Science"}),l.jsx("span",{className:"modal-tag",children:"Cyber Security"}),l.jsx("span",{className:"modal-tag",children:"Full Stack Web"}),l.jsx("span",{className:"modal-tag",children:"System Design"}),l.jsx("span",{className:"modal-tag",children:"Cloud Infrastructure"}),l.jsx("span",{className:"modal-tag",children:"Algorithms"}),l.jsx("span",{className:"modal-tag",children:"Database Optimization"}),l.jsx("span",{className:"modal-more-text",children:"And more..."})]})]})]})})]})},uW=[{title:"Debug Race Condition",difficulty:"hard",language:"Go",description:"Identify and fix a race condition in a concurrent queue implementation."},{title:"Implement API Endpoint",difficulty:"medium",language:"Python",description:"Create a new REST endpoint with rate limiting and caching support."},{title:"Refactor Component",difficulty:"easy",language:"React",description:"Convert a class-based component to functional using hooks and optimize re-renders."},{title:"Optimize SQL Query",difficulty:"medium",language:"PostgreSQL",description:"Rewrite a slow reporting query to use appropriate indexes and CTEs."},{title:"Integrate Payment Gateway",difficulty:"hard",language:"Node.js",description:"Implement Stripe webhooks handling with idempotent processing."},{title:"Fix CSS Overflow",difficulty:"easy",language:"CSS",description:"Resolve horizontal scroll issue on mobile devices for the main dashboard."},{title:"Kubernetes Config",difficulty:"medium",language:"DevOps",description:"Create Helm charts for microservices deployment with auto-scaling."},{title:"Memory Leak Analysis",difficulty:"hard",language:"Rust",description:"Profile and fix memory leaks in a long-running background worker."},{title:"Unit Tests Coverage",difficulty:"easy",language:"Java",description:"Increase test coverage for the core business logic module to 90%."},{title:"Accessibility Audit",difficulty:"medium",language:"HTML/JS",description:"Fix WCAG 2.1 compliance issues in the navigation and form components."},{title:"Database Migration",difficulty:"hard",language:"SQL",description:"Safely migrate 50M+ records to a new schema structure with zero downtime."},{title:"GraphQL Resolver",difficulty:"medium",language:"TypeScript",description:"Implement N+1 query problem solution using DataLoader patterns."},{title:"Mobile Touch Events",difficulty:"medium",language:"React Native",description:"Fix touch event propagation issues in nested scroll views."},{title:"Secure JWT Auth",difficulty:"hard",language:"Go",description:"Implement secure JWT rotation and refresh token strategy."},{title:"Dockerize App",difficulty:"easy",language:"Docker",description:"Create optimized multi-stage Dockerfile for a Node.js application."},{title:"Redis Caching",difficulty:"medium",language:"Python",description:"Implement read-through caching pattern for expensive API calls."},{title:"Websocket Chat",difficulty:"hard",language:"Elixir",description:"Build a scalable realtime chat server handling 10k+ concurrent connections."},{title:"Fix Z-Index Stacking",difficulty:"easy",language:"CSS",description:"Debug and fix modal overlay z-index issues across the application."},{title:"Lambda Cold Starts",difficulty:"medium",language:"AWS",description:"Optimize AWS Lambda function initialization to reduce cold start latency."},{title:"Distributed Lock",difficulty:"hard",language:"Java",description:"Implement a distributed locking mechanism using Redis for job scheduling."},{title:"Form Validation",difficulty:"easy",language:"Vue",description:"Add client-side validation for email and password complexity."},{title:"Image Optimization",difficulty:"medium",language:"Shell",description:"Write a script to automatically compress and resize uploaded user avatars."},{title:"CI/CD Pipeline",difficulty:"hard",language:"GitHub Actions",description:"Set up a complete CI/CD pipeline with linting, testing, and blue-green deployment."},{title:"Internationalization",difficulty:"medium",language:"JavaScript",description:"Refactor hardcoded strings to use an i18n library for multi-language support."},{title:"State Management",difficulty:"medium",language:"Redux",description:"Migrate complex local state to global store with proper normalization."},{title:"Search Indexing",difficulty:"hard",language:"Elasticsearch",description:"Design and implement a custom analyzer for domain-specific search queries."},{title:"OEmbed Support",difficulty:"easy",language:"PHP",description:"Add OEmbed support to automatically preview links in user posts."},{title:"Three.js Performance",difficulty:"hard",language:"WebGL",description:"Optimize rendering pipeline to maintain 60fps with 10k+ particles."},{title:"Scrape Data",difficulty:"medium",language:"Python",description:"Build a robust scraper with proxy rotation and captcha handling."},{title:"Type Safety",difficulty:"easy",language:"TypeScript",description:"Add strict type definitions to legacy JavaScript utility functions."},{title:"Kafka Consumer",difficulty:"hard",language:"Scala",description:"Implement a fault-tolerant Kafka consumer group with exactly-once semantics."},{title:"Responsive Nav",difficulty:"easy",language:"Svelte",description:"Create a fully accessible, keyboard-navigable mobile menu component."},{title:"CSV Import",difficulty:"medium",language:"Ruby",description:"Build a background job to process large CSV uploads without memory spikes."},{title:"GDPR Compliance",difficulty:"medium",language:"SQL",description:"Create stored procedures to anonymize user data upon account deletion."},{title:"Video Transcoding",difficulty:"hard",language:"FFmpeg",description:"Set up an adaptive bitrate streaming pipeline for uploaded videos."},{title:"Dark Mode",difficulty:"easy",language:"CSS",description:"Implement system-preference aware dark mode theme using CSS variables."},{title:"Terraform Modules",difficulty:"medium",language:"HCL",description:"Refactor infrastructure code into reusable modules for multi-region deploy."},{title:"Load Balancing",difficulty:"hard",language:"Nginx",description:"Configure advanced load balancing strategies with health checks and failover."},{title:"PDF Generation",difficulty:"medium",language:"Node.js",description:"Generate dynamic invoices and reports as PDFs from HTML templates."},{title:"App Store Build",difficulty:"hard",language:"Swift",description:"Automate the iOS build and signing process for TestFlight distribution."},{title:"Lazy Loading",difficulty:"easy",language:"Angular",description:"Implement route-level lazy loading to improve initial bundle size."},{title:"Metrics Collection",difficulty:"medium",language:"Prometheus",description:"Instrument application code to expose custom business metrics."},{title:"Blockchain Verify",difficulty:"hard",language:"Solidity",description:"Write a smart contract to verify supply chain authenticity on-chain."},{title:"SVG Animation",difficulty:"easy",language:"SVG",description:"Create a lightweight loading spinner using pure SVG animations."},{title:"TensorFlow Model",difficulty:"hard",language:"Python",description:"Convert a PyTorch research model to TensorFlow Lite for mobile deployment."},{title:"CLI Tool",difficulty:"medium",language:"Rust",description:"Build a fast command-line utility for processing log files."},{title:"Rate Limiting",difficulty:"medium",language:"Redis",description:"Implement a sliding window rate limiter to prevent API abuse."},{title:"Email Templates",difficulty:"easy",language:"MJML",description:"Design responsive email templates that work in Outlook and Gmail."},{title:"OAuth2 Flow",difficulty:"medium",language:"C#",description:"Implement OAuth2 authorization code flow with PKCE for .NET Core API."},{title:"Data Visualization",difficulty:"easy",language:"D3.js",description:"Create an interactive line chart component with tooltips and zoom."},{title:"Microfrontend",difficulty:"hard",language:"Webpack",description:"Configure Module Federation for sharing components between React and Vue apps."},{title:"Geo-Spatial Query",difficulty:"medium",language:"PostGIS",description:"Optimize nearest-neighbor queries for a delivery dispatch system."},{title:"Service Worker",difficulty:"medium",language:"PWA",description:"Implement offline-first caching strategy for a news reader app."},{title:"Fuzz Testing",difficulty:"hard",language:"Go",description:"Add fuzz testing to the input parser to identify edge case crashes."},{title:"Slack Integration",difficulty:"easy",language:"Node.js",description:"Build a bot to notify channels about deployment status updates."},{title:"ETL Pipeline",difficulty:"medium",language:"Apache Airflow",description:"Design a DAG to extract, transform, and load daily analytics data."},{title:"WebAssembly",difficulty:"hard",language:"C++",description:"Compile a legacy image processing library to WASM for browser usage."},{title:"Feature Flags",difficulty:"medium",language:"Python",description:"Implement a feature flag service with percentage-based rollouts."},{title:"Keyboard Shortcuts",difficulty:"easy",language:"JavaScript",description:"Add global keyboard shortcuts for common actions in the admin panel."},{title:"Audit Logging",difficulty:"medium",language:"Java",description:"Implement tamper-evident audit logging for all sensitive user actions."},{title:"WebRTC Signaling",difficulty:"hard",language:"Go",description:"Build a custom signaling server for peer-to-peer video calls."},{title:"Dependency Injection",difficulty:"medium",language:"Kotlin",description:"Refactor a monolithic service to use dependency injection for better testability."},{title:"Infinite Scroll",difficulty:"easy",language:"React",description:"Implement virtualization for a list with thousands of items."},{title:"Vector Search",difficulty:"hard",language:"Pinecone",description:"Integrate vector database for semantic search over documentation."},{title:"Markdown Editor",difficulty:"medium",language:"Vue",description:"Create a rich text editor with live Markdown preview and syntax highlighting."},{title:"Rate Limit Middleware",difficulty:"easy",language:"Express",description:"Write middleware to block IPs exceeding 100 requests per minute."},{title:"Two-Factor Auth",difficulty:"medium",language:"PHP",description:"Add TOTP-based 2FA using Google Authenticator compatibility."},{title:"Graph Database",difficulty:"hard",language:"Neo4j",description:"Model a social network relationship graph and query friends-of-friends."},{title:"S3 Upload",difficulty:"easy",language:"AWS SDK",description:"Implement direct-to-S3 file uploads with signed URLs."},{title:"E2E Testing",difficulty:"medium",language:"Cypress",description:"Write robust end-to-end tests for the user checkout flow."},{title:"Memory Profiling",difficulty:"hard",language:"C",description:"Use Valgrind to detect and fix memory leaks in a system daemon."},{title:"Push Notifications",difficulty:"medium",language:"Firebase",description:"Integrate FCM for cross-platform mobile push notifications."},{title:"Search Autocomplete",difficulty:"easy",language:"JavaScript",description:"Build a debounced autocomplete input fetching suggestions from an API."},{title:"Data Encryption",difficulty:"hard",language:"Python",description:"Implement field-level encryption for PII in the database using AES-256."},{title:"Webhook Consumer",difficulty:"medium",language:"Ruby on Rails",description:"Create a generic webhook ingestion endpoint with signature verification."},{title:"Accessibility Fixes",difficulty:"easy",language:"ARIA",description:"Audit and fix ARIA labels for screen reader compatibility."}],cW=()=>{const e=uW.slice(0,12).map((t,r)=>({id:r,subcategory:t.title,description:t.description,difficulty:t.difficulty,category:t.language}));return l.jsxs("section",{className:"landing-section full-width tasks-section",children:[l.jsx("h2",{className:"section-title",children:"Examples of Real Engineering Problems"}),l.jsx("p",{className:"section-subtitle",children:"Think you can beat the models? Prove it and get paid."}),l.jsxs("div",{className:"tasks-perspective-container",children:[l.jsx("div",{className:"tasks-perspective-grid",children:e.map((t,r)=>l.jsx("div",{className:"task-card-wrapper",style:{"--index":r},children:l.jsx(So,{task:t})},r))}),l.jsx("div",{className:"tasks-fade-overlay"})]})]})},dW=()=>l.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg impact-icon",children:[l.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",fill:"currentColor",className:"impact-fill",opacity:"0.2"})]}),hW=()=>l.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg pay-icon",children:[l.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round",className:"pay-diamond"}),l.jsx("path",{d:"M6 22H58",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),l.jsx("path",{d:"M19 22L32 60L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),l.jsx("path",{d:"M32 4V22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),l.jsx("path",{d:"M19 22L32 4L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),l.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",fill:"currentColor",className:"pay-fill",opacity:"0"})]}),fW=()=>l.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg brain-icon",children:[l.jsx("path",{d:"M12 32C12 20.9543 20.9543 12 32 12C36.4655 12 40.5963 13.4644 44 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),l.jsx("path",{d:"M52 32C52 43.0457 43.0457 52 32 52C27.5345 52 23.4037 50.5356 20 48",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),l.jsx("rect",{x:"22",y:"22",width:"20",height:"20",rx:"4",stroke:"currentColor",strokeWidth:"2.5"}),l.jsx("path",{d:"M32 22V42M22 32H42",stroke:"currentColor",strokeWidth:"2.5"}),l.jsx("circle",{cx:"32",cy:"32",r:"3",fill:"currentColor",className:"brain-pulse"}),l.jsx("path",{d:"M48 24L56 16M16 40L8 48",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"brain-connect"})]}),pW=()=>l.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg flex-icon",children:[l.jsx("circle",{cx:"32",cy:"32",r:"24",stroke:"currentColor",strokeWidth:"2.5"}),l.jsx("path",{d:"M32 8V56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),l.jsx("path",{d:"M8 32H56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),l.jsx("ellipse",{cx:"32",cy:"32",rx:"12",ry:"24",stroke:"currentColor",strokeWidth:"2.5",className:"flex-orbit"}),l.jsx("circle",{cx:"32",cy:"32",r:"6",fill:"currentColor",className:"flex-core"})]}),mW=()=>{const e=[{icon:l.jsx(dW,{}),title:"Real Impact",description:"Your work helps evaluate and push the boundaries of next-gen AI models."},{icon:l.jsx(hW,{}),title:"Competitive Pay",description:"Earn competitive rates for high-quality engineering work. No bidding wars."},{icon:l.jsx(fW,{}),title:"Hard Problems",description:"No CSS centering or button shifting. Tackle complex algorithmic and system design challenges."},{icon:l.jsx(pW,{}),title:"Flexible Work",description:"Work from anywhere, anytime. Choose tasks that fit your schedule and interests."}];return l.jsxs("section",{id:"benefits",className:"landing-section",children:[l.jsx("h2",{className:"section-title",children:"You + TerminalBench"}),l.jsx("div",{className:"benefits-grid",children:e.map((t,r)=>l.jsxs("div",{className:"benefit-item",children:[l.jsx("div",{className:"benefit-icon-wrapper",children:t.icon}),l.jsx("h3",{children:t.title}),l.jsx("p",{children:t.description})]},r))})]})},gW=()=>{const e=ft();return l.jsx("footer",{style:{backgroundColor:"#ffffff",padding:"6rem 2rem 4rem",marginTop:"0",borderTop:"1px solid #f0f0f0",color:"#1d1d1f"},children:l.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"4rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"2rem"},children:[l.jsxs("div",{style:{maxWidth:"600px"},children:[l.jsxs("h3",{style:{fontSize:"2.5rem",fontWeight:"700",marginBottom:"2rem",lineHeight:"1.1",color:"#1d1d1f",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[l.jsx("span",{children:"Real work."}),l.jsx("span",{children:"Real payouts."}),l.jsx("span",{children:"Real impact."})]}),l.jsxs("p",{style:{fontSize:"1.25rem",color:"#86868b",maxWidth:"480px"},children:["The thing frontier agents are missing: ",l.jsx("b",{children:"your expertise"}),"."]})]}),l.jsx("div",{children:l.jsx("button",{onClick:()=>e("/login"),className:"cta-button cta-primary",style:{padding:"1rem 2.5rem",fontSize:"1.1rem"},children:"Login to my portal"})})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",borderTop:"1px solid #f0f0f0",paddingTop:"2rem",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"2rem",color:"#424245",fontSize:"0.9rem",flexWrap:"wrap"},children:[l.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Terms"}),l.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Privacy"})]}),l.jsxs("p",{style:{color:"#86868b",fontSize:"0.8rem"},children:[" ",new Date().getFullYear()," Snorkel AI. All rights reserved. TerminalBench is a project of Stanford University and Laude Institute."]})]})]})})},vW=()=>{const e=ft(),t=ci();return E.useEffect(()=>{if(t.hash){const r=new URLSearchParams(t.hash.substring(1)),n=r.get("error_code"),i=r.get("access_token"),s=r.get("type");(n||i||s==="recovery")&&e(`/auth/callback${t.hash}`,{replace:!0})}},[t,e]),l.jsxs("div",{className:"public-landing",children:[l.jsx(sW,{}),l.jsx(aW,{}),l.jsx(oW,{}),l.jsx(lW,{}),l.jsx(cW,{}),l.jsx(mW,{}),l.jsx(gW,{})]})};function yW(){var d,f;const{user:e,profile:t,signOut:r}=qr(),[n,i]=E.useState(!1),s=E.useRef(null),a=ft(),o=(t==null?void 0:t.is_admin)||!1;E.useEffect(()=>{const p=v=>{s.current&&!s.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const c=async()=>{try{await r()}catch(p){console.error("Sign out error:",p)}a("/login")};return t?l.jsxs("div",{className:"user-menu",ref:s,children:[l.jsxs("button",{className:`user-menu-button ${n?"active":""}`,onClick:()=>i(!n),children:[t.github_avatar_url?l.jsx("img",{src:t.github_avatar_url,alt:t.github_username,className:"user-avatar"}):l.jsx("div",{className:"user-avatar-placeholder",children:((f=(d=t.github_username)==null?void 0:d[0])==null?void 0:f.toUpperCase())||"U"}),l.jsx("span",{className:"user-name",children:t.github_username||"User"}),l.jsx("svg",{className:`user-menu-chevron ${n?"open":""}`,width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M4.427 6.573l3.396 3.396 3.396-3.396a.75.75 0 111.06 1.06l-3.926 3.927a.75.75 0 01-1.06 0L3.366 7.633a.75.75 0 011.06-1.06z"})})]}),n&&l.jsxs("div",{className:"user-menu-dropdown",children:[l.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/my-tasks"),i(!1)},children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M2.5 2.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-11zM3 13h10V3H3v10zm2-2h6v1H5v-1zm0-3h6v1H5V8zm0-3h6v1H5V5z"})}),"My tasks"]}),l.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/profile"),i(!1)},children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:l.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})}),"Profile"]}),o&&l.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/admin"),i(!1)},children:[l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[l.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"}),l.jsx("path",{d:"M8 4a.75.75 0 01.75.75v3.5h3.5a.75.75 0 010 1.5h-3.5v3.5a.75.75 0 01-1.5 0v-3.5h-3.5a.75.75 0 010-1.5h3.5v-3.5A.75.75 0 018 4z"})]}),"Admin Dashboard"]}),l.jsxs("button",{className:"user-menu-item user-menu-item-danger",onClick:c,children:[l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[l.jsx("path",{d:"M3.5 2A1.5 1.5 0 002 3.5v9A1.5 1.5 0 003.5 14h5a.5.5 0 000-1h-5a.5.5 0 01-.5-.5v-9a.5.5 0 01.5-.5h5a.5.5 0 000-1h-5z"}),l.jsx("path",{d:"M11.854 8.354l2.5-2.5a.5.5 0 000-.708l-2.5-2.5a.5.5 0 10-.708.708L13.293 5.5H6.5a.5.5 0 000 1h6.793l-2.147 2.146a.5.5 0 00.708.708z"})]}),"Sign Out"]})]})]}):null}function bW(){const{profile:e}=qr(),t=nn(),r=ft(),n=ci(),[i,s]=E.useState(!1),[a,o]=E.useState(!1),c=E.useRef(null),d=E.useRef(null);if(!e)return null;E.useEffect(()=>{o(!1)},[n.pathname]),E.useEffect(()=>{const v=g=>{c.current&&!c.current.contains(g.target)&&s(!1),d.current&&!d.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),E.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const f=v=>v==="/"?n.pathname==="/portal"||n.pathname==="/portal/":n.pathname.startsWith(`/portal${v}`),p=()=>{t&&t.capture("browse_tasks_clicked",{source:"header_nav"})};return l.jsxs("header",{className:"app-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx("div",{className:"header-left",children:l.jsx(Z3,{onClick:()=>r("/portal")})}),l.jsxs("div",{className:"header-right",children:[l.jsxs(eR,{className:"header-nav",children:[l.jsx(va,{to:"/portal",active:f("/"),children:"Home"}),l.jsx(va,{to:"/portal/overview",active:f("/overview"),children:"Our mission"}),l.jsx(va,{to:"/portal/tasks",active:f("/tasks"),onClick:p,children:"Task gallery"}),l.jsx(va,{to:"/portal/docs",active:f("/docs"),children:"Docs"}),l.jsxs("div",{className:"nav-dropdown-container",ref:c,children:[l.jsxs(va,{as:"button",className:"dropdown-trigger",onClick:()=>s(!i),children:["Quick links",l.jsx("svg",{className:`dropdown-arrow ${i?"open":""}`,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),l.jsxs("div",{className:`nav-dropdown-menu ${i?"open":""}`,children:[l.jsx("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"dropdown-item",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"header_quick_links",file_title:"Task Skeleton"}),s(!1)},children:"Download Task Skeleton"}),l.jsx("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Snorkel Expert Platform"}),l.jsx("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Slack community"}),l.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"GitHub Repo"}),l.jsx(sr,{to:"/portal/docs/reference/glossary",className:"dropdown-item",onClick:()=>s(!1),children:"Glossary"}),l.jsx(sr,{to:"/portal/docs/reference/faq",className:"dropdown-item",onClick:()=>s(!1),children:"FAQ"})]})]}),l.jsx("div",{className:"nav-divider"}),l.jsx(va,{to:"/portal/docs/reference/faq",active:f("/docs/reference/faq"),children:"Help"})]}),l.jsxs("button",{className:`mobile-menu-toggle ${a?"open":""}`,onClick:()=>o(!a),"aria-label":"Toggle menu",children:[l.jsx("span",{className:"hamburger-line"}),l.jsx("span",{className:"hamburger-line"}),l.jsx("span",{className:"hamburger-line"})]}),l.jsx(yW,{})]})]}),FP.createPortal(l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`mobile-nav-overlay ${a?"open":""}`,onClick:()=>o(!1)}),l.jsxs("nav",{className:`mobile-nav ${a?"open":""}`,ref:d,children:[l.jsxs("div",{className:"mobile-nav-header",children:[l.jsx("span",{className:"mobile-nav-title",children:"Menu"}),l.jsx("button",{className:"mobile-nav-close",onClick:()=>o(!1),"aria-label":"Close menu",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),l.jsxs("div",{className:"mobile-nav-links",children:[l.jsx(sr,{to:"/portal",className:`mobile-nav-link ${f("/")?"active":""}`,children:"Home"}),l.jsx(sr,{to:"/portal/overview",className:`mobile-nav-link ${f("/overview")?"active":""}`,children:"Our mission"}),l.jsx(sr,{to:"/portal/tasks",className:`mobile-nav-link ${f("/tasks")?"active":""}`,onClick:p,children:"Task gallery"}),l.jsx(sr,{to:"/portal/my-tasks",className:`mobile-nav-link ${f("/my-tasks")?"active":""}`,children:"My tasks"}),l.jsx(sr,{to:"/portal/docs",className:`mobile-nav-link ${f("/docs")?"active":""}`,children:"Docs"}),l.jsx(sr,{to:"/portal/docs/reference/faq",className:`mobile-nav-link ${f("/docs/reference/faq")?"active":""}`,children:"Help & FAQ"})]}),l.jsxs("div",{className:"mobile-nav-section",children:[l.jsx("span",{className:"mobile-nav-section-title",children:"Quick Links"}),l.jsxs("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"mobile-nav-link",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"mobile_quick_links",file_title:"Task Skeleton"})},children:["Download Task Skeleton",l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})]}),l.jsxs("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Snorkel Expert Platform",l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),l.jsxs("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Slack community",l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),l.jsxs("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["GitHub Repo",l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),l.jsx(sr,{to:"/portal/docs/reference/glossary",className:"mobile-nav-link",children:"Glossary"})]})]})]}),document.body)]})}function _W(e=15){const[t,r]=E.useState([]),[n,i]=E.useState(!0),[s,a]=E.useState(null),o=E.useRef(!1),c=E.useCallback(async(d=!0)=>{if(o.current)return null;o.current=!0;try{d&&i(!0);const{data:f,error:p}=await qe.rpc("get_random_available_tasks_v2",{task_count:e});if(p)throw p;return r(f||[]),a(null),f}catch(f){return console.error("Error fetching random tasks:",f),a(f.message),null}finally{o.current=!1,i(!1)}},[e]);return{tasks:t,loading:n,error:s,refetch:c}}const dR=3,xW=280,wW=16,EW=46,kW=xW+wW;function fC(){return typeof window>"u"||typeof window.matchMedia!="function"?dR:window.matchMedia("(min-width: 1024px)").matches?3:window.matchMedia("(min-width: 768px)").matches?2:1}function TW(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}function Xc(e,t,r=new Set){return TW(e).filter(i=>i&&!r.has(i.id)).slice(0,t)}function ey(e,t){const r=new Set(t!=null&&t.id?[t.id]:[]),[n,i]=Xc(e,2,r);return t?[n||t,t,i||t]:[]}function SW({pool:e,currentTask:t,winnerTask:r,minLength:n}){const i=[],s=new Set;t!=null&&t.id&&s.add(t.id),r!=null&&r.id&&s.add(r.id);const[a]=Xc(e,1,s);for(i.push(a||t),i.push(t);i.length<Math.max(n-2,3);){const[d]=Xc(e,1,new Set([...s,...i.map(f=>f==null?void 0:f.id).filter(Boolean)]));i.push(d||t)}i.push(r);const[o]=Xc(e,1,new Set([...s,...i.map(d=>d==null?void 0:d.id).filter(Boolean)]));i.push(o||r);const c=i.length-2;return{items:i,startIndex:1,winnerIndex:c}}function Of(e){return EW-e*kW}function CW(e){var r;if(!e)return null;const t=((r=e.subtypes)==null?void 0:r.join(", "))||e.type||"Task";return l.jsxs("div",{className:"reel-stub",children:[l.jsx("div",{className:"reel-stub-title",title:t,children:t}),l.jsx("div",{className:"reel-stub-desc",title:e.description,children:e.description})]})}const AW=({onTaskUpdate:e})=>{const t=ft(),r=nn(),{tasks:n,loading:i,refetch:s}=_W(15),[a,o]=E.useState(null),[c,d]=E.useState(fC),[f,p]=E.useState([]),[v,g]=E.useState(()=>Array.from({length:dR},()=>({items:[],index:1,locked:!0,justLocked:!1}))),[_,x]=E.useState(!1),b=E.useRef([]),w=E.useRef([]),A=E.useRef([]),S=E.useRef(0);E.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const D=window.matchMedia("(min-width: 1024px)"),M=window.matchMedia("(min-width: 768px)"),F=()=>d(fC());F();const Y=W=>W.addEventListener?W.addEventListener("change",F):W.addListener(F),G=W=>W.removeEventListener?W.removeEventListener("change",F):W.removeListener(F);return Y(D),Y(M),window.addEventListener("resize",F),()=>{G(D),G(M),window.removeEventListener("resize",F)}},[]),E.useEffect(()=>{s()},[]),E.useEffect(()=>{if(n.length===0)return;const D=v.slice(0,c).every(Y=>{var G;return(((G=Y.items)==null?void 0:G.length)||0)>0}),M=f.length===c;if(D&&M)return;const F=M?f:Xc(n,c);M||p(F),g(Y=>Y.map((G,W)=>{if(W>=c)return G;const Q=F[W];return{...G,items:ey(n,Q),index:1,locked:!0,justLocked:!1}}))},[n,v,f,c]),E.useEffect(()=>{r&&f.length>0&&!_&&r.capture("task_roulette_viewed",{available_tasks_count:n.length,visible_task_ids:f.map(D=>D.id)})},[r,_,f.length]);const O=()=>{var D;for(const M of A.current)clearTimeout(M);A.current=[];for(const M of w.current)(D=M==null?void 0:M.cancel)==null||D.call(M);w.current=[]};E.useEffect(()=>{_&&(O(),x(!1),g(D=>D.map((M,F)=>F<c?{...M,locked:!0,justLocked:!1}:M)))},[c]);const j=async()=>{if(_||n.length<c)return;O(),S.current+=1;const D=S.current,M=typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;x(!0),g(Q=>Q.map(te=>({...te,locked:!1,justLocked:!1})));const F=v.slice(0,c).map((Q,te)=>{var ne;return((ne=Q.items)==null?void 0:ne[Q.index])||f[te]}).filter(Boolean);r&&r.capture("task_roulette_spin_clicked",{previous_task_ids:F.map(Q=>Q==null?void 0:Q.id).filter(Boolean),available_tasks_count:n.length});const Y=await s(!1);if(S.current!==D||!Y||Y.length===0){x(!1);return}const G=Y.slice(0,c);if(M){g(Q=>Q.map((te,ne)=>ne>=c?te:{...te,items:ey(Y,G[ne]),index:1,locked:!0,justLocked:!1})),p(G),A.current.push(setTimeout(()=>{g(Q=>Q.map((te,ne)=>ne<c?{...te,justLocked:!0}:te))},0)),A.current.push(setTimeout(()=>{g(Q=>Q.map((te,ne)=>ne<c?{...te,justLocked:!1}:te)),x(!1)},450));return}const W=G.map((Q,te)=>{const ne=F[te]||Q;return SW({pool:Y,currentTask:ne,winnerTask:Q,minLength:18+te*6})});g(Q=>Q.map((te,ne)=>ne>=c?te:{...te,items:W[ne].items,index:W[ne].startIndex,locked:!1,justLocked:!1})),A.current.push(setTimeout(()=>{if(S.current!==D)return;let Q=0;const te=ne=>{g(oe=>oe.map((L,V)=>V===ne?{...L,justLocked:!0}:L)),A.current.push(setTimeout(()=>{g(oe=>oe.map((L,V)=>V===ne?{...L,justLocked:!1}:L))},650))};W.forEach((ne,oe)=>{const L=b.current[oe];if(!L)return;const V=Of(ne.startIndex),ie=Of(ne.winnerIndex),$=V+(ie-V)*.35,Ee=V+(ie-V)*.88;L.style.transform=`translate3d(0, ${V}px, 0)`,L.style.opacity="1";const ke=1150+oe*420+Math.floor(Math.random()*120),pe=L.animate([{offset:0,transform:`translate3d(0, ${V}px, 0)`,opacity:1,easing:"cubic-bezier(0.2, 0, 0.2, 1)"},{offset:.16,transform:`translate3d(0, ${$}px, 0)`,opacity:.96,easing:"linear"},{offset:.86,transform:`translate3d(0, ${Ee}px, 0)`,opacity:.96,easing:"cubic-bezier(0, 0, 0.15, 1)"},{offset:1,transform:`translate3d(0, ${ie}px, 0)`,opacity:1}],{duration:ke,fill:"forwards"});w.current[oe]=pe,pe.finished.then(()=>{if(S.current!==D)return;try{pe.cancel()}catch{}w.current[oe]=null,L.style.opacity="1",L.style.transform=`translate3d(0, ${Of(1)}px, 0)`;const Me=G[oe];g(De=>De.map((se,Ce)=>Ce!==oe?se:{...se,items:ey(Y,Me),index:1,locked:!0})),te(oe),Q+=1,Q===c&&(p(G),x(!1))}).catch(()=>{})})},0))};E.useEffect(()=>()=>O(),[]);const N=()=>{r&&r.capture("task_roulette_browse_all_clicked",{visible_task_ids:f.map(D=>D.id)}),t("/portal/tasks")},P=D=>{_||(r&&r.capture("task_roulette_task_opened",{task_id:D.id,task_type:D.type,task_subtypes:D.subtypes}),o(D))},R=()=>{o(null),s()},H=()=>{s(),e==null||e()};return i&&f.length===0?l.jsx(Aa,{message:"Finding tasks for you..."}):f.length===0?null:l.jsxs("section",{className:"recommended-tasks-section",children:[l.jsx("div",{className:"recommended-header",children:l.jsx("h2",{className:"recommended-title",children:"Your Task Roulette"})}),l.jsx("div",{className:"slot-machine-container",children:l.jsxs("div",{className:`slot-machine-viewport ${_?"spinning":""}`,children:[l.jsx("div",{className:"slot-machine-fade-top"}),l.jsx("div",{className:"slot-machine-fade-bottom"}),l.jsx("div",{className:`slot-glow ${_?"active":""}`}),l.jsx("div",{className:"recommended-grid",children:v.slice(0,c).map((D,M)=>{var Y;(Y=D.items)==null||Y[D.index];const F=["recommended-reel",_&&!D.locked?"spinning":"",D.locked?"locked":"",D.justLocked?"just-locked":""].filter(Boolean).join(" ");return l.jsx("div",{className:F,children:l.jsxs("div",{className:"reel-viewport","aria-hidden":_?"true":void 0,children:[l.jsx("div",{className:"reel-payline"}),l.jsx("div",{className:"reel-strip",ref:G=>{b.current[M]=G},style:{transform:`translate3d(0, ${Of(D.index)}px, 0)`},children:D.items.map((G,W)=>{const Q=`${M}-${(G==null?void 0:G.id)||"empty"}-${W}`,te=W===D.index,ne=!_&&te&&!!G,oe=!!G&&te&&D.locked;return l.jsx("div",{className:`reel-item ${te?"center":"peek"}`,children:G?oe?l.jsx(So,{task:G,onClick:ne?()=>P(G):void 0,className:"recommended-card"}):CW(G):l.jsx("div",{className:"recommended-card-placeholder"})},Q)})})]})},`reel-${M}`)})})]})}),l.jsxs("div",{className:"recommended-actions",children:[l.jsx($e,{variant:"ghost",onClick:j,className:"reshuffle-btn",disabled:_,children:"None of these? Spin again"}),l.jsx($e,{variant:"primary",size:"lg",onClick:N,children:"Browse all tasks "})]}),l.jsx(iR,{task:a,isOpen:!!a,onClose:R,onTaskUpdate:H})]})},ty=10,NW=()=>{const e=ft(),t=nn(),{selectedTasks:r,loading:n,refetch:i}=cu(),[s,a]=E.useState(null),[o,c]=E.useState(""),[d,f]=E.useState({key:"lastUpdated",direction:"desc"}),[p,v]=E.useState(1),g=r.filter(R=>R.status===We.CLAIMED||R.status===We.IN_PROGRESS||R.status===We.WAITING_REVIEW),_=R=>{t&&t.capture("browse_tasks_clicked",{source:R,active_task_count:g.length}),e("/portal/tasks")},x=R=>{a(R)},b=()=>{a(null),i()},w=R=>{f(H=>({key:R,direction:H.key===R&&H.direction==="asc"?"desc":"asc"})),v(1)},A=R=>{const H=[R.started_at,R.selected_at,R.submitted_for_review_at,R.completed_at].filter(Boolean).map(D=>new Date(D).getTime());return H.length>0?Math.max(...H):0},S=E.useMemo(()=>{let R=[...g];if(o){const H=o.toLowerCase();R=R.filter(D=>{var M,F,Y;return((M=D.description)==null?void 0:M.toLowerCase().includes(H))||((F=D.category)==null?void 0:F.toLowerCase().includes(H))||((Y=D.subcategory)==null?void 0:Y.toLowerCase().includes(H))})}return R.sort((H,D)=>{let M,F;return d.key==="lastUpdated"?(M=A(H),F=A(D)):d.key==="category"?(M=`${H.category} ${H.subcategory||""}`,F=`${D.category} ${D.subcategory||""}`):(M=H[d.key],F=D[d.key]),M<F?d.direction==="asc"?-1:1:M>F?d.direction==="asc"?1:-1:0}),R},[g,o,d]),O=Math.ceil(S.length/ty),j=S.slice((p-1)*ty,p*ty);if(n)return null;const N=R=>{switch(R){case We.IN_PROGRESS:return"info";case We.CLAIMED:return"secondary";case We.WAITING_REVIEW:return"success";case We.ACCEPTED:return"success";default:return"default"}},P=({columnKey:R})=>d.key!==R?l.jsx("span",{className:"sort-icon-placeholder"}):d.direction==="asc"?l.jsx(Vz,{}):l.jsx(zz,{});return l.jsxs("section",{className:"task-preview-section my-tasks-section",children:[g.length>0&&l.jsxs("div",{className:"my-tasks-header-row",children:[l.jsxs("div",{className:"header-title-group",children:[l.jsx("h2",{children:"My Active Tasks"}),l.jsx($e,{variant:"ghost",size:"sm",onClick:()=>e("/portal/my-tasks"),className:"view-all-tasks-btn",children:"Show all tasks"})]}),l.jsx("div",{className:"header-actions",children:l.jsxs("div",{className:"search-input-container",children:[l.jsx(Kz,{className:"search-icon"}),l.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:R=>{c(R.target.value),v(1)},className:"task-search-input"})]})})]}),l.jsx("div",{className:"my-tasks-content",children:g.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-tasks-table-container",children:l.jsxs("table",{className:"my-tasks-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{className:"col-category sortable",onClick:()=>w("category"),children:["Category ",l.jsx(P,{columnKey:"category"})]}),l.jsxs("th",{className:"col-description sortable",onClick:()=>w("description"),children:["Description ",l.jsx(P,{columnKey:"description"})]}),l.jsxs("th",{className:"col-status sortable",onClick:()=>w("status"),children:["Status ",l.jsx(P,{columnKey:"status"})]}),l.jsxs("th",{className:"col-updated sortable",onClick:()=>w("lastUpdated"),children:["Updated ",l.jsx(P,{columnKey:"lastUpdated"})]})]})}),l.jsx("tbody",{children:j.length>0?j.map(R=>l.jsxs("tr",{onClick:()=>x(R),style:{cursor:"pointer"},children:[l.jsx("td",{children:l.jsx("span",{className:"task-category",title:`${R.category}${R.subcategory?" / "+R.subcategory:""}`,children:R.subcategory||R.category})}),l.jsx("td",{children:l.jsx("span",{className:"task-description",title:R.description,children:R.description})}),l.jsx("td",{children:l.jsx(Ni,{variant:N(R.status),children:rR[R.status]})}),l.jsx("td",{className:"task-date",children:new Date(A(R)).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},R.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"no-results-cell",children:"No tasks match your search"})})})]})}),O>1&&l.jsxs("div",{className:"pagination-controls",children:[l.jsxs($e,{variant:"ghost",size:"sm",onClick:()=>v(R=>Math.max(1,R-1)),disabled:p===1,children:[l.jsx(Wz,{})," Prev"]}),l.jsxs("span",{className:"pagination-info",children:["Page ",p," of ",O]}),l.jsxs($e,{variant:"ghost",size:"sm",onClick:()=>v(R=>Math.min(O,R+1)),disabled:p===O,children:["Next ",l.jsx(qz,{})]})]}),l.jsx("div",{className:"my-tasks-footer",children:l.jsx($e,{variant:"primary",size:"lg",onClick:()=>_("landing_page_footer"),children:"Browse more tasks "})})]}):l.jsx(AW,{onTaskUpdate:i})}),l.jsx(lR,{task:s,isOpen:!!s,onClose:b,onTaskUpdate:()=>i()})]})};function pC(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function hR(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const jW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PW={};function mC(e,t){return(PW.jsx?OW:jW).test(e)}const IW=/[ \t\n\f\r]/g;function RW(e){return typeof e=="object"?e.type==="text"?gC(e.value):!1:gC(e)}function gC(e){return e.replace(IW,"")===""}class Md{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Md.prototype.normal={};Md.prototype.property={};Md.prototype.space=void 0;function fR(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Md(r,n,t)}function md(e){return e.toLowerCase()}class En{constructor(t,r){this.attribute=r,this.property=t}}En.prototype.attribute="";En.prototype.booleanish=!1;En.prototype.boolean=!1;En.prototype.commaOrSpaceSeparated=!1;En.prototype.commaSeparated=!1;En.prototype.defined=!1;En.prototype.mustUseProperty=!1;En.prototype.number=!1;En.prototype.overloadedBoolean=!1;En.prototype.property="";En.prototype.spaceSeparated=!1;En.prototype.space=void 0;let DW=0;const rt=Ro(),Qt=Ro(),z1=Ro(),_e=Ro(),St=Ro(),Ll=Ro(),Nn=Ro();function Ro(){return 2**++DW}const W1=Object.freeze(Object.defineProperty({__proto__:null,boolean:rt,booleanish:Qt,commaOrSpaceSeparated:Nn,commaSeparated:Ll,number:_e,overloadedBoolean:z1,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),ry=Object.keys(W1);class Ox extends En{constructor(t,r,n,i){let s=-1;if(super(t,r),vC(this,"space",i),typeof n=="number")for(;++s<ry.length;){const a=ry[s];vC(this,ry[s],(n&W1[a])===W1[a])}}}Ox.prototype.defined=!0;function vC(e,t,r){r&&(e[t]=r)}function du(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new Ox(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[md(n)]=n,r[md(s.attribute)]=n}return new Md(t,r,e.space)}const pR=du({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:St,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:_e,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:St,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:Qt,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mR(e,t){return t in e?e[t]:t}function gR(e,t){return mR(e,t.toLowerCase())}const LW=du({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ll,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:rt,allowPaymentRequest:rt,allowUserMedia:rt,alt:null,as:null,async:rt,autoCapitalize:null,autoComplete:St,autoFocus:rt,autoPlay:rt,blocking:St,capture:null,charSet:null,checked:rt,cite:null,className:St,cols:_e,colSpan:null,content:null,contentEditable:Qt,controls:rt,controlsList:St,coords:_e|Ll,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rt,defer:rt,dir:null,dirName:null,disabled:rt,download:z1,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rt,formTarget:null,headers:St,height:_e,hidden:z1,high:_e,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:rt,inputMode:null,integrity:null,is:null,isMap:rt,itemId:null,itemProp:St,itemRef:St,itemScope:rt,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:rt,muted:rt,name:null,nonce:null,noModule:rt,noValidate:rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rt,optimum:_e,pattern:null,ping:St,placeholder:null,playsInline:rt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rt,referrerPolicy:null,rel:St,required:rt,reversed:rt,rows:_e,rowSpan:_e,sandbox:St,scope:null,scoped:rt,seamless:rt,selected:rt,shadowRootClonable:rt,shadowRootDelegatesFocus:rt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:rt,useMap:null,value:Qt,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rt,declare:rt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:rt,noHref:rt,noShade:rt,noWrap:rt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rt,disableRemotePlayback:rt,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:gR}),MW=du({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Nn,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:rt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ll,g2:Ll,glyphName:Ll,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:Nn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Nn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Nn,rev:Nn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Nn,requiredFeatures:Nn,requiredFonts:Nn,requiredFormats:Nn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:Nn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Nn,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Nn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mR}),vR=du({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yR=du({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gR}),bR=du({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),BW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},FW=/[A-Z]/g,yC=/-[a-z]/g,$W=/^data[-\w.:]+$/i;function Um(e,t){const r=md(t);let n=t,i=En;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&$W.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(yC,HW);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!yC.test(s)){let a=s.replace(FW,UW);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Ox}return new i(n,t)}function UW(e){return"-"+e.toLowerCase()}function HW(e){return e.charAt(1).toUpperCase()}const Bd=fR([pR,LW,vR,yR,bR],"html"),Ia=fR([pR,MW,vR,yR,bR],"svg");function bC(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function _R(e){return e.join(" ").trim()}var _l={},ny,_C;function zW(){if(_C)return ny;_C=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,d="/",f="*",p="",v="comment",g="declaration";function _(b,w){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];w=w||{};var A=1,S=1;function O(G){var W=G.match(t);W&&(A+=W.length);var Q=G.lastIndexOf(c);S=~Q?G.length-Q:S+G.length}function j(){var G={line:A,column:S};return function(W){return W.position=new N(G),H(),W}}function N(G){this.start=G,this.end={line:A,column:S},this.source=w.source}N.prototype.content=b;function P(G){var W=new Error(w.source+":"+A+":"+S+": "+G);if(W.reason=G,W.filename=w.source,W.line=A,W.column=S,W.source=b,!w.silent)throw W}function R(G){var W=G.exec(b);if(W){var Q=W[0];return O(Q),b=b.slice(Q.length),W}}function H(){R(r)}function D(G){var W;for(G=G||[];W=M();)W!==!1&&G.push(W);return G}function M(){var G=j();if(!(d!=b.charAt(0)||f!=b.charAt(1))){for(var W=2;p!=b.charAt(W)&&(f!=b.charAt(W)||d!=b.charAt(W+1));)++W;if(W+=2,p===b.charAt(W-1))return P("End of comment missing");var Q=b.slice(2,W-2);return S+=2,O(Q),b=b.slice(W),S+=2,G({type:v,comment:Q})}}function F(){var G=j(),W=R(n);if(W){if(M(),!R(i))return P("property missing ':'");var Q=R(s),te=G({type:g,property:x(W[0].replace(e,p)),value:Q?x(Q[0].replace(e,p)):p});return R(a),te}}function Y(){var G=[];D(G);for(var W;W=F();)W!==!1&&(G.push(W),D(G));return G}return H(),Y()}function x(b){return b?b.replace(o,p):p}return ny=_,ny}var xC;function WW(){if(xC)return _l;xC=1;var e=_l&&_l.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.default=r;const t=e(zW());function r(n,i){let s=null;if(!n||typeof n!="string")return s;const a=(0,t.default)(n),o=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:f}=c;o?i(d,f,c):f&&(s=s||{},s[d]=f)}),s}return _l}var _c={},wC;function qW(){if(wC)return _c;wC=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||r.test(d)||e.test(d)},a=function(d,f){return f.toUpperCase()},o=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,o):d=d.replace(n,o),d.replace(t,a))};return _c.camelCase=c,_c}var xc,EC;function VW(){if(EC)return xc;EC=1;var e=xc&&xc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(WW()),r=qW();function n(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,c){o&&c&&(a[(0,r.camelCase)(o,s)]=c)}),a}return n.default=n,xc=n,xc}var GW=VW();const YW=ui(GW),Hm=xR("end"),ns=xR("start");function xR(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function KW(e){const t=ns(e),r=Hm(e);if(t&&r)return{start:t,end:r}}function Qc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kC(e.position):"start"in e||"end"in e?kC(e):"line"in e||"column"in e?q1(e):""}function q1(e){return TC(e&&e.line)+":"+TC(e&&e.column)}function kC(e){return q1(e&&e.start)+"-"+q1(e&&e.end)}function TC(e){return e&&typeof e=="number"?e:1}class Vr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?s.ruleId=n:(s.source=n.slice(0,c),s.ruleId=n.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Qc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vr.prototype.file="";Vr.prototype.name="";Vr.prototype.reason="";Vr.prototype.message="";Vr.prototype.stack="";Vr.prototype.column=void 0;Vr.prototype.line=void 0;Vr.prototype.ancestors=void 0;Vr.prototype.cause=void 0;Vr.prototype.fatal=void 0;Vr.prototype.place=void 0;Vr.prototype.ruleId=void 0;Vr.prototype.source=void 0;const Px={}.hasOwnProperty,XW=new Map,QW=/[A-Z]/g,JW=new Set(["table","tbody","thead","tfoot","tr"]),ZW=new Set(["td","th"]),wR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=lq(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=oq(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ia:Bd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=ER(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function ER(e,t,r){if(t.type==="element")return tq(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return rq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return iq(e,t,r);if(t.type==="mdxjsEsm")return nq(e,t);if(t.type==="root")return sq(e,t,r);if(t.type==="text")return aq(e,t)}function tq(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Ia,e.schema=i),e.ancestors.push(t);const s=TR(e,t.tagName,!1),a=uq(e,t);let o=Rx(e,t);return JW.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!RW(c):!0})),kR(e,a,s,t),Ix(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function rq(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}gd(e,t.position)}function nq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gd(e,t.position)}function iq(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Ia,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:TR(e,t.name,!0),a=cq(e,t),o=Rx(e,t);return kR(e,a,s,t),Ix(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function sq(e,t,r){const n={};return Ix(n,Rx(e,t)),e.create(t,e.Fragment,n,r)}function aq(e,t){return t.value}function kR(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Ix(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function oq(e,t,r){return n;function n(i,s,a,o){const d=Array.isArray(a.children)?r:t;return o?d(s,a,o):d(s,a)}}function lq(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),c=ns(n);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function uq(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&Px.call(t.properties,i)){const s=dq(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&ZW.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function cq(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else gd(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else gd(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function Rx(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:XW;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=i.get(c)||0;a=c+"-"+d,i.set(c,d+1)}}const o=ER(e,s,a);o!==void 0&&r.push(o)}return r}function dq(e,t,r){const n=Um(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?hR(r):_R(r)),n.property==="style"){let i=typeof r=="object"?r:hq(e,String(r));return e.stylePropertyNameCase==="css"&&(i=fq(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?BW[n.property]||n.property:n.attribute,r]}}function hq(e,t){try{return YW(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Vr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=wR+"#cannot-parse-style-attribute",i}}function TR(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=mC(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=mC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return Px.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);gd(e)}function gd(e,t){const r=new Vr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=wR+"#cannot-handle-mdx-estrees-without-createevaluater",r}function fq(e){const t={};let r;for(r in e)Px.call(e,r)&&(t[pq(r)]=e[r]);return t}function pq(e){let t=e.replace(QW,mq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function mq(e){return"-"+e.toLowerCase()}const iy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},gq={};function Dx(e,t){const r=gq,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return SR(e,n,i)}function SR(e,t,r){if(vq(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return SC(e.children,t,r)}return Array.isArray(e)?SC(e,t,r):""}function SC(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=SR(e[i],t,r);return n.join("")}function vq(e){return!!(e&&typeof e=="object")}const CC=document.createElement("i");function Lx(e){const t="&"+e+";";CC.innerHTML=t;const r=CC.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Bn(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Zn(e,t){return e.length>0?(Bn(e,e.length,0,t),e):t}const AC={}.hasOwnProperty;function CR(e){const t={};let r=-1;for(;++r<e.length;)yq(t,e[r]);return t}function yq(e,t){let r;for(r in t){const i=(AC.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){AC.call(i,a)||(i[a]=[]);const o=s[a];bq(i[a],Array.isArray(o)?o:o?[o]:[])}}}function bq(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Bn(e,0,0,n)}function AR(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ji(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const en=Ra(/[A-Za-z]/),zr=Ra(/[\dA-Za-z]/),_q=Ra(/[#-'*+\--9=?A-Z^-~]/);function Bp(e){return e!==null&&(e<32||e===127)}const V1=Ra(/\d/),xq=Ra(/[\dA-Fa-f]/),wq=Ra(/[!-/:-@[-`{-~]/);function Xe(e){return e!==null&&e<-2}function Et(e){return e!==null&&(e<0||e===32)}function at(e){return e===-2||e===-1||e===32}const zm=Ra(new RegExp("\\p{P}|\\p{S}","u")),Co=Ra(/\s/);function Ra(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function hu(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&zr(e.charCodeAt(r+1))&&zr(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function lt(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return at(c)?(e.enter(r),o(c)):t(c)}function o(c){return at(c)&&s++<i?(e.consume(c),o):(e.exit(r),t(c))}}const Eq={tokenize:kq};function kq(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),lt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Xe(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const Tq={tokenize:Sq},NC={tokenize:Cq};function Sq(e){const t=this,r=[];let n=0,i,s,a;return o;function o(S){if(n<r.length){const O=r[n];return t.containerState=O[1],e.attempt(O[0].continuation,c,d)(S)}return d(S)}function c(S){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&A();const O=t.events.length;let j=O,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}w(n);let P=O;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return Bn(t.events,j+1,0,t.events.slice(O)),t.events.length=P,d(S)}return o(S)}function d(S){if(n===r.length){if(!i)return v(S);if(i.currentConstruct&&i.currentConstruct.concrete)return _(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(NC,f,p)(S)}function f(S){return i&&A(),w(n),v(S)}function p(S){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,_(S)}function v(S){return t.containerState={},e.attempt(NC,g,_)(S)}function g(S){return n++,r.push([t.currentConstruct,t.containerState]),v(S)}function _(S){if(S===null){i&&A(),w(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(S)}function x(S){if(S===null){b(e.exit("chunkFlow"),!0),w(0),e.consume(S);return}return Xe(S)?(e.consume(S),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(S),x)}function b(S,O){const j=t.sliceStream(S);if(O&&j.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(j),t.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<a&&(!i.events[N][1].end||i.events[N][1].end.offset>a))return;const P=t.events.length;let R=P,H,D;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(H){D=t.events[R][1].end;break}H=!0}for(w(n),N=P;N<t.events.length;)t.events[N][1].end={...D},N++;Bn(t.events,R+1,0,t.events.slice(P)),t.events.length=N}}function w(S){let O=r.length;for(;O-- >S;){const j=r[O];t.containerState=j[1],j[0].exit.call(t,e)}r.length=S}function A(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Cq(e,t,r){return lt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zl(e){if(e===null||Et(e)||Co(e))return 1;if(zm(e))return 2}function Wm(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const G1={name:"attention",resolveAll:Aq,tokenize:Nq};function Aq(e,t){let r=-1,n,i,s,a,o,c,d,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const p={...e[n][1].end},v={...e[r][1].start};jC(p,-c),jC(v,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},s={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},d=[],e[n][1].end.offset-e[n][1].start.offset&&(d=Zn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])),d=Zn(d,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),d=Zn(d,Wm(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),d=Zn(d,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,d=Zn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,Bn(e,n-1,r-n+3,d),r=n+d.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function Nq(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=zl(n);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const d=e.exit("attentionSequence"),f=zl(c),p=!f||f===2&&i||r.includes(c),v=!i||i===2&&f||r.includes(n);return d._open=!!(s===42?p:p&&(i||!v)),d._close=!!(s===42?v:v&&(f||!p)),t(c)}}function jC(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jq={name:"autolink",tokenize:Oq};function Oq(e,t,r){let n=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return en(g)?(e.consume(g),a):g===64?r(g):d(g)}function a(g){return g===43||g===45||g===46||zr(g)?(n=1,o(g)):d(g)}function o(g){return g===58?(e.consume(g),n=0,c):(g===43||g===45||g===46||zr(g))&&n++<32?(e.consume(g),o):(n=0,d(g))}function c(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||Bp(g)?r(g):(e.consume(g),c)}function d(g){return g===64?(e.consume(g),f):_q(g)?(e.consume(g),d):r(g)}function f(g){return zr(g)?p(g):r(g)}function p(g){return g===46?(e.consume(g),n=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):v(g)}function v(g){if((g===45||zr(g))&&n++<63){const _=g===45?v:p;return e.consume(g),_}return r(g)}}const Fd={partial:!0,tokenize:Pq};function Pq(e,t,r){return n;function n(s){return at(s)?lt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Xe(s)?t(s):r(s)}}const NR={continuation:{tokenize:Rq},exit:Dq,name:"blockQuote",tokenize:Iq};function Iq(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return at(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Rq(e,t,r){const n=this;return i;function i(a){return at(a)?lt(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(NR,t,r)(a)}}function Dq(e){e.exit("blockQuote")}const jR={name:"characterEscape",tokenize:Lq};function Lq(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return wq(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const OR={name:"characterReference",tokenize:Mq};function Mq(e,t,r){const n=this;let i=0,s,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,a=zr,f(p))}function d(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=xq,f):(e.enter("characterReferenceValue"),s=7,a=V1,f(p))}function f(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return a===zr&&!Lx(n.sliceSerialize(v))?r(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<s?(e.consume(p),f):r(p)}}const OC={partial:!0,tokenize:Fq},PC={concrete:!0,name:"codeFenced",tokenize:Bq};function Bq(e,t,r){const n=this,i={partial:!0,tokenize:j};let s=0,a=0,o;return c;function c(N){return d(N)}function d(N){const P=n.events[n.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(N)}function f(N){return N===o?(a++,e.consume(N),f):a<3?r(N):(e.exit("codeFencedFenceSequence"),at(N)?lt(e,p,"whitespace")(N):p(N))}function p(N){return N===null||Xe(N)?(e.exit("codeFencedFence"),n.interrupt?t(N):e.check(OC,x,O)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Xe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(N)):at(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),lt(e,g,"whitespace")(N)):N===96&&N===o?r(N):(e.consume(N),v)}function g(N){return N===null||Xe(N)?p(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(N))}function _(N){return N===null||Xe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(N)):N===96&&N===o?r(N):(e.consume(N),_)}function x(N){return e.attempt(i,O,b)(N)}function b(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),w}function w(N){return s>0&&at(N)?lt(e,A,"linePrefix",s+1)(N):A(N)}function A(N){return N===null||Xe(N)?e.check(OC,x,O)(N):(e.enter("codeFlowValue"),S(N))}function S(N){return N===null||Xe(N)?(e.exit("codeFlowValue"),A(N)):(e.consume(N),S)}function O(N){return e.exit("codeFenced"),t(N)}function j(N,P,R){let H=0;return D;function D(W){return N.enter("lineEnding"),N.consume(W),N.exit("lineEnding"),M}function M(W){return N.enter("codeFencedFence"),at(W)?lt(N,F,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):F(W)}function F(W){return W===o?(N.enter("codeFencedFenceSequence"),Y(W)):R(W)}function Y(W){return W===o?(H++,N.consume(W),Y):H>=a?(N.exit("codeFencedFenceSequence"),at(W)?lt(N,G,"whitespace")(W):G(W)):R(W)}function G(W){return W===null||Xe(W)?(N.exit("codeFencedFence"),P(W)):R(W)}}}function Fq(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const sy={name:"codeIndented",tokenize:Uq},$q={partial:!0,tokenize:Hq};function Uq(e,t,r){const n=this;return i;function i(d){return e.enter("codeIndented"),lt(e,s,"linePrefix",5)(d)}function s(d){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(d):r(d)}function a(d){return d===null?c(d):Xe(d)?e.attempt($q,a,c)(d):(e.enter("codeFlowValue"),o(d))}function o(d){return d===null||Xe(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),o)}function c(d){return e.exit("codeIndented"),t(d)}}function Hq(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Xe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):lt(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Xe(a)?i(a):r(a)}}const zq={name:"codeText",previous:qq,resolve:Wq,tokenize:Vq};function Wq(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function qq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vq(e,t,r){let n=0,i,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),n++,o):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?r(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):Xe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Xe(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),d)}function f(p){return p===96?(e.consume(p),i++,f):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",d(p))}}class Gq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&wc(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);wc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wc(this.left,r.reverse())}}}function wc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function PR(e){const t={};let r=-1,n,i,s,a,o,c,d;const f=new Gq(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Yq(f,r)),r=t[r],d=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},o=f.slice(i,r),o.unshift(n),f.splice(i,r-i+1,o))}}return Bn(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Yq(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],d={};let f,p,v=-1,g=r,_=0,x=0;const b=[x];for(;g;){for(;e.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=n.sliceStream(g),g.next||f.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=r;++v<o.length;)o[v][0]==="exit"&&o[v-1][0]==="enter"&&o[v][1].type===o[v-1][1].type&&o[v][1].start.line!==o[v][1].end.line&&(x=v+1,b.push(x),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),v=b.length;v--;){const w=o.slice(b[v],b[v+1]),A=s.pop();c.push([A,A+w.length-1]),e.splice(A,2,w)}for(c.reverse(),v=-1;++v<c.length;)d[_+c[v][0]]=_+c[v][1],_+=c[v][1]-c[v][0]-1;return d}const Kq={resolve:Qq,tokenize:Jq},Xq={partial:!0,tokenize:Zq};function Qq(e){return PR(e),e}function Jq(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Xe(o)?e.check(Xq,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Zq(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),lt(e,s,"linePrefix")}function s(a){if(a===null||Xe(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function IR(e,t,r,n,i,s,a,o,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(w){return w===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(w),e.exit(s),v):w===null||w===32||w===41||Bp(w)?r(w):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(w))}function v(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(e.exit("chunkString"),e.exit(o),v(w)):w===null||w===60||Xe(w)?r(w):(e.consume(w),w===92?_:g)}function _(w){return w===60||w===62||w===92?(e.consume(w),g):g(w)}function x(w){return!f&&(w===null||w===41||Et(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(w)):f<d&&w===40?(e.consume(w),f++,x):w===41?(e.consume(w),f--,x):w===null||w===32||w===40||Bp(w)?r(w):(e.consume(w),w===92?b:x)}function b(w){return w===40||w===41||w===92?(e.consume(w),x):x(w)}}function RR(e,t,r,n,i,s){const a=this;let o=0,c;return d;function d(g){return e.enter(n),e.enter(i),e.consume(g),e.exit(i),e.enter(s),f}function f(g){return o>999||g===null||g===91||g===93&&!c||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(g):g===93?(e.exit(s),e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):Xe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||Xe(g)||o++>999?(e.exit("chunkString"),f(g)):(e.consume(g),c||(c=!at(g)),g===92?v:p)}function v(g){return g===91||g===92||g===93?(e.consume(g),o++,p):p(g)}}function DR(e,t,r,n,i,s){let a;return o;function o(v){return v===34||v===39||v===40?(e.enter(n),e.enter(i),e.consume(v),e.exit(i),a=v===40?41:v,c):r(v)}function c(v){return v===a?(e.enter(i),e.consume(v),e.exit(i),e.exit(n),t):(e.enter(s),d(v))}function d(v){return v===a?(e.exit(s),c(a)):v===null?r(v):Xe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),lt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===a||v===null||Xe(v)?(e.exit("chunkString"),d(v)):(e.consume(v),v===92?p:f)}function p(v){return v===a||v===92?(e.consume(v),f):f(v)}}function Jc(e,t){let r;return n;function n(i){return Xe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):at(i)?lt(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const eV={name:"definition",tokenize:rV},tV={partial:!0,tokenize:nV};function rV(e,t,r){const n=this;let i;return s;function s(g){return e.enter("definition"),a(g)}function a(g){return RR.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=ji(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),c):r(g)}function c(g){return Et(g)?Jc(e,d)(g):d(g)}function d(g){return IR(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(tV,p,p)(g)}function p(g){return at(g)?lt(e,v,"whitespace")(g):v(g)}function v(g){return g===null||Xe(g)?(e.exit("definition"),n.parser.defined.push(i),t(g)):r(g)}}function nV(e,t,r){return n;function n(o){return Et(o)?Jc(e,i)(o):r(o)}function i(o){return DR(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return at(o)?lt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Xe(o)?t(o):r(o)}}const iV={name:"hardBreakEscape",tokenize:sV};function sV(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Xe(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const aV={name:"headingAtx",resolve:oV,tokenize:lV};function oV(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Bn(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function lV(e,t,r){let n=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&n++<6?(e.consume(f),a):f===null||Et(f)?(e.exit("atxHeadingSequence"),o(f)):r(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||Xe(f)?(e.exit("atxHeading"),t(f)):at(f)?lt(e,o,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),o(f))}function d(f){return f===null||f===35||Et(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),d)}}const uV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],IC=["pre","script","style","textarea"],cV={concrete:!0,name:"htmlFlow",resolveTo:fV,tokenize:pV},dV={partial:!0,tokenize:gV},hV={partial:!0,tokenize:mV};function fV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function pV(e,t,r){const n=this;let i,s,a,o,c;return d;function d($){return f($)}function f($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),p}function p($){return $===33?(e.consume($),v):$===47?(e.consume($),s=!0,x):$===63?(e.consume($),i=3,n.interrupt?t:L):en($)?(e.consume($),a=String.fromCharCode($),b):r($)}function v($){return $===45?(e.consume($),i=2,g):$===91?(e.consume($),i=5,o=0,_):en($)?(e.consume($),i=4,n.interrupt?t:L):r($)}function g($){return $===45?(e.consume($),n.interrupt?t:L):r($)}function _($){const Ee="CDATA[";return $===Ee.charCodeAt(o++)?(e.consume($),o===Ee.length?n.interrupt?t:F:_):r($)}function x($){return en($)?(e.consume($),a=String.fromCharCode($),b):r($)}function b($){if($===null||$===47||$===62||Et($)){const Ee=$===47,ke=a.toLowerCase();return!Ee&&!s&&IC.includes(ke)?(i=1,n.interrupt?t($):F($)):uV.includes(a.toLowerCase())?(i=6,Ee?(e.consume($),w):n.interrupt?t($):F($)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r($):s?A($):S($))}return $===45||zr($)?(e.consume($),a+=String.fromCharCode($),b):r($)}function w($){return $===62?(e.consume($),n.interrupt?t:F):r($)}function A($){return at($)?(e.consume($),A):D($)}function S($){return $===47?(e.consume($),D):$===58||$===95||en($)?(e.consume($),O):at($)?(e.consume($),S):D($)}function O($){return $===45||$===46||$===58||$===95||zr($)?(e.consume($),O):j($)}function j($){return $===61?(e.consume($),N):at($)?(e.consume($),j):S($)}function N($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),c=$,P):at($)?(e.consume($),N):R($)}function P($){return $===c?(e.consume($),c=null,H):$===null||Xe($)?r($):(e.consume($),P)}function R($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Et($)?j($):(e.consume($),R)}function H($){return $===47||$===62||at($)?S($):r($)}function D($){return $===62?(e.consume($),M):r($)}function M($){return $===null||Xe($)?F($):at($)?(e.consume($),M):r($)}function F($){return $===45&&i===2?(e.consume($),Q):$===60&&i===1?(e.consume($),te):$===62&&i===4?(e.consume($),V):$===63&&i===3?(e.consume($),L):$===93&&i===5?(e.consume($),oe):Xe($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(dV,ie,Y)($)):$===null||Xe($)?(e.exit("htmlFlowData"),Y($)):(e.consume($),F)}function Y($){return e.check(hV,G,ie)($)}function G($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),W}function W($){return $===null||Xe($)?Y($):(e.enter("htmlFlowData"),F($))}function Q($){return $===45?(e.consume($),L):F($)}function te($){return $===47?(e.consume($),a="",ne):F($)}function ne($){if($===62){const Ee=a.toLowerCase();return IC.includes(Ee)?(e.consume($),V):F($)}return en($)&&a.length<8?(e.consume($),a+=String.fromCharCode($),ne):F($)}function oe($){return $===93?(e.consume($),L):F($)}function L($){return $===62?(e.consume($),V):$===45&&i===2?(e.consume($),L):F($)}function V($){return $===null||Xe($)?(e.exit("htmlFlowData"),ie($)):(e.consume($),V)}function ie($){return e.exit("htmlFlow"),t($)}}function mV(e,t,r){const n=this;return i;function i(a){return Xe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function gV(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fd,t,r)}}const vV={name:"htmlText",tokenize:yV};function yV(e,t,r){const n=this;let i,s,a;return o;function o(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),c}function c(L){return L===33?(e.consume(L),d):L===47?(e.consume(L),j):L===63?(e.consume(L),S):en(L)?(e.consume(L),R):r(L)}function d(L){return L===45?(e.consume(L),f):L===91?(e.consume(L),s=0,_):en(L)?(e.consume(L),A):r(L)}function f(L){return L===45?(e.consume(L),g):r(L)}function p(L){return L===null?r(L):L===45?(e.consume(L),v):Xe(L)?(a=p,te(L)):(e.consume(L),p)}function v(L){return L===45?(e.consume(L),g):p(L)}function g(L){return L===62?Q(L):L===45?v(L):p(L)}function _(L){const V="CDATA[";return L===V.charCodeAt(s++)?(e.consume(L),s===V.length?x:_):r(L)}function x(L){return L===null?r(L):L===93?(e.consume(L),b):Xe(L)?(a=x,te(L)):(e.consume(L),x)}function b(L){return L===93?(e.consume(L),w):x(L)}function w(L){return L===62?Q(L):L===93?(e.consume(L),w):x(L)}function A(L){return L===null||L===62?Q(L):Xe(L)?(a=A,te(L)):(e.consume(L),A)}function S(L){return L===null?r(L):L===63?(e.consume(L),O):Xe(L)?(a=S,te(L)):(e.consume(L),S)}function O(L){return L===62?Q(L):S(L)}function j(L){return en(L)?(e.consume(L),N):r(L)}function N(L){return L===45||zr(L)?(e.consume(L),N):P(L)}function P(L){return Xe(L)?(a=P,te(L)):at(L)?(e.consume(L),P):Q(L)}function R(L){return L===45||zr(L)?(e.consume(L),R):L===47||L===62||Et(L)?H(L):r(L)}function H(L){return L===47?(e.consume(L),Q):L===58||L===95||en(L)?(e.consume(L),D):Xe(L)?(a=H,te(L)):at(L)?(e.consume(L),H):Q(L)}function D(L){return L===45||L===46||L===58||L===95||zr(L)?(e.consume(L),D):M(L)}function M(L){return L===61?(e.consume(L),F):Xe(L)?(a=M,te(L)):at(L)?(e.consume(L),M):H(L)}function F(L){return L===null||L===60||L===61||L===62||L===96?r(L):L===34||L===39?(e.consume(L),i=L,Y):Xe(L)?(a=F,te(L)):at(L)?(e.consume(L),F):(e.consume(L),G)}function Y(L){return L===i?(e.consume(L),i=void 0,W):L===null?r(L):Xe(L)?(a=Y,te(L)):(e.consume(L),Y)}function G(L){return L===null||L===34||L===39||L===60||L===61||L===96?r(L):L===47||L===62||Et(L)?H(L):(e.consume(L),G)}function W(L){return L===47||L===62||Et(L)?H(L):r(L)}function Q(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):r(L)}function te(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),ne}function ne(L){return at(L)?lt(e,oe,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):oe(L)}function oe(L){return e.enter("htmlTextData"),a(L)}}const Mx={name:"labelEnd",resolveAll:wV,resolveTo:EV,tokenize:kV},bV={tokenize:TV},_V={tokenize:SV},xV={tokenize:CV};function wV(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Bn(e,0,e.length,r),e}function EV(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",d,t]],o=Zn(o,e.slice(s+1,s+n+3)),o=Zn(o,[["enter",f,t]]),o=Zn(o,Wm(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Zn(o,[["exit",f,t],e[a-2],e[a-1],["exit",d,t]]),o=Zn(o,e.slice(a+1)),o=Zn(o,[["exit",c,t]]),Bn(e,s,e.length,o),e}function kV(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(v){return s?s._inactive?p(v):(a=n.parser.defined.includes(ji(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):r(v)}function c(v){return v===40?e.attempt(bV,f,a?f:p)(v):v===91?e.attempt(_V,f,a?d:p)(v):a?f(v):p(v)}function d(v){return e.attempt(xV,f,p)(v)}function f(v){return t(v)}function p(v){return s._balanced=!0,r(v)}}function TV(e,t,r){return n;function n(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Et(p)?Jc(e,s)(p):s(p)}function s(p){return p===41?f(p):IR(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Et(p)?Jc(e,c)(p):f(p)}function o(p){return r(p)}function c(p){return p===34||p===39||p===40?DR(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return Et(p)?Jc(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):r(p)}}function SV(e,t,r){const n=this;return i;function i(o){return RR.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(ji(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function CV(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const AV={name:"labelStartImage",resolveAll:Mx.resolveAll,tokenize:NV};function NV(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const jV={name:"labelStartLink",resolveAll:Mx.resolveAll,tokenize:OV};function OV(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const ay={name:"lineEnding",tokenize:PV};function PV(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),lt(e,t,"linePrefix")}}const ap={name:"thematicBreak",tokenize:IV};function IV(e,t,r){let n=0,i;return s;function s(d){return e.enter("thematicBreak"),a(d)}function a(d){return i=d,o(d)}function o(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):n>=3&&(d===null||Xe(d))?(e.exit("thematicBreak"),t(d)):r(d)}function c(d){return d===i?(e.consume(d),n++,c):(e.exit("thematicBreakSequence"),at(d)?lt(e,o,"whitespace")(d):o(d))}}const fn={continuation:{tokenize:MV},exit:FV,name:"list",tokenize:LV},RV={partial:!0,tokenize:$V},DV={partial:!0,tokenize:BV};function LV(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const _=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:V1(g)){if(n.containerState.type||(n.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(ap,r,d)(g):d(g);if(!n.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(g)}return r(g)}function c(g){return V1(g)&&++a<10?(e.consume(g),c):(!n.interrupt||a<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),d(g)):r(g)}function d(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,e.check(Fd,n.interrupt?r:f,e.attempt(RV,v,p))}function f(g){return n.containerState.initialBlankLine=!0,s++,v(g)}function p(g){return at(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),v):r(g)}function v(g){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function MV(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Fd,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,lt(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!at(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(DV,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,lt(e,e.attempt(fn,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function BV(e,t,r){const n=this;return lt(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function FV(e){e.exit(this.containerState.type)}function $V(e,t,r){const n=this;return lt(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!at(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const RC={name:"setextUnderline",resolveTo:UV,tokenize:HV};function UV(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function HV(e,t,r){const n=this;let i;return s;function s(d){let f=n.events.length,p;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){p=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(e.enter("setextHeadingLine"),i=d,a(d)):r(d)}function a(d){return e.enter("setextHeadingLineSequence"),o(d)}function o(d){return d===i?(e.consume(d),o):(e.exit("setextHeadingLineSequence"),at(d)?lt(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||Xe(d)?(e.exit("setextHeadingLine"),t(d)):r(d)}}const zV={tokenize:WV};function WV(e){const t=this,r=e.attempt(Fd,n,e.attempt(this.parser.constructs.flowInitial,i,lt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Kq,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const qV={resolveAll:MR()},VV=LR("string"),GV=LR("text");function LR(e){return{resolveAll:MR(e==="text"?YV:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(f){return d(f)?s(f):o(f)}function o(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),c}function c(f){return d(f)?(r.exit("data"),s(f)):(r.consume(f),c)}function d(f){if(f===null)return!0;const p=i[f];let v=-1;if(p)for(;++v<p.length;){const g=p[v];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function MR(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function YV(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(d===-2)c=!0,o++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const d={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(e.splice(r,0,["enter",d,t],["exit",d,t]),r+=2)}r++}return e}const KV={42:fn,43:fn,45:fn,48:fn,49:fn,50:fn,51:fn,52:fn,53:fn,54:fn,55:fn,56:fn,57:fn,62:NR},XV={91:eV},QV={[-2]:sy,[-1]:sy,32:sy},JV={35:aV,42:ap,45:[RC,ap],60:cV,61:RC,95:ap,96:PC,126:PC},ZV={38:OR,92:jR},eG={[-5]:ay,[-4]:ay,[-3]:ay,33:AV,38:OR,42:G1,60:[jq,vV],91:jV,92:[iV,jR],93:Mx,95:G1,96:zq},tG={null:[G1,qV]},rG={null:[42,95]},nG={null:[]},iG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rG,contentInitial:XV,disable:nG,document:KV,flow:JV,flowInitial:QV,insideSpan:tG,string:ZV,text:eG},Symbol.toStringTag,{value:"Module"}));function sG(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:P(j),check:P(N),consume:A,enter:S,exit:O,interrupt:P(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:_,parser:e,previous:null,sliceSerialize:v,sliceStream:g,write:p};let f=t.tokenize.call(d,c);return t.resolveAll&&s.push(t),d;function p(M){return a=Zn(a,M),b(),a[a.length-1]!==null?[]:(R(t,0),d.events=Wm(s,d.events,d),d.events)}function v(M,F){return oG(g(M),F)}function g(M){return aG(a,M)}function _(){const{_bufferIndex:M,_index:F,line:Y,column:G,offset:W}=n;return{_bufferIndex:M,_index:F,line:Y,column:G,offset:W}}function x(M){i[M.line]=M.column,D()}function b(){let M;for(;n._index<a.length;){const F=a[n._index];if(typeof F=="string")for(M=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===M&&n._bufferIndex<F.length;)w(F.charCodeAt(n._bufferIndex));else w(F)}}function w(M){f=f(M)}function A(M){Xe(M)?(n.line++,n.column=1,n.offset+=M===-3?2:1,D()):M!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=M}function S(M,F){const Y=F||{};return Y.type=M,Y.start=_(),d.events.push(["enter",Y,d]),o.push(Y),Y}function O(M){const F=o.pop();return F.end=_(),d.events.push(["exit",F,d]),F}function j(M,F){R(M,F.from)}function N(M,F){F.restore()}function P(M,F){return Y;function Y(G,W,Q){let te,ne,oe,L;return Array.isArray(G)?ie(G):"tokenize"in G?ie([G]):V(G);function V(pe){return Me;function Me(De){const se=De!==null&&pe[De],Ce=De!==null&&pe.null,Ge=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return ie(Ge)(De)}}function ie(pe){return te=pe,ne=0,pe.length===0?Q:$(pe[ne])}function $(pe){return Me;function Me(De){return L=H(),oe=pe,pe.partial||(d.currentConstruct=pe),pe.name&&d.parser.constructs.disable.null.includes(pe.name)?ke():pe.tokenize.call(F?Object.assign(Object.create(d),F):d,c,Ee,ke)(De)}}function Ee(pe){return M(oe,L),W}function ke(pe){return L.restore(),++ne<te.length?$(te[ne]):Q}}}function R(M,F){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&Bn(d.events,F,d.events.length-F,M.resolve(d.events.slice(F),d)),M.resolveTo&&(d.events=M.resolveTo(d.events,d))}function H(){const M=_(),F=d.previous,Y=d.currentConstruct,G=d.events.length,W=Array.from(o);return{from:G,restore:Q};function Q(){n=M,d.previous=F,d.currentConstruct=Y,d.events.length=G,o=W,D()}}function D(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function aG(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function oG(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function lG(e){const n={constructs:CR([iG,...(e||{}).extensions||[]]),content:i(Eq),defined:[],document:i(Tq),flow:i(zV),lazy:{},string:i(VV),text:i(GV)};return n;function i(s){return a;function a(o){return sG(n,s,o)}}}function uG(e){for(;!PR(e););return e}const DC=/[\0\t\n\r]/g;function cG(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const c=[];let d,f,p,v,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",r&&(s.charCodeAt(0)===65279&&p++,r=void 0);p<s.length;){if(DC.lastIndex=p,d=DC.exec(s),v=d&&d.index!==void 0?d.index:s.length,g=s.charCodeAt(v),!d){t=s.slice(p);break}if(g===10&&p===v&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),p<v&&(c.push(s.slice(p,v)),e+=v-p),g){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}p=v+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const dG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hG(e){return e.replace(dG,fG)}function fG(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return AR(r.slice(s?2:1),s?16:10)}return Lx(r)||e}const BR={}.hasOwnProperty;function pG(e,t,r){return typeof t!="string"&&(r=t,t=void 0),mG(r)(uG(lG(r).document().write(cG()(e,t,!0))))}function mG(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ws),autolinkProtocol:H,autolinkEmail:H,atxHeading:s(tt),blockQuote:s(Ce),characterEscape:H,characterReference:H,codeFenced:s(Ge),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ge,a),codeText:s(he,a),codeTextData:H,data:H,codeFlowValue:H,definition:s(pt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Te),hardBreakEscape:s(ut),hardBreakTrailing:s(ut),htmlFlow:s(Bt,a),htmlFlowData:H,htmlText:s(Bt,a),htmlTextData:H,image:s(ss),label:a,link:s(Ws),listItem:s(Bi),listItemValue:v,listOrdered:s(Mi,p),listUnordered:s(Mi),paragraph:s(Fa),reference:$,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(tt),strong:s(Fo),thematicBreak:s(Uo)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:se,autolinkProtocol:De,blockQuote:c(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:pe,characterReference:Me,codeFenced:c(b),codeFencedFence:x,codeFencedFenceInfo:g,codeFencedFenceMeta:_,codeFlowValue:D,codeIndented:c(w),codeText:c(W),codeTextData:D,data:D,definition:c(),definitionDestinationString:O,definitionLabelString:A,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(F),hardBreakTrailing:c(F),htmlFlow:c(Y),htmlFlowData:D,htmlText:c(G),htmlTextData:D,image:c(te),label:oe,labelText:ne,lineEnding:M,link:c(Q),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ee,resourceDestinationString:L,resourceTitleString:V,resource:ie,setextHeading:c(R),setextHeadingLineSequence:P,setextHeadingText:N,strong:c(),thematicBreak:c()}};FR(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(de){let we={type:"root",children:[]};const J={stack:[we],tokenStack:[],config:t,enter:o,exit:d,buffer:a,resume:f,data:r},be=[];let ze=-1;for(;++ze<de.length;)if(de[ze][1].type==="listOrdered"||de[ze][1].type==="listUnordered")if(de[ze][0]==="enter")be.push(ze);else{const Ft=be.pop();ze=i(de,Ft,ze)}for(ze=-1;++ze<de.length;){const Ft=t[de[ze][0]];BR.call(Ft,de[ze][1].type)&&Ft[de[ze][1].type].call(Object.assign({sliceSerialize:de[ze][2].sliceSerialize},J),de[ze][1])}if(J.tokenStack.length>0){const Ft=J.tokenStack[J.tokenStack.length-1];(Ft[1]||LC).call(J,void 0,Ft[0])}for(we.position={start:fa(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:fa(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)we=t.transforms[ze](we)||we;return we}function i(de,we,J){let be=we-1,ze=-1,Ft=!1,Pr,Ir,pr,zn;for(;++be<=J;){const tr=de[be];switch(tr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tr[0]==="enter"?ze++:ze--,zn=void 0;break}case"lineEndingBlank":{tr[0]==="enter"&&(Pr&&!zn&&!ze&&!pr&&(pr=be),zn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:zn=void 0}if(!ze&&tr[0]==="enter"&&tr[1].type==="listItemPrefix"||ze===-1&&tr[0]==="exit"&&(tr[1].type==="listUnordered"||tr[1].type==="listOrdered")){if(Pr){let Fi=be;for(Ir=void 0;Fi--;){const kn=de[Fi];if(kn[1].type==="lineEnding"||kn[1].type==="lineEndingBlank"){if(kn[0]==="exit")continue;Ir&&(de[Ir][1].type="lineEndingBlank",Ft=!0),kn[1].type="lineEnding",Ir=Fi}else if(!(kn[1].type==="linePrefix"||kn[1].type==="blockQuotePrefix"||kn[1].type==="blockQuotePrefixWhitespace"||kn[1].type==="blockQuoteMarker"||kn[1].type==="listItemIndent"))break}pr&&(!Ir||pr<Ir)&&(Pr._spread=!0),Pr.end=Object.assign({},Ir?de[Ir][1].start:tr[1].end),de.splice(Ir||be,0,["exit",Pr,tr[2]]),be++,J++}if(tr[1].type==="listItemPrefix"){const Fi={type:"listItem",_spread:!1,start:Object.assign({},tr[1].start),end:void 0};Pr=Fi,de.splice(be,0,["enter",Fi,tr[2]]),be++,J++,pr=void 0,zn=!0}}}return de[we][1]._spread=Ft,J}function s(de,we){return J;function J(be){o.call(this,de(be),be),we&&we.call(this,be)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(de,we,J){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([we,J||void 0]),de.position={start:fa(we.start),end:void 0}}function c(de){return we;function we(J){de&&de.call(this,J),d.call(this,J)}}function d(de,we){const J=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==de.type&&(we?we.call(this,de,be[0]):(be[1]||LC).call(this,de,be[0]));else throw new Error("Cannot close `"+de.type+"` ("+Qc({start:de.start,end:de.end})+"): its not open");J.position.end=fa(de.end)}function f(){return Dx(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(de){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function g(){const de=this.resume(),we=this.stack[this.stack.length-1];we.lang=de}function _(){const de=this.resume(),we=this.stack[this.stack.length-1];we.meta=de}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const de=this.resume(),we=this.stack[this.stack.length-1];we.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const de=this.resume(),we=this.stack[this.stack.length-1];we.value=de.replace(/(\r?\n|\r)$/g,"")}function A(de){const we=this.resume(),J=this.stack[this.stack.length-1];J.label=we,J.identifier=ji(this.sliceSerialize(de)).toLowerCase()}function S(){const de=this.resume(),we=this.stack[this.stack.length-1];we.title=de}function O(){const de=this.resume(),we=this.stack[this.stack.length-1];we.url=de}function j(de){const we=this.stack[this.stack.length-1];if(!we.depth){const J=this.sliceSerialize(de).length;we.depth=J}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(de){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function H(de){const J=this.stack[this.stack.length-1].children;let be=J[J.length-1];(!be||be.type!=="text")&&(be=$o(),be.position={start:fa(de.start),end:void 0},J.push(be)),this.stack.push(be)}function D(de){const we=this.stack.pop();we.value+=this.sliceSerialize(de),we.position.end=fa(de.end)}function M(de){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const J=we.children[we.children.length-1];J.position.end=fa(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(we.type)&&(H.call(this,de),D.call(this,de))}function F(){this.data.atHardBreak=!0}function Y(){const de=this.resume(),we=this.stack[this.stack.length-1];we.value=de}function G(){const de=this.resume(),we=this.stack[this.stack.length-1];we.value=de}function W(){const de=this.resume(),we=this.stack[this.stack.length-1];we.value=de}function Q(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=we,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function te(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=we,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function ne(de){const we=this.sliceSerialize(de),J=this.stack[this.stack.length-2];J.label=hG(we),J.identifier=ji(we).toLowerCase()}function oe(){const de=this.stack[this.stack.length-1],we=this.resume(),J=this.stack[this.stack.length-1];if(this.data.inReference=!0,J.type==="link"){const be=de.children;J.children=be}else J.alt=we}function L(){const de=this.resume(),we=this.stack[this.stack.length-1];we.url=de}function V(){const de=this.resume(),we=this.stack[this.stack.length-1];we.title=de}function ie(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function Ee(de){const we=this.resume(),J=this.stack[this.stack.length-1];J.label=we,J.identifier=ji(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function ke(de){this.data.characterReferenceType=de.type}function pe(de){const we=this.sliceSerialize(de),J=this.data.characterReferenceType;let be;J?(be=AR(we,J==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Lx(we);const ze=this.stack[this.stack.length-1];ze.value+=be}function Me(de){const we=this.stack.pop();we.position.end=fa(de.end)}function De(de){D.call(this,de);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(de)}function se(de){D.call(this,de);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(de)}function Ce(){return{type:"blockquote",children:[]}}function Ge(){return{type:"code",lang:null,meta:null,value:""}}function he(){return{type:"inlineCode",value:""}}function pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function ut(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function ss(){return{type:"image",title:null,url:"",alt:null}}function Ws(){return{type:"link",title:null,url:"",children:[]}}function Mi(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function Bi(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function Fa(){return{type:"paragraph",children:[]}}function Fo(){return{type:"strong",children:[]}}function $o(){return{type:"text",value:""}}function Uo(){return{type:"thematicBreak"}}}function fa(e){return{line:e.line,column:e.column,offset:e.offset}}function FR(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?FR(e,n):gG(e,n)}}function gG(e,t){let r;for(r in t)if(BR.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function LC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Qc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Qc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Qc({start:t.start,end:t.end})+") is still open")}function vG(e){const t=this;t.parser=r;function r(n){return pG(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function yG(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function bG(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function _G(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function xG(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function wG(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function EG(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=hu(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function kG(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function TG(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function $R(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function SG(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return $R(e,t);const i={src:hu(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function CG(e,t){const r={src:hu(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function AG(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function NG(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return $R(e,t);const i={href:hu(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function jG(e,t){const r={href:hu(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OG(e,t,r){const n=e.all(t),i=r?PG(r):UR(t),s={},a=[];if(typeof t.checked=="boolean"){const f=n[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const f=n[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const c=n[n.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,d),e.applyData(t,d)}function PG(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=UR(r[n])}return t}function UR(e){const t=e.spread;return t??e.children.length>1}function IG(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function RG(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DG(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function LG(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MG(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=ns(t.children[1]),c=Hm(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function BG(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let c=-1;const d=[];for(;++c<o;){const p=t.children[c],v={},g=a?a[c]:void 0;g&&(v.align=g);let _={type:"element",tagName:s,properties:v,children:[]};p&&(_.children=e.all(p),e.patch(p,_),_=e.applyData(p,_)),d.push(_)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,f),e.applyData(t,f)}function FG(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const MC=9,BC=32;function $G(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(FC(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(FC(t.slice(i),i>0,!1)),s.join("")}function FC(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===MC||s===BC;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===MC||s===BC;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function UG(e,t){const r={type:"text",value:$G(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function HG(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const zG={blockquote:yG,break:bG,code:_G,delete:xG,emphasis:wG,footnoteReference:EG,heading:kG,html:TG,imageReference:SG,image:CG,inlineCode:AG,linkReference:NG,link:jG,listItem:OG,list:IG,paragraph:RG,root:DG,strong:LG,table:MG,tableCell:FG,tableRow:BG,text:UG,thematicBreak:HG,toml:Pf,yaml:Pf,definition:Pf,footnoteDefinition:Pf};function Pf(){}const HR=-1,qm=0,Zc=1,Fp=2,Bx=3,Fx=4,$x=5,Ux=6,zR=7,WR=8,$C=typeof self=="object"?self:globalThis,WG=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case qm:case HR:return r(a,i);case Zc:{const o=r([],i);for(const c of a)o.push(n(c));return o}case Fp:{const o=r({},i);for(const[c,d]of a)o[n(c)]=n(d);return o}case Bx:return r(new Date(a),i);case Fx:{const{source:o,flags:c}=a;return r(new RegExp(o,c),i)}case $x:{const o=r(new Map,i);for(const[c,d]of a)o.set(n(c),n(d));return o}case Ux:{const o=r(new Set,i);for(const c of a)o.add(n(c));return o}case zR:{const{name:o,message:c}=a;return r(new $C[o](c),i)}case WR:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new $C[s](a),i)};return n},UC=e=>WG(new Map,e)(0),xl="",{toString:qG}={},{keys:VG}=Object,Ec=e=>{const t=typeof e;if(t!=="object"||!e)return[qm,t];const r=qG.call(e).slice(8,-1);switch(r){case"Array":return[Zc,xl];case"Object":return[Fp,xl];case"Date":return[Bx,xl];case"RegExp":return[Fx,xl];case"Map":return[$x,xl];case"Set":return[Ux,xl];case"DataView":return[Zc,r]}return r.includes("Array")?[Zc,r]:r.includes("Error")?[zR,r]:[Fp,r]},If=([e,t])=>e===qm&&(t==="function"||t==="symbol"),GG=(e,t,r,n)=>{const i=(a,o)=>{const c=n.push(a)-1;return r.set(o,c),c},s=a=>{if(r.has(a))return r.get(a);let[o,c]=Ec(a);switch(o){case qm:{let f=a;switch(c){case"bigint":o=WR,f=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([HR],a)}return i([o,f],a)}case Zc:{if(c){let v=a;return c==="DataView"?v=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(a)),i([c,[...v]],a)}const f=[],p=i([o,f],a);for(const v of a)f.push(s(v));return p}case Fp:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const f=[],p=i([o,f],a);for(const v of VG(a))(e||!If(Ec(a[v])))&&f.push([s(v),s(a[v])]);return p}case Bx:return i([o,a.toISOString()],a);case Fx:{const{source:f,flags:p}=a;return i([o,{source:f,flags:p}],a)}case $x:{const f=[],p=i([o,f],a);for(const[v,g]of a)(e||!(If(Ec(v))||If(Ec(g))))&&f.push([s(v),s(g)]);return p}case Ux:{const f=[],p=i([o,f],a);for(const v of a)(e||!If(Ec(v)))&&f.push(s(v));return p}}const{message:d}=a;return i([o,{name:c,message:d}],a)};return s},HC=(e,{json:t,lossy:r}={})=>{const n=[];return GG(!(t||r),!!t,new Map,n)(e),n},Wl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?UC(HC(e,t)):structuredClone(e):(e,t)=>UC(HC(e,t));function YG(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function KG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function XG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||YG,n=e.options.footnoteBackLabel||KG,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const f=e.all(d),p=String(d.identifier).toUpperCase(),v=hu(p.toLowerCase());let g=0;const _=[],x=e.footnoteCounts.get(p);for(;x!==void 0&&++g<=x;){_.length>0&&_.push({type:"text",value:" "});let A=typeof r=="string"?r:r(c,g);typeof A=="string"&&(A={type:"text",value:A}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,g),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const A=b.children[b.children.length-1];A&&A.type==="text"?A.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(..._)}else f.push(..._);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(f,!0)};e.patch(d,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Wl(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Vm=(function(e){if(e==null)return eY;if(typeof e=="function")return Gm(e);if(typeof e=="object")return Array.isArray(e)?QG(e):JG(e);if(typeof e=="string")return ZG(e);throw new Error("Expected function, string, or object as test")});function QG(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Vm(e[r]);return Gm(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function JG(e){const t=e;return Gm(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function ZG(e){return Gm(t);function t(r){return r&&r.type===e}}function Gm(e){return t;function t(r,n,i){return!!(tY(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function eY(){return!0}function tY(e){return e!==null&&typeof e=="object"&&"type"in e}const qR=[],rY=!0,Y1=!1,nY="skip";function VR(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=Vm(i),a=n?-1:1;o(e,void 0,[])();function o(c,d,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return v;function v(){let g=qR,_,x,b;if((!t||s(c,d,f[f.length-1]||void 0))&&(g=iY(r(c,f)),g[0]===Y1))return g;if("children"in c&&c.children){const w=c;if(w.children&&g[0]!==nY)for(x=(n?w.children.length:-1)+a,b=f.concat(w);x>-1&&x<w.children.length;){const A=w.children[x];if(_=o(A,x,b)(),_[0]===Y1)return _;x=typeof _[1]=="number"?_[1]:x+a}}return g}}}function iY(e){return Array.isArray(e)?e:typeof e=="number"?[rY,e]:e==null?qR:[e]}function Ym(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),VR(e,s,o,i);function o(c,d){const f=d[d.length-1],p=f?f.children.indexOf(c):void 0;return a(c,p,f)}}const K1={}.hasOwnProperty,sY={};function aY(e,t){const r=t||sY,n=new Map,i=new Map,s=new Map,a={...zG,...r.handlers},o={all:d,applyData:lY,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:r,patch:oY,wrap:cY};return Ym(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?n:i,v=String(f.identifier).toUpperCase();p.has(v)||p.set(v,f)}}),o;function c(f,p){const v=f.type,g=o.handlers[v];if(K1.call(o.handlers,v)&&g)return g(o,f,p);if(o.options.passThrough&&o.options.passThrough.includes(v)){if("children"in f){const{children:x,...b}=f,w=Wl(b);return w.children=o.all(f),w}return Wl(f)}return(o.options.unknownHandler||uY)(o,f,p)}function d(f){const p=[];if("children"in f){const v=f.children;let g=-1;for(;++g<v.length;){const _=o.one(v[g],f);if(_){if(g&&v[g-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=zC(_.value)),!Array.isArray(_)&&_.type==="element")){const x=_.children[0];x&&x.type==="text"&&(x.value=zC(x.value))}Array.isArray(_)?p.push(..._):p.push(_)}}}return p}}function oY(e,t){e.position&&(t.position=KW(e))}function lY(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Wl(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function uY(e,t){const r=t.data||{},n="value"in t&&!(K1.call(r,"hProperties")||K1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cY(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function zC(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function WC(e,t){const r=aY(e,t),n=r.one(e,void 0),i=XG(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function dY(e,t){return e&&"run"in e?async function(r,n){const i=WC(r,{file:n,...t});await e.run(i,n)}:function(r,n){return WC(r,{file:n,...e||t})}}function qC(e){if(e)throw e}var oy,VC;function hY(){if(VC)return oy;VC=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},s=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var v;for(v in d);return typeof v>"u"||e.call(d,v)},a=function(d,f){r&&f.name==="__proto__"?r(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},o=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(n)return n(d,f).value}else return;return d[f]};return oy=function c(){var d,f,p,v,g,_,x=arguments[0],b=1,w=arguments.length,A=!1;for(typeof x=="boolean"&&(A=x,x=arguments[1]||{},b=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});b<w;++b)if(d=arguments[b],d!=null)for(f in d)p=o(x,f),v=o(d,f),x!==v&&(A&&v&&(s(v)||(g=i(v)))?(g?(g=!1,_=p&&i(p)?p:[]):_=p&&s(p)?p:{},a(x,{name:f,newValue:c(A,_,v)})):typeof v<"u"&&a(x,{name:f,newValue:v}));return x},oy}var fY=hY();const ly=ui(fY);function X1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pY(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...d){const f=e[++s];let p=-1;if(c){a(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?mY(f,o)(...d):a(null,...d)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function mY(e,t){let r;return n;function n(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(d){const f=d;if(o&&r)throw f;return i(f)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const qi={basename:gY,dirname:vY,extname:yY,join:bY,sep:"/"};function gY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$d(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function vY(e){if($d(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function yY(e){$d(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function bY(...e){let t=-1,r;for(;++t<e.length;)$d(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":_Y(r)}function _Y(e){$d(e);const t=e.codePointAt(0)===47;let r=xY(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function xY(e,t){let r="",n=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function $d(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wY={cwd:EY};function EY(){return"/"}function Q1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function kY(e){if(typeof e=="string")e=new URL(e);else if(!Q1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return TY(e)}function TY(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const uy=["history","path","basename","stem","extname","dirname"];class GR{constructor(t){let r;t?Q1(t)?r={path:t}:typeof t=="string"||SY(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":wY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<uy.length;){const s=uy[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)uy.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?qi.basename(this.path):void 0}set basename(t){dy(t,"basename"),cy(t,"basename"),this.path=qi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qi.dirname(this.path):void 0}set dirname(t){GC(this.basename,"dirname"),this.path=qi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qi.extname(this.path):void 0}set extname(t){if(cy(t,"extname"),GC(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Q1(t)&&(t=kY(t)),dy(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qi.basename(this.path,this.extname):void 0}set stem(t){dy(t,"stem"),cy(t,"stem"),this.path=qi.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Vr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function cy(e,t){if(e&&e.includes(qi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qi.sep+"`")}function dy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function GC(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function SY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CY=(function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),AY={}.hasOwnProperty;class Hx extends CY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pY()}copy(){const t=new Hx;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(ly(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(py("data",this.frozen),this.namespace[t]=r,this):AY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(py("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Rf(t),n=this.parser||this.Parser;return hy("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),hy("process",this.parser||this.Parser),fy("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=Rf(t),c=n.parse(o);n.run(c,o,function(f,p,v){if(f||!p||!v)return d(f);const g=p,_=n.stringify(g,v);OY(_)?v.value=_:v.result=_,d(f,v)});function d(f,p){f||!p?a(f):s?s(p):r(void 0,p)}}}processSync(t){let r=!1,n;return this.freeze(),hy("processSync",this.parser||this.Parser),fy("processSync",this.compiler||this.Compiler),this.process(t,i),KC("processSync","process",r),n;function i(s,a){r=!0,qC(s),n=a}}run(t,r,n){YC(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const c=Rf(r);i.run(t,c,d);function d(f,p,v){const g=p||t;f?o(f):a?a(g):n(void 0,g,v)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),KC("runSync","run",n),i;function s(a,o){qC(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=Rf(r),i=this.compiler||this.Compiler;return fy("stringify",i),YC(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(py("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;c(f,p)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(d.plugins),d.settings&&(i.settings=ly(!0,i.settings,d.settings))}function o(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let p=-1,v=-1;for(;++p<n.length;)if(n[p][0]===d){v=p;break}if(v===-1)n.push([d,...f]);else if(f.length>0){let[g,..._]=f;const x=n[v][1];X1(x)&&X1(g)&&(g=ly(!0,x,g)),n[v]=[d,g,..._]}}}}const NY=new Hx().freeze();function hy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function py(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function YC(e){if(!X1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function KC(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Rf(e){return jY(e)?e:new GR(e)}function jY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function OY(e){return typeof e=="string"||PY(e)}function PY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const IY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",XC=[],QC={allowDangerousHtml:!0},RY=/^(https?|ircs?|mailto|xmpp)$/i,DY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zx(e){const t=LY(e),r=MY(e);return BY(t.runSync(t.parse(r),r),e)}function LY(e){const t=e.rehypePlugins||XC,r=e.remarkPlugins||XC,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...QC}:QC;return NY().use(vG).use(r).use(dY,n).use(t)}function MY(e){const t=e.children||"",r=new GR;return typeof t=="string"&&(r.value=t),r}function BY(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||FY;for(const f of DY)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+IY+f.id,void 0);return Ym(e,d),eq(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function d(f,p,v){if(f.type==="raw"&&v&&typeof p=="number")return a?v.children.splice(p,1):v.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let g;for(g in iy)if(Object.hasOwn(iy,g)&&Object.hasOwn(f.properties,g)){const _=f.properties[g],x=iy[g];(x===null||x.includes(f.tagName))&&(f.properties[g]=c(String(_||""),g,f))}}if(f.type==="element"){let g=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&n&&typeof p=="number"&&(g=!n(f,p,v)),g&&v&&typeof p=="number")return o&&f.children?v.children.splice(p,1,...f.children):v.children.splice(p,1),p}}}function FY(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||RY.test(e.slice(0,t))?e:""}function Wx(){const[e,t]=E.useState([]),[r,n]=E.useState(!0);E.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:s,error:a}=await qe.from("v_active_promotions").select("*");if(a)throw a;t(s||[])}catch(s){console.error("Error fetching promotions:",s)}finally{n(!1)}};return{promotions:e,loading:r}}function $Y(){const{profile:e}=qr(),{promotions:t,loading:r}=Wx(),[n,i]=E.useState(null);if(!(e!=null&&e.can_see_incentives))return null;const s=t.filter(c=>c.is_active&&!c.disable_card);if(r||s.length===0)return null;const a=c=>new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),o=c=>`+${Math.round((c-1)*100)}%`;return l.jsxs("section",{className:"incentives-section",children:[l.jsx("div",{className:"incentives-header",children:l.jsx("h2",{children:"Active Incentives"})}),l.jsx("div",{className:"incentives-grid",children:s.map(c=>{const d=c.categories.includes("ALL"),f=c.categories.length===0,p=!!c.long_description;return l.jsxs("div",{className:"incentive-card",children:[l.jsxs("div",{className:"incentive-card-content",children:[l.jsxs("div",{className:"incentive-top-row",children:[c.reward_multiplier>1&&l.jsxs("span",{className:"incentive-badge",children:[o(c.reward_multiplier)," Boost"]}),c.ends_at&&l.jsxs("span",{className:"incentive-date",children:["Ends ",a(c.ends_at)]})]}),l.jsx("h3",{className:"incentive-title",children:c.title}),(c.message||p)&&l.jsxs("div",{className:"incentive-description-wrapper",children:[c.message&&l.jsx("p",{className:"incentive-description",children:c.message}),p&&l.jsx("button",{className:"incentive-read-more",onClick:()=>i(c),children:"Read more "})]}),!d&&!f&&l.jsx("div",{className:"incentive-footer",children:l.jsxs("div",{className:"incentive-categories-wrapper",children:[l.jsx("span",{className:"incentive-label",children:"Applies to:"}),l.jsxs("div",{className:"incentive-categories-list",children:[c.categories.slice(0,3).map(v=>l.jsx("span",{className:"category-pill",children:v},v)),c.categories.length>3&&l.jsxs("span",{className:"category-pill more",children:["+",c.categories.length-3]})]})]})})]}),l.jsx("div",{className:"incentive-bg-icon",children:c.variant==="warning"?"":c.variant==="success"?"":""})]},c.id)})}),n&&l.jsxs($m,{isOpen:!!n,onClose:()=>i(null),size:"lg",children:[l.jsx(wz,{onClose:()=>i(null),children:l.jsxs("div",{className:"incentive-modal-header",children:[n.reward_multiplier>1&&l.jsxs("span",{className:"incentive-badge",children:[o(n.reward_multiplier)," Boost"]}),l.jsx("h2",{children:n.title}),n.ends_at&&l.jsxs("p",{className:"incentive-modal-date",children:["Ends ",a(n.ends_at)]})]})}),l.jsx(Ez,{children:l.jsxs("div",{className:"incentive-modal-content",children:[n.long_description&&l.jsx("div",{className:"incentive-full-message markdown-content",children:l.jsx(zx,{children:n.long_description})}),n.categories.length>0&&!n.categories.includes("ALL")&&l.jsxs("div",{className:"incentive-modal-categories",children:[l.jsx("span",{className:"incentive-label",children:"Applies to:"}),l.jsx("div",{className:"incentive-categories-list",children:n.categories.map(c=>l.jsx("span",{className:"category-pill",children:c},c))})]}),n.categories.includes("ALL")&&l.jsx("div",{className:"incentive-modal-categories",children:l.jsx("span",{className:"category-pill global",children:"All categories"})})]})}),l.jsx(kz,{children:l.jsx($e,{variant:"secondary",onClick:()=>i(null),children:"Close"})})]})]})}function UY(){var i,s;const{user:e,profile:t}=qr(),r=nn();E.useEffect(()=>{r&&r.capture("landing_page_viewed",{has_profile:!!t,has_github_username:!!(t!=null&&t.github_username)})},[r]);const n=(t==null?void 0:t.first_name)||(t==null?void 0:t.github_username)||((s=(i=e==null?void 0:e.user_metadata)==null?void 0:i.full_name)==null?void 0:s.split(" ")[0])||"there";return l.jsxs("div",{className:"landing-page",children:[l.jsxs("main",{className:"main-content",children:[l.jsx("section",{className:"welcome-strip",children:l.jsxs("div",{className:"welcome-content",children:[l.jsxs("h1",{className:"welcome-title",children:["Hello, ",n," ",l.jsx("span",{className:"wave",children:""})]}),l.jsx("p",{className:"welcome-subtitle",children:"Welcome to the community advancing agentic development."})]})}),l.jsx(NW,{}),l.jsx($Y,{}),l.jsx(Xz,{})]}),l.jsx("footer",{className:"footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const HY=()=>l.jsxs("div",{className:"mission-page",children:[l.jsx("div",{className:"mission-background",children:l.jsx(cR,{})}),l.jsx("div",{className:"mission-content-container",children:l.jsxs("div",{className:"mission-content",children:[l.jsx("h1",{className:"mission-title",children:"Our Mission"}),l.jsx("h2",{className:"mission-subtitle",children:"Advancing the science of agentic AI through real engineering tasks"}),l.jsxs("div",{className:"mission-section",children:[l.jsx("p",{className:"mission-text",children:"Progress in agentic AI depends on more than next-token prediction."}),l.jsx("p",{className:"mission-text",children:"To evaluate and improve these systems, we need benchmarks that reflect the true complexity of real-world software engineering, including multistep reasoning, troubleshooting, environment manipulation, and recovery from failure."}),l.jsx("p",{className:"mission-text highlight",children:"TerminalBench was created to meet that need."}),l.jsx("p",{className:"mission-text",children:"TerminalBench, created by Stanford University and Laude Institute, provides a rigorous, end-to-end evaluation of how AI agents perform in realistic command-line environments. This platform is a Snorkel AI initiative to contribute to and expand the benchmark. Each task reveals specific model limitations, including gaps in reasoning, planning, execution, or robustness, that cannot be detected through synthetic datasets or code-completion benchmarks."})]}),l.jsxs("div",{className:"mission-section contributions",children:[l.jsx("p",{className:"mission-text",children:"By designing tasks that expose failure modes in frontier models, you help generate the empirical signal needed to:"}),l.jsxs("ul",{className:"mission-list",children:[l.jsx("li",{children:"Identify systematic weaknesses in agentic behavior"}),l.jsx("li",{children:"Guide model and policy improvements"}),l.jsx("li",{children:"Establish transparent, reproducible evaluation standards for the field"}),l.jsx("li",{children:"Accelerate research toward reliable, general-purpose coding agents"})]})]}),l.jsxs("div",{className:"mission-section closing",children:[l.jsx("p",{className:"mission-text strong",children:"This is not crowdsourced labeling, it is applied research, grounded in real engineering practice."}),l.jsx("p",{className:"mission-text",children:"TerminalBench advances only as far as its community of experts pushes it."}),l.jsx("p",{className:"mission-text",children:"Every accepted task becomes part of a shared scientific instrument used across academia and industry."}),l.jsx("p",{className:"mission-text welcome-message",children:"On behalf of the Snorkel team, welcome and thank you for helping build the foundation of next-generation agentic AI evaluation."})]})]})})]});function zY({section:e}){return e?l.jsxs("div",{className:"content",children:[l.jsx("h1",{className:"content-title",children:e.title}),l.jsx("div",{className:"content-body",children:e.content})]}):null}function WY({section:e}){const t=ft();return e?l.jsxs("div",{className:"guideline-section-page",children:[l.jsxs("header",{className:"guideline-section-header",children:[l.jsx("button",{className:"back-button",onClick:()=>t("/"),children:" Back to Home"}),l.jsx("div",{className:"section-logo",children:e.title})]}),l.jsx("main",{className:"guideline-section-main",children:l.jsx(zY,{section:e})}),l.jsx("footer",{className:"guideline-section-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]}):null}function qY(){const e=ft(),t=[{id:"92c2e195ac1c4b1e9b1177668dfcb81a",title:"1. Creating a Task"},{id:"22449b76123d41e6abff0efb39d0b960",title:"2. Running your task"},{id:"140f2cf8f16d404abf5cbd7dcc66b7cb",title:"3. Creating a solution/solve.sh"},{id:"a00541ff2787464c84bf4601415ee624",title:"4. Creating tests for your task"}];return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"Task Walkthrough Videos"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Task Walkthrough Videos"}),l.jsx("p",{className:"videos-subtitle",children:"Watch these step-by-step videos to learn how to create and submit tasks"}),l.jsx("div",{className:"videos-grid",children:t.map((r,n)=>l.jsxs("div",{className:"video-card",children:[l.jsx("h3",{className:"video-card-title",children:r.title}),l.jsx("div",{className:"video-wrapper",children:l.jsx("iframe",{src:`https://www.loom.com/embed/${r.id}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:r.title})})]},r.id))})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const VY="/Terminus-EC-Training-stateful/";function GY(){const e=ft();return l.jsxs("div",{className:"workbook-page",children:[l.jsxs("header",{className:"workbook-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"workbook-logo",children:"CI Feedback Video and Notebook"})]}),l.jsxs("main",{className:"workbook-content",children:[l.jsx("h1",{className:"workbook-title",children:"CI Feedback Video and Notebook"}),l.jsxs("div",{className:"workbook-intro",children:[l.jsx("p",{children:"CI checks are programmatic evaluations of task correctness and completeness. You need to iterate on your task until all checks pass. This page provides a practice workbook where you can do so, along with a video explaining the solution and walking through how to iterate on CI feedback."}),l.jsx("p",{children:l.jsx("a",{href:`${VY}ci_feedback_training.ipynb`,download:"ci_feedback_training.ipynb",className:"notebook-download-link",children:" Download CI Feedback Training Notebook"})})]}),l.jsx("div",{className:"workbook-video-section",children:l.jsxs("div",{className:"video-card",children:[l.jsx("h3",{className:"video-card-title",children:"CI Feedback Tutorial"}),l.jsx("div",{className:"video-wrapper",children:l.jsx("iframe",{src:"https://www.loom.com/embed/db35a5b03c1c43ab80f46f481fa02be1?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Practice Workbook Tutorial"})})]})}),l.jsxs("div",{className:"workbook-checks-section",children:[l.jsx("h2",{children:"Automated Checks"}),l.jsx("p",{children:"The following automated checks are run on all submissions:"}),l.jsx("h3",{children:"LLMAJ Checks"}),l.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Check Name"}),l.jsx("th",{children:"Description"}),l.jsx("th",{children:"How to Fix"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"behavior_in_task_description"})}),l.jsx("td",{children:"Whether all behavior checked in tests is described in the task"}),l.jsx("td",{children:"Review your test cases and ensure all tested behaviors are explicitly described in the task.toml instructions"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"behavior_in_tests"})}),l.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"}),l.jsx("td",{children:"Review your task.toml instructions and ensure each requirement has a corresponding test case in test_outputs.py"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"informative_test_docstrings"})}),l.jsx("td",{children:"Whether test cases have informative docstrings"}),l.jsx("td",{children:"Add docstrings to each test function that describe which behavior or requirement the test is checking"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"anti_cheating_measures"})}),l.jsx("td",{children:"Is it hard for the agent to cheat on the task?"}),l.jsx("td",{children:"Ensure agents cannot cheat by editing data files, looking inside files for solution strings, or training on the test set. If Dockerfile involves git cloning, ensure the agent won't see newer commits"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"structured_data_schema"})}),l.jsx("td",{children:"If agent produces structured data, is exact schema described?"}),l.jsx("td",{children:"If the agent produces structured data (e.g., API responses), describe the exact schema in task.toml or a separate file"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"hardcoded_solution"})}),l.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"}),l.jsx("td",{children:"Ensure your solution/solve.sh demonstrates a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Using echo/cat to write source files or scripts that are then executed is acceptable"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"file_reference_mentioned"})}),l.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.toml?"}),l.jsx("td",{children:"If tests check for specific files, ensure those filenames are explicitly mentioned in the task.toml instructions"})]})]})]}),l.jsx("h3",{children:"CI Checks"}),l.jsx("p",{children:"The following automated checks validate technical requirements:"}),l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Check Name"}),l.jsx("th",{children:"Description"}),l.jsx("th",{children:"How to Fix"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"pinned_dependencies"})}),l.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"}),l.jsx("td",{children:"Pin all Python dependencies to specific versions. Apt packages should not be pinned, but all pip/uv dependencies should be"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"typos"})}),l.jsx("td",{children:"Check for typos in file and variable names"}),l.jsx("td",{children:"Carefully review file and variable names for typos, as these can be hard to catch"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"tests_or_solution_in_image"})}),l.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"}),l.jsx("td",{children:"Remove any COPY commands for tests/ folder or solution files from your Dockerfile. The /tests folder is automatically copied by the harness"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"test_deps_in_image"})}),l.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"}),l.jsx("td",{children:"Move any test dependency installations from the Dockerfile to the run-tests.sh script"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_canary"})}),l.jsx("td",{children:"Checks if canary string is present at top of required files"}),l.jsx("td",{children:"Add the canary string to the top of all required files (task.yaml, solution/solve.sh, Dockerfile, test_outputs.py)"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_dockerfile_references"})}),l.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"}),l.jsx("td",{children:'Remove any references to "solution.yaml", "solution/solve.sh", "run-tests.sh", or "test_outputs.py" from your Dockerfile'})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_run-tests_sh"})}),l.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.toml keywords"}),l.jsx("td",{children:"Update run-tests.sh to contain uv init or uv venv, or add global or system-wide keywords to task.toml"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_task_absolute_path"})}),l.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"}),l.jsx("td",{children:"Update all file paths in task.toml instructions to use absolute paths (starting with /) instead of relative paths"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_privileged_containers"})}),l.jsx("td",{children:"No privileged containers in docker-compose.yaml"}),l.jsx("td",{children:"Remove any privileged: true or privileged container settings from docker-compose.yaml"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"ruff"})}),l.jsx("td",{children:"Lint checks"}),l.jsx("td",{children:"Run ruff linting checks before submitting and fix any linting errors"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_task_sizes"})}),l.jsx("td",{children:"Every file is under 1MB"}),l.jsx("td",{children:"Remove or condense any files that are over 1MB in size"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"validate_task_fields"})}),l.jsx("td",{children:"All required fields are present in task.toml"}),l.jsx("td",{children:"Add any missing required fields to your task.toml file"})]})]})]})]})]}),l.jsx("footer",{className:"workbook-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const YY="/Terminus-EC-Training-stateful/";function KY(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"OracleAgent Video and Notebook"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"OracleAgent Video and Notebook"}),l.jsx("div",{className:"workbook-intro",children:l.jsx("p",{children:"This page covers what the Oracle Agent is, how to run it, how to debug its output, and how to submit a debugged task. Use the practice workbook to iterate on your task and watch the video tutorial for a step-by-step walkthrough."})}),l.jsxs("div",{className:"workbook-resources",children:[l.jsxs("div",{className:"download-card",children:[l.jsx("div",{className:"download-icon",children:""}),l.jsx("h3",{children:"Oracle Agent Training Notebook"}),l.jsx("p",{children:"Download the Jupyter notebook for hands-on practice with the Oracle Agent"}),l.jsx("a",{href:`${YY}oracle_agent_training.ipynb`,download:"oracle_agent_training.ipynb",className:"download-button",children:"Download Notebook"})]}),l.jsxs("div",{className:"video-card",children:[l.jsx("h3",{className:"video-card-title",children:"Oracle Training Tutorial"}),l.jsx("div",{className:"video-wrapper",children:l.jsx("iframe",{src:"https://www.loom.com/embed/72b70216a5314068823bc6ed0350e672?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Oracle Training Tutorial"})})]})]})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const XY="https://ntmiycfydldoremofrbf.supabase.co",QY="documentation-videos",my=e=>`${XY}/storage/v1/object/public/${QY}/${e}`,qx={officeHours1112:my("video1344882306.mp4"),platformOnboarding:my("platform_onboarding_11-25-2025.mp4"),onboardingVideo:my("video1251502681.mp4")},JY="/Terminus-EC-Training-stateful/";function ZY(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"Onboarding Video and Slides"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Onboarding Video and Slides"}),l.jsx("div",{className:"workbook-intro",children:l.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project."})}),l.jsxs("div",{className:"workbook-resources",children:[l.jsxs("div",{className:"download-card",children:[l.jsx("div",{className:"download-icon",children:""}),l.jsx("h3",{children:"Onboarding Slides"}),l.jsx("p",{children:"Download or view the onboarding presentation slides"}),l.jsx("a",{href:`${JY}Terminus%20EC%20Onboarding.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),l.jsxs("div",{className:"video-card",children:[l.jsx("h3",{className:"video-card-title",children:"Onboarding Video"}),l.jsx("div",{className:"video-wrapper",children:l.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},onError:t=>{console.error("Video load error:",t),console.error("Video src:",t.target.currentSrc)},children:[l.jsx("source",{src:qx.onboardingVideo,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function YR({itemId:e,label:t}){const{isCompleted:r,toggleCompletion:n}=V3(),[i,s]=E.useState(!1),a=r(e),o=async()=>{s(!0),await n(e),s(!1)};return l.jsxs("button",{className:`completion-toggle ${a?"completed":""}`,onClick:o,disabled:i,title:a?"Mark as incomplete":"Mark as complete",children:[l.jsx("span",{className:"completion-checkbox",children:a&&l.jsx("svg",{className:"completion-checkmark",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"completion-label",children:t||(a?"Completed":"Mark as Complete")})]})}const eK="/Terminus-EC-Training-stateful/";function tK(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/portal"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"Expert Platform Onboarding Materials"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Expert Platform Onboarding Materials"}),l.jsx("div",{className:"workbook-intro",children:l.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project on the Snorkel Expert Platform."})}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",maxWidth:"800px",margin:"0 auto",marginTop:"2rem"},children:l.jsxs("div",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"12px",padding:"2rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",width:"100%"},children:[l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ffffff",marginBottom:"1.5rem",textAlign:"center"},children:"Expert Platform Onboarding Materials"}),l.jsx("div",{style:{marginBottom:"2rem",textAlign:"center"},children:l.jsx("a",{href:`${eK}Terminus EC Onboarding - Platform.pdf`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",backgroundColor:"#ffffff",color:"#1e40af",padding:"0.875rem 2rem",fontSize:"1rem",fontWeight:600,textDecoration:"none",borderRadius:"8px",transition:"all 0.3s",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.2)"},children:"View/Download Onboarding Slides"})}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:600,color:"#ffffff",marginBottom:"1rem",textAlign:"center"},children:"Onboarding Video"}),l.jsx("div",{className:"video-wrapper",children:l.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[l.jsx("source",{src:qx.platformOnboarding,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})}),l.jsx("div",{style:{marginTop:"2rem",maxWidth:"800px",margin:"2rem auto 0"},children:l.jsx(YR,{itemId:"resource-expert-platform-onboarding"})})]})]})}const JC="/Terminus-EC-Training-stateful/";function rK(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"Office Hours Videos and Slides"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Office Hours Videos and Slides"}),l.jsx("div",{className:"workbook-intro",children:l.jsx("p",{children:"Access Office Hours videos and feedback presentation slides to learn about common issues and best practices."})}),l.jsxs("div",{className:"workbook-resources",children:[l.jsxs("div",{className:"video-card",children:[l.jsx("h3",{className:"video-card-title",children:"Office Hours 11/12"}),l.jsx("div",{className:"video-wrapper",children:l.jsxs("video",{controls:!0,className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[l.jsx("source",{src:qx.officeHours1112,type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),l.jsxs("div",{className:"download-card",children:[l.jsx("div",{className:"download-icon",children:""}),l.jsx("h3",{children:"Feedback 10/31"}),l.jsx("p",{children:"Feedback slides from October 31st"}),l.jsx("a",{href:`${JC}Feedback%2010_31.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),l.jsxs("div",{className:"download-card",children:[l.jsx("div",{className:"download-icon",children:""}),l.jsx("h3",{children:"Feedback 11/3"}),l.jsx("p",{children:"Feedback slides from November 3rd"}),l.jsx("a",{href:`${JC}Feedback%2011_3.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]})]})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function nK(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"FAQ"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Frequently Asked Questions"}),l.jsxs("div",{className:"faq-container",children:[l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"1. Do I need to attend onboarding to get started?"}),l.jsx("p",{className:"faq-answer",children:"No, you do not need to attend a live onboarding. We encourage this so that you can ask questions and they're scheduled every couple of days in case you can't make one day. However, we also have a recording and slides from this session on this site, so you're free to look at those to familiarize yourself and get started right away."})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"2. I didn't receive an assessment, do I need to take one?"}),l.jsx("p",{className:"faq-answer",children:"No, there is currently no assessment for this project, you can get started familiarizing yourself with the task and working on it immediately."})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"3. How do I receive my API keys?"}),l.jsx("p",{className:"faq-answer",children:"You should receive an email with your OpenAI API key shortly after joining the project. If you haven't received it within a day or two, please reach out to Puyun Tafreshi or Alejandro Sanchez on Slack. You will only need the OpenAI key - our infrastructure will allow you to run Anthropic models using only this key."})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"4. Why do I not see anything in my Snorkel Expert Platform?"}),l.jsx("p",{className:"faq-answer",children:"This project is currently being run entirely outside of the Snorkel Expert Platform. Therefore, you should not and will not see anything related to the project on the platform. Everything will be done through the GitHub repo at this point in time."})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"5. How do I get served a task?"}),l.jsx("p",{className:"faq-answer",children:'You will not be "served" a task to complete like in other Snorkel projects. You will be ideating and creating the task completely from scratch. Please see the Task Walkthrough videos for more detail on how to do this.'})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"6. How do I get an idea for my task?"}),l.jsx("p",{className:"faq-answer",children:'You can either come up with a task from scratch or take a task idea from our sheet of task ideas, this is up to you. You can also use the task ideas as "inspiration" and come up with a similar or more complex version.'})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"7. How do I claim an existing task idea from the sheet?"}),l.jsx("p",{className:"faq-answer",children:"To claim a task, please DM Puyun Tafreshi or Alejandro Sanchez on Slack with the line number of the task that you would like to claim. Please do not request more than 2-3 tasks at once, you will be capped at this until you have completed one or more of the tasks that you have previously requested."})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"8. What are the daily Office Hours sessions?"}),l.jsx("p",{className:"faq-answer",children:"These are open forums that are entirely for you. You can come and ask any general questions or specific questions about your task. These are not required, but we encourage attending either to ask questions yourself or just to learn from listening to other people."})]}),l.jsxs("div",{className:"faq-item",children:[l.jsx("h2",{className:"faq-question",children:"9. How do I make a hard task?"}),l.jsxs("p",{className:"faq-answer",children:[l.jsx("strong",{children:"Important:"}),' Tasks that are not at least "Easy" difficulty rating will NOT be accepted. Here are some suggestions and guidelines to make harder tasks:']}),l.jsxs("ul",{style:{marginTop:"0.75rem",paddingLeft:"1.5rem",color:"#64748b"},children:[l.jsxs("li",{style:{marginBottom:"0.75rem"},children:[l.jsx("strong",{children:"Make a debugging-style task:"})," When an agent has to figure out the root cause of an issue, it inherently requires reasoning."]}),l.jsxs("li",{style:{marginBottom:"0.75rem"},children:[l.jsx("strong",{children:"Make tasks requiring special/niche knowledge:"})," Knowledge is publicly available but LLMs have not been well-trained on it due to niche nature. Example: ",l.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/103",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Blockchains/NFT task"})]}),l.jsxs("li",{style:{marginBottom:"0.75rem"},children:[l.jsx("strong",{children:"Use a bespoke rule buried in common rules:"})," The task.toml still has to clearly define it, but a bespoke rule seems to confuse an agent. Example: ",l.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/174#discussion_r2497044356",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Bespoke rule example"})]}),l.jsxs("li",{style:{marginBottom:"0.75rem"},children:[l.jsx("strong",{children:"Develop a complex, multi-step task:"})," Each step has a certain amount of chance that an agent fails, making the overall failure rate higher."]})]})]})]}),l.jsx("div",{className:"workbook-actions",style:{marginTop:"2rem"},children:l.jsx(YR,{itemId:"resource-faq"})})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function iK(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"Glossary"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Glossary"}),l.jsx("div",{className:"content-body",style:{maxWidth:"1000px",margin:"0 auto",textAlign:"left"},children:l.jsxs("div",{className:"glossary-grid",children:[l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Canary String"}),l.jsx("p",{style:{marginBottom:0},children:"A special string that must be present at the top of all required files (task.toml, solution/solve.sh, Dockerfile, test_outputs.py). Used to verify that these files have been properly reviewed and meet project standards."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"CI Checks"}),l.jsx("p",{style:{marginBottom:0},children:"Automated checks that validate technical requirements for submissions. Include checks for pinned dependencies, typos, canary strings, Dockerfile references, absolute paths, privileged containers, linting (ruff), file sizes, and required task.toml fields. All CI checks must pass before a submission can be accepted."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"docker-compose.yaml"}),l.jsx("p",{style:{marginBottom:0},children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources. Must not use privileged containers."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Dockerfile"}),l.jsx("p",{style:{marginBottom:0},children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode. Must not copy tests/ folder or solution files, as these are automatically copied by the harness."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"LLMAJ Checks"}),l.jsx("p",{style:{marginBottom:0},children:"Automated checks that evaluate task quality and correctness. Include checks for behavior alignment between task description and tests, informative test docstrings, anti-cheating measures, structured data schema description, hardcoded solutions, and file reference mentions. These checks ensure the task is well-designed and properly tested."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Oracle Agent"}),l.jsx("p",{style:{marginBottom:0},children:"Agent that is run in created environment to check the solution implemented in the solution/solve.sh file. Checks that the solution runs correctly and without bugs, and tests the output of the solution against the created pytests to ensure that the solution passes."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Pass Rate Difficulty"}),l.jsx("p",{style:{marginBottom:0},children:"The average pass rate for an acceptable task must be <80%. This ensures tasks are challenging enough to provide meaningful evaluation of agent capabilities."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"run-tests.sh"}),l.jsx("p",{style:{marginBottom:0},children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. Must be deterministic, portable, and callable directly from the project root. Should use uv init or uv venv, or have proper task.yaml keywords."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"solution/solve.sh"}),l.jsx("p",{style:{marginBottom:0},children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task. Must demonstrate a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Used by the Oracle Agent to verify the task is solvable."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"stb"}),l.jsxs("p",{style:{marginBottom:0},children:["Command-line tool for Terminal-Bench tasks. Used with commands like ",l.jsx("code",{children:"uv run stb tasks create"}),"to create new task structures and manage task-related operations."]})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"task.toml"}),l.jsx("p",{style:{marginBottom:0},children:"Clear and self-contained description of the task to be accomplished by the agent. Includes references to relevant resources, rules and constraints, success criteria, and task metadata. Must be written by a human and should explicitly mention any filenames that agents need to produce."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"tb run"}),l.jsxs("p",{style:{marginBottom:0},children:["Command used to run tasks with different agents. Example: ",l.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"}),"runs the Oracle Agent on a specified task to verify the solution works correctly."]})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"test_outputs.py"}),l.jsx("p",{style:{marginBottom:0},children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment. Each test should have informative docstrings describing which behavior or requirement the test is checking. All behavior described in task.toml should have corresponding tests."})]}),l.jsxs("div",{className:"info-box",style:{marginTop:0},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"uv"}),l.jsx("p",{style:{marginBottom:0},children:"A fast Python package installer and resolver written in Rust. Used in the Terminus project for managing Python dependencies and virtual environments. Required for running tasks and managing test dependencies."})]})]})})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function sK(){const e=ft();return l.jsxs("div",{className:"videos-page",children:[l.jsxs("header",{className:"videos-header",children:[l.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),l.jsx("div",{className:"videos-logo",children:"Local Testing Info"})]}),l.jsxs("main",{className:"videos-content",children:[l.jsx("h1",{className:"videos-title",children:"Local Testing Info"}),l.jsxs("div",{className:"content-body",style:{maxWidth:"900px",margin:"0 auto",textAlign:"left"},children:[l.jsx("p",{style:{marginBottom:"2rem",lineHeight:"1.7",color:"#475569"},children:"Running agents locally allows you to iterate on your tasks more effectively compared to needing to submit your PR before receiving test results. By testing locally, you can quickly identify issues, refine your task design, and validate solutions before submitting. You'll receive your API key from Snorkel via email, which you'll need to set up your environment for local testing."}),l.jsx("h2",{children:"Test SOTA agent performance on your task"}),l.jsxs("ol",{children:[l.jsx("li",{children:"Receive API key from Snorkel via email"}),l.jsxs("li",{children:["Update environmental variables:",l.jsx("pre",{children:l.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),l.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",l.jsx("pre",{children:l.jsx("code",{children:"# GPT-5 tb run --agent terminus-2 --model openai/@openai-tbench/gpt-5 --task-id <task_id> # Claude Sonnet 4.5 tb run --agent terminus-2 --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929 --task-id <task_id>"})})]})]}),l.jsx("h2",{children:"Check that your solution passes CI and LLMaJ checks"}),l.jsxs("ol",{children:[l.jsx("li",{children:"Receive API key from Snorkel via email"}),l.jsxs("li",{children:["Update environmental variables:",l.jsx("pre",{children:l.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),l.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",l.jsx("pre",{children:l.jsx("code",{children:"# GPT-5 tb tasks check <task_id> --model openai/@openai-tbench/gpt-5 # Claude Sonnet 4.5 tb tasks check <task_id> --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929"})})]})]})]})]}),l.jsx("footer",{className:"videos-footer",children:l.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const aK=[{id:"overview",title:"Project Overview",content:l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Project Goal"}),l.jsx("p",{children:"This project aims to develop a high-quality dataset in the style of Terminal-Bench. Terminal-Bench is a suite of multi-step agentic tasks executed in a Command-Line Interface (CLI) environment, designed to benchmark the performance of models. You will design these tasks and include the necessary components to be compatible with the Terminus framework."}),l.jsx("h3",{children:"Your Role as a Coding Expert"}),l.jsx("p",{children:"Your role is to develop a task, solution, and associated tests to verify the solution. These should be quite difficult, targeting an accuracy of below 80% for GPT-5 or Sonnet 4.5."}),l.jsx("p",{children:l.jsx("strong",{children:"Task Difficulty Classifications:"})}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Hard"})," - accuracy < 40% for GPT-5 or Sonnet 4.5"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Medium"})," - accuracy < 60% for either GPT-5 or Sonnet 4.5"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Easy"})," - accuracy < 80% for either GPT-5 or Sonnet 4.5"]})]}),l.jsx("p",{children:"You will create the task locally, validate that it meets all project criteria, and then package it as part of your submissions. Each submission undergoes independent review by another qualified coding expert with experience in the corresponding practice area to ensure accuracy and completeness."}),l.jsx("h3",{children:"Resources"}),l.jsxs("ul",{children:[l.jsxs("li",{children:["Slack for all project-related questions: ",l.jsx("strong",{children:"#ec-terminus-submission"})]}),l.jsxs("li",{children:["Terminal-Bench site: ",l.jsx("a",{href:"https://www.tbench.ai/",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/"})]}),l.jsx("li",{children:"While this project is NOT affiliated with the official Terminal-Bench project, this is a valuable resource given their similarities"}),l.jsx("li",{children:"Tickets for non-project-specific questions (i.e., payments): Expert Support Form"})]})]})},{id:"components",title:"Task Components",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Key Submission Components"}),l.jsx("h3",{children:"Components that Define the Task"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Instruction/Prompt (task.yaml)"}),l.jsx("p",{children:"Clear and self-contained description of the task to be accomplished by the agent. The instructions will include references to the relevant resources necessary for task completion, rules and additional constraints, and a description of the success criteria. This will also contain task metadata that is not available to the agent at runtime."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Docker Environment (Dockerfile)"}),l.jsx("p",{children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"docker-compose.yaml"}),l.jsx("p",{children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Oracle Solution (solution/solve.sh)"}),l.jsx("p",{children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"run-tests.sh"}),l.jsx("p",{children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. It must be deterministic, portable, and callable directly from the project root."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Python Tests"}),l.jsx("p",{children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment."})]}),l.jsx("h3",{children:"Optional Components"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Supporting Data Files:"})," Any additional inputs (e.g., data, configuration files, etc.) that are required for the task itself"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Custom Tools:"})," Custom tools to be used by the agent can be delivered in multiple ways, from source code files to companion containers"]})]}),l.jsxs("p",{className:"warning-box",children:[l.jsx("strong",{children:"Note:"})," See the template task in the GitHub repository for an example of submission structure."]})]})},{id:"taxonomy",title:"Task Type Taxonomy",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Task Type Taxonomy"}),l.jsx("p",{children:"The following taxonomy is used to label each task and describes the primary theme, topic, or activity in the task:"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"system-administration"}),l.jsx("p",{children:"Tasks involving OS-level configuration, user management, package management, processes, or installing, configuring, and bringing up services, networks, and environments."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"build-and-dependency-management"}),l.jsx("p",{children:"Compile code, manage dependencies, build components."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"data-processing"}),l.jsx("p",{children:"Tasks that transform, parse, filter, aggregate datasets or files and directories and generate derived output."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"games"}),l.jsx("p",{children:"Tasks centered on game-like or simulated environments, interactive puzzles, or simulation games that run in the terminal."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"software-engineering"}),l.jsx("p",{children:"Tasks focused on developing or testing features and algorithms, fixing bugs and improving/optimizing an existing feature, implementing tests, or maintaining software projects."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"machine-learning"}),l.jsx("p",{children:"Tasks requiring training, fine-tuning, running inference, or evaluating machine learning models, including dependency setup, running training loops, and managing data pipelines for ML tasks."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"debugging"}),l.jsx("p",{children:"Tasks that require identifying, diagnosing, and fixing errors in scripts, codebases, or system configurations."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"security"}),l.jsx("p",{children:"Tasks related to cryptography, authentication, permissions, penetration-style tests, exploit, validate vulnerabilities, reverse engineering or security configuration."})]}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"scientific-computing"}),l.jsx("p",{children:"Tasks using scientific libraries or workflows, such as numerical computation, simulations, or domain-specific research code."})]}),l.jsxs("p",{className:"warning-box",children:[l.jsx("strong",{children:"Note:"})," If your Terminal-Bench tasks are designed to be relevant to a particular domain, such as financial services, an additional taxonomy specific to that domain can be developed."]})]})},{id:"workflow",title:"Setup + Workflow",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Environment Setup and Tasking Workflow"}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Before Beginning:"})," Familiarize yourself with Terminal-Bench and its existing tasks here:",l.jsx("a",{href:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1"}),". Our project, while not a direct contribution to Terminal-Bench, will mimic the style closely."]}),l.jsx("h3",{children:"Submissions Workflow"}),l.jsxs("p",{children:["Submissions will be created through a private GitHub repository: ",l.jsx("code",{children:"https://github.com/snorkel-ai/snorkel-tb-tasks"})]}),l.jsx("p",{children:"Once you receive access to this repository, please do the following:"}),l.jsxs("ol",{children:[l.jsx("li",{children:"Clone the repository"}),l.jsxs("li",{children:["Create a task in your local environment under ",l.jsx("code",{children:"tasks"})," directory"]}),l.jsx("li",{children:"Ensure the oracle solution passes and minimum criteria for difficulty are met"}),l.jsxs("li",{children:["Push a branch (e.g. ",l.jsx("code",{children:"username/<task-id>"}),")"]}),l.jsxs("li",{children:["Create a pull request against the repository and make sure the title starts with ",l.jsx("strong",{children:"Task:"})]}),l.jsx("li",{children:"Iterate on that branch until all CI/Evals pass"})]}),l.jsxs("p",{className:"info-box",children:[l.jsx("strong",{children:"Estimated Time:"})," The submission task is expected to require around 2-5 hours to complete."]}),l.jsx("h3",{children:"Initial Setup (one-time)"}),l.jsxs("ol",{children:[l.jsxs("li",{children:["Install uv",l.jsx("pre",{children:l.jsx("code",{children:"curl -LsSf https://astral.sh/uv/install.sh | sh"})})]}),l.jsxs("li",{children:["Clone the repository",l.jsx("pre",{children:l.jsx("code",{children:"git clone https://github.com/snorkel-ai/snorkel-tb-tasks.git"})})]}),l.jsxs("li",{children:["Navigate to the created local directory",l.jsx("pre",{children:l.jsx("code",{children:"cd snorkel-tb-tasks"})})]})]}),l.jsx("h3",{children:"Creating the File Structure for a New Task"}),l.jsxs("ol",{children:[l.jsx("li",{children:"Download the task skeleton template from the training site"}),l.jsx("li",{children:"Extract and rename the folder to match your task name"}),l.jsx("li",{children:"[Optional] Enter 'y' to receive an overview of Terminal-Bench, or 'n' to skip"}),l.jsxs("li",{children:["Follow the steps given in the terminal to:",l.jsxs("ul",{children:[l.jsx("li",{children:"Provide a unique name for your task"}),l.jsx("li",{children:"Provide the task description/what the task is"}),l.jsx("li",{children:"Indicate whether interactive commands are required (most cases: no)"}),l.jsx("li",{children:"Please skip entering your name and email (we will track this through the app)"}),l.jsx("li",{children:"Enter a category for your task corresponding to one in the Taxonomy"}),l.jsx("li",{children:"Enter 3-6 tags for your task (separated by spaces)"}),l.jsx("li",{children:"Provide an easy/medium/hard rating based on how long it would take an expert to solve"}),l.jsx("li",{children:"Provide a completion time estimate for an expert engineer"}),l.jsx("li",{children:"Provide a completion time estimate for a junior engineer"})]})]})]}),l.jsxs("p",{children:["This will create a new folder in your ",l.jsx("code",{children:"snorkel-tb-tasks/tasks"})," directory, with a name corresponding to the unique name provided. The contents contain all the necessary files needed for task submission (unless you need to add additional data files)."]}),l.jsx("h3",{children:"Completing a Task After Creation"}),l.jsxs("ol",{children:[l.jsxs("li",{children:["Edit the created Dockerfile to set up your task environment",l.jsxs("ul",{children:[l.jsx("li",{children:"Add any dependencies of the task, such as additional required packages"}),l.jsx("li",{children:"If you require a multi-container environment or other custom configuration, see the documentation for customizing your docker-compose.yaml"})]})]}),l.jsxs("li",{children:["Enter your task container in interactive mode",l.jsx("pre",{children:l.jsx("code",{children:"tb tasks interact -t <task-name>"})})]}),l.jsx("li",{children:"While interacting with your task container, test your solution idea to make sure it works as expected"}),l.jsx("li",{children:"Once solution is verified, record it and exit the container"}),l.jsxs("li",{children:["Modify the solution file (solution/solve.sh) with the verified commands",l.jsxs("ul",{children:[l.jsx("li",{children:"This file will be used by the OracleAgent to ensure the task is solvable"}),l.jsx("li",{children:"If you need to run commands that are not possible with a bash script (e.g. vim), use a solution.yaml file"})]})]}),l.jsxs("li",{children:["Update the tests/test_outputs.py file to verify task completion",l.jsxs("ul",{children:[l.jsx("li",{children:"Create pytest unit tests to ensure that the task was completed correctly"}),l.jsx("li",{children:"If tests require any file dependencies, place them in the tests/ directory"})]})]}),l.jsxs("li",{children:["Test your task solution passes and meets all requirements",l.jsx("pre",{children:l.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"})})]}),l.jsx("li",{children:"Push a branch (e.g. my-task-1) to the repository"}),l.jsx("li",{children:"Create a PR to submit your task"})]})]})},{id:"requirements",title:"Task Requirements",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Task Design Requirements"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Frontier Models and Agents:"})," The following combinations are used to evaluate each task (evaluations are repeated 5 times):",l.jsxs("ul",{children:[l.jsx("li",{children:"Codex agent with GPT-5-Codex"}),l.jsx("li",{children:"Claude Code agent with Sonnet 4.5"})]})]}),l.jsxs("div",{className:"checklist",children:[l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"Pass Rate Difficulty:"})," Average pass rate for acceptable task is <80%"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"Multi-Step:"})," Tasks must require chaining multiple commands, handling intermediate states, and some reasoning"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"Testable:"})," Each task must be fully specified with sufficient information for the agent to complete without ambiguity"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"Unique:"})," All tasks must be unique and distinct from all existing Terminal-Bench tasks"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"No Privileged Ops:"})," Tasks must not require root-level privileges or unsafe Docker settings"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"Standalone:"})," Tasks must run to completion without additional user input after start"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"Task Type Distribution:"})," No single type will exceed ~30% of offerings, with at least four types each representing 10%"]}),l.jsxs("div",{className:"checklist-item",children:[l.jsx("strong",{children:"(Optional) Domain Relevance:"})," Tasks should reflect real-world skills for the relevant domain"]})]}),l.jsx("h3",{children:"Submission Checklist"}),l.jsxs("div",{className:"checklist",children:[l.jsx("div",{className:"checklist-item",children:"All behavior checked in the test cases is described in the task instruction"}),l.jsx("div",{className:"checklist-item",children:"All behavior described in the task instruction is checked in the unit tests"}),l.jsx("div",{className:"checklist-item",children:"Test cases have informative docstrings that describe which behavior they check"}),l.jsx("div",{className:"checklist-item",children:"Hard for agent to cheat (e.g. by editing data files or looking inside files for solutions)"}),l.jsx("div",{className:"checklist-item",children:"task.yaml was written by a human"}),l.jsx("div",{className:"checklist-item",children:"solution/solve.sh was written by a human (with minimal LLM help)"}),l.jsx("div",{className:"checklist-item",children:"If agent produces structured data, exact schema is described in task.yaml or separate file"}),l.jsx("div",{className:"checklist-item",children:"External dependencies have pinned versions for reproducibility"}),l.jsx("div",{className:"checklist-item",children:"Ran task using agent with powerful model and analyzed failing runs to confirm task validity"}),l.jsx("div",{className:"checklist-item",children:"Formatted and linted the task (Ruff)"})]})]})},{id:"examples",title:"Example Tasks",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Example Tasks"}),l.jsx("h3",{children:"Example 1: VimGolf Challenge"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Category:"})," games",l.jsx("br",{}),l.jsx("strong",{children:"Difficulty:"})," medium",l.jsx("br",{}),l.jsx("strong",{children:"Tags:"})," games, vim, text-editing"]}),l.jsx("pre",{children:l.jsx("code",{children:`instruction: |-
  You are given a fresh install with python installed.
  First, use pip to install vimgolf.
  Then, read the file "/challenge.txt" to get the challenge id.
  Then, use vimgolf show <CHALLENGE_ID> to get the best scores,
  as well as the start file and end file.
  Then, write the Start File to /start.txt and End File to /end.txt
  Attempt the vimgolf challenge using vimgolf local /start.txt /end.txt,
  and output the string of vim inputs in "/score.txt".
  
  Your primary objective is to solve the problem within the
  minimum score * 1.5 in the leaderboard.`})}),l.jsx("h3",{children:"Example 2: OpenCV Debugging"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Category:"})," computer-vision",l.jsx("br",{}),l.jsx("strong",{children:"Difficulty:"})," medium",l.jsx("br",{}),l.jsx("strong",{children:"Tags:"})," computer-vision, jupyter-notebooks, bugfix"]}),l.jsx("pre",{children:l.jsx("code",{children:`instruction: |-
  A Jupyter notebook at /app/opencv_analysis.ipynb contains
  several OpenCV image processing operations, but it has multiple
  errors preventing it from running successfully.
  Fix all errors in the notebook so that it executes completely
  without errors and produces the expected output image.`})}),l.jsx("h3",{children:"Example 3: Python Bytecode Decompilation"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Category:"})," software-engineering",l.jsx("br",{}),l.jsx("strong",{children:"Difficulty:"})," hard",l.jsx("br",{}),l.jsx("strong",{children:"Tags:"})," software-engineering, python, bytecode, serialization"]}),l.jsx("pre",{children:l.jsx("code",{children:`instruction: |
  Your task is to decompile a Python function in bytecode format,
  compiled in CPython 3.8, and save the function in decompiled.py
  in the same folder as task.yaml.
  The function name should be "func".
  Note that the function is pickled using dill and serialized
  using base64 in the file called func.serialized.`})}),l.jsx("h3",{children:"Example 4: Python Environment Setup"}),l.jsxs("div",{className:"info-box",children:[l.jsx("strong",{children:"Category:"})," system-administration",l.jsx("br",{}),l.jsx("strong",{children:"Difficulty:"})," medium",l.jsx("br",{}),l.jsx("strong",{children:"Tags:"})," environment-setup, python, virtualenv, dependency-management"]}),l.jsx("pre",{children:l.jsx("code",{children:`instruction: |
  Install Python using pyenv, create a virtual environment using
  pyenv/virtualenv called "venv", activate it and install
  numpy 1.26.4 in it.
  You shouldn't get any warning during Python installation.
  Make sure that tkinter is also available in the virtual environment.`})})]})},{id:"ci-quality",title:"CI + Quality Control",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Quality Control"}),l.jsx("h3",{children:"Manual Peer Review"}),l.jsx("p",{children:"Peer reviewers will provide additional expert oversight on oracle correctness, prompt clarity, environment correctness, and tagging. Disagreements are adjudicated by Snorkel's in-house experts."}),l.jsx("h3",{children:"LLMAJ Checks"}),l.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Check Name"}),l.jsx("th",{children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"behavior_in_task_description"})}),l.jsx("td",{children:"Whether all behavior checked in tests is described in the task"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"behavior_in_tests"})}),l.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"informative_test_docstrings"})}),l.jsx("td",{children:"Whether test cases have informative docstrings"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"anti_cheating_measures"})}),l.jsx("td",{children:"Is it hard for the agent to cheat on the task?"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"structured_data_schema"})}),l.jsx("td",{children:"If agent produces structured data, is exact schema described?"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"hardcoded_solution"})}),l.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"file_reference_mentioned"})}),l.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.yaml?"})]})]})]}),l.jsx("h3",{children:"CI Checks"}),l.jsx("p",{children:"The following automated checks validate technical requirements:"}),l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Check Name"}),l.jsx("th",{children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"pinned_dependencies"})}),l.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"typos"})}),l.jsx("td",{children:"Check for typos in file and variable names"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"tests_or_solution_in_image"})}),l.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"test_deps_in_image"})}),l.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_canary"})}),l.jsx("td",{children:"Checks if canary string is present at top of required files"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_dockerfile_references"})}),l.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_run-tests_sh"})}),l.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.yaml keywords"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_task_absolute_path"})}),l.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_privileged_containers"})}),l.jsx("td",{children:"No privileged containers in docker-compose.yaml"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"ruff"})}),l.jsx("td",{children:"Lint checks"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"check_task_sizes"})}),l.jsx("td",{children:"Every file is under 1MB"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"validate_task_fields"})}),l.jsx("td",{children:"All required fields are present in task.yaml"})]})]})]})]})},{id:"review",title:"Review Guidelines",content:l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Review Guidelines"}),l.jsx("h3",{children:"Steps for Checking Tasks"}),l.jsx("h4",{children:"1. Read the Task Description"}),l.jsxs("div",{className:"checklist",children:[l.jsx("div",{className:"checklist-item",children:"Check that the task description looks like it's written by a person"}),l.jsx("div",{className:"checklist-item",children:"Imagine you're a malicious agent - does the description give extra information that makes cheating easier?"}),l.jsx("div",{className:"checklist-item",children:"Carefully read each requirement and verify there is a corresponding test"})]}),l.jsx("h4",{children:"2. Read the Tests"}),l.jsxs("div",{className:"checklist",children:[l.jsx("div",{className:"checklist-item",children:"Do the tests seem brittle, with many hardcoded strings?"}),l.jsx("div",{className:"checklist-item",children:"Are there hardcoded thresholds? Do these thresholds seem reasonable?"}),l.jsx("div",{className:"checklist-item",children:"Are there any tests that unreasonably assume behavior not mentioned in the description?"})]}),l.jsx("h4",{children:"3. Check Timeouts, Time Estimates, and Difficulty"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Difficulty should be based on effort required by a human"}),l.jsx("li",{children:"Junior estimate is for an L3 at Google, expert is a domain expert"}),l.jsx("li",{children:"Timeout should be high enough that it likely won't be the limiting factor"})]}),l.jsx("h4",{children:"4. On the Task Viewer"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Watch the terminal recording. If the agent fails, is it failing for a good reason?"}),l.jsx("li",{children:"Check the analysis. Are the identified issues real?"}),l.jsx("li",{children:"Read the debug pane, which shows why an agent failed the task"})]}),l.jsx("h3",{children:"Common Errors to Watch For"}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Testing Behavior:"})," It is almost always better to test a behavior by actually running the code or environment the agent writes than trying to statically analyze it."]}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Tool Specifications:"})," Task instructions shouldn't mention specific tools that the agent should use unless there's a way to check if these tools were actually used. For example, don't ask the agent to use vim to write a text file because we can't confirm it was used over sed or emacs."]}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Randomness:"})," Tasks or solutions that involve randomness MUST NOT assume the solution matches that same random order or implementation. Don't depend on particular ",l.jsx("code",{children:"np.random.seed"}),"values."]}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Test Complexity:"})," Test files should be as clear and simple as possible. Long test files are almost always wrong since more tests means more opportunities for error. Similarly, a task should be carefully defined. It's usually a bad sign if a task description is long with many requirements."]}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Data Formats:"})," Be especially paranoid about specifying data formats like API structures, json response schemas, etc. For example, if you're telling the model it needs to output a CSV you'll also need to specify whether it needs a header."]}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"String Matching:"})," Avoid tests that rely on string matching. This is almost always too brittle. For example, checking for a python import by looking for ",l.jsx("code",{children:"import pandas.DataFrame"}),"could fail because the agent could write ",l.jsx("code",{children:"from pandas import DataFrame"}),"."]}),l.jsxs("div",{className:"warning-box",children:[l.jsx("strong",{children:"Anti-Cheating:"})," Think about how agents could cheat. Examples:",l.jsxs("ul",{children:[l.jsx("li",{children:"If an answer is hidden in a program, ensure agents cannot directly get the answer by decompiling it"}),l.jsx("li",{children:"If task requires running programs and reporting behavior, ensure agents can't pass by replacing programs with dummy versions"}),l.jsx("li",{children:"If task exposes test cases, ensure they cannot pass real tests by deleting tests"})]})]})]})}];function oK({stats:e}){const t=[{label:"Total ECs",value:e.totalUsers,icon:"",color:"#667eea"},{label:"Active (7 days)",value:e.activeUsers7d,icon:"",color:"#48bb78"},{label:"Active (30 days)",value:e.activeUsers30d,icon:"",color:"#4299e1"},{label:"Avg Completion",value:`${e.avgCompletion}%`,icon:"",color:"#ed8936"},{label:"New (7 days)",value:e.newUsers7d,icon:"",color:"#9f7aea"}];return l.jsx("div",{className:"overview-stats",children:t.map((r,n)=>l.jsxs("div",{className:"stat-card",style:{borderTopColor:r.color},children:[l.jsx("div",{className:"stat-icon",children:r.icon}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-label",children:r.label}),l.jsx("div",{className:"stat-value",children:r.value})]})]},n))})}function lK({users:e}){const[t,r]=E.useState(""),[n,i]=E.useState("all"),[s,a]=E.useState("created_at"),[o,c]=E.useState("desc"),d=e.filter(g=>{var b,w;const _=((b=g.github_username)==null?void 0:b.toLowerCase().includes(t.toLowerCase()))||((w=g.email)==null?void 0:w.toLowerCase().includes(t.toLowerCase())),x=n==="all"||g.status===n;return _&&x}).sort((g,_)=>{let x=g[s],b=_[s];return s==="completion_percentage"&&(x=parseFloat(x)||0,b=parseFloat(b)||0),o==="asc"?x>b?1:-1:x<b?1:-1}),f=g=>{s===g?c(o==="asc"?"desc":"asc"):(a(g),c("desc"))},p=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=g=>{const _={active:{bg:"#f0fff4",color:"#22543d",border:"#48bb78"},inactive:{bg:"#fffaf0",color:"#744210",border:"#ed8936"},dormant:{bg:"#fff5f5",color:"#742a2a",border:"#f56565"}},x=_[g]||_.dormant;return l.jsx("span",{className:"status-badge",style:{background:x.bg,color:x.color,borderColor:x.border},children:g})};return l.jsxs("div",{className:"user-stats-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("h2",{children:"User Progress"}),l.jsxs("div",{className:"table-controls",children:[l.jsx("input",{type:"text",placeholder:"Search by name or email...",value:t,onChange:g=>r(g.target.value),className:"search-input"}),l.jsxs("select",{value:n,onChange:g=>i(g.target.value),className:"filter-select",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"dormant",children:"Dormant"})]})]})]}),l.jsxs("div",{className:"table-scroll",children:[l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsxs("th",{onClick:()=>f("github_username"),children:["Name ",s==="github_username"&&(o==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>f("created_at"),children:["Joined ",s==="created_at"&&(o==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>f("last_active"),children:["Last Active ",s==="last_active"&&(o==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>f("completion_percentage"),children:["Progress ",s==="completion_percentage"&&(o==="asc"?"":"")]}),l.jsxs("th",{onClick:()=>f("status"),children:["Status ",s==="status"&&(o==="asc"?"":"")]})]})}),l.jsx("tbody",{children:d.map(g=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"user-cell",children:[g.github_avatar_url&&l.jsx("img",{src:g.github_avatar_url,alt:g.github_username,className:"user-avatar-small"}),l.jsxs("div",{children:[l.jsx("div",{className:"user-name",children:g.github_username||"Unknown"}),l.jsx("div",{className:"user-email",children:g.email})]})]})}),l.jsx("td",{children:p(g.created_at)}),l.jsx("td",{children:p(g.last_active)}),l.jsx("td",{children:l.jsxs("div",{className:"progress-cell",children:[l.jsx("div",{className:"progress-bar-mini",children:l.jsx("div",{className:"progress-fill-mini",style:{width:`${g.completion_percentage||0}%`}})}),l.jsxs("span",{className:"progress-text",children:[g.completion_percentage||0,"%"]})]})}),l.jsx("td",{children:v(g.status)})]},g.id))})]}),d.length===0&&l.jsx("div",{className:"no-results",children:"No users found matching your criteria"})]}),l.jsxs("div",{className:"table-footer",children:["Showing ",d.length," of ",e.length," users"]})]})}function KR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=KR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=KR(e))&&(n&&(n+=" "),n+=t);return n}var uK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vx(e){if(typeof e!="string")return!1;var t=uK;return t.includes(e)}var cK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function XR(e){if(typeof e!="string")return!1;var t=cK;return t.includes(e)}function QR(e){return typeof e=="string"&&e.startsWith("data-")}function Ns(e){var t=Object.entries(e).filter(r=>{var[n]=r;return XR(n)||QR(n)});return Object.fromEntries(t)}function Gx(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ns(t)}return typeof e=="object"&&!Array.isArray(e)?Ns(e):null}function si(e){var t=Object.entries(e).filter(r=>{var[n]=r;return XR(n)||QR(n)||Vx(n)});return Object.fromEntries(t)}var dK=["children","width","height","viewBox","className","style","title","desc"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(null,arguments)}function hK(e,t){if(e==null)return{};var r,n,i=fK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JR=E.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:c,desc:d}=e,f=hK(e,dK),p=s||{width:n,height:i,x:0,y:0},v=It("recharts-surface",a);return E.createElement("svg",J1({},si(f),{className:v,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),E.createElement("title",null,c),E.createElement("desc",null,d),r)}),pK=["children","className"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z1.apply(null,arguments)}function mK(e,t){if(e==null)return{};var r,n,i=gK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ja=E.forwardRef((e,t)=>{var{children:r,className:n}=e,i=mK(e,pK),s=It("recharts-layer",n);return E.createElement("g",Z1({className:s},si(i),{ref:t}),r)}),vK=E.createContext(null);function Ct(e){return function(){return e}}const ZR=Math.cos,$p=Math.sin,Di=Math.sqrt,Up=Math.PI,Km=2*Up,e_=Math.PI,t_=2*e_,oo=1e-6,yK=t_-oo;function eD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eD;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class _K{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eD:bK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=n-t,d=i-r,f=a-t,p=o-r,v=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>oo)if(!(Math.abs(p*c-d*f)>oo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-a,_=i-o,x=c*c+d*d,b=g*g+_*_,w=Math.sqrt(x),A=Math.sqrt(v),S=s*Math.tan((e_-Math.acos((x+v-b)/(2*w*A)))/2),O=S/A,j=S/w;Math.abs(O-1)>oo&&this._append`L${t+O*f},${r+O*p}`,this._append`A${s},${s},0,0,${+(p*g>f*_)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),d=t+o,f=r+c,p=1^a,v=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>oo||Math.abs(this._y1-f)>oo)&&this._append`L${d},${f}`,n&&(v<0&&(v=v%t_+t_),v>yK?this._append`A${n},${n},0,1,${p},${t-o},${r-c}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:v>oo&&this._append`A${n},${n},0,${+(v>=e_)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Yx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _K(t)}function Kx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tD(e){this._context=e}tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xm(e){return new tD(e)}function rD(e){return e[0]}function nD(e){return e[1]}function iD(e,t){var r=Ct(!0),n=null,i=Xm,s=null,a=Yx(o);e=typeof e=="function"?e:e===void 0?rD:Ct(e),t=typeof t=="function"?t:t===void 0?nD:Ct(t);function o(c){var d,f=(c=Kx(c)).length,p,v=!1,g;for(n==null&&(s=i(g=a())),d=0;d<=f;++d)!(d<f&&r(p=c[d],d,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,d,c),+t(p,d,c));if(g)return s=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),o):n},o}function Df(e,t,r){var n=null,i=Ct(!0),s=null,a=Xm,o=null,c=Yx(d);e=typeof e=="function"?e:e===void 0?rD:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?nD:Ct(+r);function d(p){var v,g,_,x=(p=Kx(p)).length,b,w=!1,A,S=new Array(x),O=new Array(x);for(s==null&&(o=a(A=c())),v=0;v<=x;++v){if(!(v<x&&i(b=p[v],v,p))===w)if(w=!w)g=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=v-1;_>=g;--_)o.point(S[_],O[_]);o.lineEnd(),o.areaEnd()}w&&(S[v]=+e(b,v,p),O[v]=+t(b,v,p),o.point(n?+n(b,v,p):S[v],r?+r(b,v,p):O[v]))}if(A)return o=null,A+""||null}function f(){return iD().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),n=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),d):e},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),d):n},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),r=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),d):t},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(o=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=o=null:o=a(s=p),d):s},d}class sD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xK(e){return new sD(e,!0)}function wK(e){return new sD(e,!1)}const Xx={draw(e,t){const r=Di(t/Up);e.moveTo(r,0),e.arc(0,0,r,0,Km)}},EK={draw(e,t){const r=Di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aD=Di(1/3),kK=aD*2,TK={draw(e,t){const r=Di(t/kK),n=r*aD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},SK={draw(e,t){const r=Di(t),n=-r/2;e.rect(n,n,r,r)}},CK=.8908130915292852,oD=$p(Up/10)/$p(7*Up/10),AK=$p(Km/10)*oD,NK=-ZR(Km/10)*oD,jK={draw(e,t){const r=Di(t*CK),n=AK*r,i=NK*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Km*s/5,o=ZR(a),c=$p(a);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},gy=Di(3),OK={draw(e,t){const r=-Di(t/(gy*3));e.moveTo(0,r*2),e.lineTo(-gy*r,-r),e.lineTo(gy*r,-r),e.closePath()}},Xn=-.5,Qn=Di(3)/2,r_=1/Di(12),PK=(r_/2+1)*3,IK={draw(e,t){const r=Di(t/PK),n=r/2,i=r*r_,s=n,a=r*r_+r,o=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(o,c),e.lineTo(Xn*n-Qn*i,Qn*n+Xn*i),e.lineTo(Xn*s-Qn*a,Qn*s+Xn*a),e.lineTo(Xn*o-Qn*c,Qn*o+Xn*c),e.lineTo(Xn*n+Qn*i,Xn*i-Qn*n),e.lineTo(Xn*s+Qn*a,Xn*a-Qn*s),e.lineTo(Xn*o+Qn*c,Xn*c-Qn*o),e.closePath()}};function RK(e,t){let r=null,n=Yx(i);e=typeof e=="function"?e:Ct(e||Xx),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Hp(){}function zp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lD(e){this._context=e}lD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DK(e){return new lD(e)}function uD(e){this._context=e}uD.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LK(e){return new uD(e)}function cD(e){this._context=e}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MK(e){return new cD(e)}function dD(e){this._context=e}dD.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function BK(e){return new dD(e)}function ZC(e){return e<0?-1:1}function eA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(ZC(s)+ZC(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function tA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vy(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function Wp(e){this._context=e}Wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vy(this,this._t0,tA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vy(this,tA(this,r=eA(this,e,t)),r);break;default:vy(this,this._t0,r=eA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hD(e){this._context=new fD(e)}(hD.prototype=Object.create(Wp.prototype)).point=function(e,t){Wp.prototype.point.call(this,t,e)};function fD(e){this._context=e}fD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function FK(e){return new Wp(e)}function $K(e){return new hD(e)}function pD(e){this._context=e}pD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rA(e),i=rA(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rA(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function UK(e){return new pD(e)}function Qm(e,t){this._context=e,this._t=t}Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function HK(e){return new Qm(e,.5)}function zK(e){return new Qm(e,0)}function WK(e){return new Qm(e,1)}function ql(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,o=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function n_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qK(e,t){return e[t]}function VK(e){const t=[];return t.key=e,t}function GK(){var e=Ct([]),t=n_,r=ql,n=qK;function i(s){var a=Array.from(e.apply(this,arguments),VK),o,c=a.length,d=-1,f;for(const p of s)for(o=0,++d;o<c;++o)(a[o][d]=[0,+n(p,a[o].key,d,s)]).data=p;for(o=0,f=Kx(t(a));o<c;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ct(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?n_:typeof s=="function"?s:Ct(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??ql,i):r},i}function YK(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}ql(e,t)}}function KK(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=e[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}ql(e,t)}}function XK(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,c=0,d=0;o<a;++o){for(var f=e[t[o]],p=f[n][1]||0,v=f[n-1][1]||0,g=(p-v)/2,_=0;_<o;++_){var x=e[t[_]],b=x[n][1]||0,w=x[n-1][1]||0;g+=b-w}c+=p,d+=g*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,ql(e,t)}}var yy={},by={},nA;function QK(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(by)),by}var _y={},iA;function mD(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(_y)),_y}var xy={},sA;function Qx(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(xy)),xy}var wy={},Ey={},aA;function JK(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Ey)),Ey}var oA;function Jx(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JK(),r=Qx();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const p=i[o];d?p==="\\"&&o+1<a?(o++,c+=i[o]):p===d?d="":c+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,s.push(c),c=""):c+=p:p==="["?(f=!0,c&&(s.push(c),c="")):p==="."?c&&(s.push(c),c=""):c+=p,o++}return c&&s.push(c),s}e.toPath=n})(wy)),wy}var lA;function Zx(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QK(),r=mD(),n=Qx(),i=Jx();function s(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?r.isDeepKey(c)?s(o,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=o[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?d:f}}}function a(o,c,d){if(c.length===0)return d;let f=o;for(let p=0;p<c.length;p++){if(f==null||t.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}e.get=s})(yy)),yy}var ky,uA;function ZK(){return uA||(uA=1,ky=Zx().get),ky}var eX=ZK();const Vl=ui(eX);var _n=e=>e===0?0:e>0?1:-1,ai=e=>typeof e=="number"&&e!=+e,js=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,He=e=>(typeof e=="number"||e instanceof Number)&&!ai(e),ts=e=>He(e)||typeof e=="string",tX=0,vd=e=>{var t=++tX;return"".concat(e||"").concat(t)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&typeof t!="string")return n;var s;if(js(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return ai(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},gD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Qr(e,t,r){return He(e)&&He(t)?e+r*(t-e):t}function rX(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Vl(n,t))===r)}var wr=e=>e===null||typeof e>"u",Ud=e=>wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),nX=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){iX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oX(e,t){if(e==null)return{};var r,n,i=lX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vD={symbolCircle:Xx,symbolCross:EK,symbolDiamond:TK,symbolSquare:SK,symbolStar:jK,symbolTriangle:OK,symbolWye:IK},uX=Math.PI/180,cX=e=>{var t="symbol".concat(Ud(e));return vD[t]||Xx},dX=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*uX;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hX=(e,t)=>{vD["symbol".concat(Ud(e))]=t},yD=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=oX(e,nX),s=dA(dA({},i),{},{type:t,size:r,sizeType:n}),a="circle";typeof t=="string"&&(a=t);var o=()=>{var v=cX(a),g=RK().type(v).size(dX(r,n,a)),_=g();if(_!==null)return _},{className:c,cx:d,cy:f}=s,p=si(s);return d===+d&&f===+f&&r===+r?E.createElement("path",i_({},p,{className:It("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:o()})):null};yD.registerSymbol=hX;var fX=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Vx(i)&&(n[i]=(s=>r[i](r,s)))}),n},pX=(e,t,r)=>n=>(e(t,r,n),null),ew=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Vx(i)&&typeof s=="function"&&(n||(n={}),n[i]=pX(s,t,r))}),n},Ty={},Sy={},hA;function mX(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(Sy)),Sy}var Cy={},fA;function bD(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Cy)),Cy}var Ay={},Ny={},jy={},pA;function gX(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(jy)),jy}var mA;function tw(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gX();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ny)),Ny}var Oy={},gA;function vX(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Oy)),Oy}var vA;function yX(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tw(),r=vX();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Ay)),Ay}var Py={},Iy={},yA;function bX(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zx();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Iy)),Iy}var Ry={},Dy={},Ly={},My={},bA;function _D(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(My)),My}var By={},_A;function xD(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(By)),By}var Fy={},xA;function wD(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Fy)),Fy}var wA;function _X(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_D(),r=xD(),n=wD();function i(f,p,v){return typeof v!="function"?i(f,p,()=>{}):s(f,p,function g(_,x,b,w,A,S){const O=v(_,x,b,w,A,S);return O!==void 0?!!O:s(_,x,g,S)},new Map)}function s(f,p,v,g){if(p===f)return!0;switch(typeof p){case"object":return a(f,p,v,g);case"function":return Object.keys(p).length>0?s(f,{...p},v,g):n.eq(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function a(f,p,v,g){if(p==null)return!0;if(Array.isArray(p))return c(f,p,v,g);if(p instanceof Map)return o(f,p,v,g);if(p instanceof Set)return d(f,p,v,g);const _=Object.keys(p);if(f==null)return _.length===0;if(_.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===f;g==null||g.set(p,f);try{for(let x=0;x<_.length;x++){const b=_[x];if(!r.isPrimitive(f)&&!(b in f)||p[b]===void 0&&f[b]!==void 0||p[b]===null&&f[b]!==null||!v(f[b],p[b],b,f,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function o(f,p,v,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[_,x]of p.entries()){const b=f.get(_);if(v(b,x,_,f,p,g)===!1)return!1}return!0}function c(f,p,v,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const _=new Set;for(let x=0;x<p.length;x++){const b=p[x];let w=!1;for(let A=0;A<f.length;A++){if(_.has(A))continue;const S=f[A];let O=!1;if(v(S,b,x,f,p,g)&&(O=!0),O){_.add(A),w=!0;break}}if(!w)return!1}return!0}function d(f,p,v,g){return p.size===0?!0:f instanceof Set?c([...f],[...p],v,g):!1}e.isMatchWith=i,e.isSetMatch=d})(Ly)),Ly}var EA;function ED(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_X();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Dy)),Dy}var $y={},Uy={},Hy={},kA;function xX(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Hy)),Hy}var zy={},TA;function kD(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(zy)),zy}var Wy={},SA;function TD(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",v="[object ArrayBuffer]",g="[object Object]",_="[object Error]",x="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",O="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",R="[object BigInt64Array]",H="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=f,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=_,e.float32ArrayTag=H,e.float64ArrayTag=D,e.functionTag=p,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=A,e.uint32ArrayTag=S,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=w})(Wy)),Wy}var qy={},CA;function wX(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(qy)),qy}var AA;function SD(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xX(),r=kD(),n=TD(),i=xD(),s=wX();function a(f,p){return o(f,void 0,f,new Map,p)}function o(f,p,v,g=new Map,_=void 0){const x=_==null?void 0:_(f,p,v,g);if(x!==void 0)return x;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const b=new Array(f.length);g.set(f,b);for(let w=0;w<f.length;w++)b[w]=o(f[w],w,v,g,_);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;g.set(f,b);for(const[w,A]of f)b.set(w,o(A,w,v,g,_));return b}if(f instanceof Set){const b=new Set;g.set(f,b);for(const w of f)b.add(o(w,void 0,v,g,_));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,b);for(let w=0;w<f.length;w++)b[w]=o(f[w],w,v,g,_);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,b),c(b,f,v,g,_),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return g.set(f,b),c(b,f,v,g,_),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return g.set(f,b),c(b,f,v,g,_),b}if(f instanceof Error){const b=new f.constructor;return g.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,c(b,f,v,g,_),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return g.set(f,b),c(b,f,v,g,_),b}if(f instanceof Number){const b=new Number(f.valueOf());return g.set(f,b),c(b,f,v,g,_),b}if(f instanceof String){const b=new String(f.valueOf());return g.set(f,b),c(b,f,v,g,_),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return g.set(f,b),c(b,f,v,g,_),b}return f}function c(f,p,v=f,g,_){const x=[...Object.keys(p),...t.getSymbols(p)];for(let b=0;b<x.length;b++){const w=x[b],A=Object.getOwnPropertyDescriptor(f,w);(A==null||A.writable)&&(f[w]=o(p[w],w,v,g,_))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=c})(Uy)),Uy}var NA;function EX(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})($y)),$y}var jA;function kX(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED(),r=EX();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(Ry)),Ry}var Vy={},Gy={},Yy={},OA;function TX(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SD(),r=TD();function n(i,s){return t.cloneDeepWith(i,(a,o,c,d)=>{const f=s==null?void 0:s(a,o,c,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Yy)),Yy}var PA;function SX(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TX();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Gy)),Gy}var Ky={},Xy={},IA;function CD(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xy)),Xy}var Qy={},RA;function CX(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kD();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Qy)),Qy}var DA;function AX(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mD(),r=CD(),n=CX(),i=Jx();function s(a,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=s})(Ky)),Ky}var LA;function NX(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED(),r=Qx(),n=SX(),i=Zx(),s=AX();function a(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(d){const f=i.get(d,o);return f===void 0?s.has(d,o):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=a})(Vy)),Vy}var MA;function jX(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD(),r=bX(),n=kX(),i=NX();function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(Py)),Py}var BA;function OX(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mX(),r=bD(),n=yX(),i=jX();function s(a,o=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(Ty)),Ty}var Jy,FA;function PX(){return FA||(FA=1,Jy=OX().uniqBy),Jy}var IX=PX();const $A=ui(IX);function RX(e,t,r){return t===!0?$A(e,r):typeof t=="function"?$A(e,t):e}var Zy={exports:{}},eb={},tb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function DX(){if(UA)return rb;UA=1;var e=ru();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(p,v){var g=v(),_=n({inst:{value:g,getSnapshot:v}}),x=_[0].inst,b=_[1];return s(function(){x.value=g,x.getSnapshot=v,c(x)&&b({inst:x})},[p,g,v]),i(function(){return c(x)&&b({inst:x}),p(function(){c(x)&&b({inst:x})})},[p]),a(g),g}function c(p){var v=p.getSnapshot;p=p.value;try{var g=v();return!r(p,g)}catch{return!0}}function d(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return rb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,rb}var HA;function LX(){return HA||(HA=1,tb.exports=DX()),tb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function MX(){if(zA)return eb;zA=1;var e=ru(),t=LX();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return eb.useSyncExternalStoreWithSelector=function(d,f,p,v,g){var _=s(null);if(_.current===null){var x={hasValue:!1,value:null};_.current=x}else x=_.current;_=o(function(){function w(N){if(!A){if(A=!0,S=N,N=v(N),g!==void 0&&x.hasValue){var P=x.value;if(g(P,N))return O=P}return O=N}if(P=O,n(S,N))return P;var R=v(N);return g!==void 0&&g(P,R)?(S=N,P):(S=N,O=R)}var A=!1,S,O,j=p===void 0?null:p;return[function(){return w(f())},j===null?void 0:function(){return w(j())}]},[f,p,v,g]);var b=i(d,_[0],_[1]);return a(function(){x.hasValue=!0,x.value=b},[b]),c(b),b},eb}var WA;function BX(){return WA||(WA=1,Zy.exports=MX()),Zy.exports}var FX=BX(),rw=E.createContext(null),$X=e=>e,ur=()=>{var e=E.useContext(rw);return e?e.store.dispatch:$X},op=()=>{},UX=()=>op,HX=(e,t)=>e===t;function Ve(e){var t=E.useContext(rw);return FX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:UX,t?t.store.getState:op,t?t.store.getState:op,t?e:op,HX)}function zX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function WX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function qX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var qA=e=>Array.isArray(e)?e:[e];function VX(e){const t=Array.isArray(e[0])?e[0]:e;return qX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function GX(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var YX=class{constructor(e){this.value=e}deref(){return this.value}},KX=typeof WeakRef<"u"?WeakRef:YX,XX=0,VA=1;function Lf(){return{s:XX,v:void 0,o:null,p:null}}function AD(e,t={}){let r=Lf();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var p;let o=r;const{length:c}=arguments;for(let v=0,g=c;v<g;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const b=x.get(_);b===void 0?(o=Lf(),x.set(_,o)):o=b}else{let x=o.p;x===null&&(o.p=x=new Map);const b=x.get(_);b===void 0?(o=Lf(),x.set(_,o)):o=b}}const d=o;let f;if(o.s===VA)f=o.v;else if(f=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,f)&&(f=v,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new KX(f):f}return d.s=VA,d.v=f,f}return a.clearCache=()=>{r=Lf(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function QX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,o,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),zX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:g=AD,argsMemoizeOptions:_=[]}=f,x=qA(v),b=qA(_),w=VX(i),A=p(function(){return s++,d.apply(null,arguments)},...x),S=g(function(){a++;const j=GX(w,arguments);return o=A.apply(null,j),o},...b);return Object.assign(S,{resultFunc:d,memoizedResultFunc:A,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var le=QX(AD),JX=Object.assign((e,t=le)=>{WX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,o,c)=>(a[r[c]]=o,a),{}))},{withTypes:()=>JX}),nb={},ib={},sb={},GA;function ZX(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),o=t(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=r})(sb)),sb}var ab={},ob={},YA;function ND(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ob)),ob}var KA;function eQ(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ND(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(ab)),ab}var XA;function tQ(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZX(),r=eQ(),n=Jx();function i(s,a,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const d=(g,_)=>{let x=g;for(let b=0;b<_.length&&x!=null;++b)x=x[_[b]];return x},f=(g,_)=>_==null||g==null?_:typeof g=="object"&&"key"in g?Object.hasOwn(_,g.key)?_[g.key]:d(_,g.path):typeof g=="function"?g(_):Array.isArray(g)?d(_,g):typeof _=="object"?_[g]:_,p=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:p.map(_=>f(_,g))})).slice().sort((g,_)=>{for(let x=0;x<p.length;x++){const b=t.compareValues(g.criteria[x],_.criteria[x],o[x]);if(b!==0)return b}return 0}).map(g=>g.original)}e.orderBy=i})(ib)),ib}var lb={},QA;function rQ(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(o,c)=>{for(let d=0;d<o.length;d++){const f=o[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(r,0),i}e.flatten=t})(lb)),lb}var ub={},JA;function jD(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CD(),r=tw(),n=_D(),i=wD();function s(a,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],a):!1}e.isIterateeCall=s})(ub)),ub}var ZA;function nQ(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tQ(),r=rQ(),n=jD();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(nb)),nb}var cb,eN;function iQ(){return eN||(eN=1,cb=nQ().sortBy),cb}var sQ=iQ();const Jm=ui(sQ);var OD=e=>e.legend.settings,aQ=e=>e.legend.size,oQ=e=>e.legend.payload;le([oQ,OD],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Jm(n,r):n});var Mf=1;function lQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=E.useState({height:0,left:0,top:0,width:0}),n=E.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Mf||Math.abs(a.left-t.left)>Mf||Math.abs(a.top-t.top)>Mf||Math.abs(a.width-t.width)>Mf)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Cr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",tN=uQ,db=()=>Math.random().toString(36).substring(7).split("").join("."),cQ={INIT:`@@redux/INIT${db()}`,REPLACE:`@@redux/REPLACE${db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${db()}`},qp=cQ;function nw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function PD(e,t,r){if(typeof e!="function")throw new Error(Cr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Cr(1));return r(PD)(e,t)}let n=e,i=t,s=new Map,a=s,o=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((b,w)=>{a.set(w,b)}))}function f(){if(c)throw new Error(Cr(3));return i}function p(b){if(typeof b!="function")throw new Error(Cr(4));if(c)throw new Error(Cr(5));let w=!0;d();const A=o++;return a.set(A,b),function(){if(w){if(c)throw new Error(Cr(6));w=!1,d(),a.delete(A),s=null}}}function v(b){if(!nw(b))throw new Error(Cr(7));if(typeof b.type>"u")throw new Error(Cr(8));if(typeof b.type!="string")throw new Error(Cr(17));if(c)throw new Error(Cr(9));try{c=!0,i=n(i,b)}finally{c=!1}return(s=a).forEach(A=>{A()}),b}function g(b){if(typeof b!="function")throw new Error(Cr(10));n=b,v({type:qp.REPLACE})}function _(){const b=p;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Cr(11));function A(){const O=w;O.next&&O.next(f())}return A(),{unsubscribe:b(A)}},[tN](){return this}}}return v({type:qp.INIT}),{dispatch:v,subscribe:p,getState:f,replaceReducer:g,[tN]:_}}function dQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:qp.INIT})>"u")throw new Error(Cr(12));if(typeof r(void 0,{type:qp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function ID(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{dQ(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let c=!1;const d={};for(let f=0;f<n.length;f++){const p=n[f],v=r[p],g=a[p],_=v(g,o);if(typeof _>"u")throw o&&o.type,new Error(Cr(14));d[p]=_,c=c||_!==g}return c=c||n.length!==Object.keys(a).length,c?d:a}}function Vp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function hQ(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Cr(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},o=e.map(c=>c(a));return s=Vp(...o)(i.dispatch),{...i,dispatch:s}}}function RD(e){return nw(e)&&"type"in e&&typeof e.type=="string"}var DD=Symbol.for("immer-nothing"),rN=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function Ci(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yd=Object.getPrototypeOf;function Ao(e){return!!e&&!!e[$n]}function Os(e){var t;return e?LD(e)||Array.isArray(e)||!!e[rN]||!!((t=e.constructor)!=null&&t[rN])||Hd(e)||eg(e):!1}var fQ=Object.prototype.constructor.toString(),nN=new WeakMap;function LD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=nN.get(r);return n===void 0&&(n=Function.toString.call(r),nN.set(r,n)),n===fQ}function Gp(e,t,r=!0){Zm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Zm(e){const t=e[$n];return t?t.type_:Array.isArray(e)?1:Hd(e)?2:eg(e)?3:0}function s_(e,t){return Zm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MD(e,t,r){const n=Zm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function pQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hd(e){return e instanceof Map}function eg(e){return e instanceof Set}function lo(e){return e.copy_||e.base_}function a_(e,t){if(Hd(e))return new Map(e);if(eg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=LD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$n];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(yd(e),n)}else{const n=yd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function iw(e,t=!1){return tg(e)||Ao(e)||!Os(e)||(Zm(e)>1&&Object.defineProperties(e,{set:Bf,add:Bf,clear:Bf,delete:Bf}),Object.freeze(e),t&&Object.values(e).forEach(r=>iw(r,!0))),e}function mQ(){Ci(2)}var Bf={value:mQ};function tg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var gQ={};function No(e){const t=gQ[e];return t||Ci(0,e),t}var bd;function BD(){return bd}function vQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iN(e,t){t&&(No("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o_(e){l_(e),e.drafts_.forEach(yQ),e.drafts_=null}function l_(e){e===bd&&(bd=e.parent_)}function sN(e){return bd=vQ(bd,e)}function yQ(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$n].modified_&&(o_(t),Ci(4)),Os(e)&&(e=Yp(t,e),t.parent_||Kp(t,e)),t.patches_&&No("Patches").generateReplacementPatches_(r[$n].base_,e,t.patches_,t.inversePatches_)):e=Yp(t,r,[]),o_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DD?e:void 0}function Yp(e,t,r){if(tg(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[$n];if(!i)return Gp(t,(s,a)=>oN(e,i,t,s,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Kp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),Gp(a,(c,d)=>oN(e,i,s,c,d,r,o),n),Kp(e,s,!1),r&&e.patches_&&No("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function oN(e,t,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=tg(i);if(!(o&&!a)){if(Ao(i)){const c=s&&t&&t.type_!==3&&!s_(t.assigned_,n)?s.concat(n):void 0,d=Yp(e,i,c);if(MD(r,n,d),Ao(d))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Os(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Yp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Hd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Kp(e,i)}}}function Kp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iw(t,r)}function bQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:BD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=sw;r&&(i=[n],s=_d);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var sw={get(e,t){if(t===$n)return e;const r=lo(e);if(!s_(r,t))return _Q(e,r,t);const n=r[t];return e.finalized_||!Os(n)?n:n===hb(e.base_,t)?(fb(e),e.copy_[t]=c_(n,e)):n},has(e,t){return t in lo(e)},ownKeys(e){return Reflect.ownKeys(lo(e))},set(e,t,r){const n=FD(lo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=hb(lo(e),t),s=i==null?void 0:i[$n];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(pQ(r,i)&&(r!==void 0||s_(e.base_,t)))return!0;fb(e),u_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fb(e),u_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ci(11)},getPrototypeOf(e){return yd(e.base_)},setPrototypeOf(){Ci(12)}},_d={};Gp(sw,(e,t)=>{_d[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_d.deleteProperty=function(e,t){return _d.set.call(this,e,t,void 0)};_d.set=function(e,t,r){return sw.set.call(this,e[0],t,r,e[0])};function hb(e,t){const r=e[$n];return(r?lo(r):e)[t]}function _Q(e,t,r){var i;const n=FD(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function FD(e,t){if(!(t in e))return;let r=yd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yd(r)}}function u_(e){e.modified_||(e.modified_=!0,e.parent_&&u_(e.parent_))}function fb(e){e.copy_||(e.copy_=a_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...d){return a.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&Ci(6),n!==void 0&&typeof n!="function"&&Ci(7);let i;if(Os(t)){const s=sN(this),a=c_(t,void 0);let o=!0;try{i=r(a),o=!1}finally{o?o_(s):l_(s)}return iN(s,n),aN(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===DD&&(i=void 0),this.autoFreeze_&&iw(i,!0),n){const s=[],a=[];No("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else Ci(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,c=>t(c,...o));let n,i;return[this.produce(t,r,(a,o)=>{n=a,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Os(e)||Ci(8),Ao(e)&&(e=Ss(e));const t=sN(this),r=c_(e,void 0);return r[$n].isManual_=!0,l_(t),r}finishDraft(e,t){const r=e&&e[$n];(!r||!r.isManual_)&&Ci(9);const{scope_:n}=r;return iN(n,t),aN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=No("Patches").applyPatches_;return Ao(e)?n(e,t):this.produce(e,i=>n(i,t))}};function c_(e,t){const r=Hd(e)?No("MapSet").proxyMap_(e,t):eg(e)?No("MapSet").proxySet_(e,t):bQ(e,t);return(t?t.scope_:BD()).drafts_.push(r),r}function Ss(e){return Ao(e)||Ci(10,e),$D(e)}function $D(e){if(!Os(e)||tg(e))return e;const t=e[$n];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=a_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=a_(e,!0);return Gp(r,(i,s)=>{MD(r,i,$D(s))},n),t&&(t.finalized_=!1),r}var d_=new xQ,UD=d_.produce,wQ=d_.setUseStrictIteration.bind(d_);function HD(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var EQ=HD(),kQ=HD,TQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vp:Vp.apply(null,arguments)};function oi(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RD(n)&&n.type===e,r}var zD=class Hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hc.prototype)}static get[Symbol.species](){return Hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hc(...t[0].concat(this)):new Hc(...t.concat(this))}};function lN(e){return Os(e)?UD(e,()=>{}):e}function Ff(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function SQ(e){return typeof e=="boolean"}var CQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new zD;return r&&(SQ(r)?a.push(EQ):a.push(kQ(r.extraArgument))),a},WD="RTK_autoBatch",Jr=()=>e=>({payload:e,meta:{[WD]:!0}}),uN=e=>t=>{setTimeout(t,e)},qD=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uN(10):e.type==="callback"?e.queueNotification:uN(e.timeout),d=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),v=n.subscribe(p);return o.add(f),()=>{v(),o.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[WD]),s=!i,s&&(a||(a=!0,c(d))),n.dispatch(f)}finally{i=!0}}})},AQ=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new zD(e);return n&&i.push(qD(typeof n=="object"?n:void 0)),i};function NQ(e){const t=CQ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(nw(r))o=ID(r);else throw new Error(Fn(1));let c;typeof n=="function"?c=n(t):c=t();let d=Vp;i&&(d=TQ({trace:!1,...typeof i=="object"&&i}));const f=hQ(...c),p=AQ(f);let v=typeof a=="function"?a(p):p();const g=d(...v);return PD(o,s,g)}function VD(e){const t={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Fn(28));if(o in t)throw new Error(Fn(29));return t[o]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}wQ(!1);function jQ(e){return typeof e=="function"}function OQ(e,t){let[r,n,i]=VD(t),s;if(jQ(e))s=()=>lN(e());else{const o=lN(e);s=()=>o}function a(o=s(),c){let d=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Ao(f)){const g=p(f,c);return g===void 0?f:g}else{if(Os(f))return UD(f,v=>p(v,c));{const v=p(f,c);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},o)}return a.getInitialState=s,a}var PQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",IQ=(e=21)=>{let t="",r=e;for(;r--;)t+=PQ[Math.random()*64|0];return t},RQ=Symbol.for("rtk-slice-createasyncthunk");function DQ(e,t){return`${e}/${t}`}function LQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RQ];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Fn(11));const o=(typeof i.reducers=="function"?i.reducers(BQ()):i.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,j){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(Fn(12));if(N in d.sliceCaseReducersByType)throw new Error(Fn(13));return d.sliceCaseReducersByType[N]=j,f},addMatcher(O,j){return d.sliceMatchers.push({matcher:O,reducer:j}),f},exposeAction(O,j){return d.actionCreators[O]=j,f},exposeCaseReducer(O,j){return d.sliceCaseReducersByName[O]=j,f}};c.forEach(O=>{const j=o[O],N={reducerName:O,type:DQ(s,O),createNotation:typeof i.reducers=="function"};$Q(j)?HQ(N,j,f,t):FQ(N,j,f)});function p(){const[O={},j=[],N=void 0]=typeof i.extraReducers=="function"?VD(i.extraReducers):[i.extraReducers],P={...O,...d.sliceCaseReducersByType};return OQ(i.initialState,R=>{for(let H in P)R.addCase(H,P[H]);for(let H of d.sliceMatchers)R.addMatcher(H.matcher,H.reducer);for(let H of j)R.addMatcher(H.matcher,H.reducer);N&&R.addDefaultCase(N)})}const v=O=>O,g=new Map,_=new WeakMap;let x;function b(O,j){return x||(x=p()),x(O,j)}function w(){return x||(x=p()),x.getInitialState()}function A(O,j=!1){function N(R){let H=R[O];return typeof H>"u"&&j&&(H=Ff(_,N,w)),H}function P(R=v){const H=Ff(g,j,()=>new WeakMap);return Ff(H,R,()=>{const D={};for(const[M,F]of Object.entries(i.selectors??{}))D[M]=MQ(F,R,()=>Ff(_,R,w),j);return D})}return{reducerPath:O,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const S={name:s,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...A(a),injectInto(O,{reducerPath:j,...N}={}){const P=j??a;return O.inject({reducerPath:P,reducer:b},N),{...S,...A(P,!0)}}};return S}}function MQ(e,t,r,n){function i(s,...a){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...a)}return i.unwrapped=e,i}var Un=LQ();function BQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function FQ({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!UQ(n))throw new Error(Fn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?oi(e,a):oi(e))}function $Q(e){return e._reducerDefinitionType==="asyncThunk"}function UQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function HQ({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Fn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:c,settled:d,options:f}=r,p=i(e,s,f);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),o&&n.addCase(p.pending,o),c&&n.addCase(p.rejected,c),d&&n.addMatcher(p.settled,d),n.exposeCaseReducer(t,{fulfilled:a||$f,pending:o||$f,rejected:c||$f,settled:d||$f})}function $f(){}var zQ="task",GD="listener",YD="completed",aw="cancelled",WQ=`task-${aw}`,qQ=`task-${YD}`,h_=`${GD}-${aw}`,VQ=`${GD}-${YD}`,rg=class{constructor(e){vv(this,"name","TaskAbortError");vv(this,"message");this.code=e,this.message=`${zQ} ${aw} (reason: ${e})`}},ow=(e,t)=>{if(typeof e!="function")throw new TypeError(Fn(32))},Xp=()=>{},KD=(e,t=Xp)=>(e.catch(t),e),XD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},_o=e=>{if(e.aborted){const{reason:t}=e;throw new rg(t)}};function QD(e,t){let r=Xp;return new Promise((n,i)=>{const s=()=>i(new rg(e.reason));if(e.aborted){s();return}r=XD(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Xp})}var GQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rg?"cancelled":"rejected",error:r}}finally{t==null||t()}},Qp=e=>t=>KD(QD(e,t).then(r=>(_o(e),r))),JD=e=>{const t=Qp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ml}=Object,cN={},ng="listenerMiddleware",YQ=(e,t)=>{const r=n=>XD(e,()=>bo(n,e.reason));return(n,i)=>{ow(n);const s=new AbortController;r(s);const a=GQ(async()=>{_o(e),_o(s.signal);const o=await n({pause:Qp(s.signal),delay:JD(s.signal),signal:s.signal});return _o(s.signal),o},()=>bo(s,qQ));return i!=null&&i.autoJoin&&t.push(a.catch(Xp)),{result:Qp(e)(a),cancel(){bo(s,WQ)}}}},KQ=(e,t)=>{const r=async(n,i)=>{_o(t);let s=()=>{};const o=[new Promise((c,d)=>{let f=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await QD(t,Promise.race(o));return _o(t),c}finally{s()}};return(n,i)=>KD(r(n,i))},ZD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=oi(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Fn(21));return ow(s),{predicate:i,type:t,effect:s}},eL=Ml(e=>{const{type:t,predicate:r,effect:n}=ZD(e);return{id:IQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Fn(22))}}},{withTypes:()=>eL}),dN=(e,t)=>{const{type:r,effect:n,predicate:i}=ZD(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},f_=e=>{e.pending.forEach(t=>{bo(t,h_)})},XQ=(e,t)=>()=>{for(const r of t.keys())f_(r);e.clear()},hN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tL=Ml(oi(`${ng}/add`),{withTypes:()=>tL}),QQ=oi(`${ng}/removeAll`),rL=Ml(oi(`${ng}/remove`),{withTypes:()=>rL}),JQ=(...e)=>{console.error(`${ng}/error`,...e)},zd=(e={})=>{const t=new Map,r=new Map,n=g=>{const _=r.get(g)??0;r.set(g,_+1)},i=g=>{const _=r.get(g)??1;_===1?r.delete(g):r.set(g,_-1)},{extra:s,onError:a=JQ}=e;ow(a);const o=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),_=>{g.unsubscribe(),_!=null&&_.cancelActive&&f_(g)}),c=g=>{const _=dN(t,g)??eL(g);return o(_)};Ml(c,{withTypes:()=>c});const d=g=>{const _=dN(t,g);return _&&(_.unsubscribe(),g.cancelActive&&f_(_)),!!_};Ml(d,{withTypes:()=>d});const f=async(g,_,x,b)=>{const w=new AbortController,A=KQ(c,w.signal),S=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(_,Ml({},x,{getOriginalState:b,condition:(O,j)=>A(O,j).then(Boolean),take:A,delay:JD(w.signal),pause:Qp(w.signal),extra:s,signal:w.signal,fork:YQ(w.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,j,N)=>{O!==w&&(bo(O,h_),N.delete(O))})},cancel:()=>{bo(w,h_),g.pending.delete(w)},throwIfCancelled:()=>{_o(w.signal)}})))}catch(O){O instanceof rg||hN(a,O,{raisedBy:"effect"})}finally{await Promise.all(S),bo(w,VQ),i(g),g.pending.delete(w)}},p=XQ(t,r);return{middleware:g=>_=>x=>{if(!RD(x))return _(x);if(tL.match(x))return c(x.payload);if(QQ.match(x)){p();return}if(rL.match(x))return d(x.payload);let b=g.getState();const w=()=>{if(b===cN)throw new Error(Fn(23));return b};let A;try{if(A=_(x),t.size>0){const S=g.getState(),O=Array.from(t.values());for(const j of O){let N=!1;try{N=j.predicate(x,S,b)}catch(P){N=!1,hN(a,P,{raisedBy:"predicate"})}N&&f(j,x,g,w)}}}finally{b=cN}return A},startListening:c,stopListening:d,clearListeners:p}};function Fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nL=Un({name:"chartLayout",initialState:ZQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:eJ,setLayout:tJ,setChartSize:rJ,setScale:nJ}=nL.actions,iJ=nL.reducer;function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jp=Math.PI/180,lJ=e=>e*180/Math.PI,Or=(e,t,r,n)=>({x:e+Math.cos(-Jp*n)*r,y:t+Math.sin(-Jp*n)*r}),uJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cJ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},dJ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=cJ({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,c=Math.acos(o);return n>s&&(c=2*Math.PI-c),{radius:a,angle:lJ(c),angleInRadian:c}},hJ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},fJ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},pJ=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=dJ({x:r,y:n},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:c,endAngle:d}=hJ(t),f=s,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?pN(pN({},t),{},{radius:i,angle:fJ(f,t)}):null};function iL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){mJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t,r){return wr(e)||wr(t)?r:ts(t)?Vl(e,t,r):typeof t=="function"?t(e):r}var yJ=(e,t,r,n,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,f=r[c].coordinate,p=c>=o-1?r[0].coordinate:r[c+1].coordinate,v=void 0;if(_n(f-d)!==_n(p-f)){var g=[];if(_n(p-f)===_n(i[1]-i[0])){v=p;var _=f+i[1]-i[0];g[0]=Math.min(_,(_+d)/2),g[1]=Math.max(_,(_+d)/2)}else{v=d;var x=p+i[1]-i[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){({index:a}=r[c]);break}}else{var w=Math.min(d,p),A=Math.max(d,p);if(e>(w+f)/2&&e<=(A+f)/2){({index:a}=r[c]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:a}=t[S]);break}}return a},bJ=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&He(e[s]))return ei(ei({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&He(e[a]))return ei(ei({},e),{},{[a]:e[a]+(i||0)})}return e},Do=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sL=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(r),a},aL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:v,axisType:g}=e;if(!a)return null;var _=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/_:0;if(x=g==="angleAxis"&&s&&s.length>=2?_n(s[0]-s[1])*2*x:x,p||v){var b=(p||v||[]).map((w,A)=>{var S=n?n.indexOf(w):w;return{coordinate:a(S)+x,value:w,offset:x,index:A}});return b.filter(w=>!ai(w.coordinate))}return c&&d?d.map((w,A)=>({coordinate:a(w)+x,value:w,index:A,offset:x})):a.ticks&&f!=null?a.ticks(f).map((w,A)=>({coordinate:a(w)+x,value:w,offset:x,index:A})):a.domain().map((w,A)=>({coordinate:a(w)+x,value:n?n[w]:w,index:A,offset:x}))},gN=1e-4,_J=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-gN,s=Math.max(n[0],n[1])+gN,a=e(t[0]),o=e(t[r-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[r-1]])}},xJ=(e,t)=>{if(!t||t.length!==2||!He(t[0])||!He(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!He(e[0])||e[0]<r)&&(i[0]=r),(!He(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},wJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var o=ai(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1])}},EJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=ai(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},kJ={sign:wJ,expand:YK,none:ql,silhouette:KK,wiggle:XK,positive:EJ},TJ=(e,t,r)=>{var n=kJ[r],i=GK().keys(t).value((s,a)=>+rn(s,a,0)).order(n_).offset(n);return i(e)};function SJ(e){return e==null?void 0:String(e)}var vN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var o=rn(s,t.dataKey,t.scale.domain()[a]);return wr(o)?null:t.scale(o)-i/2+n},CJ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},AJ=e=>{var t=e.flat(2).filter(He);return[Math.min(...t),Math.max(...t)]},NJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jJ=(e,t,r)=>{if(e!=null)return NJ(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((c,d)=>{var f=iL(d,t,r),p=AJ(f);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},yN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lw=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Jm(t,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var c=i[a],d=i[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function _N(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return ei(ei({},t),{},{dataKey:r,payload:n,value:i,name:s})}function oL(e,t){if(e)return String(e);if(typeof t=="string")return t}function OJ(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?pJ({x:e,y:t},n):null}var PJ=(e,t,r,n)=>{var i=t.find(d=>d&&d.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return ei(ei(ei({},n),Or(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:c}=n;return ei(ei(ei({},n),Or(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},IJ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ms=e=>e.layout.width,Bs=e=>e.layout.height,RJ=e=>e.layout.scale,lL=e=>e.layout.margin,ig=le(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sg=le(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DJ="data-recharts-item-index",LJ="data-recharts-item-data-key",Wd=60;function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){MJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJ(e,t,r){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $J=e=>e.brush.height;function UJ(e){var t=sg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Wd;return r+i}return r},0)}function HJ(e){var t=sg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Wd;return r+i}return r},0)}function zJ(e){var t=ig(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function WJ(e){var t=ig(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Er=le([Ms,Bs,lL,$J,UJ,HJ,zJ,WJ,OD,aQ],(e,t,r,n,i,s,a,o,c,d)=>{var f={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+a,bottom:(r.bottom||0)+o},v=Uf(Uf({},p),f),g=v.bottom;v.bottom+=n,v=bJ(v,c,d);var _=e-v.left-v.right,x=t-v.top-v.bottom;return Uf(Uf({brushBottom:g},v),{},{width:Math.max(_,0),height:Math.max(x,0)})}),qJ=le(Er,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uw=le(Ms,Bs,(e,t)=>({x:0,y:0,width:e,height:t})),VJ=E.createContext(null),Hn=()=>E.useContext(VJ)!=null,ag=e=>e.brush,og=le([ag,Er,lL],(e,t,r)=>({height:e.height,x:He(e.x)?e.x:t.left,y:He(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:He(e.width)?e.width:t.width})),pb={},mb={},gb={},wN;function GJ(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,o=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},p=()=>{d&&f(),x()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{_(),a=void 0,o=null},b=()=>{f()},w=function(...A){if(i!=null&&i.aborted)return;a=this,o=A;const S=v==null;g(),c&&S&&f()};return w.schedule=g,w.cancel=x,w.flush=b,i==null||i.addEventListener("abort",x,{once:!0}),w}e.debounce=t})(gb)),gb}var EN;function YJ(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GJ();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),o&&(d[1]="trailing");let f,p=null;const v=t.debounce(function(...x){f=n.apply(this,x),p=null},i,{edges:d}),g=function(...x){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=n.apply(this,x),p=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,x),f)},_=()=>(v.flush(),f);return g.cancel=v.cancel,g.flush=_,g}e.debounce=r})(mb)),mb}var kN;function KJ(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YJ();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:o})}e.throttle=r})(pb)),pb}var vb,TN;function XJ(){return TN||(TN=1,vb=KJ().throttle),vb}var QJ=XJ();const JJ=ui(QJ);var Zp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},uL=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=js(n)?e:Number(n),c=js(i)?t:Number(i);return s&&s>0&&(o?c=o/s:c&&(o=c*s),a&&c>a&&(c=a)),{calculatedWidth:o,calculatedHeight:c}},ZJ={width:0,height:0,overflow:"visible"},eZ={width:0,overflowX:"visible"},tZ={height:0,overflowY:"visible"},rZ={},nZ=e=>{var{width:t,height:r}=e,n=js(t),i=js(r);return n&&i?ZJ:n?eZ:i?tZ:rZ};function iZ(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function Wr(e){return Number.isFinite(e)}function Gl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cL=E.createContext({width:-1,height:-1});function dL(e){var{children:t,width:r,height:n}=e,i=E.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:E.createElement(cL.Provider,{value:i},t)}var cw=()=>E.useContext(cL),lZ=E.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:c,children:d,debounce:f=0,id:p,className:v,onResize:g,style:_={}}=e,x=E.useRef(null),b=E.useRef();b.current=g,E.useImperativeHandle(t,()=>x.current);var[w,A]=E.useState({containerWidth:n.width,containerHeight:n.height}),S=E.useCallback((R,H)=>{A(D=>{var M=Math.round(R),F=Math.round(H);return D.containerWidth===M&&D.containerHeight===F?D:{containerWidth:M,containerHeight:F}})},[]);E.useEffect(()=>{var R=F=>{var Y,{width:G,height:W}=F[0].contentRect;S(G,W),(Y=b.current)===null||Y===void 0||Y.call(b,G,W)};f>0&&(R=JJ(R,f,{trailing:!0,leading:!1}));var H=new ResizeObserver(R),{width:D,height:M}=x.current.getBoundingClientRect();return S(D,M),H.observe(x.current),()=>{H.disconnect()}},[S,f]);var{containerWidth:O,containerHeight:j}=w;Zp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:P}=uL(O,j,{width:i,height:s,aspect:r,maxHeight:c});return Zp(N>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,s,a,o,r),E.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",v),style:CN(CN({},_),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:c}),ref:x},E.createElement("div",{style:nZ({width:i,height:s})},E.createElement(dL,{width:N,height:P},d)))}),uZ=E.forwardRef((e,t)=>{var r=cw();if(Gl(r.width)&&Gl(r.height))return e.children;var{width:n,height:i}=iZ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=uL(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return He(s)&&He(a)?E.createElement(dL,{width:s,height:a},e.children):E.createElement(lZ,p_({},e,{width:n,height:i,ref:t}))}),lg=()=>{var e,t=Hn(),r=Ve(qJ),n=Ve(og),i=(e=Ve(ag))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},cZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hL=()=>{var e;return(e=Ve(Er))!==null&&e!==void 0?e:cZ},fL=()=>Ve(Ms),pL=()=>Ve(Bs),yt=e=>e.layout.layoutType,dw=()=>Ve(yt),ug=e=>{var t=ur(),r=Hn(),{width:n,height:i}=e,s=cw(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),E.useEffect(()=>{!r&&Gl(a)&&Gl(o)&&t(rJ({width:a,height:o}))},[t,r,a,o]),null},dZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mL=Un({name:"legend",initialState:dZ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Jr()},removeLegendPayload:{reducer(e,t){var r=Ss(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Jr()}}}),{setLegendSize:Sve,setLegendSettings:Cve,addLegendPayload:hZ,removeLegendPayload:fZ}=mL.actions,pZ=mL.reducer;function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m_.apply(null,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e){return Array.isArray(e)&&ts(e[0])&&ts(e[1])?e.join(" ~ "):e}var bZ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:v=!1}=e,g=()=>{if(s&&s.length){var j={padding:0,margin:0},N=(o?Jm(s,o):s).map((P,R)=>{if(P.type==="none")return null;var H=P.formatter||a||yZ,{value:D,name:M}=P,F=D,Y=M;if(H){var G=H(D,M,P,R,s);if(Array.isArray(G))[F,Y]=G;else if(G!=null)F=G;else return null}var W=yb({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:W},ts(Y)?E.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,ts(Y)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},F),E.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},_=yb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=yb({margin:0},i),b=!wr(f),w=b?f:"",A=It("recharts-default-tooltip",c),S=It("recharts-tooltip-label",d);b&&p&&s!==void 0&&s!==null&&(w=p(f,s));var O=v?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",m_({className:A,style:_},O),E.createElement("p",{className:S,style:x},E.isValidElement(w)?w:"".concat(w)),g())},kc="recharts-tooltip-wrapper",_Z={visibility:"hidden"};function xZ(e){var{coordinate:t,translateX:r,translateY:n}=e;return It(kc,{["".concat(kc,"-right")]:He(r)&&t&&He(t.x)&&r>=t.x,["".concat(kc,"-left")]:He(r)&&t&&He(t.x)&&r<t.x,["".concat(kc,"-bottom")]:He(n)&&t&&He(t.y)&&n>=t.y,["".concat(kc,"-top")]:He(n)&&t&&He(t.y)&&n<t.y})}function NN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(s&&He(s[n]))return s[n];var f=r[n]-o-(i>0?i:0),p=r[n]+i;if(t[n])return a[n]?f:p;var v=c[n];if(v==null)return 0;if(a[n]){var g=f,_=v;return g<_?Math.max(p,v):Math.max(f,v)}if(d==null)return 0;var x=p+o,b=v+d;return x>b?Math.max(f,v):Math.max(p,v)}function wZ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EZ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:c}=e,d,f,p;return a.height>0&&a.width>0&&r?(f=NN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=NN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=wZ({translateX:f,translateY:p,useTranslate3d:o})):d=_Z,{cssProperties:d,cssClasses:xZ({translateX:f,translateY:p,coordinate:r})}}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){g_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_(e,t,r){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SZ extends E.PureComponent{constructor(){super(...arguments),g_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),g_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:v,viewBox:g,wrapperStyle:_,lastBoundingBox:x,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:A,cssProperties:S}=EZ({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:g}),O=w?{}:Hf(Hf({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Hf(Hf({},O),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},_);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:j,ref:b},s)}}var CZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fu={devToolsEnabled:!1,isSsr:CZ()},gL=()=>Ve(e=>e.rootProps.accessibilityLayer);function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){AZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t,r){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IN={curveBasisClosed:LK,curveBasisOpen:MK,curveBasis:DK,curveBumpX:xK,curveBumpY:wK,curveLinearClosed:BK,curveLinear:Xm,curveMonotoneX:FK,curveMonotoneY:$K,curveNatural:UK,curveStep:HK,curveStepAfter:WK,curveStepBefore:zK},zf=e=>Wr(e.x)&&Wr(e.y),Tc=e=>e.x,Sc=e=>e.y,OZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ud(e));return(r==="curveMonotone"||r==="curveBump")&&t?IN["".concat(r).concat(t==="vertical"?"Y":"X")]:IN[r]||Xm},PZ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=OZ(t,i),o=s?r.filter(zf):r,c;if(Array.isArray(n)){var d=s?n.filter(p=>zf(p)):n,f=o.map((p,v)=>PN(PN({},p),{},{base:d[v]}));return i==="vertical"?c=Df().y(Sc).x1(Tc).x0(p=>p.base.x):c=Df().x(Tc).y1(Sc).y0(p=>p.base.y),c.defined(zf).curve(a),c(f)}return i==="vertical"&&He(n)?c=Df().y(Sc).x1(Tc).x0(n):He(n)?c=Df().x(Tc).y1(Sc).y0(n):c=iD().x(Tc).y(Sc),c.defined(zf).curve(a),c(o)},IZ=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?PZ(e):n;return E.createElement("path",v_({},Ns(e),fX(e),{className:It("recharts-curve",t),d:s===null?void 0:s,ref:i}))},RZ=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(null,arguments)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FZ(e,t){if(e==null)return{};var r,n,i=$Z(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UZ=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),HZ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=e,c=FZ(e,RZ),d=DZ({x:t,y:r,top:n,left:i,width:s,height:a},c);return!He(t)||!He(r)||!He(s)||!He(a)||!He(n)||!He(i)?null:E.createElement("path",y_({},si(d),{className:It("recharts-cross",o),d:UZ(t,r,s,a,n,i)}))};function zZ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(e,t){var r=WZ({},e),n=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function YZ(){}function KZ(e){return e!=null}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){XZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),vL=(e,t,r)=>e.map(n=>"".concat(ZZ(n)," ").concat(t,"ms ").concat(r)).join(","),eee=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),xd=(e,t)=>Object.keys(t).reduce((r,n)=>MN(MN({},r),{},{[n]:e(n,t[n])}),{});function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){tee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tee(e,t,r){return(t=ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ree(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var em=(e,t,r)=>e+(t-e)*r,b_=e=>{var{from:t,to:r}=e;return t!==r},yL=(e,t,r)=>{var n=xd((i,s)=>{if(b_(s)){var[a,o]=e(s.from,s.to,s.velocity);return Nr(Nr({},s),{},{from:a,velocity:o})}return s},t);return r<1?xd((i,s)=>b_(s)?Nr(Nr({},s),{},{velocity:em(s.velocity,n[i].velocity,r),from:em(s.from,n[i].from,r)}):s,t):yL(e,n,r-1)};function iee(e,t,r,n,i,s){var a,o=n.reduce((v,g)=>Nr(Nr({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),c=()=>xd((v,g)=>g.from,o),d=()=>!Object.values(o).filter(b_).length,f=null,p=v=>{a||(a=v);var g=v-a,_=g/r.dt;o=yL(r,o,_),i(Nr(Nr(Nr({},e),t),c())),a=v,d()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{f()})}function see(e,t,r,n,i,s,a){var o=null,c=i.reduce((p,v)=>Nr(Nr({},p),{},{[v]:[e[v],t[v]]}),{}),d,f=p=>{d||(d=p);var v=(p-d)/n,g=xd((x,b)=>em(...b,r(v)),c);if(s(Nr(Nr(Nr({},e),t),g)),v<1)o=a.setTimeout(f);else{var _=xd((x,b)=>em(...b,r(1)),c);s(Nr(Nr(Nr({},e),t),_))}};return()=>(o=a.setTimeout(f),()=>{o()})}const aee=(e,t,r,n,i,s)=>{var a=eee(e,t);return r.isStepper===!0?iee(e,t,r,a,i,s):see(e,t,r,n,a,i,s)};var tm=1e-4,bL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_L=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),FN=(e,t)=>r=>{var n=bL(e,t);return _L(n,r)},oee=(e,t)=>r=>{var n=bL(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return _L(i,r)},$N=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else a.length===4&&([t,n,r,i]=a);var d=FN(t,r),f=FN(n,i),p=oee(t,r),v=_=>_>1?1:_<0?0:_,g=_=>{for(var x=_>1?1:_,b=x,w=0;w<8;++w){var A=d(b)-x,S=p(b);if(Math.abs(A-x)<tm||S<tm)return f(b);b=v(b-A/S)}return f(b)};return g.isStepper=!1,g},lee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,o,c)=>{var d=-(a-o)*r,f=c*n,p=c+(d-f)*i/1e3,v=c*i/1e3+a;return Math.abs(v-o)<tm&&Math.abs(p)<tm?[o,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},uee=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $N(e);case"spring":return lee();default:if(e.split("(")[0]==="cubic-bezier")return $N(e)}return typeof e=="function"?e:null};function cee(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[c,...d]=o;if(typeof c=="number"){i=e.setTimeout(s.bind(null,d),c);return}s(c),i=e.setTimeout(s.bind(null,d));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class dee{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function hee(){return cee(new dee)}var fee=E.createContext(hee);function pee(e,t){var r=E.useContext(fee);return E.useMemo(()=>t??r(e),[e,t,r])}var mee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UN={t:0},bb={t:1};function hw(e){var t=di(e,mee),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:c,children:d}=t,f=pee(t.animationId,t.animationManager),[p,v]=E.useState(r?UN:bb),g=E.useRef(null);return E.useEffect(()=>{r||v(bb)},[r]),E.useEffect(()=>{if(!r||!n)return YZ;var _=aee(UN,bb,uee(s),i,v,f.getTimeoutController()),x=()=>{g.current=_()};return f.start([c,a,x,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,c,o,f]),d(p.t)}function fw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=E.useRef(vd(t)),n=E.useRef(e);return n.current!==e&&(r.current=vd(t),n.current=e),r.current}var gee=["radius"],vee=["radius"];function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yee(e,t,r){return(t=bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(null,arguments)}function WN(e,t){if(e==null)return{};var r,n,i=xee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=i[p]>s?s:i[p];d="M".concat(e,",").concat(t+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+o*f[0],",").concat(t)),d+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*f[1])),d+="L ".concat(e+r,",").concat(t+n-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-o*f[2],",").concat(t+n)),d+="L ".concat(e+o*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(t+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+o*g,",").concat(t,`
            L `).concat(e+r-o*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*g,`
            L `).concat(e+r,",").concat(t+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-o*g,",").concat(t+n,`
            L `).concat(e+o*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*g," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},wee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xL=e=>{var t=di(e,wee),r=E.useRef(null),[n,i]=E.useState(-1);E.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var te=r.current.getTotalLength();te&&i(te)}catch{}},[]);var{x:s,y:a,width:o,height:c,radius:d,className:f}=t,{animationEasing:p,animationDuration:v,animationBegin:g,isAnimationActive:_,isUpdateAnimationActive:x}=t,b=E.useRef(o),w=E.useRef(c),A=E.useRef(s),S=E.useRef(a),O=E.useMemo(()=>({x:s,y:a,width:o,height:c,radius:d}),[s,a,o,c,d]),j=fw(O,"rectangle-");if(s!==+s||a!==+a||o!==+o||c!==+c||o===0||c===0)return null;var N=It("recharts-rectangle",f);if(!x){var P=si(t),{radius:R}=P,H=WN(P,gee);return E.createElement("path",rm({},H,{radius:typeof d=="number"?d:void 0,className:N,d:qN(s,a,o,c,d)}))}var D=b.current,M=w.current,F=A.current,Y=S.current,G="0px ".concat(n===-1?1:n,"px"),W="".concat(n,"px 0px"),Q=vL(["strokeDasharray"],v,typeof p=="string"?p:void 0);return E.createElement(hw,{animationId:j,key:j,canBegin:n>0,duration:v,easing:p,isActive:x,begin:g},te=>{var ne=Qr(D,o,te),oe=Qr(M,c,te),L=Qr(F,s,te),V=Qr(Y,a,te);r.current&&(b.current=ne,w.current=oe,A.current=L,S.current=V);var ie;_?te>0?ie={transition:Q,strokeDasharray:W}:ie={strokeDasharray:G}:ie={strokeDasharray:W};var $=si(t),{radius:Ee}=$,ke=WN($,vee);return E.createElement("path",rm({},ke,{radius:typeof d=="number"?d:void 0,className:N,d:qN(L,V,ne,oe,d),ref:r,style:zN(zN({},ie),t.style)}))})};function wL(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Or(t,r,n,i),o=Or(t,r,n,s);return{points:[a,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(null,arguments)}var Eee=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wf=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:c}=e,d=o*(a?1:-1)+n,f=Math.asin(o/d)/Jp,p=c?i:i+s*f,v=Or(t,r,d,p),g=Or(t,r,n,p),_=c?i-s*f:i,x=Or(t,r,d*Math.cos(f*Jp),_);return{center:v,circleTangency:g,lineTangency:x,theta:f}},EL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,o=Eee(s,a),c=s+o,d=Or(t,r,i,s),f=Or(t,r,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var v=Or(t,r,n,s),g=Or(t,r,n,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},kee=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:c,endAngle:d}=e,f=_n(d-c),{circleTangency:p,lineTangency:v,theta:g}=Wf({cx:t,cy:r,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:_,lineTangency:x,theta:b}=Wf({cx:t,cy:r,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(c-d):Math.abs(c-d)-g-b;if(w<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EL({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:d});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:O,theta:j}=Wf({cx:t,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:N,lineTangency:P,theta:R}=Wf({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),H=o?Math.abs(c-d):Math.abs(c-d)-j-R;if(H<0&&s===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},Tee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kL=e=>{var t=di(e,Tee),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=t;if(s<i||d===f)return null;var v=It("recharts-sector",p),g=s-i,_=Pi(a,g,0,!0),x;return _>0&&Math.abs(d-f)<360?x=kee({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}):x=EL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",__({},si(t),{className:v,d:x}))};function See(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:f,angle:p}=t,v=Or(o,c,d,p),g=Or(o,c,f,p);n=v.x,i=v.y,s=g.x,a=g.y}else return wL(t);return[{x:n,y:i},{x:s,y:a}]}var _b={},xb={},wb={},VN;function Cee(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ND();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(wb)),wb}var GN;function Aee(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cee();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(xb)),xb}var YN;function Nee(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jD(),r=Aee();function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=i,i+=a;return c}e.range=n})(_b)),_b}var Eb,KN;function jee(){return KN||(KN=1,Eb=Nee().range),Eb}var Oee=jee();const TL=ui(Oee);function Na(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pw(e){let t,r,n;e.length!==2?(t=Na,r=(o,c)=>Na(e(o),c),n=(o,c)=>e(o)-c):(t=e===Na||e===Pee?e:Iee,r=e,n=e);function i(o,c,d=0,f=o.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(o[p],c)<0?d=p+1:f=p}while(d<f)}return d}function s(o,c,d=0,f=o.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(o[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function a(o,c,d=0,f=o.length){const p=i(o,c,d,f-1);return p>d&&n(o[p-1],c)>-n(o[p],c)?p-1:p}return{left:i,center:a,right:s}}function Iee(){return 0}function SL(e){return e===null?NaN:+e}function*Ree(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Dee=pw(Na),qd=Dee.right;pw(SL).center;class XN extends Map{constructor(t,r=Bee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(QN(this,t))}has(t){return super.has(QN(this,t))}set(t,r){return super.set(Lee(this,t),r)}delete(t){return super.delete(Mee(this,t))}}function QN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Lee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Mee({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Bee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fee(e=Na){if(e===Na)return CL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function CL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $ee=Math.sqrt(50),Uee=Math.sqrt(10),Hee=Math.sqrt(2);function nm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=$ee?10:s>=Uee?5:s>=Hee?2:1;let o,c,d;return i<0?(d=Math.pow(10,-i)/a,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*a,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?nm(e,t,r*2):[o,c,d]}function x_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?nm(t,e,r):nm(e,t,r);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(n)if(a<0)for(let d=0;d<o;++d)c[d]=(s-d)/-a;else for(let d=0;d<o;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<o;++d)c[d]=(i+d)/-a;else for(let d=0;d<o;++d)c[d]=(i+d)*a;return c}function w_(e,t,r){return t=+t,e=+e,r=+r,nm(e,t,r)[2]}function E_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?w_(t,e,r):w_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function JN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ZN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?CL:Fee(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(t-d*p/c+v)),_=Math.min(n,Math.floor(t+(c-d)*p/c+v));AL(e,t,g,_,i)}const s=e[t];let a=r,o=n;for(Cc(e,r,t),i(e[n],s)>0&&Cc(e,r,n);a<o;){for(Cc(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[r],s)===0?Cc(e,r,o):(++o,Cc(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Cc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zee(e,t,r){if(e=Float64Array.from(Ree(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ZN(e);if(t>=1)return JN(e);var n,i=(n-1)*t,s=Math.floor(i),a=JN(AL(e,s).subarray(0,s+1)),o=ZN(e.subarray(s+1));return a+(o-a)*(i-s)}}function Wee(e,t,r=SL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function qee(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const k_=Symbol("implicit");function mw(){var e=new XN,t=[],r=[],n=k_;function i(s){let a=e.get(s);if(a===void 0){if(n!==k_)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new XN;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return mw(t,r).unknown(n)},hi.apply(i,arguments),i}function gw(){var e=mw().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,o=!1,c=0,d=0,f=.5;delete e.unknown;function p(){var v=t().length,g=i<n,_=g?i:n,x=g?n:i;s=(x-_)/Math.max(1,v-c+d*2),o&&(s=Math.floor(s)),_+=(x-_-s*(v-c))*f,a=s*(1-c),o&&(_=Math.round(_),a=Math.round(a));var b=qee(v).map(function(w){return _+s*w});return r(g?b.reverse():b)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,o=!0,p()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(v){return arguments.length?(o=!!v,p()):o},e.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),p()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},e.paddingOuter=function(v){return arguments.length?(d=+v,p()):d},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),p()):f},e.copy=function(){return gw(t(),[n,i]).round(o).paddingInner(c).paddingOuter(d).align(f)},hi.apply(p(),arguments)}function NL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NL(t())},e}function Vee(){return NL(gw.apply(null,arguments).paddingInner(1))}function vw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vd(){}var wd=.7,im=1/wd,Bl="\\s*([+-]?\\d+)\\s*",Ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gee=/^#([0-9a-f]{3,8})$/,Yee=new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),Kee=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),Xee=new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${Ed}\\)$`),Qee=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${Ed}\\)$`),Jee=new RegExp(`^hsl\\(${Ed},${Zi},${Zi}\\)$`),Zee=new RegExp(`^hsla\\(${Ed},${Zi},${Zi},${Ed}\\)$`),ej={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vw(Vd,kd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tj,formatHex:tj,formatHex8:ete,formatHsl:tte,formatRgb:rj,toString:rj});function tj(){return this.rgb().formatHex()}function ete(){return this.rgb().formatHex8()}function tte(){return OL(this).formatHsl()}function rj(){return this.rgb().formatRgb()}function kd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nj(t):r===3?new xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yee.exec(e))?new xn(t[1],t[2],t[3],1):(t=Kee.exec(e))?new xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xee.exec(e))?qf(t[1],t[2],t[3],t[4]):(t=Qee.exec(e))?qf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jee.exec(e))?aj(t[1],t[2]/100,t[3]/100,1):(t=Zee.exec(e))?aj(t[1],t[2]/100,t[3]/100,t[4]):ej.hasOwnProperty(e)?nj(ej[e]):e==="transparent"?new xn(NaN,NaN,NaN,0):null}function nj(e){return new xn(e>>16&255,e>>8&255,e&255,1)}function qf(e,t,r,n){return n<=0&&(e=t=r=NaN),new xn(e,t,r,n)}function rte(e){return e instanceof Vd||(e=kd(e)),e?(e=e.rgb(),new xn(e.r,e.g,e.b,e.opacity)):new xn}function T_(e,t,r,n){return arguments.length===1?rte(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}vw(xn,T_,jL(Vd,{brighter(e){return e=e==null?im:Math.pow(im,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wd:Math.pow(wd,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xn(xo(this.r),xo(this.g),xo(this.b),sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ij,formatHex:ij,formatHex8:nte,formatRgb:sj,toString:sj}));function ij(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function nte(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function sj(){const e=sm(this.opacity);return`${e===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${e===1?")":`, ${e})`}`}function sm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mo(e){return e=xo(e),(e<16?"0":"")+e.toString(16)}function aj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ai(e,t,r,n)}function OL(e){if(e instanceof Ai)return new Ai(e.h,e.s,e.l,e.opacity);if(e instanceof Vd||(e=kd(e)),!e)return new Ai;if(e instanceof Ai)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,c=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Ai(a,o,c,e.opacity)}function ite(e,t,r,n){return arguments.length===1?OL(e):new Ai(e,t,r,n??1)}function Ai(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}vw(Ai,ite,jL(Vd,{brighter(e){return e=e==null?im:Math.pow(im,e),new Ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wd:Math.pow(wd,e),new Ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new xn(kb(e>=240?e-240:e+120,i,n),kb(e,i,n),kb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ai(oj(this.h),Vf(this.s),Vf(this.l),sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sm(this.opacity);return`${e===1?"hsl(":"hsla("}${oj(this.h)}, ${Vf(this.s)*100}%, ${Vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oj(e){return e=(e||0)%360,e<0?e+360:e}function Vf(e){return Math.max(0,Math.min(1,e||0))}function kb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yw=e=>()=>e;function ste(e,t){return function(r){return e+r*t}}function ate(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ote(e){return(e=+e)==1?PL:function(t,r){return r-t?ate(t,r,e):yw(isNaN(t)?r:t)}}function PL(e,t){var r=t-e;return r?ste(e,r):yw(isNaN(e)?t:e)}const lj=(function e(t){var r=ote(t);function n(i,s){var a=r((i=T_(i)).r,(s=T_(s)).r),o=r(i.g,s.g),c=r(i.b,s.b),d=PL(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=e,n})(1);function lte(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function ute(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cte(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=pu(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function dte(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function am(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hte(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=pu(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var S_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tb=new RegExp(S_.source,"g");function fte(e){return function(){return e}}function pte(e){return function(t){return e(t)+""}}function mte(e,t){var r=S_.lastIndex=Tb.lastIndex=0,n,i,s,a=-1,o=[],c=[];for(e=e+"",t=t+"";(n=S_.exec(e))&&(i=Tb.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:am(n,i)})),r=Tb.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?pte(c[0].x):fte(t):(t=c.length,function(d){for(var f=0,p;f<t;++f)o[(p=c[f]).i]=p.x(d);return o.join("")})}function pu(e,t){var r=typeof t,n;return t==null||r==="boolean"?yw(t):(r==="number"?am:r==="string"?(n=kd(t))?(t=n,lj):mte:t instanceof kd?lj:t instanceof Date?dte:ute(t)?lte:Array.isArray(t)?cte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hte:am)(e,t)}function bw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gte(e,t){t===void 0&&(t=e,e=pu);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function vte(e){return function(){return e}}function om(e){return+e}var uj=[0,1];function tn(e){return e}function C_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vte(isNaN(t)?NaN:.5)}function yte(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bte(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=C_(i,n),s=r(a,s)):(n=C_(n,i),s=r(s,a)),function(o){return s(n(o))}}function _te(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=C_(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(o){var c=qd(e,o,1,n)-1;return s[c](i[c](o))}}function Gd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cg(){var e=uj,t=uj,r=pu,n,i,s,a=tn,o,c,d;function f(){var v=Math.min(e.length,t.length);return a!==tn&&(a=yte(e[0],e[v-1])),o=v>2?_te:bte,c=d=null,p}function p(v){return v==null||isNaN(v=+v)?s:(c||(c=o(e.map(n),t,r)))(n(a(v)))}return p.invert=function(v){return a(i((d||(d=o(t,e.map(n),am)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,om),f()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=bw,f()},p.clamp=function(v){return arguments.length?(a=v?!0:tn,f()):a!==tn},p.interpolate=function(v){return arguments.length?(r=v,f()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,g){return n=v,i=g,f()}}function _w(){return cg()(tn,tn)}function xte(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yl(e){return e=lm(Math.abs(e)),e?e[1]:NaN}function wte(e,t){return function(r,n){for(var i=r.length,s=[],a=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Ete(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Td(e){if(!(t=kte.exec(e)))throw new Error("invalid format: "+e);var t;return new xw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Td.prototype=xw.prototype;function xw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tte(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var IL;function Ste(e,t){var r=lm(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(IL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+lm(e,Math.max(0,t+s-1))[0]}function cj(e,t){var r=lm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const dj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xte,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cj(e*100,t),r:cj,s:Ste,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hj(e){return e}var fj=Array.prototype.map,pj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cte(e){var t=e.grouping===void 0||e.thousands===void 0?hj:wte(fj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?hj:Ete(fj.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(p){p=Td(p);var v=p.fill,g=p.align,_=p.sign,x=p.symbol,b=p.zero,w=p.width,A=p.comma,S=p.precision,O=p.trim,j=p.type;j==="n"?(A=!0,j="g"):dj[j]||(S===void 0&&(S=12),O=!0,j="g"),(b||v==="0"&&g==="=")&&(b=!0,v="0",g="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=x==="$"?n:/[%p]/.test(j)?a:"",R=dj[j],H=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(M){var F=N,Y=P,G,W,Q;if(j==="c")Y=R(M)+Y,M="";else{M=+M;var te=M<0||1/M<0;if(M=isNaN(M)?c:R(Math.abs(M),S),O&&(M=Tte(M)),te&&+M==0&&_!=="+"&&(te=!1),F=(te?_==="("?_:o:_==="-"||_==="("?"":_)+F,Y=(j==="s"?pj[8+IL/3]:"")+Y+(te&&_==="("?")":""),H){for(G=-1,W=M.length;++G<W;)if(Q=M.charCodeAt(G),48>Q||Q>57){Y=(Q===46?i+M.slice(G+1):M.slice(G))+Y,M=M.slice(0,G);break}}}A&&!b&&(M=t(M,1/0));var ne=F.length+M.length+Y.length,oe=ne<w?new Array(w-ne+1).join(v):"";switch(A&&b&&(M=t(oe+M,oe.length?w-Y.length:1/0),oe=""),g){case"<":M=F+M+Y+oe;break;case"=":M=F+oe+M+Y;break;case"^":M=oe.slice(0,ne=oe.length>>1)+F+M+Y+oe.slice(ne);break;default:M=oe+F+M+Y;break}return s(M)}return D.toString=function(){return p+""},D}function f(p,v){var g=d((p=Td(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Yl(v)/3)))*3,x=Math.pow(10,-_),b=pj[8+_/3];return function(w){return g(x*w)+b}}return{format:d,formatPrefix:f}}var Gf,ww,RL;Ate({thousands:",",grouping:[3],currency:["$",""]});function Ate(e){return Gf=Cte(e),ww=Gf.format,RL=Gf.formatPrefix,Gf}function Nte(e){return Math.max(0,-Yl(Math.abs(e)))}function jte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yl(t)/3)))*3-Yl(Math.abs(e)))}function Ote(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yl(t)-Yl(e))+1}function DL(e,t,r,n){var i=E_(e,t,r),s;switch(n=Td(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=jte(i,a))&&(n.precision=s),RL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Ote(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Nte(i))&&(n.precision=s-(n.type==="%")*2);break}}return ww(n)}function Da(e){var t=e.domain;return e.ticks=function(r){var n=t();return x_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return DL(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],o=n[s],c,d,f=10;for(o<a&&(d=a,a=o,o=d,d=i,i=s,s=d);f-- >0;){if(d=w_(a,o,r),d===c)return n[i]=a,n[s]=o,t(n);if(d>0)a=Math.floor(a/d)*d,o=Math.ceil(o/d)*d;else if(d<0)a=Math.ceil(a*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function LL(){var e=_w();return e.copy=function(){return Gd(e,LL())},hi.apply(e,arguments),Da(e)}function ML(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,om),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ML(e).unknown(t)},e=arguments.length?Array.from(e,om):[0,1],Da(r)}function BL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function mj(e){return Math.log(e)}function gj(e){return Math.exp(e)}function Pte(e){return-Math.log(-e)}function Ite(e){return-Math.exp(-e)}function Rte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dte(e){return e===10?Rte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Lte(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vj(e){return(t,r)=>-e(-t,r)}function Ew(e){const t=e(mj,gj),r=t.domain;let n=10,i,s;function a(){return i=Lte(n),s=Dte(n),r()[0]<0?(i=vj(i),s=vj(s),e(Pte,Ite)):e(mj,gj),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=o=>{const c=r();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let v=i(d),g=i(f),_,x;const b=o==null?10:+o;let w=[];if(!(n%1)&&g-v<b){if(v=Math.floor(v),g=Math.ceil(g),d>0){for(;v<=g;++v)for(_=1;_<n;++_)if(x=v<0?_/s(-v):_*s(v),!(x<d)){if(x>f)break;w.push(x)}}else for(;v<=g;++v)for(_=n-1;_>=1;--_)if(x=v>0?_/s(-v):_*s(v),!(x<d)){if(x>f)break;w.push(x)}w.length*2<b&&(w=x_(d,f,b))}else w=x_(v,g,Math.min(g-v,b)).map(s);return p?w.reverse():w},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Td(c)).precision==null&&(c.trim=!0),c=ww(c)),o===1/0)return c;const d=Math.max(1,n*o/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=d?c(f):""}},t.nice=()=>r(BL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function FL(){const e=Ew(cg()).domain([1,10]);return e.copy=()=>Gd(e,FL()).base(e.base()),hi.apply(e,arguments),e}function yj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kw(e){var t=1,r=e(yj(t),bj(t));return r.constant=function(n){return arguments.length?e(yj(t=+n),bj(t)):t},Da(r)}function $L(){var e=kw(cg());return e.copy=function(){return Gd(e,$L()).constant(e.constant())},hi.apply(e,arguments)}function _j(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Mte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Bte(e){return e<0?-e*e:e*e}function Tw(e){var t=e(tn,tn),r=1;function n(){return r===1?e(tn,tn):r===.5?e(Mte,Bte):e(_j(r),_j(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Da(t)}function Sw(){var e=Tw(cg());return e.copy=function(){return Gd(e,Sw()).exponent(e.exponent())},hi.apply(e,arguments),e}function Fte(){return Sw.apply(null,arguments).exponent(.5)}function xj(e){return Math.sign(e)*e*e}function $te(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UL(){var e=_w(),t=[0,1],r=!1,n;function i(s){var a=$te(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(xj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,om)).map(xj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return UL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},hi.apply(i,arguments),Da(i)}function HL(){var e=[],t=[],r=[],n;function i(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=Wee(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:t[qd(r,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Na),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return HL().domain(e).range(t).unknown(n)},hi.apply(s,arguments)}function zL(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[qd(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return zL().domain([e,t]).range(i).unknown(s)},hi.apply(Da(a),arguments)}function WL(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[qd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WL().domain(e).range(t).unknown(r)},hi.apply(i,arguments)}const Sb=new Date,Cb=new Date;function cr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let d;do c.push(d=new Date(+s)),t(s,o),e(s);while(d<s&&s<a);return c},i.filter=s=>cr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(Sb.setTime(+s),Cb.setTime(+a),e(Sb),e(Cb),Math.floor(r(Sb,Cb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const um=cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);um.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):um);um.range;const Es=1e3,ri=Es*60,ks=ri*60,Ps=ks*24,Cw=Ps*7,wj=Ps*30,Ab=Ps*365,go=cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());go.range;const Aw=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getMinutes());Aw.range;const Nw=cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCMinutes());Nw.range;const jw=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*ri)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());jw.range;const Ow=cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());Ow.range;const Yd=cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ri)/Ps,e=>e.getDate()-1);Yd.range;const dg=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>e.getUTCDate()-1);dg.range;const qL=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>Math.floor(e/Ps));qL.range;function Lo(e){return cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ri)/Cw)}const hg=Lo(0),cm=Lo(1),Ute=Lo(2),Hte=Lo(3),Kl=Lo(4),zte=Lo(5),Wte=Lo(6);hg.range;cm.range;Ute.range;Hte.range;Kl.range;zte.range;Wte.range;function Mo(e){return cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cw)}const fg=Mo(0),dm=Mo(1),qte=Mo(2),Vte=Mo(3),Xl=Mo(4),Gte=Mo(5),Yte=Mo(6);fg.range;dm.range;qte.range;Vte.range;Xl.range;Gte.range;Yte.range;const Pw=cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pw.range;const Iw=cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Iw.range;const Is=cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Is.range;const Rs=cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rs.range;function VL(e,t,r,n,i,s){const a=[[go,1,Es],[go,5,5*Es],[go,15,15*Es],[go,30,30*Es],[s,1,ri],[s,5,5*ri],[s,15,15*ri],[s,30,30*ri],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[n,1,Ps],[n,2,2*Ps],[r,1,Cw],[t,1,wj],[t,3,3*wj],[e,1,Ab]];function o(d,f,p){const v=f<d;v&&([d,f]=[f,d]);const g=p&&typeof p.range=="function"?p:c(d,f,p),_=g?g.range(d,+f+1):[];return v?_.reverse():_}function c(d,f,p){const v=Math.abs(f-d)/p,g=pw(([,,b])=>b).right(a,v);if(g===a.length)return e.every(E_(d/Ab,f/Ab,p));if(g===0)return um.every(Math.max(E_(d,f,p),1));const[_,x]=a[v/a[g-1][2]<a[g][2]/v?g-1:g];return _.every(x)}return[o,c]}const[Kte,Xte]=VL(Rs,Iw,fg,qL,Ow,Nw),[Qte,Jte]=VL(Is,Pw,hg,Yd,jw,Aw);function Nb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ac(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Zte(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,d=Nc(i),f=jc(i),p=Nc(s),v=jc(s),g=Nc(a),_=jc(a),x=Nc(o),b=jc(o),w=Nc(c),A=jc(c),S={a:te,A:ne,b:oe,B:L,c:null,d:Aj,e:Aj,f:wre,g:Pre,G:Rre,H:bre,I:_re,j:xre,L:GL,m:Ere,M:kre,p:V,q:ie,Q:Oj,s:Pj,S:Tre,u:Sre,U:Cre,V:Are,w:Nre,W:jre,x:null,X:null,y:Ore,Y:Ire,Z:Dre,"%":jj},O={a:$,A:Ee,b:ke,B:pe,c:null,d:Nj,e:Nj,f:Fre,g:Kre,G:Qre,H:Lre,I:Mre,j:Bre,L:KL,m:$re,M:Ure,p:Me,q:De,Q:Oj,s:Pj,S:Hre,u:zre,U:Wre,V:qre,w:Vre,W:Gre,x:null,X:null,y:Yre,Y:Xre,Z:Jre,"%":jj},j={a:D,A:M,b:F,B:Y,c:G,d:Sj,e:Sj,f:mre,g:Tj,G:kj,H:Cj,I:Cj,j:dre,L:pre,m:cre,M:hre,p:H,q:ure,Q:vre,s:yre,S:fre,u:ire,U:sre,V:are,w:nre,W:ore,x:W,X:Q,y:Tj,Y:kj,Z:lre,"%":gre};S.x=N(r,S),S.X=N(n,S),S.c=N(t,S),O.x=N(r,O),O.X=N(n,O),O.c=N(t,O);function N(se,Ce){return function(Ge){var he=[],pt=-1,Te=0,tt=se.length,ut,Bt,ss;for(Ge instanceof Date||(Ge=new Date(+Ge));++pt<tt;)se.charCodeAt(pt)===37&&(he.push(se.slice(Te,pt)),(Bt=Ej[ut=se.charAt(++pt)])!=null?ut=se.charAt(++pt):Bt=ut==="e"?" ":"0",(ss=Ce[ut])&&(ut=ss(Ge,Bt)),he.push(ut),Te=pt+1);return he.push(se.slice(Te,pt)),he.join("")}}function P(se,Ce){return function(Ge){var he=Ac(1900,void 0,1),pt=R(he,se,Ge+="",0),Te,tt;if(pt!=Ge.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Te=jb(Ac(he.y,0,1)),tt=Te.getUTCDay(),Te=tt>4||tt===0?dm.ceil(Te):dm(Te),Te=dg.offset(Te,(he.V-1)*7),he.y=Te.getUTCFullYear(),he.m=Te.getUTCMonth(),he.d=Te.getUTCDate()+(he.w+6)%7):(Te=Nb(Ac(he.y,0,1)),tt=Te.getDay(),Te=tt>4||tt===0?cm.ceil(Te):cm(Te),Te=Yd.offset(Te,(he.V-1)*7),he.y=Te.getFullYear(),he.m=Te.getMonth(),he.d=Te.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),tt="Z"in he?jb(Ac(he.y,0,1)).getUTCDay():Nb(Ac(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(tt+5)%7:he.w+he.U*7-(tt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,jb(he)):Nb(he)}}function R(se,Ce,Ge,he){for(var pt=0,Te=Ce.length,tt=Ge.length,ut,Bt;pt<Te;){if(he>=tt)return-1;if(ut=Ce.charCodeAt(pt++),ut===37){if(ut=Ce.charAt(pt++),Bt=j[ut in Ej?Ce.charAt(pt++):ut],!Bt||(he=Bt(se,Ge,he))<0)return-1}else if(ut!=Ge.charCodeAt(he++))return-1}return he}function H(se,Ce,Ge){var he=d.exec(Ce.slice(Ge));return he?(se.p=f.get(he[0].toLowerCase()),Ge+he[0].length):-1}function D(se,Ce,Ge){var he=g.exec(Ce.slice(Ge));return he?(se.w=_.get(he[0].toLowerCase()),Ge+he[0].length):-1}function M(se,Ce,Ge){var he=p.exec(Ce.slice(Ge));return he?(se.w=v.get(he[0].toLowerCase()),Ge+he[0].length):-1}function F(se,Ce,Ge){var he=w.exec(Ce.slice(Ge));return he?(se.m=A.get(he[0].toLowerCase()),Ge+he[0].length):-1}function Y(se,Ce,Ge){var he=x.exec(Ce.slice(Ge));return he?(se.m=b.get(he[0].toLowerCase()),Ge+he[0].length):-1}function G(se,Ce,Ge){return R(se,t,Ce,Ge)}function W(se,Ce,Ge){return R(se,r,Ce,Ge)}function Q(se,Ce,Ge){return R(se,n,Ce,Ge)}function te(se){return a[se.getDay()]}function ne(se){return s[se.getDay()]}function oe(se){return c[se.getMonth()]}function L(se){return o[se.getMonth()]}function V(se){return i[+(se.getHours()>=12)]}function ie(se){return 1+~~(se.getMonth()/3)}function $(se){return a[se.getUTCDay()]}function Ee(se){return s[se.getUTCDay()]}function ke(se){return c[se.getUTCMonth()]}function pe(se){return o[se.getUTCMonth()]}function Me(se){return i[+(se.getUTCHours()>=12)]}function De(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ce=N(se+="",S);return Ce.toString=function(){return se},Ce},parse:function(se){var Ce=P(se+="",!1);return Ce.toString=function(){return se},Ce},utcFormat:function(se){var Ce=N(se+="",O);return Ce.toString=function(){return se},Ce},utcParse:function(se){var Ce=P(se+="",!0);return Ce.toString=function(){return se},Ce}}}var Ej={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,ere=/^%/,tre=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function rre(e){return e.replace(tre,"\\$&")}function Nc(e){return new RegExp("^(?:"+e.map(rre).join("|")+")","i")}function jc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nre(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ire(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function sre(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function are(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ore(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kj(e,t,r){var n=kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Tj(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lre(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ure(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cre(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Sj(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dre(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Cj(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function hre(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fre(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pre(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mre(e,t,r){var n=kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gre(e,t,r){var n=ere.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vre(e,t,r){var n=kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yre(e,t,r){var n=kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Aj(e,t){return ht(e.getDate(),t,2)}function bre(e,t){return ht(e.getHours(),t,2)}function _re(e,t){return ht(e.getHours()%12||12,t,2)}function xre(e,t){return ht(1+Yd.count(Is(e),e),t,3)}function GL(e,t){return ht(e.getMilliseconds(),t,3)}function wre(e,t){return GL(e,t)+"000"}function Ere(e,t){return ht(e.getMonth()+1,t,2)}function kre(e,t){return ht(e.getMinutes(),t,2)}function Tre(e,t){return ht(e.getSeconds(),t,2)}function Sre(e){var t=e.getDay();return t===0?7:t}function Cre(e,t){return ht(hg.count(Is(e)-1,e),t,2)}function YL(e){var t=e.getDay();return t>=4||t===0?Kl(e):Kl.ceil(e)}function Are(e,t){return e=YL(e),ht(Kl.count(Is(e),e)+(Is(e).getDay()===4),t,2)}function Nre(e){return e.getDay()}function jre(e,t){return ht(cm.count(Is(e)-1,e),t,2)}function Ore(e,t){return ht(e.getFullYear()%100,t,2)}function Pre(e,t){return e=YL(e),ht(e.getFullYear()%100,t,2)}function Ire(e,t){return ht(e.getFullYear()%1e4,t,4)}function Rre(e,t){var r=e.getDay();return e=r>=4||r===0?Kl(e):Kl.ceil(e),ht(e.getFullYear()%1e4,t,4)}function Dre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function Nj(e,t){return ht(e.getUTCDate(),t,2)}function Lre(e,t){return ht(e.getUTCHours(),t,2)}function Mre(e,t){return ht(e.getUTCHours()%12||12,t,2)}function Bre(e,t){return ht(1+dg.count(Rs(e),e),t,3)}function KL(e,t){return ht(e.getUTCMilliseconds(),t,3)}function Fre(e,t){return KL(e,t)+"000"}function $re(e,t){return ht(e.getUTCMonth()+1,t,2)}function Ure(e,t){return ht(e.getUTCMinutes(),t,2)}function Hre(e,t){return ht(e.getUTCSeconds(),t,2)}function zre(e){var t=e.getUTCDay();return t===0?7:t}function Wre(e,t){return ht(fg.count(Rs(e)-1,e),t,2)}function XL(e){var t=e.getUTCDay();return t>=4||t===0?Xl(e):Xl.ceil(e)}function qre(e,t){return e=XL(e),ht(Xl.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function Vre(e){return e.getUTCDay()}function Gre(e,t){return ht(dm.count(Rs(e)-1,e),t,2)}function Yre(e,t){return ht(e.getUTCFullYear()%100,t,2)}function Kre(e,t){return e=XL(e),ht(e.getUTCFullYear()%100,t,2)}function Xre(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function Qre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xl(e):Xl.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function Jre(){return"+0000"}function jj(){return"%"}function Oj(e){return+e}function Pj(e){return Math.floor(+e/1e3)}var wl,QL,JL;Zre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zre(e){return wl=Zte(e),QL=wl.format,wl.parse,JL=wl.utcFormat,wl.utcParse,wl}function ene(e){return new Date(e)}function tne(e){return e instanceof Date?+e:+new Date(+e)}function Rw(e,t,r,n,i,s,a,o,c,d){var f=_w(),p=f.invert,v=f.domain,g=d(".%L"),_=d(":%S"),x=d("%I:%M"),b=d("%I %p"),w=d("%a %d"),A=d("%b %d"),S=d("%B"),O=d("%Y");function j(N){return(c(N)<N?g:o(N)<N?_:a(N)<N?x:s(N)<N?b:n(N)<N?i(N)<N?w:A:r(N)<N?S:O)(N)}return f.invert=function(N){return new Date(p(N))},f.domain=function(N){return arguments.length?v(Array.from(N,tne)):v().map(ene)},f.ticks=function(N){var P=v();return e(P[0],P[P.length-1],N??10)},f.tickFormat=function(N,P){return P==null?j:d(P)},f.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?v(BL(P,N)):f},f.copy=function(){return Gd(f,Rw(e,t,r,n,i,s,a,o,c,d))},f}function rne(){return hi.apply(Rw(Qte,Jte,Is,Pw,hg,Yd,jw,Aw,go,QL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nne(){return hi.apply(Rw(Kte,Xte,Rs,Iw,fg,dg,Ow,Nw,go,JL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pg(){var e=0,t=1,r,n,i,s,a=tn,o=!1,c;function d(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(s(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(p){return arguments.length?(o=!!p,d):o},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(v){var g,_;return arguments.length?([g,_]=v,a=p(g,_),d):[a(0),a(1)]}}return d.range=f(pu),d.rangeRound=f(bw),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),d}}function La(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZL(){var e=Da(pg()(tn));return e.copy=function(){return La(e,ZL())},Fs.apply(e,arguments)}function e6(){var e=Ew(pg()).domain([1,10]);return e.copy=function(){return La(e,e6()).base(e.base())},Fs.apply(e,arguments)}function t6(){var e=kw(pg());return e.copy=function(){return La(e,t6()).constant(e.constant())},Fs.apply(e,arguments)}function Dw(){var e=Tw(pg());return e.copy=function(){return La(e,Dw()).exponent(e.exponent())},Fs.apply(e,arguments)}function ine(){return Dw.apply(null,arguments).exponent(.5)}function r6(){var e=[],t=tn;function r(n){if(n!=null&&!isNaN(n=+n))return t((qd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Na),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>zee(e,s/n))},r.copy=function(){return r6(t).domain(e)},Fs.apply(r,arguments)}function mg(){var e=0,t=.5,r=1,n=1,i,s,a,o,c,d=tn,f,p=!1,v;function g(x){return isNaN(x=+x)?v:(x=.5+((x=+f(x))-s)*(n*x<n*s?o:c),d(p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,i=f(e=+e),s=f(t=+t),a=f(r=+r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(d=x,g):d};function _(x){return function(b){var w,A,S;return arguments.length?([w,A,S]=b,d=gte(x,[w,A,S]),g):[d(0),d(.5),d(1)]}}return g.range=_(pu),g.rangeRound=_(bw),g.unknown=function(x){return arguments.length?(v=x,g):v},function(x){return f=x,i=x(e),s=x(t),a=x(r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function n6(){var e=Da(mg()(tn));return e.copy=function(){return La(e,n6())},Fs.apply(e,arguments)}function i6(){var e=Ew(mg()).domain([.1,1,10]);return e.copy=function(){return La(e,i6()).base(e.base())},Fs.apply(e,arguments)}function s6(){var e=kw(mg());return e.copy=function(){return La(e,s6()).constant(e.constant())},Fs.apply(e,arguments)}function Lw(){var e=Tw(mg());return e.copy=function(){return La(e,Lw()).exponent(e.exponent())},Fs.apply(e,arguments)}function sne(){return Lw.apply(null,arguments).exponent(.5)}const zc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gw,scaleDiverging:n6,scaleDivergingLog:i6,scaleDivergingPow:Lw,scaleDivergingSqrt:sne,scaleDivergingSymlog:s6,scaleIdentity:ML,scaleImplicit:k_,scaleLinear:LL,scaleLog:FL,scaleOrdinal:mw,scalePoint:Vee,scalePow:Sw,scaleQuantile:HL,scaleQuantize:zL,scaleRadial:UL,scaleSequential:ZL,scaleSequentialLog:e6,scaleSequentialPow:Dw,scaleSequentialQuantile:r6,scaleSequentialSqrt:ine,scaleSequentialSymlog:t6,scaleSqrt:Fte,scaleSymlog:$L,scaleThreshold:WL,scaleTime:rne,scaleUtc:nne,tickFormat:DL},Symbol.toStringTag,{value:"Module"}));var Ma=e=>e.chartData,ane=le([Ma],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mw=(e,t,r,n)=>n?ane(e):Ma(e);function jo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Wr(t)&&Wr(r))return!0}return!1}function Ij(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function a6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Wr(r))i=r;else if(typeof r=="function")return;if(Wr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(jo(a))return a}}function one(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(jo(n))return Ij(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(He(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&yN.test(i)){var c=yN.exec(i);if(c==null||t==null)a=void 0;else{var d=+c[1];a=t[0]-d}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(He(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&bN.test(s)){var f=bN.exec(s);if(f==null||t==null)o=void 0;else{var p=+f[1];o=t[1]+p}}else o=t==null?void 0:t[1];var v=[a,o];if(jo(v))return t==null?v:Ij(v,t,r)}}}var mu=1e9,lne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fw,Lt=!0,li="[DecimalError] ",wo=li+"Invalid argument: ",Bw=li+"Exponent out of range: ",gu=Math.floor,uo=Math.pow,une=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,br=1e7,Ot=7,o6=9007199254740991,hm=gu(o6/Ot),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(e){return Cs(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,r=t.constructor;return wt(Cs(t,new r(e),0,1),r.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return er(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ln))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(Ln)?new n(0):(Lt=!1,t=Cs(Sd(r,s),Sd(e,s),s),Lt=!0,wt(t,i))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c6(t,e):l6(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(li+"NaN");return r.s?(Lt=!1,t=Cs(r,e,0,1).times(e),Lt=!0,r.minus(t)):wt(new n(r),i)};Ie.naturalExponential=Ie.exp=function(){return u6(this)};Ie.naturalLogarithm=Ie.ln=function(){return Sd(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l6(t,e):c6(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wo+e);if(t=er(i)+1,n=i.d.length-1,r=n*Ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ie.squareRoot=Ie.sqrt=function(){var e,t,r,n,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(li+"NaN")}for(e=er(o),Lt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Xi(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=gu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Cs(o,s,a+2)).times(.5),Xi(s.d).slice(0,a)===(t=Xi(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;a+=4}return Lt=!0,wt(n,r)};Ie.times=Ie.mul=function(e){var t,r,n,i,s,a,o,c,d,f=this,p=f.constructor,v=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=v.length,d=g.length,c<d&&(s=v,v=g,g=s,a=c,c=d,d=a),s=[],a=c+d,n=a;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)o=s[i]+g[n]*v[i-n-1]+t,s[i--]=o%br|0,t=o/br|0;s[i]=(s[i]+t)%br|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lt?wt(e,p.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(rs(e,0,mu),t===void 0?t=n.rounding:rs(t,0,8),wt(r,e+er(r)+1,t))};Ie.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Oo(n,!0):(rs(e,0,mu),t===void 0?t=i.rounding:rs(t,0,8),n=wt(new i(n),e+1,t),r=Oo(n,!0,e+1)),r};Ie.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Oo(i):(rs(e,0,mu),t===void 0?t=s.rounding:rs(t,0,8),n=wt(new s(i),e+er(i)+1,t),r=Oo(n.abs(),!1,e+er(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return wt(new t(e),er(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,r,n,i,s,a,o=this,c=o.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(Ln);if(o=new c(o),!o.s){if(e.s<1)throw Error(li+"Infinity");return o}if(o.eq(Ln))return o;if(n=c.precision,e.eq(Ln))return wt(o,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=o.s,a){if((r=f<0?-f:f)<=o6){for(i=new c(Ln),t=Math.ceil(n/Ot+4),Lt=!1;r%2&&(i=i.times(o),Dj(i.d,t)),r=gu(r/2),r!==0;)o=o.times(o),Dj(o.d,t);return Lt=!0,e.s<0?new c(Ln).div(i):wt(i,n)}}else if(s<0)throw Error(li+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Lt=!1,i=e.times(Sd(o,n+d)),Lt=!0,i=u6(i),i.s=s,i};Ie.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=er(i),n=Oo(i,r<=s.toExpNeg||r>=s.toExpPos)):(rs(e,1,mu),t===void 0?t=s.rounding:rs(t,0,8),i=wt(new s(i),e,t),r=er(i),n=Oo(i,e<=r||r<=s.toExpNeg,e)),n};Ie.toSignificantDigits=Ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(rs(e,1,mu),t===void 0?t=n.rounding:rs(t,0,8)),wt(new n(r),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=er(e),r=e.constructor;return Oo(e,t<=r.toExpNeg||t>=r.toExpPos)};function l6(e,t){var r,n,i,s,a,o,c,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Lt?wt(t,p):t;if(c=e.d,d=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,o=d.length):(n=d,i=a,o=c.length),a=Math.ceil(p/Ot),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=d.length,o-s<0&&(s=o,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/br|0,c[s]%=br;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,Lt?wt(t,p):t}function rs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wo+e)}function Xi(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Ot-n.length,r&&(s+=ya(r)),s+=n;a=e[t],n=a+"",r=Ot-n.length,r&&(s+=ya(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Cs=(function(){function e(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%br|0,a=s/br|0;return a&&n.unshift(a),n}function t(n,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*br+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,c,d,f,p,v,g,_,x,b,w,A,S,O,j,N,P,R,H=n.constructor,D=n.s==i.s?1:-1,M=n.d,F=i.d;if(!n.s)return new H(n);if(!i.s)throw Error(li+"Division by zero");for(c=n.e-i.e,P=F.length,j=M.length,g=new H(D),_=g.d=[],d=0;F[d]==(M[d]||0);)++d;if(F[d]>(M[d]||0)&&--c,s==null?A=s=H.precision:a?A=s+(er(n)-er(i))+1:A=s,A<0)return new H(0);if(A=A/Ot+2|0,d=0,P==1)for(f=0,F=F[0],A++;(d<j||f)&&A--;d++)S=f*br+(M[d]||0),_[d]=S/F|0,f=S%F|0;else{for(f=br/(F[0]+1)|0,f>1&&(F=e(F,f),M=e(M,f),P=F.length,j=M.length),O=P,x=M.slice(0,P),b=x.length;b<P;)x[b++]=0;R=F.slice(),R.unshift(0),N=F[0],F[1]>=br/2&&++N;do f=0,o=t(F,x,P,b),o<0?(w=x[0],P!=b&&(w=w*br+(x[1]||0)),f=w/N|0,f>1?(f>=br&&(f=br-1),p=e(F,f),v=p.length,b=x.length,o=t(p,x,v,b),o==1&&(f--,r(p,P<v?R:F,v))):(f==0&&(o=f=1),p=F.slice()),v=p.length,v<b&&p.unshift(0),r(x,p,b),o==-1&&(b=x.length,o=t(F,x,P,b),o<1&&(f++,r(x,P<b?R:F,b))),b=x.length):o===0&&(f++,x=[0]),_[d++]=f,o&&x[0]?x[b++]=M[O]||0:(x=[M[O]],b=1);while((O++<j||x[0]!==void 0)&&A--)}return _[0]||_.shift(),g.e=c,wt(g,a?s+er(g)+1:s)}})();function u6(e,t){var r,n,i,s,a,o,c=0,d=0,f=e.constructor,p=f.precision;if(er(e)>16)throw Error(Bw+er(e));if(!e.s)return new f(Ln);for(Lt=!1,o=p,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(n=Math.log(uo(2,d))/Math.LN10*2+5|0,o+=n,r=i=s=new f(Ln),f.precision=o;;){if(i=wt(i.times(e),o),r=r.times(++c),a=s.plus(Cs(i,r,o)),Xi(a.d).slice(0,o)===Xi(s.d).slice(0,o)){for(;d--;)s=wt(s.times(s),o);return f.precision=p,t==null?(Lt=!0,wt(s,p)):s}s=a}}function er(e){for(var t=e.e*Ot,r=e.d[0];r>=10;r/=10)t++;return t}function Ob(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(li+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function Sd(e,t){var r,n,i,s,a,o,c,d,f,p=1,v=10,g=e,_=g.d,x=g.constructor,b=x.precision;if(g.s<1)throw Error(li+(g.s?"NaN":"-Infinity"));if(g.eq(Ln))return new x(0);if(t==null?(Lt=!1,d=b):d=t,g.eq(10))return t==null&&(Lt=!0),Ob(x,d);if(d+=v,x.precision=d,r=Xi(_),n=r.charAt(0),s=er(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Xi(g.d),n=r.charAt(0),p++;s=er(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return c=Ob(x,d+2,b).times(s+""),g=Sd(new x(n+"."+r.slice(1)),d-v).plus(c),x.precision=b,t==null?(Lt=!0,wt(g,b)):g;for(o=a=g=Cs(g.minus(Ln),g.plus(Ln),d),f=wt(g.times(g),d),i=3;;){if(a=wt(a.times(f),d),c=o.plus(Cs(a,new x(i),d)),Xi(c.d).slice(0,d)===Xi(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(Ob(x,d+2,b).times(s+""))),o=Cs(o,new x(p),d),x.precision=b,t==null?(Lt=!0,wt(o,b)):o;o=c,i+=2}}function Rj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=gu(r/Ot),e.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ot;n<i;)e.d.push(+t.slice(n,n+=Ot));t=t.slice(n),n=Ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>hm||e.e<-hm))throw Error(Bw+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,i,s,a,o,c,d,f,p=e.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Ot,i=t,d=p[f=0];else{if(f=Math.ceil((n+1)/Ot),s=p.length,f>=s)return e;for(d=s=p[f],a=1;s>=10;s/=10)a++;n%=Ot,i=n-Ot+a}if(r!==void 0&&(s=uo(10,a-i-1),o=d/s%10|0,c=t<0||p[f+1]!==void 0||d%s,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?d/uo(10,a-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(s=er(e),p.length=1,t=t-s-1,p[0]=uo(10,(Ot-t%Ot)%Ot),e.e=gu(-t/Ot)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=uo(10,Ot-n),p[f]=i>0?(d/uo(10,a-i)%uo(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==br&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=br)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Lt&&(e.e>hm||e.e<-hm))throw Error(Bw+er(e));return e}function c6(e,t){var r,n,i,s,a,o,c,d,f,p,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Lt?wt(t,g):t;if(c=e.d,p=t.d,n=t.e,d=e.e,c=c.slice(),a=d-n,a){for(f=a<0,f?(r=c,a=-a,o=p.length):(r=p,n=d,o=c.length),i=Math.max(Math.ceil(g/Ot),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}a=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=br-1;--c[s],c[i]+=br}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Lt?wt(t,g):t):new v(0)}function Oo(e,t,r){var n,i=er(e),s=Xi(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ya(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ya(-i-1)+s,r&&(n=r-a)>0&&(s+=ya(n))):i>=a?(s+=ya(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ya(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ya(n))),e.s<0?"-"+s:s}function Dj(e,t){if(e.length>t)return e.length=t,!0}function d6(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Rj(a,s.toString())}else if(typeof s!="string")throw Error(wo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,une.test(s))Rj(a,s);else throw Error(wo+s)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=d6,i.config=i.set=cne,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function cne(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,r,n,i=["precision",1,mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(gu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wo+r+": "+n);return this}var Fw=d6(lne);Ln=new Fw(1);const vt=Fw;var dne=e=>e,h6={},f6=e=>e===h6,Lj=e=>function t(){return arguments.length===0||arguments.length===1&&f6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},p6=(e,t)=>e===1?t:Lj(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==h6).length;return s>=e?t(...n):p6(e-s,Lj(function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var d=n.map(f=>f6(f)?o.shift():f);return t(...d,...o)}))}),gg=e=>p6(e.length,e),A_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},hne=gg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),fne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dne;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,c)=>c(o),s(...arguments))}},N_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),m6=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,o)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[o])})||(t=i,r=e(...i)),r}};function g6(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function v6(e,t,r){for(var n=new vt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}gg((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});gg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});gg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var y6=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},b6=(e,t,r)=>{if(e.lte(0))return new vt(0);var n=g6(e.toNumber()),i=new vt(10).pow(n),s=e.div(i),a=n!==1?.05:.1,o=new vt(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=o.mul(i);return t?new vt(c.toNumber()):new vt(Math.ceil(c.toNumber()))},pne=(e,t,r)=>{var n=new vt(1),i=new vt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new vt(10).pow(g6(e)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new vt(Math.floor(e)))}else e===0?i=new vt(Math.floor((t-1)/2)):r||(i=new vt(Math.floor(e)));var a=Math.floor((t-1)/2),o=fne(hne(c=>i.add(new vt(c-a).mul(n)).toNumber()),A_);return o(0,t)},_6=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var a=b6(new vt(r).sub(t).div(n-1),i,s),o;t<=0&&r>=0?o=new vt(0):(o=new vt(t).add(r).div(2),o=o.sub(new vt(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new vt(r).sub(o).div(a).toNumber()),f=c+d+1;return f>n?_6(t,r,n,i,s+1):(f<n&&(d=r>0?d+(n-f):d,c=r>0?c:c+(n-f)),{step:a,tickMin:o.sub(new vt(c).mul(a)),tickMax:o.add(new vt(d).mul(a))})};function mne(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=y6([t,r]);if(a===-1/0||o===1/0){var c=o===1/0?[a,...A_(0,n-1).map(()=>1/0)]:[...A_(0,n-1).map(()=>-1/0),o];return t>r?N_(c):c}if(a===o)return pne(a,n,i);var{step:d,tickMin:f,tickMax:p}=_6(a,o,s,i,0),v=v6(f,p.add(new vt(.1).mul(d)),d);return t>r?N_(v):v}function gne(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=y6([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(t,2),c=b6(new vt(a).sub(s).div(o-1),i,0),d=[...v6(new vt(s),new vt(a),c),a];return i===!1&&(d=d.map(f=>Math.round(f))),r>n?N_(d):d}var vne=m6(mne),yne=m6(gne),x6=e=>e.rootProps.maxBarSize,bne=e=>e.rootProps.barGap,w6=e=>e.rootProps.barCategoryGap,_ne=e=>e.rootProps.barSize,vg=e=>e.rootProps.stackOffset,$w=e=>e.options.chartName,Uw=e=>e.rootProps.syncId,E6=e=>e.rootProps.syncMethod,Hw=e=>e.options.eventEmitter,_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},xne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},wne={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,ticks:void 0,type:Pn.type,unit:void 0},Ene={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kne={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,ticks:void 0,type:"category",unit:void 0},zw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Ene:xne,Ww=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kne:wne,bg=e=>e.polarOptions,qw=le([Ms,Bs,Er],uJ),k6=le([bg,qw],(e,t)=>{if(e!=null)return Pi(e.innerRadius,t,0)}),T6=le([bg,qw],(e,t)=>{if(e!=null)return Pi(e.outerRadius,t,t*.8)}),Tne=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},S6=le([bg],Tne);le([zw,S6],yg);var C6=le([qw,k6,T6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});le([Ww,C6],yg);var A6=le([yt,bg,k6,T6,Ms,Bs],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:o,startAngle:c,endAngle:d}=t;return{cx:Pi(a,i,i/2),cy:Pi(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),dr=(e,t)=>t,_g=(e,t,r)=>r;function Vw(e){return e==null?void 0:e.id}var hr=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vu=e=>e.tooltip.settings.axisId,fr=e=>{var t=hr(e),r=vu(e);return Kd(e,t,r)},N6=le([fr],e=>e==null?void 0:e.dataKey);function j6(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var f=Vw(o);d.forEach((p,v)=>{var g=s==null||i?v:String(rn(p,s,null)),_=rn(p,o.dataKey,0),x;a.has(g)?x=a.get(g):x={},Object.assign(x,{[f]:_}),a.set(g,x)})}}),Array.from(a.values())}function xg(e){return e.stackId!=null&&e.dataKey!=null}var wg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Eg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j_=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},O6=(e,t)=>e.cartesianAxis.xAxis[t],$s=(e,t)=>{var r=O6(e,t);return r??jn},On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wd},P6=(e,t)=>e.cartesianAxis.yAxis[t],Us=(e,t)=>{var r=P6(e,t);return r??On},Nne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Nne},sn=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Us(e,r);case"zAxis":return Gw(e,r);case"angleAxis":return zw(e,r);case"radiusAxis":return Ww(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jne=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Us(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Kd=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Us(e,r);case"angleAxis":return zw(e,r);case"radiusAxis":return Ww(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},I6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function R6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Yw=e=>e.graphicalItems.cartesianItems,One=le([dr,_g],R6),D6=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Xd=le([Yw,sn,One],D6,{memoizeOptions:{resultEqualityCheck:Eg}}),L6=le([Xd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(xg)),M6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Pne=le([Xd],M6),B6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Ine=le([Xd],B6,{memoizeOptions:{resultEqualityCheck:Eg}}),F6=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Kw=le([Ine,Mw],F6),$6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:rn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:rn(i,n)}))):e.map(n=>({value:n})),kg=le([Kw,sn,Xd],$6);function U6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lp(e){if(ts(e)||e instanceof Date){var t=Number(e);if(Wr(t))return t}}function Bj(e){if(Array.isArray(e)){var t=[lp(e[0]),lp(e[1])];return jo(t)?t:void 0}var r=lp(e);if(r!=null)return[r,r]}function yu(e){return e.map(lp).filter(KZ)}function Rne(e,t,r){return!r||typeof t!="number"||ai(t)?[]:r.length?yu(r.flatMap(n=>{var i=rn(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Wr(s)||!Wr(a)))return[t-s,t+a]})):[]}var Dne=le([L6,Mw,fr],j6),H6=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,c=o.map(Vw);return[a,{stackedData:TJ(e,c,r),graphicalItems:o}]}))},O_=le([Dne,L6,vg],H6),z6=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var a=jJ(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Lne=le([sn],e=>e.allowDataOverflow),Xw=e=>{var t;if(e==null||!("domain"in e))return j_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=yu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:j_},W6=le([sn],Xw),q6=le([W6,Lne],a6),Mne=le([O_,Ma,dr,q6],z6,{memoizeOptions:{resultEqualityCheck:wg}}),Qw=e=>e.errorBars,Bne=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>U6(r,n)),pm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},V6=(e,t,r,n,i)=>{var s,a;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var d,f,p=(d=n[c.id])===null||d===void 0?void 0:d.filter(w=>U6(i,w)),v=rn(o,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey),g=Rne(o,v,p);if(g.length>=2){var _=Math.min(...g),x=Math.max(...g);(s==null||_<s)&&(s=_),(a==null||x>a)&&(a=x)}var b=Bj(v);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),a=a==null?b[1]:Math.max(a,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=Bj(rn(o,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Wr(s)&&Wr(a))return[s,a]},Fne=le([Kw,sn,Pne,Qw,dr],V6,{memoizeOptions:{resultEqualityCheck:wg}});function $ne(e){var{value:t}=e;if(ts(t)||t instanceof Date)return t}var Une=(e,t,r)=>{var n=e.map($ne).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&gD(n))?TL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},G6=e=>e.referenceElements.dots,bu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Hne=le([G6,dr,_g],bu),Y6=e=>e.referenceElements.areas,zne=le([Y6,dr,_g],bu),K6=e=>e.referenceElements.lines,Wne=le([K6,dr,_g],bu),X6=(e,t)=>{var r=yu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qne=le(Hne,dr,X6),Q6=(e,t)=>{var r=yu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Vne=le([zne,dr],Q6),J6=(e,t)=>{var r=yu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Gne=le(Wne,dr,J6),Yne=le(qne,Gne,Vne,(e,t,r)=>pm(e,r,t)),Z6=(e,t,r,n,i,s,a,o)=>{if(r!=null)return r;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=c?pm(n,s,i):pm(s,i);return one(t,d,e.allowDataOverflow)},Kne=le([sn,W6,q6,Mne,Fne,Yne,yt,dr],Z6,{memoizeOptions:{resultEqualityCheck:wg}}),Xne=[0,1],e4=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:c}=e,d=Do(t,s);return d&&o==null?TL(0,r.length):c==="category"?Une(n,e,d):i==="expand"?Xne:a}},Jw=le([sn,yt,Kw,kg,vg,dr,Kne],e4),t4=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Ud(s));return o in zc?o:"point"}}},Qd=le([sn,yt,I6,$w,dr],t4);function Qne(e){if(e!=null){if(e in zc)return zc[e]();var t="scale".concat(Ud(e));if(t in zc)return zc[t]()}}function Zw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Qne(t);if(i!=null){var s=i.domain(r).range(n);return _J(s),s}}}var r4=(e,t,r)=>{var n=Xw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&jo(e))return vne(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&jo(e))return yne(e,t.tickCount,t.allowDecimals)}},eE=le([Jw,Kd,Qd],r4),n4=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&jo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},Jne=le([sn,Jw,eE,dr],n4),Zne=le(kg,sn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(yu(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),i4=le(Zne,yt,w6,Er,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Wr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Pi(r,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),eie=(e,t)=>{var r=$s(e,t);return r==null||typeof r.padding!="string"?0:i4(e,"xAxis",t,r.padding)},tie=(e,t)=>{var r=Us(e,t);return r==null||typeof r.padding!="string"?0:i4(e,"yAxis",t,r.padding)},rie=le($s,eie,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),nie=le(Us,tie,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),iie=le([Er,rie,og,ag,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),sie=le([Er,yt,nie,og,ag,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return iie(e,r,n);case"yAxis":return sie(e,r,n);case"zAxis":return(i=Gw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return S6(e);case"radiusAxis":return C6(e,r);default:return}},s4=le([sn,Jd],yg),_u=le([sn,Qd,Jne,s4],Zw);le([Xd,Qw,dr],Bne);function a4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Tg=(e,t)=>t,Sg=(e,t,r)=>r,aie=le(ig,Tg,Sg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a4)),oie=le(sg,Tg,Sg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(a4)),o4=(e,t)=>({width:e.width,height:t.height}),lie=(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}},l4=le(Er,$s,o4),uie=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cie=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},die=le(Bs,Er,aie,Tg,Sg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var c=o4(t,o);a==null&&(a=uie(t,n,e));var d=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),hie=le(Ms,Er,oie,Tg,Sg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var c=lie(t,o);a==null&&(a=cie(t,n,e));var d=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),fie=(e,t)=>{var r=$s(e,t);if(r!=null)return die(e,r.orientation,r.mirror)},pie=le([Er,$s,fie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),mie=(e,t)=>{var r=Us(e,t);if(r!=null)return hie(e,r.orientation,r.mirror)},gie=le([Er,Us,mie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),u4=le(Er,Us,(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}}),Fj=(e,t,r)=>{switch(t){case"xAxis":return l4(e,r).width;case"yAxis":return u4(e,r).height;default:return}},c4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=Do(e,n),c=t.map(d=>d.value);if(a&&o&&s==="category"&&i&&gD(c))return c}},tE=le([yt,kg,sn,dr],c4),d4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Do(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},rE=le([yt,kg,Kd,dr],d4),$j=le([yt,jne,Qd,_u,tE,rE,Jd,eE,dr],(e,t,r,n,i,s,a,o,c)=>{if(t==null)return null;var d=Do(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:o,range:a,realScaleType:r,scale:n}}),vie=(e,t,r,n,i,s,a,o,c)=>{if(!(t==null||n==null)){var d=Do(e,c),{type:f,ticks:p,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=f==="category"&&n.bandwidth?n.bandwidth()/g:0;_=c==="angleAxis"&&s!=null&&s.length>=2?_n(s[0]-s[1])*2*_:_;var x=p||i;if(x){var b=x.map((w,A)=>{var S=a?a.indexOf(w):w;return{index:A,coordinate:n(S)+_,value:w,offset:_}});return b.filter(w=>!ai(w.coordinate))}return d&&o?o.map((w,A)=>({coordinate:n(w)+_,value:w,index:A,offset:_})):n.ticks?n.ticks(v).map(w=>({coordinate:n(w)+_,value:w,offset:_})):n.domain().map((w,A)=>({coordinate:n(w)+_,value:a?a[w]:w,index:A,offset:_}))}},h4=le([yt,Kd,Qd,_u,eE,Jd,tE,rE,dr],vie),yie=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Do(e,a),{tickCount:c}=t,d=0;return d=a==="angleAxis"&&(n==null?void 0:n.length)>=2?_n(n[0]-n[1])*2*d:d,o&&s?s.map((f,p)=>({coordinate:r(f)+d,value:f,index:p,offset:d})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,p)=>({coordinate:r(f)+d,value:i?i[f]:f,index:p,offset:d}))}},Ql=le([yt,Kd,_u,Jd,tE,rE,dr],yie),Jl=le(sn,_u,(e,t)=>{if(!(e==null||t==null))return fm(fm({},e),{},{scale:t})}),bie=le([sn,Qd,Jw,s4],Zw);le((e,t,r)=>Gw(e,r),bie,(e,t)=>{if(!(e==null||t==null))return fm(fm({},e),{},{scale:t})});var _ie=le([yt,ig,sg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),f4=e=>e.options.defaultTooltipEventType,p4=e=>e.options.validateTooltipEventTypes;function m4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function nE(e,t){var r=f4(e),n=p4(e);return m4(t,r,n)}function xie(e){return Ve(t=>nE(t,e))}var g4=(e,t)=>{var r,n=Number(t);if(!(ai(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wie=e=>e.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,coordinate:void 0},Eie={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v4=Un({name:"tooltip",initialState:Eie,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Jr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ss(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Jr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kie,removeTooltipEntrySettings:Tie,setTooltipSettingsState:Sie,setActiveMouseOverItemIndex:y4,mouseLeaveItem:Cie,mouseLeaveChart:b4,setActiveClickItemIndex:Aie,setMouseOverAxisIndex:_4,setMouseClickAxisIndex:Nie,setSyncInteraction:P_,setKeyboardInteraction:I_}=v4.actions,jie=v4.reducer;function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){Oie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rie(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Die(e){return e.index!=null}var x4=(e,t,r,n)=>{if(t==null)return xa;var i=Rie(e,t,r);if(i==null)return xa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Die(i)){if(s)return Yf(Yf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Yf(Yf({},xa),{},{coordinate:i.coordinate})},iE=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Wr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},w4=(e,t,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var c=a[0],d=c==null?void 0:o(c.positions,s);if(d!=null)return d;var f=i==null?void 0:i[Number(s)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},E4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Zd=e=>e.options.tooltipPayloadSearcher,xu=e=>e.tooltip;function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mie(e){var t=Bie(e,"string");return typeof t=="symbol"?t:t+""}function Bie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fie(e,t){return e??t}var k4=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:f}=r,p=[];return e.reduce((v,g)=>{var _,{dataDefinedOnItem:x,settings:b}=g,w=Fie(x,o),A=Array.isArray(w)?iL(w,d,f):w,S=(_=b==null?void 0:b.dataKey)!==null&&_!==void 0?_:n,O=b==null?void 0:b.nameKey,j;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&a==="axis"?j=rX(A,n,i):j=s(A,t,c,O),Array.isArray(j))j.forEach(P=>{var R=zj(zj({},b),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(_N({tooltipEntrySettings:R,dataKey:P.dataKey,payload:P.payload,value:rn(P.payload,P.dataKey),name:P.name}))});else{var N;v.push(_N({tooltipEntrySettings:b,dataKey:S,payload:j,value:rn(j,S),name:(N=rn(j,O))!==null&&N!==void 0?N:b==null?void 0:b.name}))}return v},p)}},sE=le([fr,yt,I6,$w,hr],t4),$ie=le([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Uie=le([hr,vu],R6),eh=le([$ie,fr,Uie],D6,{memoizeOptions:{resultEqualityCheck:Eg}}),Hie=le([eh],e=>e.filter(xg)),zie=le([eh],B6,{memoizeOptions:{resultEqualityCheck:Eg}}),wu=le([zie,Ma],F6),Wie=le([Hie,Ma,fr],j6),aE=le([wu,fr,eh],$6),T4=le([fr],Xw),qie=le([fr],e=>e.allowDataOverflow),S4=le([T4,qie],a6),Vie=le([eh],e=>e.filter(xg)),Gie=le([Wie,Vie,vg],H6),Yie=le([Gie,Ma,hr,S4],z6),Kie=le([eh],M6),Xie=le([wu,fr,Kie,Qw,hr],V6,{memoizeOptions:{resultEqualityCheck:wg}}),Qie=le([G6,hr,vu],bu),Jie=le([Qie,hr],X6),Zie=le([Y6,hr,vu],bu),ese=le([Zie,hr],Q6),tse=le([K6,hr,vu],bu),rse=le([tse,hr],J6),nse=le([Jie,rse,ese],pm),ise=le([fr,T4,S4,Yie,Xie,nse,yt,hr],Z6),C4=le([fr,yt,wu,aE,vg,hr,ise],e4),sse=le([C4,fr,sE],r4),ase=le([fr,C4,sse,hr],n4),A4=e=>{var t=hr(e),r=vu(e),n=!1;return Jd(e,t,r,n)},N4=le([fr,A4],yg),j4=le([fr,sE,ase,N4],Zw),ose=le([yt,aE,fr,hr],c4),lse=le([yt,aE,fr,hr],d4),use=(e,t,r,n,i,s,a,o)=>{if(t){var{type:c}=t,d=Do(e,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_n(i[0]-i[1])*2*p:p,d&&a?a.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:s?s[v]:v,index:g,offset:p}))}}},Hs=le([yt,fr,sE,j4,A4,ose,lse,hr],use),oE=le([f4,p4,wie],(e,t,r)=>m4(r.shared,e,t)),O4=e=>e.tooltip.settings.trigger,lE=e=>e.tooltip.settings.defaultIndex,Cg=le([xu,oE,O4,lE],x4),Zl=le([Cg,wu],iE),P4=le([Hs,Zl],g4),I4=le([Cg],e=>{if(e)return e.dataKey}),R4=le([xu,oE,O4,lE],E4),cse=le([Ms,Bs,yt,Er,Hs,lE,R4,Zd],w4),dse=le([Cg,cse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hse=le([Cg],e=>e.active),fse=le([R4,Zl,Ma,N6,P4,Zd,oE],k4);le([fse],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pse(e,t,r){return(t=mse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vse=()=>Ve(fr),yse=()=>{var e=vse(),t=Ve(Hs),r=Ve(j4);return lw(qj(qj({},e),{},{scale:r}),t)},bse=()=>Ve($w),uE=(e,t)=>t,D4=(e,t,r)=>r,cE=(e,t,r,n)=>n,_se=le(Hs,e=>Jm(e,t=>t.coordinate)),dE=le([xu,uE,D4,cE],x4),L4=le([dE,wu],iE),xse=(e,t,r)=>{if(t!=null){var n=xu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},M4=le([xu,uE,D4,cE],E4),mm=le([Ms,Bs,yt,Er,Hs,cE,M4,Zd],w4),wse=le([dE,mm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),B4=le(Hs,L4,g4),Ese=le([M4,L4,Ma,N6,B4,Zd,uE],k4),kse=le([dE],e=>({isActive:e.active,activeIndex:e.index})),Tse=(e,t,r,n,i,s,a,o)=>{if(!(!e||!t||!n||!i||!s)){var c=OJ(e.chartX,e.chartY,t,r,o);if(c){var d=IJ(c,t),f=yJ(d,a,s,n,i),p=PJ(t,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}};function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(null,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){Sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sse(e,t,r){return(t=Cse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cse(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nse(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:c,chartName:d}=e,f=t,p=r,v=n;if(!o||!f||d!=="ScatterChart"&&c!=="axis")return null;var g,_;if(d==="ScatterChart")g=f,_=HZ;else if(d==="BarChart")g=zZ(a,f,i,s),_=xL;else if(a==="radial"){var{cx:x,cy:b,radius:w,startAngle:A,endAngle:S}=wL(f);g={cx:x,cy:b,startAngle:A,endAngle:S,innerRadius:w,outerRadius:w},_=kL}else g={points:See(a,f,i)},_=IZ;var O=typeof o=="object"&&"className"in o?o.className:void 0,j=Kf(Kf(Kf(Kf({stroke:"#ccc",pointerEvents:"none"},i),g),Gx(o)),{},{payload:p,payloadIndex:v,className:It("recharts-tooltip-cursor",O)});return E.isValidElement(o)?E.cloneElement(o,j):E.createElement(_,j)}function jse(e){var t=yse(),r=hL(),n=dw(),i=bse();return E.createElement(Nse,R_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var F4=E.createContext(null),Ose=()=>E.useContext(F4),Pb={exports:{}},Gj;function Pse(){return Gj||(Gj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||c,v),_=r?r+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],g]:c._events[_].push(g):(c._events[_]=g,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,_=new Array(g);v<g;v++)_[v]=p[v].fn;return _},o.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(d,f,p,v,g,_){var x=r?r+d:d;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,A,S;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,v),!0;case 5:return b.fn.call(b.context,f,p,v,g),!0;case 6:return b.fn.call(b.context,f,p,v,g,_),!0}for(S=1,A=new Array(w-1);S<w;S++)A[S-1]=arguments[S];b.fn.apply(b.context,A)}else{var O=b.length,j;for(S=0;S<O;S++)switch(b[S].once&&this.removeListener(d,b[S].fn,void 0,!0),w){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,p);break;case 4:b[S].fn.call(b[S].context,f,p,v);break;default:if(!A)for(j=1,A=new Array(w-1);j<w;j++)A[j-1]=arguments[j];b[S].fn.apply(b[S].context,A)}}return!0},o.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},o.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},o.prototype.removeListener=function(d,f,p,v){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return a(this,g),this;var _=this._events[g];if(_.fn)_.fn===f&&(!v||_.once)&&(!p||_.context===p)&&a(this,g);else{for(var x=0,b=[],w=_.length;x<w;x++)(_[x].fn!==f||v&&!_[x].once||p&&_[x].context!==p)&&b.push(_[x]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Pb)),Pb.exports}var Ise=Pse();const Rse=ui(Ise);var Cd=new Rse,D_="recharts.syncEvent.tooltip",Yj="recharts.syncEvent.brush";function Dse(e,t){if(t){var r=Number.parseInt(t,10);if(!ai(r))return e==null?void 0:e[r]}}var Lse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$4=Un({name:"options",initialState:Lse,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Mse=$4.reducer,{createEventEmitter:Bse}=$4.actions;function Fse(e){return e.tooltip.syncInteraction}var $se={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},U4=Un({name:"chartData",initialState:$se,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Kj,setDataStartEndIndexes:Use,setComputedData:Ave}=U4.actions,Hse=U4.reducer,zse=["x","y"];function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){Wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wse(e,t,r){return(t=qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=Vse(e,"string");return typeof t=="symbol"?t:t+""}function Vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gse(e,t){if(e==null)return{};var r,n,i=Yse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H4=()=>{};function Kse(){var e=Ve(Uw),t=Ve(Hw),r=ur(),n=Ve(E6),i=Ve(Hs),s=dw(),a=lg(),o=Ve(c=>c.rootProps.className);E.useEffect(()=>{if(e==null)return H4;var c=(d,f,p)=>{if(t!==p&&e===d){if(n==="index"){var v;if(a&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:_,y:x}=g,b=Gse(g,zse),{x:w,y:A,width:S,height:O}=f.payload.sourceViewBox,j=El(El({},b),{},{x:a.x+(S?(_-w)/S:0)*a.width,y:a.y+(O?(x-A)/O:0)*a.height});r(El(El({},f),{},{payload:El(El({},f.payload),{},{coordinate:j})}))}else r(f);return}if(i!=null){var N;if(typeof n=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},R=n(i,P);N=i[R]}else n==="value"&&(N=i.find(Q=>String(Q.value)===f.payload.label));var{coordinate:H}=f.payload;if(N==null||f.payload.active===!1||H==null||a==null){r(P_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:D,y:M}=H,F=Math.min(D,a.x+a.width),Y=Math.min(M,a.y+a.height),G={x:s==="horizontal"?N.coordinate:F,y:s==="horizontal"?Y:N.coordinate},W=P_({active:f.payload.active,coordinate:G,dataKey:f.payload.dataKey,index:String(N.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});r(W)}}};return Cd.on(D_,c),()=>{Cd.off(D_,c)}},[o,r,t,e,n,i,s,a])}function Xse(){var e=Ve(Uw),t=Ve(Hw),r=ur();E.useEffect(()=>{if(e==null)return H4;var n=(i,s,a)=>{t!==a&&e===i&&r(Use(s))};return Cd.on(Yj,n),()=>{Cd.off(Yj,n)}},[r,t,e])}function Qse(){var e=ur();E.useEffect(()=>{e(Bse())},[e]),Kse(),Xse()}function Jse(e,t,r,n,i,s){var a=Ve(g=>xse(g,e,t)),o=Ve(Hw),c=Ve(Uw),d=Ve(E6),f=Ve(Fse),p=f==null?void 0:f.active,v=lg();E.useEffect(()=>{if(!p&&c!=null&&o!=null){var g=P_({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v});Cd.emit(D_,c,g,o)}},[p,r,a,i,n,o,c,d,s,v])}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){Zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zse(e,t,r){return(t=eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rae(e){return e.dataKey}function nae(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(bZ,t)}var Zj=[],iae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sae(e){var t=di(e,iae),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:_,cursor:x,shared:b,trigger:w,defaultIndex:A,portal:S,axisId:O}=t,j=ur(),N=typeof A=="number"?String(A):A;E.useEffect(()=>{j(Sie({shared:b,trigger:w,axisId:O,active:r,defaultIndex:N}))},[j,b,w,O,r,N]);var P=lg(),R=gL(),H=xie(b),{activeIndex:D,isActive:M}=Ve(ke=>kse(ke,H,w,N)),F=Ve(ke=>Ese(ke,H,w,N)),Y=Ve(ke=>B4(ke,H,w,N)),G=Ve(ke=>wse(ke,H,w,N)),W=F,Q=Ose(),te=r??M,[ne,oe]=lQ([W,te]),L=H==="axis"?Y:void 0;Jse(H,w,G,L,D,te);var V=S??Q;if(V==null)return null;var ie=W??Zj;te||(ie=Zj),o&&ie.length&&(ie=RX(W.filter(ke=>ke.value!=null&&(ke.hide!==!0||t.includeHidden)),f,rae));var $=ie.length>0,Ee=E.createElement(SZ,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:te,coordinate:G,hasPayload:$,offset:d,position:p,reverseDirection:v,useTranslate3d:g,viewBox:P,wrapperStyle:_,lastBoundingBox:ne,innerRef:oe,hasPortalFromProps:!!S},nae(a,Jj(Jj({},t),{},{payload:ie,label:L,active:te,coordinate:G,accessibilityLayer:R})));return E.createElement(E.Fragment,null,FP.createPortal(Ee,V),te&&E.createElement(jse,{cursor:x,tooltipEventType:H,coordinate:G,payload:W,index:D}))}var hE=e=>null;hE.displayName="Cell";function aae(e,t,r){return(t=oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uae{constructor(t){aae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){dae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dae(e,t,r){return(t=hae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pae={cacheSize:2e3,enableCache:!0},z4=cae({},pae),tO=new uae(z4.cacheSize),mae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rO="recharts_measurement_span";function gae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var nO=(e,t)=>{try{var r=document.getElementById(rO);r||(r=document.createElement("span"),r.setAttribute("id",rO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,mae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ed=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fu.isSsr)return{width:0,height:0};if(!z4.enableCache)return nO(t,r);var n=gae(t,r),i=tO.get(n);if(i)return i;var s=nO(t,r);return tO.set(n,s),s},iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bae=Object.keys(W4),Ol="NaN";function _ae(e,t){return e*W4[t]}class gn{static parse(t){var r,[,n,i]=(r=yae.exec(t))!==null&&r!==void 0?r:[];return new gn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ai(t)&&(this.unit=""),r!==""&&!vae.test(r)&&(this.num=NaN,this.unit=""),bae.includes(r)&&(this.num=_ae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ai(this.num)}}function q4(e){if(e.includes(Ol))return Ol;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=iO.exec(t))!==null&&r!==void 0?r:[],a=gn.parse(n??""),o=gn.parse(s??""),c=i==="*"?a.multiply(o):a.divide(o);if(c.isNaN())return Ol;t=t.replace(iO,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,v]=(d=sO.exec(t))!==null&&d!==void 0?d:[],g=gn.parse(f??""),_=gn.parse(v??""),x=p==="+"?g.add(_):g.subtract(_);if(x.isNaN())return Ol;t=t.replace(sO,x.toString())}return t}var aO=/\(([^()]*)\)/;function xae(e){for(var t=e,r;(r=aO.exec(t))!=null;){var[,n]=r;t=t.replace(aO,q4(n))}return t}function wae(e){var t=e.replace(/\s+/g,"");return t=xae(t),t=q4(t),t}function Eae(e){try{return wae(e)}catch{return Ol}}function Ib(e){var t=Eae(e.slice(5,-1));return t===Ol?"":t}var kae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tae=["dx","dy","angle","className","breakAll"];function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(null,arguments)}function oO(e,t){if(e==null)return{};var r,n,i=Sae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var V4=/[ \f\n\r\t\v\u2028\u2029]+/,G4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];wr(t)||(r?i=t.toString().split(""):i=t.toString().split(V4));var s=i.map(o=>({word:o,width:ed(o,n).width})),a=r?0:ed("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Cae=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:c}=e,d=He(s),f=a,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((F,Y)=>{var{word:G,width:W}=Y,Q=F[F.length-1];if(Q&&(n==null||i||Q.width+W+r<Number(n)))Q.words.push(G),Q.width+=W+r;else{var te={words:[G],width:W};F.push(te)}return F},[])},v=p(t),g=D=>D.reduce((M,F)=>M.width>F.width?M:F);if(!d||i)return v;var _=v.length>s||g(v).width>Number(n);if(!_)return v;for(var x="",b=D=>{var M=f.slice(0,D),F=G4({breakAll:c,style:o,children:M+x}).wordsWithComputedWidth,Y=p(F),G=Y.length>s||g(Y).width>Number(n);return[G,Y]},w=0,A=f.length-1,S=0,O;w<=A&&S<=f.length-1;){var j=Math.floor((w+A)/2),N=j-1,[P,R]=b(N),[H]=b(j);if(!P&&!H&&(w=j+1),P&&H&&(A=j-1),!P&&H){O=R;break}S++}return O||v},lO=e=>{var t=wr(e)?[]:e.toString().split(V4);return[{words:t}]},Aae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!fu.isSsr){var o,c,d=G4({breakAll:s,children:n,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;o=f,c=p}else return lO(n);return Cae({breakAll:s,children:n,maxLines:a,style:i},o,c,t,r)}return lO(n)},uO="#808080",fE=E.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=uO}=e,f=oO(e,kae),p=E.useMemo(()=>Aae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:a,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,a,f.style,f.width]),{dx:v,dy:g,angle:_,className:x,breakAll:b}=f,w=oO(f,Tae);if(!ts(r)||!ts(n)||p.length===0)return null;var A=r+(He(v)?v:0),S=n+(He(g)?g:0),O;switch(c){case"start":O=Ib("calc(".concat(s,")"));break;case"middle":O=Ib("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:O=Ib("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(a){var N=p[0].width,{width:P}=f;j.push("scale(".concat(He(P)?P/N:1,")"))}return _&&j.push("rotate(".concat(_,", ").concat(A,", ").concat(S,")")),j.length&&(w.transform=j.join(" ")),E.createElement("text",L_({},si(w),{ref:t,x:A,y:S,className:It("recharts-text",x),textAnchor:o,fill:d.includes("url")?uO:d}),p.map((R,H)=>{var D=R.words.join(b?"":" ");return E.createElement("tspan",{x:A,dy:H===0?O:i,key:"".concat(D,"-").concat(H)},D)}))});fE.displayName="Text";var Nae=["labelRef"];function jae(e,t){if(e==null)return{};var r,n,i=Oae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pae(e,t,r){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}var Y4=E.createContext(null),Dae=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,a=E.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return E.createElement(Y4.Provider,{value:a},s)},K4=()=>{var e=E.useContext(Y4),t=lg();return e||t},Lae=E.createContext(null),Mae=()=>{var e=E.useContext(Lae),t=Ve(A6);return e||t},Bae=e=>{var{value:t,formatter:r}=e,n=wr(e.children)?t:e.children;return typeof r=="function"?r(n):n},pE=e=>e!=null&&typeof e=="function",Fae=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$ae=(e,t,r,n,i)=>{var{offset:s,className:a}=e,{cx:o,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:v,clockWise:g}=i,_=(d+f)/2,x=Fae(p,v),b=x>=0?1:-1,w,A;switch(t){case"insideStart":w=p+b*s,A=g;break;case"insideEnd":w=v-b*s,A=!g;break;case"end":w=v+b*s,A=g;break;default:throw new Error("Unsupported position ".concat(t))}A=x<=0?A:!A;var S=Or(o,c,_,w),O=Or(o,c,_,w+(A?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),N=wr(e.id)?vd("recharts-radial-line-"):e.id;return E.createElement("text",xs({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:N,d:j})),E.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Uae=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(r==="outside"){var{x:f,y:p}=Or(n,i,a+t,d);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+a)/2,{x:g,y:_}=Or(n,i,v,d);return{x:g,y:_,textAnchor:"middle",verticalAnchor:"middle"}},X4=e=>"cx"in e&&He(e.cx),Hae=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!X4(r)&&(s=r);var{x:a,y:o,width:c,height:d}=t,f=d>=0?1:-1,p=f*n,v=f>0?"end":"start",g=f>0?"start":"end",_=c>=0?1:-1,x=_*n,b=_>0?"end":"start",w=_>0?"start":"end";if(i==="top"){var A={x:a+c/2,y:o-f*n,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},A),s?{height:Math.max(o-s.y,0),width:c}:{})}if(i==="bottom"){var S={x:a+c/2,y:o+d+p,textAnchor:"middle",verticalAnchor:g};return Gt(Gt({},S),s?{height:Math.max(s.y+s.height-(o+d),0),width:c}:{})}if(i==="left"){var O={x:a-x,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return Gt(Gt({},O),s?{width:Math.max(O.x-s.x,0),height:d}:{})}if(i==="right"){var j={x:a+c+x,y:o+d/2,textAnchor:w,verticalAnchor:"middle"};return Gt(Gt({},j),s?{width:Math.max(s.x+s.width-j.x,0),height:d}:{})}var N=s?{width:c,height:d}:{};return i==="insideLeft"?Gt({x:a+x,y:o+d/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Gt({x:a+c-x,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Gt({x:a+c/2,y:o+p,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Gt({x:a+c/2,y:o+d-p,textAnchor:"middle",verticalAnchor:v},N):i==="insideTopLeft"?Gt({x:a+x,y:o+p,textAnchor:w,verticalAnchor:g},N):i==="insideTopRight"?Gt({x:a+c-x,y:o+p,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Gt({x:a+x,y:o+d-p,textAnchor:w,verticalAnchor:v},N):i==="insideBottomRight"?Gt({x:a+c-x,y:o+d-p,textAnchor:b,verticalAnchor:v},N):i&&typeof i=="object"&&(He(i.x)||js(i.x))&&(He(i.y)||js(i.y))?Gt({x:a+Pi(i.x,c),y:o+Pi(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Gt({x:a+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},zae={offset:5};function ba(e){var t=di(e,zae),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:c,labelRef:d}=t,f=Mae(),p=K4(),v=n==="center"?p:f??p,g=r||v;if(!g||wr(i)&&wr(s)&&!E.isValidElement(a)&&typeof a!="function")return null;var _=Gt(Gt({},t),{},{viewBox:g});if(E.isValidElement(a)){var{labelRef:x}=_,b=jae(_,Nae);return E.cloneElement(a,b)}var w;if(typeof a=="function"){if(w=E.createElement(a,_),E.isValidElement(w))return w}else w=Bae(t);var A=X4(g),S=si(t);if(A&&(n==="insideStart"||n==="insideEnd"||n==="end"))return $ae(t,n,w,S,g);var O=A?Uae(g,t.offset,t.position):Hae(t,g);return E.createElement(fE,xs({ref:d,className:It("recharts-label",o)},S,O,{breakAll:c}),w)}ba.displayName="Label";var Wae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?E.createElement(ba,xs({key:"label-implicit"},n)):ts(e)?E.createElement(ba,xs({key:"label-implicit",value:e},n)):E.isValidElement(e)?e.type===ba?E.cloneElement(e,Gt({key:"label-implicit"},n)):E.createElement(ba,xs({key:"label-implicit",content:e},n)):pE(e)?E.createElement(ba,xs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?E.createElement(ba,xs({},e,{key:"label-implicit"},n)):null};function qae(e){var{label:t,labelRef:r}=e,n=K4();return Wae(t,n,r)||null}var Rb={},Db={},dO;function Vae(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Db)),Db}var Lb={},hO;function Gae(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Lb)),Lb}var fO;function Yae(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vae(),r=Gae(),n=tw();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(Rb)),Rb}var Mb,pO;function Kae(){return pO||(pO=1,Mb=Yae().last),Mb}var Xae=Kae();const Qae=ui(Xae);var Jae=["valueAccessor"],Zae=["dataKey","clockWise","id","textBreakAll"];function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(null,arguments)}function mO(e,t){if(e==null)return{};var r,n,i=eoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var toe=e=>Array.isArray(e.value)?Qae(e.value):e.value,Q4=E.createContext(void 0),roe=Q4.Provider,J4=E.createContext(void 0);J4.Provider;function noe(){return E.useContext(Q4)}function ioe(){return E.useContext(J4)}function up(e){var{valueAccessor:t=toe}=e,r=mO(e,Jae),{dataKey:n,clockWise:i,id:s,textBreakAll:a}=r,o=mO(r,Zae),c=noe(),d=ioe(),f=c||d;return!f||!f.length?null:E.createElement(ja,{className:"recharts-label-list"},f.map((p,v)=>{var g,_=wr(n)?t(p,v):rn(p&&p.payload,n),x=wr(s)?{}:{id:"".concat(s,"-").concat(v)};return E.createElement(ba,gm({key:"label-".concat(v)},si(p),o,x,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:_,textBreakAll:a,viewBox:p.viewBox,index:v}))}))}up.displayName="LabelList";function soe(e){var{label:t}=e;return t?t===!0?E.createElement(up,{key:"labelList-implicit"}):E.isValidElement(t)||pE(t)?E.createElement(up,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(up,gm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var aoe={radiusAxis:{},angleAxis:{}},Z4=Un({name:"polarAxis",initialState:aoe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Nve,removeRadiusAxis:jve,addAngleAxis:Ove,removeAngleAxis:Pve}=Z4.actions,ooe=Z4.reducer,Bb={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO;function loe(){if(gO)return bt;gO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function _(x){if(typeof x=="object"&&x!==null){var b=x.$$typeof;switch(b){case e:switch(x=x.type,x){case r:case i:case n:case c:case d:case v:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case p:case f:return x;case s:return x;default:return b}}case t:return b}}}return bt.ContextConsumer=s,bt.ContextProvider=a,bt.Element=e,bt.ForwardRef=o,bt.Fragment=r,bt.Lazy=p,bt.Memo=f,bt.Portal=t,bt.Profiler=i,bt.StrictMode=n,bt.Suspense=c,bt.SuspenseList=d,bt.isContextConsumer=function(x){return _(x)===s},bt.isContextProvider=function(x){return _(x)===a},bt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},bt.isForwardRef=function(x){return _(x)===o},bt.isFragment=function(x){return _(x)===r},bt.isLazy=function(x){return _(x)===p},bt.isMemo=function(x){return _(x)===f},bt.isPortal=function(x){return _(x)===t},bt.isProfiler=function(x){return _(x)===i},bt.isStrictMode=function(x){return _(x)===n},bt.isSuspense=function(x){return _(x)===c},bt.isSuspenseList=function(x){return _(x)===d},bt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===c||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===a||x.$$typeof===s||x.$$typeof===o||x.$$typeof===g||x.getModuleId!==void 0)},bt.typeOf=_,bt}var vO;function uoe(){return vO||(vO=1,Bb.exports=loe()),Bb.exports}var coe=uoe(),yO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",bO=null,Fb=null,eM=e=>{if(e===bO&&Array.isArray(Fb))return Fb;var t=[];return E.Children.forEach(e,r=>{wr(r)||(coe.isFragment(r)?t=t.concat(eM(r.props.children)):t.push(r))}),Fb=t,bO=e,t};function doe(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>yO(i)):n=[yO(t)],eM(e).forEach(i=>{var s=Vl(i,"type.displayName")||Vl(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var $b={},_O;function hoe(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($b)),$b}var Ub,xO;function foe(){return xO||(xO=1,Ub=hoe().isPlainObject),Ub}var poe=foe();const moe=ui(poe);function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return(t=voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function voe(e){var t=yoe(e,"string");return typeof t=="symbol"?t:t+""}function yoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(null,arguments)}var kO=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},boe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_oe=e=>{var t=di(e,boe),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=t,v=E.useRef(null),[g,_]=E.useState(-1),x=E.useRef(i),b=E.useRef(s),w=E.useRef(a),A=E.useRef(r),S=E.useRef(n),O=fw(e,"trapezoid-");if(E.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var G=v.current.getTotalLength();G&&_(G)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=It("recharts-trapezoid",o);if(!p)return E.createElement("g",null,E.createElement("path",vm({},si(t),{className:j,d:kO(r,n,i,s,a)})));var N=x.current,P=b.current,R=w.current,H=A.current,D=S.current,M="0px ".concat(g===-1?1:g,"px"),F="".concat(g,"px 0px"),Y=vL(["strokeDasharray"],d,c);return E.createElement(hw,{animationId:O,key:O,canBegin:g>0,duration:d,easing:c,isActive:p,begin:f},G=>{var W=Qr(N,i,G),Q=Qr(P,s,G),te=Qr(R,a,G),ne=Qr(H,r,G),oe=Qr(D,n,G);v.current&&(x.current=W,b.current=Q,w.current=te,A.current=ne,S.current=oe);var L=G>0?{transition:Y,strokeDasharray:F}:{strokeDasharray:M};return E.createElement("path",vm({},si(t),{className:j,d:kO(ne,oe,W,Q,te),ref:v,style:EO(EO({},L),t.style)}))})},xoe=["option","shapeType","propTransformer","activeClassName","isActive"];function woe(e,t){if(e==null)return{};var r,n,i=Eoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){koe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function koe(e,t,r){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=Soe(e,"string");return typeof t=="symbol"?t:t+""}function Soe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Coe(e,t){return ym(ym({},t),e)}function Aoe(e,t){return e==="symbols"}function SO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return E.createElement(xL,r);case"trapezoid":return E.createElement(_oe,r);case"sector":return E.createElement(kL,r);case"symbols":if(Aoe(t))return E.createElement(yD,r);break;default:return null}}function Noe(e){return E.isValidElement(e)?e.props:e}function joe(e){var{option:t,shapeType:r,propTransformer:n=Coe,activeClassName:i="recharts-active-shape",isActive:s}=e,a=woe(e,xoe),o;if(E.isValidElement(t))o=E.cloneElement(t,ym(ym({},a),Noe(t)));else if(typeof t=="function")o=t(a);else if(moe(t)&&typeof t!="boolean"){var c=n(t,a);o=E.createElement(SO,{shapeType:r,elementProps:c})}else{var d=a;o=E.createElement(SO,{shapeType:r,elementProps:d})}return s?E.createElement(ja,{className:i},o):o}var tM=(e,t)=>{var r=ur();return(n,i)=>s=>{e==null||e(n,i,s),r(y4({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},rM=e=>{var t=ur();return(r,n)=>i=>{e==null||e(r,n,i),t(Cie())}},nM=(e,t)=>{var r=ur();return(n,i)=>s=>{e==null||e(n,i,s),r(Aie({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Ooe(e){var{fn:t,args:r}=e,n=ur(),i=Hn();return E.useLayoutEffect(()=>{if(!i){var s=t(r);return n(kie(s)),()=>{n(Tie(s))}}},[t,r,n,i]),null}var Poe=()=>{};function Ioe(e){var{legendPayload:t}=e,r=ur(),n=Hn();return E.useLayoutEffect(()=>n?Poe:(r(hZ(t)),()=>{r(fZ(t))}),[r,n,t]),null}var Hb,Roe=()=>{var[e]=E.useState(()=>vd("uid-"));return e},Doe=(Hb=GB.useId)!==null&&Hb!==void 0?Hb:Roe;function Loe(e,t){var r=Doe();return t||(e?"".concat(e,"-").concat(r):r)}var Moe=E.createContext(void 0),Boe=e=>{var{id:t,type:r,children:n}=e,i=Loe("recharts-".concat(r),t);return E.createElement(Moe.Provider,{value:i},n(i))},Foe={cartesianItems:[],polarItems:[]},iM=Un({name:"graphicalItems",initialState:Foe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Jr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ss(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Jr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ss(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Jr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Jr()},removePolarGraphicalItem:{reducer(e,t){var r=Ss(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Jr()}}}),{addCartesianGraphicalItem:$oe,replaceCartesianGraphicalItem:Uoe,removeCartesianGraphicalItem:Hoe,addPolarGraphicalItem:Ive,removePolarGraphicalItem:Rve}=iM.actions,zoe=iM.reducer;function Woe(e){var t=ur(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?t($oe(e)):r.current!==e&&t(Uoe({prev:r.current,next:e})),r.current=e},[t,e]),E.useLayoutEffect(()=>()=>{r.current&&(t(Hoe(r.current)),r.current=null)},[t]),null}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t,r){return(t=Voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Voe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yoe={xAxis:{},yAxis:{},zAxis:{}},sM=Un({name:"cartesianAxis",initialState:Yoe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Jr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Jr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Jr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Jr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Jr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Jr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);e.yAxis[r]=AO(AO({},e.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:Koe,removeXAxis:Xoe,addYAxis:Qoe,removeYAxis:Joe,addZAxis:Dve,removeZAxis:Lve,updateYAxisWidth:Zoe}=sM.actions,ele=sM.reducer,tle=le([Er],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),rle=le([tle,Ms,Bs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),aM=()=>Ve(rle),nle="Invariant failed";function ile(e,t){throw new Error(nle)}var sle=["x","y"];function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(null,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){ale(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ale(e,t,r){return(t=ole(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ole(e){var t=lle(e,"string");return typeof t=="symbol"?t:t+""}function lle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ule(e,t){if(e==null)return{};var r,n,i=cle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dle(e,t){var{x:r,y:n}=e,i=ule(e,sle),s="".concat(r),a=parseInt(s,10),o="".concat(n),c=parseInt(o,10),d="".concat(t.height||i.height),f=parseInt(d,10),p="".concat(t.width||i.width),v=parseInt(p,10);return Oc(Oc(Oc(Oc(Oc({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function mE(e){return E.createElement(joe,M_({shapeType:"rectangle",propTransformer:dle,activeClassName:"recharts-active-bar"},e))}var hle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(He(t))return t;var s=He(n)||wr(n);return s?t(n,i):(s||ile(),r)}},fle={},oM=Un({name:"errorBars",initialState:fle,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Mve,replaceErrorBar:Bve,removeErrorBar:Fve}=oM.actions,ple=oM.reducer,mle=["children"];function gle(e,t){if(e==null)return{};var r,n,i=vle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ble=E.createContext(yle);function _le(e){var{children:t}=e,r=gle(e,mle);return E.createElement(ble.Provider,{value:r},t)}function lM(e,t){var r,n,i=Ve(d=>$s(d,e)),s=Ve(d=>Us(d,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:On.allowDataOverflow,c=a||o;return{needClip:c,needClipX:a,needClipY:o}}function xle(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=aM(),{needClipX:s,needClipY:a,needClip:o}=lM(t,r);if(!o)return null;var{x:c,y:d,width:f,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(n)},E.createElement("rect",{x:s?c:c-f/2,y:a?d:d-p/2,width:s?f:f*2,height:a?p:p*2}))}var wle=["onMouseEnter","onMouseLeave","onClick"],Ele=["value","background","tooltipPosition"],kle=["id"],Tle=["onMouseEnter","onClick","onMouseLeave"];function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(null,arguments)}function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return(t=Cle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=Ale(e,"string");return typeof t=="symbol"?t:t+""}function Ale(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bm(e,t){if(e==null)return{};var r,n,i=Nle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jle=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:oL(r,t),payload:e}]};function Ole(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:oL(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function Ple(e){var t=Ve(Zl),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:c}=s,d=bm(s,wle),f=tM(a,n),p=rM(o),v=nM(c,n);if(!i||r==null)return null;var g=Gx(i);return E.createElement(E.Fragment,null,r.map((_,x)=>{var{value:b,background:w,tooltipPosition:A}=_,S=bm(_,Ele);if(!w)return null;var O=f(_,x),j=p(_,x),N=v(_,x),P=Zr(Zr(Zr(Zr(Zr({option:i,isActive:String(x)===t},S),{},{fill:"#eee"},w),g),ew(d,_,x)),{},{onMouseEnter:O,onMouseLeave:j,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return E.createElement(mE,Oa({key:"background-bar-".concat(x)},P))}))}function Ile(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return Zr(Zr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return E.createElement(roe,{value:t?i:void 0},r)}function Rle(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=e,o=Ve(Zl),c=Ve(I4),d=r&&String(s)===o&&(c==null||a===c),f=d?r:t;return E.createElement(mE,Oa({},n,{name:String(n.name)},i,{isActive:d,option:f,index:s,dataKey:a}))}function Dle(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return E.createElement(mE,Oa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function Lle(e){var{data:t,props:r}=e,n=Ns(r),{id:i}=n,s=bm(n,kle),{shape:a,dataKey:o,activeBar:c}=r,{onMouseEnter:d,onClick:f,onMouseLeave:p}=r,v=bm(r,Tle),g=tM(d,o),_=rM(p),x=nM(f,o);return t?E.createElement(E.Fragment,null,t.map((b,w)=>E.createElement(ja,Oa({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},ew(v,b,w),{onMouseEnter:g(b,w),onMouseLeave:_(b,w),onClick:x(b,w)}),c?E.createElement(Rle,{shape:a,activeBar:c,baseProps:s,entry:b,index:w,dataKey:o}):E.createElement(Dle,{shape:a,baseProps:s,entry:b,index:w,dataKey:o})))):null}function Mle(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,p=r.current,v=fw(t,"recharts-bar-"),[g,_]=E.useState(!1),x=!g,b=E.useCallback(()=>{typeof d=="function"&&d(),_(!1)},[d]),w=E.useCallback(()=>{typeof f=="function"&&f(),_(!0)},[f]);return E.createElement(Ile,{showLabels:x,rects:n},E.createElement(hw,{animationId:v,begin:a,duration:o,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:w,key:v},A=>{var S=A===1?n:n==null?void 0:n.map((O,j)=>{var N=p&&p[j];if(N)return Zr(Zr({},O),{},{x:Qr(N.x,O.x,A),y:Qr(N.y,O.y,A),width:Qr(N.width,O.width,A),height:Qr(N.height,O.height,A)});if(i==="horizontal"){var P=Qr(0,O.height,A);return Zr(Zr({},O),{},{y:O.y+O.height-P,height:P})}var R=Qr(0,O.width,A);return Zr(Zr({},O),{},{width:R})});return A>0&&(r.current=S??null),S==null?null:E.createElement(ja,null,E.createElement(Lle,{props:t,data:S}))}),E.createElement(soe,{label:t.label}),t.children)}function Ble(e){var t=E.useRef(null);return E.createElement(Mle,{previousRectanglesRef:t,props:e})}var uM=0,Fle=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:rn(e,t)}};class $le extends E.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:c,id:d}=this.props;if(t||r==null)return null;var f=It("recharts-bar",i),p=d;return E.createElement(ja,{className:f,id:d},o&&E.createElement("defs",null,E.createElement(xle,{clipPathId:p,xAxisId:s,yAxisId:a})),E.createElement(ja,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},E.createElement(Ple,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),E.createElement(Ble,this.props)))}}var Ule={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fu.isSsr,legendType:"rect",minPointSize:uM,xAxisId:0,yAxisId:0};function Hle(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:f}=e,{needClip:p}=lM(t,r),v=dw(),g=Hn(),_=doe(e.children,hE),x=Ve(A=>gue(A,t,r,g,e.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var b,w=x==null?void 0:x[0];return w==null||w.height==null||w.width==null?b=0:b=v==="vertical"?w.height/2:w.width/2,E.createElement(_le,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Fle,errorBarOffset:b},E.createElement($le,Oa({},e,{layout:v,needClip:p,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function zle(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:p,offset:v,cells:g,parentViewBox:_}=e,x=t==="horizontal"?o:a,b=f?x.scale.domain():null,w=CJ({numericAxis:x});return p.map((A,S)=>{var O,j,N,P,R,H;f?O=xJ(f[S],b):(O=rn(A,r),Array.isArray(O)||(O=[w,O]));var D=hle(n,uM)(O[1],S);if(t==="horizontal"){var M,[F,Y]=[o.scale(O[0]),o.scale(O[1])];j=vN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:A,index:S}),N=(M=Y??F)!==null&&M!==void 0?M:void 0,P=i.size;var G=F-Y;if(R=ai(G)?0:G,H={x:j,y:v.top,width:P,height:v.height},Math.abs(D)>0&&Math.abs(R)<Math.abs(D)){var W=_n(R||D)*(Math.abs(D)-Math.abs(R));N-=W,R+=W}}else{var[Q,te]=[a.scale(O[0]),a.scale(O[1])];if(j=Q,N=vN({axis:o,ticks:d,bandSize:s,offset:i.offset,entry:A,index:S}),P=te-Q,R=i.size,H={x:v.left,y:N,width:v.width,height:R},Math.abs(D)>0&&Math.abs(P)<Math.abs(D)){var ne=_n(P||D)*(Math.abs(D)-Math.abs(P));P+=ne}}if(j==null||N==null||P==null||R==null)return null;var oe=Zr(Zr({},A),{},{x:j,y:N,width:P,height:R,value:f?O:O[1],payload:A,background:H,tooltipPosition:{x:j+P/2,y:N+R/2},parentViewBox:_},g&&g[S]&&g[S].props);return oe}).filter(Boolean)}function Wle(e){var t=di(e,Ule),r=Hn();return E.createElement(Boe,{id:t.id,type:"bar"},n=>E.createElement(E.Fragment,null,E.createElement(Ioe,{legendPayload:jle(t)}),E.createElement(Ooe,{fn:Ole,args:t}),E.createElement(Woe,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:SJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),E.createElement(Hle,Oa({},t,{id:n}))))}var cM=E.memo(Wle);cM.displayName="Bar";function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){qle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qle(e,t,r){return(t=Vle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vle(e){var t=Gle(e,"string");return typeof t=="symbol"?t:t+""}function Gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yle=(e,t)=>t,Kle=(e,t,r)=>r,Xle=(e,t,r,n)=>n,Qle=(e,t,r,n,i)=>i,th=le([Yw,Qle],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Jle=le([th],e=>e==null?void 0:e.maxBarSize),Zle=(e,t,r,n,i,s)=>s,PO=(e,t,r)=>{var n=r??e;if(!wr(n))return Pi(n,t,0)},eue=le([yt,Yw,Yle,Kle,Xle],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),tue=(e,t,r,n)=>{var i=yt(e);return i==="horizontal"?O_(e,"yAxis",r,n):O_(e,"xAxis",t,n)},rue=(e,t,r)=>{var n=yt(e);return n==="horizontal"?Fj(e,"xAxis",t):Fj(e,"yAxis",r)},nue=(e,t,r)=>{var n={},i=e.filter(xg),s=e.filter(d=>d.stackId==null),a=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),o=Object.entries(a).map(d=>{var[f,p]=d,v=p.map(_=>_.dataKey),g=PO(t,r,p[0].barSize);return{stackId:f,dataKeys:v,barSize:g}}),c=s.map(d=>{var f=[d.dataKey].filter(v=>v!=null),p=PO(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...o,...c]},iue=le([eue,_ne,rue],nue),sue=(e,t,r,n,i)=>{var s,a,o=th(e,t,r,n,i);if(o!=null){var c=yt(e),d=x6(e),{maxBarSize:f}=o,p=wr(f)?d:f,v,g;return c==="horizontal"?(v=Jl(e,"xAxis",t,n),g=Ql(e,"xAxis",t,n)):(v=Jl(e,"yAxis",r,n),g=Ql(e,"yAxis",r,n)),(s=(a=lw(v,g,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},dM=(e,t,r,n)=>{var i=yt(e),s,a;return i==="horizontal"?(s=Jl(e,"xAxis",t,n),a=Ql(e,"xAxis",t,n)):(s=Jl(e,"yAxis",r,n),a=Ql(e,"yAxis",r,n)),lw(s,a)};function aue(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Pi(e,r,0,!0),o,c=[];if(Wr(n[0].barSize)){var d=!1,f=r/s,p=n.reduce((w,A)=>w+(A.barSize||0),0);p+=(s-1)*a,p>=r&&(p-=(s-1)*a,a=0),p>=r&&f>0&&(d=!0,f*=.9,p=s*f);var v=(r-p)/2>>0,g={offset:v-a,size:0};o=n.reduce((w,A)=>{var S,O={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:g.offset+g.size+a,size:d?f:(S=A.barSize)!==null&&S!==void 0?S:0}},j=[...w,O];return g=j[j.length-1].position,j},c)}else{var _=Pi(t,r,0,!0);r-2*_-(s-1)*a<=0&&(a=0);var x=(r-2*_-(s-1)*a)/s;x>1&&(x>>=0);var b=Wr(i)?Math.min(x,i):x;o=n.reduce((w,A,S)=>[...w,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:_+(x+a)*S+(x-b)/2,size:b}}],c)}return o}}var oue=(e,t,r,n,i,s,a)=>{var o=wr(a)?t:a,c=aue(r,n,i!==s?i:s,e,o);return i!==s&&c!=null&&(c=c.map(d=>Xf(Xf({},d),{},{position:Xf(Xf({},d.position),{},{offset:d.position.offset-i/2})}))),c},lue=le([iue,x6,bne,w6,sue,dM,Jle],oue),uue=(e,t,r,n)=>Jl(e,"xAxis",t,n),cue=(e,t,r,n)=>Jl(e,"yAxis",r,n),due=(e,t,r,n)=>Ql(e,"xAxis",t,n),hue=(e,t,r,n)=>Ql(e,"yAxis",r,n),fue=le([lue,th],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),pue=(e,t)=>{var r=Vw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},mue=le([tue,th],pue),gue=le([Er,uw,uue,cue,due,hue,fue,yt,Mw,dM,mue,th,Zle],(e,t,r,n,i,s,a,o,c,d,f,p,v)=>{var{chartData:g,dataStartIndex:_,dataEndIndex:x}=c;if(!(p==null||a==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||s==null||d==null)){var{data:b}=p,w;if(b!=null&&b.length>0?w=b:w=g==null?void 0:g.slice(_,x+1),w!=null)return zle({layout:o,barSettings:p,pos:a,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:w,offset:e,cells:v})}}),vue=e=>{var{chartData:t}=e,r=ur(),n=Hn();return E.useEffect(()=>n?()=>{}:(r(Kj(t)),()=>{r(Kj(void 0))}),[t,r,n]),null},IO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hM=Un({name:"brush",initialState:IO,reducers:{setBrushSettings(e,t){return t.payload==null?IO:t.payload}}}),{setBrushSettings:$ve}=hM.actions,yue=hM.reducer;function bue(e,t,r){return(t=_ue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ue(e){var t=xue(e,"string");return typeof t=="symbol"?t:t+""}function xue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gE{static create(t){return new gE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}bue(gE,"EPS",1e-4);function wue(e){return(e%180+180)%180}var Eue=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=wue(i),a=s*Math.PI/180,o=Math.atan(n/r),c=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},kue={dots:[],areas:[],lines:[]},fM=Un({name:"referenceElements",initialState:kue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ss(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ss(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ss(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Uve,removeDot:Hve,addArea:zve,removeArea:Wve,addLine:qve,removeLine:Vve}=fM.actions,Tue=fM.reducer,Sue=E.createContext(void 0),Cue=e=>{var{children:t}=e,[r]=E.useState("".concat(vd("recharts"),"-clip")),n=aM();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return E.createElement(Sue.Provider,{value:r},E.createElement("defs",null,E.createElement("clipPath",{id:r},E.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function eu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Aue(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Eue(n,r)}function Nue(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function _m(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function jue(e,t){return pM(e,t+1)}function Oue(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=t,c=0,d=1,f=a,p=function(){var _=n==null?void 0:n[c];if(_===void 0)return{v:pM(n,d)};var x=c,b,w=()=>(b===void 0&&(b=r(_,x)),b),A=_.coordinate,S=c===0||_m(e,A,w,f,o);S||(c=0,f=a,d+=1),S&&(f=A+e*(w()/2+i),c+=d)},v;d<=s.length;)if(v=p(),v)return v.v;return[]}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Pue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pue(e,t,r){return(t=Iue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iue(e){var t=Rue(e,"string");return typeof t=="symbol"?t:t+""}function Rue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Due(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=t,{end:c}=t,d=function(v){var g=s[v],_,x=()=>(_===void 0&&(_=r(g,v)),_);if(v===a-1){var b=e*(g.coordinate+e*x()/2-c);s[v]=g=Ur(Ur({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate})}else s[v]=g=Ur(Ur({},g),{},{tickCoord:g.coordinate});var w=_m(e,g.tickCoord,x,o,c);w&&(c=g.tickCoord-e*(x()/2+i),s[v]=Ur(Ur({},g),{},{isShow:!0}))},f=a-1;f>=0;f--)d(f);return s}function Lue(e,t,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:c,end:d}=t;if(s){var f=n[o-1],p=r(f,o-1),v=e*(f.coordinate+e*p/2-d);a[o-1]=f=Ur(Ur({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate});var g=_m(e,f.tickCoord,()=>p,c,d);g&&(d=f.tickCoord-e*(p/2+i),a[o-1]=Ur(Ur({},f),{},{isShow:!0}))}for(var _=s?o-1:o,x=function(A){var S=a[A],O,j=()=>(O===void 0&&(O=r(S,A)),O);if(A===0){var N=e*(S.coordinate-e*j()/2-c);a[A]=S=Ur(Ur({},S),{},{tickCoord:N<0?S.coordinate-N*e:S.coordinate})}else a[A]=S=Ur(Ur({},S),{},{tickCoord:S.coordinate});var P=_m(e,S.tickCoord,j,c,d);P&&(c=S.tickCoord+e*(j()/2+i),a[A]=Ur(Ur({},S),{},{isShow:!0}))},b=0;b<_;b++)x(b);return a}function vE(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:c,tickFormatter:d,unit:f,angle:p}=e;if(!i||!i.length||!n)return[];if(He(c)||fu.isSsr){var v;return(v=jue(i,He(c)?c:0))!==null&&v!==void 0?v:[]}var g=[],_=o==="top"||o==="bottom"?"width":"height",x=f&&_==="width"?ed(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(S,O)=>{var j=typeof d=="function"?d(S.value,O):S.value;return _==="width"?Aue(ed(j,{fontSize:t,letterSpacing:r}),x,p):ed(j,{fontSize:t,letterSpacing:r})[_]},w=i.length>=2?_n(i[1].coordinate-i[0].coordinate):1,A=Nue(s,w,_);return c==="equidistantPreserveStart"?Oue(w,A,b,i,a):(c==="preserveStart"||c==="preserveStartEnd"?g=Lue(w,A,b,i,a,c==="preserveStartEnd"):g=Due(w,A,b,i,a),g.filter(S=>S.isShow))}var Mue=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+s,d=a+c+o+(r?n:0);return Math.round(d)}return 0},Bue=["axisLine","width","height","className","hide","ticks"],Fue=["viewBox"],$ue=["viewBox"];function B_(e,t){if(e==null)return{};var r,n,i=Uue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){Hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=Wue(e,"string");return typeof t=="symbol"?t:t+""}function Wue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function que(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=ar(ar(ar({},c),Ns(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=ar(ar({},d),{},{x1:t,y1:r+f*i,x2:t+n,y2:r+f*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);d=ar(ar({},d),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return E.createElement("line",Po({},d,{className:It("recharts-cartesian-axis-line",Vl(o,"className"))}))}function Vue(e,t,r,n,i,s,a,o,c){var d,f,p,v,g,_,x=o?-1:1,b=e.tickSize||a,w=He(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=f=e.coordinate,v=r+ +!o*i,p=v-x*b,_=p-x*c,g=w;break;case"left":p=v=e.coordinate,f=t+ +!o*n,d=f-x*b,g=d-x*c,_=w;break;case"right":p=v=e.coordinate,f=t+ +o*n,d=f+x*b,g=d+x*c,_=w;break;default:d=f=e.coordinate,v=r+ +o*i,p=v+x*b,_=p+x*c,g=w;break}return{line:{x1:d,y1:p,x2:f,y2:v},tick:{x:g,y:_}}}function Gue(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Yue(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Kue(e){var{option:t,tickProps:r,value:n}=e,i,s=It(r.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,ar(ar({},r),{},{className:s}));else if(typeof t=="function")i=t(ar(ar({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=It(a,t==null?void 0:t.className)),i=E.createElement(fE,Po({},r,{className:a}),n)}return i}function Xue(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:c,orientation:d,mirror:f,x:p,y:v,width:g,height:_,tickSize:x,tickMargin:b,fontSize:w,letterSpacing:A,getTicksConfig:S,events:O}=e,j=vE(ar(ar({},S),{},{ticks:t}),w,A),N=Gue(d,f),P=Yue(d,f),R=Ns(S),H=Gx(r),D={};typeof n=="object"&&(D=n);var M=ar(ar({},R),{},{fill:"none"},D),F=j.map((Y,G)=>{var{line:W,tick:Q}=Vue(Y,p,v,g,_,d,x,f,b),te=ar(ar(ar(ar({textAnchor:N,verticalAnchor:P},R),{},{stroke:"none",fill:i},H),Q),{},{index:G,payload:Y,visibleTicksCount:j.length,tickFormatter:s,padding:o},c);return E.createElement(ja,Po({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},ew(O,Y,G)),n&&E.createElement("line",Po({},M,W,{className:It("recharts-cartesian-axis-tick-line",Vl(n,"className"))})),r&&E.createElement(Kue,{option:r,tickProps:te,value:"".concat(typeof s=="function"?s(Y.value,G):Y.value).concat(a||"")}))});return F.length>0?E.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var Que=E.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o}=e,c=B_(e,Bue),[d,f]=E.useState(""),[p,v]=E.useState(""),g=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Mue({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=E.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var w=b[0];if(w){var A=window.getComputedStyle(w),S=A.fontSize,O=A.letterSpacing;(S!==d||O!==p)&&(f(S),v(O))}}},[d,p]);return a||n!=null&&n<=0||i!=null&&i<=0?null:E.createElement(ja,{className:It("recharts-cartesian-axis",s),ref:_},E.createElement(que,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ns(e)}),E.createElement(Xue,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:p,getTicksConfig:e,events:c}),E.createElement(Dae,{x:e.x,y:e.y,width:e.width,height:e.height},E.createElement(qae,{label:e.label,labelRef:e.labelRef}),e.children))}),Jue=E.memo(Que,(e,t)=>{var{viewBox:r}=e,n=B_(e,Fue),{viewBox:i}=t,s=B_(t,$ue);return eu(r,i)&&eu(n,s)}),bE=E.forwardRef((e,t)=>{var r=di(e,yE);return E.createElement(Jue,Po({},r,{ref:t}))});bE.displayName="CartesianAxis";var Zue=["x1","y1","x2","y2","key"],ece=["offset"],tce=["xAxisId","yAxisId"],rce=["xAxisId","yAxisId"];function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){nce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nce(e,t,r){return(t=ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ice(e){var t=sce(e,"string");return typeof t=="symbol"?t:t+""}function sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(null,arguments)}function xm(e,t){if(e==null)return{};var r,n,i=ace(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ace(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oce=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=e;return E.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function mM(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=t,c=xm(t,Zue),d=Ns(c),{offset:f}=d,p=xm(d,ece);r=E.createElement("line",vo({},p,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function lce(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=xm(e,tce),c=i.map((d,f)=>{var p=Hr(Hr({},o),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return mM(n,p)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function uce(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=xm(e,rce),c=i.map((d,f)=>{var p=Hr(Hr({},o),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return mM(n,p)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function cce(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var f=d.map((p,v)=>{var g=!d[v+1],_=g?i+a-p:d[v+1]-p;if(_<=0)return null;var x=v%t.length;return E.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:_,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dce(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var f=d.map((p,v)=>{var g=!d[v+1],_=g?i+a-p:d[v+1]-p;if(_<=0)return null;var x=v%r.length;return E.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:_,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hce=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return sL(vE(Hr(Hr(Hr({},yE),r),{},{ticks:aL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},fce=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return sL(vE(Hr(Hr(Hr({},yE),r),{},{ticks:aL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},pce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gM(e){var t=fL(),r=pL(),n=hL(),i=Hr(Hr({},di(e,pce)),{},{x:He(e.x)?e.x:n.left,y:He(e.y)?e.y:n.top,width:He(e.width)?e.width:n.width,height:He(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:v,verticalValues:g}=i,_=Hn(),x=Ve(H=>$j(H,"xAxis",s,_)),b=Ve(H=>$j(H,"yAxis",a,_));if(!He(d)||d<=0||!He(f)||f<=0||!He(o)||o!==+o||!He(c)||c!==+c)return null;var w=i.verticalCoordinatesGenerator||hce,A=i.horizontalCoordinatesGenerator||fce,{horizontalPoints:S,verticalPoints:O}=i;if((!S||!S.length)&&typeof A=="function"){var j=v&&v.length,N=A({yAxis:b?Hr(Hr({},b),{},{ticks:j?v:b.ticks}):void 0,width:t,height:r,offset:n},j?!0:p);Zp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}if((!O||!O.length)&&typeof w=="function"){var P=g&&g.length,R=w({xAxis:x?Hr(Hr({},x),{},{ticks:P?g:x.ticks}):void 0,width:t,height:r,offset:n},P?!0:p);Zp(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(oce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(cce,vo({},i,{horizontalPoints:S})),E.createElement(dce,vo({},i,{verticalPoints:O})),E.createElement(lce,vo({},i,{offset:n,horizontalPoints:S,xAxis:x,yAxis:b})),E.createElement(uce,vo({},i,{offset:n,verticalPoints:O,xAxis:x,yAxis:b})))}gM.displayName="CartesianGrid";var mce=["dangerouslySetInnerHTML","ticks"],gce=["id"],vce=["domain"],yce=["domain"];function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(null,arguments)}function wm(e,t){if(e==null)return{};var r,n,i=bce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _ce(e){var t=ur();return E.useLayoutEffect(()=>(t(Koe(e)),()=>{t(Xoe(e))}),[e,t]),null}var xce=e=>{var{xAxisId:t,className:r}=e,n=Ve(uw),i=Hn(),s="xAxis",a=Ve(b=>_u(b,s,t,i)),o=Ve(b=>h4(b,s,t,i)),c=Ve(b=>l4(b,t)),d=Ve(b=>pie(b,t)),f=Ve(b=>O6(b,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,g=wm(e,mce),{id:_}=f,x=wm(f,gce);return E.createElement(bE,F_({},g,x,{scale:a,x:d.x,y:d.y,width:c.width,height:c.height,className:It("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},wce={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,height:jn.height,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,xAxisId:0},Ece=e=>{var t,r,n,i,s,a=di(e,wce);return E.createElement(E.Fragment,null,E.createElement(_ce,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),E.createElement(xce,a))},kce=(e,t)=>{var{domain:r}=e,n=wm(e,vce),{domain:i}=t,s=wm(t,yce);return eu(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:eu({domain:r},{domain:i}):!1},vM=E.memo(Ece,kce);vM.displayName="XAxis";var Tce=["dangerouslySetInnerHTML","ticks"],Sce=["id"],Cce=["domain"],Ace=["domain"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(null,arguments)}function Em(e,t){if(e==null)return{};var r,n,i=Nce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jce(e){var t=ur();return E.useLayoutEffect(()=>(t(Qoe(e)),()=>{t(Joe(e))}),[e,t]),null}var Oce=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=E.useRef(null),a=E.useRef(null),o=Ve(uw),c=Hn(),d=ur(),f="yAxis",p=Ve(j=>_u(j,f,t,c)),v=Ve(j=>u4(j,t)),g=Ve(j=>gie(j,t)),_=Ve(j=>h4(j,f,t,c)),x=Ve(j=>P6(j,t));if(E.useLayoutEffect(()=>{if(!(n!=="auto"||!v||pE(i)||E.isValidElement(i)||x==null)){var j=s.current;if(j){var N=j.getCalculatedWidth();Math.round(v.width)!==Math.round(N)&&d(Zoe({id:t,width:N}))}}},[_,v,d,i,t,n,x]),v==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=e,A=Em(e,Tce),{id:S}=x,O=Em(x,Sce);return E.createElement(bE,$_({},A,O,{ref:s,labelRef:a,scale:p,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:It("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:_}))},Pce={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,hide:!1,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tickCount:On.tickCount,type:On.type,width:On.width,yAxisId:0},Ice=e=>{var t,r,n,i,s,a=di(e,Pce);return E.createElement(E.Fragment,null,E.createElement(jce,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),E.createElement(Oce,a))},Rce=(e,t)=>{var{domain:r}=e,n=Em(e,Cce),{domain:i}=t,s=Em(t,Ace);return eu(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:eu({domain:r},{domain:i}):!1},yM=E.memo(Ice,Rce);yM.displayName="YAxis";var zb={exports:{}},Wb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function Dce(){if(MO)return Wb;MO=1;var e=ru();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return Wb.useSyncExternalStoreWithSelector=function(c,d,f,p,v){var g=i(null);if(g.current===null){var _={hasValue:!1,value:null};g.current=_}else _=g.current;g=a(function(){function b(j){if(!w){if(w=!0,A=j,j=p(j),v!==void 0&&_.hasValue){var N=_.value;if(v(N,j))return S=N}return S=j}if(N=S,r(A,j))return N;var P=p(j);return v!==void 0&&v(N,P)?(A=j,N):(A=j,S=P)}var w=!1,A,S,O=f===void 0?null:f;return[function(){return b(d())},O===null?void 0:function(){return b(O())}]},[d,f,p,v]);var x=n(c,g[0],g[1]);return s(function(){_.hasValue=!0,_.value=x},[x]),o(x),x},Wb}var BO;function Lce(){return BO||(BO=1,zb.exports=Dce()),zb.exports}Lce();function Mce(e){e()}function Bce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Mce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var FO={notify(){},get:()=>[]};function Fce(e,t){let r,n=FO,i=0,s=!1;function a(x){f();const b=n.subscribe(x);let w=!1;return()=>{w||(w=!0,b(),p())}}function o(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function d(){return s}function f(){i++,r||(r=e.subscribe(c),n=Bce())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=FO)}function v(){s||(s=!0,f())}function g(){s&&(s=!1,p())}const _={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return _}var $ce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uce=$ce(),Hce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zce=Hce(),Wce=()=>Uce||zce?E.useLayoutEffect:E.useEffect,qce=Wce(),qb=Symbol.for("react-redux-context"),Vb=typeof globalThis<"u"?globalThis:{};function Vce(){if(!E.createContext)return{};const e=Vb[qb]??(Vb[qb]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var Gce=Vce();function Yce(e){const{children:t,context:r,serverState:n,store:i}=e,s=E.useMemo(()=>{const c=Fce(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=E.useMemo(()=>i.getState(),[i]);qce(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const o=r||Gce;return E.createElement(o.Provider,{value:s},t)}var Kce=Yce,Xce=(e,t)=>t,_E=le([Xce,yt,A6,hr,N4,Hs,_se,Er],Tse),xE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},bM=oi("mouseClick"),_M=zd();_M.startListening({actionCreator:bM,effect:(e,t)=>{var r=e.payload,n=_E(t.getState(),xE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Nie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var U_=oi("mouseMove"),xM=zd();xM.startListening({actionCreator:U_,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=nE(n,n.tooltip.settings.shared),s=_E(n,xE(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(_4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(b4()))}});var $O={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},wM=Un({name:"rootProps",initialState:$O,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$O.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Qce=wM.reducer,{updateOptions:Jce}=wM.actions,EM=Un({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Gve}=EM.actions,Zce=EM.reducer,kM=oi("keyDown"),TM=oi("focus"),wE=zd();wE.startListening({actionCreator:kM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(iE(i,wu(r))),o=Hs(r);if(s==="Enter"){var c=mm(r,"axis","hover",String(i.index));t.dispatch(I_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=_ie(r),f=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=a+p*f;if(!(o==null||v>=o.length||v<0)){var g=mm(r,"axis","hover",String(v));t.dispatch(I_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});wE.startListening({actionCreator:TM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=mm(r,"axis","hover",String(s));t.dispatch(I_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Jn=oi("externalEvent"),SM=zd();SM.startListening({actionCreator:Jn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:dse(r),activeDataKey:I4(r),activeIndex:Zl(r),activeLabel:P4(r),activeTooltipIndex:Zl(r),isTooltipActive:hse(r)};e.payload.handler(n,e.payload.reactEvent)}}});var ede=le([xu],e=>e.tooltipItemPayloads),tde=le([ede,Zd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),CM=oi("touchMove"),AM=zd();AM.startListening({actionCreator:CM,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=nE(n,n.tooltip.settings.shared);if(i==="axis"){var s=_E(n,xE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(_4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(DJ),f=(a=c.getAttribute(LJ))!==null&&a!==void 0?a:void 0,p=tde(t.getState(),d,f);t.dispatch(y4({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}});var rde=ID({brush:yue,cartesianAxis:ele,chartData:Hse,errorBars:ple,graphicalItems:zoe,layout:iJ,legend:pZ,options:Mse,polarAxis:ooe,polarOptions:Zce,referenceElements:Tue,rootProps:Qce,tooltip:jie}),nde=function(t){return NQ({reducer:rde,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([_M.middleware,xM.middleware,wE.middleware,SM.middleware,AM.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(qD({type:"raf"}))},devTools:fu.devToolsEnabled})};function ide(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Hn(),s=E.useRef(null);if(i)return r;s.current==null&&(s.current=nde(t));var a=rw;return E.createElement(Kce,{context:a,store:s.current},r)}function sde(e){var{layout:t,margin:r}=e,n=ur(),i=Hn();return E.useEffect(()=>{i||(n(tJ(t)),n(eJ(r)))},[n,i,t,r]),null}function ade(e){var t=ur();return E.useEffect(()=>{t(Jce(e))},[t,e]),null}var ode=["children"];function lde(e,t){if(e==null)return{};var r,n,i=ude(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ude(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(null,arguments)}var cde={width:"100%",height:"100%",display:"block"},dde=E.forwardRef((e,t)=>{var r=fL(),n=pL(),i=gL();if(!Gl(r)||!Gl(n))return null;var{children:s,otherAttributes:a,title:o,desc:c}=e,d,f;return typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0,E.createElement(JR,km({},a,{title:o,desc:c,role:f,tabIndex:d,width:r,height:n,style:cde,ref:t}),s)}),hde=e=>{var{children:t}=e,r=Ve(og);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return E.createElement(JR,{width:n,height:i,x:a,y:s},t)},UO=E.forwardRef((e,t)=>{var{children:r}=e,n=lde(e,ode),i=Hn();return i?E.createElement(hde,null,r):E.createElement(dde,km({ref:t},n),r)});function fde(){var e=ur(),[t,r]=E.useState(null),n=Ve(RJ);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Wr(s)&&s!==n&&e(nJ(s))}},[t,e,n]),r}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){mde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mde(e,t,r){return(t=gde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gde(e){var t=vde(e,"string");return typeof t=="symbol"?t:t+""}function vde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(null,arguments)}var yde=()=>(Qse(),null);function Tm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bde=E.forwardRef((e,t)=>{var r,n,i=E.useRef(null),[s,a]=E.useState({containerWidth:Tm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Tm((n=e.style)===null||n===void 0?void 0:n.height)}),o=E.useCallback((d,f)=>{a(p=>{var v=Math.round(d),g=Math.round(f);return p.containerWidth===v&&p.containerHeight===g?p:{containerWidth:v,containerHeight:g}})},[]),c=E.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();o(f,p);var v=_=>{var{width:x,height:b}=_[0].contentRect;o(x,b)},g=new ResizeObserver(v);g.observe(d),i.current=g}},[t,o]);return E.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[o]),E.createElement(E.Fragment,null,E.createElement(ug,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",Io({ref:c},e)))}),_de=E.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=E.useState({containerWidth:Tm(r),containerHeight:Tm(n)}),a=E.useCallback((c,d)=>{s(f=>{var p=Math.round(c),v=Math.round(d);return f.containerWidth===p&&f.containerHeight===v?f:{containerWidth:p,containerHeight:v}})},[]),o=E.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[t,a]);return E.createElement(E.Fragment,null,E.createElement(ug,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Io({ref:o},e)))}),xde=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return E.createElement(E.Fragment,null,E.createElement(ug,{width:r,height:n}),E.createElement("div",Io({ref:t},e)))}),wde=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return js(r)||js(n)?E.createElement(_de,Io({},e,{ref:t})):E.createElement(xde,Io({},e,{ref:t}))});function Ede(e){return e===!0?bde:wde}var kde=E.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:v,onTouchEnd:g,onTouchMove:_,onTouchStart:x,style:b,width:w,responsive:A,dispatchTouchEvents:S=!0}=e,O=E.useRef(null),j=ur(),[N,P]=E.useState(null),[R,H]=E.useState(null),D=fde(),M=cw(),F=(M==null?void 0:M.width)>0?M.width:w,Y=(M==null?void 0:M.height)>0?M.height:i,G=E.useCallback(se=>{D(se),typeof t=="function"&&t(se),P(se),H(se),se!=null&&(O.current=se)},[D,t,P,H]),W=E.useCallback(se=>{j(bM(se)),j(Jn({handler:s,reactEvent:se}))},[j,s]),Q=E.useCallback(se=>{j(U_(se)),j(Jn({handler:d,reactEvent:se}))},[j,d]),te=E.useCallback(se=>{j(b4()),j(Jn({handler:f,reactEvent:se}))},[j,f]),ne=E.useCallback(se=>{j(U_(se)),j(Jn({handler:p,reactEvent:se}))},[j,p]),oe=E.useCallback(()=>{j(TM())},[j]),L=E.useCallback(se=>{j(kM(se.key))},[j]),V=E.useCallback(se=>{j(Jn({handler:a,reactEvent:se}))},[j,a]),ie=E.useCallback(se=>{j(Jn({handler:o,reactEvent:se}))},[j,o]),$=E.useCallback(se=>{j(Jn({handler:c,reactEvent:se}))},[j,c]),Ee=E.useCallback(se=>{j(Jn({handler:v,reactEvent:se}))},[j,v]),ke=E.useCallback(se=>{j(Jn({handler:x,reactEvent:se}))},[j,x]),pe=E.useCallback(se=>{S&&j(CM(se)),j(Jn({handler:_,reactEvent:se}))},[j,S,_]),Me=E.useCallback(se=>{j(Jn({handler:g,reactEvent:se}))},[j,g]),De=Ede(A);return E.createElement(F4.Provider,{value:N},E.createElement(vK.Provider,{value:R},E.createElement(De,{width:F??(b==null?void 0:b.width),height:Y??(b==null?void 0:b.height),className:It("recharts-wrapper",n),style:pde({position:"relative",cursor:"default",width:F,height:Y},b),onClick:W,onContextMenu:V,onDoubleClick:ie,onFocus:oe,onKeyDown:L,onMouseDown:$,onMouseEnter:Q,onMouseLeave:te,onMouseMove:ne,onMouseUp:Ee,onTouchEnd:Me,onTouchMove:pe,onTouchStart:ke,ref:G},E.createElement(yde,null),r)))}),Tde=["width","height","responsive","children","className","style","compact","title","desc"];function Sde(e,t){if(e==null)return{};var r,n,i=Cde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ade=E.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:c,title:d,desc:f}=e,p=Sde(e,Tde),v=Ns(p);return c?E.createElement(E.Fragment,null,E.createElement(ug,{width:r,height:n}),E.createElement(UO,{otherAttributes:v,title:d,desc:f},s)):E.createElement(kde,{className:a,style:o,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(UO,{otherAttributes:v,title:d,desc:f,ref:t},E.createElement(Cue,null,s)))});function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(null,arguments)}var Nde={top:5,right:5,bottom:5,left:5},jde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nde,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Ode=E.forwardRef(function(t,r){var n,i=di(t.categoricalChartProps,jde),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(ide,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:s},E.createElement(vue,{chartData:d.data}),E.createElement(sde,{layout:i.layout,margin:i.margin}),E.createElement(ade,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),E.createElement(Ade,H_({},i,{ref:r})))}),Pde=["axis","item"],Ide=E.forwardRef((e,t)=>E.createElement(Ode,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pde,tooltipPayloadSearcher:Dse,categoricalChartProps:e,ref:t}));function Rde({sections:e}){const t=e.map(i=>({name:i.title.length>20?i.title.substring(0,20)+"...":i.title,fullName:i.title,rate:parseFloat(i.completion_rate)||0,completed:i.completed_by,total:i.total_users})).sort((i,s)=>i.rate-s.rate),r=i=>i>=75?"#48bb78":i>=50?"#4299e1":i>=25?"#ed8936":"#f56565",n=({active:i,payload:s})=>{if(i&&s&&s.length){const a=s[0].payload;return l.jsxs("div",{className:"custom-tooltip",children:[l.jsx("p",{className:"tooltip-title",children:a.fullName}),l.jsxs("p",{className:"tooltip-value",children:["Completion: ",a.rate.toFixed(1),"%"]}),l.jsxs("p",{className:"tooltip-detail",children:[a.completed," of ",a.total," users"]})]})}return null};return l.jsxs("div",{className:"section-stats",children:[l.jsxs("div",{className:"section-stats-header",children:[l.jsx("h2",{children:"Section Completion Rates"}),l.jsx("p",{children:"Identify sections with low completion (potential issues)"})]}),l.jsx("div",{className:"chart-container",children:l.jsx(uZ,{width:"100%",height:400,children:l.jsxs(Ide,{data:t,layout:"vertical",margin:{left:120,right:20,top:20,bottom:20},children:[l.jsx(gM,{strokeDasharray:"3 3",horizontal:!1}),l.jsx(vM,{type:"number",domain:[0,100]}),l.jsx(yM,{type:"category",dataKey:"name",width:110,tick:{fontSize:12}}),l.jsx(sae,{content:l.jsx(n,{})}),l.jsx(cM,{dataKey:"rate",radius:[0,4,4,0],children:t.map((i,s)=>l.jsx(hE,{fill:r(i.rate)},`cell-${s}`))})]})})}),l.jsxs("div",{className:"legend",children:[l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color",style:{background:"#48bb78"}}),l.jsx("span",{children:"75%+ (Good)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color",style:{background:"#4299e1"}}),l.jsx("span",{children:"50-75% (Fair)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color",style:{background:"#ed8936"}}),l.jsx("span",{children:"25-50% (Low)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color",style:{background:"#f56565"}}),l.jsx("span",{children:"<25% (Critical)"})]})]})]})}function Dde(){var N;const[e,t]=E.useState([]),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1),[c,d]=E.useState(""),[f,p]=E.useState(""),[v,g]=E.useState("$"),[_,x]=E.useState("Higher Pay"),[b,w]=E.useState(0);E.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0);const{data:P,error:R}=await qe.from("task_inspiration").select("category, subcategory").order("category").order("subcategory");if(R)throw R;const H=new Map;P.forEach(({category:Y,subcategory:G})=>{H.has(Y)||H.set(Y,new Set),G&&H.get(Y).add(G)});const D=Array.from(H.entries()).map(([Y,G])=>({category:Y,subcategories:Array.from(G).sort()}));t(D);const{data:M,error:F}=await qe.from("task_priorities").select("*").order("display_order").order("category");if(F)throw F;n(M||[])}catch(P){console.error("Error fetching data:",P)}finally{s(!1)}},S=async P=>{if(P.preventDefault(),!!c)try{o(!0);const{error:R}=await qe.from("task_priorities").insert({category:c,subcategory:f||null,is_highlighted:!0,priority_tag:v||null,tag_label:_||null,display_order:b});if(R){if(R.code==="23505"){alert("This category/subcategory combination already has a priority setting.");return}throw R}d(""),p(""),g("$"),x("Higher Pay"),w(0),await A()}catch(R){console.error("Error adding priority:",R),alert("Failed to add priority: "+R.message)}finally{o(!1)}},O=async P=>{if(confirm("Remove this priority setting?"))try{const{error:R}=await qe.from("task_priorities").delete().eq("id",P);if(R)throw R;await A()}catch(R){console.error("Error deleting priority:",R),alert("Failed to delete priority: "+R.message)}},j=((N=e.find(P=>P.category===c))==null?void 0:N.subcategories)||[];return i?l.jsx("div",{className:"task-priorities-loading",children:"Loading..."}):l.jsxs("div",{className:"task-priorities",children:[l.jsxs("div",{className:"priorities-header",children:[l.jsx("h2",{children:"Task Priorities & Highlighting"}),l.jsx("p",{children:"Highlight task categories to make them more visible to ECs. Add tags like $ to indicate higher pay opportunities."})]}),l.jsxs("div",{className:"priorities-content",children:[l.jsxs("div",{className:"add-priority-section",children:[l.jsx("h3",{children:"Add New Priority"}),l.jsxs("form",{onSubmit:S,className:"priority-form",children:[l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"category",children:"Category *"}),l.jsxs("select",{id:"category",value:c,onChange:P=>{d(P.target.value),p("")},required:!0,children:[l.jsx("option",{value:"",children:"Select category..."}),e.map(({category:P})=>l.jsx("option",{value:P,children:P},P))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"subcategory",children:"Subcategory (optional)"}),l.jsxs("select",{id:"subcategory",value:f,onChange:P=>p(P.target.value),disabled:!c,children:[l.jsx("option",{value:"",children:"All subcategories"}),j.map(P=>l.jsx("option",{value:P,children:P},P))]})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"priorityTag",children:"Tag (shown in corner)"}),l.jsxs("select",{id:"priorityTag",value:v,onChange:P=>g(P.target.value),children:[l.jsx("option",{value:"",children:"No tag"}),l.jsx("option",{value:"$",children:"$ (Standard)"}),l.jsx("option",{value:"$$",children:"$$ (Higher)"}),l.jsx("option",{value:"$$$",children:"$$$ (Highest)"}),l.jsx("option",{value:"",children:" (Diamond)"}),l.jsx("option",{value:"",children:" (Hot)"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"tagLabel",children:"Tag Label (hover text)"}),l.jsx("input",{type:"text",id:"tagLabel",value:_,onChange:P=>x(P.target.value),placeholder:"e.g., Higher Pay, Urgent"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"displayOrder",children:"Display Order"}),l.jsx("input",{type:"number",id:"displayOrder",value:b,onChange:P=>w(parseInt(P.target.value)),min:"0",placeholder:"0 = highest"})]})]}),l.jsx($e,{type:"submit",variant:"primary",loading:a,disabled:!c,children:"Add Priority"})]})]}),l.jsxs("div",{className:"priorities-list-section",children:[l.jsxs("h3",{children:["Current Priorities (",r.length,")"]}),r.length===0?l.jsx("div",{className:"empty-state",children:l.jsx("p",{children:"No task priorities configured yet."})}):l.jsx("div",{className:"priorities-table",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Order"}),l.jsx("th",{children:"Category"}),l.jsx("th",{children:"Subcategory"}),l.jsx("th",{children:"Tag"}),l.jsx("th",{children:"Label"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:r.map(P=>l.jsxs("tr",{children:[l.jsx("td",{children:P.display_order}),l.jsx("td",{className:"category-cell",children:P.category}),l.jsx("td",{children:P.subcategory||l.jsx("em",{children:"All"})}),l.jsx("td",{className:"tag-cell",children:P.priority_tag&&l.jsx("span",{className:"preview-tag",title:P.tag_label,children:P.priority_tag})}),l.jsx("td",{children:P.tag_label}),l.jsx("td",{children:l.jsx($e,{variant:"danger",size:"sm",onClick:()=>O(P.id),children:"Remove"})})]},P.id))})]})})]})]})]})}function Lde(){const[e,t]=E.useState([]),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1),[c,d]=E.useState(!1),[f,p]=E.useState(1),[v,g]=E.useState(null),[_,x]=E.useState(""),[b,w]=E.useState(""),[A,S]=E.useState(""),[O,j]=E.useState([]),[N,P]=E.useState(1),[R,H]=E.useState("accent"),[D,M]=E.useState(!1),[F,Y]=E.useState(""),[G,W]=E.useState(""),[Q,te]=E.useState(null),[ne,oe]=E.useState(null),[L,V]=E.useState("both"),[ie,$]=E.useState(!0);E.useEffect(()=>{Ee()},[]);const Ee=async()=>{try{s(!0),await Promise.all([ke(),pe()])}catch(J){console.error("Error fetching data:",J)}finally{s(!1)}},ke=async()=>{const{data:J,error:be}=await qe.from("promotions").select("*").order("is_active",{ascending:!1}).order("display_order",{ascending:!0});if(be)throw be;t(J||[])},pe=async()=>{const{data:J,error:be}=await qe.from("task_inspiration").select("category").order("category");if(be)throw be;const ze=[...new Set(J.map(Ft=>Ft.category))];n(ze)},Me=J=>{j(be=>be.includes(J)?be.filter(ze=>ze!==J):[...be,J])},De=J=>J?new Date(J).toLocaleString():"Always",se=J=>`+${Math.round((J-1)*100)}%`,Ce=J=>{if(!J)return"";const be=new Date(J);return new Date(be.getTime()-480*60*1e3).toISOString().slice(0,16)},Ge=J=>J?J+":00-08:00":null,he=J=>{if(!J)return"";const be=new Date(J),ze=String(be.getMonth()+1).padStart(2,"0"),Ft=String(be.getDate()).padStart(2,"0"),Pr=String(be.getFullYear()).slice(-2),Ir=String(be.getHours()).padStart(2,"0"),pr=String(be.getMinutes()).padStart(2,"0");return`${ze}/${Ft}/${Pr} ${Ir}:${pr}`},pt=J=>{const be=new Date;return J.is_active?J.ends_at&&new Date(J.ends_at)<be?{status:"expired",label:"Expired"}:J.starts_at&&new Date(J.starts_at)>be?{status:"scheduled",label:"Scheduled"}:{status:"active",label:"Active"}:{status:"inactive",label:"Inactive"}},Te=()=>{g(null),ut(),p(1),d(!0)},tt=J=>{g(J.id),x(J.title),w(J.message||""),S(J.long_description||""),j(J.categories||[]),P(J.reward_multiplier||1),H(J.variant||"accent"),J.starts_at||J.ends_at?(M(!0),Y(Ce(J.starts_at)),W(Ce(J.ends_at))):(M(!1),Y(""),W("")),J.disable_card&&!J.disable_banner?V("banner_only"):J.disable_banner&&!J.disable_card?V("card_only"):V("both"),$(J.show_rain_animation!==!1),p(1),d(!0)},ut=()=>{x(""),w(""),S(""),j([]),P(1),H("accent"),M(!1),Y(""),W(""),V("both"),$(!0)},Bt=async()=>{if(!_){alert("Please provide a title.");return}try{o(!0);const J={title:_,message:b,long_description:A||null,categories:O,reward_multiplier:parseFloat(N),variant:R,starts_at:D?Ge(F):null,ends_at:D?Ge(G):null,display_order:v?void 0:e.length,disable_card:L==="banner_only",disable_banner:L==="card_only",show_rain_animation:ie};let be;if(v){const{error:ze}=await qe.from("promotions").update(J).eq("id",v);be=ze}else{const{error:ze}=await qe.from("promotions").insert({...J,is_active:!0});be=ze}if(be)throw be;d(!1),ut(),await ke()}catch(J){console.error("Error saving promo:",J),alert("Failed to save promo: "+J.message)}finally{o(!1)}},ss=async(J,be)=>{try{const{error:ze}=await qe.from("promotions").update({is_active:!be}).eq("id",J);if(ze)throw ze;await ke()}catch(ze){console.error("Error toggling status:",ze),alert("Failed to update status")}},Ws=async J=>{if(confirm("Are you sure you want to delete this promotion?"))try{const{error:be}=await qe.from("promotions").delete().eq("id",J);if(be)throw be;await ke()}catch(be){console.error("Error deleting promo:",be),alert("Failed to delete promo")}},Mi=(J,be)=>{te(be),J.dataTransfer.effectAllowed="move"},Bi=(J,be)=>{J.preventDefault(),be!==Q&&oe(be)},Fa=()=>{oe(null)},Fo=async(J,be)=>{if(J.preventDefault(),oe(null),Q===be){te(null);return}const ze=e.findIndex(pr=>pr.id===Q),Ft=e.findIndex(pr=>pr.id===be),Pr=[...e],[Ir]=Pr.splice(ze,1);Pr.splice(Ft,0,Ir),t(Pr),te(null);try{const pr=Pr.map((zn,tr)=>({id:zn.id,display_order:tr}));for(const zn of pr)await qe.from("promotions").update({display_order:zn.display_order}).eq("id",zn.id)}catch(pr){console.error("Error updating order:",pr),await ke()}},$o=()=>{te(null),oe(null)},Uo=[{title:"Basics"},{title:"Appearance"},{title:"Details"},{title:"Targeting"},{title:"Review"}],de=()=>{if(f===1&&!_){alert("Please enter a title");return}f<5&&p(f+1)},we=()=>{f>1&&p(f-1)};return i?l.jsx("div",{children:"Loading promotions..."}):l.jsxs("div",{className:"promo-manager",children:[l.jsxs("div",{className:"promo-manager-header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Promotions Manager"}),l.jsx("p",{children:"Create and manage promotional banners and category boosts."})]}),l.jsx($e,{onClick:Te,variant:"primary",children:"+ Create Promotion"})]}),l.jsx("div",{className:"promo-list-section",children:l.jsx("div",{className:"promos-grid",children:e.length===0?l.jsx("p",{className:"text-secondary",children:"No promotions found."}):e.map(J=>l.jsxs("div",{className:`promo-card ${J.is_active?"":"inactive"} ${Q===J.id?"dragging":""} ${ne===J.id?"drag-over":""} variant-${J.variant||"accent"}`,draggable:!0,onDragStart:be=>Mi(be,J.id),onDragOver:be=>Bi(be,J.id),onDragLeave:Fa,onDrop:be=>Fo(be,J.id),onDragEnd:$o,children:[l.jsxs("div",{className:"promo-card-header",children:[l.jsxs("div",{className:"promo-card-title",children:[l.jsx("span",{className:"drag-handle",title:"Drag to reorder",children:""}),l.jsx("h4",{children:J.title}),(()=>{const{status:be,label:ze}=pt(J);return l.jsx("span",{className:`promo-status-badge ${be}`,children:ze})})(),J.disable_card&&!J.disable_banner&&l.jsx("span",{className:"promo-status-badge banner-only",children:"Banner Only"}),J.disable_banner&&!J.disable_card&&l.jsx("span",{className:"promo-status-badge card-only",children:"Card Only"})]}),l.jsxs("div",{className:"promo-actions",children:[l.jsx($e,{size:"sm",variant:"ghost",onClick:()=>tt(J),children:"Edit"}),l.jsx($e,{size:"sm",variant:J.is_active?"secondary":"primary",onClick:()=>ss(J.id,J.is_active),children:J.is_active?"Deactivate":"Activate"}),l.jsx($e,{size:"sm",variant:"danger",onClick:()=>Ws(J.id),children:"Delete"})]})]}),J.message&&l.jsx("p",{className:"promo-card-message",children:J.message}),l.jsxs("div",{className:"promo-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Boost"}),l.jsx("span",{children:J.reward_multiplier>1?`+${Math.round((J.reward_multiplier-1)*100)}%`:"None"})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Categories"}),l.jsx("div",{className:"category-tags",children:J.categories.length===0?l.jsx("span",{className:"category-tag",children:"Banner Only"}):J.categories.map(be=>l.jsx("span",{className:"category-tag",children:be},be))})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Schedule"}),l.jsx("span",{children:J.starts_at||J.ends_at?`${De(J.starts_at)} - ${De(J.ends_at)}`:"Manual Only"})]})]})]},J.id))})}),c&&l.jsx("div",{className:"onboarding-modal-overlay",children:l.jsxs("div",{className:"onboarding-modal-content promo-wizard-modal",children:[l.jsx("div",{style:{marginBottom:"40px"},children:l.jsx(J3,{steps:Uo,currentStep:f})}),l.jsxs("div",{className:"promo-wizard-container",children:[l.jsxs("div",{className:"wizard-split-layout",children:[l.jsxs("div",{className:"wizard-left-panel",children:[f===1&&l.jsxs("div",{className:"wizard-step",children:[l.jsxs("div",{className:"promo-step-header",children:[l.jsx("h2",{className:"promo-step-title",children:"Basics"}),l.jsx("p",{className:"promo-step-description",children:"Set up the core information for your promotion."})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Promotion Title"}),l.jsx("input",{className:"wizard-input",type:"text",value:_,onChange:J=>x(J.target.value),placeholder:"e.g., Holiday Bonus Week",autoFocus:!0})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Short Description"}),l.jsx("textarea",{className:"wizard-textarea",value:b,onChange:J=>w(J.target.value),placeholder:"Brief summary shown on the card (max 150 chars)...",rows:3})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Display Mode"}),l.jsx("p",{className:"wizard-label-hint",children:"Where should this promotion appear?"}),l.jsxs("div",{className:"display-mode-selector",children:[l.jsxs("div",{className:`display-mode-option ${L==="both"?"selected":""}`,onClick:()=>V("both"),children:[l.jsx("div",{className:"display-mode-icon",children:""}),l.jsx("div",{className:"display-mode-label",children:"Both"}),l.jsx("div",{className:"display-mode-desc",children:"Banner + Card"})]}),l.jsxs("div",{className:`display-mode-option ${L==="banner_only"?"selected":""}`,onClick:()=>V("banner_only"),children:[l.jsx("div",{className:"display-mode-icon",children:""}),l.jsx("div",{className:"display-mode-label",children:"Banner Only"}),l.jsx("div",{className:"display-mode-desc",children:"Top announcement"})]}),l.jsxs("div",{className:`display-mode-option ${L==="card_only"?"selected":""}`,onClick:()=>V("card_only"),children:[l.jsx("div",{className:"display-mode-icon",children:""}),l.jsx("div",{className:"display-mode-label",children:"Card Only"}),l.jsx("div",{className:"display-mode-desc",children:"Incentives section"})]})]})]})]}),f===2&&l.jsxs("div",{className:"wizard-step",children:[l.jsxs("div",{className:"promo-step-header",children:[l.jsx("h2",{className:"promo-step-title",children:"Appearance"}),l.jsx("p",{className:"promo-step-description",children:"Choose a color theme for your promotion."})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Color Variant"}),l.jsx("div",{className:"variant-selector",children:["accent","warning","success","info"].map(J=>l.jsx("div",{className:`variant-option ${R===J?"selected":""}`,onClick:()=>H(J),children:l.jsxs("div",{className:`mini-banner ${J}`,children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"mini-banner-title",children:[_||"Your Promo Title","  ",b||"Short description here..."]}),l.jsx("span",{className:"check-indicator",children:""})]})},J))})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Banner Effects"}),l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:ie,onChange:J=>$(J.target.checked)}),"Show falling money animation ()"]})]})]}),f===3&&l.jsxs("div",{className:"wizard-step",children:[l.jsxs("div",{className:"promo-step-header",children:[l.jsx("h2",{className:"promo-step-title",children:"Detailed Content"}),l.jsx("p",{className:"promo-step-description",children:"Write the full announcement using Markdown."})]}),l.jsx("div",{className:"markdown-editor-container",children:l.jsx("textarea",{className:"wizard-textarea",value:A,onChange:J=>S(J.target.value),placeholder:`# Full Details
                          
Write your announcement here. You can use:
- Bullet points
- **Bold text**
- [Links](https://...)`})})]}),f===4&&l.jsxs("div",{className:"wizard-step",children:[l.jsxs("div",{className:"promo-step-header",children:[l.jsx("h2",{className:"promo-step-title",children:"Targeting"}),l.jsx("p",{className:"promo-step-description",children:"Define who sees this and when."})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Reward Multiplier"}),l.jsxs("div",{className:"multiplier-input-wrapper",children:[l.jsx("input",{className:"wizard-input",type:"number",step:"0.01",min:"1.0",value:N,onChange:J=>P(J.target.value)}),l.jsx("span",{className:"multiplier-preview",children:parseFloat(N)>1?`${se(parseFloat(N))} Boost`:"No Boost"})]})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Schedule (PST)"}),l.jsxs("div",{className:"checkbox-label",style:{marginBottom:"16px"},children:[l.jsx("input",{type:"checkbox",checked:D,onChange:J=>M(J.target.checked)}),"Enable Date Schedule"]}),D&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"Start Date"}),l.jsx("input",{className:"wizard-input",type:"datetime-local",value:F,onChange:J=>Y(J.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"End Date"}),l.jsx("input",{className:"wizard-input",type:"datetime-local",value:G,onChange:J=>W(J.target.value)})]})]})]}),l.jsxs("div",{className:"wizard-form-group",children:[l.jsx("label",{className:"wizard-label",children:"Categories"}),l.jsxs("div",{className:"checkbox-group",style:{maxHeight:"200px"},children:[l.jsxs("label",{className:"checkbox-label highlight",children:[l.jsx("input",{type:"checkbox",checked:O.includes("ALL"),onChange:()=>{O.includes("ALL")?j([]):j(["ALL"])}}),"Apply to ALL Categories"]}),r.map(J=>l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:O.includes(J),onChange:()=>Me(J),disabled:O.includes("ALL")}),J]},J))]})]})]}),f===5&&l.jsxs("div",{className:"wizard-step",children:[l.jsxs("div",{className:"promo-step-header",children:[l.jsx("h2",{className:"promo-step-title",children:"Review"}),l.jsx("p",{className:"promo-step-description",children:"Confirm details before launching."})]}),l.jsxs("div",{className:"review-summary",children:[l.jsxs("div",{className:"review-item",children:[l.jsx("strong",{children:"Title:"})," ",_]}),l.jsxs("div",{className:"review-item",children:[l.jsx("strong",{children:"Display Mode:"})," ",L==="both"?"Banner + Card":L==="banner_only"?"Banner Only":"Card Only"]}),l.jsxs("div",{className:"review-item",children:[l.jsx("strong",{children:"Target Audience:"})," ",O.includes("ALL")?"All Categories":O.length===0?"Global Announcement":`${O.length} Categories`]}),l.jsxs("div",{className:"review-item",children:[l.jsx("strong",{children:"Reward Boost:"})," ",parseFloat(N)>1?`${se(parseFloat(N))}`:"None"]}),l.jsxs("div",{className:"review-item",children:[l.jsx("strong",{children:"Schedule:"})," ",D?`${F} to ${G} (PST)`:"Manual Activation"]})]})]})]}),l.jsxs("div",{className:"wizard-right-panel",children:[l.jsx("div",{className:"preview-label",children:f===3?"Live Modal Preview":"Live Preview"}),l.jsx("div",{className:"card-preview-wrapper",style:{width:f===3?"100%":void 0},children:f===3?l.jsxs("div",{className:"incentive-modal-preview-wrapper",style:{background:"var(--bg-primary)",borderRadius:"var(--radius-lg)",overflow:"hidden",border:"1px solid var(--border-color)",width:"100%",maxWidth:"100%"},children:[l.jsx("div",{className:"modal-header",style:{padding:"var(--space-6)",borderBottom:"1px solid var(--border-color)"},children:l.jsxs("div",{className:"incentive-modal-header",children:[parseFloat(N)>1&&l.jsxs("span",{className:"incentive-badge",children:[se(parseFloat(N))," Boost"]}),l.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:_||"Promo Title"}),G&&D&&l.jsxs("p",{className:"incentive-modal-date",children:["Ends ",he(Ge(G))]})]})}),l.jsx("div",{className:"modal-body",style:{padding:"var(--space-6)",maxHeight:"400px",overflowY:"auto"},children:l.jsxs("div",{className:"incentive-modal-content",style:{gap:"var(--space-6)"},children:[A?l.jsx("div",{className:"incentive-full-message markdown-content",children:l.jsx(zx,{children:A})}):l.jsxs("div",{className:"empty-preview",children:[l.jsx("div",{className:"empty-preview-icon",children:""}),l.jsx("p",{children:"Start typing to see preview"})]}),f===3&&O.length>0&&!O.includes("ALL")&&l.jsxs("div",{className:"incentive-modal-categories",children:[l.jsx("span",{className:"incentive-label",children:"Applies to:"}),l.jsx("div",{className:"incentive-categories-list",children:O.map(J=>l.jsx("span",{className:"category-pill",children:J},J))})]}),f===3&&O.includes("ALL")&&l.jsx("div",{className:"incentive-modal-categories",children:l.jsx("span",{className:"category-pill global",children:"All categories"})})]})})]}):l.jsxs("div",{className:"dual-preview-container",children:[(L==="both"||L==="banner_only")&&l.jsxs("div",{className:"preview-section",children:[l.jsxs("div",{className:"preview-section-label",children:[l.jsx("span",{className:"preview-section-icon",children:""})," Banner Preview"]}),l.jsxs("div",{className:`global-promo-banner promo-banner--${R}`,style:{position:"relative",margin:0,width:"100%",borderRadius:"var(--radius-md)"},children:[l.jsxs("div",{className:"promo-bg-decoration",children:[l.jsx("div",{className:"promo-bg-circle"}),l.jsx("div",{className:"promo-bg-circle"}),ie&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"promo-rain promo-rain-1",children:""}),l.jsx("span",{className:"promo-rain promo-rain-2",children:""}),l.jsx("span",{className:"promo-rain promo-rain-3",children:""}),l.jsx("span",{className:"promo-rain promo-rain-4",children:""}),l.jsx("span",{className:"promo-rain promo-rain-5",children:""}),l.jsx("span",{className:"promo-rain promo-rain-6",children:""}),l.jsx("span",{className:"promo-rain promo-rain-7",children:""}),l.jsx("span",{className:"promo-rain promo-rain-8",children:""}),l.jsx("span",{className:"promo-rain promo-rain-9",children:""}),l.jsx("span",{className:"promo-rain promo-rain-10",children:""}),l.jsx("span",{className:"promo-rain promo-rain-11",children:""}),l.jsx("span",{className:"promo-rain promo-rain-12",children:""})]})]}),l.jsxs("div",{className:"promo-banner-content",style:{width:"100%"},children:[l.jsxs("div",{className:"promo-text-content",children:[l.jsx("span",{className:"promo-title",children:_||"Promo Title"}),b&&l.jsx("span",{className:"promo-message",children:b})]}),l.jsx("button",{className:"promo-dismiss-btn",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})]}),(L==="both"||L==="card_only")&&l.jsxs("div",{className:"preview-section",children:[l.jsxs("div",{className:"preview-section-label",children:[l.jsx("span",{className:"preview-section-icon",children:""})," Card Preview"]}),l.jsxs("div",{className:"incentive-card",style:{width:"100%",maxWidth:"400px",margin:"0 auto"},children:[l.jsxs("div",{className:"incentive-card-content",children:[l.jsxs("div",{className:"incentive-top-row",children:[parseFloat(N)>1&&l.jsxs("span",{className:"incentive-badge",children:[se(parseFloat(N))," Boost"]}),G&&D&&l.jsxs("span",{className:"incentive-date",children:["Ends ",he(Ge(G))]})]}),l.jsx("h3",{className:"incentive-title",children:_||"Promo Title"}),(b||A)&&l.jsxs("div",{className:"incentive-description-wrapper",children:[b&&l.jsx("p",{className:"incentive-description",children:b}),A&&l.jsx("button",{className:"incentive-read-more",type:"button",children:"Read more "})]}),f===4&&!O.includes("ALL")&&O.length>0&&l.jsx("div",{className:"incentive-footer",style:{marginTop:"auto"},children:l.jsxs("div",{className:"incentive-categories-wrapper",children:[l.jsx("span",{className:"incentive-label",children:"Applies to:"}),l.jsxs("div",{className:"incentive-categories-list",children:[O.slice(0,3).map(J=>l.jsx("span",{className:"category-pill",children:J},J)),O.length>3&&l.jsxs("span",{className:"category-pill more",children:["+",O.length-3]})]})]})})]}),l.jsx("div",{className:"incentive-bg-icon",children:R==="warning"?"":R==="success"?"":""})]})]}),L==="banner_only"&&f===1&&l.jsxs("div",{className:"preview-note",children:[l.jsx("span",{children:""})," This promo will only appear in the top banner"]}),L==="card_only"&&f===1&&l.jsxs("div",{className:"preview-note",children:[l.jsx("span",{children:""})," This promo will only appear as an incentive card"]})]})})]})]}),l.jsxs("div",{className:"onboarding-nav",children:[l.jsx($e,{variant:"ghost",onClick:f===1?()=>d(!1):we,children:f===1?"Cancel":"Back"}),l.jsx("div",{className:"nav-buttons",children:f<5?l.jsx($e,{variant:"primary",onClick:de,size:"lg",children:"Next Step"}):l.jsx($e,{variant:"primary",onClick:Bt,loading:a,size:"lg",children:v?"Update Promotion":"Launch Promotion "})})]})]})]})})]})}function Mde(){const{user:e,profile:t}=qr(),r=ft(),[n,i]=E.useState("overview"),[s,a]=E.useState(!0),[o,c]=E.useState(null),[d,f]=E.useState([]),[p,v]=E.useState([]),g=Ld(yz,2200),_=(t==null?void 0:t.is_admin)||!1;E.useEffect(()=>{if(!_){r("/");return}x()},[_,r]);const x=async()=>{try{a(!0);const{data:b,error:w}=await qe.from("v_admin_user_stats").select("*").order("created_at",{ascending:!1});if(w)throw w;f(b||[]);const{data:A,error:S}=await qe.from("v_section_stats").select("*").order("display_order");if(S)throw S;v(A||[]);const O=(b==null?void 0:b.filter(D=>D.status==="active").length)||0,j=(b==null?void 0:b.filter(D=>D.status==="active"||D.status==="inactive").length)||0,N=(b==null?void 0:b.reduce((D,M)=>D+(parseFloat(M.completion_percentage)||0),0))/((b==null?void 0:b.length)||1),P=new Date,R=new Date(P.getTime()-10080*60*1e3),H=(b==null?void 0:b.filter(D=>new Date(D.created_at)>R).length)||0;c({totalUsers:(b==null?void 0:b.length)||0,activeUsers7d:O,activeUsers30d:j,avgCompletion:Math.round(N),newUsers7d:H})}catch(b){console.error("Error fetching dashboard data:",b)}finally{a(!1)}};return _?s?l.jsx("div",{className:"admin-loading",children:l.jsx(Aa,{size:"lg",message:g})}):l.jsxs("div",{className:"admin-dashboard",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Admin Dashboard"}),l.jsx("p",{children:"Monitor EC progress and engagement"})]}),l.jsx($e,{variant:"ghost",onClick:()=>r("/"),children:" Back to Home"})]}),l.jsxs("div",{className:"admin-tabs",children:[l.jsx("button",{className:`admin-tab ${n==="overview"?"active":""}`,onClick:()=>i("overview"),children:"Overview"}),l.jsx("button",{className:`admin-tab ${n==="users"?"active":""}`,onClick:()=>i("users"),children:"User Progress"}),l.jsx("button",{className:`admin-tab ${n==="sections"?"active":""}`,onClick:()=>i("sections"),children:"Section Stats"}),l.jsx("button",{className:`admin-tab ${n==="priorities"?"active":""}`,onClick:()=>i("priorities"),children:"Task Priorities"}),l.jsx("button",{className:`admin-tab ${n==="promotions"?"active":""}`,onClick:()=>i("promotions"),children:"Promotions"})]}),l.jsxs("div",{className:"admin-content",children:[n==="overview"&&o&&l.jsx(oK,{stats:o}),n==="users"&&l.jsx(lK,{users:d}),n==="sections"&&l.jsx(Rde,{sections:p}),n==="priorities"&&l.jsx(Dde,{}),n==="promotions"&&l.jsx(Lde,{})]})]}):null}function Bde(e){return wn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function Fde(e){return wn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function $de(e){return wn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Ude(e){return wn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Hde(e){return wn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}const zde=["Machine Learning","Data Science","Cyber Security","Full Stack Web","System Design","Cloud Infrastructure","Algorithms","Database Optimization","Mobile Development","Distributed Systems","Frontend Architecture","Backend Development","Reverse Engineering","Penetration Testing","NLP","Computer Vision","Embedded Systems","Blockchain","Game Development","AR/VR","Operating Systems","Compilers","Cryptography","Bioinformatics","Robotics","Quantum Computing","IoT","Edge Computing"],Wde=()=>{var Ge,he,pt;const{user:e,profile:t,updateProfile:r,signOut:n,deleteAccount:i,updatePassword:s}=qr(),a=ft();cu();const[o,c]=E.useState({first_name:"",last_name:"",bio:"",linkedin_url:"",github_username:"",website_url:"",specialties:[]}),[d,f]=E.useState(""),[p,v]=E.useState([]),[g,_]=E.useState(!1),[x,b]=E.useState(null),[w,A]=E.useState(!1),[S,O]=E.useState(!1),[j,N]=E.useState(""),[P,R]=E.useState(!1),[H,D]=E.useState(!1),[M,F]=E.useState({newPassword:"",confirmPassword:""}),[Y,G]=E.useState(!1),[W,Q]=E.useState(null),te=((Ge=e==null?void 0:e.app_metadata)==null?void 0:Ge.provider)==="email",[ne,oe]=E.useState({onboarding_completed:!1,slack_joined:!1,payments_setup:!1,dev_env_setup:!1});E.useEffect(()=>{t&&(c({first_name:t.first_name||"",last_name:t.last_name||"",bio:t.bio||"",linkedin_url:t.linkedin_url||"",github_username:t.github_username||"",website_url:t.website_url||"",specialties:t.specialties||[]}),oe({onboarding_completed:t.onboarding_completed||!1,slack_joined:t.slack_joined||!1,payments_setup:t.payments_setup||!1,dev_env_setup:t.dev_env_setup||!1}))},[t]);const L=Te=>{c({...o,[Te.target.name]:Te.target.value})},V=Te=>{const tt=Te.target.value;if(f(tt),tt.length>0){const ut=zde.filter(Bt=>Bt.toLowerCase().includes(tt.toLowerCase())&&!o.specialties.includes(Bt));v(ut)}else v([])},ie=Te=>{Te.key==="Enter"&&d.trim()&&(Te.preventDefault(),$(d.trim()))},$=Te=>{Te&&!o.specialties.includes(Te)&&(c(tt=>({...tt,specialties:[...tt.specialties,Te]})),f(""),v([]))},Ee=Te=>{c(tt=>({...tt,specialties:tt.specialties.filter(ut=>ut!==Te)}))},ke=async Te=>{Te.preventDefault(),_(!0),b(null);const{error:tt}=await r(o);_(!1),tt?b({type:"error",text:"Failed to update profile"}):(b({type:"success",text:"Profile updated successfully"}),setTimeout(()=>b(null),3e3))},pe=async()=>{if(j==="DELETE"){O(!0),b(null);try{const{error:Te}=await i();if(Te)throw Te;a("/",{replace:!0})}catch(Te){console.error("Error deleting account:",Te),b({type:"error",text:"Failed to delete account. Please try again or reach out to Snorkel."}),O(!1),R(!1),N("")}}},Me=()=>{R(!1),N("")},De=async Te=>{if(Te.preventDefault(),Q(null),M.newPassword!==M.confirmPassword){Q({type:"error",text:"Passwords do not match"});return}if(M.newPassword.length<6){Q({type:"error",text:"Password must be at least 6 characters long"});return}G(!0);try{const{error:tt}=await s(M.newPassword);if(tt)throw tt;Q({type:"success",text:"Password updated successfully"}),F({newPassword:"",confirmPassword:""}),setTimeout(()=>Q(null),3e3)}catch(tt){Q({type:"error",text:tt.message||"Failed to update password"})}finally{G(!1)}};if(!t)return l.jsx("div",{className:"loading",children:"Loading profile..."});const se=`${o.first_name} ${o.last_name}`.trim()||((he=t.email)==null?void 0:he.split("@")[0]),Ce=se.split(" ").map(Te=>Te[0]).join("").toUpperCase().slice(0,2);return l.jsxs("div",{className:"profile-page",children:[l.jsxs("div",{className:"profile-header-card",children:[l.jsx("div",{className:"profile-avatar-wrapper",children:t.github_avatar_url?l.jsx("img",{src:t.github_avatar_url,alt:"Profile",className:"profile-avatar"}):l.jsx("div",{className:"profile-avatar-placeholder",children:Ce})}),l.jsxs("div",{className:"profile-info",children:[l.jsx("h1",{children:se}),l.jsxs("div",{className:"profile-meta",children:[l.jsxs("span",{className:"meta-item",children:[l.jsx(Ude,{})," ",t.email]}),t.github_username&&l.jsxs("span",{className:"meta-item",children:[l.jsx(Bde,{})," ",t.github_username]}),o.linkedin_url&&l.jsxs("a",{href:o.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"meta-item",children:[l.jsx(Fde,{})," LinkedIn"]})]})]})]}),x&&l.jsxs("div",{className:`toast-message ${x.type==="error"?"error":"success"}`,children:[x.type==="success"&&l.jsx($de,{style:{color:"#4CAF50"}}),x.text]}),l.jsx("div",{className:"profile-grid",children:l.jsxs("div",{className:"profile-main",children:[l.jsx("section",{className:"profile-card",children:l.jsxs("form",{onSubmit:ke,children:[l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name"}),l.jsx("input",{type:"text",name:"first_name",value:o.first_name,onChange:L,placeholder:"Jane"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name"}),l.jsx("input",{type:"text",name:"last_name",value:o.last_name,onChange:L,placeholder:"Doe"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Bio"}),l.jsx("textarea",{name:"bio",value:o.bio,onChange:L,placeholder:"Tell us a bit about yourself...",rows:4})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"LinkedIn URL"}),l.jsx("input",{type:"url",name:"linkedin_url",value:o.linkedin_url,onChange:L,placeholder:"https://linkedin.com/in/..."})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"GitHub Username"}),l.jsx("input",{type:"text",name:"github_username",value:o.github_username,onChange:L,placeholder:"username",disabled:((pt=e==null?void 0:e.app_metadata)==null?void 0:pt.provider)==="github"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Portfolio / Website"}),l.jsx("input",{type:"url",name:"website_url",value:o.website_url,onChange:L,placeholder:"https://..."})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Areas of expertise"}),l.jsxs("div",{className:"tags-input-container",style:{position:"relative"},children:[l.jsx("div",{className:"tags-list",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"8px"},children:o.specialties.map(Te=>l.jsxs("span",{className:"tag-pill",children:[Te," ",l.jsx("button",{type:"button",onClick:()=>Ee(Te),className:"tag-remove",children:""})]},Te))}),l.jsx("input",{type:"text",value:d,onChange:V,onKeyDown:ie,placeholder:"Type to search or add your own...",className:"tag-input-field",style:{width:"100%"}}),p.length>0&&l.jsx("div",{className:"specialties-suggestions",style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:p.map((Te,tt)=>l.jsx("div",{onClick:()=>$(Te),style:{padding:"10px 16px",cursor:"pointer",borderBottom:tt<p.length-1?"1px solid var(--border-color)":"none",transition:"background-color 0.2s"},onMouseEnter:ut=>ut.target.style.backgroundColor="var(--bg-secondary)",onMouseLeave:ut=>ut.target.style.backgroundColor="transparent",children:Te},tt))})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsx($e,{type:"submit",variant:"primary",loading:g,children:"Save Changes"})})]})}),te&&l.jsxs("section",{className:"profile-card password-section",children:[l.jsxs("div",{className:"password-header",onClick:()=>D(!H),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("h2",{style:{margin:0,border:"none",padding:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Hde,{style:{fontSize:"1rem"}})," Change Password"]}),l.jsx("span",{style:{transform:H?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),H&&l.jsxs("div",{className:"password-content",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--border-color)"},children:[W&&l.jsx("div",{className:`password-message ${W.type}`,style:{padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",backgroundColor:W.type==="error"?"rgba(255, 68, 68, 0.1)":"rgba(76, 175, 80, 0.1)",border:`1px solid ${W.type==="error"?"rgba(255, 68, 68, 0.3)":"rgba(76, 175, 80, 0.3)"}`,color:W.type==="error"?"#ff4444":"#4CAF50"},children:W.text}),l.jsxs("form",{onSubmit:De,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"New Password"}),l.jsx("input",{type:"password",value:M.newPassword,onChange:Te=>F({...M,newPassword:Te.target.value}),placeholder:"",required:!0,minLength:6}),l.jsx("small",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Must be at least 6 characters"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Confirm New Password"}),l.jsx("input",{type:"password",value:M.confirmPassword,onChange:Te=>F({...M,confirmPassword:Te.target.value}),placeholder:"",required:!0})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsx($e,{type:"submit",variant:"primary",loading:Y,children:"Update Password"})})]})]})]}),l.jsxs("section",{className:"profile-card danger-zone",children:[l.jsxs("div",{className:"danger-header",onClick:()=>A(!w),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{style:{margin:0,border:"none",padding:0},children:"Danger Zone"}),l.jsx("span",{style:{transform:w?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),w&&l.jsx("div",{className:"danger-actions",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255, 68, 68, 0.25)"},children:P?l.jsxs("div",{className:"delete-confirm-flow",style:{width:"100%"},children:[l.jsxs("div",{className:"danger-warning",style:{backgroundColor:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[l.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:600,color:"var(--color-error)"},children:"This action is irreversible"}),l.jsx("small",{style:{color:"var(--text-secondary)"},children:"Deleting your account will permanently remove all your data including your profile, progress, and selected tasks. This cannot be undone."})]}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[l.jsxs("label",{style:{marginBottom:"0.5rem",display:"block"},children:["Type ",l.jsx("strong",{children:"DELETE"})," to confirm:"]}),l.jsx("input",{type:"text",value:j,onChange:Te=>N(Te.target.value),placeholder:"DELETE",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)"},disabled:S})]}),l.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[l.jsx($e,{variant:"secondary",onClick:Me,disabled:S,children:"Cancel"}),l.jsx($e,{variant:"danger",onClick:pe,disabled:j!=="DELETE"||S,loading:S,children:S?"Deleting...":"Permanently Delete Account"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"danger-text",children:[l.jsx("p",{children:"Delete Account"}),l.jsx("small",{children:"Permanently remove your account and all associated data."})]}),l.jsx($e,{variant:"danger",onClick:()=>R(!0),children:"Delete Account"})]})})]})]})})]})},NM="gallery_v2_cache_v1",qde=1800*1e3,zO=()=>{try{const e=localStorage.getItem(NM);if(!e)return null;const{previewTasks:t,typeCounts:r,timestamp:n}=JSON.parse(e),i=Date.now()-n>qde;return{previewTasks:t,typeCounts:r,isExpired:i}}catch{return null}},WO=(e,t)=>{try{localStorage.setItem(NM,JSON.stringify({previewTasks:e,typeCounts:t,timestamp:Date.now()}))}catch{}};function Vde(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[i,s]=E.useState(null),[a,o]=E.useState({}),[c,d]=E.useState({}),[f,p]=E.useState(null),[v,g]=E.useState(null),[_,x]=E.useState(!1),b=E.useRef(!1),w=E.useCallback((M,F)=>{t(M);const Y={};F.forEach(G=>{Y[G.type]={total:G.total_count,available:G.available_count}}),o(Y),WO(M,Y)},[]),A=E.useCallback(async(M=!0)=>{if(!b.current){b.current=!0;try{M&&n(!0);const[F,Y]=await Promise.all([qe.rpc("get_tasks_v2_preview_by_type",{tasks_per_type:15}),qe.rpc("get_type_counts_v2")]);if(F.error)throw F.error;if(Y.error)throw Y.error;w(F.data||[],Y.data||[]),s(null)}catch(F){console.error("Error fetching task preview:",F),s(F.message)}finally{b.current=!1,n(!1)}}},[w]),S=E.useCallback(async M=>{if(c[M])return c[M];try{p(M);const{data:F,error:Y}=await qe.rpc("get_tasks_v2_by_type",{target_type:M});if(Y)throw Y;return d(G=>({...G,[M]:F||[]})),F||[]}catch(F){throw console.error(`Error fetching type ${M}:`,F),F}finally{p(null)}},[c]),O=E.useCallback(async M=>{if(!M||M.trim().length===0)return g(null),null;try{x(!0);const{data:F,error:Y}=await qe.rpc("search_tasks_v2",{search_query:M.trim(),max_results:100});if(Y)throw Y;return g(F||[]),F||[]}catch(F){throw console.error("Error searching tasks:",F),F}finally{x(!1)}},[]),j=E.useCallback(()=>{g(null)},[]),N=E.useCallback(M=>c[M]?c[M]:e.filter(F=>F.type===M),[c,e]),P=E.useCallback(M=>e.filter(Y=>Y.type===M).length>=15,[e]),R=E.useCallback(M=>a[M]||{total:0,available:0},[a]),H=[...new Set(e.map(M=>M.type))].sort(),D=E.useCallback((M,F)=>{t(Y=>{const G=Y.map(W=>W.id===M?{...W,is_selected:F}:W);try{const W=zO();if(W){const Q=W.previewTasks.map(te=>te.id===M?{...te,is_selected:F}:te);WO(Q,W.typeCounts)}}catch{}return G}),d(Y=>{const G={};for(const[W,Q]of Object.entries(Y))G[W]=Q.map(te=>te.id===M?{...te,is_selected:F}:te);return G}),v&&g(Y=>Y.map(G=>G.id===M?{...G,is_selected:F}:G))},[v]);return E.useEffect(()=>{var F;const M=zO();((F=M==null?void 0:M.previewTasks)==null?void 0:F.length)>0?(t(M.previewTasks),o(M.typeCounts||{}),n(!1),M.isExpired&&A(!1)):A(!0)},[]),E.useEffect(()=>{const M=qe.channel("gallery_tasks_realtime_"+Date.now()).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks"},F=>{var Y,G;F.eventType==="INSERT"&&((Y=F.new)!=null&&Y.task_id)?D(F.new.task_id,!0):F.eventType==="DELETE"&&((G=F.old)!=null&&G.task_id)&&D(F.old.task_id,!1)}).subscribe();return()=>{qe.removeChannel(M)}},[D]),{previewTasks:e,categories:H,categoryCounts:a,searchResults:v,loading:r,error:i,loadingCategory:f,searchLoading:_,fetchPreview:A,fetchCategory:S,searchTasks:O,clearSearch:j,getTasksForCategory:N,categoryHasMore:P,getCategoryCount:R,updateTaskSelection:D}}const Gde=E.forwardRef(function({onSubmit:t,onClear:r,placeholder:n="Search tasks... (press Enter)",initialValue:i="",variant:s="default"},a){const[o,c]=E.useState(!1),[d,f]=E.useState(!!i),p=E.useRef(null);E.useImperativeHandle(a,()=>({focus:()=>{var w;return(w=p.current)==null?void 0:w.focus()},getValue:()=>{var w;return((w=p.current)==null?void 0:w.value)||""},setValue:w=>{p.current&&(p.current.value=w,f(!!w))},clear:()=>{p.current&&(p.current.value="",f(!1))}}));const v=E.useMemo(()=>{var w,A;return typeof navigator>"u"?!1:(w=navigator.userAgentData)!=null&&w.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((A=navigator.platform)==null?void 0:A.toLowerCase().includes("mac"))??!1},[]);E.useEffect(()=>{const w=A=>{var S;(A.metaKey||A.ctrlKey)&&A.key==="k"&&(A.preventDefault(),(S=p.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const g=E.useCallback(w=>{var A,S;if(w.key==="Enter"){w.preventDefault();const O=((A=p.current)==null?void 0:A.value)||"";t==null||t(O)}else w.key==="Escape"&&((S=p.current)==null||S.blur())},[t]),_=E.useCallback(()=>{var w;f(!!((w=p.current)!=null&&w.value))},[]),x=E.useCallback(()=>{c(!0)},[]),b=E.useCallback(()=>{c(!1)},[]);return E.useCallback(()=>{p.current&&(p.current.value="",f(!1),p.current.focus()),r==null||r()},[r]),l.jsx("div",{className:`task-search-bar ${s} ${o?"focused":""}`,children:l.jsxs("div",{className:"search-input-wrapper",children:[l.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.35-4.35"})]}),l.jsx("input",{ref:p,type:"text",className:"search-input",placeholder:n,defaultValue:i,onChange:_,onKeyDown:g,onFocus:x,onBlur:b,"aria-label":"Search tasks",autoComplete:"off"}),d?l.jsx("button",{className:"search-submit",onClick:()=>{var w;return t==null?void 0:t(((w=p.current)==null?void 0:w.value)||"")},type:"button","aria-label":"Submit search",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})}):l.jsxs("div",{className:"search-shortcut",children:[l.jsx("kbd",{children:v?"":"Ctrl"}),l.jsx("kbd",{children:"K"})]})]})})});function Yde({onSearch:e,onClearSearch:t,onOpenFilters:r}){const n=E.useRef(null),i=o=>{var c;o.target.closest(".search-clear")||(c=n.current)==null||c.focus()},s=o=>{e==null||e(o)},a=()=>{var o;(o=n.current)==null||o.clear(),t==null||t()};return l.jsxs("div",{className:"task-search-header",children:[l.jsxs("div",{className:"header-section search-section",onClick:i,children:[l.jsx("div",{className:"section-label",children:"Where"}),l.jsx(Gde,{ref:n,onSubmit:s,onClear:a,variant:"embedded",placeholder:"Search tasks... (press Enter)"})]}),l.jsx("div",{className:"header-divider"}),l.jsx("div",{className:"header-section filter-section",children:l.jsxs("div",{className:"filter-button-container",onClick:r,children:[l.jsxs("div",{className:"filter-text-group",children:[l.jsx("div",{className:"section-label",children:"Filters"}),l.jsx("div",{className:"section-value",children:"Advanced"})]}),l.jsx("div",{className:"filter-icon-wrapper",children:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),l.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),l.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),l.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),l.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),l.jsx("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),l.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),l.jsx("line",{x1:"17",y1:"16",x2:"23",y2:"16"})]})})]})})]})}function Kde({value:e,duration:t=300}){const[r,n]=E.useState(e),i=E.useRef(null),s=E.useRef(e);return E.useEffect(()=>{i.current&&cancelAnimationFrame(i.current);const a=s.current,o=e,c=performance.now(),d=o-a;if(d===0)return;const f=p=>{const v=p-c,g=Math.min(v/t,1),_=1-Math.pow(1-g,3),x=Math.round(a+d*_);n(x),g<1?i.current=requestAnimationFrame(f):s.current=o};return i.current=requestAnimationFrame(f),()=>{i.current&&cancelAnimationFrame(i.current)}},[e,t]),l.jsx("span",{className:"animated-count",children:r})}function Xde({isOpen:e,onClose:t,tasks:r=[],filters:n,onFilterChange:i}){var S,O,j;const[s,a]=E.useState(""),[o,c]=E.useState({}),d=E.useMemo(()=>{const N={};return r.forEach(P=>{const R=P.type||"Uncategorized";N[R]||(N[R]={count:0,subtypes:{}}),N[R].count++,(P.subtypes||[]).forEach(D=>{N[R].subtypes[D]||(N[R].subtypes[D]=0),N[R].subtypes[D]++})}),Object.keys(N).sort().reduce((P,R)=>(P[R]=N[R],P),{})},[r]),f=E.useMemo(()=>{const N=new Set;return r.forEach(P=>{(P.languages||[]).forEach(R=>N.add(R))}),[...N].sort()},[r]),p=E.useMemo(()=>{if(!s)return d;const N=s.toLowerCase(),P={};return Object.entries(d).forEach(([R,H])=>{const D=R.toLowerCase().includes(N),M={};let F=!1;Object.entries(H.subtypes).forEach(([Y,G])=>{(Y.toLowerCase().includes(N)||D)&&(M[Y]=G,F=!0)}),(D||F)&&(P[R]={count:H.count,subtypes:M})}),P},[d,s]),v=N=>{const P=n.types||[],R=P.includes(N);let H,D=[...n.subtypes||[]];if(R){H=P.filter(F=>F!==N);const M=d[N];if(M!=null&&M.subtypes){const F=Object.keys(M.subtypes);D=D.filter(Y=>!F.includes(Y))}}else{H=[...P,N];const M=d[N];M!=null&&M.subtypes&&Object.keys(M.subtypes).forEach(F=>{D.includes(F)||D.push(F)})}i({...n,types:H,subtypes:D})},g=(N,P)=>{const R=n.subtypes||[];let D=R.includes(N)?R.filter(G=>G!==N):[...R,N],F=[...n.types||[]];const Y=d[P];if(Y!=null&&Y.subtypes){const G=Object.keys(Y.subtypes),W=G.filter(Q=>D.includes(Q)).length;W===G.length&&G.length>0?F.includes(P)||F.push(P):W===0?F=F.filter(Q=>Q!==P):F.includes(P)||F.push(P)}i({...n,types:F,subtypes:D})},_=N=>{const P=n.languages||[],R=P.includes(N)?P.filter(H=>H!==N):[...P,N];i({...n,languages:R})},x=N=>{c(P=>({...P,[N]:!P[N]}))},b=()=>{i({types:[],subtypes:[],languages:[],milestoneOnly:!1,externalCodeOnly:!1,search:""}),a("")},w=(((S=n.types)==null?void 0:S.length)||0)+(((O=n.subtypes)==null?void 0:O.length)||0)+(((j=n.languages)==null?void 0:j.length)||0)+(n.milestoneOnly?1:0)+(n.externalCodeOnly?1:0),A=E.useMemo(()=>r.filter(N=>{var P,R;return!(((P=n.subtypes)==null?void 0:P.length)>0&&!(N.subtypes||[]).some(D=>n.subtypes.includes(D))||((R=n.languages)==null?void 0:R.length)>0&&!(N.languages||[]).some(D=>n.languages.includes(D))||n.milestoneOnly&&!N.is_milestone||n.externalCodeOnly&&!N.has_external_code)}).length,[r,n]);return l.jsx($m,{isOpen:e,onClose:t,title:"Filter Tasks",size:"md",children:l.jsxs("div",{className:"task-filters-modal",children:[l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{children:"Task Properties"}),l.jsxs("div",{className:"toggle-group",children:[l.jsxs("div",{className:`priority-toggle-row ${n.milestoneOnly?"active":""}`,onClick:()=>i({...n,milestoneOnly:!n.milestoneOnly}),children:[l.jsx("div",{className:"priority-info",children:l.jsx("span",{className:"priority-label",children:"Milestone tasks only"})}),l.jsx("div",{className:"toggle-switch"})]}),l.jsxs("div",{className:`priority-toggle-row ${n.externalCodeOnly?"active":""}`,onClick:()=>i({...n,externalCodeOnly:!n.externalCodeOnly}),children:[l.jsx("div",{className:"priority-info",children:l.jsx("span",{className:"priority-label",children:"Has extra inspiration"})}),l.jsx("div",{className:"toggle-switch"})]})]})]}),f.length>0&&l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{children:"Languages"}),l.jsx("div",{className:"language-chips",children:f.map(N=>{const P=(n.languages||[]).includes(N);return l.jsx("button",{className:`language-chip ${P?"active":""}`,onClick:()=>_(N),children:N},N)})})]}),l.jsxs("div",{className:"filter-section",style:{flex:1,minHeight:0},children:[l.jsx("h4",{children:"Categories"}),l.jsxs("div",{className:"categories-container",children:[l.jsx("div",{className:"search-container",children:l.jsx(_z,{placeholder:"Search categories...",value:s,onChange:N=>a(N.target.value),onClear:()=>a(""),className:"category-search-input"})}),l.jsx("div",{className:"category-tree",children:Object.keys(p).length===0?l.jsx("div",{className:"empty-search-state",children:l.jsx("p",{children:"No categories found"})}):Object.entries(p).map(([N,P])=>{var Q;const R=o[N]||s.length>0,H=Object.keys(P.subtypes),D=H.filter(te=>{var ne;return(ne=n.subtypes)==null?void 0:ne.includes(te)}),M=H.length,F=M>0&&D.length===M,Y=D.length>0&&D.length<M,G=M===0?(Q=n.types)==null?void 0:Q.includes(N):F,W=Y;return l.jsxs("div",{className:"tree-node",children:[l.jsxs("div",{className:"tree-header",children:[l.jsxs("div",{className:"tree-label-group",children:[l.jsx("div",{className:`expand-icon ${R?"expanded":""}`,onClick:te=>{te.stopPropagation(),x(N)},children:M>0&&l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})}),l.jsxs("div",{className:"checkbox-label-group",onClick:()=>v(N),style:{flex:1},children:[l.jsx(sC,{checked:G,indeterminate:W}),l.jsx("span",{className:"node-label",children:N})]})]}),l.jsx("span",{className:"filter-count",children:P.count})]}),R&&M>0&&l.jsx("div",{className:"tree-children",children:Object.entries(P.subtypes).map(([te,ne])=>{var L;const oe=(L=n.subtypes)==null?void 0:L.includes(te);return l.jsxs("div",{className:`child-node ${oe?"active":""}`,onClick:()=>g(te,N),children:[l.jsxs("div",{className:"checkbox-label-group",children:[l.jsx(sC,{checked:oe}),l.jsx("span",{children:te})]}),l.jsx("span",{className:"filter-count",children:ne})]},te)})})]},N)})})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx($e,{variant:"ghost",onClick:b,disabled:w===0,children:"Clear all"}),l.jsxs($e,{variant:"primary",onClick:t,children:["Show ",l.jsx(Kde,{value:A})," ",A===1?"Result":"Results"]})]})]})})}function qO({task:e,isSelected:t,isMine:r,onSelect:n,onUnselect:i,onComplete:s,onUncomplete:a,isCompleted:o,showActions:c=!0,searchQuery:d=""}){const[f,p]=E.useState(!1),v=async w=>{if(w==null||w.stopPropagation(),!(f||r)){p(!0);try{await(n==null?void 0:n(e.id))}catch(A){console.error("Error selecting task:",A)}finally{p(!1)}}},g=async w=>{if(w==null||w.stopPropagation(),!f&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await(i==null?void 0:i(e.id))}catch(A){console.error("Error unselecting task:",A)}finally{p(!1)}}},_=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(s==null?void 0:s(e.id))}catch(A){console.error("Error completing task:",A)}finally{p(!1)}}},x=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(a==null?void 0:a(e.id))}catch(A){console.error("Error uncompleting task:",A)}finally{p(!1)}}},b=()=>!c||!r?null:l.jsxs("div",{className:"task-card-actions",children:[s&&!o&&l.jsx($e,{variant:"primary",size:"sm",onClick:_,loading:f,children:"Accept"}),a&&o&&l.jsx($e,{variant:"secondary",size:"sm",onClick:x,loading:f,children:"Mark Active"}),l.jsx($e,{variant:"danger",size:"sm",onClick:g,loading:f,children:"Abandon Task"})]});return l.jsx(So,{task:e,isCompleted:o,isHighlighted:e==null?void 0:e.is_highlighted,searchQuery:d,onClick:r?void 0:v,footer:b(),className:`${t?"selected":""} ${r?"mine":""}`})}function jM({title:e,tasks:t=[],totalCount:r,totalInCategory:n=0,onTaskSelect:i,onTaskUnselect:s,onTaskComplete:a,onTaskUncomplete:o,onExplore:c,searchQuery:d,showAll:f=!1,isMine:p=!1,activePromotions:v=[]}){const[g,_]=E.useState(!1),x=E.useRef(null),b=j=>{x.current&&x.current.scrollBy({left:j==="left"?-400:400,behavior:"smooth"})},w=t.some(j=>j.is_special||j.priority_tag),A=t.find(j=>j.is_promoted),S=!!A,O=v.some(j=>j.is_active&&(j.categories.includes("ALL")||j.categories.includes(e)));return t.length===0?n===0?null:l.jsxs("div",{className:"task-category-section",children:[l.jsx("div",{className:"section-header",children:l.jsx("div",{className:"section-title-group",children:l.jsx("div",{className:"section-title-wrapper",children:l.jsxs("h3",{children:[e,l.jsx("span",{className:"section-count section-count-empty",children:"0"})]})})})}),l.jsx("div",{className:"section-content",children:l.jsxs("div",{className:"category-empty-state",children:[l.jsx("div",{className:"empty-state-icon-wrapper",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M5.8 11.3 2 22l10.7-3.79"}),l.jsx("path",{d:"M4 3h.01"}),l.jsx("path",{d:"M22 8h.01"}),l.jsx("path",{d:"M15 2h.01"}),l.jsx("path",{d:"M22 20h.01"}),l.jsx("path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"}),l.jsx("path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17"}),l.jsx("path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.51 9 6.22V7"})]})}),l.jsxs("div",{className:"empty-state-text",children:[l.jsx("h4",{children:"All Tasks Claimed"}),l.jsxs("p",{children:["All ",l.jsx("strong",{children:n})," tasks in this category have been claimed by the community."]}),l.jsx("span",{className:"empty-state-hint",children:"Check back later as tasks may reopen if they are released."})]})]})})]}):l.jsxs("div",{className:`task-category-section ${w?"prioritized-section":""} ${S?"promoted-section":""}`,children:[l.jsxs("div",{className:"section-header",children:[l.jsxs("div",{className:"section-title-group",onClick:()=>_(!g),children:[l.jsx("button",{className:`collapse-btn ${g?"collapsed":""}`,children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l.jsxs("div",{className:"section-title-wrapper",children:[l.jsxs("h3",{children:[e,O&&l.jsx("span",{className:"category-incentive-icon",title:"This category is currently incentivized! Check the active promotions for details.",children:""}),l.jsx("button",{className:"section-count section-count-link",onClick:j=>{j.stopPropagation(),c==null||c(e)},title:"Explore all tasks in this category",children:r??t.length})]}),S&&l.jsxs(Ni,{variant:"accent",size:"sm",className:"promo-badge",children:[" ",A.promo_multiplier,"x Rewards"]}),w&&!S&&l.jsx(Ni,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})]}),!g&&!f&&l.jsxs("div",{className:"section-controls",children:[l.jsx($e,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:j=>{j.stopPropagation(),c(e)},children:l.jsxs("span",{className:"explore-btn-content",children:[l.jsx("span",{children:"Explore domain"}),l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),l.jsx("button",{className:"scroll-btn",onClick:()=>b("left"),"aria-label":"Scroll left",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})})}),l.jsx("button",{className:"scroll-btn",onClick:()=>b("right"),"aria-label":"Scroll right",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]}),!g&&l.jsx("div",{className:"section-content",children:f?l.jsx("div",{className:"tasks-grid-row show-all",children:t.map(j=>l.jsx("div",{className:"grid-item",children:l.jsx(qO,{task:j,isSelected:j.is_selected,isMine:p,isCompleted:!!j.completed_at,onSelect:()=>i==null?void 0:i(j,t),onUnselect:()=>s==null?void 0:s(j.id),onComplete:()=>a==null?void 0:a(j.id),onUncomplete:()=>o==null?void 0:o(j.id),showActions:!0,searchQuery:d})},j.id))}):l.jsxs("div",{className:"tasks-carousel",ref:x,children:[t.map(j=>l.jsx("div",{className:"carousel-item",children:l.jsx(qO,{task:j,isSelected:j.is_selected,isMine:p,isCompleted:!!j.completed_at,onSelect:()=>i==null?void 0:i(j,t),onUnselect:()=>s==null?void 0:s(j.id),onComplete:()=>a==null?void 0:a(j.id),onUncomplete:()=>o==null?void 0:o(j.id),showActions:!0,searchQuery:d})},j.id)),r&&r>t.length&&l.jsx("div",{className:"carousel-item carousel-explore-more",children:l.jsx("button",{className:"explore-more-card",onClick:()=>c==null?void 0:c(e),children:l.jsxs("div",{className:"explore-more-content",children:[l.jsx("div",{className:"explore-icon-wrapper",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),l.jsxs("div",{className:"explore-stats",children:[l.jsxs("span",{className:"explore-more-count",children:["+",r-t.length]}),l.jsx("span",{className:"explore-more-label",children:"more tasks"})]}),l.jsxs("div",{className:"explore-more-cta",children:[l.jsx("span",{children:"View All"}),l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),l.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})})})]})})]})}function Qde({category:e,tasks:t=[],onTaskSelect:r,onBack:n,searchQuery:i=""}){const s=E.useMemo(()=>t.filter(o=>!o.is_selected),[t]),a=E.useMemo(()=>{const o={};return s.forEach(c=>{var f;(((f=c.subtypes)==null?void 0:f.length)>0?c.subtypes:["General"]).forEach(p=>{o[p]||(o[p]=[]),o[p].push(c)})}),Object.entries(o).sort((c,d)=>d[1].length-c[1].length)},[s]);return l.jsxs("div",{className:"category-explore-view",children:[l.jsxs("div",{className:"explore-header",children:[l.jsx($e,{variant:"ghost",size:"sm",onClick:n,className:"back-btn",children:l.jsxs("span",{className:"back-btn-content",children:[l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})}),l.jsx("span",{children:"Back to all categories"})]})}),l.jsx("div",{className:"explore-title-section",children:l.jsx("div",{className:"explore-title-row",children:l.jsx("h2",{className:"explore-title",children:e})})})]}),l.jsx("div",{className:"tasks-grouped-layout",children:a.map(([o,c])=>l.jsx(jM,{title:o,tasks:c,onTaskSelect:r,onTaskUnselect:()=>{},onExplore:()=>{},searchQuery:i,showAll:!0},o))})]})}function Jde(){var Ee,ke;const{previewTasks:e,loading:t,error:r,searchResults:n,searchLoading:i,searchTasks:s,clearSearch:a,fetchCategory:o,loadingCategory:c,getCategoryCount:d,updateTaskSelection:f}=Vde();cu(),Wx();const{profile:p}=qr(),v=nn(),g=E.useRef(!1),[_,x]=E.useState(null),[b,w]=E.useState([]),A=Ld(pz,2200),[S,O]=E.useState(!1),[j,N]=E.useState({types:[],subtypes:[],languages:[],milestoneOnly:!1,externalCodeOnly:!1,search:""});E.useEffect(()=>{v&&e.length>0&&!g.current&&(v.capture("gallery_viewed",{total_tasks:e.length}),g.current=!0)},[v,e]);const P=E.useCallback(async pe=>{N(Me=>({...Me,search:pe||""})),pe&&pe.trim()?await s(pe):a()},[s,a]),R=E.useCallback(()=>{N(pe=>({...pe,search:""})),a()},[a]),H=E.useMemo(()=>j.search&&n?n:e,[j.search,n,e]),D=E.useMemo(()=>H.filter(pe=>!(pe.is_selected||j.types.length>0&&!j.types.includes(pe.type)||j.subtypes.length>0&&!(pe.subtypes||[]).some(se=>j.subtypes.includes(se))||j.languages.length>0&&!(pe.languages||[]).some(se=>j.languages.includes(se))||j.milestoneOnly&&!pe.is_milestone||j.externalCodeOnly&&!pe.has_external_code)),[H,j]);E.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[j]);const M=E.useMemo(()=>{const pe={};return D.forEach(Me=>{const De=Me.type||"Uncategorized";pe[De]||(pe[De]=[]),pe[De].push(Me)}),Object.entries(pe).sort((Me,De)=>De[1].length-Me[1].length)},[D]),F=(pe,Me=[])=>{x(pe),w(Me)},Y=()=>{x(null),w([])},G=pe=>{x(pe)},[W,Q]=E.useState(null),[te,ne]=E.useState([]),oe=async pe=>{Q(pe),window.scrollTo({top:0,behavior:"smooth"});try{const Me=await o(pe);ne(Me)}catch(Me){console.error("Error loading type:",Me)}},L=()=>{Q(null),ne([])},V=()=>{R(),N({types:[],subtypes:[],languages:[],milestoneOnly:!1,externalCodeOnly:!1,search:""})},ie=(((Ee=j.types)==null?void 0:Ee.length)||0)+(((ke=j.languages)==null?void 0:ke.length)||0)+(j.milestoneOnly?1:0)+(j.externalCodeOnly?1:0),$=j.search||ie>0;return t?l.jsxs("div",{className:"tasks-view",children:[l.jsxs("div",{className:"tasks-header",children:[l.jsx("h1",{children:"Task Inspiration"}),l.jsx("p",{children:"Browse and select tasks to work on"})]}),l.jsx("div",{className:"tasks-loading",children:l.jsx(Aa,{size:"lg",message:A})})]}):r?l.jsxs("div",{className:"tasks-view",children:[l.jsxs("div",{className:"tasks-header",children:[l.jsx("h1",{children:"Task Inspiration"}),l.jsx("p",{children:"Browse and select tasks to work on"})]}),l.jsxs("div",{className:"tasks-error",children:[l.jsxs("p",{children:["Error loading tasks: ",r]}),l.jsx($e,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):l.jsxs("div",{className:"tasks-view tasks-gallery",children:[l.jsxs("div",{className:"tasks-header",children:[l.jsx("h1",{children:"Pick Your Next Challenge."}),l.jsx("p",{children:"Real problems frontier models still struggle with. Choose one and start building."})]}),l.jsxs("div",{className:"gallery-container",children:[l.jsx(Yde,{onSearch:P,onClearSearch:R,onOpenFilters:()=>O(!0)}),l.jsxs("div",{className:"gallery-content",children:[l.jsxs("div",{className:"tasks-results-header",children:[l.jsx("p",{className:"results-count",children:$&&l.jsxs(l.Fragment,{children:["Found ",D.length," tasks"]})}),$&&l.jsx($e,{variant:"ghost",size:"sm",onClick:V,children:"Clear all filters"})]}),W?c===W?l.jsx("div",{className:"tasks-loading",children:l.jsx(Aa,{size:"lg",message:`Loading ${W}...`})}):l.jsx(Qde,{category:W,tasks:te,onTaskSelect:F,onBack:L,searchQuery:j.search}):i?l.jsx("div",{className:"tasks-loading",children:l.jsx(Aa,{size:"lg",message:"Searching..."})}):D.length===0?l.jsxs("div",{className:"tasks-empty",children:[l.jsx("div",{className:"empty-icon",children:l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.35-4.35"})]})}),l.jsx("h3",{children:"No tasks found"}),l.jsx("p",{children:"Try adjusting your search or filters to find what you're looking for."}),l.jsx($e,{variant:"secondary",onClick:V,children:"Clear All Filters"})]}):l.jsx("div",{className:"tasks-grouped-layout",children:M.map(([pe,Me])=>{var se;const De=d(pe);return l.jsx(jM,{title:pe,tasks:Me,totalCount:De.available,totalInCategory:De.total,onTaskSelect:F,onTaskUnselect:()=>{},onExplore:oe,searchQuery:j.search,showAll:(se=j.types)==null?void 0:se.includes(pe)},pe)})})]})]}),l.jsx(Xde,{isOpen:S,onClose:()=>O(!1),tasks:e,filters:j,onFilterChange:N}),l.jsx(iR,{task:_,isOpen:!!_,onClose:Y,contextTasks:b,onNavigate:G,showNavigation:b.length>1,onTaskUpdate:()=>{_!=null&&_.id&&f(_.id,!0)}})]})}function Zde({sections:e,currentSlug:t,onSearchClick:r,isOpen:n,onClose:i,onNavClick:s}){const a=()=>{s&&s(),i()},o=E.useMemo(()=>{var c,d;return typeof navigator>"u"?!1:(c=navigator.userAgentData)!=null&&c.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((d=navigator.platform)==null?void 0:d.toLowerCase().includes("mac"))??!1},[]);return l.jsxs(l.Fragment,{children:[n&&l.jsx("div",{className:"docs-sidebar-overlay",onClick:i}),l.jsxs("aside",{className:`docs-sidebar ${n?"docs-sidebar--open":""}`,children:[l.jsxs("div",{className:"docs-sidebar-header",children:[l.jsxs(sr,{to:"/portal",className:"docs-back-link",children:[l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to Portal"]}),l.jsx("h2",{className:"docs-sidebar-title",children:"Documentation"})]}),l.jsxs("button",{className:"docs-search-trigger",onClick:r,children:[l.jsxs("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"M21 21l-4.35-4.35"})]}),l.jsx("span",{children:"Search docs..."}),l.jsx("kbd",{children:o?"K":"Ctrl+K"})]}),l.jsx("nav",{className:"docs-nav",children:e.map(c=>l.jsxs("div",{className:"docs-nav-section",children:[l.jsx("h3",{className:"docs-nav-section-title",children:c.title}),l.jsx("ul",{className:"docs-nav-list",children:c.items.map(d=>l.jsx("li",{children:l.jsx(sr,{to:`/portal/docs/${d.slug}`,className:`docs-nav-link ${t===d.slug?"docs-nav-link--active":""}`,onClick:a,children:d.title})},d.slug))})]},c.title))})]})]})}function VO(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function ehe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function the(e,t,r){const i=Vm((r||{}).ignore||[]),s=rhe(t);let a=-1;for(;++a<s.length;)VR(e,"text",o);function o(d,f){let p=-1,v;for(;++p<f.length;){const g=f[p],_=v?v.children:void 0;if(i(g,_?_.indexOf(g):void 0,v))return;v=g}if(v)return c(d,f)}function c(d,f){const p=f[f.length-1],v=s[a][0],g=s[a][1];let _=0;const b=p.children.indexOf(d);let w=!1,A=[];v.lastIndex=0;let S=v.exec(d.value);for(;S;){const O=S.index,j={index:S.index,input:S.input,stack:[...f,d]};let N=g(...S,j);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?v.lastIndex=O+1:(_!==O&&A.push({type:"text",value:d.value.slice(_,O)}),Array.isArray(N)?A.push(...N):N&&A.push(N),_=O+S[0].length,w=!0),!v.global)break;S=v.exec(d.value)}return w?(_<d.value.length&&A.push({type:"text",value:d.value.slice(_)}),p.children.splice(b,1,...A)):A=[d],b+A.length}}function rhe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([nhe(i[0]),ihe(i[1])])}return t}function nhe(e){return typeof e=="string"?new RegExp(ehe(e),"g"):e}function ihe(e){return typeof e=="function"?e:function(){return e}}const Gb="phrasing",Yb=["autolink","link","image","label"];function she(){return{transforms:[hhe],enter:{literalAutolink:ohe,literalAutolinkEmail:Kb,literalAutolinkHttp:Kb,literalAutolinkWww:Kb},exit:{literalAutolink:dhe,literalAutolinkEmail:che,literalAutolinkHttp:lhe,literalAutolinkWww:uhe}}}function ahe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Gb,notInConstruct:Yb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Gb,notInConstruct:Yb},{character:":",before:"[ps]",after:"\\/",inConstruct:Gb,notInConstruct:Yb}]}}function ohe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Kb(e){this.config.enter.autolinkProtocol.call(this,e)}function lhe(e){this.config.exit.autolinkProtocol.call(this,e)}function uhe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function che(e){this.config.exit.autolinkEmail.call(this,e)}function dhe(e){this.exit(e)}function hhe(e){the(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fhe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),phe]],{ignore:["link","linkReference"]})}function fhe(e,t,r,n,i){let s="";if(!OM(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!mhe(r)))return!1;const a=ghe(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function phe(e,t,r,n){return!OM(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function mhe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ghe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=VO(e,"(");let s=VO(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function OM(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Co(r)||zm(r))&&(!t||r!==47)}PM.peek=The;function vhe(){this.buffer()}function yhe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function bhe(){this.buffer()}function _he(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function xhe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ji(this.sliceSerialize(e)).toLowerCase(),r.label=t}function whe(e){this.exit(e)}function Ehe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ji(this.sliceSerialize(e)).toLowerCase(),r.label=t}function khe(e){this.exit(e)}function The(){return"["}function PM(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function She(){return{enter:{gfmFootnoteCallString:vhe,gfmFootnoteCall:yhe,gfmFootnoteDefinitionLabelString:bhe,gfmFootnoteDefinition:_he},exit:{gfmFootnoteCallString:xhe,gfmFootnoteCall:whe,gfmFootnoteDefinitionLabelString:Ehe,gfmFootnoteDefinition:khe}}}function Che(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:PM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let c=o.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return c+=o.move(s.safe(s.associationId(n),{before:c,after:"]"})),f(),c+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?IM:Ahe))),d(),c}}function Ahe(e,t,r){return t===0?e:IM(e,t,r)}function IM(e,t,r){return(r?"":"    ")+e}const Nhe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];RM.peek=Rhe;function jhe(){return{canContainEols:["delete"],enter:{strikethrough:Phe},exit:{strikethrough:Ihe}}}function Ohe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Nhe}],handlers:{delete:RM}}}function Phe(e){this.enter({type:"delete",children:[]},e)}function Ihe(e){this.exit(e)}function RM(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Rhe(){return"~"}function Dhe(e){return e.length}function Lhe(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||Dhe,s=[],a=[],o=[],c=[];let d=0,f=-1;for(;++f<e.length;){const x=[],b=[];let w=-1;for(e[f].length>d&&(d=e[f].length);++w<e[f].length;){const A=Mhe(e[f][w]);if(r.alignDelimiters!==!1){const S=i(A);b[w]=S,(c[w]===void 0||S>c[w])&&(c[w]=S)}x.push(A)}a[f]=x,o[f]=b}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<d;)s[p]=GO(n[p]);else{const x=GO(n);for(;++p<d;)s[p]=x}p=-1;const v=[],g=[];for(;++p<d;){const x=s[p];let b="",w="";x===99?(b=":",w=":"):x===108?b=":":x===114&&(w=":");let A=r.alignDelimiters===!1?1:Math.max(1,c[p]-b.length-w.length);const S=b+"-".repeat(A)+w;r.alignDelimiters!==!1&&(A=b.length+A+w.length,A>c[p]&&(c[p]=A),g[p]=A),v[p]=S}a.splice(1,0,v),o.splice(1,0,g),f=-1;const _=[];for(;++f<a.length;){const x=a[f],b=o[f];p=-1;const w=[];for(;++p<d;){const A=x[p]||"";let S="",O="";if(r.alignDelimiters!==!1){const j=c[p]-(b[p]||0),N=s[p];N===114?S=" ".repeat(j):N===99?j%2?(S=" ".repeat(j/2+.5),O=" ".repeat(j/2-.5)):(S=" ".repeat(j/2),O=S):O=" ".repeat(j)}r.delimiterStart!==!1&&!p&&w.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&A==="")&&(r.delimiterStart!==!1||p)&&w.push(" "),r.alignDelimiters!==!1&&w.push(S),w.push(A),r.alignDelimiters!==!1&&w.push(O),r.padding!==!1&&w.push(" "),(r.delimiterEnd!==!1||p!==d-1)&&w.push("|")}_.push(r.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return _.join(`
`)}function Mhe(e){return e==null?"":String(e)}function GO(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const YO={}.hasOwnProperty;function DM(e,t){const r=t||{};function n(i,...s){let a=n.invalid;const o=n.handlers;if(i&&YO.call(i,e)){const c=String(i[e]);a=YO.call(o,c)?o[c]:n.unknown}if(a)return a.call(this,i,...s)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function Bhe(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),Fhe);return i(),a}function Fhe(e,t,r){return">"+(r?"":" ")+e}function $he(e,t){return KO(e,t.inConstruct,!0)&&!KO(e,t.notInConstruct,!1)}function KO(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function XO(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&$he(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Uhe(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function Hhe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function zhe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Whe(e,t,r,n){const i=zhe(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Hhe(e,r)){const p=r.enter("codeIndented"),v=r.indentLines(s,qhe);return p(),v}const o=r.createTracker(n),c=i.repeat(Math.max(Uhe(s,i)+1,3)),d=r.enter("codeFenced");let f=o.move(c);if(e.lang){const p=r.enter(`codeFencedLang${a}`);f+=o.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=r.enter(`codeFencedMeta${a}`);f+=o.move(" "),f+=o.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),p()}return f+=o.move(`
`),s&&(f+=o.move(s+`
`)),f+=o.move(c),d(),f}function qhe(e,t,r){return(r?"":"    ")+e}function EE(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Vhe(e,t,r,n){const i=EE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const c=r.createTracker(n);let d=c.move("[");return d+=c.move(r.safe(r.associationId(e),{before:d,after:"]",...c.current()})),d+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(o=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),o()),a(),d}function Ghe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ad(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Sm(e,t,r){const n=zl(e),i=zl(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}LM.peek=Yhe;function LM(e,t,r,n){const i=Ghe(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let c=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const d=c.charCodeAt(0),f=Sm(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Ad(d)+c.slice(1));const p=c.charCodeAt(c.length-1),v=Sm(n.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ad(p));const g=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+c+g}function Yhe(e,t,r){return r.options.emphasis||"*"}function Khe(e,t){let r=!1;return Ym(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,Y1}),!!((!e.depth||e.depth<3)&&Dx(e)&&(t.options.setext||r))}function Xhe(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(Khe(e,r)){const f=r.enter("headingSetext"),p=r.enter("phrasing"),v=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),c=r.enter("phrasing");s.move(a+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Ad(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,r.options.closeAtx&&(d+=" "+a),c(),o(),d}MM.peek=Qhe;function MM(e){return e.value||""}function Qhe(){return"<"}BM.peek=Jhe;function BM(e,t,r,n){const i=EE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const c=r.createTracker(n);let d=c.move("![");return d+=c.move(r.safe(e.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(o=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),o()),d+=c.move(")"),a(),d}function Jhe(){return"!"}FM.peek=Zhe;function FM(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let c=o.move("![");const d=r.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(d+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!d||d!==p?c+=o.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Zhe(){return"!"}$M.peek=efe;function $M(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(n);){let d=c.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(c.index+1)}}return i+n+i}function efe(){return"`"}function UM(e,t){const r=Dx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}HM.peek=tfe;function HM(e,t,r,n){const i=EE(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,c;if(UM(e,r)){const f=r.stack;r.stack=[],o=r.enter("autolink");let p=a.move("<");return p+=a.move(r.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),r.stack=f,p}o=r.enter("link"),c=r.enter("label");let d=a.move("[");return d+=a.move(r.containerPhrasing(e,{before:d,after:"](",...a.current()})),d+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(r.safe(e.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(c=r.enter("destinationRaw"),d+=a.move(r.safe(e.url,{before:d,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=r.enter(`title${s}`),d+=a.move(" "+i),d+=a.move(r.safe(e.title,{before:d,after:i,...a.current()})),d+=a.move(i),c()),d+=a.move(")"),o(),d}function tfe(e,t,r){return UM(e,r)?"<":"["}zM.peek=rfe;function zM(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let c=o.move("[");const d=r.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(d+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!d||d!==p?c+=o.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function rfe(){return"["}function kE(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function nfe(e){const t=kE(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function ife(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function WM(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function sfe(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?ife(r):kE(r);const o=e.ordered?a==="."?")":".":nfe(r);let c=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),WM(r)===a&&f){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),r.bulletCurrent=a;const d=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),d}function afe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ofe(e,t,r,n){const i=afe(r);let s=r.bulletCurrent||kE(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,o.current()),f);return c(),d;function f(p,v,g){return v?(g?"":" ".repeat(a))+p:(g?s:s+" ".repeat(a-s.length))+p}}function lfe(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const ufe=Vm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cfe(e,t,r,n){return(e.children.some(function(a){return ufe(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function dfe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}qM.peek=hfe;function qM(e,t,r,n){const i=dfe(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let c=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const d=c.charCodeAt(0),f=Sm(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Ad(d)+c.slice(1));const p=c.charCodeAt(c.length-1),v=Sm(n.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ad(p));const g=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+c+g}function hfe(e,t,r){return r.options.strong||"*"}function ffe(e,t,r,n){return r.safe(e.value,n)}function pfe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mfe(e,t,r){const n=(WM(r)+(r.options.ruleSpaces?" ":"")).repeat(pfe(r));return r.options.ruleSpaces?n.slice(0,-1):n}const VM={blockquote:Bhe,break:XO,code:Whe,definition:Vhe,emphasis:LM,hardBreak:XO,heading:Xhe,html:MM,image:BM,imageReference:FM,inlineCode:$M,link:HM,linkReference:zM,list:sfe,listItem:ofe,paragraph:lfe,root:cfe,strong:qM,text:ffe,thematicBreak:mfe};function gfe(){return{enter:{table:vfe,tableData:QO,tableHeader:QO,tableRow:bfe},exit:{codeText:_fe,table:yfe,tableData:Xb,tableHeader:Xb,tableRow:Xb}}}function vfe(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function yfe(e){this.exit(e),this.data.inTable=void 0}function bfe(e){this.enter({type:"tableRow",children:[]},e)}function Xb(e){this.exit(e)}function QO(e){this.enter({type:"tableCell",children:[]},e)}function _fe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,xfe));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function xfe(e,t){return t==="|"?t:e}function wfe(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:c,tableRow:o}};function a(g,_,x,b){return d(f(g,x,b),g.align)}function o(g,_,x,b){const w=p(g,x,b),A=d([w]);return A.slice(0,A.indexOf(`
`))}function c(g,_,x,b){const w=x.enter("tableCell"),A=x.enter("phrasing"),S=x.containerPhrasing(g,{...b,before:s,after:s});return A(),w(),S}function d(g,_){return Lhe(g,{align:_,alignDelimiters:n,padding:r,stringLength:i})}function f(g,_,x){const b=g.children;let w=-1;const A=[],S=_.enter("table");for(;++w<b.length;)A[w]=p(b[w],_,x);return S(),A}function p(g,_,x){const b=g.children;let w=-1;const A=[],S=_.enter("tableRow");for(;++w<b.length;)A[w]=c(b[w],g,_,x);return S(),A}function v(g,_,x){let b=VM.inlineCode(g,_,x);return x.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Efe(){return{exit:{taskListCheckValueChecked:JO,taskListCheckValueUnchecked:JO,paragraph:Tfe}}}function kfe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Sfe}}}function JO(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Tfe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Sfe(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let c=VM.listItem(e,t,r,{...n,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+a}}function Cfe(){return[she(),She(),jhe(),gfe(),Efe()]}function Afe(e){return{extensions:[ahe(),Che(e),Ohe(),wfe(e),kfe()]}}const Nfe={tokenize:Dfe,partial:!0},GM={tokenize:Lfe,partial:!0},YM={tokenize:Mfe,partial:!0},KM={tokenize:Bfe,partial:!0},jfe={tokenize:Ffe,partial:!0},XM={name:"wwwAutolink",tokenize:Ife,previous:JM},QM={name:"protocolAutolink",tokenize:Rfe,previous:ZM},zs={name:"emailAutolink",tokenize:Pfe,previous:e5},is={};function Ofe(){return{text:is}}let io=48;for(;io<123;)is[io]=zs,io++,io===58?io=65:io===91&&(io=97);is[43]=zs;is[45]=zs;is[46]=zs;is[95]=zs;is[72]=[zs,QM];is[104]=[zs,QM];is[87]=[zs,XM];is[119]=[zs,XM];function Pfe(e,t,r){const n=this;let i,s;return a;function a(p){return!z_(p)||!e5.call(n,n.previous)||TE(n.events)?r(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return z_(p)?(e.consume(p),o):p===64?(e.consume(p),c):r(p)}function c(p){return p===46?e.check(jfe,f,d)(p):p===45||p===95||zr(p)?(s=!0,e.consume(p),c):f(p)}function d(p){return e.consume(p),i=!0,c}function f(p){return s&&i&&en(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):r(p)}}function Ife(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!JM.call(n,n.previous)||TE(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Nfe,e.attempt(GM,e.attempt(YM,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Rfe(e,t,r){const n=this;let i="",s=!1;return a;function a(p){return(p===72||p===104)&&ZM.call(n,n.previous)&&!TE(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),o):r(p)}function o(p){if(en(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return r(p)}function c(p){return p===47?(e.consume(p),s?d:(s=!0,c)):r(p)}function d(p){return p===null||Bp(p)||Et(p)||Co(p)||zm(p)?r(p):e.attempt(GM,e.attempt(YM,f),r)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function Dfe(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function Lfe(e,t,r){let n,i,s;return a;function a(d){return d===46||d===95?e.check(KM,c,o)(d):d===null||Et(d)||Co(d)||d!==45&&zm(d)?c(d):(s=!0,e.consume(d),a)}function o(d){return d===95?n=!0:(i=n,n=void 0),e.consume(d),a}function c(d){return i||n||!s?r(d):t(d)}}function Mfe(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(KM,t,s)(a):a===null||Et(a)||Co(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function Bfe(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Et(o)||Co(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||Et(o)||Co(o)?t(o):n(o)}function s(o){return en(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):en(o)?(e.consume(o),a):r(o)}}function Ffe(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return zr(s)?r(s):t(s)}}function JM(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Et(e)}function ZM(e){return!en(e)}function e5(e){return!(e===47||z_(e))}function z_(e){return e===43||e===45||e===46||e===95||zr(e)}function TE(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const $fe={tokenize:Yfe,partial:!0};function Ufe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:qfe,continuation:{tokenize:Vfe},exit:Gfe}},text:{91:{name:"gfmFootnoteCall",tokenize:Wfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Hfe,resolveTo:zfe}}}}function Hfe(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const c=n.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return r(c);const d=ji(n.sliceSerialize({start:a.end,end:n.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function zfe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function Wfe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?r(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!a||p===null||p===91||Et(p))return r(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(ji(n.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(p)}return Et(p)||(a=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function qfe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(_){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(_){return _===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(_)}function f(_){if(a>999||_===93&&!o||_===null||_===91||Et(_))return r(_);if(_===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=ji(n.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Et(_)||(o=!0),a++,e.consume(_),_===92?p:f}function p(_){return _===91||_===92||_===93?(e.consume(_),a++,f):f(_)}function v(_){return _===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),i.includes(s)||i.push(s),lt(e,g,"gfmFootnoteDefinitionWhitespace")):r(_)}function g(_){return t(_)}}function Vfe(e,t,r){return e.check(Fd,t,e.attempt($fe,t,r))}function Gfe(e){e.exit("gfmFootnoteDefinition")}function Yfe(e,t,r){const n=this;return lt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function Kfe(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let d=c;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[c][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[c][1].end)},p={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[c][1].start)},v=[["enter",f,o],["enter",a[d][1],o],["exit",a[d][1],o],["enter",p,o]],g=o.parser.constructs.insideSpan.null;g&&Bn(v,v.length,0,Wm(g,a.slice(d+1,c),o)),Bn(v,v.length,0,[["exit",p,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",f,o]]),Bn(a,d-1,c-d+3,v),c=d+v.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,o,c){const d=this.previous,f=this.events;let p=0;return v;function v(_){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(_):(a.enter("strikethroughSequenceTemporary"),g(_))}function g(_){const x=zl(d);if(_===126)return p>1?c(_):(a.consume(_),p++,g);if(p<2&&!r)return c(_);const b=a.exit("strikethroughSequenceTemporary"),w=zl(_);return b._open=!w||w===2&&!!x,b._close=!x||x===2&&!!w,o(_)}}}class Xfe{constructor(){this.map=[]}add(t,r,n){Qfe(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function Qfe(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function Jfe(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Zfe(){return{flow:{null:{name:"table",tokenize:epe,resolveAll:tpe}}}}function epe(e,t,r){const n=this;let i=0,s=0,a;return o;function o(D){let M=n.events.length-1;for(;M>-1;){const G=n.events[M][1].type;if(G==="lineEnding"||G==="linePrefix")M--;else break}const F=M>-1?n.events[M][1].type:null,Y=F==="tableHead"||F==="tableRow"?N:c;return Y===N&&n.parser.lazy[n.now().line]?r(D):Y(D)}function c(D){return e.enter("tableHead"),e.enter("tableRow"),d(D)}function d(D){return D===124||(a=!0,s+=1),f(D)}function f(D){return D===null?r(D):Xe(D)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),g):r(D):at(D)?lt(e,f,"whitespace")(D):(s+=1,a&&(a=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),a=!0,f):(e.enter("data"),p(D)))}function p(D){return D===null||D===124||Et(D)?(e.exit("data"),f(D)):(e.consume(D),D===92?v:p)}function v(D){return D===92||D===124?(e.consume(D),p):p(D)}function g(D){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(D):(e.enter("tableDelimiterRow"),a=!1,at(D)?lt(e,_,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):_(D))}function _(D){return D===45||D===58?b(D):D===124?(a=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),x):j(D)}function x(D){return at(D)?lt(e,b,"whitespace")(D):b(D)}function b(D){return D===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),w):D===45?(s+=1,w(D)):D===null||Xe(D)?O(D):j(D)}function w(D){return D===45?(e.enter("tableDelimiterFiller"),A(D)):j(D)}function A(D){return D===45?(e.consume(D),A):D===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(D))}function S(D){return at(D)?lt(e,O,"whitespace")(D):O(D)}function O(D){return D===124?_(D):D===null||Xe(D)?!a||i!==s?j(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):j(D)}function j(D){return r(D)}function N(D){return e.enter("tableRow"),P(D)}function P(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),P):D===null||Xe(D)?(e.exit("tableRow"),t(D)):at(D)?lt(e,P,"whitespace")(D):(e.enter("data"),R(D))}function R(D){return D===null||D===124||Et(D)?(e.exit("data"),P(D)):(e.consume(D),D===92?H:R)}function H(D){return D===92||D===124?(e.consume(D),R):R(D)}}function tpe(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,d,f,p;const v=new Xfe;for(;++r<e.length;){const g=e[r],_=g[1];g[0]==="enter"?_.type==="tableHead"?(o=!1,c!==0&&(ZO(v,t,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},v.add(r,0,[["enter",d,t]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},v.add(r,0,[["enter",f,t]])),i=_.type==="tableDelimiterRow"?2:f?3:1):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],p=Qf(v,t,s,i,void 0,p),s=[0,0,0,0]),a[2]=r)):_.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],p=Qf(v,t,s,i,void 0,p)),s=a,a=[s[1],r,0,0])):_.type==="tableHead"?(o=!0,c=r):_.type==="tableRow"||_.type==="tableDelimiterRow"?(c=r,s[1]!==0?(a[0]=a[1],p=Qf(v,t,s,i,r,p)):a[1]!==0&&(p=Qf(v,t,a,i,r,p)),i=0):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(a[3]=r)}for(c!==0&&ZO(v,t,c,d,f),v.consume(t.events),r=-1;++r<t.events.length;){const g=t.events[r];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Jfe(t.events,r))}return e}function Qf(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},Al(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const c=Al(t.events,r[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const d=Al(t.events,r[2]),f=Al(t.events,r[3]),p={type:o,start:Object.assign({},d),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",p,t]]),n!==2){const v=t.events[r[2]],g=t.events[r[3]];if(v[1].end=Object.assign({},g[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const _=r[2]+1,x=r[3]-r[2]-1;e.add(_,x,[])}}e.add(r[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},Al(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function ZO(e,t,r,n,i){const s=[],a=Al(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function Al(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const rpe={name:"tasklistCheck",tokenize:ipe};function npe(){return{text:{91:rpe}}}function ipe(e,t,r){const n=this;return i;function i(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Et(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):r(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(c)}function o(c){return Xe(c)?t(c):at(c)?e.check({tokenize:spe},t,r)(c):r(c)}}function spe(e,t,r){return lt(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function ape(e){return CR([Ofe(),Ufe(),Kfe(e),Zfe(),npe()])}const ope={};function lpe(e){const t=this,r=e||ope,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(ape(r)),s.push(Cfe()),a.push(Afe(r))}const eP=/[#.]/g;function upe(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){eP.lastIndex=i;const o=eP.exec(r),c=r.slice(i,o?o.index:r.length);c&&(s?s==="#"?n.id=c:Array.isArray(n.className)?n.className.push(c):n.className=[c]:a=c,i+=c.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function t5(e,t,r){const n=r?fpe(r):void 0;function i(s,a,...o){let c;if(s==null){c={type:"root",children:[]};const d=a;o.unshift(d)}else{c=upe(s,t);const d=c.tagName.toLowerCase(),f=n?n.get(d):void 0;if(c.tagName=f||d,cpe(a))o.unshift(a);else for(const[p,v]of Object.entries(a))dpe(e,c.properties,p,v)}for(const d of o)W_(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function cpe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function dpe(e,t,r,n){const i=Um(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=bC(n):i.commaSeparated?s=pC(n):i.commaOrSpaceSeparated?s=bC(pC(n).join(" ")):s=tP(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?hpe(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(tP(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function W_(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)W_(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?W_(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function tP(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||md(r)===md(t)))return!0}return r}function hpe(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function fpe(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const ppe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mpe=t5(Bd,"div"),gpe=t5(Ia,"g",ppe);function vpe(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=r[a];if(o===void 0){const c=rP(t,r[a-1]);o=c===-1?t.length+1:c+1,r[a]=o}if(o>s)return{line:a+1,column:s-(a>0?r[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const o=r[r.length-1],c=rP(t,o),d=c===-1?t.length+1:c+1;if(o===d)break;r.push(d)}const a=(s.line>1?r[s.line-2]:0)+s.column-1;if(a<r[s.line-1])return a}}}function rP(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const yo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},r5={}.hasOwnProperty,ype=Object.prototype;function bpe(e,t){const r=t||{};return SE({file:r.file||void 0,location:!1,schema:r.space==="svg"?Ia:Bd,verbose:r.verbose||!1},e)}function SE(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},cp(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:n5(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=vpe(s),o=a.toPoint(0),c=a.toPoint(s.length);r.position={start:o,end:c}}return r}case"#documentType":{const n=t;return r={type:"doctype"},cp(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},cp(e,n,r),r}default:return r=_pe(e,t),r}}function n5(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=SE(e,t[r]);n.push(i)}return n}function _pe(e,t){const r=e.schema;e.schema=t.namespaceURI===yo.svg?Ia:Bd;let n=-1;const i={};for(;++n<t.attrs.length;){const o=t.attrs[n],c=(o.prefix?o.prefix+":":"")+o.name;r5.call(ype,c)||(i[c]=o.value)}const a=(e.schema.space==="svg"?gpe:mpe)(t.tagName,i,n5(e,t.childNodes));if(cp(e,t,a),a.tagName==="template"){const o=t,c=o.sourceCodeLocation,d=c&&c.startTag&&Pl(c.startTag),f=c&&c.endTag&&Pl(c.endTag),p=SE(e,o.content);d&&f&&e.file&&(p.position={start:d.end,end:f.start}),a.content=p}return e.schema=r,a}function cp(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=xpe(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function xpe(e,t,r){const n=Pl(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(r.attrs)for(a in r.attrs)r5.call(r.attrs,a)&&(s[Um(e.schema,a).property]=Pl(r.attrs[a]));r.startTag;const o=Pl(r.startTag),c=r.endTag?Pl(r.endTag):void 0,d={opening:o};c&&(d.closing=c),d.properties=s,t.data={position:d}}}return n}function Pl(e){const t=nP({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=nP({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function nP(e){return e.line&&e.column?e:void 0}const wpe={},Epe={}.hasOwnProperty,i5=DM("type",{handlers:{root:Tpe,element:jpe,text:Ape,comment:Npe,doctype:Cpe}});function kpe(e,t){const n=(t||wpe).space;return i5(e,n==="svg"?Ia:Bd)}function Tpe(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=CE(e.children,r,t),Eu(e,r),r}function Spe(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=CE(e.children,r,t),Eu(e,r),r}function Cpe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Eu(e,t),t}function Ape(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Eu(e,t),t}function Npe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Eu(e,t),t}function jpe(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=Ia);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Epe.call(e.properties,s)){const c=Ope(n,s,e.properties[s]);c&&i.push(c)}}const a=n.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:yo[a],childNodes:[],parentNode:null};return o.childNodes=CE(e.children,o,n),Eu(e,o),e.tagName==="template"&&e.content&&(o.content=Spe(e.content,n)),o}function Ope(e,t,r){const n=Um(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?hR(r):_R(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=n.attribute.slice(0,s)),i.namespace=yo[n.space]}return i}function CE(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const s=i5(e[n],r);s.parentNode=t,i.push(s)}return i}function Eu(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const Ppe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Ipe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Dt="";var B;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(B||(B={}));const hn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function s5(e){return e>=55296&&e<=57343}function Rpe(e){return e>=56320&&e<=57343}function Dpe(e,t){return(e-55296)*1024+9216+t}function a5(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function o5(e){return e>=64976&&e<=65007||Ipe.has(e)}var ce;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ce||(ce={}));const Lpe=65536;class Mpe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=Lpe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,a=i+r,o=s+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(Rpe(r))return this.pos++,this._addGap(),Dpe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,B.EOF;return this._err(ce.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;const n=this.html.charCodeAt(r);return n===B.CARRIAGE_RETURN?B.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;let t=this.html.charCodeAt(this.pos);return t===B.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,B.LINE_FEED):t===B.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,s5(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===B.LINE_FEED||t===B.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){a5(t)?this._err(ce.controlCharacterInInputStream):o5(t)&&this._err(ce.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var it;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(it||(it={}));function l5(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const Bpe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Fpe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function $pe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Fpe.get(e))!==null&&t!==void 0?t:e}var xr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(xr||(xr={}));const Upe=32;var Ea;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ea||(Ea={}));function q_(e){return e>=xr.ZERO&&e<=xr.NINE}function Hpe(e){return e>=xr.UPPER_A&&e<=xr.UPPER_F||e>=xr.LOWER_A&&e<=xr.LOWER_F}function zpe(e){return e>=xr.UPPER_A&&e<=xr.UPPER_Z||e>=xr.LOWER_A&&e<=xr.LOWER_Z||q_(e)}function Wpe(e){return e===xr.EQUALS||zpe(e)}var yr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(yr||(yr={}));var ws;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ws||(ws={}));class qpe{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=yr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ws.Strict}startEntity(t){this.decodeMode=t,this.state=yr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case yr.EntityStart:return t.charCodeAt(r)===xr.NUM?(this.state=yr.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=yr.NamedEntity,this.stateNamedEntity(t,r));case yr.NumericStart:return this.stateNumericStart(t,r);case yr.NumericDecimal:return this.stateNumericDecimal(t,r);case yr.NumericHex:return this.stateNumericHex(t,r);case yr.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|Upe)===xr.LOWER_X?(this.state=yr.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=yr.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(q_(i)||Hpe(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(q_(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===xr.SEMI)this.consumed+=1;else if(this.decodeMode===ws.Strict)return 0;return this.emitCodePoint($pe(this.result),this.consumed),this.errors&&(t!==xr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&Ea.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=Vpe(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===ws.Attribute&&(s===0||Wpe(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&Ea.VALUE_LENGTH)>>14,s!==0){if(a===xr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ws.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&Ea.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~Ea.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case yr.NamedEntity:return this.result!==0&&(this.decodeMode!==ws.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yr.NumericDecimal:return this.emitNumericEntity(0,2);case yr.NumericHex:return this.emitNumericEntity(0,3);case yr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yr.EntityStart:return 0}}}function Vpe(e,t,r,n){const i=(t&Ea.BRANCH_LENGTH)>>7,s=t&Ea.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const c=n-s;return c<0||c>=i?-1:e[r+c]-1}let a=r,o=a+i-1;for(;a<=o;){const c=a+o>>>1,d=e[c];if(d<n)a=c+1;else if(d>n)o=c-1;else return e[c+i]}return-1}var me;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(me||(me={}));var Eo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Eo||(Eo={}));var ti;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ti||(ti={}));var ee;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ee||(ee={}));var k;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(k||(k={}));const Gpe=new Map([[ee.A,k.A],[ee.ADDRESS,k.ADDRESS],[ee.ANNOTATION_XML,k.ANNOTATION_XML],[ee.APPLET,k.APPLET],[ee.AREA,k.AREA],[ee.ARTICLE,k.ARTICLE],[ee.ASIDE,k.ASIDE],[ee.B,k.B],[ee.BASE,k.BASE],[ee.BASEFONT,k.BASEFONT],[ee.BGSOUND,k.BGSOUND],[ee.BIG,k.BIG],[ee.BLOCKQUOTE,k.BLOCKQUOTE],[ee.BODY,k.BODY],[ee.BR,k.BR],[ee.BUTTON,k.BUTTON],[ee.CAPTION,k.CAPTION],[ee.CENTER,k.CENTER],[ee.CODE,k.CODE],[ee.COL,k.COL],[ee.COLGROUP,k.COLGROUP],[ee.DD,k.DD],[ee.DESC,k.DESC],[ee.DETAILS,k.DETAILS],[ee.DIALOG,k.DIALOG],[ee.DIR,k.DIR],[ee.DIV,k.DIV],[ee.DL,k.DL],[ee.DT,k.DT],[ee.EM,k.EM],[ee.EMBED,k.EMBED],[ee.FIELDSET,k.FIELDSET],[ee.FIGCAPTION,k.FIGCAPTION],[ee.FIGURE,k.FIGURE],[ee.FONT,k.FONT],[ee.FOOTER,k.FOOTER],[ee.FOREIGN_OBJECT,k.FOREIGN_OBJECT],[ee.FORM,k.FORM],[ee.FRAME,k.FRAME],[ee.FRAMESET,k.FRAMESET],[ee.H1,k.H1],[ee.H2,k.H2],[ee.H3,k.H3],[ee.H4,k.H4],[ee.H5,k.H5],[ee.H6,k.H6],[ee.HEAD,k.HEAD],[ee.HEADER,k.HEADER],[ee.HGROUP,k.HGROUP],[ee.HR,k.HR],[ee.HTML,k.HTML],[ee.I,k.I],[ee.IMG,k.IMG],[ee.IMAGE,k.IMAGE],[ee.INPUT,k.INPUT],[ee.IFRAME,k.IFRAME],[ee.KEYGEN,k.KEYGEN],[ee.LABEL,k.LABEL],[ee.LI,k.LI],[ee.LINK,k.LINK],[ee.LISTING,k.LISTING],[ee.MAIN,k.MAIN],[ee.MALIGNMARK,k.MALIGNMARK],[ee.MARQUEE,k.MARQUEE],[ee.MATH,k.MATH],[ee.MENU,k.MENU],[ee.META,k.META],[ee.MGLYPH,k.MGLYPH],[ee.MI,k.MI],[ee.MO,k.MO],[ee.MN,k.MN],[ee.MS,k.MS],[ee.MTEXT,k.MTEXT],[ee.NAV,k.NAV],[ee.NOBR,k.NOBR],[ee.NOFRAMES,k.NOFRAMES],[ee.NOEMBED,k.NOEMBED],[ee.NOSCRIPT,k.NOSCRIPT],[ee.OBJECT,k.OBJECT],[ee.OL,k.OL],[ee.OPTGROUP,k.OPTGROUP],[ee.OPTION,k.OPTION],[ee.P,k.P],[ee.PARAM,k.PARAM],[ee.PLAINTEXT,k.PLAINTEXT],[ee.PRE,k.PRE],[ee.RB,k.RB],[ee.RP,k.RP],[ee.RT,k.RT],[ee.RTC,k.RTC],[ee.RUBY,k.RUBY],[ee.S,k.S],[ee.SCRIPT,k.SCRIPT],[ee.SEARCH,k.SEARCH],[ee.SECTION,k.SECTION],[ee.SELECT,k.SELECT],[ee.SOURCE,k.SOURCE],[ee.SMALL,k.SMALL],[ee.SPAN,k.SPAN],[ee.STRIKE,k.STRIKE],[ee.STRONG,k.STRONG],[ee.STYLE,k.STYLE],[ee.SUB,k.SUB],[ee.SUMMARY,k.SUMMARY],[ee.SUP,k.SUP],[ee.TABLE,k.TABLE],[ee.TBODY,k.TBODY],[ee.TEMPLATE,k.TEMPLATE],[ee.TEXTAREA,k.TEXTAREA],[ee.TFOOT,k.TFOOT],[ee.TD,k.TD],[ee.TH,k.TH],[ee.THEAD,k.THEAD],[ee.TITLE,k.TITLE],[ee.TR,k.TR],[ee.TRACK,k.TRACK],[ee.TT,k.TT],[ee.U,k.U],[ee.UL,k.UL],[ee.SVG,k.SVG],[ee.VAR,k.VAR],[ee.WBR,k.WBR],[ee.XMP,k.XMP]]);function ku(e){var t;return(t=Gpe.get(e))!==null&&t!==void 0?t:k.UNKNOWN}const ye=k,Ype={[me.HTML]:new Set([ye.ADDRESS,ye.APPLET,ye.AREA,ye.ARTICLE,ye.ASIDE,ye.BASE,ye.BASEFONT,ye.BGSOUND,ye.BLOCKQUOTE,ye.BODY,ye.BR,ye.BUTTON,ye.CAPTION,ye.CENTER,ye.COL,ye.COLGROUP,ye.DD,ye.DETAILS,ye.DIR,ye.DIV,ye.DL,ye.DT,ye.EMBED,ye.FIELDSET,ye.FIGCAPTION,ye.FIGURE,ye.FOOTER,ye.FORM,ye.FRAME,ye.FRAMESET,ye.H1,ye.H2,ye.H3,ye.H4,ye.H5,ye.H6,ye.HEAD,ye.HEADER,ye.HGROUP,ye.HR,ye.HTML,ye.IFRAME,ye.IMG,ye.INPUT,ye.LI,ye.LINK,ye.LISTING,ye.MAIN,ye.MARQUEE,ye.MENU,ye.META,ye.NAV,ye.NOEMBED,ye.NOFRAMES,ye.NOSCRIPT,ye.OBJECT,ye.OL,ye.P,ye.PARAM,ye.PLAINTEXT,ye.PRE,ye.SCRIPT,ye.SECTION,ye.SELECT,ye.SOURCE,ye.STYLE,ye.SUMMARY,ye.TABLE,ye.TBODY,ye.TD,ye.TEMPLATE,ye.TEXTAREA,ye.TFOOT,ye.TH,ye.THEAD,ye.TITLE,ye.TR,ye.TRACK,ye.UL,ye.WBR,ye.XMP]),[me.MATHML]:new Set([ye.MI,ye.MO,ye.MN,ye.MS,ye.MTEXT,ye.ANNOTATION_XML]),[me.SVG]:new Set([ye.TITLE,ye.FOREIGN_OBJECT,ye.DESC]),[me.XLINK]:new Set,[me.XML]:new Set,[me.XMLNS]:new Set},V_=new Set([ye.H1,ye.H2,ye.H3,ye.H4,ye.H5,ye.H6]);ee.STYLE,ee.SCRIPT,ee.XMP,ee.IFRAME,ee.NOEMBED,ee.NOFRAMES,ee.PLAINTEXT;var U;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(U||(U={}));const Kt={DATA:U.DATA,RCDATA:U.RCDATA,RAWTEXT:U.RAWTEXT,SCRIPT_DATA:U.SCRIPT_DATA,PLAINTEXT:U.PLAINTEXT,CDATA_SECTION:U.CDATA_SECTION};function Kpe(e){return e>=B.DIGIT_0&&e<=B.DIGIT_9}function Wc(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_Z}function Xpe(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_Z}function ma(e){return Xpe(e)||Wc(e)}function iP(e){return ma(e)||Kpe(e)}function Jf(e){return e+32}function u5(e){return e===B.SPACE||e===B.LINE_FEED||e===B.TABULATION||e===B.FORM_FEED}function sP(e){return u5(e)||e===B.SOLIDUS||e===B.GREATER_THAN_SIGN}function Qpe(e){return e===B.NULL?ce.nullCharacterReference:e>1114111?ce.characterReferenceOutsideUnicodeRange:s5(e)?ce.surrogateCharacterReference:o5(e)?ce.noncharacterCharacterReference:a5(e)||e===B.CARRIAGE_RETURN?ce.controlCharacterReference:null}class Jpe{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=U.DATA,this.returnState=U.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Mpe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new qpe(Bpe,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ce.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(ce.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=Qpe(n);i&&this._err(i,1)}}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:it.START_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:it.END_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:it.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:it.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(l5(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ce.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ku(t.tagName),t.type===it.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ce.endTagWithAttributes),t.selfClosing&&this._err(ce.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case it.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case it.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case it.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:it.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=u5(t)?it.WHITESPACE_CHARACTER:t===B.NULL?it.NULL_CHARACTER:it.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(it.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=U.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ws.Attribute:ws.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===U.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case U.DATA:{this._stateData(t);break}case U.RCDATA:{this._stateRcdata(t);break}case U.RAWTEXT:{this._stateRawtext(t);break}case U.SCRIPT_DATA:{this._stateScriptData(t);break}case U.PLAINTEXT:{this._statePlaintext(t);break}case U.TAG_OPEN:{this._stateTagOpen(t);break}case U.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case U.TAG_NAME:{this._stateTagName(t);break}case U.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case U.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case U.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case U.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case U.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case U.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case U.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case U.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case U.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case U.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case U.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case U.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case U.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case U.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case U.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case U.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case U.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case U.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case U.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case U.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case U.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case U.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case U.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case U.BOGUS_COMMENT:{this._stateBogusComment(t);break}case U.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case U.COMMENT_START:{this._stateCommentStart(t);break}case U.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case U.COMMENT:{this._stateComment(t);break}case U.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case U.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case U.COMMENT_END:{this._stateCommentEnd(t);break}case U.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case U.DOCTYPE:{this._stateDoctype(t);break}case U.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case U.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case U.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case U.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case U.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case U.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case U.CDATA_SECTION:{this._stateCdataSection(t);break}case U.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case U.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case U.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case U.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=U.TAG_OPEN;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitCodePoint(t);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case B.AMPERSAND:{this._startCharacterReference();break}case B.LESS_THAN_SIGN:{this.state=U.RCDATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case B.LESS_THAN_SIGN:{this.state=U.RAWTEXT_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ma(t))this._createStartTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case B.EXCLAMATION_MARK:{this.state=U.MARKUP_DECLARATION_OPEN;break}case B.SOLIDUS:{this.state=U.END_TAG_OPEN;break}case B.QUESTION_MARK:{this._err(ce.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t);break}case B.EOF:{this._err(ce.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ce.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=U.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ma(t))this._createEndTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case B.GREATER_THAN_SIGN:{this._err(ce.missingEndTagName),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ce.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.tagName+=Dt;break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Wc(t)?Jf(t):t)}}_stateRcdataLessThanSign(t){t===B.SOLIDUS?this.state=U.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ma(t)?(this.state=U.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=U.BEFORE_ATTRIBUTE_NAME,!1;case B.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=U.SELF_CLOSING_START_TAG,!1;case B.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=U.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===B.SOLIDUS?this.state=U.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ma(t)?(this.state=U.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case B.SOLIDUS:{this.state=U.SCRIPT_DATA_END_TAG_OPEN;break}case B.EXCLAMATION_MARK:{this.state=U.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=U.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ma(t)?(this.state=U.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===B.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===B.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===B.SOLIDUS?this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ma(t)?(this._emitChars("<"),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ma(t)?(this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(hn.SCRIPT,!1)&&sP(this.preprocessor.peek(hn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<hn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ce.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===B.SOLIDUS?(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(hn.SCRIPT,!1)&&sP(this.preprocessor.peek(hn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<hn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._err(ce.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=U.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this._leaveAttrName(),this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._leaveAttrName(),this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:{this._err(ce.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.name+=Dt;break}default:this.currentAttr.name+=String.fromCodePoint(Wc(t)?Jf(t):t)}}_stateAfterAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case B.EQUALS_SIGN:{this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{this.state=U.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this.state=U.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingAttributeValue),this.state=U.DATA,this.emitCurrentTagToken();break}default:this.state=U.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case B.QUOTATION_MARK:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case B.APOSTROPHE:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:case B.EQUALS_SIGN:case B.GRAVE_ACCENT:{this._err(ce.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this._leaveAttrValue(),this.state=U.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._err(ce.missingWhitespaceBetweenAttributes),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case B.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=U.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ce.eofInTag),this._emitEOFToken();break}default:this._err(ce.unexpectedSolidusInTag),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(r);break}case B.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.data+=Dt;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(hn.DASH_DASH,!0)?(this._createCommentToken(hn.DASH_DASH.length+1),this.state=U.COMMENT_START):this._consumeSequenceIfMatch(hn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(hn.DOCTYPE.length+1),this.state=U.DOCTYPE):this._consumeSequenceIfMatch(hn.CDATA_START,!0)?this.inForeignNode?this.state=U.CDATA_SECTION:(this._err(ce.cdataInHtmlContent),this._createCommentToken(hn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=U.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ce.incorrectlyOpenedComment),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_START_DASH;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptClosingOfEmptyComment),this.state=U.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptClosingOfEmptyComment),this.state=U.DATA,this.emitCurrentComment(r);break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_END_DASH;break}case B.LESS_THAN_SIGN:{r.data+="<",this.state=U.COMMENT_LESS_THAN_SIGN;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.data+=Dt;break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case B.EXCLAMATION_MARK:{r.data+="!",this.state=U.COMMENT_LESS_THAN_SIGN_BANG;break}case B.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===B.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=U.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===B.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=U.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==B.GREATER_THAN_SIGN&&t!==B.EOF&&this._err(ce.nestedComment),this.state=U.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(r);break}case B.EXCLAMATION_MARK:{this.state=U.COMMENT_END_BANG;break}case B.HYPHEN_MINUS:{r.data+="-";break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{r.data+="--!",this.state=U.COMMENT_END_DASH;break}case B.GREATER_THAN_SIGN:{this._err(ce.incorrectlyClosedComment),this.state=U.DATA,this.emitCurrentComment(r);break}case B.EOF:{this._err(ce.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=U.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case B.EOF:{this._err(ce.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingWhitespaceBeforeDoctypeName),this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Wc(t))this._createDoctypeToken(String.fromCharCode(Jf(t))),this.state=U.DOCTYPE_NAME;else switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.NULL:{this._err(ce.unexpectedNullCharacter),this._createDoctypeToken(Dt),this.state=U.DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=U.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.AFTER_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.name+=Dt;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Wc(t)?Jf(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(hn.PUBLIC,!1)?this.state=U.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(hn.SYSTEM,!1)?this.state=U.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ce.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(ce.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ce.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.publicId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.publicId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.QUOTATION_MARK:{this._err(ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ce.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.QUOTATION_MARK:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(ce.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ce.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ce.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.systemId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(ce.unexpectedNullCharacter),r.systemId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ce.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ce.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ce.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.NULL:{this._err(ce.unexpectedNullCharacter);break}case B.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case B.RIGHT_SQUARE_BRACKET:{this.state=U.CDATA_SECTION_BRACKET;break}case B.EOF:{this._err(ce.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===B.RIGHT_SQUARE_BRACKET?this.state=U.CDATA_SECTION_END:(this._emitChars("]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case B.GREATER_THAN_SIGN:{this.state=U.DATA;break}case B.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&iP(this.preprocessor.peek(1))?U.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){iP(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===B.SEMICOLON&&this._err(ce.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const c5=new Set([k.DD,k.DT,k.LI,k.OPTGROUP,k.OPTION,k.P,k.RB,k.RP,k.RT,k.RTC]),aP=new Set([...c5,k.CAPTION,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]),Cm=new Set([k.APPLET,k.CAPTION,k.HTML,k.MARQUEE,k.OBJECT,k.TABLE,k.TD,k.TEMPLATE,k.TH]),Zpe=new Set([...Cm,k.OL,k.UL]),eme=new Set([...Cm,k.BUTTON]),oP=new Set([k.ANNOTATION_XML,k.MI,k.MN,k.MO,k.MS,k.MTEXT]),lP=new Set([k.DESC,k.FOREIGN_OBJECT,k.TITLE]),tme=new Set([k.TR,k.TEMPLATE,k.HTML]),rme=new Set([k.TBODY,k.TFOOT,k.THEAD,k.TEMPLATE,k.HTML]),nme=new Set([k.TABLE,k.TEMPLATE,k.HTML]),ime=new Set([k.TD,k.TH]);class sme{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=k.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===k.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===me.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==me.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(V_,me.HTML)}popUntilTableCellPopped(){this.popUntilPopped(ime,me.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(nme,me.HTML)}clearBackToTableBodyContext(){this.clearBackTo(rme,me.HTML)}clearBackToTableRowContext(){this.clearBackTo(tme,me.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===k.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===k.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case me.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case me.SVG:{if(lP.has(i))return!1;break}case me.MATHML:{if(oP.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Cm)}hasInListItemScope(t){return this.hasInDynamicScope(t,Zpe)}hasInButtonScope(t){return this.hasInDynamicScope(t,eme)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case me.HTML:{if(V_.has(r))return!0;if(Cm.has(r))return!1;break}case me.SVG:{if(lP.has(r))return!1;break}case me.MATHML:{if(oP.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===me.HTML)switch(this.tagIDs[r]){case t:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===me.HTML)switch(this.tagIDs[t]){case k.TBODY:case k.THEAD:case k.TFOOT:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===me.HTML)switch(this.tagIDs[r]){case t:return!0;case k.OPTION:case k.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&c5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&aP.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&aP.has(this.currentTagId);)this.pop()}}const Qb=3;var Vi;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Vi||(Vi={}));const uP={type:Vi.Marker};class ame{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const c=this.entries[o];if(c.type===Vi.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===s&&this.treeAdapter.getNamespaceURI(d)===a){const f=this.treeAdapter.getAttrList(d);f.length===i&&n.push({idx:o,attrs:f})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<Qb)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<Qb)return;const i=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(c=>i.get(c.name)===c.value)&&(s+=1,s>=Qb&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(uP)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Vi.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Vi.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(uP);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Vi.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Vi.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Vi.Element&&r.element===t)}}const ga={createDocument(){return{nodeName:"#document",mode:ti.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};ga.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(ga.isTextNode(r)){r.value+=t;return}}ga.appendChild(e,ga.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&ga.isTextNode(n)?n.value+=t:ga.insertBefore(e,ga.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},d5="html",ome="about:legacy-compat",lme="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",h5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ume=[...h5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],cme=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),f5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],dme=[...f5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function cP(e,t){return t.some(r=>e.startsWith(r))}function hme(e){return e.name===d5&&e.publicId===null&&(e.systemId===null||e.systemId===ome)}function fme(e){if(e.name!==d5)return ti.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===lme)return ti.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),cme.has(r))return ti.QUIRKS;let n=t===null?ume:h5;if(cP(r,n))return ti.QUIRKS;if(n=t===null?f5:dme,cP(r,n))return ti.LIMITED_QUIRKS}return ti.NO_QUIRKS}const dP={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},pme="definitionurl",mme="definitionURL",gme=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),vme=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:me.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:me.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:me.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:me.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:me.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:me.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:me.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:me.XML}],["xml:space",{prefix:"xml",name:"space",namespace:me.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:me.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:me.XMLNS}]]),yme=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),bme=new Set([k.B,k.BIG,k.BLOCKQUOTE,k.BODY,k.BR,k.CENTER,k.CODE,k.DD,k.DIV,k.DL,k.DT,k.EM,k.EMBED,k.H1,k.H2,k.H3,k.H4,k.H5,k.H6,k.HEAD,k.HR,k.I,k.IMG,k.LI,k.LISTING,k.MENU,k.META,k.NOBR,k.OL,k.P,k.PRE,k.RUBY,k.S,k.SMALL,k.SPAN,k.STRONG,k.STRIKE,k.SUB,k.SUP,k.TABLE,k.TT,k.U,k.UL,k.VAR]);function _me(e){const t=e.tagID;return t===k.FONT&&e.attrs.some(({name:n})=>n===Eo.COLOR||n===Eo.SIZE||n===Eo.FACE)||bme.has(t)}function p5(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===pme){e.attrs[t].name=mme;break}}function m5(e){for(let t=0;t<e.attrs.length;t++){const r=gme.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function AE(e){for(let t=0;t<e.attrs.length;t++){const r=vme.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function xme(e){const t=yme.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ku(e.tagName))}function wme(e,t){return t===me.MATHML&&(e===k.MI||e===k.MO||e===k.MN||e===k.MS||e===k.MTEXT)}function Eme(e,t,r){if(t===me.MATHML&&e===k.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Eo.ENCODING){const i=r[n].value.toLowerCase();return i===dP.TEXT_HTML||i===dP.APPLICATION_XML}}return t===me.SVG&&(e===k.FOREIGN_OBJECT||e===k.DESC||e===k.TITLE)}function kme(e,t,r,n){return(!n||n===me.HTML)&&Eme(e,t,r)||(!n||n===me.MATHML)&&wme(e,t)}const Tme="hidden",Sme=8,Cme=3;var q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(q||(q={}));const Ame={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},g5=new Set([k.TABLE,k.TBODY,k.TFOOT,k.THEAD,k.TR]),hP={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ga,onParseError:null};class fP{constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=q.INITIAL,this.originalInsertionMode=q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...hP,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Jpe(this.options,this),this.activeFormattingElements=new ame(this.treeAdapter),this.fragmentContextID=n?ku(this.treeAdapter.getTagName(n)):k.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new sme(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...hP,...r};t??(t=n.treeAdapter.createElement(ee.TEMPLATE,me.HTML,[]));const i=n.treeAdapter.createElement("documentmock",me.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===k.TEMPLATE&&s.tmplInsertionModeStack.unshift(q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Ame,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===me.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,me.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=q.TEXT}switchToPlaintextParsing(){this.insertionMode=q.TEXT,this.originalInsertionMode=q.IN_BODY,this.tokenizer.state=Kt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ee.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==me.HTML))switch(this.fragmentContextID){case k.TITLE:case k.TEXTAREA:{this.tokenizer.state=Kt.RCDATA;break}case k.STYLE:case k.XMP:case k.IFRAME:case k.NOEMBED:case k.NOFRAMES:case k.NOSCRIPT:{this.tokenizer.state=Kt.RAWTEXT;break}case k.SCRIPT:{this.tokenizer.state=Kt.SCRIPT_DATA;break}case k.PLAINTEXT:{this.tokenizer.state=Kt.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,me.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,me.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ee.HTML,me.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,k.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:c,endCol:d,endOffset:f}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:c,endCol:d,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===it.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===k.SVG&&this.treeAdapter.getTagName(r)===ee.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===me.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===k.MGLYPH||t.tagID===k.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,me.HTML)}_processToken(t){switch(t.type){case it.CHARACTER:{this.onCharacter(t);break}case it.NULL_CHARACTER:{this.onNullCharacter(t);break}case it.COMMENT:{this.onComment(t);break}case it.DOCTYPE:{this.onDoctype(t);break}case it.START_TAG:{this._processStartTag(t);break}case it.END_TAG:{this.onEndTag(t);break}case it.EOF:{this.onEof(t);break}case it.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return kme(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===Vi.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(k.P),this.openElements.popUntilTagNamePopped(k.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case k.TR:{this.insertionMode=q.IN_ROW;return}case k.TBODY:case k.THEAD:case k.TFOOT:{this.insertionMode=q.IN_TABLE_BODY;return}case k.CAPTION:{this.insertionMode=q.IN_CAPTION;return}case k.COLGROUP:{this.insertionMode=q.IN_COLUMN_GROUP;return}case k.TABLE:{this.insertionMode=q.IN_TABLE;return}case k.BODY:{this.insertionMode=q.IN_BODY;return}case k.FRAMESET:{this.insertionMode=q.IN_FRAMESET;return}case k.SELECT:{this._resetInsertionModeForSelect(t);return}case k.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case k.HTML:{this.insertionMode=this.headElement?q.AFTER_HEAD:q.BEFORE_HEAD;return}case k.TD:case k.TH:{if(t>0){this.insertionMode=q.IN_CELL;return}break}case k.HEAD:{if(t>0){this.insertionMode=q.IN_HEAD;return}break}}this.insertionMode=q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===k.TEMPLATE)break;if(n===k.TABLE){this.insertionMode=q.IN_SELECT_IN_TABLE;return}}this.insertionMode=q.IN_SELECT}_isElementCausesFosterParenting(t){return g5.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case k.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===me.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case k.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return Ype[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){i0e(this,t);return}switch(this.insertionMode){case q.INITIAL:{Pc(this,t);break}case q.BEFORE_HTML:{td(this,t);break}case q.BEFORE_HEAD:{rd(this,t);break}case q.IN_HEAD:{nd(this,t);break}case q.IN_HEAD_NO_SCRIPT:{id(this,t);break}case q.AFTER_HEAD:{sd(this,t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:{y5(this,t);break}case q.TEXT:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{Jb(this,t);break}case q.IN_TABLE_TEXT:{k5(this,t);break}case q.IN_COLUMN_GROUP:{Am(this,t);break}case q.AFTER_BODY:{Nm(this,t);break}case q.AFTER_AFTER_BODY:{dp(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){n0e(this,t);return}switch(this.insertionMode){case q.INITIAL:{Pc(this,t);break}case q.BEFORE_HTML:{td(this,t);break}case q.BEFORE_HEAD:{rd(this,t);break}case q.IN_HEAD:{nd(this,t);break}case q.IN_HEAD_NO_SCRIPT:{id(this,t);break}case q.AFTER_HEAD:{sd(this,t);break}case q.TEXT:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{Jb(this,t);break}case q.IN_COLUMN_GROUP:{Am(this,t);break}case q.AFTER_BODY:{Nm(this,t);break}case q.AFTER_AFTER_BODY:{dp(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){G_(this,t);return}switch(this.insertionMode){case q.INITIAL:case q.BEFORE_HTML:case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_TEMPLATE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{G_(this,t);break}case q.IN_TABLE_TEXT:{Ic(this,t);break}case q.AFTER_BODY:{Dme(this,t);break}case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{Lme(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case q.INITIAL:{Mme(this,t);break}case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:{this._err(t,ce.misplacedDoctype);break}case q.IN_TABLE_TEXT:{Ic(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ce.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?s0e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{Pc(this,t);break}case q.BEFORE_HTML:{Bme(this,t);break}case q.BEFORE_HEAD:{$me(this,t);break}case q.IN_HEAD:{Li(this,t);break}case q.IN_HEAD_NO_SCRIPT:{zme(this,t);break}case q.AFTER_HEAD:{qme(this,t);break}case q.IN_BODY:{Gr(this,t);break}case q.IN_TABLE:{tu(this,t);break}case q.IN_TABLE_TEXT:{Ic(this,t);break}case q.IN_CAPTION:{Uge(this,t);break}case q.IN_COLUMN_GROUP:{OE(this,t);break}case q.IN_TABLE_BODY:{jg(this,t);break}case q.IN_ROW:{Og(this,t);break}case q.IN_CELL:{Wge(this,t);break}case q.IN_SELECT:{C5(this,t);break}case q.IN_SELECT_IN_TABLE:{Vge(this,t);break}case q.IN_TEMPLATE:{Yge(this,t);break}case q.AFTER_BODY:{Xge(this,t);break}case q.IN_FRAMESET:{Qge(this,t);break}case q.AFTER_FRAMESET:{Zge(this,t);break}case q.AFTER_AFTER_BODY:{t0e(this,t);break}case q.AFTER_AFTER_FRAMESET:{r0e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?a0e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{Pc(this,t);break}case q.BEFORE_HTML:{Fme(this,t);break}case q.BEFORE_HEAD:{Ume(this,t);break}case q.IN_HEAD:{Hme(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Wme(this,t);break}case q.AFTER_HEAD:{Vme(this,t);break}case q.IN_BODY:{Ng(this,t);break}case q.TEXT:{Oge(this,t);break}case q.IN_TABLE:{Nd(this,t);break}case q.IN_TABLE_TEXT:{Ic(this,t);break}case q.IN_CAPTION:{Hge(this,t);break}case q.IN_COLUMN_GROUP:{zge(this,t);break}case q.IN_TABLE_BODY:{Y_(this,t);break}case q.IN_ROW:{S5(this,t);break}case q.IN_CELL:{qge(this,t);break}case q.IN_SELECT:{A5(this,t);break}case q.IN_SELECT_IN_TABLE:{Gge(this,t);break}case q.IN_TEMPLATE:{Kge(this,t);break}case q.AFTER_BODY:{j5(this,t);break}case q.IN_FRAMESET:{Jge(this,t);break}case q.AFTER_FRAMESET:{e0e(this,t);break}case q.AFTER_AFTER_BODY:{dp(this,t);break}}}onEof(t){switch(this.insertionMode){case q.INITIAL:{Pc(this,t);break}case q.BEFORE_HTML:{td(this,t);break}case q.BEFORE_HEAD:{rd(this,t);break}case q.IN_HEAD:{nd(this,t);break}case q.IN_HEAD_NO_SCRIPT:{id(this,t);break}case q.AFTER_HEAD:{sd(this,t);break}case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{w5(this,t);break}case q.TEXT:{Pge(this,t);break}case q.IN_TABLE_TEXT:{Ic(this,t);break}case q.IN_TEMPLATE:{N5(this,t);break}case q.AFTER_BODY:case q.IN_FRAMESET:case q.AFTER_FRAMESET:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{jE(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===B.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.TEXT:case q.IN_COLUMN_GROUP:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{this._insertCharacters(t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:case q.AFTER_BODY:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{v5(this,t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{Jb(this,t);break}case q.IN_TABLE_TEXT:{E5(this,t);break}}}}function Nme(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):x5(e,t),r}function jme(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function Ome(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==r;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),c=o&&s>=Cme;!o||c?(c&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=Pme(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function Pme(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Ime(e,t,r){const n=e.treeAdapter.getTagName(t),i=ku(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===k.TEMPLATE&&s===me.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function Rme(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}function NE(e,t){for(let r=0;r<Sme;r++){const n=Nme(e,t);if(!n)break;const i=jme(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=Ome(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),a&&Ime(e,a,s),Rme(e,i,n)}}function G_(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Dme(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Lme(e,t){e._appendCommentNode(t,e.document)}function jE(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function Mme(e,t){e._setDocumentType(t);const r=t.forceQuirks?ti.QUIRKS:fme(t);hme(t)||e._err(t,ce.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=q.BEFORE_HTML}function Pc(e,t){e._err(t,ce.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ti.QUIRKS),e.insertionMode=q.BEFORE_HTML,e._processToken(t)}function Bme(e,t){t.tagID===k.HTML?(e._insertElement(t,me.HTML),e.insertionMode=q.BEFORE_HEAD):td(e,t)}function Fme(e,t){const r=t.tagID;(r===k.HTML||r===k.HEAD||r===k.BODY||r===k.BR)&&td(e,t)}function td(e,t){e._insertFakeRootElement(),e.insertionMode=q.BEFORE_HEAD,e._processToken(t)}function $me(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.HEAD:{e._insertElement(t,me.HTML),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD;break}default:rd(e,t)}}function Ume(e,t){const r=t.tagID;r===k.HEAD||r===k.BODY||r===k.HTML||r===k.BR?rd(e,t):e._err(t,ce.endTagWithoutMatchingOpenElement)}function rd(e,t){e._insertFakeElement(ee.HEAD,k.HEAD),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD,e._processToken(t)}function Li(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:{e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.TITLE:{e._switchToTextParsing(t,Kt.RCDATA);break}case k.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Kt.RAWTEXT):(e._insertElement(t,me.HTML),e.insertionMode=q.IN_HEAD_NO_SCRIPT);break}case k.NOFRAMES:case k.STYLE:{e._switchToTextParsing(t,Kt.RAWTEXT);break}case k.SCRIPT:{e._switchToTextParsing(t,Kt.SCRIPT_DATA);break}case k.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(q.IN_TEMPLATE);break}case k.HEAD:{e._err(t,ce.misplacedStartTagForHeadElement);break}default:nd(e,t)}}function Hme(e,t){switch(t.tagID){case k.HEAD:{e.openElements.pop(),e.insertionMode=q.AFTER_HEAD;break}case k.BODY:case k.BR:case k.HTML:{nd(e,t);break}case k.TEMPLATE:{Bo(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function Bo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==k.TEMPLATE&&e._err(t,ce.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ce.endTagWithoutMatchingOpenElement)}function nd(e,t){e.openElements.pop(),e.insertionMode=q.AFTER_HEAD,e._processToken(t)}function zme(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.BASEFONT:case k.BGSOUND:case k.HEAD:case k.LINK:case k.META:case k.NOFRAMES:case k.STYLE:{Li(e,t);break}case k.NOSCRIPT:{e._err(t,ce.nestedNoscriptInHead);break}default:id(e,t)}}function Wme(e,t){switch(t.tagID){case k.NOSCRIPT:{e.openElements.pop(),e.insertionMode=q.IN_HEAD;break}case k.BR:{id(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function id(e,t){const r=t.type===it.EOF?ce.openElementsLeftAfterEof:ce.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=q.IN_HEAD,e._processToken(t)}function qme(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.BODY:{e._insertElement(t,me.HTML),e.framesetOk=!1,e.insertionMode=q.IN_BODY;break}case k.FRAMESET:{e._insertElement(t,me.HTML),e.insertionMode=q.IN_FRAMESET;break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{e._err(t,ce.abandonedHeadElementChild),e.openElements.push(e.headElement,k.HEAD),Li(e,t),e.openElements.remove(e.headElement);break}case k.HEAD:{e._err(t,ce.misplacedStartTagForHeadElement);break}default:sd(e,t)}}function Vme(e,t){switch(t.tagID){case k.BODY:case k.HTML:case k.BR:{sd(e,t);break}case k.TEMPLATE:{Bo(e,t);break}default:e._err(t,ce.endTagWithoutMatchingOpenElement)}}function sd(e,t){e._insertFakeElement(ee.BODY,k.BODY),e.insertionMode=q.IN_BODY,Ag(e,t)}function Ag(e,t){switch(t.type){case it.CHARACTER:{y5(e,t);break}case it.WHITESPACE_CHARACTER:{v5(e,t);break}case it.COMMENT:{G_(e,t);break}case it.START_TAG:{Gr(e,t);break}case it.END_TAG:{Ng(e,t);break}case it.EOF:{w5(e,t);break}}}function v5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function y5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Gme(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Yme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function Kme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,me.HTML),e.insertionMode=q.IN_FRAMESET)}function Xme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML)}function Qme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&V_.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,me.HTML)}function Jme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Zme(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),r||(e.formElement=e.openElements.current))}function ege(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===k.LI&&i===k.LI||(r===k.DD||r===k.DT)&&(i===k.DD||i===k.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==k.ADDRESS&&i!==k.DIV&&i!==k.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML)}function tge(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),e.tokenizer.state=Kt.PLAINTEXT}function rge(e,t){e.openElements.hasInScope(k.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.framesetOk=!1}function nge(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(ee.A);r&&(NE(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ige(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sge(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(k.NOBR)&&(NE(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,me.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function age(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function oge(e,t){e.treeAdapter.getDocumentMode(e.document)!==ti.QUIRKS&&e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),e.framesetOk=!1,e.insertionMode=q.IN_TABLE}function b5(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,me.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function _5(e){const t=l5(e,Eo.TYPE);return t!=null&&t.toLowerCase()===Tme}function lge(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,me.HTML),_5(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function uge(e,t){e._appendElement(t,me.HTML),t.ackSelfClosing=!0}function cge(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._appendElement(t,me.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dge(e,t){t.tagName=ee.IMG,t.tagID=k.IMG,b5(e,t)}function hge(e,t){e._insertElement(t,me.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Kt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=q.TEXT}function fge(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function pge(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function pP(e,t){e._switchToTextParsing(t,Kt.RAWTEXT)}function mge(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===q.IN_TABLE||e.insertionMode===q.IN_CAPTION||e.insertionMode===q.IN_TABLE_BODY||e.insertionMode===q.IN_ROW||e.insertionMode===q.IN_CELL?q.IN_SELECT_IN_TABLE:q.IN_SELECT}function gge(e,t){e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML)}function vge(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,me.HTML)}function yge(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(k.RTC),e._insertElement(t,me.HTML)}function bge(e,t){e._reconstructActiveFormattingElements(),p5(t),AE(t),t.selfClosing?e._appendElement(t,me.MATHML):e._insertElement(t,me.MATHML),t.ackSelfClosing=!0}function _ge(e,t){e._reconstructActiveFormattingElements(),m5(t),AE(t),t.selfClosing?e._appendElement(t,me.SVG):e._insertElement(t,me.SVG),t.ackSelfClosing=!0}function mP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML)}function Gr(e,t){switch(t.tagID){case k.I:case k.S:case k.B:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.SMALL:case k.STRIKE:case k.STRONG:{ige(e,t);break}case k.A:{nge(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{Qme(e,t);break}case k.P:case k.DL:case k.OL:case k.UL:case k.DIV:case k.DIR:case k.NAV:case k.MAIN:case k.MENU:case k.ASIDE:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.DETAILS:case k.ADDRESS:case k.ARTICLE:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{Xme(e,t);break}case k.LI:case k.DD:case k.DT:{ege(e,t);break}case k.BR:case k.IMG:case k.WBR:case k.AREA:case k.EMBED:case k.KEYGEN:{b5(e,t);break}case k.HR:{cge(e,t);break}case k.RB:case k.RTC:{vge(e,t);break}case k.RT:case k.RP:{yge(e,t);break}case k.PRE:case k.LISTING:{Jme(e,t);break}case k.XMP:{fge(e,t);break}case k.SVG:{_ge(e,t);break}case k.HTML:{Gme(e,t);break}case k.BASE:case k.LINK:case k.META:case k.STYLE:case k.TITLE:case k.SCRIPT:case k.BGSOUND:case k.BASEFONT:case k.TEMPLATE:{Li(e,t);break}case k.BODY:{Yme(e,t);break}case k.FORM:{Zme(e,t);break}case k.NOBR:{sge(e,t);break}case k.MATH:{bge(e,t);break}case k.TABLE:{oge(e,t);break}case k.INPUT:{lge(e,t);break}case k.PARAM:case k.TRACK:case k.SOURCE:{uge(e,t);break}case k.IMAGE:{dge(e,t);break}case k.BUTTON:{rge(e,t);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{age(e,t);break}case k.IFRAME:{pge(e,t);break}case k.SELECT:{mge(e,t);break}case k.OPTION:case k.OPTGROUP:{gge(e,t);break}case k.NOEMBED:case k.NOFRAMES:{pP(e,t);break}case k.FRAMESET:{Kme(e,t);break}case k.TEXTAREA:{hge(e,t);break}case k.NOSCRIPT:{e.options.scriptingEnabled?pP(e,t):mP(e,t);break}case k.PLAINTEXT:{tge(e,t);break}case k.COL:case k.TH:case k.TD:case k.TR:case k.HEAD:case k.FRAME:case k.TBODY:case k.TFOOT:case k.THEAD:case k.CAPTION:case k.COLGROUP:break;default:mP(e,t)}}function xge(e,t){if(e.openElements.hasInScope(k.BODY)&&(e.insertionMode=q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function wge(e,t){e.openElements.hasInScope(k.BODY)&&(e.insertionMode=q.AFTER_BODY,j5(e,t))}function Ege(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function kge(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(k.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(k.FORM):r&&e.openElements.remove(r))}function Tge(e){e.openElements.hasInButtonScope(k.P)||e._insertFakeElement(ee.P,k.P),e._closePElement()}function Sge(e){e.openElements.hasInListItemScope(k.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(k.LI),e.openElements.popUntilTagNamePopped(k.LI))}function Cge(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function Age(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Nge(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function jge(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ee.BR,k.BR),e.openElements.pop(),e.framesetOk=!1}function x5(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(n===a&&(n!==k.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function Ng(e,t){switch(t.tagID){case k.A:case k.B:case k.I:case k.S:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.NOBR:case k.SMALL:case k.STRIKE:case k.STRONG:{NE(e,t);break}case k.P:{Tge(e);break}case k.DL:case k.UL:case k.OL:case k.DIR:case k.DIV:case k.NAV:case k.PRE:case k.MAIN:case k.MENU:case k.ASIDE:case k.BUTTON:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.ADDRESS:case k.ARTICLE:case k.DETAILS:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.LISTING:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{Ege(e,t);break}case k.LI:{Sge(e);break}case k.DD:case k.DT:{Cge(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{Age(e);break}case k.BR:{jge(e);break}case k.BODY:{xge(e,t);break}case k.HTML:{wge(e,t);break}case k.FORM:{kge(e);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{Nge(e,t);break}case k.TEMPLATE:{Bo(e,t);break}default:x5(e,t)}}function w5(e,t){e.tmplInsertionModeStack.length>0?N5(e,t):jE(e,t)}function Oge(e,t){var r;t.tagID===k.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Pge(e,t){e._err(t,ce.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Jb(e,t){if(e.openElements.currentTagId!==void 0&&g5.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=q.IN_TABLE_TEXT,t.type){case it.CHARACTER:{k5(e,t);break}case it.WHITESPACE_CHARACTER:{E5(e,t);break}}else rh(e,t)}function Ige(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,me.HTML),e.insertionMode=q.IN_CAPTION}function Rge(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,me.HTML),e.insertionMode=q.IN_COLUMN_GROUP}function Dge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ee.COLGROUP,k.COLGROUP),e.insertionMode=q.IN_COLUMN_GROUP,OE(e,t)}function Lge(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,me.HTML),e.insertionMode=q.IN_TABLE_BODY}function Mge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ee.TBODY,k.TBODY),e.insertionMode=q.IN_TABLE_BODY,jg(e,t)}function Bge(e,t){e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Fge(e,t){_5(t)?e._appendElement(t,me.HTML):rh(e,t),t.ackSelfClosing=!0}function $ge(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,me.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function tu(e,t){switch(t.tagID){case k.TD:case k.TH:case k.TR:{Mge(e,t);break}case k.STYLE:case k.SCRIPT:case k.TEMPLATE:{Li(e,t);break}case k.COL:{Dge(e,t);break}case k.FORM:{$ge(e,t);break}case k.TABLE:{Bge(e,t);break}case k.TBODY:case k.TFOOT:case k.THEAD:{Lge(e,t);break}case k.INPUT:{Fge(e,t);break}case k.CAPTION:{Ige(e,t);break}case k.COLGROUP:{Rge(e,t);break}default:rh(e,t)}}function Nd(e,t){switch(t.tagID){case k.TABLE:{e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode());break}case k.TEMPLATE:{Bo(e,t);break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:rh(e,t)}}function rh(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ag(e,t),e.fosterParentingEnabled=r}function E5(e,t){e.pendingCharacterTokens.push(t)}function k5(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ic(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)rh(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const T5=new Set([k.CAPTION,k.COL,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]);function Uge(e,t){const r=t.tagID;T5.has(r)?e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,tu(e,t)):Gr(e,t)}function Hge(e,t){const r=t.tagID;switch(r){case k.CAPTION:case k.TABLE:{e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,r===k.TABLE&&Nd(e,t));break}case k.BODY:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:Ng(e,t)}}function OE(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.COL:{e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.TEMPLATE:{Li(e,t);break}default:Am(e,t)}}function zge(e,t){switch(t.tagID){case k.COLGROUP:{e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case k.TEMPLATE:{Bo(e,t);break}case k.COL:break;default:Am(e,t)}}function Am(e,t){e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE,e._processToken(t))}function jg(e,t){switch(t.tagID){case k.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,me.HTML),e.insertionMode=q.IN_ROW;break}case k.TH:case k.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ee.TR,k.TR),e.insertionMode=q.IN_ROW,Og(e,t);break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,tu(e,t));break}default:tu(e,t)}}function Y_(e,t){const r=t.tagID;switch(t.tagID){case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case k.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,Nd(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:case k.TR:break;default:Nd(e,t)}}function Og(e,t){switch(t.tagID){case k.TH:case k.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,me.HTML),e.insertionMode=q.IN_CELL,e.activeFormattingElements.insertMarker();break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,jg(e,t));break}default:tu(e,t)}}function S5(e,t){switch(t.tagID){case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY);break}case k.TABLE:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,Y_(e,t));break}case k.TBODY:case k.TFOOT:case k.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(k.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,Y_(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:break;default:Nd(e,t)}}function Wge(e,t){const r=t.tagID;T5.has(r)?(e.openElements.hasInTableScope(k.TD)||e.openElements.hasInTableScope(k.TH))&&(e._closeTableCell(),Og(e,t)):Gr(e,t)}function qge(e,t){const r=t.tagID;switch(r){case k.TD:case k.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_ROW);break}case k.TABLE:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),S5(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:break;default:Ng(e,t)}}function C5(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._insertElement(t,me.HTML);break}case k.OPTGROUP:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._insertElement(t,me.HTML);break}case k.HR:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.INPUT:case k.KEYGEN:case k.TEXTAREA:case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),t.tagID!==k.SELECT&&e._processStartTag(t));break}case k.SCRIPT:case k.TEMPLATE:{Li(e,t);break}}}function A5(e,t){switch(t.tagID){case k.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===k.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===k.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop();break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop();break}case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode());break}case k.TEMPLATE:{Bo(e,t);break}}}function Vge(e,t){const r=t.tagID;r===k.CAPTION||r===k.TABLE||r===k.TBODY||r===k.TFOOT||r===k.THEAD||r===k.TR||r===k.TD||r===k.TH?(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e._processStartTag(t)):C5(e,t)}function Gge(e,t){const r=t.tagID;r===k.CAPTION||r===k.TABLE||r===k.TBODY||r===k.TFOOT||r===k.THEAD||r===k.TR||r===k.TD||r===k.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e.onEndTag(t)):A5(e,t)}function Yge(e,t){switch(t.tagID){case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{Li(e,t);break}case k.CAPTION:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.tmplInsertionModeStack[0]=q.IN_TABLE,e.insertionMode=q.IN_TABLE,tu(e,t);break}case k.COL:{e.tmplInsertionModeStack[0]=q.IN_COLUMN_GROUP,e.insertionMode=q.IN_COLUMN_GROUP,OE(e,t);break}case k.TR:{e.tmplInsertionModeStack[0]=q.IN_TABLE_BODY,e.insertionMode=q.IN_TABLE_BODY,jg(e,t);break}case k.TD:case k.TH:{e.tmplInsertionModeStack[0]=q.IN_ROW,e.insertionMode=q.IN_ROW,Og(e,t);break}default:e.tmplInsertionModeStack[0]=q.IN_BODY,e.insertionMode=q.IN_BODY,Gr(e,t)}}function Kge(e,t){t.tagID===k.TEMPLATE&&Bo(e,t)}function N5(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):jE(e,t)}function Xge(e,t){t.tagID===k.HTML?Gr(e,t):Nm(e,t)}function j5(e,t){var r;if(t.tagID===k.HTML){if(e.fragmentContext||(e.insertionMode=q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===k.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Nm(e,t)}function Nm(e,t){e.insertionMode=q.IN_BODY,Ag(e,t)}function Qge(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.FRAMESET:{e._insertElement(t,me.HTML);break}case k.FRAME:{e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.NOFRAMES:{Li(e,t);break}}}function Jge(e,t){t.tagID===k.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==k.FRAMESET&&(e.insertionMode=q.AFTER_FRAMESET))}function Zge(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.NOFRAMES:{Li(e,t);break}}}function e0e(e,t){t.tagID===k.HTML&&(e.insertionMode=q.AFTER_AFTER_FRAMESET)}function t0e(e,t){t.tagID===k.HTML?Gr(e,t):dp(e,t)}function dp(e,t){e.insertionMode=q.IN_BODY,Ag(e,t)}function r0e(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.NOFRAMES:{Li(e,t);break}}}function n0e(e,t){t.chars=Dt,e._insertCharacters(t)}function i0e(e,t){e._insertCharacters(t),e.framesetOk=!1}function O5(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==me.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function s0e(e,t){if(_me(t))O5(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===me.MATHML?p5(t):n===me.SVG&&(xme(t),m5(t)),AE(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function a0e(e,t){if(t.tagID===k.P||t.tagID===k.BR){O5(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===me.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}ee.AREA,ee.BASE,ee.BASEFONT,ee.BGSOUND,ee.BR,ee.COL,ee.EMBED,ee.FRAME,ee.HR,ee.IMG,ee.INPUT,ee.KEYGEN,ee.LINK,ee.META,ee.PARAM,ee.SOURCE,ee.TRACK,ee.WBR;const o0e=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,l0e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),gP={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function P5(e,t){const r=y0e(e),n=DM("type",{handlers:{root:u0e,element:c0e,text:d0e,comment:R5,doctype:h0e,raw:p0e},unknown:m0e}),i={parser:r?new fP(gP):fP.getFragmentParser(void 0,gP),handle(o){n(o,i)},stitches:!1,options:t||{}};n(e,i),Tu(i,ns());const s=r?i.parser.document:i.parser.getFragment(),a=bpe(s,{file:i.options.file});return i.stitches&&Ym(a,"comment",function(o,c,d){const f=o;if(f.value.stitch&&d&&c!==void 0){const p=d.children;return p[c]=f.value.stitch,c}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function I5(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function u0e(e,t){I5(e.children,t)}function c0e(e,t){g0e(e,t),I5(e.children,t),v0e(e,t)}function d0e(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:it.CHARACTER,chars:e.value,location:nh(e)};Tu(t,ns(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function h0e(e,t){const r={type:it.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nh(e)};Tu(t,ns(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function f0e(e,t){t.stitches=!0;const r=b0e(e);if("children"in e&&"children"in r){const n=P5({type:"root",children:e.children},t.options);r.children=n.children}R5({type:"comment",value:{stitch:r}},t)}function R5(e,t){const r=e.value,n={type:it.COMMENT,data:r,location:nh(e)};Tu(t,ns(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function p0e(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,D5(t,ns(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(o0e,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function m0e(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))f0e(r,t);else{let n="";throw l0e.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Tu(e,t){D5(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Kt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function D5(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function g0e(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Kt.PLAINTEXT)return;Tu(t,ns(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:yo.html;i===yo.html&&r==="svg"&&(i=yo.svg);const s=kpe({...e,children:[]},{space:i===yo.svg?"svg":"html"}),a={type:it.START_TAG,tagName:r,tagID:ku(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:nh(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function v0e(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Ppe.includes(r)||t.parser.tokenizer.state===Kt.PLAINTEXT)return;Tu(t,Hm(e));const n={type:it.END_TAG,tagName:r,tagID:ku(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nh(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Kt.RCDATA||t.parser.tokenizer.state===Kt.RAWTEXT||t.parser.tokenizer.state===Kt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Kt.DATA)}function y0e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function nh(e){const t=ns(e)||{line:void 0,column:void 0,offset:void 0},r=Hm(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function b0e(e){return"children"in e?Wl({...e,children:[]}):Wl(e)}function _0e(e){return function(t,r){return P5(t,{...e,file:r})}}function x0e({src:e,title:t}){const r=nn(),n=E.useRef(!1),i=E.useRef(!1),s="/Terminus-EC-Training-stateful/",a=e!=null&&e.startsWith("/")&&!(e!=null&&e.startsWith(s))?`${s.replace(/\/$/,"")}${e}`:e,o=E.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"local"}),n.current=!0)},[r,e,t]),c=E.useCallback(()=>{r&&!i.current&&(r.capture("docs_video_completed",{video_src:e,video_title:t||e,video_type:"local"}),i.current=!0)},[r,e,t]);return l.jsxs("div",{className:"video-embed",children:[t&&l.jsx("h4",{className:"video-embed-title",children:t}),l.jsx("div",{className:"video-embed-wrapper",children:l.jsxs("video",{controls:!0,preload:"metadata",className:"video-embed-player",title:t,onPlay:o,onEnded:c,children:[l.jsx("source",{src:a,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}function w0e({id:e,title:t}){const r=nn(),n=E.useRef(!1),i=`https://www.loom.com/embed/${e}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,s=E.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"loom"}),n.current=!0)},[r,e,t]);return l.jsxs("div",{className:"video-embed",children:[t&&l.jsx("h4",{className:"video-embed-title",children:t}),l.jsx("div",{className:"video-embed-wrapper",children:l.jsx("iframe",{src:i,frameBorder:"0",allowFullScreen:!0,className:"video-embed-iframe",title:t||"Loom video",onLoad:s})})]})}function E0e({src:e,title:t}){const r=nn(),n="/Terminus-EC-Training-stateful/",i=e!=null&&e.startsWith("/")&&!(e!=null&&e.startsWith(n))?`${n.replace(/\/$/,"")}${e}`:e,s=e.split("/").pop(),a=s.endsWith(".ipynb"),o=s.endsWith(".zip"),c=s.includes("template-task")||s.includes("skeleton"),d=a?"":o?"":"",f=a?"Jupyter Notebook":o?"ZIP Archive":"PDF Document",p=()=>{if(r){const v=c?"skeleton_downloaded":"docs_file_downloaded";r.capture(v,{file_name:s,file_title:t||s,file_type:f,source:"docs"})}};return l.jsxs("div",{className:"pdf-download",children:[l.jsx("div",{className:"pdf-download-icon",children:d}),l.jsxs("div",{className:"pdf-download-info",children:[l.jsx("span",{className:"pdf-download-title",children:t||s}),l.jsx("span",{className:"pdf-download-type",children:f})]}),l.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"pdf-download-button",download:a||o?s:void 0,onClick:p,children:a||o?"Download":"View / Download"})]})}const k0e=({inline:e,className:t,children:r})=>{const i=String(r).includes(`
`),s=t==null?void 0:t.startsWith("language-");if(e===!0||!s&&!i)return l.jsx("code",{className:"docs-inline-code",children:r});const[o,c]=E.useState(!1),d=(t==null?void 0:t.replace("language-",""))||"",f=()=>{navigator.clipboard.writeText(String(r).replace(/\n$/,"")),c(!0),setTimeout(()=>c(!1),2e3)};return l.jsxs("div",{className:"docs-code-wrapper",children:[l.jsxs("div",{className:"docs-code-header",children:[l.jsx("span",{className:"docs-code-lang",children:d}),l.jsx("button",{className:`docs-code-copy-btn ${o?"copied":""}`,onClick:f,"aria-label":"Copy code",children:o?l.jsxs(l.Fragment,{children:[l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("polyline",{points:"20 6 9 17 4 12"})}),l.jsx("span",{children:"Copied"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),l.jsx("span",{children:"Copy"})]})})]}),l.jsx("pre",{className:"docs-code-block",children:l.jsx("code",{className:t,children:r})})]})};function T0e({content:e,loading:t,title:r,prevDoc:n,nextDoc:i,onPaginationClick:s}){return t?l.jsxs("div",{className:"docs-content-loading",children:[l.jsx(X3,{size:"lg"}),l.jsx("p",{children:"Loading documentation..."})]}):l.jsxs("article",{className:"docs-content",children:[l.jsx(zx,{remarkPlugins:[lpe],rehypePlugins:[_0e],components:{"video-embed":({node:a})=>{var o,c;return l.jsx(x0e,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(c=a==null?void 0:a.properties)==null?void 0:c.title})},"video-loom":({node:a})=>{var o,c;return l.jsx(w0e,{id:(o=a==null?void 0:a.properties)==null?void 0:o.id,title:(c=a==null?void 0:a.properties)==null?void 0:c.title})},"pdf-download":({node:a})=>{var o,c;return l.jsx(E0e,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(c=a==null?void 0:a.properties)==null?void 0:c.title})},h1:({children:a})=>l.jsx("h1",{className:"docs-h1",children:a}),h2:({children:a})=>l.jsx("h2",{className:"docs-h2",children:a}),h3:({children:a})=>l.jsx("h3",{className:"docs-h3",children:a}),h4:({children:a})=>l.jsx("h4",{className:"docs-h4",children:a}),p:({children:a})=>l.jsx("p",{className:"docs-p",children:a}),code:k0e,img:({src:a,alt:o,className:c})=>{const d="/Terminus-EC-Training-stateful/",f=a!=null&&a.startsWith("/")&&!(a!=null&&a.startsWith(d))?`${d.replace(/\/$/,"")}${a}`:a;return l.jsxs("figure",{className:`docs-figure ${c||""}`,children:[l.jsx("img",{src:f,alt:o,className:`docs-image ${c||""}`,loading:"lazy"}),o&&l.jsx("figcaption",{className:"docs-figcaption",children:o})]})},a:({href:a,children:o})=>(a==null?void 0:a.startsWith("http"))?l.jsxs("a",{href:a,className:"docs-link",target:"_blank",rel:"noopener noreferrer",children:[o,l.jsx("svg",{className:"docs-external-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}):l.jsx(sr,{to:a,className:"docs-link",children:o}),blockquote:({children:a})=>l.jsx("blockquote",{className:"docs-callout",children:a}),table:({children:a})=>l.jsx("div",{className:"docs-table-wrapper",children:l.jsx("table",{className:"docs-table",children:a})}),ul:({children:a})=>l.jsx("ul",{className:"docs-ul",children:a}),ol:({children:a})=>l.jsx("ol",{className:"docs-ol",children:a}),li:({children:a})=>l.jsx("li",{className:"docs-li",children:a}),hr:()=>l.jsx("hr",{className:"docs-hr"})},children:e}),l.jsxs("nav",{className:"docs-pagination",children:[n?l.jsxs(sr,{to:`/portal/docs/${n.slug}`,className:"docs-pagination-link docs-pagination-prev",onClick:s,children:[l.jsx("span",{className:"docs-pagination-label",children:"Previous"}),l.jsxs("span",{className:"docs-pagination-title",children:[l.jsx("span",{className:"docs-pagination-icon",children:n.icon}),n.title]})]}):l.jsx("div",{}),i?l.jsxs(sr,{to:`/portal/docs/${i.slug}`,className:"docs-pagination-link docs-pagination-next",onClick:s,children:[l.jsx("span",{className:"docs-pagination-label",children:"Next"}),l.jsxs("span",{className:"docs-pagination-title",children:[i.title,l.jsx("span",{className:"docs-pagination-icon",children:i.icon})]})]}):l.jsx("div",{})]})]})}function Ds(e){return Array.isArray?Array.isArray(e):B5(e)==="[object Array]"}function S0e(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function C0e(e){return e==null?"":S0e(e)}function Qi(e){return typeof e=="string"}function L5(e){return typeof e=="number"}function A0e(e){return e===!0||e===!1||N0e(e)&&B5(e)=="[object Boolean]"}function M5(e){return typeof e=="object"}function N0e(e){return M5(e)&&e!==null}function In(e){return e!=null}function Zb(e){return!e.trim().length}function B5(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const j0e="Incorrect 'index' type",O0e=e=>`Invalid value for key ${e}`,P0e=e=>`Pattern length exceeds max of ${e}.`,I0e=e=>`Missing ${e} property in key`,R0e=e=>`Property 'weight' in key '${e}' must be a positive integer`,vP=Object.prototype.hasOwnProperty;class D0e{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=F5(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function F5(e){let t=null,r=null,n=null,i=1,s=null;if(Qi(e)||Ds(e))n=e,t=yP(e),r=K_(e);else{if(!vP.call(e,"name"))throw new Error(I0e("name"));const a=e.name;if(n=a,vP.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(R0e(a));t=yP(a),r=K_(a),s=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:s}}function yP(e){return Ds(e)?e:e.split(".")}function K_(e){return Ds(e)?e.join("."):e}function L0e(e,t){let r=[],n=!1;const i=(s,a,o)=>{if(In(s))if(!a[o])r.push(s);else{let c=a[o];const d=s[c];if(!In(d))return;if(o===a.length-1&&(Qi(d)||L5(d)||A0e(d)))r.push(C0e(d));else if(Ds(d)){n=!0;for(let f=0,p=d.length;f<p;f+=1)i(d[f],a,o+1)}else a.length&&i(d,a,o+1)}};return i(e,Qi(t)?t.split("."):t,0),n?r:r[0]}const M0e={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},B0e={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},F0e={location:0,threshold:.6,distance:100},$0e={useExtendedSearch:!1,getFn:L0e,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Je={...B0e,...M0e,...F0e,...$0e};const U0e=/[^ ]+/g;function H0e(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const s=i.match(U0e).length;if(r.has(s))return r.get(s);const a=1/Math.pow(s,.5*e),o=parseFloat(Math.round(a*n)/n);return r.set(s,o),o},clear(){r.clear()}}}class PE{constructor({getFn:t=Je.getFn,fieldNormWeight:r=Je.fieldNormWeight}={}){this.norm=H0e(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Qi(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Qi(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!In(t)||Zb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(In(a)){if(Ds(a)){let o=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:d,value:f}=c.pop();if(In(f))if(Qi(f)&&!Zb(f)){let p={v:f,i:d,n:this.norm.get(f)};o.push(p)}else Ds(f)&&f.forEach((p,v)=>{c.push({nestedArrIndex:v,value:p})})}n.$[s]=o}else if(Qi(a)&&!Zb(a)){let o={v:a,n:this.norm.get(a)};n.$[s]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function $5(e,t,{getFn:r=Je.getFn,fieldNormWeight:n=Je.fieldNormWeight}={}){const i=new PE({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(F5)),i.setSources(t),i.create(),i}function z0e(e,{getFn:t=Je.getFn,fieldNormWeight:r=Je.fieldNormWeight}={}){const{keys:n,records:i}=e,s=new PE({getFn:t,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}function Zf(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Je.distance,ignoreLocation:s=Je.ignoreLocation}={}){const a=t/e.length;if(s)return a;const o=Math.abs(n-r);return i?a+o/i:o?1:a}function W0e(e=[],t=Je.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let a=e.length;s<a;s+=1){let o=e[s];o&&n===-1?n=s:!o&&n!==-1&&(i=s-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[s-1]&&s-n>=t&&r.push([n,s-1]),r}const fo=32;function q0e(e,t,r,{location:n=Je.location,distance:i=Je.distance,threshold:s=Je.threshold,findAllMatches:a=Je.findAllMatches,minMatchCharLength:o=Je.minMatchCharLength,includeMatches:c=Je.includeMatches,ignoreLocation:d=Je.ignoreLocation}={}){if(t.length>fo)throw new Error(P0e(fo));const f=t.length,p=e.length,v=Math.max(0,Math.min(n,p));let g=s,_=v;const x=o>1||c,b=x?Array(p):[];let w;for(;(w=e.indexOf(t,_))>-1;){let P=Zf(t,{currentLocation:w,expectedLocation:v,distance:i,ignoreLocation:d});if(g=Math.min(P,g),_=w+f,x){let R=0;for(;R<f;)b[w+R]=1,R+=1}}_=-1;let A=[],S=1,O=f+p;const j=1<<f-1;for(let P=0;P<f;P+=1){let R=0,H=O;for(;R<H;)Zf(t,{errors:P,currentLocation:v+H,expectedLocation:v,distance:i,ignoreLocation:d})<=g?R=H:O=H,H=Math.floor((O-R)/2+R);O=H;let D=Math.max(1,v-H+1),M=a?p:Math.min(v+H,p)+f,F=Array(M+2);F[M+1]=(1<<P)-1;for(let G=M;G>=D;G-=1){let W=G-1,Q=r[e.charAt(W)];if(x&&(b[W]=+!!Q),F[G]=(F[G+1]<<1|1)&Q,P&&(F[G]|=(A[G+1]|A[G])<<1|1|A[G+1]),F[G]&j&&(S=Zf(t,{errors:P,currentLocation:W,expectedLocation:v,distance:i,ignoreLocation:d}),S<=g)){if(g=S,_=W,_<=v)break;D=Math.max(1,2*v-_)}}if(Zf(t,{errors:P+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:d})>g)break;A=F}const N={isMatch:_>=0,score:Math.max(.001,S)};if(x){const P=W0e(b,o);P.length?c&&(N.indices=P):N.isMatch=!1}return N}function V0e(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const jm=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class U5{constructor(t,{location:r=Je.location,threshold:n=Je.threshold,distance:i=Je.distance,includeMatches:s=Je.includeMatches,findAllMatches:a=Je.findAllMatches,minMatchCharLength:o=Je.minMatchCharLength,isCaseSensitive:c=Je.isCaseSensitive,ignoreDiacritics:d=Je.ignoreDiacritics,ignoreLocation:f=Je.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f},t=c?t:t.toLowerCase(),t=d?jm(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const p=(g,_)=>{this.chunks.push({pattern:g,alphabet:V0e(g),startIndex:_})},v=this.pattern.length;if(v>fo){let g=0;const _=v%fo,x=v-_;for(;g<x;)p(this.pattern.substr(g,fo),g),g+=fo;if(_){const b=v-fo;p(this.pattern.substr(b),b)}}else p(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?jm(t):t,this.pattern===t){let x={isMatch:!0,score:0};return i&&(x.indices=[[0,t.length-1]]),x}const{location:s,distance:a,threshold:o,findAllMatches:c,minMatchCharLength:d,ignoreLocation:f}=this.options;let p=[],v=0,g=!1;this.chunks.forEach(({pattern:x,alphabet:b,startIndex:w})=>{const{isMatch:A,score:S,indices:O}=q0e(t,x,b,{location:s+w,distance:a,threshold:o,findAllMatches:c,minMatchCharLength:d,includeMatches:i,ignoreLocation:f});A&&(g=!0),v+=S,A&&O&&(p=[...p,...O])});let _={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(_.indices=p),_}}class Ba{constructor(t){this.pattern=t}static isMultiMatch(t){return bP(t,this.multiRegex)}static isSingleMatch(t){return bP(t,this.singleRegex)}search(){}}function bP(e,t){const r=e.match(t);return r?r[1]:null}class G0e extends Ba{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Y0e extends Ba{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class K0e extends Ba{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class X0e extends Ba{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Q0e extends Ba{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class J0e extends Ba{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class H5 extends Ba{constructor(t,{location:r=Je.location,threshold:n=Je.threshold,distance:i=Je.distance,includeMatches:s=Je.includeMatches,findAllMatches:a=Je.findAllMatches,minMatchCharLength:o=Je.minMatchCharLength,isCaseSensitive:c=Je.isCaseSensitive,ignoreDiacritics:d=Je.ignoreDiacritics,ignoreLocation:f=Je.ignoreLocation}={}){super(t),this._bitapSearch=new U5(t,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class z5 extends Ba{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],s=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const X_=[G0e,z5,K0e,X0e,J0e,Q0e,Y0e,H5],_P=X_.length,Z0e=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,eve="|";function tve(e,t={}){return e.split(eve).map(r=>{let n=r.trim().split(Z0e).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=n.length;s<a;s+=1){const o=n[s];let c=!1,d=-1;for(;!c&&++d<_P;){const f=X_[d];let p=f.isMultiMatch(o);p&&(i.push(new f(p,t)),c=!0)}if(!c)for(d=-1;++d<_P;){const f=X_[d];let p=f.isSingleMatch(o);if(p){i.push(new f(p,t));break}}}return i})}const rve=new Set([H5.type,z5.type]);class nve{constructor(t,{isCaseSensitive:r=Je.isCaseSensitive,ignoreDiacritics:n=Je.ignoreDiacritics,includeMatches:i=Je.includeMatches,minMatchCharLength:s=Je.minMatchCharLength,ignoreLocation:a=Je.ignoreLocation,findAllMatches:o=Je.findAllMatches,location:c=Je.location,threshold:d=Je.threshold,distance:f=Je.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:a,location:c,threshold:d,distance:f},t=r?t:t.toLowerCase(),t=n?jm(t):t,this.pattern=t,this.query=tve(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:s}=this.options;t=i?t:t.toLowerCase(),t=s?jm(t):t;let a=0,o=[],c=0;for(let d=0,f=r.length;d<f;d+=1){const p=r[d];o.length=0,a=0;for(let v=0,g=p.length;v<g;v+=1){const _=p[v],{isMatch:x,indices:b,score:w}=_.search(t);if(x){if(a+=1,c+=w,n){const A=_.constructor.type;rve.has(A)?o=[...o,...b]:o.push(b)}}else{c=0,a=0,o.length=0;break}}if(a){let v={isMatch:!0,score:c/a};return n&&(v.indices=o),v}}return{isMatch:!1,score:1}}}const Q_=[];function ive(...e){Q_.push(...e)}function J_(e,t){for(let r=0,n=Q_.length;r<n;r+=1){let i=Q_[r];if(i.condition(e,t))return new i(e,t)}return new U5(e,t)}const Om={AND:"$and",OR:"$or"},Z_={PATH:"$path",PATTERN:"$val"},ex=e=>!!(e[Om.AND]||e[Om.OR]),sve=e=>!!e[Z_.PATH],ave=e=>!Ds(e)&&M5(e)&&!ex(e),xP=e=>({[Om.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function W5(e,t,{auto:r=!0}={}){const n=i=>{let s=Object.keys(i);const a=sve(i);if(!a&&s.length>1&&!ex(i))return n(xP(i));if(ave(i)){const c=a?i[Z_.PATH]:s[0],d=a?i[Z_.PATTERN]:i[c];if(!Qi(d))throw new Error(O0e(c));const f={keyId:K_(c),pattern:d};return r&&(f.searcher=J_(d,t)),f}let o={children:[],operator:s[0]};return s.forEach(c=>{const d=i[c];Ds(d)&&d.forEach(f=>{o.children.push(n(f))})}),o};return ex(e)||(e=xP(e)),n(e)}function ove(e,{ignoreFieldNorm:t=Je.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:a})=>{const o=i?i.weight:null;n*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:s))}),r.score=n})}function lve(e,t){const r=e.matches;t.matches=[],In(r)&&r.forEach(n=>{if(!In(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let a={indices:i,value:s};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function uve(e,t){t.score=e.score}function cve(e,t,{includeMatches:r=Je.includeMatches,includeScore:n=Je.includeScore}={}){const i=[];return r&&i.push(lve),n&&i.push(uve),e.map(s=>{const{idx:a}=s,o={item:t[a],refIndex:a};return i.length&&i.forEach(c=>{c(s,o)}),o})}class Su{constructor(t,r={},n){this.options={...Je,...r},this.options.useExtendedSearch,this._keyStore=new D0e(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof PE))throw new Error(j0e);this._myIndex=r||$5(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){In(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:o}=this.options;let c=Qi(t)?Qi(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ove(c,{ignoreFieldNorm:o}),s&&c.sort(a),L5(r)&&r>-1&&(c=c.slice(0,r)),cve(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=J_(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:a,n:o})=>{if(!In(s))return;const{isMatch:c,score:d,indices:f}=r.searchIn(s);c&&i.push({item:s,idx:a,matches:[{score:d,value:s,norm:o,indices:f}]})}),i}_searchLogical(t){const r=W5(t,this.options),n=(o,c,d)=>{if(!o.children){const{keyId:p,searcher:v}=o,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(c,p),searcher:v});return g&&g.length?[{idx:d,item:c,matches:g}]:[]}const f=[];for(let p=0,v=o.children.length;p<v;p+=1){const g=o.children[p],_=n(g,c,d);if(_.length)f.push(..._);else if(o.operator===Om.AND)return[]}return f},i=this._myIndex.records,s={},a=[];return i.forEach(({$:o,i:c})=>{if(In(o)){let d=n(r,o,c);d.length&&(s[c]||(s[c]={idx:c,item:o,matches:[]},a.push(s[c])),d.forEach(({matches:f})=>{s[c].matches.push(...f)}))}}),a}_searchObjectList(t){const r=J_(t,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:o})=>{if(!In(a))return;let c=[];n.forEach((d,f)=>{c.push(...this._findMatches({key:d,value:a[f],searcher:r}))}),c.length&&s.push({idx:o,item:a,matches:c})}),s}_findMatches({key:t,value:r,searcher:n}){if(!In(r))return[];let i=[];if(Ds(r))r.forEach(({v:s,i:a,n:o})=>{if(!In(s))return;const{isMatch:c,score:d,indices:f}=n.searchIn(s);c&&i.push({score:d,key:t,value:s,idx:a,norm:o,indices:f})});else{const{v:s,n:a}=r,{isMatch:o,score:c,indices:d}=n.searchIn(s);o&&i.push({score:c,key:t,value:s,norm:a,indices:d})}return i}}Su.version="7.1.0";Su.createIndex=$5;Su.parseIndex=z0e;Su.config=Je;Su.parseQuery=W5;ive(nve);const q5={sections:[{title:"Getting Started",items:[{slug:"getting-started/welcome",title:"Welcome to TerminalBench"},{slug:"getting-started/quick-start",title:"Quick Start Guide"},{slug:"onboarding/platform-onboarding",title:"Onboarding Video and Slides"},{slug:"getting-started/edition1-to-edition2-changes",title:"NEW in Terminus Edition 2"}]},{title:"Submission Process",items:[{slug:"submitting-tasks/platform-submission",title:"Platform Submission"},{slug:"submitting-tasks/cli-user-guide",title:"CLI User Guide"},{slug:"submitting-tasks/submission-checklist",title:"Submission Checklist"},{slug:"submitting-tasks/after-submission",title:"After Submission"}]},{title:"Understanding Tasks",items:[{slug:"understanding-tasks/what-makes-a-good-task",title:"What Makes a Good Task"},{slug:"understanding-tasks/task-components",title:"Task Components"},{slug:"understanding-tasks/task-requirements",title:"Task Requirements"},{slug:"understanding-tasks/task-taxonomy",title:"Task Taxonomy"},{slug:"understanding-tasks/milestones",title:"NEW: Milestones"},{slug:"understanding-tasks/task-subtypes",title:"NEW: Task Sub-types"},{slug:"understanding-tasks/rubrics",title:"NEW: Rubrics"},{slug:"understanding-tasks/prompt-styling",title:"NEW: Instruction Prompt Styling"},{slug:"understanding-tasks/difficulty-guidelines",title:"Difficulty Guidelines"},{slug:"understanding-tasks/example-tasks",title:"Example Tasks"}]},{title:"Detailed Tasking Guides",items:[{slug:"creating-tasks/videos/creating-task",title:"Creating a Task"},{slug:"creating-tasks/videos/running-your-task",title:"Running Your Task"},{slug:"creating-tasks/writing-task-yaml",title:"Writing Instructions & Config"},{slug:"creating-tasks/creating-docker-environment",title:"Docker Environment"},{slug:"creating-tasks/writing-oracle-solution",title:"Writing Oracle Solution"},{slug:"creating-tasks/writing-tests",title:"Writing Tests"}]},{title:"Testing & Validation",items:[{slug:"testing-and-validation/oracle-agent",title:"Oracle Agent"},{slug:"testing-and-validation/nop-agent",title:"NOP Agent"},{slug:"testing-and-validation/running-real-agents",title:"Testing Agent Performance"},{slug:"testing-and-validation/ci-feedback-training",title:"CI Feedback Training"},{slug:"testing-and-validation/ci-checks-reference",title:"CI Checks Reference"},{slug:"testing-and-validation/llmaj-checks-reference",title:"LLMaJ Checks Reference"},{slug:"testing-and-validation/agent-review-reference",title:"Agent Review Reference"}]},{title:"Reviewing Tasks",items:[{slug:"reviewing-tasks/review-guidelines",title:"Review Guidelines"},{slug:"reviewing-tasks/rubrics",title:"Rubrics"},{slug:"reviewing-tasks/reviewer-training",title:"Reviewer Training"},{slug:"reviewing-tasks/common-errors",title:"Common Errors"},{slug:"reviewing-tasks/defending-your-submission",title:"Defending Your Submission"}]},{title:"Reference",items:[{slug:"reference/quality-guidelines",title:"Quality Guidelines"},{slug:"reference/faq",title:"FAQ"},{slug:"reference/glossary",title:"Glossary"},{slug:"reference/rate-schedule",title:"Rate Schedule"},{slug:"reference/troubleshooting",title:"Troubleshooting"},{slug:"reference/office-hours",title:"Office Hours"},{slug:"reference/external-resources",title:"External Resources"}]}]},tx=()=>q5.sections.flatMap(e=>e.items.map(t=>({...t,section:e.title}))),V5=async e=>{const r=await fetch(`/Terminus-EC-Training-stateful/docs/${e}.md`);if(!r.ok)throw new Error(`Doc not found: ${e}`);return r.text()},dve=(e,t,r=120)=>{if(!e||!t)return null;const n=e.toLowerCase(),i=t.toLowerCase(),s=n.indexOf(i);if(s===-1)return null;const a=Math.floor((r-t.length)/2);let o=Math.max(0,s-a),c=Math.min(e.length,s+t.length+a);if(o>0){const f=e.indexOf(" ",o);f!==-1&&f<s&&(o=f+1)}if(c<e.length){const f=e.lastIndexOf(" ",c);f>s+t.length&&(c=f)}let d=e.slice(o,c).trim();return o>0&&(d="..."+d),c<e.length&&(d=d+"..."),d};function hve({isOpen:e,onClose:t,onSelect:r}){const n=nn(),[i,s]=E.useState(""),[a,o]=E.useState([]),[c,d]=E.useState(0),f=E.useRef(null),p=E.useRef("");E.useEffect(()=>{(async()=>{const x=tx(),b=await Promise.all(x.map(async w=>{try{const S=(await V5(w.slug)).replace(/#{1,6}\s/g,"").replace(/\*\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`[^`]+`/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim().slice(0,8e3);return{...w,content:S}}catch{return{...w,content:w.title}}}));o(b)})()},[]);const v=E.useMemo(()=>new Su(a,{keys:[{name:"title",weight:3},{name:"section",weight:2},{name:"content",weight:1}],threshold:.15,includeMatches:!0,minMatchCharLength:2,ignoreLocation:!0,findAllMatches:!0}),[a]),g=i.length>=2?v.search(i).slice(0,8):[];return E.useEffect(()=>{d(0)},[g.length]),E.useEffect(()=>{if(i.length<2||i===p.current)return;const _=setTimeout(()=>{n&&i.length>=2&&(n.capture("docs_search_performed",{search_query:i,results_count:g.length,has_results:g.length>0}),p.current=i)},500);return()=>clearTimeout(_)},[i,g.length,n]),E.useEffect(()=>{e&&f.current&&(f.current.focus(),s(""))},[e]),E.useEffect(()=>{if(!e)return;const _=x=>{switch(x.key){case"Escape":t();break;case"ArrowDown":x.preventDefault(),d(b=>Math.min(b+1,g.length-1));break;case"ArrowUp":x.preventDefault(),d(b=>Math.max(b-1,0));break;case"Enter":x.preventDefault(),g[c]&&r(g[c].item.slug,i);break}};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e,t,r,g,c]),e?l.jsx("div",{className:"docs-search-overlay",onClick:t,children:l.jsxs("div",{className:"docs-search-modal",onClick:_=>_.stopPropagation(),children:[l.jsxs("div",{className:"docs-search-header",children:[l.jsxs("svg",{className:"docs-search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"M21 21l-4.35-4.35"})]}),l.jsx("input",{ref:f,type:"text",className:"docs-search-input",placeholder:"Search documentation...",value:i,onChange:_=>s(_.target.value)}),l.jsx("kbd",{className:"docs-search-esc",children:"ESC"})]}),l.jsx("div",{className:"docs-search-results",children:i.length<2?l.jsxs("div",{className:"docs-search-hint",children:[l.jsx("p",{children:"Type to search all documentation..."}),l.jsxs("div",{className:"docs-search-shortcuts",children:[l.jsxs("span",{children:[l.jsx("kbd",{children:""}),l.jsx("kbd",{children:""})," Navigate"]}),l.jsxs("span",{children:[l.jsx("kbd",{children:""})," Select"]}),l.jsxs("span",{children:[l.jsx("kbd",{children:"ESC"})," Close"]})]})]}):g.length===0?l.jsxs("div",{className:"docs-search-empty",children:[l.jsxs("p",{children:['No results for "',l.jsx("strong",{children:i}),'"']}),l.jsx("p",{className:"docs-search-empty-hint",children:"Try different keywords or check spelling"})]}):l.jsx("ul",{className:"docs-search-list",children:g.map(({item:_},x)=>{const b=dve(_.content,i);return l.jsx("li",{children:l.jsxs("button",{className:`docs-search-result ${x===c?"docs-search-result--selected":""}`,onClick:()=>r(_.slug,i),onMouseEnter:()=>d(x),children:[l.jsx("span",{className:"docs-search-result-icon",children:_.icon}),l.jsxs("div",{className:"docs-search-result-text",children:[l.jsx("span",{className:"docs-search-result-title",children:_.title}),l.jsx("span",{className:"docs-search-result-section",children:_.section}),b&&l.jsx("span",{className:"docs-search-result-snippet",children:b})]}),l.jsx("svg",{className:"docs-search-result-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M9 18l6-6-6-6"})})]})},_.slug)})})})]})}):null}function fve(){const{"*":e}=OP(),t=e||"getting-started/welcome",r=ft(),n=nn(),[i,s]=E.useState(""),[a,o]=E.useState(!0),[c,d]=E.useState(!1),[f,p]=E.useState(!1),v=E.useRef("direct");E.useEffect(()=>{o(!0),V5(t).then(S=>{if(s(S),n){const j=tx().find(N=>N.slug===t);n.capture("doc_viewed",{doc_slug:t,doc_title:(j==null?void 0:j.title)||t,doc_section:(j==null?void 0:j.section)||"unknown",navigation_source:v.current})}v.current="direct"}).catch(()=>s(`# Page Not Found

This documentation page doesn't exist yet.

[ Back to Welcome](/portal/docs/getting-started/welcome)`)).finally(()=>o(!1))},[t,n]),E.useEffect(()=>{const S=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),g("keyboard"))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const g=(S="button")=>{d(!0),n&&n.capture("docs_search_opened",{trigger:S,current_doc_slug:t})};E.useEffect(()=>{p(!1),window.scrollTo(0,0)},[t]);const _=tx(),x=_.find(S=>S.slug===t),b=_.findIndex(S=>S.slug===t),w=b>0?_[b-1]:null,A=b<_.length-1?_[b+1]:null;return l.jsxs("div",{className:"docs-layout",children:[l.jsx("button",{className:"docs-mobile-menu-btn",onClick:()=>p(!f),"aria-label":"Toggle menu",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?l.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):l.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),l.jsx(Zde,{sections:q5.sections,currentSlug:t,onSearchClick:()=>g("button"),isOpen:f,onClose:()=>p(!1),onNavClick:()=>{v.current="sidebar"}}),l.jsx("main",{className:"docs-main",children:l.jsx(T0e,{content:i,loading:a,title:x==null?void 0:x.title,prevDoc:w,nextDoc:A,onPaginationClick:()=>{v.current="pagination"}})}),l.jsx(hve,{isOpen:c,onClose:()=>d(!1),onSelect:(S,O)=>{v.current="search",n&&n.capture("docs_search_result_clicked",{search_query:O,selected_doc_slug:S,current_doc_slug:t}),r(`/portal/docs/${S}`),d(!1)}})]})}function pve({category:e,tasks:t,onTaskClick:r}){const[n,i]=E.useState(!1),[s,a]=E.useState(!1),o=E.useRef(null),c=t.length>4,d=f=>{o.current&&o.current.scrollBy({left:f==="left"?-400:400,behavior:"smooth"})};return l.jsxs("div",{className:"task-category-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsxs("div",{className:"section-title-group",onClick:()=>i(!n),children:[l.jsx("button",{className:`collapse-btn ${n?"collapsed":""}`,children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l.jsx("div",{className:"section-title-wrapper",children:l.jsxs("h3",{children:[e,l.jsx("span",{className:"section-count",children:t.length})]})})]}),!n&&!s&&c&&l.jsxs("div",{className:"section-controls",children:[l.jsx($e,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!0)},children:l.jsxs("span",{className:"explore-btn-content",children:[l.jsx("span",{children:"View all"}),l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),l.jsx("button",{className:"scroll-btn",onClick:()=>d("left"),"aria-label":"Scroll left",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})})}),l.jsx("button",{className:"scroll-btn",onClick:()=>d("right"),"aria-label":"Scroll right",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),!n&&s&&l.jsx("div",{className:"section-controls",children:l.jsx($e,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!1)},children:l.jsxs("span",{className:"explore-btn-content",children:[l.jsx("span",{children:"Collapse"}),l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("polyline",{points:"15 18 9 12 15 6"})})]})})})]}),!n&&l.jsx("div",{className:"section-content",children:s?l.jsx("div",{className:"tasks-grid-row show-all",children:t.map(f=>l.jsx("div",{className:"grid-item",children:l.jsx(So,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))}):l.jsx("div",{className:"tasks-carousel",ref:o,children:t.map(f=>l.jsx("div",{className:"carousel-item",children:l.jsx(So,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))})})]})}function mve(){const e=ft(),{selectedTasks:t,loading:r,error:n,activeTaskCount:i,canClaimMore:s,refetch:a}=cu(),[o,c]=E.useState(null),[d,f]=E.useState("active"),p=Ld(mz,2200),v=t.filter(A=>A.status===We.CLAIMED||A.status===We.IN_PROGRESS),g=t.filter(A=>A.status===We.WAITING_REVIEW),_=t.filter(A=>A.status===We.ACCEPTED),x=E.useMemo(()=>{const A={};return _.forEach(S=>{const O=S.category||"Uncategorized";A[O]||(A[O]=[]),A[O].push(S)}),Object.entries(A).sort((S,O)=>O[1].length-S[1].length)},[_]),b=A=>{c(A)},w=()=>{c(null),a()};return r?l.jsxs("div",{className:"tasks-view my-tasks-view",children:[l.jsxs("div",{className:"tasks-header",children:[l.jsx("h1",{children:"My Tasks"}),l.jsx("p",{children:"Track your progress and complete challenges"})]}),l.jsx("div",{className:"tasks-loading",children:l.jsx(Aa,{size:"lg",message:p})})]}):n?l.jsxs("div",{className:"tasks-view my-tasks-view",children:[l.jsxs("div",{className:"tasks-header",children:[l.jsx("h1",{children:"My Tasks"}),l.jsx("p",{children:"Track your progress and complete challenges"})]}),l.jsxs("div",{className:"tasks-error",children:[l.jsxs("p",{children:["Error loading your tasks: ",n]}),l.jsx($e,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):l.jsxs("div",{className:"tasks-view my-tasks-view",children:[l.jsxs("div",{className:"tasks-header",children:[l.jsx("h1",{children:"My Tasks"}),l.jsx("p",{children:"Track your progress as you work on tasks."})]}),t.length===0?l.jsxs("div",{className:"tasks-empty",children:[l.jsx("div",{className:"empty-icon",children:l.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),l.jsx("h3",{children:"No challenges yet"}),l.jsx("p",{children:"Browse tasks and claim challenges to get started."}),l.jsx($e,{variant:"primary",onClick:()=>e("/portal/tasks"),children:"Browse Tasks"})]}):l.jsxs("div",{className:"gallery-content",style:{marginTop:"var(--space-6)"},children:[l.jsx("div",{className:"claim-limit-indicator",style:{marginBottom:"var(--space-4)",padding:"var(--space-3) var(--space-4)",background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:l.jsxs("span",{style:{fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:["Active Task Quota: ",l.jsxs("strong",{style:{color:s?"var(--text-primary)":"var(--color-warning)"},children:[i," / ",Gi]})]})}),l.jsxs(Nz,{value:d,onChange:f,children:[l.jsxs(Zv,{value:"active",children:["Active Tasks",v.length>0&&l.jsx("span",{className:"tab-count",children:v.length})]}),l.jsxs(Zv,{value:"review",children:["In Review",g.length>0&&l.jsx("span",{className:"tab-count",children:g.length})]}),l.jsxs(Zv,{value:"accepted",children:["Accepted",_.length>0&&l.jsx("span",{className:"tab-count",children:_.length})]})]}),l.jsxs("div",{className:"my-tasks-tab-content",children:[d==="active"&&(v.length===0?l.jsxs("div",{className:"tasks-empty-tab",children:[l.jsxs("p",{children:["No active challenges. ",s?"Claim some tasks to get started!":"Submit tasks for review to free up slots."]}),s&&l.jsx($e,{variant:"secondary",onClick:()=>e("/portal/tasks"),children:"Find Challenges"})]}):l.jsx("div",{className:"my-tasks-grid",children:v.map(A=>l.jsx(So,{task:A,isCompleted:!1,isHighlighted:A.is_highlighted,claimedAt:A.selected_at,statusBadge:rR[A.status],onClick:()=>b(A)},A.id))})),d==="review"&&(g.length===0?l.jsx("div",{className:"tasks-empty-tab",children:l.jsx("p",{children:"No tasks waiting for review."})}):l.jsx("div",{className:"my-tasks-grid",children:g.map(A=>l.jsx(So,{task:A,isCompleted:!1,isHighlighted:A.is_highlighted,claimedAt:A.selected_at,statusBadge:"Waiting on Review",onClick:()=>b(A)},A.id))})),d==="accepted"&&(_.length===0?l.jsx("div",{className:"tasks-empty-tab",children:l.jsx("p",{children:"No accepted challenges yet. Keep going!"})}):l.jsx("div",{className:"tasks-grouped-layout",children:x.map(([A,S])=>l.jsx(pve,{category:A,tasks:S,onTaskClick:b},A))}))]})]}),l.jsx(lR,{task:o,isOpen:!!o,onClose:w,onTaskUpdate:()=>a()})]})}const gve=()=>{const{taskId:e}=OP(),t=ft(),{user:r}=qr(),[n,i]=E.useState(null),[s,a]=E.useState(!0),[o,c]=E.useState(!1),[d,f]=E.useState(!1),[p,v]=E.useState(null),g=Ld(gz,2200);E.useEffect(()=>{e&&_()},[e]);const _=async()=>{try{a(!0);const{data:b,error:w}=await qe.from("task_inspiration").select("id, category, subcategory, subsubcategory, title, description, difficulty, tags").eq("id",e).single();if(w)throw w;if(i(b),r){const{data:A,error:S}=await qe.from("selected_tasks").select("id").eq("user_id",r.id).eq("task_id",e).maybeSingle();S&&console.error("Error checking selection:",S),A&&f(!0)}}catch(b){console.error("Error loading task:",b),v(b.message)}finally{a(!1)}},x=async()=>{if(r)try{c(!0);const{error:b}=await qe.from("selected_tasks").insert({user_id:r.id,task_id:e});if(b)if(b.code==="23505")f(!0),alert("You have already claimed this task.");else throw b;else f(!0),window.confirm("Task claimed successfully! Would you like to view your tasks?")&&t("/portal/my-tasks")}catch(b){console.error("Error claiming task:",b),alert("Failed to claim task: "+b.message)}finally{c(!1)}};return s?l.jsx("div",{className:"task-detail-loading",children:l.jsx(Aa,{size:"lg",message:g})}):p||!n?l.jsxs("div",{className:"task-detail-error",children:[l.jsx("h2",{children:"Task not found"}),l.jsx("p",{children:p||"The requested task could not be loaded."}),l.jsx($e,{variant:"secondary",onClick:()=>t("/portal/tasks"),children:"Back to Gallery"})]}):l.jsxs("div",{className:"task-detail-page",children:[l.jsx($e,{variant:"ghost",size:"sm",className:"back-btn",onClick:()=>t(-1),children:" Back"}),l.jsxs("div",{className:"task-detail-card",children:[l.jsxs("div",{className:"task-detail-header",children:[l.jsxs("div",{className:"task-meta-top",children:[l.jsx("span",{className:"task-category",children:n.category}),n.subcategory&&l.jsxs("span",{className:"task-subcategory",children:[" / ",n.subcategory]})]}),l.jsx("h1",{children:n.subcategory||n.subsubcategory||"Engineering Task"}),l.jsxs("div",{className:"task-meta-badges",children:[n.difficulty&&l.jsx(Ni,{variant:n.difficulty,size:"lg",children:n.difficulty.toUpperCase()}),n.tags&&n.tags.map(b=>l.jsx(Ni,{variant:"tag",size:"lg",children:b},b))]})]}),l.jsx("div",{className:"task-detail-body",children:l.jsxs("section",{className:"detail-section",children:[l.jsx("h3",{children:"Description"}),l.jsx("p",{children:n.description})]})}),l.jsx("div",{className:"task-detail-actions",children:d?l.jsx($e,{variant:"primary",size:"lg",disabled:!0,className:"claim-btn claimed",children:" Task Claimed"}):l.jsx($e,{variant:"primary",size:"lg",className:"claim-btn",onClick:x,loading:o,children:"Claim This Task"})})]})]})};function vve({children:e}){const{profile:t}=qr(),{promotions:r,loading:n}=Wx(),[i,s]=E.useState(0),[a,o]=E.useState(!1),[c,d]=E.useState(()=>{const x=[];if(typeof window<"u")for(let b=0;b<localStorage.length;b++){const w=localStorage.key(b);w&&w.startsWith("dismissed_promo_")&&x.push(w.replace("dismissed_promo_",""))}return x}),f=r.filter(x=>!c.includes(x.id)&&!x.disable_banner);E.useEffect(()=>{if(f.length<=1)return;const x=setInterval(()=>{o(!0),setTimeout(()=>{s(b=>(b+1)%f.length),o(!1)},300)},8e3);return()=>clearInterval(x)},[f.length]);const p=x=>{localStorage.setItem(`dismissed_promo_${x}`,"true"),d(b=>[...b,x]),s(0)};if(!(t!=null&&t.can_see_incentives))return l.jsx(l.Fragment,{children:e});if(n)return null;if(f.length===0)return l.jsx(l.Fragment,{children:e});const v=i%f.length,g=f[v],_=g.variant||"accent";return l.jsxs("div",{className:`global-promo-banner promo-banner--${_}`,children:[l.jsxs("div",{className:"promo-bg-decoration",children:[l.jsx("div",{className:"promo-bg-circle"}),l.jsx("div",{className:"promo-bg-circle"}),g.show_rain_animation!==!1&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"promo-rain promo-rain-1",children:""}),l.jsx("span",{className:"promo-rain promo-rain-2",children:""}),l.jsx("span",{className:"promo-rain promo-rain-3",children:""}),l.jsx("span",{className:"promo-rain promo-rain-4",children:""}),l.jsx("span",{className:"promo-rain promo-rain-5",children:""}),l.jsx("span",{className:"promo-rain promo-rain-6",children:""}),l.jsx("span",{className:"promo-rain promo-rain-7",children:""}),l.jsx("span",{className:"promo-rain promo-rain-8",children:""}),l.jsx("span",{className:"promo-rain promo-rain-9",children:""}),l.jsx("span",{className:"promo-rain promo-rain-10",children:""}),l.jsx("span",{className:"promo-rain promo-rain-11",children:""}),l.jsx("span",{className:"promo-rain promo-rain-12",children:""})]})]}),f.length>1&&l.jsx("div",{className:"promo-progress-bar promo-progress-animate"},g.id+"_progress"),l.jsxs("div",{className:`promo-banner-content ${a?"promo-fade-out":"promo-fade-in"}`,children:[l.jsxs("div",{className:"promo-text-content",children:[l.jsx("span",{className:"promo-title",children:g.title}),g.message&&l.jsx("span",{className:"promo-message",children:g.message})]}),l.jsx("button",{className:"promo-dismiss-btn",onClick:()=>p(g.id),"aria-label":"Dismiss promotion",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}function yve(){return l.jsx(oz,{children:l.jsx(fz,{children:l.jsx(az,{children:l.jsx(lz,{children:l.jsxs(N2,{children:[l.jsx(ot,{path:"/",element:l.jsx(vW,{})}),l.jsx(ot,{path:"/login",element:l.jsx(tW,{})}),l.jsx(ot,{path:"/forgot-password",element:l.jsx(rW,{})}),l.jsx(ot,{path:"/reset-password",element:l.jsx(nW,{})}),l.jsx(ot,{path:"/auth/callback",element:l.jsx(iW,{})}),l.jsx(ot,{path:"/portal/*",element:l.jsx(Jz,{children:l.jsxs("div",{className:"app",children:[l.jsx(Qz,{}),l.jsx(bW,{}),l.jsx(vve,{children:l.jsx(Sz,{variant:"subtle",title:"Please do not reach out to reviewers directly; ",children:"messaging them will not speed up your review."})}),l.jsxs(N2,{children:[l.jsx(ot,{path:"/",element:l.jsx(UY,{})}),l.jsx(ot,{path:"/overview",element:l.jsx(HY,{})}),l.jsx(ot,{path:"/tasks",element:l.jsx(Jde,{})}),l.jsx(ot,{path:"/task/:taskId",element:l.jsx(gve,{})}),l.jsx(ot,{path:"/my-tasks",element:l.jsx(mve,{})}),l.jsx(ot,{path:"/videos",element:l.jsx(qY,{})}),l.jsx(ot,{path:"/workbook",element:l.jsx(GY,{})}),l.jsx(ot,{path:"/oracle",element:l.jsx(KY,{})}),l.jsx(ot,{path:"/onboarding",element:l.jsx(ZY,{})}),l.jsx(ot,{path:"/environment-setup",element:l.jsx(_i,{to:"/portal/docs/getting-started/quick-start",replace:!0})}),l.jsx(ot,{path:"/local-testing",element:l.jsx(sK,{})}),l.jsx(ot,{path:"/expert-platform-onboarding",element:l.jsx(tK,{})}),l.jsx(ot,{path:"/expert-platform-walkthrough",element:l.jsx(_i,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),l.jsx(ot,{path:"/feedback",element:l.jsx(rK,{})}),l.jsx(ot,{path:"/faq",element:l.jsx(nK,{})}),l.jsx(ot,{path:"/glossary",element:l.jsx(iK,{})}),l.jsx(ot,{path:"/docs/*",element:l.jsx(fve,{})}),l.jsx(ot,{path:"/docs-platform-onboarding",element:l.jsx(_i,{to:"/portal/docs/onboarding/platform-onboarding",replace:!0})}),l.jsx(ot,{path:"/docs-platform-submission",element:l.jsx(_i,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),l.jsx(ot,{path:"/docs-ci-training",element:l.jsx(_i,{to:"/portal/docs/testing-and-validation/ci-feedback-training",replace:!0})}),l.jsx(ot,{path:"/docs-oracle-training",element:l.jsx(_i,{to:"/portal/docs/testing-and-validation/oracle-training",replace:!0})}),l.jsx(ot,{path:"/docs-faq",element:l.jsx(_i,{to:"/portal/docs/reference/faq",replace:!0})}),l.jsx(ot,{path:"/docs-glossary",element:l.jsx(_i,{to:"/portal/docs/reference/glossary",replace:!0})}),l.jsx(ot,{path:"/profile",element:l.jsx(Wde,{})}),l.jsx(ot,{path:"/admin",element:l.jsx(Mde,{})}),aK.map(e=>l.jsx(ot,{path:`/${e.id}`,element:l.jsx(WY,{section:e})},e.id)),l.jsx(ot,{path:"*",element:l.jsx(_i,{to:"/portal",replace:!0})})]})]})})}),l.jsx(ot,{path:"*",element:l.jsx(_i,{to:"/",replace:!0})})]})})})})})}const hp="/Terminus-EC-Training-stateful/",rx=new URLSearchParams(window.location.search),ep=rx.get("redirect");if(ep){const e=rx.get("search")||"",t=rx.get("hash")||"",r=hp.endsWith("/")?hp.slice(0,-1):hp,n=ep.startsWith("/")?ep:"/"+ep;window.history.replaceState(null,"",r+n+e+t)}JB.createRoot(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsx(PU,{apiKey:"phc_ywGAskGEiQwP7kudLchm56fN5s07jrWgFjpGzk995cl",options:{api_host:"https://us.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:l.jsx(c9,{basename:hp,children:l.jsx(yve,{})})})}));
