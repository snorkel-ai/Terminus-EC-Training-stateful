var LB=Object.defineProperty;var MB=(e,t,r)=>t in e?LB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gv=(e,t,r)=>MB(e,typeof t!="symbol"?t+"":t,r);function yP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var vv={exports:{}},uc={},yv={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function FB(){if(hS)return nt;hS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=p&&V[p]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function _(V,ne,F){this.props=V,this.context=ne,this.refs=x,this.updater=F||g}_.prototype.isReactComponent={},_.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},_.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=_.prototype;function A(V,ne,F){this.props=V,this.context=ne,this.refs=x,this.updater=F||g}var S=A.prototype=new w;S.constructor=A,b(S,_.prototype),S.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function D(V,ne,F){var Ee,Te={},fe=null,$e=null;if(ne!=null)for(Ee in ne.ref!==void 0&&($e=ne.ref),ne.key!==void 0&&(fe=""+ne.key),ne)j.call(ne,Ee)&&!P.hasOwnProperty(Ee)&&(Te[Ee]=ne[Ee]);var Oe=arguments.length-2;if(Oe===1)Te.children=F;else if(1<Oe){for(var te=Array(Oe),ke=0;ke<Oe;ke++)te[ke]=arguments[ke+2];Te.children=te}if(V&&V.defaultProps)for(Ee in Oe=V.defaultProps,Oe)Te[Ee]===void 0&&(Te[Ee]=Oe[Ee]);return{$$typeof:e,type:V,key:fe,ref:$e,props:Te,_owner:N.current}}function $(V,ne){return{$$typeof:e,type:V.type,key:ne,ref:V.ref,props:V.props,_owner:V._owner}}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function M(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(F){return ne[F]})}var H=/\/+/g;function q(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ne.toString(36)}function G(V,ne,F,Ee,Te){var fe=typeof V;(fe==="undefined"||fe==="boolean")&&(V=null);var $e=!1;if(V===null)$e=!0;else switch(fe){case"string":case"number":$e=!0;break;case"object":switch(V.$$typeof){case e:case t:$e=!0}}if($e)return $e=V,Te=Te($e),V=Ee===""?"."+q($e,0):Ee,O(Te)?(F="",V!=null&&(F=V.replace(H,"$&/")+"/"),G(Te,ne,F,"",function(ke){return ke})):Te!=null&&(I(Te)&&(Te=$(Te,F+(!Te.key||$e&&$e.key===Te.key?"":(""+Te.key).replace(H,"$&/")+"/")+V)),ne.push(Te)),1;if($e=0,Ee=Ee===""?".":Ee+":",O(V))for(var Oe=0;Oe<V.length;Oe++){fe=V[Oe];var te=Ee+q(fe,Oe);$e+=G(fe,ne,F,te,Te)}else if(te=v(V),typeof te=="function")for(V=te.call(V),Oe=0;!(fe=V.next()).done;)fe=fe.value,te=Ee+q(fe,Oe++),$e+=G(fe,ne,F,te,Te);else if(fe==="object")throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return $e}function K(V,ne,F){if(V==null)return V;var Ee=[],Te=0;return G(V,Ee,"","",function(fe){return ne.call(F,fe,Te++)}),Ee}function J(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(F){(V._status===0||V._status===-1)&&(V._status=1,V._result=F)},function(F){(V._status===0||V._status===-1)&&(V._status=2,V._result=F)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ae={current:null},ie={transition:null},de={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:ie,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:K,forEach:function(V,ne,F){K(V,function(){ne.apply(this,arguments)},F)},count:function(V){var ne=0;return K(V,function(){ne++}),ne},toArray:function(V){return K(V,function(ne){return ne})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},nt.Component=_,nt.Fragment=r,nt.Profiler=i,nt.PureComponent=A,nt.StrictMode=n,nt.Suspense=c,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,nt.act=L,nt.cloneElement=function(V,ne,F){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ee=b({},V.props),Te=V.key,fe=V.ref,$e=V._owner;if(ne!=null){if(ne.ref!==void 0&&(fe=ne.ref,$e=N.current),ne.key!==void 0&&(Te=""+ne.key),V.type&&V.type.defaultProps)var Oe=V.type.defaultProps;for(te in ne)j.call(ne,te)&&!P.hasOwnProperty(te)&&(Ee[te]=ne[te]===void 0&&Oe!==void 0?Oe[te]:ne[te])}var te=arguments.length-2;if(te===1)Ee.children=F;else if(1<te){Oe=Array(te);for(var ke=0;ke<te;ke++)Oe[ke]=arguments[ke+2];Ee.children=Oe}return{$$typeof:e,type:V.type,key:Te,ref:fe,props:Ee,_owner:$e}},nt.createContext=function(V){return V={$$typeof:a,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},nt.createElement=D,nt.createFactory=function(V){var ne=D.bind(null,V);return ne.type=V,ne},nt.createRef=function(){return{current:null}},nt.forwardRef=function(V){return{$$typeof:o,render:V}},nt.isValidElement=I,nt.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:J}},nt.memo=function(V,ne){return{$$typeof:d,type:V,compare:ne===void 0?null:ne}},nt.startTransition=function(V){var ne=ie.transition;ie.transition={};try{V()}finally{ie.transition=ne}},nt.unstable_act=L,nt.useCallback=function(V,ne){return ae.current.useCallback(V,ne)},nt.useContext=function(V){return ae.current.useContext(V)},nt.useDebugValue=function(){},nt.useDeferredValue=function(V){return ae.current.useDeferredValue(V)},nt.useEffect=function(V,ne){return ae.current.useEffect(V,ne)},nt.useId=function(){return ae.current.useId()},nt.useImperativeHandle=function(V,ne,F){return ae.current.useImperativeHandle(V,ne,F)},nt.useInsertionEffect=function(V,ne){return ae.current.useInsertionEffect(V,ne)},nt.useLayoutEffect=function(V,ne){return ae.current.useLayoutEffect(V,ne)},nt.useMemo=function(V,ne){return ae.current.useMemo(V,ne)},nt.useReducer=function(V,ne,F){return ae.current.useReducer(V,ne,F)},nt.useRef=function(V){return ae.current.useRef(V)},nt.useState=function(V){return ae.current.useState(V)},nt.useSyncExternalStore=function(V,ne,F){return ae.current.useSyncExternalStore(V,ne,F)},nt.useTransition=function(){return ae.current.useTransition()},nt.version="18.3.1",nt}var fS;function ru(){return fS||(fS=1,yv.exports=FB()),yv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function $B(){if(pS)return uc;pS=1;var e=ru(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,d){var f,p={},v=null,g=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:o,key:v,ref:g,props:p,_owner:i.current}}return uc.Fragment=r,uc.jsx=a,uc.jsxs=a,uc}var mS;function UB(){return mS||(mS=1,vv.exports=$B()),vv.exports}var u=UB(),E=ru();const yn=ui(E),HB=yP({__proto__:null,default:yn},[E]);var hf={},bv={exports:{}},dn={},_v={exports:{}},xv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function zB(){return gS||(gS=1,(function(e){function t(ie,de){var L=ie.length;ie.push(de);e:for(;0<L;){var V=L-1>>>1,ne=ie[V];if(0<i(ne,de))ie[V]=de,ie[L]=ne,L=V;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var de=ie[0],L=ie.pop();if(L!==de){ie[0]=L;e:for(var V=0,ne=ie.length,F=ne>>>1;V<F;){var Ee=2*(V+1)-1,Te=ie[Ee],fe=Ee+1,$e=ie[fe];if(0>i(Te,L))fe<ne&&0>i($e,Te)?(ie[V]=$e,ie[fe]=L,V=fe):(ie[V]=Te,ie[Ee]=L,V=Ee);else if(fe<ne&&0>i($e,L))ie[V]=$e,ie[fe]=L,V=fe;else break e}}return de}function i(ie,de){var L=ie.sortIndex-de.sortIndex;return L!==0?L:ie.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],f=1,p=null,v=3,g=!1,b=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ie){for(var de=r(d);de!==null;){if(de.callback===null)n(d);else if(de.startTime<=ie)n(d),de.sortIndex=de.expirationTime,t(c,de);else break;de=r(d)}}function O(ie){if(x=!1,S(ie),!b)if(r(c)!==null)b=!0,J(j);else{var de=r(d);de!==null&&ae(O,de.startTime-ie)}}function j(ie,de){b=!1,x&&(x=!1,w(D),D=-1),g=!0;var L=v;try{for(S(de),p=r(c);p!==null&&(!(p.expirationTime>de)||ie&&!M());){var V=p.callback;if(typeof V=="function"){p.callback=null,v=p.priorityLevel;var ne=V(p.expirationTime<=de);de=e.unstable_now(),typeof ne=="function"?p.callback=ne:p===r(c)&&n(c),S(de)}else n(c);p=r(c)}if(p!==null)var F=!0;else{var Ee=r(d);Ee!==null&&ae(O,Ee.startTime-de),F=!1}return F}finally{p=null,v=L,g=!1}}var N=!1,P=null,D=-1,$=5,I=-1;function M(){return!(e.unstable_now()-I<$)}function H(){if(P!==null){var ie=e.unstable_now();I=ie;var de=!0;try{de=P(!0,ie)}finally{de?q():(N=!1,P=null)}}else N=!1}var q;if(typeof A=="function")q=function(){A(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=H,q=function(){K.postMessage(null)}}else q=function(){_(H,0)};function J(ie){P=ie,N||(N=!0,q())}function ae(ie,de){D=_(function(){ie(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,J(j))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var de=3;break;default:de=v}var L=v;v=de;try{return ie()}finally{v=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var L=v;v=ie;try{return de()}finally{v=L}},e.unstable_scheduleCallback=function(ie,de,L){var V=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?V+L:V):L=V,ie){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=L+ne,ie={id:f++,callback:de,priorityLevel:ie,startTime:L,expirationTime:ne,sortIndex:-1},L>V?(ie.sortIndex=L,t(d,ie),r(c)===null&&ie===r(d)&&(x?(w(D),D=-1):x=!0,ae(O,L-V))):(ie.sortIndex=ne,t(c,ie),b||g||(b=!0,J(j))),ie},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(ie){var de=v;return function(){var L=v;v=de;try{return ie.apply(this,arguments)}finally{v=L}}}})(xv)),xv}var vS;function WB(){return vS||(vS=1,_v.exports=zB()),_v.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function qB(){if(yS)return dn;yS=1;var e=ru(),t=WB();function r(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,h){a(l,h),a(l+"Capture",h)}function a(l,h){for(i[l]=h,l=0;l<h.length;l++)n.add(h[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(l){return c.call(p,l)?!0:c.call(f,l)?!1:d.test(l)?p[l]=!0:(f[l]=!0,!1)}function g(l,h,m,y){if(m!==null&&m.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return y?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,h,m,y){if(h===null||typeof h>"u"||g(l,h,m,y))return!0;if(y)return!1;if(m!==null)switch(m.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(l,h,m,y,T,C,R){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=y,this.attributeNamespace=T,this.mustUseProperty=m,this.propertyName=l,this.type=h,this.sanitizeURL=C,this.removeEmptyString=R}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var h=l[0];_[h]=new x(h,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var h=l.replace(w,A);_[h]=new x(h,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var h=l.replace(w,A);_[h]=new x(h,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var h=l.replace(w,A);_[h]=new x(h,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function S(l,h,m,y){var T=_.hasOwnProperty(h)?_[h]:null;(T!==null?T.type!==0:y||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(b(h,m,T,y)&&(m=null),y||T===null?v(h)&&(m===null?l.removeAttribute(h):l.setAttribute(h,""+m)):T.mustUseProperty?l[T.propertyName]=m===null?T.type===3?!1:"":m:(h=T.attributeName,y=T.attributeNamespace,m===null?l.removeAttribute(h):(T=T.type,m=T===3||T===4&&m===!0?"":""+m,y?l.setAttributeNS(y,h,m):l.setAttribute(h,m))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),ie=Symbol.iterator;function de(l){return l===null||typeof l!="object"?null:(l=ie&&l[ie]||l["@@iterator"],typeof l=="function"?l:null)}var L=Object.assign,V;function ne(l){if(V===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);V=h&&h[1]||""}return`
`+V+l}var F=!1;function Ee(l,h){if(!l||F)return"";F=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(se){var y=se}Reflect.construct(l,[],h)}else{try{h.call()}catch(se){y=se}l.call(h.prototype)}else{try{throw Error()}catch(se){y=se}l()}}catch(se){if(se&&y&&typeof se.stack=="string"){for(var T=se.stack.split(`
`),C=y.stack.split(`
`),R=T.length-1,z=C.length-1;1<=R&&0<=z&&T[R]!==C[z];)z--;for(;1<=R&&0<=z;R--,z--)if(T[R]!==C[z]){if(R!==1||z!==1)do if(R--,z--,0>z||T[R]!==C[z]){var Y=`
`+T[R].replace(" at new "," at ");return l.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",l.displayName)),Y}while(1<=R&&0<=z);break}}}finally{F=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ne(l):""}function Te(l){switch(l.tag){case 5:return ne(l.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return l=Ee(l.type,!1),l;case 11:return l=Ee(l.type.render,!1),l;case 1:return l=Ee(l.type,!0),l;default:return""}}function fe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case P:return"Fragment";case N:return"Portal";case $:return"Profiler";case D:return"StrictMode";case q:return"Suspense";case G:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case M:return(l.displayName||"Context")+".Consumer";case I:return(l._context.displayName||"Context")+".Provider";case H:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case K:return h=l.displayName||null,h!==null?h:fe(l.type)||"Memo";case J:h=l._payload,l=l._init;try{return fe(l(h))}catch{}}return null}function $e(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=h.render,l=l.displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(h);case 8:return h===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Oe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function te(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ke(l){var h=te(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,h),y=""+l[h];if(!l.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,C=m.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return T.call(this)},set:function(R){y=""+R,C.call(this,R)}}),Object.defineProperty(l,h,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(R){y=""+R},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function He(l){l._valueTracker||(l._valueTracker=ke(l))}function he(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var m=h.getValue(),y="";return l&&(y=te(l)?l.checked?"true":"false":l.value),l=y,l!==m?(h.setValue(l),!0):!1}function pt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Se(l,h){var m=h.checked;return L({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function tt(l,h){var m=h.defaultValue==null?"":h.defaultValue,y=h.checked!=null?h.checked:h.defaultChecked;m=Oe(h.value!=null?h.value:m),l._wrapperState={initialChecked:y,initialValue:m,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ut(l,h){h=h.checked,h!=null&&S(l,"checked",h,!1)}function Bt(l,h){ut(l,h);var m=Oe(h.value),y=h.type;if(m!=null)y==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}h.hasOwnProperty("value")?Ws(l,h.type,m):h.hasOwnProperty("defaultValue")&&Ws(l,h.type,Oe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(l.defaultChecked=!!h.defaultChecked)}function ss(l,h,m){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var y=h.type;if(!(y!=="submit"&&y!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+l._wrapperState.initialValue,m||h===l.value||(l.value=h),l.defaultValue=h}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Ws(l,h,m){(h!=="number"||pt(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var Mi=Array.isArray;function Bi(l,h,m,y){if(l=l.options,h){h={};for(var T=0;T<m.length;T++)h["$"+m[T]]=!0;for(m=0;m<l.length;m++)T=h.hasOwnProperty("$"+l[m].value),l[m].selected!==T&&(l[m].selected=T),T&&y&&(l[m].defaultSelected=!0)}else{for(m=""+Oe(m),h=null,T=0;T<l.length;T++){if(l[T].value===m){l[T].selected=!0,y&&(l[T].defaultSelected=!0);return}h!==null||l[T].disabled||(h=l[T])}h!==null&&(h.selected=!0)}}function Fa(l,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return L({},h,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Fo(l,h){var m=h.value;if(m==null){if(m=h.children,h=h.defaultValue,m!=null){if(h!=null)throw Error(r(92));if(Mi(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),m=h}l._wrapperState={initialValue:Oe(m)}}function $o(l,h){var m=Oe(h.value),y=Oe(h.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),h.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),y!=null&&(l.defaultValue=""+y)}function Uo(l){var h=l.textContent;h===l._wrapperState.initialValue&&h!==""&&h!==null&&(l.value=h)}function ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function we(l,h){return l==null||l==="http://www.w3.org/1999/xhtml"?ce(h):l==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Q,be=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,m,y,T){MSApp.execUnsafeLocalFunction(function(){return l(h,m,y,T)})}:l})(function(l,h){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=h;else{for(Q=Q||document.createElement("div"),Q.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Q.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;h.firstChild;)l.appendChild(h.firstChild)}});function We(l,h){if(h){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=h;return}}l.textContent=h}var Ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Ft).forEach(function(l){Pr.forEach(function(h){h=h+l.charAt(0).toUpperCase()+l.substring(1),Ft[h]=Ft[l]})});function Ir(l,h,m){return h==null||typeof h=="boolean"||h===""?"":m||typeof h!="number"||h===0||Ft.hasOwnProperty(l)&&Ft[l]?(""+h).trim():h+"px"}function pr(l,h){l=l.style;for(var m in h)if(h.hasOwnProperty(m)){var y=m.indexOf("--")===0,T=Ir(m,h[m],y);m==="float"&&(m="cssFloat"),y?l.setProperty(m,T):l[m]=T}}var zn=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tr(l,h){if(h){if(zn[l]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Fi(l,h){if(l.indexOf("-")===-1)return typeof h.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=null;function Og(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Pg=null,Ho=null,zo=null;function NE(l){if(l=Yu(l)){if(typeof Pg!="function")throw Error(r(280));var h=l.stateNode;h&&(h=Sh(h),Pg(l.stateNode,l.type,h))}}function jE(l){Ho?zo?zo.push(l):zo=[l]:Ho=l}function OE(){if(Ho){var l=Ho,h=zo;if(zo=Ho=null,NE(l),h)for(l=0;l<h.length;l++)NE(h[l])}}function PE(l,h){return l(h)}function IE(){}var Ig=!1;function RE(l,h,m){if(Ig)return l(h,m);Ig=!0;try{return PE(l,h,m)}finally{Ig=!1,(Ho!==null||zo!==null)&&(IE(),OE())}}function Cu(l,h){var m=l.stateNode;if(m===null)return null;var y=Sh(m);if(y===null)return null;m=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,h,typeof m));return m}var Rg=!1;if(o)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Rg=!1}function H5(l,h,m,y,T,C,R,z,Y){var se=Array.prototype.slice.call(arguments,3);try{h.apply(m,se)}catch(ge){this.onError(ge)}}var Nu=!1,ih=null,sh=!1,Dg=null,z5={onError:function(l){Nu=!0,ih=l}};function W5(l,h,m,y,T,C,R,z,Y){Nu=!1,ih=null,H5.apply(z5,arguments)}function q5(l,h,m,y,T,C,R,z,Y){if(W5.apply(this,arguments),Nu){if(Nu){var se=ih;Nu=!1,ih=null}else throw Error(r(198));sh||(sh=!0,Dg=se)}}function $a(l){var h=l,m=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,(h.flags&4098)!==0&&(m=h.return),l=h.return;while(l)}return h.tag===3?m:null}function DE(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function LE(l){if($a(l)!==l)throw Error(r(188))}function V5(l){var h=l.alternate;if(!h){if(h=$a(l),h===null)throw Error(r(188));return h!==l?null:l}for(var m=l,y=h;;){var T=m.return;if(T===null)break;var C=T.alternate;if(C===null){if(y=T.return,y!==null){m=y;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===m)return LE(T),l;if(C===y)return LE(T),h;C=C.sibling}throw Error(r(188))}if(m.return!==y.return)m=T,y=C;else{for(var R=!1,z=T.child;z;){if(z===m){R=!0,m=T,y=C;break}if(z===y){R=!0,y=T,m=C;break}z=z.sibling}if(!R){for(z=C.child;z;){if(z===m){R=!0,m=C,y=T;break}if(z===y){R=!0,y=C,m=T;break}z=z.sibling}if(!R)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:h}function ME(l){return l=V5(l),l!==null?BE(l):null}function BE(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=BE(l);if(h!==null)return h;l=l.sibling}return null}var FE=t.unstable_scheduleCallback,$E=t.unstable_cancelCallback,G5=t.unstable_shouldYield,Y5=t.unstable_requestPaint,qt=t.unstable_now,K5=t.unstable_getCurrentPriorityLevel,Lg=t.unstable_ImmediatePriority,UE=t.unstable_UserBlockingPriority,ah=t.unstable_NormalPriority,X5=t.unstable_LowPriority,HE=t.unstable_IdlePriority,oh=null,$i=null;function Q5(l){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(oh,l,void 0,(l.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:e8,J5=Math.log,Z5=Math.LN2;function e8(l){return l>>>=0,l===0?32:31-(J5(l)/Z5|0)|0}var lh=64,uh=4194304;function ju(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ch(l,h){var m=l.pendingLanes;if(m===0)return 0;var y=0,T=l.suspendedLanes,C=l.pingedLanes,R=m&268435455;if(R!==0){var z=R&~T;z!==0?y=ju(z):(C&=R,C!==0&&(y=ju(C)))}else R=m&~T,R!==0?y=ju(R):C!==0&&(y=ju(C));if(y===0)return 0;if(h!==0&&h!==y&&(h&T)===0&&(T=y&-y,C=h&-h,T>=C||T===16&&(C&4194240)!==0))return h;if((y&4)!==0&&(y|=m&16),h=l.entangledLanes,h!==0)for(l=l.entanglements,h&=y;0<h;)m=31-fi(h),T=1<<m,y|=l[m],h&=~T;return y}function t8(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r8(l,h){for(var m=l.suspendedLanes,y=l.pingedLanes,T=l.expirationTimes,C=l.pendingLanes;0<C;){var R=31-fi(C),z=1<<R,Y=T[R];Y===-1?((z&m)===0||(z&y)!==0)&&(T[R]=t8(z,h)):Y<=h&&(l.expiredLanes|=z),C&=~z}}function Mg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function zE(){var l=lh;return lh<<=1,(lh&4194240)===0&&(lh=64),l}function Bg(l){for(var h=[],m=0;31>m;m++)h.push(l);return h}function Ou(l,h,m){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,h=31-fi(h),l[h]=m}function n8(l,h){var m=l.pendingLanes&~h;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=h,l.mutableReadLanes&=h,l.entangledLanes&=h,h=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<m;){var T=31-fi(m),C=1<<T;h[T]=0,y[T]=-1,l[T]=-1,m&=~C}}function Fg(l,h){var m=l.entangledLanes|=h;for(l=l.entanglements;m;){var y=31-fi(m),T=1<<y;T&h|l[y]&h&&(l[y]|=h),m&=~T}}var mt=0;function WE(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var qE,$g,VE,GE,YE,Ug=!1,dh=[],qs=null,Vs=null,Gs=null,Pu=new Map,Iu=new Map,Ys=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KE(l,h){switch(l){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Pu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(h.pointerId)}}function Ru(l,h,m,y,T,C){return l===null||l.nativeEvent!==C?(l={blockedOn:h,domEventName:m,eventSystemFlags:y,nativeEvent:C,targetContainers:[T]},h!==null&&(h=Yu(h),h!==null&&$g(h)),l):(l.eventSystemFlags|=y,h=l.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),l)}function s8(l,h,m,y,T){switch(h){case"focusin":return qs=Ru(qs,l,h,m,y,T),!0;case"dragenter":return Vs=Ru(Vs,l,h,m,y,T),!0;case"mouseover":return Gs=Ru(Gs,l,h,m,y,T),!0;case"pointerover":var C=T.pointerId;return Pu.set(C,Ru(Pu.get(C)||null,l,h,m,y,T)),!0;case"gotpointercapture":return C=T.pointerId,Iu.set(C,Ru(Iu.get(C)||null,l,h,m,y,T)),!0}return!1}function XE(l){var h=Ua(l.target);if(h!==null){var m=$a(h);if(m!==null){if(h=m.tag,h===13){if(h=DE(m),h!==null){l.blockedOn=h,YE(l.priority,function(){VE(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function hh(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var m=zg(l.domEventName,l.eventSystemFlags,h[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);kn=y,m.target.dispatchEvent(y),kn=null}else return h=Yu(m),h!==null&&$g(h),l.blockedOn=m,!1;h.shift()}return!0}function QE(l,h,m){hh(l)&&m.delete(h)}function a8(){Ug=!1,qs!==null&&hh(qs)&&(qs=null),Vs!==null&&hh(Vs)&&(Vs=null),Gs!==null&&hh(Gs)&&(Gs=null),Pu.forEach(QE),Iu.forEach(QE)}function Du(l,h){l.blockedOn===h&&(l.blockedOn=null,Ug||(Ug=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a8)))}function Lu(l){function h(T){return Du(T,l)}if(0<dh.length){Du(dh[0],l);for(var m=1;m<dh.length;m++){var y=dh[m];y.blockedOn===l&&(y.blockedOn=null)}}for(qs!==null&&Du(qs,l),Vs!==null&&Du(Vs,l),Gs!==null&&Du(Gs,l),Pu.forEach(h),Iu.forEach(h),m=0;m<Ys.length;m++)y=Ys[m],y.blockedOn===l&&(y.blockedOn=null);for(;0<Ys.length&&(m=Ys[0],m.blockedOn===null);)XE(m),m.blockedOn===null&&Ys.shift()}var Wo=O.ReactCurrentBatchConfig,fh=!0;function o8(l,h,m,y){var T=mt,C=Wo.transition;Wo.transition=null;try{mt=1,Hg(l,h,m,y)}finally{mt=T,Wo.transition=C}}function l8(l,h,m,y){var T=mt,C=Wo.transition;Wo.transition=null;try{mt=4,Hg(l,h,m,y)}finally{mt=T,Wo.transition=C}}function Hg(l,h,m,y){if(fh){var T=zg(l,h,m,y);if(T===null)a0(l,h,y,ph,m),KE(l,y);else if(s8(T,l,h,m,y))y.stopPropagation();else if(KE(l,y),h&4&&-1<i8.indexOf(l)){for(;T!==null;){var C=Yu(T);if(C!==null&&qE(C),C=zg(l,h,m,y),C===null&&a0(l,h,y,ph,m),C===T)break;T=C}T!==null&&y.stopPropagation()}else a0(l,h,y,null,m)}}var ph=null;function zg(l,h,m,y){if(ph=null,l=Og(y),l=Ua(l),l!==null)if(h=$a(l),h===null)l=null;else if(m=h.tag,m===13){if(l=DE(h),l!==null)return l;l=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null);return ph=l,null}function JE(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K5()){case Lg:return 1;case UE:return 4;case ah:case X5:return 16;case HE:return 536870912;default:return 16}default:return 16}}var Ks=null,Wg=null,mh=null;function ZE(){if(mh)return mh;var l,h=Wg,m=h.length,y,T="value"in Ks?Ks.value:Ks.textContent,C=T.length;for(l=0;l<m&&h[l]===T[l];l++);var R=m-l;for(y=1;y<=R&&h[m-y]===T[C-y];y++);return mh=T.slice(l,1<y?1-y:void 0)}function gh(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function vh(){return!0}function ek(){return!1}function Tn(l){function h(m,y,T,C,R){this._reactName=m,this._targetInst=T,this.type=y,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(m=l[z],this[z]=m?m(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?vh:ek,this.isPropagationStopped=ek,this}return L(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),h}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qg=Tn(qo),Mu=L({},qo,{view:0,detail:0}),u8=Tn(Mu),Vg,Gg,Bu,yh=L({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Bu&&(Bu&&l.type==="mousemove"?(Vg=l.screenX-Bu.screenX,Gg=l.screenY-Bu.screenY):Gg=Vg=0,Bu=l),Vg)},movementY:function(l){return"movementY"in l?l.movementY:Gg}}),tk=Tn(yh),c8=L({},yh,{dataTransfer:0}),d8=Tn(c8),h8=L({},Mu,{relatedTarget:0}),Yg=Tn(h8),f8=L({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),p8=Tn(f8),m8=L({},qo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),g8=Tn(m8),v8=L({},qo,{data:0}),rk=Tn(v8),y8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x8(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=_8[l])?!!h[l]:!1}function Kg(){return x8}var w8=L({},Mu,{key:function(l){if(l.key){var h=y8[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=gh(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?b8[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(l){return l.type==="keypress"?gh(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?gh(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),E8=Tn(w8),k8=L({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nk=Tn(k8),T8=L({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),S8=Tn(T8),C8=L({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),A8=Tn(C8),N8=L({},yh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),j8=Tn(N8),O8=[9,13,27,32],Xg=o&&"CompositionEvent"in window,Fu=null;o&&"documentMode"in document&&(Fu=document.documentMode);var P8=o&&"TextEvent"in window&&!Fu,ik=o&&(!Xg||Fu&&8<Fu&&11>=Fu),sk=" ",ak=!1;function ok(l,h){switch(l){case"keyup":return O8.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Vo=!1;function I8(l,h){switch(l){case"compositionend":return lk(h);case"keypress":return h.which!==32?null:(ak=!0,sk);case"textInput":return l=h.data,l===sk&&ak?null:l;default:return null}}function R8(l,h){if(Vo)return l==="compositionend"||!Xg&&ok(l,h)?(l=ZE(),mh=Wg=Ks=null,Vo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ik&&h.locale!=="ko"?null:h.data;default:return null}}var D8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uk(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!D8[l.type]:h==="textarea"}function ck(l,h,m,y){jE(y),h=Eh(h,"onChange"),0<h.length&&(m=new qg("onChange","change",null,m,y),l.push({event:m,listeners:h}))}var $u=null,Uu=null;function L8(l){Ak(l,0)}function bh(l){var h=Qo(l);if(he(h))return l}function M8(l,h){if(l==="change")return h}var dk=!1;if(o){var Qg;if(o){var Jg="oninput"in document;if(!Jg){var hk=document.createElement("div");hk.setAttribute("oninput","return;"),Jg=typeof hk.oninput=="function"}Qg=Jg}else Qg=!1;dk=Qg&&(!document.documentMode||9<document.documentMode)}function fk(){$u&&($u.detachEvent("onpropertychange",pk),Uu=$u=null)}function pk(l){if(l.propertyName==="value"&&bh(Uu)){var h=[];ck(h,Uu,l,Og(l)),RE(L8,h)}}function B8(l,h,m){l==="focusin"?(fk(),$u=h,Uu=m,$u.attachEvent("onpropertychange",pk)):l==="focusout"&&fk()}function F8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return bh(Uu)}function $8(l,h){if(l==="click")return bh(h)}function U8(l,h){if(l==="input"||l==="change")return bh(h)}function H8(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var pi=typeof Object.is=="function"?Object.is:H8;function Hu(l,h){if(pi(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var m=Object.keys(l),y=Object.keys(h);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var T=m[y];if(!c.call(h,T)||!pi(l[T],h[T]))return!1}return!0}function mk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function gk(l,h){var m=mk(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=h&&y>=h)return{node:m,offset:h-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=mk(m)}}function vk(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?vk(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function yk(){for(var l=window,h=pt();h instanceof l.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)l=h.contentWindow;else break;h=pt(l.document)}return h}function Zg(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}function z8(l){var h=yk(),m=l.focusedElem,y=l.selectionRange;if(h!==m&&m&&m.ownerDocument&&vk(m.ownerDocument.documentElement,m)){if(y!==null&&Zg(m)){if(h=y.start,l=y.end,l===void 0&&(l=h),"selectionStart"in m)m.selectionStart=h,m.selectionEnd=Math.min(l,m.value.length);else if(l=(h=m.ownerDocument||document)&&h.defaultView||window,l.getSelection){l=l.getSelection();var T=m.textContent.length,C=Math.min(y.start,T);y=y.end===void 0?C:Math.min(y.end,T),!l.extend&&C>y&&(T=y,y=C,C=T),T=gk(m,C);var R=gk(m,y);T&&R&&(l.rangeCount!==1||l.anchorNode!==T.node||l.anchorOffset!==T.offset||l.focusNode!==R.node||l.focusOffset!==R.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),l.removeAllRanges(),C>y?(l.addRange(h),l.extend(R.node,R.offset)):(h.setEnd(R.node,R.offset),l.addRange(h)))}}for(h=[],l=m;l=l.parentNode;)l.nodeType===1&&h.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<h.length;m++)l=h[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var W8=o&&"documentMode"in document&&11>=document.documentMode,Go=null,e0=null,zu=null,t0=!1;function bk(l,h,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;t0||Go==null||Go!==pt(y)||(y=Go,"selectionStart"in y&&Zg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),zu&&Hu(zu,y)||(zu=y,y=Eh(e0,"onSelect"),0<y.length&&(h=new qg("onSelect","select",null,h,m),l.push({event:h,listeners:y}),h.target=Go)))}function _h(l,h){var m={};return m[l.toLowerCase()]=h.toLowerCase(),m["Webkit"+l]="webkit"+h,m["Moz"+l]="moz"+h,m}var Yo={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},r0={},_k={};o&&(_k=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function xh(l){if(r0[l])return r0[l];if(!Yo[l])return l;var h=Yo[l],m;for(m in h)if(h.hasOwnProperty(m)&&m in _k)return r0[l]=h[m];return l}var xk=xh("animationend"),wk=xh("animationiteration"),Ek=xh("animationstart"),kk=xh("transitionend"),Tk=new Map,Sk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(l,h){Tk.set(l,h),s(h,[l])}for(var n0=0;n0<Sk.length;n0++){var i0=Sk[n0],q8=i0.toLowerCase(),V8=i0[0].toUpperCase()+i0.slice(1);Xs(q8,"on"+V8)}Xs(xk,"onAnimationEnd"),Xs(wk,"onAnimationIteration"),Xs(Ek,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(kk,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function Ck(l,h,m){var y=l.type||"unknown-event";l.currentTarget=m,q5(y,h,void 0,l),l.currentTarget=null}function Ak(l,h){h=(h&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],T=y.event;y=y.listeners;e:{var C=void 0;if(h)for(var R=y.length-1;0<=R;R--){var z=y[R],Y=z.instance,se=z.currentTarget;if(z=z.listener,Y!==C&&T.isPropagationStopped())break e;Ck(T,z,se),C=Y}else for(R=0;R<y.length;R++){if(z=y[R],Y=z.instance,se=z.currentTarget,z=z.listener,Y!==C&&T.isPropagationStopped())break e;Ck(T,z,se),C=Y}}}if(sh)throw l=Dg,sh=!1,Dg=null,l}function Nt(l,h){var m=h[h0];m===void 0&&(m=h[h0]=new Set);var y=l+"__bubble";m.has(y)||(Nk(h,l,2,!1),m.add(y))}function s0(l,h,m){var y=0;h&&(y|=4),Nk(m,l,y,h)}var wh="_reactListening"+Math.random().toString(36).slice(2);function qu(l){if(!l[wh]){l[wh]=!0,n.forEach(function(m){m!=="selectionchange"&&(G8.has(m)||s0(m,!1,l),s0(m,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[wh]||(h[wh]=!0,s0("selectionchange",!1,h))}}function Nk(l,h,m,y){switch(JE(h)){case 1:var T=o8;break;case 4:T=l8;break;default:T=Hg}m=T.bind(null,h,m,l),T=void 0,!Rg||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),y?T!==void 0?l.addEventListener(h,m,{capture:!0,passive:T}):l.addEventListener(h,m,!0):T!==void 0?l.addEventListener(h,m,{passive:T}):l.addEventListener(h,m,!1)}function a0(l,h,m,y,T){var C=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var R=y.tag;if(R===3||R===4){var z=y.stateNode.containerInfo;if(z===T||z.nodeType===8&&z.parentNode===T)break;if(R===4)for(R=y.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&(Y=R.stateNode.containerInfo,Y===T||Y.nodeType===8&&Y.parentNode===T))return;R=R.return}for(;z!==null;){if(R=Ua(z),R===null)return;if(Y=R.tag,Y===5||Y===6){y=C=R;continue e}z=z.parentNode}}y=y.return}RE(function(){var se=C,ge=Og(m),ve=[];e:{var pe=Tk.get(l);if(pe!==void 0){var je=qg,De=l;switch(l){case"keypress":if(gh(m)===0)break e;case"keydown":case"keyup":je=E8;break;case"focusin":De="focus",je=Yg;break;case"focusout":De="blur",je=Yg;break;case"beforeblur":case"afterblur":je=Yg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=tk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=d8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=S8;break;case xk:case wk:case Ek:je=p8;break;case kk:je=A8;break;case"scroll":je=u8;break;case"wheel":je=j8;break;case"copy":case"cut":case"paste":je=g8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=nk}var Le=(h&4)!==0,Vt=!Le&&l==="scroll",Z=Le?pe!==null?pe+"Capture":null:pe;Le=[];for(var X=se,re;X!==null;){re=X;var xe=re.stateNode;if(re.tag===5&&xe!==null&&(re=xe,Z!==null&&(xe=Cu(X,Z),xe!=null&&Le.push(Vu(X,xe,re)))),Vt)break;X=X.return}0<Le.length&&(pe=new je(pe,De,null,m,ge),ve.push({event:pe,listeners:Le}))}}if((h&7)===0){e:{if(pe=l==="mouseover"||l==="pointerover",je=l==="mouseout"||l==="pointerout",pe&&m!==kn&&(De=m.relatedTarget||m.fromElement)&&(Ua(De)||De[as]))break e;if((je||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,je?(De=m.relatedTarget||m.toElement,je=se,De=De?Ua(De):null,De!==null&&(Vt=$a(De),De!==Vt||De.tag!==5&&De.tag!==6)&&(De=null)):(je=null,De=se),je!==De)){if(Le=tk,xe="onMouseLeave",Z="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Le=nk,xe="onPointerLeave",Z="onPointerEnter",X="pointer"),Vt=je==null?pe:Qo(je),re=De==null?pe:Qo(De),pe=new Le(xe,X+"leave",je,m,ge),pe.target=Vt,pe.relatedTarget=re,xe=null,Ua(ge)===se&&(Le=new Le(Z,X+"enter",De,m,ge),Le.target=re,Le.relatedTarget=Vt,xe=Le),Vt=xe,je&&De)t:{for(Le=je,Z=De,X=0,re=Le;re;re=Ko(re))X++;for(re=0,xe=Z;xe;xe=Ko(xe))re++;for(;0<X-re;)Le=Ko(Le),X--;for(;0<re-X;)Z=Ko(Z),re--;for(;X--;){if(Le===Z||Z!==null&&Le===Z.alternate)break t;Le=Ko(Le),Z=Ko(Z)}Le=null}else Le=null;je!==null&&jk(ve,pe,je,Le,!1),De!==null&&Vt!==null&&jk(ve,Vt,De,Le,!0)}}e:{if(pe=se?Qo(se):window,je=pe.nodeName&&pe.nodeName.toLowerCase(),je==="select"||je==="input"&&pe.type==="file")var Me=M8;else if(uk(pe))if(dk)Me=U8;else{Me=F8;var Ge=B8}else(je=pe.nodeName)&&je.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Me=$8);if(Me&&(Me=Me(l,se))){ck(ve,Me,m,ge);break e}Ge&&Ge(l,pe,se),l==="focusout"&&(Ge=pe._wrapperState)&&Ge.controlled&&pe.type==="number"&&Ws(pe,"number",pe.value)}switch(Ge=se?Qo(se):window,l){case"focusin":(uk(Ge)||Ge.contentEditable==="true")&&(Go=Ge,e0=se,zu=null);break;case"focusout":zu=e0=Go=null;break;case"mousedown":t0=!0;break;case"contextmenu":case"mouseup":case"dragend":t0=!1,bk(ve,m,ge);break;case"selectionchange":if(W8)break;case"keydown":case"keyup":bk(ve,m,ge)}var Ye;if(Xg)e:{switch(l){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Vo?ok(l,m)&&(Ze="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Ze="onCompositionStart");Ze&&(ik&&m.locale!=="ko"&&(Vo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Vo&&(Ye=ZE()):(Ks=ge,Wg="value"in Ks?Ks.value:Ks.textContent,Vo=!0)),Ge=Eh(se,Ze),0<Ge.length&&(Ze=new rk(Ze,l,null,m,ge),ve.push({event:Ze,listeners:Ge}),Ye?Ze.data=Ye:(Ye=lk(m),Ye!==null&&(Ze.data=Ye)))),(Ye=P8?I8(l,m):R8(l,m))&&(se=Eh(se,"onBeforeInput"),0<se.length&&(ge=new rk("onBeforeInput","beforeinput",null,m,ge),ve.push({event:ge,listeners:se}),ge.data=Ye))}Ak(ve,h)})}function Vu(l,h,m){return{instance:l,listener:h,currentTarget:m}}function Eh(l,h){for(var m=h+"Capture",y=[];l!==null;){var T=l,C=T.stateNode;T.tag===5&&C!==null&&(T=C,C=Cu(l,m),C!=null&&y.unshift(Vu(l,C,T)),C=Cu(l,h),C!=null&&y.push(Vu(l,C,T))),l=l.return}return y}function Ko(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function jk(l,h,m,y,T){for(var C=h._reactName,R=[];m!==null&&m!==y;){var z=m,Y=z.alternate,se=z.stateNode;if(Y!==null&&Y===y)break;z.tag===5&&se!==null&&(z=se,T?(Y=Cu(m,C),Y!=null&&R.unshift(Vu(m,Y,z))):T||(Y=Cu(m,C),Y!=null&&R.push(Vu(m,Y,z)))),m=m.return}R.length!==0&&l.push({event:h,listeners:R})}var Y8=/\r\n?/g,K8=/\u0000|\uFFFD/g;function Ok(l){return(typeof l=="string"?l:""+l).replace(Y8,`
`).replace(K8,"")}function kh(l,h,m){if(h=Ok(h),Ok(l)!==h&&m)throw Error(r(425))}function Th(){}var o0=null,l0=null;function u0(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,X8=typeof clearTimeout=="function"?clearTimeout:void 0,Pk=typeof Promise=="function"?Promise:void 0,Q8=typeof queueMicrotask=="function"?queueMicrotask:typeof Pk<"u"?function(l){return Pk.resolve(null).then(l).catch(J8)}:c0;function J8(l){setTimeout(function(){throw l})}function d0(l,h){var m=h,y=0;do{var T=m.nextSibling;if(l.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(y===0){l.removeChild(T),Lu(h);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=T}while(m);Lu(h)}function Qs(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return l}function Ik(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return l;h--}else m==="/$"&&h++}l=l.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Xo,Gu="__reactProps$"+Xo,as="__reactContainer$"+Xo,h0="__reactEvents$"+Xo,Z8="__reactListeners$"+Xo,eB="__reactHandles$"+Xo;function Ua(l){var h=l[Ui];if(h)return h;for(var m=l.parentNode;m;){if(h=m[as]||m[Ui]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(l=Ik(l);l!==null;){if(m=l[Ui])return m;l=Ik(l)}return h}l=m,m=l.parentNode}return null}function Yu(l){return l=l[Ui]||l[as],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Qo(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Sh(l){return l[Gu]||null}var f0=[],Jo=-1;function Js(l){return{current:l}}function jt(l){0>Jo||(l.current=f0[Jo],f0[Jo]=null,Jo--)}function kt(l,h){Jo++,f0[Jo]=l.current,l.current=h}var Zs={},Rr=Js(Zs),an=Js(!1),Ha=Zs;function Zo(l,h){var m=l.type.contextTypes;if(!m)return Zs;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===h)return y.__reactInternalMemoizedMaskedChildContext;var T={},C;for(C in m)T[C]=h[C];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=T),T}function on(l){return l=l.childContextTypes,l!=null}function Ch(){jt(an),jt(Rr)}function Rk(l,h,m){if(Rr.current!==Zs)throw Error(r(168));kt(Rr,h),kt(an,m)}function Dk(l,h,m){var y=l.stateNode;if(h=h.childContextTypes,typeof y.getChildContext!="function")return m;y=y.getChildContext();for(var T in y)if(!(T in h))throw Error(r(108,$e(l)||"Unknown",T));return L({},m,y)}function Ah(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Zs,Ha=Rr.current,kt(Rr,l),kt(an,an.current),!0}function Lk(l,h,m){var y=l.stateNode;if(!y)throw Error(r(169));m?(l=Dk(l,h,Ha),y.__reactInternalMemoizedMergedChildContext=l,jt(an),jt(Rr),kt(Rr,l)):jt(an),kt(an,m)}var os=null,Nh=!1,p0=!1;function Mk(l){os===null?os=[l]:os.push(l)}function tB(l){Nh=!0,Mk(l)}function ea(){if(!p0&&os!==null){p0=!0;var l=0,h=mt;try{var m=os;for(mt=1;l<m.length;l++){var y=m[l];do y=y(!0);while(y!==null)}os=null,Nh=!1}catch(T){throw os!==null&&(os=os.slice(l+1)),FE(Lg,ea),T}finally{mt=h,p0=!1}}return null}var el=[],tl=0,jh=null,Oh=0,Wn=[],qn=0,za=null,ls=1,us="";function Wa(l,h){el[tl++]=Oh,el[tl++]=jh,jh=l,Oh=h}function Bk(l,h,m){Wn[qn++]=ls,Wn[qn++]=us,Wn[qn++]=za,za=l;var y=ls;l=us;var T=32-fi(y)-1;y&=~(1<<T),m+=1;var C=32-fi(h)+T;if(30<C){var R=T-T%5;C=(y&(1<<R)-1).toString(32),y>>=R,T-=R,ls=1<<32-fi(h)+T|m<<T|y,us=C+l}else ls=1<<C|m<<T|y,us=l}function m0(l){l.return!==null&&(Wa(l,1),Bk(l,1,0))}function g0(l){for(;l===jh;)jh=el[--tl],el[tl]=null,Oh=el[--tl],el[tl]=null;for(;l===za;)za=Wn[--qn],Wn[qn]=null,us=Wn[--qn],Wn[qn]=null,ls=Wn[--qn],Wn[qn]=null}var Sn=null,Cn=null,Rt=!1,mi=null;function Fk(l,h){var m=Kn(5,null,null,0);m.elementType="DELETED",m.stateNode=h,m.return=l,h=l.deletions,h===null?(l.deletions=[m],l.flags|=16):h.push(m)}function $k(l,h){switch(l.tag){case 5:var m=l.type;return h=h.nodeType!==1||m.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(l.stateNode=h,Sn=l,Cn=Qs(h.firstChild),!0):!1;case 6:return h=l.pendingProps===""||h.nodeType!==3?null:h,h!==null?(l.stateNode=h,Sn=l,Cn=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(m=za!==null?{id:ls,overflow:us}:null,l.memoizedState={dehydrated:h,treeContext:m,retryLane:1073741824},m=Kn(18,null,null,0),m.stateNode=h,m.return=l,l.child=m,Sn=l,Cn=null,!0):!1;default:return!1}}function v0(l){return(l.mode&1)!==0&&(l.flags&128)===0}function y0(l){if(Rt){var h=Cn;if(h){var m=h;if(!$k(l,h)){if(v0(l))throw Error(r(418));h=Qs(m.nextSibling);var y=Sn;h&&$k(l,h)?Fk(y,m):(l.flags=l.flags&-4097|2,Rt=!1,Sn=l)}}else{if(v0(l))throw Error(r(418));l.flags=l.flags&-4097|2,Rt=!1,Sn=l}}}function Uk(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Sn=l}function Ph(l){if(l!==Sn)return!1;if(!Rt)return Uk(l),Rt=!0,!1;var h;if((h=l.tag!==3)&&!(h=l.tag!==5)&&(h=l.type,h=h!=="head"&&h!=="body"&&!u0(l.type,l.memoizedProps)),h&&(h=Cn)){if(v0(l))throw Hk(),Error(r(418));for(;h;)Fk(l,h),h=Qs(h.nextSibling)}if(Uk(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,h=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(h===0){Cn=Qs(l.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++}l=l.nextSibling}Cn=null}}else Cn=Sn?Qs(l.stateNode.nextSibling):null;return!0}function Hk(){for(var l=Cn;l;)l=Qs(l.nextSibling)}function rl(){Cn=Sn=null,Rt=!1}function b0(l){mi===null?mi=[l]:mi.push(l)}var rB=O.ReactCurrentBatchConfig;function Ku(l,h,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var y=m.stateNode}if(!y)throw Error(r(147,l));var T=y,C=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===C?h.ref:(h=function(R){var z=T.refs;R===null?delete z[C]:z[C]=R},h._stringRef=C,h)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function Ih(l,h){throw l=Object.prototype.toString.call(h),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function zk(l){var h=l._init;return h(l._payload)}function Wk(l){function h(Z,X){if(l){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function m(Z,X){if(!l)return null;for(;X!==null;)h(Z,X),X=X.sibling;return null}function y(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function T(Z,X){return Z=la(Z,X),Z.index=0,Z.sibling=null,Z}function C(Z,X,re){return Z.index=re,l?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=2,X):re):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function R(Z){return l&&Z.alternate===null&&(Z.flags|=2),Z}function z(Z,X,re,xe){return X===null||X.tag!==6?(X=cv(re,Z.mode,xe),X.return=Z,X):(X=T(X,re),X.return=Z,X)}function Y(Z,X,re,xe){var Me=re.type;return Me===P?ge(Z,X,re.props.children,xe,re.key):X!==null&&(X.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===J&&zk(Me)===X.type)?(xe=T(X,re.props),xe.ref=Ku(Z,X,re),xe.return=Z,xe):(xe=nf(re.type,re.key,re.props,null,Z.mode,xe),xe.ref=Ku(Z,X,re),xe.return=Z,xe)}function se(Z,X,re,xe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=dv(re,Z.mode,xe),X.return=Z,X):(X=T(X,re.children||[]),X.return=Z,X)}function ge(Z,X,re,xe,Me){return X===null||X.tag!==7?(X=Ja(re,Z.mode,xe,Me),X.return=Z,X):(X=T(X,re),X.return=Z,X)}function ve(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=cv(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return re=nf(X.type,X.key,X.props,null,Z.mode,re),re.ref=Ku(Z,null,X),re.return=Z,re;case N:return X=dv(X,Z.mode,re),X.return=Z,X;case J:var xe=X._init;return ve(Z,xe(X._payload),re)}if(Mi(X)||de(X))return X=Ja(X,Z.mode,re,null),X.return=Z,X;Ih(Z,X)}return null}function pe(Z,X,re,xe){var Me=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Me!==null?null:z(Z,X,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return re.key===Me?Y(Z,X,re,xe):null;case N:return re.key===Me?se(Z,X,re,xe):null;case J:return Me=re._init,pe(Z,X,Me(re._payload),xe)}if(Mi(re)||de(re))return Me!==null?null:ge(Z,X,re,xe,null);Ih(Z,re)}return null}function je(Z,X,re,xe,Me){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Z=Z.get(re)||null,z(X,Z,""+xe,Me);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case j:return Z=Z.get(xe.key===null?re:xe.key)||null,Y(X,Z,xe,Me);case N:return Z=Z.get(xe.key===null?re:xe.key)||null,se(X,Z,xe,Me);case J:var Ge=xe._init;return je(Z,X,re,Ge(xe._payload),Me)}if(Mi(xe)||de(xe))return Z=Z.get(re)||null,ge(X,Z,xe,Me,null);Ih(X,xe)}return null}function De(Z,X,re,xe){for(var Me=null,Ge=null,Ye=X,Ze=X=0,vr=null;Ye!==null&&Ze<re.length;Ze++){Ye.index>Ze?(vr=Ye,Ye=null):vr=Ye.sibling;var dt=pe(Z,Ye,re[Ze],xe);if(dt===null){Ye===null&&(Ye=vr);break}l&&Ye&&dt.alternate===null&&h(Z,Ye),X=C(dt,X,Ze),Ge===null?Me=dt:Ge.sibling=dt,Ge=dt,Ye=vr}if(Ze===re.length)return m(Z,Ye),Rt&&Wa(Z,Ze),Me;if(Ye===null){for(;Ze<re.length;Ze++)Ye=ve(Z,re[Ze],xe),Ye!==null&&(X=C(Ye,X,Ze),Ge===null?Me=Ye:Ge.sibling=Ye,Ge=Ye);return Rt&&Wa(Z,Ze),Me}for(Ye=y(Z,Ye);Ze<re.length;Ze++)vr=je(Ye,Z,Ze,re[Ze],xe),vr!==null&&(l&&vr.alternate!==null&&Ye.delete(vr.key===null?Ze:vr.key),X=C(vr,X,Ze),Ge===null?Me=vr:Ge.sibling=vr,Ge=vr);return l&&Ye.forEach(function(ua){return h(Z,ua)}),Rt&&Wa(Z,Ze),Me}function Le(Z,X,re,xe){var Me=de(re);if(typeof Me!="function")throw Error(r(150));if(re=Me.call(re),re==null)throw Error(r(151));for(var Ge=Me=null,Ye=X,Ze=X=0,vr=null,dt=re.next();Ye!==null&&!dt.done;Ze++,dt=re.next()){Ye.index>Ze?(vr=Ye,Ye=null):vr=Ye.sibling;var ua=pe(Z,Ye,dt.value,xe);if(ua===null){Ye===null&&(Ye=vr);break}l&&Ye&&ua.alternate===null&&h(Z,Ye),X=C(ua,X,Ze),Ge===null?Me=ua:Ge.sibling=ua,Ge=ua,Ye=vr}if(dt.done)return m(Z,Ye),Rt&&Wa(Z,Ze),Me;if(Ye===null){for(;!dt.done;Ze++,dt=re.next())dt=ve(Z,dt.value,xe),dt!==null&&(X=C(dt,X,Ze),Ge===null?Me=dt:Ge.sibling=dt,Ge=dt);return Rt&&Wa(Z,Ze),Me}for(Ye=y(Z,Ye);!dt.done;Ze++,dt=re.next())dt=je(Ye,Z,Ze,dt.value,xe),dt!==null&&(l&&dt.alternate!==null&&Ye.delete(dt.key===null?Ze:dt.key),X=C(dt,X,Ze),Ge===null?Me=dt:Ge.sibling=dt,Ge=dt);return l&&Ye.forEach(function(DB){return h(Z,DB)}),Rt&&Wa(Z,Ze),Me}function Vt(Z,X,re,xe){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case j:e:{for(var Me=re.key,Ge=X;Ge!==null;){if(Ge.key===Me){if(Me=re.type,Me===P){if(Ge.tag===7){m(Z,Ge.sibling),X=T(Ge,re.props.children),X.return=Z,Z=X;break e}}else if(Ge.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===J&&zk(Me)===Ge.type){m(Z,Ge.sibling),X=T(Ge,re.props),X.ref=Ku(Z,Ge,re),X.return=Z,Z=X;break e}m(Z,Ge);break}else h(Z,Ge);Ge=Ge.sibling}re.type===P?(X=Ja(re.props.children,Z.mode,xe,re.key),X.return=Z,Z=X):(xe=nf(re.type,re.key,re.props,null,Z.mode,xe),xe.ref=Ku(Z,X,re),xe.return=Z,Z=xe)}return R(Z);case N:e:{for(Ge=re.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){m(Z,X.sibling),X=T(X,re.children||[]),X.return=Z,Z=X;break e}else{m(Z,X);break}else h(Z,X);X=X.sibling}X=dv(re,Z.mode,xe),X.return=Z,Z=X}return R(Z);case J:return Ge=re._init,Vt(Z,X,Ge(re._payload),xe)}if(Mi(re))return De(Z,X,re,xe);if(de(re))return Le(Z,X,re,xe);Ih(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(m(Z,X.sibling),X=T(X,re),X.return=Z,Z=X):(m(Z,X),X=cv(re,Z.mode,xe),X.return=Z,Z=X),R(Z)):m(Z,X)}return Vt}var nl=Wk(!0),qk=Wk(!1),Rh=Js(null),Dh=null,il=null,_0=null;function x0(){_0=il=Dh=null}function w0(l){var h=Rh.current;jt(Rh),l._currentValue=h}function E0(l,h,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),l===m)break;l=l.return}}function sl(l,h){Dh=l,_0=il=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&h)!==0&&(ln=!0),l.firstContext=null)}function Vn(l){var h=l._currentValue;if(_0!==l)if(l={context:l,memoizedValue:h,next:null},il===null){if(Dh===null)throw Error(r(308));il=l,Dh.dependencies={lanes:0,firstContext:l}}else il=il.next=l;return h}var qa=null;function k0(l){qa===null?qa=[l]:qa.push(l)}function Vk(l,h,m,y){var T=h.interleaved;return T===null?(m.next=m,k0(h)):(m.next=T.next,T.next=m),h.interleaved=m,cs(l,y)}function cs(l,h){l.lanes|=h;var m=l.alternate;for(m!==null&&(m.lanes|=h),m=l,l=l.return;l!==null;)l.childLanes|=h,m=l.alternate,m!==null&&(m.childLanes|=h),m=l,l=l.return;return m.tag===3?m.stateNode:null}var ta=!1;function T0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gk(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ds(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function ra(l,h,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(ct&2)!==0){var T=y.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),y.pending=h,cs(l,m)}return T=y.interleaved,T===null?(h.next=h,k0(y)):(h.next=T.next,T.next=h),y.interleaved=h,cs(l,m)}function Lh(l,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194240)!==0)){var y=h.lanes;y&=l.pendingLanes,m|=y,h.lanes=m,Fg(l,m)}}function Yk(l,h){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var T=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var R={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};C===null?T=C=R:C=C.next=R,m=m.next}while(m!==null);C===null?T=C=h:C=C.next=h}else T=C=h;m={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:y.shared,effects:y.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=h}function Mh(l,h,m,y){var T=l.updateQueue;ta=!1;var C=T.firstBaseUpdate,R=T.lastBaseUpdate,z=T.shared.pending;if(z!==null){T.shared.pending=null;var Y=z,se=Y.next;Y.next=null,R===null?C=se:R.next=se,R=Y;var ge=l.alternate;ge!==null&&(ge=ge.updateQueue,z=ge.lastBaseUpdate,z!==R&&(z===null?ge.firstBaseUpdate=se:z.next=se,ge.lastBaseUpdate=Y))}if(C!==null){var ve=T.baseState;R=0,ge=se=Y=null,z=C;do{var pe=z.lane,je=z.eventTime;if((y&pe)===pe){ge!==null&&(ge=ge.next={eventTime:je,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var De=l,Le=z;switch(pe=h,je=m,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){ve=De.call(je,ve,pe);break e}ve=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,pe=typeof De=="function"?De.call(je,ve,pe):De,pe==null)break e;ve=L({},ve,pe);break e;case 2:ta=!0}}z.callback!==null&&z.lane!==0&&(l.flags|=64,pe=T.effects,pe===null?T.effects=[z]:pe.push(z))}else je={eventTime:je,lane:pe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ge===null?(se=ge=je,Y=ve):ge=ge.next=je,R|=pe;if(z=z.next,z===null){if(z=T.shared.pending,z===null)break;pe=z,z=pe.next,pe.next=null,T.lastBaseUpdate=pe,T.shared.pending=null}}while(!0);if(ge===null&&(Y=ve),T.baseState=Y,T.firstBaseUpdate=se,T.lastBaseUpdate=ge,h=T.shared.interleaved,h!==null){T=h;do R|=T.lane,T=T.next;while(T!==h)}else C===null&&(T.shared.lanes=0);Ya|=R,l.lanes=R,l.memoizedState=ve}}function Kk(l,h,m){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var y=l[h],T=y.callback;if(T!==null){if(y.callback=null,y=m,typeof T!="function")throw Error(r(191,T));T.call(y)}}}var Xu={},Hi=Js(Xu),Qu=Js(Xu),Ju=Js(Xu);function Va(l){if(l===Xu)throw Error(r(174));return l}function S0(l,h){switch(kt(Ju,h),kt(Qu,l),kt(Hi,Xu),l=h.nodeType,l){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:we(null,"");break;default:l=l===8?h.parentNode:h,h=l.namespaceURI||null,l=l.tagName,h=we(h,l)}jt(Hi),kt(Hi,h)}function al(){jt(Hi),jt(Qu),jt(Ju)}function Xk(l){Va(Ju.current);var h=Va(Hi.current),m=we(h,l.type);h!==m&&(kt(Qu,l),kt(Hi,m))}function C0(l){Qu.current===l&&(jt(Hi),jt(Qu))}var $t=Js(0);function Bh(l){for(var h=l;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var A0=[];function N0(){for(var l=0;l<A0.length;l++)A0[l]._workInProgressVersionPrimary=null;A0.length=0}var Fh=O.ReactCurrentDispatcher,j0=O.ReactCurrentBatchConfig,Ga=0,Ut=null,rr=null,mr=null,$h=!1,Zu=!1,ec=0,nB=0;function Dr(){throw Error(r(321))}function O0(l,h){if(h===null)return!1;for(var m=0;m<h.length&&m<l.length;m++)if(!pi(l[m],h[m]))return!1;return!0}function P0(l,h,m,y,T,C){if(Ga=C,Ut=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Fh.current=l===null||l.memoizedState===null?oB:lB,l=m(y,T),Zu){C=0;do{if(Zu=!1,ec=0,25<=C)throw Error(r(301));C+=1,mr=rr=null,h.updateQueue=null,Fh.current=uB,l=m(y,T)}while(Zu)}if(Fh.current=zh,h=rr!==null&&rr.next!==null,Ga=0,mr=rr=Ut=null,$h=!1,h)throw Error(r(300));return l}function I0(){var l=ec!==0;return ec=0,l}function zi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Ut.memoizedState=mr=l:mr=mr.next=l,mr}function Gn(){if(rr===null){var l=Ut.alternate;l=l!==null?l.memoizedState:null}else l=rr.next;var h=mr===null?Ut.memoizedState:mr.next;if(h!==null)mr=h,rr=l;else{if(l===null)throw Error(r(310));rr=l,l={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},mr===null?Ut.memoizedState=mr=l:mr=mr.next=l}return mr}function tc(l,h){return typeof h=="function"?h(l):h}function R0(l){var h=Gn(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=rr,T=y.baseQueue,C=m.pending;if(C!==null){if(T!==null){var R=T.next;T.next=C.next,C.next=R}y.baseQueue=T=C,m.pending=null}if(T!==null){C=T.next,y=y.baseState;var z=R=null,Y=null,se=C;do{var ge=se.lane;if((Ga&ge)===ge)Y!==null&&(Y=Y.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),y=se.hasEagerState?se.eagerState:l(y,se.action);else{var ve={lane:ge,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Y===null?(z=Y=ve,R=y):Y=Y.next=ve,Ut.lanes|=ge,Ya|=ge}se=se.next}while(se!==null&&se!==C);Y===null?R=y:Y.next=z,pi(y,h.memoizedState)||(ln=!0),h.memoizedState=y,h.baseState=R,h.baseQueue=Y,m.lastRenderedState=y}if(l=m.interleaved,l!==null){T=l;do C=T.lane,Ut.lanes|=C,Ya|=C,T=T.next;while(T!==l)}else T===null&&(m.lanes=0);return[h.memoizedState,m.dispatch]}function D0(l){var h=Gn(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,T=m.pending,C=h.memoizedState;if(T!==null){m.pending=null;var R=T=T.next;do C=l(C,R.action),R=R.next;while(R!==T);pi(C,h.memoizedState)||(ln=!0),h.memoizedState=C,h.baseQueue===null&&(h.baseState=C),m.lastRenderedState=C}return[C,y]}function Qk(){}function Jk(l,h){var m=Ut,y=Gn(),T=h(),C=!pi(y.memoizedState,T);if(C&&(y.memoizedState=T,ln=!0),y=y.queue,L0(tT.bind(null,m,y,l),[l]),y.getSnapshot!==h||C||mr!==null&&mr.memoizedState.tag&1){if(m.flags|=2048,rc(9,eT.bind(null,m,y,T,h),void 0,null),gr===null)throw Error(r(349));(Ga&30)!==0||Zk(m,h,T)}return T}function Zk(l,h,m){l.flags|=16384,l={getSnapshot:h,value:m},h=Ut.updateQueue,h===null?(h={lastEffect:null,stores:null},Ut.updateQueue=h,h.stores=[l]):(m=h.stores,m===null?h.stores=[l]:m.push(l))}function eT(l,h,m,y){h.value=m,h.getSnapshot=y,rT(h)&&nT(l)}function tT(l,h,m){return m(function(){rT(h)&&nT(l)})}function rT(l){var h=l.getSnapshot;l=l.value;try{var m=h();return!pi(l,m)}catch{return!0}}function nT(l){var h=cs(l,1);h!==null&&bi(h,l,1,-1)}function iT(l){var h=zi();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:l},h.queue=l,l=l.dispatch=aB.bind(null,Ut,l),[h.memoizedState,l]}function rc(l,h,m,y){return l={tag:l,create:h,destroy:m,deps:y,next:null},h=Ut.updateQueue,h===null?(h={lastEffect:null,stores:null},Ut.updateQueue=h,h.lastEffect=l.next=l):(m=h.lastEffect,m===null?h.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,h.lastEffect=l)),l}function sT(){return Gn().memoizedState}function Uh(l,h,m,y){var T=zi();Ut.flags|=l,T.memoizedState=rc(1|h,m,void 0,y===void 0?null:y)}function Hh(l,h,m,y){var T=Gn();y=y===void 0?null:y;var C=void 0;if(rr!==null){var R=rr.memoizedState;if(C=R.destroy,y!==null&&O0(y,R.deps)){T.memoizedState=rc(h,m,C,y);return}}Ut.flags|=l,T.memoizedState=rc(1|h,m,C,y)}function aT(l,h){return Uh(8390656,8,l,h)}function L0(l,h){return Hh(2048,8,l,h)}function oT(l,h){return Hh(4,2,l,h)}function lT(l,h){return Hh(4,4,l,h)}function uT(l,h){if(typeof h=="function")return l=l(),h(l),function(){h(null)};if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function cT(l,h,m){return m=m!=null?m.concat([l]):null,Hh(4,4,uT.bind(null,h,l),m)}function M0(){}function dT(l,h){var m=Gn();h=h===void 0?null:h;var y=m.memoizedState;return y!==null&&h!==null&&O0(h,y[1])?y[0]:(m.memoizedState=[l,h],l)}function hT(l,h){var m=Gn();h=h===void 0?null:h;var y=m.memoizedState;return y!==null&&h!==null&&O0(h,y[1])?y[0]:(l=l(),m.memoizedState=[l,h],l)}function fT(l,h,m){return(Ga&21)===0?(l.baseState&&(l.baseState=!1,ln=!0),l.memoizedState=m):(pi(m,h)||(m=zE(),Ut.lanes|=m,Ya|=m,l.baseState=!0),h)}function iB(l,h){var m=mt;mt=m!==0&&4>m?m:4,l(!0);var y=j0.transition;j0.transition={};try{l(!1),h()}finally{mt=m,j0.transition=y}}function pT(){return Gn().memoizedState}function sB(l,h,m){var y=aa(l);if(m={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null},mT(l))gT(h,m);else if(m=Vk(l,h,m,y),m!==null){var T=Kr();bi(m,l,y,T),vT(m,h,y)}}function aB(l,h,m){var y=aa(l),T={lane:y,action:m,hasEagerState:!1,eagerState:null,next:null};if(mT(l))gT(h,T);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer,C!==null))try{var R=h.lastRenderedState,z=C(R,m);if(T.hasEagerState=!0,T.eagerState=z,pi(z,R)){var Y=h.interleaved;Y===null?(T.next=T,k0(h)):(T.next=Y.next,Y.next=T),h.interleaved=T;return}}catch{}finally{}m=Vk(l,h,T,y),m!==null&&(T=Kr(),bi(m,l,y,T),vT(m,h,y))}}function mT(l){var h=l.alternate;return l===Ut||h!==null&&h===Ut}function gT(l,h){Zu=$h=!0;var m=l.pending;m===null?h.next=h:(h.next=m.next,m.next=h),l.pending=h}function vT(l,h,m){if((m&4194240)!==0){var y=h.lanes;y&=l.pendingLanes,m|=y,h.lanes=m,Fg(l,m)}}var zh={readContext:Vn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},oB={readContext:Vn,useCallback:function(l,h){return zi().memoizedState=[l,h===void 0?null:h],l},useContext:Vn,useEffect:aT,useImperativeHandle:function(l,h,m){return m=m!=null?m.concat([l]):null,Uh(4194308,4,uT.bind(null,h,l),m)},useLayoutEffect:function(l,h){return Uh(4194308,4,l,h)},useInsertionEffect:function(l,h){return Uh(4,2,l,h)},useMemo:function(l,h){var m=zi();return h=h===void 0?null:h,l=l(),m.memoizedState=[l,h],l},useReducer:function(l,h,m){var y=zi();return h=m!==void 0?m(h):h,y.memoizedState=y.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},y.queue=l,l=l.dispatch=sB.bind(null,Ut,l),[y.memoizedState,l]},useRef:function(l){var h=zi();return l={current:l},h.memoizedState=l},useState:iT,useDebugValue:M0,useDeferredValue:function(l){return zi().memoizedState=l},useTransition:function(){var l=iT(!1),h=l[0];return l=iB.bind(null,l[1]),zi().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,m){var y=Ut,T=zi();if(Rt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=h(),gr===null)throw Error(r(349));(Ga&30)!==0||Zk(y,h,m)}T.memoizedState=m;var C={value:m,getSnapshot:h};return T.queue=C,aT(tT.bind(null,y,C,l),[l]),y.flags|=2048,rc(9,eT.bind(null,y,C,m,h),void 0,null),m},useId:function(){var l=zi(),h=gr.identifierPrefix;if(Rt){var m=us,y=ls;m=(y&~(1<<32-fi(y)-1)).toString(32)+m,h=":"+h+"R"+m,m=ec++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=nB++,h=":"+h+"r"+m.toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},lB={readContext:Vn,useCallback:dT,useContext:Vn,useEffect:L0,useImperativeHandle:cT,useInsertionEffect:oT,useLayoutEffect:lT,useMemo:hT,useReducer:R0,useRef:sT,useState:function(){return R0(tc)},useDebugValue:M0,useDeferredValue:function(l){var h=Gn();return fT(h,rr.memoizedState,l)},useTransition:function(){var l=R0(tc)[0],h=Gn().memoizedState;return[l,h]},useMutableSource:Qk,useSyncExternalStore:Jk,useId:pT,unstable_isNewReconciler:!1},uB={readContext:Vn,useCallback:dT,useContext:Vn,useEffect:L0,useImperativeHandle:cT,useInsertionEffect:oT,useLayoutEffect:lT,useMemo:hT,useReducer:D0,useRef:sT,useState:function(){return D0(tc)},useDebugValue:M0,useDeferredValue:function(l){var h=Gn();return rr===null?h.memoizedState=l:fT(h,rr.memoizedState,l)},useTransition:function(){var l=D0(tc)[0],h=Gn().memoizedState;return[l,h]},useMutableSource:Qk,useSyncExternalStore:Jk,useId:pT,unstable_isNewReconciler:!1};function gi(l,h){if(l&&l.defaultProps){h=L({},h),l=l.defaultProps;for(var m in l)h[m]===void 0&&(h[m]=l[m]);return h}return h}function B0(l,h,m,y){h=l.memoizedState,m=m(y,h),m=m==null?h:L({},h,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Wh={isMounted:function(l){return(l=l._reactInternals)?$a(l)===l:!1},enqueueSetState:function(l,h,m){l=l._reactInternals;var y=Kr(),T=aa(l),C=ds(y,T);C.payload=h,m!=null&&(C.callback=m),h=ra(l,C,T),h!==null&&(bi(h,l,T,y),Lh(h,l,T))},enqueueReplaceState:function(l,h,m){l=l._reactInternals;var y=Kr(),T=aa(l),C=ds(y,T);C.tag=1,C.payload=h,m!=null&&(C.callback=m),h=ra(l,C,T),h!==null&&(bi(h,l,T,y),Lh(h,l,T))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var m=Kr(),y=aa(l),T=ds(m,y);T.tag=2,h!=null&&(T.callback=h),h=ra(l,T,y),h!==null&&(bi(h,l,y,m),Lh(h,l,y))}};function yT(l,h,m,y,T,C,R){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,C,R):h.prototype&&h.prototype.isPureReactComponent?!Hu(m,y)||!Hu(T,C):!0}function bT(l,h,m){var y=!1,T=Zs,C=h.contextType;return typeof C=="object"&&C!==null?C=Vn(C):(T=on(h)?Ha:Rr.current,y=h.contextTypes,C=(y=y!=null)?Zo(l,T):Zs),h=new h(m,C),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wh,l.stateNode=h,h._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=T,l.__reactInternalMemoizedMaskedChildContext=C),h}function _T(l,h,m,y){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,y),h.state!==l&&Wh.enqueueReplaceState(h,h.state,null)}function F0(l,h,m,y){var T=l.stateNode;T.props=m,T.state=l.memoizedState,T.refs={},T0(l);var C=h.contextType;typeof C=="object"&&C!==null?T.context=Vn(C):(C=on(h)?Ha:Rr.current,T.context=Zo(l,C)),T.state=l.memoizedState,C=h.getDerivedStateFromProps,typeof C=="function"&&(B0(l,h,C,m),T.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Wh.enqueueReplaceState(T,T.state,null),Mh(l,m,T,y),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308)}function ol(l,h){try{var m="",y=h;do m+=Te(y),y=y.return;while(y);var T=m}catch(C){T=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:h,stack:T,digest:null}}function $0(l,h,m){return{value:l,source:null,stack:m??null,digest:h??null}}function U0(l,h){try{console.error(h.value)}catch(m){setTimeout(function(){throw m})}}var cB=typeof WeakMap=="function"?WeakMap:Map;function xT(l,h,m){m=ds(-1,m),m.tag=3,m.payload={element:null};var y=h.value;return m.callback=function(){Qh||(Qh=!0,rv=y),U0(l,h)},m}function wT(l,h,m){m=ds(-1,m),m.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var T=h.value;m.payload=function(){return y(T)},m.callback=function(){U0(l,h)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(m.callback=function(){U0(l,h),typeof y!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})}),m}function ET(l,h,m){var y=l.pingCache;if(y===null){y=l.pingCache=new cB;var T=new Set;y.set(h,T)}else T=y.get(h),T===void 0&&(T=new Set,y.set(h,T));T.has(m)||(T.add(m),l=kB.bind(null,l,h,m),h.then(l,l))}function kT(l){do{var h;if((h=l.tag===13)&&(h=l.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return l;l=l.return}while(l!==null);return null}function TT(l,h,m,y,T){return(l.mode&1)===0?(l===h?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(h=ds(-1,1),h.tag=2,ra(m,h,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=T,l)}var dB=O.ReactCurrentOwner,ln=!1;function Yr(l,h,m,y){h.child=l===null?qk(h,null,m,y):nl(h,l.child,m,y)}function ST(l,h,m,y,T){m=m.render;var C=h.ref;return sl(h,T),y=P0(l,h,m,y,C,T),m=I0(),l!==null&&!ln?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~T,hs(l,h,T)):(Rt&&m&&m0(h),h.flags|=1,Yr(l,h,y,T),h.child)}function CT(l,h,m,y,T){if(l===null){var C=m.type;return typeof C=="function"&&!uv(C)&&C.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(h.tag=15,h.type=C,AT(l,h,C,y,T)):(l=nf(m.type,null,y,h,h.mode,T),l.ref=h.ref,l.return=h,h.child=l)}if(C=l.child,(l.lanes&T)===0){var R=C.memoizedProps;if(m=m.compare,m=m!==null?m:Hu,m(R,y)&&l.ref===h.ref)return hs(l,h,T)}return h.flags|=1,l=la(C,y),l.ref=h.ref,l.return=h,h.child=l}function AT(l,h,m,y,T){if(l!==null){var C=l.memoizedProps;if(Hu(C,y)&&l.ref===h.ref)if(ln=!1,h.pendingProps=y=C,(l.lanes&T)!==0)(l.flags&131072)!==0&&(ln=!0);else return h.lanes=l.lanes,hs(l,h,T)}return H0(l,h,m,y,T)}function NT(l,h,m){var y=h.pendingProps,T=y.children,C=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(ul,An),An|=m;else{if((m&1073741824)===0)return l=C!==null?C.baseLanes|m:m,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,kt(ul,An),An|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:m,kt(ul,An),An|=y}else C!==null?(y=C.baseLanes|m,h.memoizedState=null):y=m,kt(ul,An),An|=y;return Yr(l,h,T,m),h.child}function jT(l,h){var m=h.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(h.flags|=512,h.flags|=2097152)}function H0(l,h,m,y,T){var C=on(m)?Ha:Rr.current;return C=Zo(h,C),sl(h,T),m=P0(l,h,m,y,C,T),y=I0(),l!==null&&!ln?(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~T,hs(l,h,T)):(Rt&&y&&m0(h),h.flags|=1,Yr(l,h,m,T),h.child)}function OT(l,h,m,y,T){if(on(m)){var C=!0;Ah(h)}else C=!1;if(sl(h,T),h.stateNode===null)Vh(l,h),bT(h,m,y),F0(h,m,y,T),y=!0;else if(l===null){var R=h.stateNode,z=h.memoizedProps;R.props=z;var Y=R.context,se=m.contextType;typeof se=="object"&&se!==null?se=Vn(se):(se=on(m)?Ha:Rr.current,se=Zo(h,se));var ge=m.getDerivedStateFromProps,ve=typeof ge=="function"||typeof R.getSnapshotBeforeUpdate=="function";ve||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==y||Y!==se)&&_T(h,R,y,se),ta=!1;var pe=h.memoizedState;R.state=pe,Mh(h,y,R,T),Y=h.memoizedState,z!==y||pe!==Y||an.current||ta?(typeof ge=="function"&&(B0(h,m,ge,y),Y=h.memoizedState),(z=ta||yT(h,m,z,y,pe,Y,se))?(ve||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(h.flags|=4194308)):(typeof R.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=Y),R.props=y,R.state=Y,R.context=se,y=z):(typeof R.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{R=h.stateNode,Gk(l,h),z=h.memoizedProps,se=h.type===h.elementType?z:gi(h.type,z),R.props=se,ve=h.pendingProps,pe=R.context,Y=m.contextType,typeof Y=="object"&&Y!==null?Y=Vn(Y):(Y=on(m)?Ha:Rr.current,Y=Zo(h,Y));var je=m.getDerivedStateFromProps;(ge=typeof je=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==ve||pe!==Y)&&_T(h,R,y,Y),ta=!1,pe=h.memoizedState,R.state=pe,Mh(h,y,R,T);var De=h.memoizedState;z!==ve||pe!==De||an.current||ta?(typeof je=="function"&&(B0(h,m,je,y),De=h.memoizedState),(se=ta||yT(h,m,se,y,pe,De,Y)||!1)?(ge||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(y,De,Y),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(y,De,Y)),typeof R.componentDidUpdate=="function"&&(h.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===l.memoizedProps&&pe===l.memoizedState||(h.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&pe===l.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=De),R.props=y,R.state=De,R.context=Y,y=se):(typeof R.componentDidUpdate!="function"||z===l.memoizedProps&&pe===l.memoizedState||(h.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&pe===l.memoizedState||(h.flags|=1024),y=!1)}return z0(l,h,m,y,C,T)}function z0(l,h,m,y,T,C){jT(l,h);var R=(h.flags&128)!==0;if(!y&&!R)return T&&Lk(h,m,!1),hs(l,h,C);y=h.stateNode,dB.current=h;var z=R&&typeof m.getDerivedStateFromError!="function"?null:y.render();return h.flags|=1,l!==null&&R?(h.child=nl(h,l.child,null,C),h.child=nl(h,null,z,C)):Yr(l,h,z,C),h.memoizedState=y.state,T&&Lk(h,m,!0),h.child}function PT(l){var h=l.stateNode;h.pendingContext?Rk(l,h.pendingContext,h.pendingContext!==h.context):h.context&&Rk(l,h.context,!1),S0(l,h.containerInfo)}function IT(l,h,m,y,T){return rl(),b0(T),h.flags|=256,Yr(l,h,m,y),h.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function q0(l){return{baseLanes:l,cachePool:null,transitions:null}}function RT(l,h,m){var y=h.pendingProps,T=$t.current,C=!1,R=(h.flags&128)!==0,z;if((z=R)||(z=l!==null&&l.memoizedState===null?!1:(T&2)!==0),z?(C=!0,h.flags&=-129):(l===null||l.memoizedState!==null)&&(T|=1),kt($t,T&1),l===null)return y0(h),l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((h.mode&1)===0?h.lanes=1:l.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(R=y.children,l=y.fallback,C?(y=h.mode,C=h.child,R={mode:"hidden",children:R},(y&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=R):C=sf(R,y,0,null),l=Ja(l,y,m,null),C.return=h,l.return=h,C.sibling=l,h.child=C,h.child.memoizedState=q0(m),h.memoizedState=W0,l):V0(h,R));if(T=l.memoizedState,T!==null&&(z=T.dehydrated,z!==null))return hB(l,h,R,y,z,T,m);if(C){C=y.fallback,R=h.mode,T=l.child,z=T.sibling;var Y={mode:"hidden",children:y.children};return(R&1)===0&&h.child!==T?(y=h.child,y.childLanes=0,y.pendingProps=Y,h.deletions=null):(y=la(T,Y),y.subtreeFlags=T.subtreeFlags&14680064),z!==null?C=la(z,C):(C=Ja(C,R,m,null),C.flags|=2),C.return=h,y.return=h,y.sibling=C,h.child=y,y=C,C=h.child,R=l.child.memoizedState,R=R===null?q0(m):{baseLanes:R.baseLanes|m,cachePool:null,transitions:R.transitions},C.memoizedState=R,C.childLanes=l.childLanes&~m,h.memoizedState=W0,y}return C=l.child,l=C.sibling,y=la(C,{mode:"visible",children:y.children}),(h.mode&1)===0&&(y.lanes=m),y.return=h,y.sibling=null,l!==null&&(m=h.deletions,m===null?(h.deletions=[l],h.flags|=16):m.push(l)),h.child=y,h.memoizedState=null,y}function V0(l,h){return h=sf({mode:"visible",children:h},l.mode,0,null),h.return=l,l.child=h}function qh(l,h,m,y){return y!==null&&b0(y),nl(h,l.child,null,m),l=V0(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function hB(l,h,m,y,T,C,R){if(m)return h.flags&256?(h.flags&=-257,y=$0(Error(r(422))),qh(l,h,R,y)):h.memoizedState!==null?(h.child=l.child,h.flags|=128,null):(C=y.fallback,T=h.mode,y=sf({mode:"visible",children:y.children},T,0,null),C=Ja(C,T,R,null),C.flags|=2,y.return=h,C.return=h,y.sibling=C,h.child=y,(h.mode&1)!==0&&nl(h,l.child,null,R),h.child.memoizedState=q0(R),h.memoizedState=W0,C);if((h.mode&1)===0)return qh(l,h,R,null);if(T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var z=y.dgst;return y=z,C=Error(r(419)),y=$0(C,y,void 0),qh(l,h,R,y)}if(z=(R&l.childLanes)!==0,ln||z){if(y=gr,y!==null){switch(R&-R){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(y.suspendedLanes|R))!==0?0:T,T!==0&&T!==C.retryLane&&(C.retryLane=T,cs(l,T),bi(y,l,T,-1))}return lv(),y=$0(Error(r(421))),qh(l,h,R,y)}return T.data==="$?"?(h.flags|=128,h.child=l.child,h=TB.bind(null,l),T._reactRetry=h,null):(l=C.treeContext,Cn=Qs(T.nextSibling),Sn=h,Rt=!0,mi=null,l!==null&&(Wn[qn++]=ls,Wn[qn++]=us,Wn[qn++]=za,ls=l.id,us=l.overflow,za=h),h=V0(h,y.children),h.flags|=4096,h)}function DT(l,h,m){l.lanes|=h;var y=l.alternate;y!==null&&(y.lanes|=h),E0(l.return,h,m)}function G0(l,h,m,y,T){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:T}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=m,C.tailMode=T)}function LT(l,h,m){var y=h.pendingProps,T=y.revealOrder,C=y.tail;if(Yr(l,h,y.children,m),y=$t.current,(y&2)!==0)y=y&1|2,h.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&DT(l,m,h);else if(l.tag===19)DT(l,m,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(kt($t,y),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(m=h.child,T=null;m!==null;)l=m.alternate,l!==null&&Bh(l)===null&&(T=m),m=m.sibling;m=T,m===null?(T=h.child,h.child=null):(T=m.sibling,m.sibling=null),G0(h,!1,T,m,C);break;case"backwards":for(m=null,T=h.child,h.child=null;T!==null;){if(l=T.alternate,l!==null&&Bh(l)===null){h.child=T;break}l=T.sibling,T.sibling=m,m=T,T=l}G0(h,!0,m,null,C);break;case"together":G0(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Vh(l,h){(h.mode&1)===0&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function hs(l,h,m){if(l!==null&&(h.dependencies=l.dependencies),Ya|=h.lanes,(m&h.childLanes)===0)return null;if(l!==null&&h.child!==l.child)throw Error(r(153));if(h.child!==null){for(l=h.child,m=la(l,l.pendingProps),h.child=m,m.return=h;l.sibling!==null;)l=l.sibling,m=m.sibling=la(l,l.pendingProps),m.return=h;m.sibling=null}return h.child}function fB(l,h,m){switch(h.tag){case 3:PT(h),rl();break;case 5:Xk(h);break;case 1:on(h.type)&&Ah(h);break;case 4:S0(h,h.stateNode.containerInfo);break;case 10:var y=h.type._context,T=h.memoizedProps.value;kt(Rh,y._currentValue),y._currentValue=T;break;case 13:if(y=h.memoizedState,y!==null)return y.dehydrated!==null?(kt($t,$t.current&1),h.flags|=128,null):(m&h.child.childLanes)!==0?RT(l,h,m):(kt($t,$t.current&1),l=hs(l,h,m),l!==null?l.sibling:null);kt($t,$t.current&1);break;case 19:if(y=(m&h.childLanes)!==0,(l.flags&128)!==0){if(y)return LT(l,h,m);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),kt($t,$t.current),y)break;return null;case 22:case 23:return h.lanes=0,NT(l,h,m)}return hs(l,h,m)}var MT,Y0,BT,FT;MT=function(l,h){for(var m=h.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Y0=function(){},BT=function(l,h,m,y){var T=l.memoizedProps;if(T!==y){l=h.stateNode,Va(Hi.current);var C=null;switch(m){case"input":T=Se(l,T),y=Se(l,y),C=[];break;case"select":T=L({},T,{value:void 0}),y=L({},y,{value:void 0}),C=[];break;case"textarea":T=Fa(l,T),y=Fa(l,y),C=[];break;default:typeof T.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=Th)}tr(m,y);var R;m=null;for(se in T)if(!y.hasOwnProperty(se)&&T.hasOwnProperty(se)&&T[se]!=null)if(se==="style"){var z=T[se];for(R in z)z.hasOwnProperty(R)&&(m||(m={}),m[R]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?C||(C=[]):(C=C||[]).push(se,null));for(se in y){var Y=y[se];if(z=T!=null?T[se]:void 0,y.hasOwnProperty(se)&&Y!==z&&(Y!=null||z!=null))if(se==="style")if(z){for(R in z)!z.hasOwnProperty(R)||Y&&Y.hasOwnProperty(R)||(m||(m={}),m[R]="");for(R in Y)Y.hasOwnProperty(R)&&z[R]!==Y[R]&&(m||(m={}),m[R]=Y[R])}else m||(C||(C=[]),C.push(se,m)),m=Y;else se==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,z=z?z.__html:void 0,Y!=null&&z!==Y&&(C=C||[]).push(se,Y)):se==="children"?typeof Y!="string"&&typeof Y!="number"||(C=C||[]).push(se,""+Y):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(Y!=null&&se==="onScroll"&&Nt("scroll",l),C||z===Y||(C=[])):(C=C||[]).push(se,Y))}m&&(C=C||[]).push("style",m);var se=C;(h.updateQueue=se)&&(h.flags|=4)}},FT=function(l,h,m,y){m!==y&&(h.flags|=4)};function nc(l,h){if(!Rt)switch(l.tailMode){case"hidden":h=l.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Lr(l){var h=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(h)for(var T=l.child;T!==null;)m|=T.lanes|T.childLanes,y|=T.subtreeFlags&14680064,y|=T.flags&14680064,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)m|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=y,l.childLanes=m,h}function pB(l,h,m){var y=h.pendingProps;switch(g0(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(h),null;case 1:return on(h.type)&&Ch(),Lr(h),null;case 3:return y=h.stateNode,al(),jt(an),jt(Rr),N0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Ph(h)?h.flags|=4:l===null||l.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,mi!==null&&(sv(mi),mi=null))),Y0(l,h),Lr(h),null;case 5:C0(h);var T=Va(Ju.current);if(m=h.type,l!==null&&h.stateNode!=null)BT(l,h,m,y,T),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!y){if(h.stateNode===null)throw Error(r(166));return Lr(h),null}if(l=Va(Hi.current),Ph(h)){y=h.stateNode,m=h.type;var C=h.memoizedProps;switch(y[Ui]=h,y[Gu]=C,l=(h.mode&1)!==0,m){case"dialog":Nt("cancel",y),Nt("close",y);break;case"iframe":case"object":case"embed":Nt("load",y);break;case"video":case"audio":for(T=0;T<Wu.length;T++)Nt(Wu[T],y);break;case"source":Nt("error",y);break;case"img":case"image":case"link":Nt("error",y),Nt("load",y);break;case"details":Nt("toggle",y);break;case"input":tt(y,C),Nt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},Nt("invalid",y);break;case"textarea":Fo(y,C),Nt("invalid",y)}tr(m,C),T=null;for(var R in C)if(C.hasOwnProperty(R)){var z=C[R];R==="children"?typeof z=="string"?y.textContent!==z&&(C.suppressHydrationWarning!==!0&&kh(y.textContent,z,l),T=["children",z]):typeof z=="number"&&y.textContent!==""+z&&(C.suppressHydrationWarning!==!0&&kh(y.textContent,z,l),T=["children",""+z]):i.hasOwnProperty(R)&&z!=null&&R==="onScroll"&&Nt("scroll",y)}switch(m){case"input":He(y),ss(y,C,!0);break;case"textarea":He(y),Uo(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=Th)}y=T,h.updateQueue=y,y!==null&&(h.flags|=4)}else{R=T.nodeType===9?T:T.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ce(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=R.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=R.createElement(m,{is:y.is}):(l=R.createElement(m),m==="select"&&(R=l,y.multiple?R.multiple=!0:y.size&&(R.size=y.size))):l=R.createElementNS(l,m),l[Ui]=h,l[Gu]=y,MT(l,h,!1,!1),h.stateNode=l;e:{switch(R=Fi(m,y),m){case"dialog":Nt("cancel",l),Nt("close",l),T=y;break;case"iframe":case"object":case"embed":Nt("load",l),T=y;break;case"video":case"audio":for(T=0;T<Wu.length;T++)Nt(Wu[T],l);T=y;break;case"source":Nt("error",l),T=y;break;case"img":case"image":case"link":Nt("error",l),Nt("load",l),T=y;break;case"details":Nt("toggle",l),T=y;break;case"input":tt(l,y),T=Se(l,y),Nt("invalid",l);break;case"option":T=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},T=L({},y,{value:void 0}),Nt("invalid",l);break;case"textarea":Fo(l,y),T=Fa(l,y),Nt("invalid",l);break;default:T=y}tr(m,T),z=T;for(C in z)if(z.hasOwnProperty(C)){var Y=z[C];C==="style"?pr(l,Y):C==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&be(l,Y)):C==="children"?typeof Y=="string"?(m!=="textarea"||Y!=="")&&We(l,Y):typeof Y=="number"&&We(l,""+Y):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?Y!=null&&C==="onScroll"&&Nt("scroll",l):Y!=null&&S(l,C,Y,R))}switch(m){case"input":He(l),ss(l,y,!1);break;case"textarea":He(l),Uo(l);break;case"option":y.value!=null&&l.setAttribute("value",""+Oe(y.value));break;case"select":l.multiple=!!y.multiple,C=y.value,C!=null?Bi(l,!!y.multiple,C,!1):y.defaultValue!=null&&Bi(l,!!y.multiple,y.defaultValue,!0);break;default:typeof T.onClick=="function"&&(l.onclick=Th)}switch(m){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Lr(h),null;case 6:if(l&&h.stateNode!=null)FT(l,h,l.memoizedProps,y);else{if(typeof y!="string"&&h.stateNode===null)throw Error(r(166));if(m=Va(Ju.current),Va(Hi.current),Ph(h)){if(y=h.stateNode,m=h.memoizedProps,y[Ui]=h,(C=y.nodeValue!==m)&&(l=Sn,l!==null))switch(l.tag){case 3:kh(y.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&kh(y.nodeValue,m,(l.mode&1)!==0)}C&&(h.flags|=4)}else y=(m.nodeType===9?m:m.ownerDocument).createTextNode(y),y[Ui]=h,h.stateNode=y}return Lr(h),null;case 13:if(jt($t),y=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Rt&&Cn!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Hk(),rl(),h.flags|=98560,C=!1;else if(C=Ph(h),y!==null&&y.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=h.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Ui]=h}else rl(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Lr(h),C=!1}else mi!==null&&(sv(mi),mi=null),C=!0;if(!C)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=m,h):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(h.child.flags|=8192,(h.mode&1)!==0&&(l===null||($t.current&1)!==0?nr===0&&(nr=3):lv())),h.updateQueue!==null&&(h.flags|=4),Lr(h),null);case 4:return al(),Y0(l,h),l===null&&qu(h.stateNode.containerInfo),Lr(h),null;case 10:return w0(h.type._context),Lr(h),null;case 17:return on(h.type)&&Ch(),Lr(h),null;case 19:if(jt($t),C=h.memoizedState,C===null)return Lr(h),null;if(y=(h.flags&128)!==0,R=C.rendering,R===null)if(y)nc(C,!1);else{if(nr!==0||l!==null&&(l.flags&128)!==0)for(l=h.child;l!==null;){if(R=Bh(l),R!==null){for(h.flags|=128,nc(C,!1),y=R.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),h.subtreeFlags=0,y=m,m=h.child;m!==null;)C=m,l=y,C.flags&=14680066,R=C.alternate,R===null?(C.childLanes=0,C.lanes=l,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=R.childLanes,C.lanes=R.lanes,C.child=R.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=R.memoizedProps,C.memoizedState=R.memoizedState,C.updateQueue=R.updateQueue,C.type=R.type,l=R.dependencies,C.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return kt($t,$t.current&1|2),h.child}l=l.sibling}C.tail!==null&&qt()>cl&&(h.flags|=128,y=!0,nc(C,!1),h.lanes=4194304)}else{if(!y)if(l=Bh(R),l!==null){if(h.flags|=128,y=!0,m=l.updateQueue,m!==null&&(h.updateQueue=m,h.flags|=4),nc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!R.alternate&&!Rt)return Lr(h),null}else 2*qt()-C.renderingStartTime>cl&&m!==1073741824&&(h.flags|=128,y=!0,nc(C,!1),h.lanes=4194304);C.isBackwards?(R.sibling=h.child,h.child=R):(m=C.last,m!==null?m.sibling=R:h.child=R,C.last=R)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=qt(),h.sibling=null,m=$t.current,kt($t,y?m&1|2:m&1),h):(Lr(h),null);case 22:case 23:return ov(),y=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(h.flags|=8192),y&&(h.mode&1)!==0?(An&1073741824)!==0&&(Lr(h),h.subtreeFlags&6&&(h.flags|=8192)):Lr(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function mB(l,h){switch(g0(h),h.tag){case 1:return on(h.type)&&Ch(),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return al(),jt(an),jt(Rr),N0(),l=h.flags,(l&65536)!==0&&(l&128)===0?(h.flags=l&-65537|128,h):null;case 5:return C0(h),null;case 13:if(jt($t),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(r(340));rl()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return jt($t),null;case 4:return al(),null;case 10:return w0(h.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var Gh=!1,Mr=!1,gB=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ll(l,h){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(y){Wt(l,h,y)}else m.current=null}function K0(l,h,m){try{m()}catch(y){Wt(l,h,y)}}var $T=!1;function vB(l,h){if(o0=fh,l=yk(),Zg(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var T=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var R=0,z=-1,Y=-1,se=0,ge=0,ve=l,pe=null;t:for(;;){for(var je;ve!==m||T!==0&&ve.nodeType!==3||(z=R+T),ve!==C||y!==0&&ve.nodeType!==3||(Y=R+y),ve.nodeType===3&&(R+=ve.nodeValue.length),(je=ve.firstChild)!==null;)pe=ve,ve=je;for(;;){if(ve===l)break t;if(pe===m&&++se===T&&(z=R),pe===C&&++ge===y&&(Y=R),(je=ve.nextSibling)!==null)break;ve=pe,pe=ve.parentNode}ve=je}m=z===-1||Y===-1?null:{start:z,end:Y}}else m=null}m=m||{start:0,end:0}}else m=null;for(l0={focusedElem:l,selectionRange:m},fh=!1,Pe=h;Pe!==null;)if(h=Pe,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,Pe=l;else for(;Pe!==null;){h=Pe;try{var De=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,Vt=De.memoizedState,Z=h.stateNode,X=Z.getSnapshotBeforeUpdate(h.elementType===h.type?Le:gi(h.type,Le),Vt);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=h.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xe){Wt(h,h.return,xe)}if(l=h.sibling,l!==null){l.return=h.return,Pe=l;break}Pe=h.return}return De=$T,$T=!1,De}function ic(l,h,m){var y=h.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&l)===l){var C=T.destroy;T.destroy=void 0,C!==void 0&&K0(h,m,C)}T=T.next}while(T!==y)}}function Yh(l,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&l)===l){var y=m.create;m.destroy=y()}m=m.next}while(m!==h)}}function X0(l){var h=l.ref;if(h!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof h=="function"?h(l):h.current=l}}function UT(l){var h=l.alternate;h!==null&&(l.alternate=null,UT(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&(delete h[Ui],delete h[Gu],delete h[h0],delete h[Z8],delete h[eB])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function HT(l){return l.tag===5||l.tag===3||l.tag===4}function zT(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||HT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Q0(l,h,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(l,h):m.insertBefore(l,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(l,m)):(h=m,h.appendChild(l)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=Th));else if(y!==4&&(l=l.child,l!==null))for(Q0(l,h,m),l=l.sibling;l!==null;)Q0(l,h,m),l=l.sibling}function J0(l,h,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,h?m.insertBefore(l,h):m.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(J0(l,h,m),l=l.sibling;l!==null;)J0(l,h,m),l=l.sibling}var Tr=null,vi=!1;function na(l,h,m){for(m=m.child;m!==null;)WT(l,h,m),m=m.sibling}function WT(l,h,m){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(oh,m)}catch{}switch(m.tag){case 5:Mr||ll(m,h);case 6:var y=Tr,T=vi;Tr=null,na(l,h,m),Tr=y,vi=T,Tr!==null&&(vi?(l=Tr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):Tr.removeChild(m.stateNode));break;case 18:Tr!==null&&(vi?(l=Tr,m=m.stateNode,l.nodeType===8?d0(l.parentNode,m):l.nodeType===1&&d0(l,m),Lu(l)):d0(Tr,m.stateNode));break;case 4:y=Tr,T=vi,Tr=m.stateNode.containerInfo,vi=!0,na(l,h,m),Tr=y,vi=T;break;case 0:case 11:case 14:case 15:if(!Mr&&(y=m.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){T=y=y.next;do{var C=T,R=C.destroy;C=C.tag,R!==void 0&&((C&2)!==0||(C&4)!==0)&&K0(m,h,R),T=T.next}while(T!==y)}na(l,h,m);break;case 1:if(!Mr&&(ll(m,h),y=m.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=m.memoizedProps,y.state=m.memoizedState,y.componentWillUnmount()}catch(z){Wt(m,h,z)}na(l,h,m);break;case 21:na(l,h,m);break;case 22:m.mode&1?(Mr=(y=Mr)||m.memoizedState!==null,na(l,h,m),Mr=y):na(l,h,m);break;default:na(l,h,m)}}function qT(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new gB),h.forEach(function(y){var T=SB.bind(null,l,y);m.has(y)||(m.add(y),y.then(T,T))})}}function yi(l,h){var m=h.deletions;if(m!==null)for(var y=0;y<m.length;y++){var T=m[y];try{var C=l,R=h,z=R;e:for(;z!==null;){switch(z.tag){case 5:Tr=z.stateNode,vi=!1;break e;case 3:Tr=z.stateNode.containerInfo,vi=!0;break e;case 4:Tr=z.stateNode.containerInfo,vi=!0;break e}z=z.return}if(Tr===null)throw Error(r(160));WT(C,R,T),Tr=null,vi=!1;var Y=T.alternate;Y!==null&&(Y.return=null),T.return=null}catch(se){Wt(T,h,se)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)VT(h,l),h=h.sibling}function VT(l,h){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(yi(h,l),Wi(l),y&4){try{ic(3,l,l.return),Yh(3,l)}catch(Le){Wt(l,l.return,Le)}try{ic(5,l,l.return)}catch(Le){Wt(l,l.return,Le)}}break;case 1:yi(h,l),Wi(l),y&512&&m!==null&&ll(m,m.return);break;case 5:if(yi(h,l),Wi(l),y&512&&m!==null&&ll(m,m.return),l.flags&32){var T=l.stateNode;try{We(T,"")}catch(Le){Wt(l,l.return,Le)}}if(y&4&&(T=l.stateNode,T!=null)){var C=l.memoizedProps,R=m!==null?m.memoizedProps:C,z=l.type,Y=l.updateQueue;if(l.updateQueue=null,Y!==null)try{z==="input"&&C.type==="radio"&&C.name!=null&&ut(T,C),Fi(z,R);var se=Fi(z,C);for(R=0;R<Y.length;R+=2){var ge=Y[R],ve=Y[R+1];ge==="style"?pr(T,ve):ge==="dangerouslySetInnerHTML"?be(T,ve):ge==="children"?We(T,ve):S(T,ge,ve,se)}switch(z){case"input":Bt(T,C);break;case"textarea":$o(T,C);break;case"select":var pe=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!C.multiple;var je=C.value;je!=null?Bi(T,!!C.multiple,je,!1):pe!==!!C.multiple&&(C.defaultValue!=null?Bi(T,!!C.multiple,C.defaultValue,!0):Bi(T,!!C.multiple,C.multiple?[]:"",!1))}T[Gu]=C}catch(Le){Wt(l,l.return,Le)}}break;case 6:if(yi(h,l),Wi(l),y&4){if(l.stateNode===null)throw Error(r(162));T=l.stateNode,C=l.memoizedProps;try{T.nodeValue=C}catch(Le){Wt(l,l.return,Le)}}break;case 3:if(yi(h,l),Wi(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Lu(h.containerInfo)}catch(Le){Wt(l,l.return,Le)}break;case 4:yi(h,l),Wi(l);break;case 13:yi(h,l),Wi(l),T=l.child,T.flags&8192&&(C=T.memoizedState!==null,T.stateNode.isHidden=C,!C||T.alternate!==null&&T.alternate.memoizedState!==null||(tv=qt())),y&4&&qT(l);break;case 22:if(ge=m!==null&&m.memoizedState!==null,l.mode&1?(Mr=(se=Mr)||ge,yi(h,l),Mr=se):yi(h,l),Wi(l),y&8192){if(se=l.memoizedState!==null,(l.stateNode.isHidden=se)&&!ge&&(l.mode&1)!==0)for(Pe=l,ge=l.child;ge!==null;){for(ve=Pe=ge;Pe!==null;){switch(pe=Pe,je=pe.child,pe.tag){case 0:case 11:case 14:case 15:ic(4,pe,pe.return);break;case 1:ll(pe,pe.return);var De=pe.stateNode;if(typeof De.componentWillUnmount=="function"){y=pe,m=pe.return;try{h=y,De.props=h.memoizedProps,De.state=h.memoizedState,De.componentWillUnmount()}catch(Le){Wt(y,m,Le)}}break;case 5:ll(pe,pe.return);break;case 22:if(pe.memoizedState!==null){KT(ve);continue}}je!==null?(je.return=pe,Pe=je):KT(ve)}ge=ge.sibling}e:for(ge=null,ve=l;;){if(ve.tag===5){if(ge===null){ge=ve;try{T=ve.stateNode,se?(C=T.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(z=ve.stateNode,Y=ve.memoizedProps.style,R=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,z.style.display=Ir("display",R))}catch(Le){Wt(l,l.return,Le)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=se?"":ve.memoizedProps}catch(Le){Wt(l,l.return,Le)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===l)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===l)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===l)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:yi(h,l),Wi(l),y&4&&qT(l);break;case 21:break;default:yi(h,l),Wi(l)}}function Wi(l){var h=l.flags;if(h&2){try{e:{for(var m=l.return;m!==null;){if(HT(m)){var y=m;break e}m=m.return}throw Error(r(160))}switch(y.tag){case 5:var T=y.stateNode;y.flags&32&&(We(T,""),y.flags&=-33);var C=zT(l);J0(l,C,T);break;case 3:case 4:var R=y.stateNode.containerInfo,z=zT(l);Q0(l,z,R);break;default:throw Error(r(161))}}catch(Y){Wt(l,l.return,Y)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function yB(l,h,m){Pe=l,GT(l)}function GT(l,h,m){for(var y=(l.mode&1)!==0;Pe!==null;){var T=Pe,C=T.child;if(T.tag===22&&y){var R=T.memoizedState!==null||Gh;if(!R){var z=T.alternate,Y=z!==null&&z.memoizedState!==null||Mr;z=Gh;var se=Mr;if(Gh=R,(Mr=Y)&&!se)for(Pe=T;Pe!==null;)R=Pe,Y=R.child,R.tag===22&&R.memoizedState!==null?XT(T):Y!==null?(Y.return=R,Pe=Y):XT(T);for(;C!==null;)Pe=C,GT(C),C=C.sibling;Pe=T,Gh=z,Mr=se}YT(l)}else(T.subtreeFlags&8772)!==0&&C!==null?(C.return=T,Pe=C):YT(l)}}function YT(l){for(;Pe!==null;){var h=Pe;if((h.flags&8772)!==0){var m=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Mr||Yh(5,h);break;case 1:var y=h.stateNode;if(h.flags&4&&!Mr)if(m===null)y.componentDidMount();else{var T=h.elementType===h.type?m.memoizedProps:gi(h.type,m.memoizedProps);y.componentDidUpdate(T,m.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=h.updateQueue;C!==null&&Kk(h,C,y);break;case 3:var R=h.updateQueue;if(R!==null){if(m=null,h.child!==null)switch(h.child.tag){case 5:m=h.child.stateNode;break;case 1:m=h.child.stateNode}Kk(h,R,m)}break;case 5:var z=h.stateNode;if(m===null&&h.flags&4){m=z;var Y=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&m.focus();break;case"img":Y.src&&(m.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var se=h.alternate;if(se!==null){var ge=se.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&Lu(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mr||h.flags&512&&X0(h)}catch(pe){Wt(h,h.return,pe)}}if(h===l){Pe=null;break}if(m=h.sibling,m!==null){m.return=h.return,Pe=m;break}Pe=h.return}}function KT(l){for(;Pe!==null;){var h=Pe;if(h===l){Pe=null;break}var m=h.sibling;if(m!==null){m.return=h.return,Pe=m;break}Pe=h.return}}function XT(l){for(;Pe!==null;){var h=Pe;try{switch(h.tag){case 0:case 11:case 15:var m=h.return;try{Yh(4,h)}catch(Y){Wt(h,m,Y)}break;case 1:var y=h.stateNode;if(typeof y.componentDidMount=="function"){var T=h.return;try{y.componentDidMount()}catch(Y){Wt(h,T,Y)}}var C=h.return;try{X0(h)}catch(Y){Wt(h,C,Y)}break;case 5:var R=h.return;try{X0(h)}catch(Y){Wt(h,R,Y)}}}catch(Y){Wt(h,h.return,Y)}if(h===l){Pe=null;break}var z=h.sibling;if(z!==null){z.return=h.return,Pe=z;break}Pe=h.return}}var bB=Math.ceil,Kh=O.ReactCurrentDispatcher,Z0=O.ReactCurrentOwner,Yn=O.ReactCurrentBatchConfig,ct=0,gr=null,Xt=null,Sr=0,An=0,ul=Js(0),nr=0,sc=null,Ya=0,Xh=0,ev=0,ac=null,un=null,tv=0,cl=1/0,fs=null,Qh=!1,rv=null,ia=null,Jh=!1,sa=null,Zh=0,oc=0,nv=null,ef=-1,tf=0;function Kr(){return(ct&6)!==0?qt():ef!==-1?ef:ef=qt()}function aa(l){return(l.mode&1)===0?1:(ct&2)!==0&&Sr!==0?Sr&-Sr:rB.transition!==null?(tf===0&&(tf=zE()),tf):(l=mt,l!==0||(l=window.event,l=l===void 0?16:JE(l.type)),l)}function bi(l,h,m,y){if(50<oc)throw oc=0,nv=null,Error(r(185));Ou(l,m,y),((ct&2)===0||l!==gr)&&(l===gr&&((ct&2)===0&&(Xh|=m),nr===4&&oa(l,Sr)),cn(l,y),m===1&&ct===0&&(h.mode&1)===0&&(cl=qt()+500,Nh&&ea()))}function cn(l,h){var m=l.callbackNode;r8(l,h);var y=ch(l,l===gr?Sr:0);if(y===0)m!==null&&$E(m),l.callbackNode=null,l.callbackPriority=0;else if(h=y&-y,l.callbackPriority!==h){if(m!=null&&$E(m),h===1)l.tag===0?tB(JT.bind(null,l)):Mk(JT.bind(null,l)),Q8(function(){(ct&6)===0&&ea()}),m=null;else{switch(WE(y)){case 1:m=Lg;break;case 4:m=UE;break;case 16:m=ah;break;case 536870912:m=HE;break;default:m=ah}m=aS(m,QT.bind(null,l))}l.callbackPriority=h,l.callbackNode=m}}function QT(l,h){if(ef=-1,tf=0,(ct&6)!==0)throw Error(r(327));var m=l.callbackNode;if(dl()&&l.callbackNode!==m)return null;var y=ch(l,l===gr?Sr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||h)h=rf(l,y);else{h=y;var T=ct;ct|=2;var C=eS();(gr!==l||Sr!==h)&&(fs=null,cl=qt()+500,Xa(l,h));do try{wB();break}catch(z){ZT(l,z)}while(!0);x0(),Kh.current=C,ct=T,Xt!==null?h=0:(gr=null,Sr=0,h=nr)}if(h!==0){if(h===2&&(T=Mg(l),T!==0&&(y=T,h=iv(l,T))),h===1)throw m=sc,Xa(l,0),oa(l,y),cn(l,qt()),m;if(h===6)oa(l,y);else{if(T=l.current.alternate,(y&30)===0&&!_B(T)&&(h=rf(l,y),h===2&&(C=Mg(l),C!==0&&(y=C,h=iv(l,C))),h===1))throw m=sc,Xa(l,0),oa(l,y),cn(l,qt()),m;switch(l.finishedWork=T,l.finishedLanes=y,h){case 0:case 1:throw Error(r(345));case 2:Qa(l,un,fs);break;case 3:if(oa(l,y),(y&130023424)===y&&(h=tv+500-qt(),10<h)){if(ch(l,0)!==0)break;if(T=l.suspendedLanes,(T&y)!==y){Kr(),l.pingedLanes|=l.suspendedLanes&T;break}l.timeoutHandle=c0(Qa.bind(null,l,un,fs),h);break}Qa(l,un,fs);break;case 4:if(oa(l,y),(y&4194240)===y)break;for(h=l.eventTimes,T=-1;0<y;){var R=31-fi(y);C=1<<R,R=h[R],R>T&&(T=R),y&=~C}if(y=T,y=qt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*bB(y/1960))-y,10<y){l.timeoutHandle=c0(Qa.bind(null,l,un,fs),y);break}Qa(l,un,fs);break;case 5:Qa(l,un,fs);break;default:throw Error(r(329))}}}return cn(l,qt()),l.callbackNode===m?QT.bind(null,l):null}function iv(l,h){var m=ac;return l.current.memoizedState.isDehydrated&&(Xa(l,h).flags|=256),l=rf(l,h),l!==2&&(h=un,un=m,h!==null&&sv(h)),l}function sv(l){un===null?un=l:un.push.apply(un,l)}function _B(l){for(var h=l;;){if(h.flags&16384){var m=h.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var y=0;y<m.length;y++){var T=m[y],C=T.getSnapshot;T=T.value;try{if(!pi(C(),T))return!1}catch{return!1}}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function oa(l,h){for(h&=~ev,h&=~Xh,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var m=31-fi(h),y=1<<m;l[m]=-1,h&=~y}}function JT(l){if((ct&6)!==0)throw Error(r(327));dl();var h=ch(l,0);if((h&1)===0)return cn(l,qt()),null;var m=rf(l,h);if(l.tag!==0&&m===2){var y=Mg(l);y!==0&&(h=y,m=iv(l,y))}if(m===1)throw m=sc,Xa(l,0),oa(l,h),cn(l,qt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,Qa(l,un,fs),cn(l,qt()),null}function av(l,h){var m=ct;ct|=1;try{return l(h)}finally{ct=m,ct===0&&(cl=qt()+500,Nh&&ea())}}function Ka(l){sa!==null&&sa.tag===0&&(ct&6)===0&&dl();var h=ct;ct|=1;var m=Yn.transition,y=mt;try{if(Yn.transition=null,mt=1,l)return l()}finally{mt=y,Yn.transition=m,ct=h,(ct&6)===0&&ea()}}function ov(){An=ul.current,jt(ul)}function Xa(l,h){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,X8(m)),Xt!==null)for(m=Xt.return;m!==null;){var y=m;switch(g0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Ch();break;case 3:al(),jt(an),jt(Rr),N0();break;case 5:C0(y);break;case 4:al();break;case 13:jt($t);break;case 19:jt($t);break;case 10:w0(y.type._context);break;case 22:case 23:ov()}m=m.return}if(gr=l,Xt=l=la(l.current,null),Sr=An=h,nr=0,sc=null,ev=Xh=Ya=0,un=ac=null,qa!==null){for(h=0;h<qa.length;h++)if(m=qa[h],y=m.interleaved,y!==null){m.interleaved=null;var T=y.next,C=m.pending;if(C!==null){var R=C.next;C.next=T,y.next=R}m.pending=y}qa=null}return l}function ZT(l,h){do{var m=Xt;try{if(x0(),Fh.current=zh,$h){for(var y=Ut.memoizedState;y!==null;){var T=y.queue;T!==null&&(T.pending=null),y=y.next}$h=!1}if(Ga=0,mr=rr=Ut=null,Zu=!1,ec=0,Z0.current=null,m===null||m.return===null){nr=1,sc=h,Xt=null;break}e:{var C=l,R=m.return,z=m,Y=h;if(h=Sr,z.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var se=Y,ge=z,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var je=kT(R);if(je!==null){je.flags&=-257,TT(je,R,z,C,h),je.mode&1&&ET(C,se,h),h=je,Y=se;var De=h.updateQueue;if(De===null){var Le=new Set;Le.add(Y),h.updateQueue=Le}else De.add(Y);break e}else{if((h&1)===0){ET(C,se,h),lv();break e}Y=Error(r(426))}}else if(Rt&&z.mode&1){var Vt=kT(R);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),TT(Vt,R,z,C,h),b0(ol(Y,z));break e}}C=Y=ol(Y,z),nr!==4&&(nr=2),ac===null?ac=[C]:ac.push(C),C=R;do{switch(C.tag){case 3:C.flags|=65536,h&=-h,C.lanes|=h;var Z=xT(C,Y,h);Yk(C,Z);break e;case 1:z=Y;var X=C.type,re=C.stateNode;if((C.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(ia===null||!ia.has(re)))){C.flags|=65536,h&=-h,C.lanes|=h;var xe=wT(C,z,h);Yk(C,xe);break e}}C=C.return}while(C!==null)}rS(m)}catch(Me){h=Me,Xt===m&&m!==null&&(Xt=m=m.return);continue}break}while(!0)}function eS(){var l=Kh.current;return Kh.current=zh,l===null?zh:l}function lv(){(nr===0||nr===3||nr===2)&&(nr=4),gr===null||(Ya&268435455)===0&&(Xh&268435455)===0||oa(gr,Sr)}function rf(l,h){var m=ct;ct|=2;var y=eS();(gr!==l||Sr!==h)&&(fs=null,Xa(l,h));do try{xB();break}catch(T){ZT(l,T)}while(!0);if(x0(),ct=m,Kh.current=y,Xt!==null)throw Error(r(261));return gr=null,Sr=0,nr}function xB(){for(;Xt!==null;)tS(Xt)}function wB(){for(;Xt!==null&&!G5();)tS(Xt)}function tS(l){var h=sS(l.alternate,l,An);l.memoizedProps=l.pendingProps,h===null?rS(l):Xt=h,Z0.current=null}function rS(l){var h=l;do{var m=h.alternate;if(l=h.return,(h.flags&32768)===0){if(m=pB(m,h,An),m!==null){Xt=m;return}}else{if(m=mB(m,h),m!==null){m.flags&=32767,Xt=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{nr=6,Xt=null;return}}if(h=h.sibling,h!==null){Xt=h;return}Xt=h=l}while(h!==null);nr===0&&(nr=5)}function Qa(l,h,m){var y=mt,T=Yn.transition;try{Yn.transition=null,mt=1,EB(l,h,m,y)}finally{Yn.transition=T,mt=y}return null}function EB(l,h,m,y){do dl();while(sa!==null);if((ct&6)!==0)throw Error(r(327));m=l.finishedWork;var T=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var C=m.lanes|m.childLanes;if(n8(l,C),l===gr&&(Xt=gr=null,Sr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Jh||(Jh=!0,aS(ah,function(){return dl(),null})),C=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||C){C=Yn.transition,Yn.transition=null;var R=mt;mt=1;var z=ct;ct|=4,Z0.current=null,vB(l,m),VT(m,l),z8(l0),fh=!!o0,l0=o0=null,l.current=m,yB(m),Y5(),ct=z,mt=R,Yn.transition=C}else l.current=m;if(Jh&&(Jh=!1,sa=l,Zh=T),C=l.pendingLanes,C===0&&(ia=null),Q5(m.stateNode),cn(l,qt()),h!==null)for(y=l.onRecoverableError,m=0;m<h.length;m++)T=h[m],y(T.value,{componentStack:T.stack,digest:T.digest});if(Qh)throw Qh=!1,l=rv,rv=null,l;return(Zh&1)!==0&&l.tag!==0&&dl(),C=l.pendingLanes,(C&1)!==0?l===nv?oc++:(oc=0,nv=l):oc=0,ea(),null}function dl(){if(sa!==null){var l=WE(Zh),h=Yn.transition,m=mt;try{if(Yn.transition=null,mt=16>l?16:l,sa===null)var y=!1;else{if(l=sa,sa=null,Zh=0,(ct&6)!==0)throw Error(r(331));var T=ct;for(ct|=4,Pe=l.current;Pe!==null;){var C=Pe,R=C.child;if((Pe.flags&16)!==0){var z=C.deletions;if(z!==null){for(var Y=0;Y<z.length;Y++){var se=z[Y];for(Pe=se;Pe!==null;){var ge=Pe;switch(ge.tag){case 0:case 11:case 15:ic(8,ge,C)}var ve=ge.child;if(ve!==null)ve.return=ge,Pe=ve;else for(;Pe!==null;){ge=Pe;var pe=ge.sibling,je=ge.return;if(UT(ge),ge===se){Pe=null;break}if(pe!==null){pe.return=je,Pe=pe;break}Pe=je}}}var De=C.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var Vt=Le.sibling;Le.sibling=null,Le=Vt}while(Le!==null)}}Pe=C}}if((C.subtreeFlags&2064)!==0&&R!==null)R.return=C,Pe=R;else e:for(;Pe!==null;){if(C=Pe,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:ic(9,C,C.return)}var Z=C.sibling;if(Z!==null){Z.return=C.return,Pe=Z;break e}Pe=C.return}}var X=l.current;for(Pe=X;Pe!==null;){R=Pe;var re=R.child;if((R.subtreeFlags&2064)!==0&&re!==null)re.return=R,Pe=re;else e:for(R=X;Pe!==null;){if(z=Pe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Yh(9,z)}}catch(Me){Wt(z,z.return,Me)}if(z===R){Pe=null;break e}var xe=z.sibling;if(xe!==null){xe.return=z.return,Pe=xe;break e}Pe=z.return}}if(ct=T,ea(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(oh,l)}catch{}y=!0}return y}finally{mt=m,Yn.transition=h}}return!1}function nS(l,h,m){h=ol(m,h),h=xT(l,h,1),l=ra(l,h,1),h=Kr(),l!==null&&(Ou(l,1,h),cn(l,h))}function Wt(l,h,m){if(l.tag===3)nS(l,l,m);else for(;h!==null;){if(h.tag===3){nS(h,l,m);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ia===null||!ia.has(y))){l=ol(m,l),l=wT(h,l,1),h=ra(h,l,1),l=Kr(),h!==null&&(Ou(h,1,l),cn(h,l));break}}h=h.return}}function kB(l,h,m){var y=l.pingCache;y!==null&&y.delete(h),h=Kr(),l.pingedLanes|=l.suspendedLanes&m,gr===l&&(Sr&m)===m&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>qt()-tv?Xa(l,0):ev|=m),cn(l,h)}function iS(l,h){h===0&&((l.mode&1)===0?h=1:(h=uh,uh<<=1,(uh&130023424)===0&&(uh=4194304)));var m=Kr();l=cs(l,h),l!==null&&(Ou(l,h,m),cn(l,m))}function TB(l){var h=l.memoizedState,m=0;h!==null&&(m=h.retryLane),iS(l,m)}function SB(l,h){var m=0;switch(l.tag){case 13:var y=l.stateNode,T=l.memoizedState;T!==null&&(m=T.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(h),iS(l,m)}var sS;sS=function(l,h,m){if(l!==null)if(l.memoizedProps!==h.pendingProps||an.current)ln=!0;else{if((l.lanes&m)===0&&(h.flags&128)===0)return ln=!1,fB(l,h,m);ln=(l.flags&131072)!==0}else ln=!1,Rt&&(h.flags&1048576)!==0&&Bk(h,Oh,h.index);switch(h.lanes=0,h.tag){case 2:var y=h.type;Vh(l,h),l=h.pendingProps;var T=Zo(h,Rr.current);sl(h,m),T=P0(null,h,y,l,T,m);var C=I0();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,on(y)?(C=!0,Ah(h)):C=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T0(h),T.updater=Wh,h.stateNode=T,T._reactInternals=h,F0(h,y,l,m),h=z0(null,h,y,!0,C,m)):(h.tag=0,Rt&&C&&m0(h),Yr(null,h,T,m),h=h.child),h;case 16:y=h.elementType;e:{switch(Vh(l,h),l=h.pendingProps,T=y._init,y=T(y._payload),h.type=y,T=h.tag=AB(y),l=gi(y,l),T){case 0:h=H0(null,h,y,l,m);break e;case 1:h=OT(null,h,y,l,m);break e;case 11:h=ST(null,h,y,l,m);break e;case 14:h=CT(null,h,y,gi(y.type,l),m);break e}throw Error(r(306,y,""))}return h;case 0:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),H0(l,h,y,T,m);case 1:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),OT(l,h,y,T,m);case 3:e:{if(PT(h),l===null)throw Error(r(387));y=h.pendingProps,C=h.memoizedState,T=C.element,Gk(l,h),Mh(h,y,null,m);var R=h.memoizedState;if(y=R.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){T=ol(Error(r(423)),h),h=IT(l,h,y,m,T);break e}else if(y!==T){T=ol(Error(r(424)),h),h=IT(l,h,y,m,T);break e}else for(Cn=Qs(h.stateNode.containerInfo.firstChild),Sn=h,Rt=!0,mi=null,m=qk(h,null,y,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(rl(),y===T){h=hs(l,h,m);break e}Yr(l,h,y,m)}h=h.child}return h;case 5:return Xk(h),l===null&&y0(h),y=h.type,T=h.pendingProps,C=l!==null?l.memoizedProps:null,R=T.children,u0(y,T)?R=null:C!==null&&u0(y,C)&&(h.flags|=32),jT(l,h),Yr(l,h,R,m),h.child;case 6:return l===null&&y0(h),null;case 13:return RT(l,h,m);case 4:return S0(h,h.stateNode.containerInfo),y=h.pendingProps,l===null?h.child=nl(h,null,y,m):Yr(l,h,y,m),h.child;case 11:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),ST(l,h,y,T,m);case 7:return Yr(l,h,h.pendingProps,m),h.child;case 8:return Yr(l,h,h.pendingProps.children,m),h.child;case 12:return Yr(l,h,h.pendingProps.children,m),h.child;case 10:e:{if(y=h.type._context,T=h.pendingProps,C=h.memoizedProps,R=T.value,kt(Rh,y._currentValue),y._currentValue=R,C!==null)if(pi(C.value,R)){if(C.children===T.children&&!an.current){h=hs(l,h,m);break e}}else for(C=h.child,C!==null&&(C.return=h);C!==null;){var z=C.dependencies;if(z!==null){R=C.child;for(var Y=z.firstContext;Y!==null;){if(Y.context===y){if(C.tag===1){Y=ds(-1,m&-m),Y.tag=2;var se=C.updateQueue;if(se!==null){se=se.shared;var ge=se.pending;ge===null?Y.next=Y:(Y.next=ge.next,ge.next=Y),se.pending=Y}}C.lanes|=m,Y=C.alternate,Y!==null&&(Y.lanes|=m),E0(C.return,m,h),z.lanes|=m;break}Y=Y.next}}else if(C.tag===10)R=C.type===h.type?null:C.child;else if(C.tag===18){if(R=C.return,R===null)throw Error(r(341));R.lanes|=m,z=R.alternate,z!==null&&(z.lanes|=m),E0(R,m,h),R=C.sibling}else R=C.child;if(R!==null)R.return=C;else for(R=C;R!==null;){if(R===h){R=null;break}if(C=R.sibling,C!==null){C.return=R.return,R=C;break}R=R.return}C=R}Yr(l,h,T.children,m),h=h.child}return h;case 9:return T=h.type,y=h.pendingProps.children,sl(h,m),T=Vn(T),y=y(T),h.flags|=1,Yr(l,h,y,m),h.child;case 14:return y=h.type,T=gi(y,h.pendingProps),T=gi(y.type,T),CT(l,h,y,T,m);case 15:return AT(l,h,h.type,h.pendingProps,m);case 17:return y=h.type,T=h.pendingProps,T=h.elementType===y?T:gi(y,T),Vh(l,h),h.tag=1,on(y)?(l=!0,Ah(h)):l=!1,sl(h,m),bT(h,y,T),F0(h,y,T,m),z0(null,h,y,!0,l,m);case 19:return LT(l,h,m);case 22:return NT(l,h,m)}throw Error(r(156,h.tag))};function aS(l,h){return FE(l,h)}function CB(l,h,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(l,h,m,y){return new CB(l,h,m,y)}function uv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function AB(l){if(typeof l=="function")return uv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===H)return 11;if(l===K)return 14}return 2}function la(l,h){var m=l.alternate;return m===null?(m=Kn(l.tag,h,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=h,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,h=l.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function nf(l,h,m,y,T,C){var R=2;if(y=l,typeof l=="function")uv(l)&&(R=1);else if(typeof l=="string")R=5;else e:switch(l){case P:return Ja(m.children,T,C,h);case D:R=8,T|=8;break;case $:return l=Kn(12,m,h,T|2),l.elementType=$,l.lanes=C,l;case q:return l=Kn(13,m,h,T),l.elementType=q,l.lanes=C,l;case G:return l=Kn(19,m,h,T),l.elementType=G,l.lanes=C,l;case ae:return sf(m,T,C,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case I:R=10;break e;case M:R=9;break e;case H:R=11;break e;case K:R=14;break e;case J:R=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return h=Kn(R,m,h,T),h.elementType=l,h.type=y,h.lanes=C,h}function Ja(l,h,m,y){return l=Kn(7,l,y,h),l.lanes=m,l}function sf(l,h,m,y){return l=Kn(22,l,y,h),l.elementType=ae,l.lanes=m,l.stateNode={isHidden:!1},l}function cv(l,h,m){return l=Kn(6,l,null,h),l.lanes=m,l}function dv(l,h,m){return h=Kn(4,l.children!==null?l.children:[],l.key,h),h.lanes=m,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function NB(l,h,m,y,T){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bg(0),this.expirationTimes=Bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bg(0),this.identifierPrefix=y,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function hv(l,h,m,y,T,C,R,z,Y){return l=new NB(l,h,m,z,Y),h===1?(h=1,C===!0&&(h|=8)):h=0,C=Kn(3,null,null,h),l.current=C,C.stateNode=l,C.memoizedState={element:y,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(C),l}function jB(l,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:y==null?null:""+y,children:l,containerInfo:h,implementation:m}}function oS(l){if(!l)return Zs;l=l._reactInternals;e:{if($a(l)!==l||l.tag!==1)throw Error(r(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(on(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(on(m))return Dk(l,m,h)}return h}function lS(l,h,m,y,T,C,R,z,Y){return l=hv(m,y,!0,l,T,C,R,z,Y),l.context=oS(null),m=l.current,y=Kr(),T=aa(m),C=ds(y,T),C.callback=h??null,ra(m,C,T),l.current.lanes=T,Ou(l,T,y),cn(l,y),l}function af(l,h,m,y){var T=h.current,C=Kr(),R=aa(T);return m=oS(m),h.context===null?h.context=m:h.pendingContext=m,h=ds(C,R),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=ra(T,h,R),l!==null&&(bi(l,T,R,C),Lh(l,T,R)),R}function of(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function uS(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<h?m:h}}function fv(l,h){uS(l,h),(l=l.alternate)&&uS(l,h)}function OB(){return null}var cS=typeof reportError=="function"?reportError:function(l){console.error(l)};function pv(l){this._internalRoot=l}lf.prototype.render=pv.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(r(409));af(l,h,null,null)},lf.prototype.unmount=pv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;Ka(function(){af(null,l,null,null)}),h[as]=null}};function lf(l){this._internalRoot=l}lf.prototype.unstable_scheduleHydration=function(l){if(l){var h=GE();l={blockedOn:null,target:l,priority:h};for(var m=0;m<Ys.length&&h!==0&&h<Ys[m].priority;m++);Ys.splice(m,0,l),m===0&&XE(l)}};function mv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function uf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function dS(){}function PB(l,h,m,y,T){if(T){if(typeof y=="function"){var C=y;y=function(){var se=of(R);C.call(se)}}var R=lS(h,y,l,0,null,!1,!1,"",dS);return l._reactRootContainer=R,l[as]=R.current,qu(l.nodeType===8?l.parentNode:l),Ka(),R}for(;T=l.lastChild;)l.removeChild(T);if(typeof y=="function"){var z=y;y=function(){var se=of(Y);z.call(se)}}var Y=hv(l,0,!1,null,null,!1,!1,"",dS);return l._reactRootContainer=Y,l[as]=Y.current,qu(l.nodeType===8?l.parentNode:l),Ka(function(){af(h,Y,m,y)}),Y}function cf(l,h,m,y,T){var C=m._reactRootContainer;if(C){var R=C;if(typeof T=="function"){var z=T;T=function(){var Y=of(R);z.call(Y)}}af(h,R,l,T)}else R=PB(m,h,l,T,y);return of(R)}qE=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var m=ju(h.pendingLanes);m!==0&&(Fg(h,m|1),cn(h,qt()),(ct&6)===0&&(cl=qt()+500,ea()))}break;case 13:Ka(function(){var y=cs(l,1);if(y!==null){var T=Kr();bi(y,l,1,T)}}),fv(l,1)}},$g=function(l){if(l.tag===13){var h=cs(l,134217728);if(h!==null){var m=Kr();bi(h,l,134217728,m)}fv(l,134217728)}},VE=function(l){if(l.tag===13){var h=aa(l),m=cs(l,h);if(m!==null){var y=Kr();bi(m,l,h,y)}fv(l,h)}},GE=function(){return mt},YE=function(l,h){var m=mt;try{return mt=l,h()}finally{mt=m}},Pg=function(l,h,m){switch(h){case"input":if(Bt(l,m),h=m.name,m.type==="radio"&&h!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<m.length;h++){var y=m[h];if(y!==l&&y.form===l.form){var T=Sh(y);if(!T)throw Error(r(90));he(y),Bt(y,T)}}}break;case"textarea":$o(l,m);break;case"select":h=m.value,h!=null&&Bi(l,!!m.multiple,h,!1)}},PE=av,IE=Ka;var IB={usingClientEntryPoint:!1,Events:[Yu,Qo,Sh,jE,OE,av]},lc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RB={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ME(l),l===null?null:l.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||OB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{oh=df.inject(RB),$i=df}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IB,dn.createPortal=function(l,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(h))throw Error(r(200));return jB(l,h,null,m)},dn.createRoot=function(l,h){if(!mv(l))throw Error(r(299));var m=!1,y="",T=cS;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=hv(l,1,!1,null,null,m,!1,y,T),l[as]=h.current,qu(l.nodeType===8?l.parentNode:l),new pv(h)},dn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ME(h),l=l===null?null:l.stateNode,l},dn.flushSync=function(l){return Ka(l)},dn.hydrate=function(l,h,m){if(!uf(h))throw Error(r(200));return cf(null,l,h,!0,m)},dn.hydrateRoot=function(l,h,m){if(!mv(l))throw Error(r(405));var y=m!=null&&m.hydratedSources||null,T=!1,C="",R=cS;if(m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onRecoverableError!==void 0&&(R=m.onRecoverableError)),h=lS(h,null,l,1,m??null,T,!1,C,R),l[as]=h.current,qu(l),y)for(l=0;l<y.length;l++)m=y[l],T=m._getVersion,T=T(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,T]:h.mutableSourceEagerHydrationData.push(m,T);return new lf(h)},dn.render=function(l,h,m){if(!uf(h))throw Error(r(200));return cf(null,l,h,!1,m)},dn.unmountComponentAtNode=function(l){if(!uf(l))throw Error(r(40));return l._reactRootContainer?(Ka(function(){cf(null,null,l,!1,function(){l._reactRootContainer=null,l[as]=null})}),!0):!1},dn.unstable_batchedUpdates=av,dn.unstable_renderSubtreeIntoContainer=function(l,h,m,y){if(!uf(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return cf(l,h,m,!1,y)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var bS;function bP(){if(bS)return bv.exports;bS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bv.exports=qB(),bv.exports}var _S;function VB(){if(_S)return hf;_S=1;var e=bP();return hf.createRoot=e.createRoot,hf.hydrateRoot=e.hydrateRoot,hf}var GB=VB();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xS="popstate";function YB(e={}){function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return Qb("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ad(i)}return XB(t,r,null,e)}function Mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KB(){return Math.random().toString(36).substring(2,10)}function wS(e,t){return{usr:e.state,key:e.key,idx:t}}function Qb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?nu(t):t,state:r,key:t&&t.key||n||KB()}}function ad({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function XB(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",c=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let _=f(),w=_==null?null:_-d;d=_,c&&c({action:o,location:x.location,delta:w})}function v(_,w){o="PUSH";let A=Qb(x.location,_,w);d=f()+1;let S=wS(A,d),O=x.createHref(A);try{a.pushState(S,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}s&&c&&c({action:o,location:x.location,delta:1})}function g(_,w){o="REPLACE";let A=Qb(x.location,_,w);d=f();let S=wS(A,d),O=x.createHref(A);a.replaceState(S,"",O),s&&c&&c({action:o,location:x.location,delta:0})}function b(_){return QB(_)}let x={get action(){return o},get location(){return e(i,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xS,p),c=_,()=>{i.removeEventListener(xS,p),c=null}},createHref(_){return t(i,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:g,go(_){return a.go(_)}};return x}function QB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ad(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _P(e,t,r="/"){return JB(e,t,r,!1)}function JB(e,t,r,n){let i=typeof t=="string"?nu(t):t,s=As(i.pathname||"/",r);if(s==null)return null;let a=xP(e);ZB(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=cF(s);o=lF(a[c],d,n)}return o}function xP(e,t=[],r=[],n="",i=!1){let s=(a,o,c=i,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;Mt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Ts([n,f.relativePath]),v=r.concat(f);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xP(a.children,t,v,p,c)),!(a.path==null&&!a.index)&&t.push({path:p,score:aF(p,a.index),routesMeta:v})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,o);else for(let d of wP(a.path))s(a,o,!0,d)}),t}function wP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=wP(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eF=/^:[\w-]+$/,tF=3,rF=2,nF=1,iF=10,sF=-2,ES=e=>e==="*";function aF(e,t){let r=e.split("/"),n=r.length;return r.some(ES)&&(n+=sF),t&&(n+=rF),r.filter(i=>!ES(i)).reduce((i,s)=>i+(eF.test(s)?tF:s===""?nF:iF),n)}function oF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function lF(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=fp({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),v=c.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=fp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Ts([s,p.pathname]),pathnameBase:pF(Ts([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=Ts([s,p.pathnameBase]))}return a}function fp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uF(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:p},v)=>{if(f==="*"){let b=o[v]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[v];return p&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function uF(e,t=!1,r=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function cF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function As(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dF(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?nu(e):e;return{pathname:r?r.startsWith("/")?r:hF(r,t):t,search:mF(n),hash:gF(i)}}function hF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Z_(e){let t=fF(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ex(e,t,r,n=!1){let i;typeof e=="string"?i=nu(e):(i={...e},Mt(!i.pathname||!i.pathname.includes("?"),wv("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),wv("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),wv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?t[p]:"/"}let c=dF(i,o),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),pF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EP=["POST","PUT","PATCH","DELETE"];new Set(EP);var yF=["GET",...EP];new Set(yF);var iu=E.createContext(null);iu.displayName="DataRouter";var Om=E.createContext(null);Om.displayName="DataRouterState";E.createContext(!1);var kP=E.createContext({isTransitioning:!1});kP.displayName="ViewTransition";var bF=E.createContext(new Map);bF.displayName="Fetchers";var _F=E.createContext(null);_F.displayName="Await";var Ii=E.createContext(null);Ii.displayName="Navigation";var jd=E.createContext(null);jd.displayName="Location";var Ri=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var tx=E.createContext(null);tx.displayName="RouteError";function xF(e,{relative:t}={}){Mt(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(Ii),{hash:i,pathname:s,search:a}=Od(e,{relative:t}),o=s;return r!=="/"&&(o=s==="/"?r:Ts([r,s])),n.createHref({pathname:o,search:a,hash:i})}function su(){return E.useContext(jd)!=null}function ci(){return Mt(su(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(jd).location}var TP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SP(e){E.useContext(Ii).static||E.useLayoutEffect(e)}function ft(){let{isDataRoute:e}=E.useContext(Ri);return e?RF():wF()}function wF(){Mt(su(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(iu),{basename:t,navigator:r}=E.useContext(Ii),{matches:n}=E.useContext(Ri),{pathname:i}=ci(),s=JSON.stringify(Z_(n)),a=E.useRef(!1);return SP(()=>{a.current=!0}),E.useCallback((c,d={})=>{if(Oi(a.current,TP),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=ex(c,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ts([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,s,i,e])}E.createContext(null);function CP(){let{matches:e}=E.useContext(Ri),t=e[e.length-1];return t?t.params:{}}function Od(e,{relative:t}={}){let{matches:r}=E.useContext(Ri),{pathname:n}=ci(),i=JSON.stringify(Z_(r));return E.useMemo(()=>ex(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function EF(e,t){return AP(e,t)}function AP(e,t,r,n,i){var A;Mt(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(Ii),{matches:a}=E.useContext(Ri),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let S=p&&p.path||"";NP(d,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=ci(),g;if(t){let S=typeof t=="string"?nu(t):t;Mt(f==="/"||((A=S.pathname)==null?void 0:A.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=v;let b=g.pathname||"/",x=b;if(f!=="/"){let S=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=_P(e,{pathname:x});Oi(p||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Oi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=AF(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ts([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ts([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,r,n,i);return t&&w?E.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function kF(){let e=IF(),t=vF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:i},r):null,a)}var TF=E.createElement(kF,null),SF=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(Ri.Provider,{value:this.props.routeContext},E.createElement(tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CF({routeContext:e,match:t,children:r}){let n=E.useContext(iu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Ri.Provider,{value:e},r)}function AF(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=r==null?void 0:r.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Mt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:v}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let v,g=!1,b=null,x=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||TF,o&&(c<0&&p===0?(NP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,p+1)),w=()=>{let A;return v?A=b:g?A=x:f.route.Component?A=E.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,E.createElement(CF,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?E.createElement(SF,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):w()},null)}function rx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NF(e){let t=E.useContext(iu);return Mt(t,rx(e)),t}function jF(e){let t=E.useContext(Om);return Mt(t,rx(e)),t}function OF(e){let t=E.useContext(Ri);return Mt(t,rx(e)),t}function nx(e){let t=OF(e),r=t.matches[t.matches.length-1];return Mt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function PF(){return nx("useRouteId")}function IF(){var n;let e=E.useContext(tx),t=jF("useRouteError"),r=nx("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function RF(){let{router:e}=NF("useNavigate"),t=nx("useNavigate"),r=E.useRef(!1);return SP(()=>{r.current=!0}),E.useCallback(async(i,s={})=>{Oi(r.current,TP),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var kS={};function NP(e,t,r){!t&&!kS[e]&&(kS[e]=!0,Oi(!1,r))}E.memo(DF);function DF({routes:e,future:t,state:r,unstable_onError:n}){return AP(e,void 0,r,n,t)}function _i({to:e,replace:t,state:r,relative:n}){Mt(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Ii);Oi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(Ri),{pathname:a}=ci(),o=ft(),c=ex(e,Z_(s),a,n==="path"),d=JSON.stringify(c);return E.useEffect(()=>{o(JSON.parse(d),{replace:t,state:r,relative:n})},[o,d,n,t,r]),null}function ot(e){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LF({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Mt(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=nu(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,g=E.useMemo(()=>{let b=As(c,a);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:v},navigationType:n}},[a,c,d,f,p,v,n]);return Oi(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:E.createElement(Ii.Provider,{value:o},E.createElement(jd.Provider,{children:t,value:g}))}function TS({children:e,location:t}){return EF(Jb(e),t)}function Jb(e,t=[]){let r=[];return E.Children.forEach(e,(n,i)=>{if(!E.isValidElement(n))return;let s=[...t,i];if(n.type===E.Fragment){r.push.apply(r,Jb(n.props.children,s));return}Mt(n.type===ot,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Jb(n.props.children,s)),r.push(a)}),r}var tp="get",rp="application/x-www-form-urlencoded";function Pm(e){return e!=null&&typeof e.tagName=="string"}function MF(e){return Pm(e)&&e.tagName.toLowerCase()==="button"}function BF(e){return Pm(e)&&e.tagName.toLowerCase()==="form"}function FF(e){return Pm(e)&&e.tagName.toLowerCase()==="input"}function $F(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UF(e,t){return e.button===0&&(!t||t==="_self")&&!$F(e)}var ff=null;function HF(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var zF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ev(e){return e!=null&&!zF.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rp}"`),null):e}function WF(e,t){let r,n,i,s,a;if(BF(e)){let o=e.getAttribute("action");n=o?As(o,t):null,r=e.getAttribute("method")||tp,i=Ev(e.getAttribute("enctype"))||rp,s=new FormData(e)}else if(MF(e)||FF(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?As(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||tp,i=Ev(e.getAttribute("formenctype"))||Ev(o.getAttribute("enctype"))||rp,s=new FormData(o,e),!HF()){let{name:d,type:f,value:p}=e;if(f==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,p)}}else{if(Pm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tp,n=null,i=rp,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ix(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qF(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&As(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function VF(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function YF(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await VF(s,r);return a.links?a.links():[]}return[]}));return JF(n.flat(1).filter(GF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function SS(e,t,r,n,i,s){let a=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,d)=>a(c,d)||o(c,d)):s==="data"?t.filter((c,d)=>{var p;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KF(e,t,{includeHydrateFallback:r}={}){return XF(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function XF(e){return[...new Set(e)]}function QF(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function JF(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(QF(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function jP(){let e=E.useContext(iu);return ix(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZF(){let e=E.useContext(Om);return ix(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sx=E.createContext(void 0);sx.displayName="FrameworkContext";function OP(){let e=E.useContext(sx);return ix(e,"You must render this element inside a <HydratedRouter> element"),e}function e9(e,t){let r=E.useContext(sx),[n,i]=E.useState(!1),[s,a]=E.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,v=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=w=>{w.forEach(A=>{a(A.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),E.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{i(!0)},b=()=>{i(!1),a(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:cc(o,g),onBlur:cc(c,b),onMouseEnter:cc(d,g),onMouseLeave:cc(f,b),onTouchStart:cc(p,g)}]:[!1,v,{}]}function cc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function t9({page:e,...t}){let{router:r}=jP(),n=E.useMemo(()=>_P(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?E.createElement(n9,{page:e,matches:n,...t}):null}function r9(e){let{manifest:t,routeModules:r}=OP(),[n,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return YF(e,t,r).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,r]),n}function n9({page:e,matches:t,...r}){let n=ci(),{manifest:i,routeModules:s}=OP(),{basename:a}=jP(),{loaderData:o,matches:c}=ZF(),d=E.useMemo(()=>SS(e,t,c,i,n,"data"),[e,t,c,i,n]),f=E.useMemo(()=>SS(e,t,c,i,n,"assets"),[e,t,c,i,n]),p=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(t.forEach(w=>{var S;let A=i.routes[w.route.id];!A||!A.hasLoader||(!d.some(O=>O.route.id===w.route.id)&&w.route.id in o&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||A.hasClientLoader?x=!0:b.add(w.route.id))}),b.size===0)return[];let _=qF(e,a,"data");return x&&b.size>0&&_.searchParams.set("_routes",t.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[a,o,n,i,d,t,e,s]),v=E.useMemo(()=>KF(f,i),[f,i]),g=r9(f);return E.createElement(E.Fragment,null,p.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),v.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:x})=>E.createElement("link",{key:b,nonce:r.nonce,...x})))}function i9(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var PP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PP&&(window.__reactRouterVersion="7.9.5")}catch{}function s9({basename:e,children:t,window:r}){let n=E.useRef();n.current==null&&(n.current=YB({window:r,v5Compat:!0}));let i=n.current,[s,a]=E.useState({action:i.action,location:i.location}),o=E.useCallback(c=>{E.startTransition(()=>a(c))},[a]);return E.useLayoutEffect(()=>i.listen(o),[i,o]),E.createElement(LF,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var IP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=E.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:c,to:d,preventScrollReset:f,viewTransition:p,...v},g){let{basename:b}=E.useContext(Ii),x=typeof d=="string"&&IP.test(d),_,w=!1;if(typeof d=="string"&&x&&(_=d,PP))try{let $=new URL(window.location.href),I=d.startsWith("//")?new URL($.protocol+d):new URL(d),M=As(I.pathname,b);I.origin===$.origin&&M!=null?d=M+I.search+I.hash:w=!0}catch{Oi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=xF(d,{relative:i}),[S,O,j]=e9(n,v),N=u9(d,{replace:a,state:o,target:c,preventScrollReset:f,relative:i,viewTransition:p});function P($){t&&t($),$.defaultPrevented||N($)}let D=E.createElement("a",{...v,...j,href:_||A,onClick:w||s?t:P,ref:i9(g,O),target:c,"data-discover":!x&&r==="render"?"true":void 0});return S&&!x?E.createElement(E.Fragment,null,D,E.createElement(t9,{page:A})):D});sr.displayName="Link";var a9=E.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:c,...d},f){let p=Od(a,{relative:d.relative}),v=ci(),g=E.useContext(Om),{navigator:b,basename:x}=E.useContext(Ii),_=g!=null&&p9(p)&&o===!0,w=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,A=v.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(A=A.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=As(S,x)||S);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=A===w||!i&&A.startsWith(w)&&A.charAt(O)==="/",N=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),P={isActive:j,isPending:N,isTransitioning:_},D=j?t:void 0,$;typeof n=="function"?$=n(P):$=[n,j?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(P):s;return E.createElement(sr,{...d,"aria-current":D,className:$,ref:f,style:I,to:a,viewTransition:o},typeof c=="function"?c(P):c)});a9.displayName="NavLink";var o9=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:a=tp,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...v},g)=>{let b=h9(),x=f9(o,{relative:d}),_=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&IP.test(o),A=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,j=(O==null?void 0:O.getAttribute("formmethod"))||a;b(O||S.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return E.createElement("form",{ref:g,method:_,action:x,onSubmit:n?c:A,...v,"data-discover":!w&&e==="render"?"true":void 0})});o9.displayName="Form";function l9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RP(e){let t=E.useContext(iu);return Mt(t,l9(e)),t}function u9(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=ft(),c=ci(),d=Od(e,{relative:s});return E.useCallback(f=>{if(UF(f,t)){f.preventDefault();let p=r!==void 0?r:ad(c)===ad(d);o(e,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[c,o,d,r,n,t,e,i,s,a])}var c9=0,d9=()=>`__${String(++c9)}__`;function h9(){let{router:e}=RP("useSubmit"),{basename:t}=E.useContext(Ii),r=PF();return E.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:c,body:d}=WF(n,t);if(i.navigate===!1){let f=i.fetcherKey||d9();await e.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function f9(e,{relative:t}={}){let{basename:r}=E.useContext(Ii),n=E.useContext(Ri);Mt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Od(e||".",{relative:t})},a=ci();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ts([r,s.pathname])),ad(s)}function p9(e,{relative:t}={}){let r=E.useContext(kP);Mt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=RP("useViewTransitionState"),i=Od(e,{relative:t});if(!r.isTransitioning)return!1;let s=As(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=As(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fp(i.pathname,a)!=null||fp(i.pathname,s)!=null}var DP=bP(),le=typeof window<"u"?window:void 0,jr=typeof globalThis<"u"?globalThis:le;typeof self>"u"&&(jr.self=jr),typeof File>"u"&&(jr.File=function(){});var LP=Array.prototype,CS=LP.forEach,AS=LP.indexOf,Mn=jr==null?void 0:jr.navigator,Ae=jr==null?void 0:jr.document,vn=jr==null?void 0:jr.location,Zb=jr==null?void 0:jr.fetch,e1=jr!=null&&jr.XMLHttpRequest&&"withCredentials"in new jr.XMLHttpRequest?jr.XMLHttpRequest:void 0,NS=jr==null?void 0:jr.AbortController,mn=Mn==null?void 0:Mn.userAgent,et=le??{},ms={DEBUG:!1,LIB_VERSION:"1.302.2"};function jS(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(d){return void r(d)}o.done?t(c):Promise.resolve(c).then(n,i)}function OS(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(c){jS(s,n,i,a,o,"next",c)}function o(c){jS(s,n,i,a,o,"throw",c)}a(void 0)}))}}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(null,arguments)}function MP(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m9=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],PS=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return m9.concat(t).some((n=>{var i=n.toLowerCase();return r.indexOf(i)!==-1}))},g9=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function st(e,t){return e.indexOf(t)!==-1}var Im=function(e){return e.trim()},t1=function(e){return e.replace(/^\$/,"")},v9=Array.isArray,BP=Object.prototype,FP=BP.hasOwnProperty,Rm=BP.toString,xt=v9||function(e){return Rm.call(e)==="[object Array]"},ka=e=>typeof e=="function",_r=e=>e===Object(e)&&!xt(e),Nl=e=>{if(_r(e)){for(var t in e)if(FP.call(e,t))return!1;return!0}return!1},Ce=e=>e===void 0,or=e=>Rm.call(e)=="[object String]",r1=e=>or(e)&&e.trim().length===0,Ls=e=>e===null,_t=e=>Ce(e)||Ls(e),es=e=>Rm.call(e)=="[object Number]",Ta=e=>Rm.call(e)==="[object Boolean]",y9=e=>e instanceof FormData,b9=e=>st(g9,e);function n1(e){return e===null||typeof e!="object"}function pp(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function $P(e){return!Ce(Event)&&(function(t,r){try{return t instanceof r}catch{return!1}})(e,Event)}var _9=[!0,"true",1,"1","yes"],kv=e=>st(_9,e),x9=[!1,"false",0,"0","no"];function Yi(e,t,r,n,i){return t>r&&(n.warn("min cannot be greater than max."),t=r),es(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+i),Yi(i||r,t,r,n))}class w9{constructor(t){this.t={},this.i=t.i,this.o=Yi(t.bucketSize,0,100,t.h),this.m=Yi(t.refillRate,0,this.o,t.h),this.S=Yi(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,i=Math.floor(n/this.S);if(i>0){var s=i*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+i*this.S}}consumeRateLimit(t){var r,n=Date.now(),i=String(t),s=this.t[i];return s?this.$(s,n):(s={tokens:this.o,lastAccess:n},this.t[i]=s),s.tokens===0||(s.tokens--,s.tokens===0&&((r=this.i)==null||r.call(this,t)),s.tokens===0)}stop(){this.t={}}}var pf,IS,Tv,E9=e=>e instanceof Error;function k9(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return Tv&&r.length===IS||(IS=r.length,Tv=r.reduce(((n,i)=>{pf||(pf={});var s=pf[i];if(s)n[s[0]]=s[1];else for(var a=e(i),o=a.length-1;o>=0;o--){var c=a[o],d=c==null?void 0:c.filename,f=t[i];if(d&&f){n[d]=f,pf[i]=[d,f];break}}return n}),{})),Tv}}class T9{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(n,r,0).apply(t),s=this.buildParsingContext(),a=this.parseStacktrace(i,s);return{$exception_list:this.convertToExceptionList(a,n),$exception_level:"error"}}modifyFrames(t){var r=this;return OS((function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&xt(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t}))()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,i;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(i=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),Ie({},t,{cause:n,stack:i})}applyChunkIds(t,r){return t.map((n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n)))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return OS((function*(){var n=t;for(var i of r.modifiers)n=yield i(n);return n}))()}convertToExceptionList(t,r){var n,i,s,a={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(i=r.handled)===null||i===void 0||i,synthetic:(s=t.synthetic)!==null&&s!==void 0&&s}};t.stack&&(a.stacktrace={type:"raw",frames:t.stack});var o=[a];return t.cause!=null&&o.push(...this.convertToExceptionList(t.cause,Ie({},r,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:k9(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var i=(s,a)=>{if(a<=4){var o=this.buildCoercingContext(t,r,a);return this.applyCoercers(s,o)}};return Ie({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:s=>i(s,n),next:s=>i(s,n+1)})}}var Fl="?";function i1(e,t,r,n,i){var s={platform:e,filename:t,function:r==="<anonymous>"?Fl:r,in_app:!0};return Ce(n)||(s.lineno=n),Ce(i)||(s.colno=i),s}var UP=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Fl,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},S9=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,C9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,A9=/\((\S*)(?::(\d+))(?::(\d+))\)/,N9=(e,t)=>{var r=S9.exec(e);if(r){var[,n,i,s]=r;return i1(t,n,Fl,+i,+s)}var a=C9.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){var o=A9.exec(a[2]);o&&(a[2]=o[1],a[3]=o[2],a[4]=o[3])}var[c,d]=UP(a[1]||Fl,a[2]);return i1(t,d,c,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},j9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,O9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,P9=(e,t)=>{var r=j9.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=O9.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var i=r[3],s=r[1]||Fl;return[s,i]=UP(s,i),i1(t,i,s,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},RS=/\(error: (.*)\)/,DS=50;function I9(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(i,s){s===void 0&&(s=0);for(var a=[],o=i.split(`
`),c=s;c<o.length;c++){var d=o[c];if(!(d.length>1024)){var f=RS.test(d)?d.replace(RS,"$1"):d;if(!f.match(/\S*Error: /)){for(var p of r){var v=p(f,e);if(v){a.push(v);break}}if(a.length>=DS)break}}}return(function(g){if(!g.length)return[];var b=Array.from(g);return b.reverse(),b.slice(0,DS).map((x=>{return Ie({},x,{filename:x.filename||(_=b,_[_.length-1]||{}).filename,function:x.function||Fl});var _}))})(a)}}class R9{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=or(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return pp(t,"DOMException")}isDOMError(t){return pp(t,"DOMError")}}class D9{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}class L9{constructor(){}match(t){return pp(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,i=r.apply(t.error);return i||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}var M9=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class B9{match(t){return typeof t=="string"}coerce(t,r){var n,[i,s]=this.getInfos(t);return{type:i??"Error",value:s??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,i=t.match(M9);return i&&(r=i[1],n=i[2]),[r,n]}}var F9=["fatal","error","warning","log","info","debug"];function HP(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length||i.length<=t?i:i.slice(0,t)+"..."}return""}class $9{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,i=this.getErrorPropertyFromObject(t);return i?r.apply(i):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return $P(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+HP(t)}isSeverityLevel(t){return or(t)&&!r1(t)&&F9.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(E9(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class U9{match(t){return $P(t)}coerce(t,r){var n,i=t.constructor.name;return{type:i,value:i+" captured as exception with keys: "+HP(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class H9{match(t){return n1(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class z9{match(t){return pp(t,"PromiseRejectionEvent")}coerce(t,r){var n,i=this.getUnhandledRejectionReason(t);return n1(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(i)}getUnhandledRejectionReason(t){if(n1(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}}var zP=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(i){if(le&&(ms.DEBUG||et.POSTHOG_DEBUG||r)&&!Ce(le.console)&&le.console){for(var s=("__rrweb_original__"in le.console[i])?le.console[i].__rrweb_original__:le.console[i],a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];s(e,...o)}},info:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("log",...s)},warn:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("warn",...s)},error:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n.k("error",...s)},critical:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];console.error(e,...s)},uninitializedWarning:i=>{n.error("You must initialize PostHog before calling "+i)},createLogger:(i,s)=>zP(e+" "+i,s)};return n},Ne=zP("[PostHog.js]"),lr=Ne.createLogger,W9=lr("[ExternalScriptsLoader]"),LS=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return W9.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=Ae==null?void 0:Ae.querySelectorAll("script");if(n){for(var i,s=function(){if(n[a].src===t){var c=n[a];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",(d=>{c.__posthog_loading_callback_fired=!0,r(void 0,d)})),c.onerror=d=>r(d),{v:void 0})}},a=0;a<n.length;a++)if(i=s())return i.v}var o=()=>{if(!Ae)return r("document not found");var c=Ae.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=p=>{c.__posthog_loading_callback_fired=!0,r(void 0,p)},c.onerror=p=>r(p),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var d,f=Ae.querySelectorAll("body > script");f.length>0?(d=f[0].parentNode)==null||d.insertBefore(c,f[0]):Ae.body.appendChild(c)};Ae!=null&&Ae.body?o():Ae==null||Ae.addEventListener("DOMContentLoaded",o)};et.__PosthogExtensions__=et.__PosthogExtensions__||{},et.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;n=n+"&t="+Math.floor(Date.now()/i)*i}var s=e.requestRouter.endpointFor("assets",n);LS(e,s,r)},et.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);LS(e,n,r)};var mp={};function Sa(e,t,r){if(xt(e)){if(CS&&e.forEach===CS)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n)===mp)return}}}function At(e,t,r){if(!_t(e)){if(xt(e))return Sa(e,t,r);if(y9(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===mp)return}else for(var i in e)if(FP.call(e,i)&&t.call(r,e[i],i)===mp)return}}var Yt=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Sa(r,(function(i){for(var s in i)i[s]!==void 0&&(e[s]=i[s])})),e},au=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Sa(r,(function(i){Sa(i,(function(s){e.push(s)}))})),e};function np(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var MS=function(e){try{return e()}catch{return}},q9=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(i){Ne.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Ne.critical(i)}}},ax=function(e){var t={};return At(e,(function(r,n){(or(r)&&r.length>0||es(r))&&(t[n]=r)})),t};function V9(e,t){return r=e,n=s=>or(s)&&!Ls(t)?s.slice(0,t):s,i=new Set,(function s(a,o){return a!==Object(a)?n?n(a,o):a:i.has(a)?void 0:(i.add(a),xt(a)?(c=[],Sa(a,(d=>{c.push(s(d))}))):(c={},At(a,((d,f)=>{i.has(d)||(c[f]=s(d,f))}))),c);var c})(r);var r,n,i}var G9=["herokuapp.com","vercel.app","netlify.app"];function Y9(e){var t=e==null?void 0:e.hostname;if(!or(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of G9)if(r===n)return!1;return!0}function WP(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Zt(e,t,r,n){var{capture:i=!1,passive:s=!0}=n??{};e==null||e.addEventListener(t,r,{capture:i,passive:s})}var qP="$people_distinct_id",Rc="__alias",Dc="__timers",BS="$autocapture_disabled_server_side",s1="$heatmaps_enabled_server_side",FS="$exception_capture_enabled_server_side",a1="$error_tracking_suppression_rules",$S="$error_tracking_capture_extension_exceptions",US="$web_vitals_enabled_server_side",VP="$dead_clicks_enabled_server_side",HS="$web_vitals_allowed_metrics",Sv="$session_recording_remote_config",gp="$sesid",GP="$session_is_sampled",jl="$enabled_feature_flags",Lc="$early_access_features",o1="$feature_flag_details",Mc="$stored_person_properties",so="$stored_group_properties",l1="$surveys",mf="$surveys_activated",vp="$flag_call_reported",gs="$user_state",u1="$client_session_props",c1="$capture_rate_limit",d1="$initial_campaign_params",h1="$initial_referrer_info",yp="$initial_person_info",bp="$epp",YP="__POSTHOG_TOOLBAR__",dc="$posthog_cookieless",K9=[qP,Rc,"__cmpns",Dc,"$session_recording_enabled_server_side",s1,gp,jl,a1,gs,Lc,o1,so,Mc,l1,vp,u1,c1,d1,h1,bp,yp];function zS(e){return e instanceof Element&&(e.id===YP||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Dm(e){return!!e&&e.nodeType===1}function Ca(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function KP(e){return!!e&&e.nodeType===3}function XP(e){return!!e&&e.nodeType===11}function ox(e){return e?Im(e).split(/\s+/):[]}function WS(e){var t=le==null?void 0:le.location.href;return!!(t&&e&&e.some((r=>t.match(r))))}function _p(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return ox(t)}function QP(e){return _t(e)?null:Im(e).split(/(\s+)/).filter((t=>od(t))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Pd(e){var t="";return f1(e)&&!rI(e)&&e.childNodes&&e.childNodes.length&&At(e.childNodes,(function(r){var n;KP(r)&&r.textContent&&(t+=(n=QP(r.textContent))!==null&&n!==void 0?n:"")})),Im(t)}function JP(e){return Ce(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var lx=["a","button","form","input","select","textarea","label"];function ZP(e,t){if(Ce(t))return!0;var r,n=function(s){if(t.some((a=>s.matches(a))))return{v:!0}};for(var i of e)if(r=n(i))return r.v;return!1}function eI(e){var t=e.parentNode;return!(!t||!Dm(t))&&t}var X9=["next","previous","prev",">","<"],qS=10,VS=[".ph-no-rageclick",".ph-no-capture"];function Q9(e,t){if(!le||ux(e))return!1;var r,n,i;if(Ta(t)?(r=!!t&&VS,n=void 0):(r=(i=t==null?void 0:t.css_selector_ignorelist)!==null&&i!==void 0?i:VS,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:s}=tI(e,!1);return!(function(a,o){if(a===!1||Ce(a))return!1;var c;if(a===!0)c=X9;else{if(!xt(a))return!1;if(a.length>qS)return Ne.error("[PostHog] content_ignorelist array cannot exceed "+qS+" items. Use css_selector_ignorelist for more complex matching."),!1;c=a.map((d=>d.toLowerCase()))}return o.some((d=>{var{safeText:f,ariaLabel:p}=d;return c.some((v=>f.includes(v)||p.includes(v)))}))})(n,s.map((a=>{var o;return{safeText:Pd(a).toLowerCase(),ariaLabel:((o=a.getAttribute("aria-label"))==null?void 0:o.toLowerCase().trim())||""}})))&&!ZP(s,r)}var ux=e=>!e||Ca(e,"html")||!Dm(e),tI=(e,t)=>{if(!le||ux(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],i=e;i.parentNode&&!Ca(i,"body");)if(XP(i.parentNode))n.push(i.parentNode.host),i=i.parentNode.host;else{var s=eI(i);if(!s)break;if(t||lx.indexOf(s.tagName.toLowerCase())>-1)r=!0;else{var a=le.getComputedStyle(s);a&&a.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(s),i=s}return{parentIsUsefulElement:r,targetElementList:n}};function J9(e,t,r,n,i){var s,a,o,c;if(r===void 0&&(r=void 0),!le||ux(e)||(s=r)!=null&&s.url_allowlist&&!WS(r.url_allowlist)||(a=r)!=null&&a.url_ignorelist&&WS(r.url_ignorelist))return!1;if((o=r)!=null&&o.dom_event_allowlist){var d=r.dom_event_allowlist;if(d&&!d.some((b=>t.type===b)))return!1}var{parentIsUsefulElement:f,targetElementList:p}=tI(e,n);if(!(function(b,x){var _=x==null?void 0:x.element_allowlist;if(Ce(_))return!0;var w,A=function(O){if(_.some((j=>O.tagName.toLowerCase()===j)))return{v:!0}};for(var S of b)if(w=A(S))return w.v;return!1})(p,r)||!ZP(p,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var v=le.getComputedStyle(e);if(v&&v.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return f?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(lx.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function f1(e){for(var t=e;t.parentNode&&!Ca(t,"body");t=t.parentNode){var r=_p(t);if(st(r,"ph-sensitive")||st(r,"ph-no-capture"))return!1}if(st(_p(e),"ph-include"))return!0;var n=e.type||"";if(or(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(or(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function rI(e){return!!(Ca(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Ca(e,"select")||Ca(e,"textarea")||e.getAttribute("contenteditable")==="true")}var nI="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Z9=new RegExp("^(?:"+nI+")$"),e$=new RegExp(nI),iI="\\d{3}-?\\d{2}-?\\d{4}",t$=new RegExp("^("+iI+")$"),r$=new RegExp("("+iI+")");function od(e,t){return t===void 0&&(t=!0),!(_t(e)||or(e)&&(e=Im(e),(t?Z9:e$).test((e||"").replace(/[- ]/g,""))||(t?t$:r$).test(e)))}function sI(e){var t=Pd(e);return od(t=(t+" "+aI(e)).trim())?t:""}function aI(e){var t="";return e&&e.childNodes&&e.childNodes.length&&At(e.childNodes,(function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var i=Pd(r);t=(t+" "+i).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+aI(r)).trim())}catch(s){Ne.error("[AutoCapture]",s)}})),t}function n$(e){return(function(t){var r=t.map((n=>{var i,s,a="";if(n.tag_name&&(a+=n.tag_name),n.attr_class)for(var o of(n.attr_class.sort(),n.attr_class))a+="."+o.replace(/"/g,"");var c=Ie({},n.text?{text:n.text}:{},{"nth-child":(i=n.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),d={};return np(c).sort(((f,p)=>{var[v]=f,[g]=p;return v.localeCompare(g)})).forEach((f=>{var[p,v]=f;return d[GS(p.toString())]=GS(v.toString())})),a+=":",a+=np(d).map((f=>{var[p,v]=f;return p+'="'+v+'"'})).join("")}));return r.join(";")})((function(t){return t.map((r=>{var n,i,s={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(i=r.attr__href)==null?void 0:i.slice(0,2048),attr_class:i$(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return np(r).filter((a=>{var[o]=a;return o.indexOf("attr__")===0})).forEach((a=>{var[o,c]=a;return s.attributes[o]=c})),s}))})(e))}function GS(e){return e.replace(/"|\\"/g,'\\"')}function i$(e){var t=e.attr__class;return t?xt(t)?t:ox(t):void 0}class oI{constructor(t){this.disabled=t===!1;var r=_r(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(r-i.y)<this.thresholdPx&&n-i.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}}var Cv="$copy_autocapture",bs=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),xp=e=>{var t=Ae==null?void 0:Ae.createElement("a");return Ce(t)?null:(t.href=e,t)},s$=function(e,t){var r,n;t===void 0&&(t="&");var i=[];return At(e,(function(s,a){Ce(s)||Ce(a)||a==="undefined"||(r=encodeURIComponent((o=>o instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(a),i[i.length]=n+"="+r)})),i.join(t)},wp=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===t){r=s;break}}if(!xt(r)||r.length<2)return"";var a=r[1];try{a=decodeURIComponent(a)}catch{Ne.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},Id=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),i=n[0]||"",s=n[1],a=i.split("?"),o=a[1],c=a[0],d=(o||"").split("&"),f=[],p=0;p<d.length;p++){var v=d[p].split("=");xt(v)&&(t.includes(v[0])?f.push(v[0]+"="+r):f.push(d[p]))}var g=c;return o!=null&&(g+="?"+f.join("&")),s!=null&&(g+="#"+s),g},Ep=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},YS=lr("[AutoCapture]");function Av(e,t){return t.length>e?t.slice(0,e)+"...":t}function a$(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Dm(t));return t}function o$(e,t,r,n){var i=e.tagName.toLowerCase(),s={tag_name:i};lx.indexOf(i)>-1&&!r&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Av(1024,sI(e)):s.$el_text=Av(1024,Pd(e)));var a=_p(e);a.length>0&&(s.classes=a.filter((function(f){return f!==""}))),At(e.attributes,(function(f){var p;if((!rI(e)||["name","id","class","aria-label"].indexOf(f.name)!==-1)&&(n==null||!n.includes(f.name))&&!t&&od(f.value)&&(p=f.name,!or(p)||p.substring(0,10)!=="_ngcontent"&&p.substring(0,7)!=="_nghost")){var v=f.value;f.name==="class"&&(v=ox(v).join(" ")),s["attr__"+f.name]=Av(1024,v)}}));for(var o=1,c=1,d=e;d=a$(d);)o++,d.tagName===e.tagName&&c++;return s.nth_child=o,s.nth_of_type=c,s}function l$(e,t){for(var r,n,{e:i,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:c}=t,d=[e],f=e;f.parentNode&&!Ca(f,"body");)XP(f.parentNode)?(d.push(f.parentNode.host),f=f.parentNode.host):(d.push(f.parentNode),f=f.parentNode);var p,v=[],g={},b=!1,x=!1;if(At(d,(O=>{var j=f1(O);O.tagName.toLowerCase()==="a"&&(b=O.getAttribute("href"),b=j&&b&&od(b)&&b),st(_p(O),"ph-no-capture")&&(x=!0),v.push(o$(O,s,a,o));var N=(function(P){if(!f1(P))return{};var D={};return At(P.attributes,(function($){if($.name&&$.name.indexOf("data-ph-capture-attribute")===0){var I=$.name.replace("data-ph-capture-attribute-",""),M=$.value;I&&M&&od(M)&&(D[I]=M)}})),D})(O);Yt(g,N)})),x)return{props:{},explicitNoCapture:x};if(a||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=sI(e):v[0].$el_text=Pd(e)),b){var _,w;v[0].attr__href=b;var A=(_=xp(b))==null?void 0:_.host,S=le==null||(w=le.location)==null?void 0:w.host;A&&S&&A!==S&&(p=b)}return{props:Yt({$event_type:i.type,$ce_version:1},c?{}:{$elements:v},{$elements_chain:n$(v)},(r=v[0])!=null&&r.$el_text?{$el_text:(n=v[0])==null?void 0:n.$el_text}:{},p&&i.type==="click"?{$external_click_url:p}:{},g)}}class u${constructor(t){this.P=!1,this.T=null,this.R=!1,this.instance=t,this.rageclicks=new oI(t.config.rageclick),this.I=null}get F(){var t,r,n=_r(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map((i=>new RegExp(i))),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map((i=>new RegExp(i))),n}C(){if(this.isBrowserSupported()){if(le&&Ae){var t=n=>{n=n||(le==null?void 0:le.event);try{this.M(n)}catch(i){YS.error("Failed to capture event",i)}};if(Zt(Ae,"submit",t,{capture:!0}),Zt(Ae,"change",t,{capture:!0}),Zt(Ae,"click",t,{capture:!0}),this.F.capture_copied_text){var r=n=>{n=n||(le==null?void 0:le.event),this.M(n,Cv)};Zt(Ae,"copy",r,{capture:!0}),Zt(Ae,"cut",r,{capture:!0})}}}else YS.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.R=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[BS]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.I=t}getElementSelectors(t){var r,n=[];return(r=this.I)==null||r.forEach((i=>{var s=Ae==null?void 0:Ae.querySelectorAll(i);s==null||s.forEach((a=>{t===a&&n.push(i)}))})),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[BS],i=this.T;if(Ls(i)&&!Ta(n)&&!this.instance.O())return!1;var s=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!s}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,i=JP(t);KP(i)&&(i=i.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&Q9(i,this.instance.config.rageclick)&&this.M(t,"$rageclick");var s=r===Cv;if(i&&J9(i,t,this.F,s,s?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=l$(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.R});if(o)return!1;var c=this.getElementSelectors(i);if(c&&c.length>0&&(a.$element_selectors=c),r===Cv){var d,f=QP(le==null||(d=le.getSelection())==null?void 0:d.toString()),p=t.type||"clipboard";if(!f)return!1;a.$selected_content=f,a.$copy_type=p}return this.instance.capture(r,a),!0}}}isBrowserSupported(){return ka(Ae==null?void 0:Ae.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return es(e)&&isFinite(e)&&Math.floor(e)===e});var KS="0123456789abcdef";class kp{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,i){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(i)||t<0||r<0||n<0||i<0||t>0xffffffffffff||r>4095||n>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new kp(s)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+KS.charAt(this.bytes[r]>>>4)+KS.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new kp(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class c${constructor(){this.A=0,this.D=0,this.j=new d$}generate(){var t=this.generateOrAbort();if(Ce(t)){this.A=0;var r=this.generateOrAbort();if(Ce(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return kp.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var XS,lI=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};le&&!Ce(le.crypto)&&crypto.getRandomValues&&(lI=e=>crypto.getRandomValues(e));class d${constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(lI(this.N),this.U=0),this.N[this.U++]}}var wa=()=>h$().toString(),h$=()=>(XS||(XS=new c$)).generate(),hc="",f$=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function p$(e,t){if(t){var r=(function(i,s){if(s===void 0&&(s=Ae),hc)return hc;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var a=i.split("."),o=Math.min(a.length,8),c="dmn_chk_"+wa();!hc&&o--;){var d=a.slice(o).join("."),f=c+"=1;domain=."+d+";path=/";s.cookie=f+";max-age=3",s.cookie.includes(c)&&(s.cookie=f+";max-age=0",hc=d)}return hc})(e);if(!r){var n=(i=>{var s=i.match(f$);return s?s[0]:""})(e);n!==r&&Ne.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Ji={H:()=>!!Ae,B:function(e){Ne.error("cookieStore error: "+e)},q:function(e){if(Ae){try{for(var t=e+"=",r=Ae.cookie.split(";").filter((s=>s.length)),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Ji.q(e))||{}}catch{}return t},G:function(e,t,r,n,i){if(Ae)try{var s="",a="",o=p$(Ae.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),s="; expires="+c.toUTCString()}i&&(a="; secure");var d=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+o+a;return d.length>3686.4&&Ne.warn("cookieStore warning: large cookie, len="+d.length),Ae.cookie=d,d}catch{return}},V:function(e,t){if(Ae!=null&&Ae.cookie)try{Ji.G(e,"",-1,t)}catch{return}}},Nv=null,zt={H:function(){if(!Ls(Nv))return Nv;var e=!0;if(Ce(le))e=!1;else try{var t="__mplssupport__";zt.G(t,"xyz"),zt.q(t)!=='"xyz"'&&(e=!1),zt.V(t)}catch{e=!1}return e||Ne.error("localStorage unsupported; falling back to cookie store"),Nv=e,e},B:function(e){Ne.error("localStorage error: "+e)},q:function(e){try{return le==null?void 0:le.localStorage.getItem(e)}catch(t){zt.B(t)}return null},W:function(e){try{return JSON.parse(zt.q(e))||{}}catch{}return null},G:function(e,t){try{le==null||le.localStorage.setItem(e,JSON.stringify(t))}catch(r){zt.B(r)}},V:function(e){try{le==null||le.localStorage.removeItem(e)}catch(t){zt.B(t)}}},m$=["distinct_id",gp,GP,bp,yp],gf=Ie({},zt,{W:function(e){try{var t={};try{t=Ji.W(e)||{}}catch{}var r=Yt(t,JSON.parse(zt.q(e)||"{}"));return zt.G(e,r),r}catch{}return null},G:function(e,t,r,n,i,s){try{zt.G(e,t,void 0,void 0,s);var a={};m$.forEach((o=>{t[o]&&(a[o]=t[o])})),Object.keys(a).length&&Ji.G(e,a,r,n,i,s)}catch(o){zt.B(o)}},V:function(e,t){try{le==null||le.localStorage.removeItem(e),Ji.V(e,t)}catch(r){zt.B(r)}}}),vf={},g$={H:function(){return!0},B:function(e){Ne.error("memoryStorage error: "+e)},q:function(e){return vf[e]||null},W:function(e){return vf[e]||null},G:function(e,t){vf[e]=t},V:function(e){delete vf[e]}},Za=null,Ar={H:function(){if(!Ls(Za))return Za;if(Za=!0,Ce(le))Za=!1;else try{var e="__support__";Ar.G(e,"xyz"),Ar.q(e)!=='"xyz"'&&(Za=!1),Ar.V(e)}catch{Za=!1}return Za},B:function(e){Ne.error("sessionStorage error: ",e)},q:function(e){try{return le==null?void 0:le.sessionStorage.getItem(e)}catch(t){Ar.B(t)}return null},W:function(e){try{return JSON.parse(Ar.q(e))||null}catch{}return null},G:function(e,t){try{le==null||le.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Ar.B(r)}},V:function(e){try{le==null||le.sessionStorage.removeItem(e)}catch(t){Ar.B(t)}}},vs=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class v${constructor(t){this._instance=t}get F(){return this._instance.config}get consent(){return this.J()?vs.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===vs.DENIED||this.consent===vs.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===vs.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return kv(t)?vs.GRANTED:st(x9,t)?vs.DENIED:vs.PENDING}get Y(){if(!this.Z){var t=this.F.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?zt:Ji;var r=t==="localStorage"?Ji:zt;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(kv(r.q(this.X))),r.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!WP([Mn==null?void 0:Mn.doNotTrack,Mn==null?void 0:Mn.msDoNotTrack,et.doNotTrack],(t=>kv(t)))}}var yf=lr("[Dead Clicks]"),y$=()=>!0,b$=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(VP)),n=e.instance.config.capture_dead_clicks;return Ta(n)?n:!!_r(n)||r};class uI{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[VP]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?yf.error("failed to load script",i):t()}))}et(){var t;if(Ae){if(!this.tt&&(t=et.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=_r(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=et.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(Ae),yf.info("starting...")}}else yf.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,yf.info("stopping..."))}}var fc=lr("[ExceptionAutocapture]");class _${constructor(t){var r,n,i;this.rt=()=>{var s;if(le&&this.isEnabled&&(s=et.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var a=et.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,o=et.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=et.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=a(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=o(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(d){fc.error("failed to start",d),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[FS]),this.F=this.ht(),this.vt=new w9({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:fc}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return _r(t)?r=Ie({},r,t):(Ce(t)?this.ut:t)&&(r=Ie({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(fc.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return fc.error("failed to load script",i);t()}))}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[FS]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,i=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.vt.consumeRateLimit(i)?fc.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(t)}}function QS(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],i=r(n);return ka(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}class x${constructor(t){var r;this._instance=t,this.dt=(le==null||(r=le.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Ne.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Ne.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(le&&le.history){var n=this;(t=le.history.pushState)!=null&&t.__posthog_wrapped__||QS(le.history,"pushState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("pushState")})),(r=le.history.replaceState)!=null&&r.__posthog_wrapped__||QS(le.history,"replaceState",(i=>function(s,a,o){i.call(this,s,a,o),n.ft("replaceState")})),this.gt()}}ft(t){try{var r,n=le==null||(r=le.location)==null?void 0:r.pathname;if(!n)return;n!==this.dt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.dt=n}catch(i){Ne.error("Error capturing "+t+" pageview",i)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};Zt(le,"popstate",t),this.ct=()=>{le&&le.removeEventListener("popstate",t)}}}}var jv=lr("[SegmentIntegration]");function w$(e,t){var r=e.config.segment;if(!r)return t();(function(n,i){var s=n.config.segment;if(!s)return i();var a=c=>{var d=()=>c.anonymousId()||wa();n.config.get_device_id=d,c.id()&&(n.register({distinct_id:c.id(),$device_id:d()}),n.persistence.set_property(gs,"identified")),i()},o=s.user();"then"in o&&ka(o.then)?o.then((c=>a(c))):a(o)})(e,(()=>{r.register((n=>{Promise&&Promise.resolve||jv.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,a)=>{if(!a)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(jv.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(jv.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var o=n.calculateEventProperties(a,s.event.properties);return s.event.properties=Object.assign({},o,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(e)).then((()=>{t()}))}))}var cI="posthog-js";function dI(e,t){var{organization:r,projectId:n,prefix:i,severityAllowList:s=["error"],sendExceptionsToPostHog:a=!0}=t===void 0?{}:t;return o=>{var c,d,f,p,v;if(!(s==="*"||s.includes(o.level))||!e.__loaded)return o;o.tags||(o.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());o.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var b=((c=o.exception)==null?void 0:c.values)||[],x=b.map((w=>Ie({},w,{stacktrace:w.stacktrace?Ie({},w.stacktrace,{type:"raw",frames:(w.stacktrace.frames||[]).map((A=>Ie({},A,{platform:"web:javascript"})))}):void 0}))),_={$exception_message:((d=b[0])==null?void 0:d.value)||o.message,$exception_type:(f=b[0])==null?void 0:f.type,$exception_level:o.level,$exception_list:x,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((p=b[0])==null?void 0:p.value)||o.message,$sentry_exception_type:(v=b[0])==null?void 0:v.type,$sentry_tags:o.tags};return r&&n&&(_.$sentry_url=(i||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+o.event_id),a&&e.exceptions.sendExceptionEvent(_),o}}class E${constructor(t,r,n,i,s,a){this.name=cI,this.setupOnce=function(o){o(dI(t,{organization:r,projectId:n,prefix:i,severityAllowList:s,sendExceptionsToPostHog:a==null||a}))}}}var k$=le!=null&&le.location?Ep(le.location.hash,"__posthog")||Ep(location.hash,"state"):null,JS="_postHogToolbarParams",ZS=lr("[Toolbar]"),pa=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(pa||{});class T${constructor(t){this.instance=t}_t(t){et.ph_toolbar_state=t}yt(){var t;return(t=et.ph_toolbar_state)!==null&&t!==void 0?t:pa.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!le||!Ae)return!1;t=t??le.location,n=n??le.history;try{if(!r){try{le.localStorage.setItem("test","test"),le.localStorage.removeItem("test")}catch{return!1}r=le==null?void 0:le.localStorage}var i,s=k$||Ep(t.hash,"__posthog")||Ep(t.hash,"state"),a=s?MS((()=>JSON.parse(atob(decodeURIComponent(s)))))||MS((()=>JSON.parse(decodeURIComponent(s)))):null;return a&&a.action==="ph_authorize"?((i=a).source="url",i&&Object.keys(i).length>0&&(a.desiredHash?t.hash=a.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((i=JSON.parse(r.getItem(JS)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}bt(t){var r=et.ph_load_toolbar||et.ph_load_editor;!_t(r)&&ka(r)?r(t,this.instance):ZS.warn("No toolbar load function found")}loadToolbar(t){var r=!(Ae==null||!Ae.getElementById(YP));if(!le||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=Ie({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(le.localStorage.setItem(JS,JSON.stringify(Ie({},i,{source:void 0}))),this.yt()===pa.LOADED)this.bt(i);else if(this.yt()===pa.UNINITIALIZED){var s;this._t(pa.LOADING),(s=et.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",(a=>{if(a)return ZS.error("[Toolbar] Failed to load",a),void this._t(pa.UNINITIALIZED);this._t(pa.LOADED),this.bt(i)})),Zt(le,"turbolinks:load",(()=>{this._t(pa.UNINITIALIZED),this.loadToolbar(i)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var S$=lr("[TracingHeaders]");class C${constructor(t){this.xt=void 0,this.St=void 0,this.rt=()=>{var r,n;Ce(this.xt)&&((r=et.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Ce(this.St)&&((n=et.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return S$.error("failed to load script",i);t()}))}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.St)==null||r.call(this),this.xt=void 0,this.St=void 0)}}var ni="Mobile",Tp="iOS",Ki="Android",ld="Tablet",hI=Ki+" "+ld,fI="iPad",pI="Apple",mI=pI+" Watch",ud="Safari",$l="BlackBerry",gI="Samsung",vI=gI+"Browser",yI=gI+" Internet",ko="Chrome",A$=ko+" OS",bI=ko+" "+Tp,cx="Internet Explorer",_I=cx+" "+ni,dx="Opera",N$=dx+" Mini",hx="Edge",xI="Microsoft "+hx,Il="Firefox",wI=Il+" "+Tp,cd="Nintendo",dd="PlayStation",Rl="Xbox",EI=Ki+" "+ni,kI=ni+" "+ud,Bc="Windows",p1=Bc+" Phone",e2="Nokia",m1="Ouya",TI="Generic",j$=TI+" "+ni.toLowerCase(),SI=TI+" "+ld.toLowerCase(),g1="Konqueror",Xr="(\\d+(\\.\\d+)?)",Ov=new RegExp("Version/"+Xr),O$=new RegExp(Rl,"i"),P$=new RegExp(dd+" \\w+","i"),I$=new RegExp(cd+" \\w+","i"),fx=new RegExp($l+"|PlayBook|BB10","i"),R$={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},D$=(e,t)=>t&&st(t,pI)||(function(r){return st(r,ud)&&!st(r,ko)&&!st(r,Ki)})(e),CI=function(e,t){return t=t||"",st(e," OPR/")&&st(e,"Mini")?N$:st(e," OPR/")?dx:fx.test(e)?$l:st(e,"IE"+ni)||st(e,"WPDesktop")?_I:st(e,vI)?yI:st(e,hx)||st(e,"Edg/")?xI:st(e,"FBIOS")?"Facebook "+ni:st(e,"UCWEB")||st(e,"UCBrowser")?"UC Browser":st(e,"CriOS")?bI:st(e,"CrMo")||st(e,ko)?ko:st(e,Ki)&&st(e,ud)?EI:st(e,"FxiOS")?wI:st(e.toLowerCase(),g1.toLowerCase())?g1:D$(e,t)?st(e,ni)?kI:ud:st(e,Il)?Il:st(e,"MSIE")||st(e,"Trident/")?cx:st(e,"Gecko")?Il:""},L$={[_I]:[new RegExp("rv:"+Xr)],[xI]:[new RegExp(hx+"?\\/"+Xr)],[ko]:[new RegExp("("+ko+"|CrMo)\\/"+Xr)],[bI]:[new RegExp("CriOS\\/"+Xr)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Xr)],[ud]:[Ov],[kI]:[Ov],[dx]:[new RegExp("(Opera|OPR)\\/"+Xr)],[Il]:[new RegExp(Il+"\\/"+Xr)],[wI]:[new RegExp("FxiOS\\/"+Xr)],[g1]:[new RegExp("Konqueror[:/]?"+Xr,"i")],[$l]:[new RegExp($l+" "+Xr),Ov],[EI]:[new RegExp("android\\s"+Xr,"i")],[yI]:[new RegExp(vI+"\\/"+Xr)],[cx]:[new RegExp("(rv:|MSIE )"+Xr)],Mozilla:[new RegExp("rv:"+Xr)]},M$=function(e,t){var r=CI(e,t),n=L$[r];if(Ce(n))return null;for(var i=0;i<n.length;i++){var s=n[i],a=e.match(s);if(a)return parseFloat(a[a.length-2])}return null},t2=[[new RegExp(Rl+"; "+Rl+" (.*?)[);]","i"),e=>[Rl,e&&e[1]||""]],[new RegExp(cd,"i"),[cd,""]],[new RegExp(dd,"i"),[dd,""]],[fx,[$l,""]],[new RegExp(Bc,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[p1,""];if(new RegExp(ni).test(t)&&!/IEMobile\b/.test(t))return[Bc+" "+ni,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],i=R$[n]||"";return/arm/i.test(t)&&(i="RT"),[Bc,i]}return[Bc,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Tp,t.join(".")]}return[Tp,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Ce(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Ki+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ki+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Ki,t.join(".")]}return[Ki,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[A$,""]],[/Linux|debian/i,["Linux",""]]],r2=function(e){return I$.test(e)?cd:P$.test(e)?dd:O$.test(e)?Rl:new RegExp(m1,"i").test(e)?m1:new RegExp("("+p1+"|WPDesktop)","i").test(e)?p1:/iPad/.test(e)?fI:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?mI:fx.test(e)?$l:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(e2,"i").test(e)?e2:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(ni).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ki:hI:Ki:new RegExp("(pda|"+ni+")","i").test(e)?j$:new RegExp(ld,"i").test(e)&&!new RegExp(ld+" pc","i").test(e)?SI:""},bf="https?://(.*)",ou=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],B$=au(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],ou),Rd="<masked>",F$=["li_fat_id"];function AI(e,t,r){if(!Ae)return{};var n,i=t?au([],ou,r||[]):[],s=NI(Id(Ae.URL,i,Rd),e),a=(n={},At(F$,(function(o){var c=Ji.q(o);n[o]=c||null})),n);return Yt(a,s)}function NI(e,t){var r=B$.concat(t||[]),n={};return At(r,(function(i){var s=wp(e,i);n[i]=s||null})),n}function jI(e){var t=(function(s){return s?s.search(bf+"google.([^/?]*)")===0?"google":s.search(bf+"bing.com")===0?"bing":s.search(bf+"yahoo.com")===0?"yahoo":s.search(bf+"duckduckgo.com")===0?"duckduckgo":null:null})(e),r=t!="yahoo"?"q":"p",n={};if(!Ls(t)){n.$search_engine=t;var i=Ae?wp(Ae.referrer,r):"";i.length&&(n.ph_keyword=i)}return n}function n2(){return navigator.language||navigator.userLanguage}function OI(){return(Ae==null?void 0:Ae.referrer)||"$direct"}function PI(e,t){var r=e?au([],ou,t||[]):[],n=vn==null?void 0:vn.href.substring(0,1e3);return{r:OI().substring(0,1e3),u:n?Id(n,r,Rd):void 0}}function II(e){var t,{r,u:n}=e,i={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=xp(r))==null?void 0:t.host};if(n){i.$current_url=n;var s=xp(n);i.$host=s==null?void 0:s.host,i.$pathname=s==null?void 0:s.pathname;var a=NI(n);Yt(i,a)}if(r){var o=jI(r);Yt(i,o)}return i}function RI(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function $$(){try{return new Date().getTimezoneOffset()}catch{return}}function U$(e,t){if(!mn)return{};var r,n,i,s=e?au([],ou,t||[]):[],[a,o]=(function(c){for(var d=0;d<t2.length;d++){var[f,p]=t2[d],v=f.exec(c),g=v&&(ka(p)?p(v,c):p);if(g)return g}return["",""]})(mn);return Yt(ax({$os:a,$os_version:o,$browser:CI(mn,navigator.vendor),$device:r2(mn),$device_type:(n=mn,i=r2(n),i===fI||i===hI||i==="Kobo"||i==="Kindle Fire"||i===SI?ld:i===cd||i===Rl||i===dd||i===m1?"Console":i===mI?"Wearable":i?ni:"Desktop"),$timezone:RI(),$timezone_offset:$$()}),{$current_url:Id(vn==null?void 0:vn.href,s,Rd),$host:vn==null?void 0:vn.host,$pathname:vn==null?void 0:vn.pathname,$raw_user_agent:mn.length>1e3?mn.substring(0,997)+"...":mn,$browser_version:M$(mn,navigator.vendor),$browser_language:n2(),$browser_language_prefix:(r=n2(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:le==null?void 0:le.screen.height,$screen_width:le==null?void 0:le.screen.width,$viewport_height:le==null?void 0:le.innerHeight,$viewport_width:le==null?void 0:le.innerWidth,$lib:"web",$lib_version:ms.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ca=lr("[Web Vitals]"),i2=9e5;class H${constructor(t){var r;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((n,i)=>Ie({},n,{["$web_vitals_"+i.name+"_event"]:Ie({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var i,s=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(Ce(s))ca.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var a=this.Tt();Ce(a)||(_t(n==null?void 0:n.name)||_t(n==null?void 0:n.value)?ca.error("Invalid metric received",n):this.Rt&&n.value>=this.Rt?ca.error("Ignoring metric with value >= "+this.Rt,n):(this.N.url!==a&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Ce(this.N.url)&&(this.N.url=a),this.N.firstMetricTimestamp=Ce(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(Ie({},n,{$current_url:a,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,i,s,a,o=et.__PosthogExtensions__;Ce(o)||Ce(o.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:i,onFCP:s,onINP:a}=o.postHogWebVitalsCallbacks),n&&i&&s&&a?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&a(this.Pt.bind(this)),this.P=!0):ca.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Et=!((r=this._instance.persistence)==null||!r.props[US]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=_r(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Ce(n)?((r=this._instance.persistence)==null?void 0:r.props[HS])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(_r(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var t=_r(this._instance.config.capture_performance)&&es(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:i2;return 0<t&&t<=6e4?i2:t}get isEnabled(){var t=vn==null?void 0:vn.protocol;if(t!=="http:"&&t!=="https:")return ca.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=_r(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Ta(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Ta(r)?r:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(ca.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=_r(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=_r(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[US]:r}),this._instance.persistence.register({[HS]:n})),this.Et=r,this.startIfEnabled()}it(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",(i=>{i?ca.error("failed to load script",i):t()}))}Tt(){var t=le?le.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,i=r?au([],ou,n||[]):[];return Id(t,i,Rd)}ca.error("Could not determine current URL")}}var z$=lr("[Heatmaps]");function s2(e){return _r(e)&&"clientX"in e&&"clientY"in e&&es(e.clientX)&&es(e.clientY)}class W${constructor(t){var r;this.Et=!1,this.P=!1,this.It=null,this.instance=t,this.Et=!((r=this.instance.persistence)==null||!r.props[s1]),this.rageclicks=new oI(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return _r(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Ce(this.instance.config.capture_heatmaps)?Ce(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;z$.info("starting..."),this.Ft(),this.Ct()}else{var t;clearInterval((t=this.It)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[s1]:r}),this.Et=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ct(){this.It&&clearInterval(this.It),this.It=(function(t){return(t==null?void 0:t.visibilityState)==="visible"})(Ae)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){le&&Ae&&(this.jt=this.Dt.bind(this),Zt(le,"beforeunload",this.jt),this.Lt=t=>this.At(t||(le==null?void 0:le.event)),Zt(Ae,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(le==null?void 0:le.event)),Zt(Ae,"mousemove",this.Nt,{capture:!0}),this.zt=new uI(this.instance,y$,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),Zt(Ae,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;le&&Ae&&(this.jt&&le.removeEventListener("beforeunload",this.jt),this.Lt&&Ae.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&Ae.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&Ae.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),a=(function(o,c,d){for(var f=o;f&&Dm(f)&&!Ca(f,"body");){if(f===d)return!1;if(st(c,le==null?void 0:le.getComputedStyle(f).position))return!0;f=eI(f)}return!1})(JP(t),["fixed","sticky"],s);return{x:t.clientX+(a?0:i),y:t.clientY+(a?0:n),target_fixed:a,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!zS(t.target)&&s2(t)){var i=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(Ie({},i,{type:"rageclick"})),this.Wt(i)}}Ut(t){!zS(t.target)&&s2(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,"mousemove"))}),500))}Wt(t){if(le){var r=le.location.href,n=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,s=n?au([],ou,i||[]):[],a=Id(r,s,Rd);this.N=this.N||{},this.N[a]||(this.N[a]=[]),this.N[a].push(t)}}Dt(){this.N&&!Nl(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class q${constructor(t){this._instance=t}doPageView(t,r){var n,i=this.Gt(t,r);return this.Vt={pathname:(n=le==null?void 0:le.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var i={$pageview_id:r,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:o,maxScrollY:c,maxContentHeight:d,lastContentY:f,maxContentY:p}=s;if(!(Ce(a)||Ce(o)||Ce(c)||Ce(d)||Ce(f)||Ce(p))){a=Math.ceil(a),o=Math.ceil(o),c=Math.ceil(c),d=Math.ceil(d),f=Math.ceil(f),p=Math.ceil(p);var v=a<=1?1:Yi(o/a,0,1,Ne),g=a<=1?1:Yi(c/a,0,1,Ne),b=d<=1?1:Yi(f/d,0,1,Ne),x=d<=1?1:Yi(p/d,0,1,Ne);i=Yt(i,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:f,$prev_pageview_last_content_percentage:b,$prev_pageview_max_content:p,$prev_pageview_max_content_percentage:x})}}return n.pathname&&(i.$prev_pageview_pathname=n.pathname),n.timestamp&&(i.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),i}}var ii=Uint8Array,bn=Uint16Array,Ul=Uint32Array,px=new ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mx=new ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a2=new ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DI=function(e,t){for(var r=new bn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Ul(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return[r,i]},LI=DI(px,2),V$=LI[0],v1=LI[1];V$[28]=258,v1[258]=28;for(var o2=DI(mx,0)[1],MI=new bn(32768),Pt=0;Pt<32768;++Pt){var eo=(43690&Pt)>>>1|(21845&Pt)<<1;eo=(61680&(eo=(52428&eo)>>>2|(13107&eo)<<2))>>>4|(3855&eo)<<4,MI[Pt]=((65280&eo)>>>8|(255&eo)<<8)>>>1}var qc=function(e,t,r){for(var n=e.length,i=0,s=new bn(t);i<n;++i)++s[e[i]-1];var a,o=new bn(t);for(i=0;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;for(a=new bn(n),i=0;i<n;++i)a[i]=MI[o[e[i]-1]++]>>>15-e[i];return a},To=new ii(288);for(Pt=0;Pt<144;++Pt)To[Pt]=8;for(Pt=144;Pt<256;++Pt)To[Pt]=9;for(Pt=256;Pt<280;++Pt)To[Pt]=7;for(Pt=280;Pt<288;++Pt)To[Pt]=8;var Sp=new ii(32);for(Pt=0;Pt<32;++Pt)Sp[Pt]=5;var G$=qc(To,9),Y$=qc(Sp,5),BI=function(e){return(e/8>>0)+(7&e&&1)},FI=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof bn?bn:e instanceof Ul?Ul:ii)(r-t);return n.set(e.subarray(t,r)),n},ps=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},pc=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Pv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return[new ii(0),0];if(i==1){var a=new ii(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort((function(j,N){return j.f-N.f})),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,f=1,p=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=i-1;)o=r[r[d].f<r[p].f?d++:p++],c=r[d!=f&&r[d].f<r[p].f?d++:p++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};var v=s[0].s;for(n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var g=new bn(v+1),b=y1(r[f-1],g,0);if(b>t){n=0;var x=0,_=b-t,w=1<<_;for(s.sort((function(j,N){return g[N.s]-g[j.s]||j.f-N.f}));n<i;++n){var A=s[n].s;if(!(g[A]>t))break;x+=w-(1<<b-g[A]),g[A]=t}for(x>>>=_;x>0;){var S=s[n].s;g[S]<t?x-=1<<t-g[S]++-1:++n}for(;n>=0&&x;--n){var O=s[n].s;g[O]==t&&(--g[O],++x)}b=t}return[new ii(g),b]},y1=function(e,t,r){return e.s==-1?Math.max(y1(e.l,t,r+1),y1(e.r,t,r+1)):t[e.s]=r},l2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new bn(++t),n=0,i=e[0],s=1,a=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return[r.subarray(0,n),t]},mc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},b1=function(e,t,r){var n=r.length,i=BI(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},u2=function(e,t,r,n,i,s,a,o,c,d,f){ps(t,f++,r),++i[256];for(var p=Pv(i,15),v=p[0],g=p[1],b=Pv(s,15),x=b[0],_=b[1],w=l2(v),A=w[0],S=w[1],O=l2(x),j=O[0],N=O[1],P=new bn(19),D=0;D<A.length;++D)P[31&A[D]]++;for(D=0;D<j.length;++D)P[31&j[D]]++;for(var $=Pv(P,7),I=$[0],M=$[1],H=19;H>4&&!I[a2[H-1]];--H);var q,G,K,J,ae=d+5<<3,ie=mc(i,To)+mc(s,Sp)+a,de=mc(i,v)+mc(s,x)+a+14+3*H+mc(P,I)+(2*P[16]+3*P[17]+7*P[18]);if(ae<=ie&&ae<=de)return b1(t,f,e.subarray(c,c+d));if(ps(t,f,1+(de<ie)),f+=2,de<ie){q=qc(v,g),G=v,K=qc(x,_),J=x;var L=qc(I,M);for(ps(t,f,S-257),ps(t,f+5,N-1),ps(t,f+10,H-4),f+=14,D=0;D<H;++D)ps(t,f+3*D,I[a2[D]]);f+=3*H;for(var V=[A,j],ne=0;ne<2;++ne){var F=V[ne];for(D=0;D<F.length;++D){var Ee=31&F[D];ps(t,f,L[Ee]),f+=I[Ee],Ee>15&&(ps(t,f,F[D]>>>5&127),f+=F[D]>>>12)}}}else q=G$,G=To,K=Y$,J=Sp;for(D=0;D<o;++D)if(n[D]>255){Ee=n[D]>>>18&31,pc(t,f,q[Ee+257]),f+=G[Ee+257],Ee>7&&(ps(t,f,n[D]>>>23&31),f+=px[Ee]);var Te=31&n[D];pc(t,f,K[Te]),f+=J[Te],Te>3&&(pc(t,f,n[D]>>>5&8191),f+=mx[Te])}else pc(t,f,q[n[D]]),f+=G[n[D]];return pc(t,f,q[256]),f+G[256]},K$=new Ul([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X$=(function(){for(var e=new Ul(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e})(),Q$=function(e,t,r,n,i){return(function(s,a,o,c,d,f){var p=s.length,v=new ii(c+p+5*(1+Math.floor(p/7e3))+d),g=v.subarray(c,v.length-d),b=0;if(!a||p<8)for(var x=0;x<=p;x+=65535){var _=x+65535;_<p?b=b1(g,b,s.subarray(x,_)):(g[x]=f,b=b1(g,b,s.subarray(x,p)))}else{for(var w=K$[a-1],A=w>>>13,S=8191&w,O=(1<<o)-1,j=new bn(32768),N=new bn(O+1),P=Math.ceil(o/3),D=2*P,$=function(Bt){return(s[Bt]^s[Bt+1]<<P^s[Bt+2]<<D)&O},I=new Ul(25e3),M=new bn(288),H=new bn(32),q=0,G=0,K=(x=0,0),J=0,ae=0;x<p;++x){var ie=$(x),de=32767&x,L=N[ie];if(j[de]=L,N[ie]=de,J<=x){var V=p-x;if((q>7e3||K>24576)&&V>423){b=u2(s,g,0,I,M,H,G,K,ae,x-ae,b),K=q=G=0,ae=x;for(var ne=0;ne<286;++ne)M[ne]=0;for(ne=0;ne<30;++ne)H[ne]=0}var F=2,Ee=0,Te=S,fe=de-L&32767;if(V>2&&ie==$(x-fe))for(var $e=Math.min(A,V)-1,Oe=Math.min(32767,x),te=Math.min(258,V);fe<=Oe&&--Te&&de!=L;){if(s[x+F]==s[x+F-fe]){for(var ke=0;ke<te&&s[x+ke]==s[x+ke-fe];++ke);if(ke>F){if(F=ke,Ee=fe,ke>$e)break;var He=Math.min(fe,ke-2),he=0;for(ne=0;ne<He;++ne){var pt=x-fe+ne+32768&32767,Se=pt-j[pt]+32768&32767;Se>he&&(he=Se,L=pt)}}}fe+=(de=L)-(L=j[de])+32768&32767}if(Ee){I[K++]=268435456|v1[F]<<18|o2[Ee];var tt=31&v1[F],ut=31&o2[Ee];G+=px[tt]+mx[ut],++M[257+tt],++H[ut],J=x+F,++q}else I[K++]=s[x],++M[s[x]]}}b=u2(s,g,f,I,M,H,G,K,ae,x-ae,b)}return FI(v,0,c+BI(b)+d)})(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},Iv=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function J$(e,t){t===void 0&&(t={});var r=(function(){var o=4294967295;return{p:function(c){for(var d=o,f=0;f<c.length;++f)d=X$[255&d^c[f]]^d>>>8;o=d},d:function(){return 4294967295^o}}})(),n=e.length;r.p(e);var i,s=Q$(e,t,10+((i=t).filename&&i.filename.length+1||0),8),a=s.length;return(function(o,c){var d=c.filename;if(o[0]=31,o[1]=139,o[2]=8,o[8]=c.level<2?4:c.level==9?2:0,o[9]=3,c.mtime!=0&&Iv(o,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),d){o[3]=8;for(var f=0;f<=d.length;++f)o[f+10]=d.charCodeAt(f)}})(s,t),Iv(s,a-8,r.d()),Iv(s,a-4,n),s}var Z$=function(e){var t,r,n,i,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<n;i++){var a=e.charCodeAt(i),o=null;a<128?r++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),Ls(o)||(r>t&&(s+=e.substring(t,r)),s+=o,t=r=i+1)}return r>t&&(s+=e.substring(t,e.length)),s},eU=!!e1||!!Zb,c2="text/plain",Cp=function(e,t,r){var n;r===void 0&&(r=!0);var[i,s]=e.split("?"),a=Ie({},t),o=(n=s==null?void 0:s.split("&").map((d=>{var f,[p,v]=d.split("="),g=r&&(f=a[p])!==null&&f!==void 0?f:v;return delete a[p],p+"="+g})))!==null&&n!==void 0?n:[],c=s$(a);return c&&o.push(c),i+"?"+o.join("&")},Fc=(e,t)=>JSON.stringify(e,((r,n)=>typeof n=="bigint"?n.toString():n),t),Rv=e=>{var{data:t,compression:r}=e;if(t){if(r===bs.GZipJS){var n=J$((function(c,d){var f=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var p=new ii(c.length+(c.length>>>1)),v=0,g=function(w){p[v++]=w},b=0;b<f;++b){if(v+5>p.length){var x=new ii(v+8+(f-b<<1));x.set(p),p=x}var _=c.charCodeAt(b);_<128||d?g(_):_<2048?(g(192|_>>>6),g(128|63&_)):_>55295&&_<57344?(g(240|(_=65536+(1047552&_)|1023&c.charCodeAt(++b))>>>18),g(128|_>>>12&63),g(128|_>>>6&63),g(128|63&_)):(g(224|_>>>12),g(128|_>>>6&63),g(128|63&_))}return FI(p,0,v)})(Fc(t)),{mtime:0}),i=new Blob([n],{type:c2});return{contentType:c2,body:i,estimatedSize:i.size}}if(r===bs.Base64){var s=(function(c){var d,f,p,v,g,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=0,_=0,w="",A=[];if(!c)return c;c=Z$(c);do d=(g=c.charCodeAt(x++)<<16|c.charCodeAt(x++)<<8|c.charCodeAt(x++))>>18&63,f=g>>12&63,p=g>>6&63,v=63&g,A[_++]=b.charAt(d)+b.charAt(f)+b.charAt(p)+b.charAt(v);while(x<c.length);switch(w=A.join(""),c.length%3){case 1:w=w.slice(0,-2)+"==";break;case 2:w=w.slice(0,-1)+"="}return w})(Fc(t)),a=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Fc(c)))(s);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var o=Fc(t);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},ip=[];Zb&&ip.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:i,estimatedSize:s}=(t=Rv(e))!==null&&t!==void 0?t:{},a=new Headers;At(e.headers,(function(f,p){a.append(p,f)})),n&&a.append("Content-Type",n);var o=e.url,c=null;if(NS){var d=new NS;c={signal:d.signal,timeout:setTimeout((()=>d.abort()),e.timeout)}}Zb(o,Ie({method:(e==null?void 0:e.method)||"GET",headers:a,keepalive:e.method==="POST"&&(s||0)<52428.8,body:i,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then((f=>f.text().then((p=>{var v={statusCode:f.status,text:p};if(f.status===200)try{v.json=JSON.parse(p)}catch(g){Ne.error(g)}e.callback==null||e.callback(v)})))).catch((f=>{Ne.error(f),e.callback==null||e.callback({statusCode:0,text:f})})).finally((()=>c?clearTimeout(c.timeout):null))}}),e1&&ip.push({transport:"XHR",method:e=>{var t,r=new e1;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:i}=(t=Rv(e))!==null&&t!==void 0?t:{};At(e.headers,(function(s,a){r.setRequestHeader(a,s)})),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var s={statusCode:r.status,text:r.responseText};if(r.status===200)try{s.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(s)}},r.send(i)}}),Mn!=null&&Mn.sendBeacon&&ip.push({transport:"sendBeacon",method:e=>{var t=Cp(e.url,{beacon:"1"});try{var r,{contentType:n,body:i}=(r=Rv(e))!==null&&r!==void 0?r:{},s=typeof i=="string"?new Blob([i],{type:n}):i;Mn.sendBeacon(t,s)}catch{}}});var Ap=function(e,t){if(!(function(r){try{new RegExp(r)}catch{return!1}return!0})(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function d2(e,t,r){return Fc({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var $I={exact:(e,t)=>t.some((r=>e.some((n=>r===n)))),is_not:(e,t)=>t.every((r=>e.every((n=>r!==n)))),regex:(e,t)=>t.some((r=>e.some((n=>Ap(r,n))))),not_regex:(e,t)=>t.every((r=>e.every((n=>!Ap(r,n))))),icontains:(e,t)=>t.map(_f).some((r=>e.map(_f).some((n=>r.includes(n))))),not_icontains:(e,t)=>t.map(_f).every((r=>e.map(_f).every((n=>!r.includes(n)))))},_f=e=>e.toLowerCase();function UI(e,t){return!e||Object.entries(e).every((r=>{var[n,i]=r,s=t==null?void 0:t[n];if(Ce(s)||Ls(s))return!1;var a=[String(s)],o=$I[i.operator];return!!o&&o(i.values,a)}))}var Dv=lr("[Error tracking]");class tU{constructor(t){var r,n;this.Jt=[],this.Kt=new T9([new R9,new z9,new L9,new D9,new U9,new $9,new B9,new H9],I9("web:javascript",N9,P9)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(a1))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,i,s=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],a=(i=t.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[a1]:this.Jt,[$S]:a})}get Yt(){var t,r=!!this._instance.get_property($S),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void Dv.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void Dv.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void Dv.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce(((n,i)=>{var{type:s,value:a}=i;return or(s)&&s.length>0&&n.$exception_types.push(s),or(a)&&a.length>0&&n.$exception_values.push(a),n}),{$exception_types:[],$exception_values:[]});return this.Jt.some((n=>{var i=n.values.map((s=>{var a,o=$I[s.operator],c=xt(s.value)?s.value:[s.value],d=(a=r[s.key])!==null&&a!==void 0?a:[];return c.length>0&&o(c,d)}));return n.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(t){return t.flatMap((r=>{var n,i;return(n=(i=r.stacktrace)==null?void 0:i.frames)!==null&&n!==void 0?n:[]})).some((r=>r.filename&&r.filename.startsWith("chrome-extension://")))}ti(t){if(t.length>0){var r,n,i,s,a=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],o=a[a.length-1];return(i=o==null||(s=o.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(t){return!_t(t)&&xt(t)}}var xi=lr("[FeatureFlags]"),gc=lr("[FeatureFlags]",{debugEnabled:!0}),Lv="$active_feature_flags",hl="$override_feature_flags",h2="$feature_flag_payloads",vc="$override_feature_flag_payloads",f2="$feature_flag_request_id",p2="$feature_flag_evaluated_at",m2=e=>{var t={};for(var[r,n]of np(e||{}))n&&(t[r]=n);return t},rU=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map((r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter((r=>t[r].enabled)).filter((r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload})).map((r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]})))):xi.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},nU=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class iU{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter((r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||xi.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.vi({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(o1),r=this._instance.get_property(hl),n=this._instance.get_property(vc);if(!n&&!r)return t||{};var i=Yt({},t||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var a of s){var o,c,d=i[a],f=r==null?void 0:r[a],p=Ce(f)?(o=d==null?void 0:d.enabled)!==null&&o!==void 0&&o:!!f,v=Ce(f)?d.variant:typeof f=="string"?f:void 0,g=n==null?void 0:n[a],b=Ie({},d,{enabled:p,variant:p?v??(d==null?void 0:d.variant):void 0});p!==(d==null?void 0:d.enabled)&&(b.original_enabled=d==null?void 0:d.enabled),v!==(d==null?void 0:d.variant)&&(b.original_variant=d==null?void 0:d.variant),g&&(b.metadata=Ie({},d==null?void 0:d.metadata,{payload:g,original_payload:d==null||(c=d.metadata)==null?void 0:c.payload})),i[a]=b}return this.ii||(xi.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var t=this._instance.get_property(jl),r=this._instance.get_property(hl);if(!r)return t||{};for(var n=Yt({},t),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(xi.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(h2),r=this._instance.get_property(vc);if(!r)return t||{};for(var n=Yt({},t||{}),i=Object.keys(r),s=0;s<i.length;s++)n[i[s]]=r[i[s]];return this.ii||(xi.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.vi()}),5))}di(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}vi(t){var r;if(this.di(),!this._instance.O())if(this.ri)this.ni=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Ie({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Mc)||{}),group_properties:this._instance.get_property(so)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0),this.ui()&&(n.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,s=i?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",o=this._instance.requestRouter.endpointFor("flags",s+a);i&&(n.timezone=RI()),this.ri=!0,this._instance.ci({method:"POST",url:o,data:n,compression:this._instance.config.disable_compression?void 0:bs.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:c=>{var d,f,p=!0;if(c.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),p=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((f=c.json)!==null&&f!==void 0?f:{})),!n.disable_flags||this.ni)if(this.ai=!p,c.json&&(d=c.json.quotaLimited)!=null&&d.includes(nU.FeatureFlags))xi.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;n.disable_flags||this.receivedFeatureFlags((v=c.json)!==null&&v!==void 0?v:{},p),this.ni&&(this.ni=!1,this.vi())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],i=""+n,s=this._instance.get_property(f2)||void 0,a=this._instance.get_property(p2)||void 0,o=this._instance.get_property(vp)||{};if((r.send_event||!("send_event"in r))&&(!(t in o)||!o[t].includes(i))){var c,d,f,p,v,g,b,x,_;xt(o[t])?o[t].push(i):o[t]=[i],(c=this._instance.persistence)==null||c.register({[vp]:o});var w=this.getFeatureFlagDetails(t),A={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_evaluated_at:a,$feature_flag_bootstrapped_response:((d=this._instance.config.bootstrap)==null||(d=d.featureFlags)==null?void 0:d[t])||null,$feature_flag_bootstrapped_payload:((f=this._instance.config.bootstrap)==null||(f=f.featureFlagPayloads)==null?void 0:f[t])||null,$used_bootstrap_value:!this.ai};Ce(w==null||(p=w.metadata)==null?void 0:p.version)||(A.$feature_flag_version=w.metadata.version);var S,O=(v=w==null||(g=w.reason)==null?void 0:g.description)!==null&&v!==void 0?v:w==null||(b=w.reason)==null?void 0:b.code;O&&(A.$feature_flag_reason=O),w!=null&&(x=w.metadata)!=null&&x.id&&(A.$feature_flag_id=w.metadata.id),Ce(w==null?void 0:w.original_variant)&&Ce(w==null?void 0:w.original_enabled)||(A.$feature_flag_original_response=Ce(w.original_variant)?w.original_enabled:w.original_variant),w!=null&&(_=w.metadata)!=null&&_.original_payload&&(A.$feature_flag_original_payload=w==null||(S=w.metadata)==null?void 0:S.original_payload),this._instance.capture("$feature_flag_called",A)}return n}xi.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:bs.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var a,o=(a=s.json)==null?void 0:a.featureFlagPayloads;r((o==null?void 0:o[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Ce(n)?void 0:!!n}xi.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((r=>r!==t))}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),i=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(a,o,c,d,f){c===void 0&&(c={}),d===void 0&&(d={}),f===void 0&&(f={});var p=rU(a),v=p.flags,g=p.featureFlags,b=p.featureFlagPayloads;if(g){var x=a.requestId,_=a.evaluatedAt;if(xt(g)){xi.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var w={};if(g)for(var A=0;A<g.length;A++)w[g[A]]=!0;o&&o.register({[Lv]:g,[jl]:w})}else{var S=g,O=b,j=v;a.errorsWhileComputingFlags&&(S=Ie({},c,S),O=Ie({},d,O),j=Ie({},f,j)),o&&o.register(Ie({[Lv]:Object.keys(m2(S)),[jl]:S||{},[h2]:O||{},[o1]:j||{}},x?{[f2]:x}:{},_?{[p2]:_}:{}))}}})(t,this._instance.persistence,n,i,s),this.pi(r)}}override(t,r){r===void 0&&(r=!1),xi.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return xi.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(hl),this._instance.persistence.unregister(vc),this.pi(),gc.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(hl),gc.info("Flag overrides cleared");else if(n.flags){if(xt(n.flags)){for(var i={},s=0;s<n.flags.length;s++)i[n.flags[s]]=!0;this._instance.persistence.register({[hl]:i})}else this._instance.persistence.register({[hl]:n.flags});gc.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(vc),gc.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[vc]:n.payloads}),gc.info("Payload overrides set",{payloads:n.payloads}))),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.gi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var i,s=(this._instance.get_property(Lc)||[]).find((d=>d.flagKey===t)),a={["$feature_enrollment/"+t]:r},o={$feature_flag:t,$feature_enrollment:r,$set:a};s&&(o.$early_access_feature_name=s.name),n&&(o.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",o),this.setPersonPropertiesForFlags(a,!1);var c=Ie({},this.getFlagVariants(),{[t]:r});(i=this._instance.persistence)==null||i.register({[Lv]:Object.keys(m2(c)),[jl]:c}),this.pi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var i=this._instance.get_property(Lc),s=n?"&"+n.map((a=>"stage="+a)).join("&"):"";if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:a=>{var o,c;if(a.json){var d=a.json.earlyAccessFeatures;return(o=this._instance.persistence)==null||o.unregister(Lc),(c=this._instance.persistence)==null||c.register({[Lc]:d}),t(d)}}})}gi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter((n=>r[n])),flagVariants:Object.keys(r).filter((n=>r[n])).reduce(((n,i)=>(n[i]=r[i],n)),{})}}pi(t){var{flags:r,flagVariants:n}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(r,n,{errorsLoading:t})))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Mc)||{};this._instance.register({[Mc]:Ie({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Mc)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(so)||{};Object.keys(n).length!==0&&Object.keys(n).forEach((i=>{n[i]=Ie({},n[i],t[i]),delete t[i]})),this._instance.register({[so]:Ie({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(so)||{};this._instance.register({[so]:Ie({},r,{[t]:{}})})}else this._instance.unregister(so)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.di(),this.ii=!1}}var sU=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Mv{constructor(t,r){this.F=t,this.props={},this.mi=!1,this.yi=(n=>{var i="";return n.token&&(i=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+i+"_posthog"})(t),this.Y=this.bi(t),this.load(),t.debug&&Ne.info("Persistence loaded",t.persistence,Ie({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.wi}bi(t){sU.indexOf(t.persistence.toLowerCase())===-1&&(Ne.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&zt.H()?zt:r==="localstorage+cookie"&&gf.H()?gf:r==="sessionstorage"&&Ar.H()?Ar:r==="memory"?g$:r==="cookie"?Ji:gf.H()?gf:Ji}properties(){var t={};return At(this.props,(function(r,n){if(n===jl&&_r(r))for(var i=Object.keys(r),s=0;s<i.length;s++)t["$feature/"+i[s]]=r[i[s]];else o=n,c=!1,(Ls(a=K9)?c:AS&&a.indexOf===AS?a.indexOf(o)!=-1:(At(a,(function(d){if(c||(c=d===o))return mp})),c))||(t[n]=r);var a,o,c})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Yt({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.Si,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(_r(t)){Ce(r)&&(r="None"),this.xi=Ce(n)?this.$i:n;var i=!1;if(At(t,((s,a)=>{this.props.hasOwnProperty(a)&&this.props[a]!==r||(this.props[a]=s,i=!0)})),i)return this.save(),!0}return!1}register(t,r){if(_r(t)){this.xi=Ce(r)?this.$i:r;var n=!1;if(At(t,((i,s)=>{t.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,n=!0)})),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=AI(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);Nl(ax(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=Ae==null?void 0:Ae.referrer)?jI(t):{})}update_referrer_info(){var t;this.register_once({$referrer:OI(),$referring_domain:Ae!=null&&Ae.referrer&&((t=xp(Ae.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[d1]||this.props[h1]||this.register_once({[yp]:PI(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};At([h1,d1],(a=>{var o=this.props[a];o&&At(o,(function(c,d){t["$initial_"+t1(d)]=c}))}));var r,n,i=this.props[yp];if(i){var s=(r=II(i),n={},At(r,(function(a,o){n["$initial_"+t1(o)]=a})),n);Yt(t,s)}return t}safe_merge(t){return At(this.props,(function(r,n){n in t||(t[n]=r)})),t}update_config(t,r,n){if(this.$i=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var i=this.bi(t),s=this.props;this.clear(),this.Y=i,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Dc]||{};n[t]=r,this.props[Dc]=n,this.save()}remove_event_timer(t){var r=(this.props[Dc]||{})[t];return Ce(r)||(delete this.props[Dc][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var yc=(function(e){return e.Activation="events",e.Cancellation="cancelEvents",e})({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var Bv=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var sp=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),g2=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),HI=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class gx{constructor(){this.ki={},this.ki={}}on(t,r){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(r),()=>{this.ki[t]=this.ki[t].filter((n=>n!==r))}}emit(t,r){for(var n of this.ki[t]||[])n(r);for(var i of this.ki["*"]||[])i(t,r)}}function fl(e,t,r){if(_t(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class aU{constructor(t){this.Pi=new gx,this.Ti=(r,n)=>this.Ri(r,n)&&this.Ii(r,n)&&this.Fi(r,n)&&this.Ci(r,n),this.Ri=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.Mi=new Set,this.Oi=new Set}init(){var t;if(!Ce((t=this._instance)==null?void 0:t.Ai)){var r;(r=this._instance)==null||r.Ai(((n,i)=>{this.on(n,i)}))}}register(t){var r,n;if(!Ce((r=this._instance)==null?void 0:r.Ai)&&(t.forEach((a=>{var o,c;(o=this.Oi)==null||o.add(a),(c=a.steps)==null||c.forEach((d=>{var f;(f=this.Mi)==null||f.add((d==null?void 0:d.event)||"")}))})),(n=this._instance)!=null&&n.autocapture)){var i,s=new Set;t.forEach((a=>{var o;(o=a.steps)==null||o.forEach((c=>{c!=null&&c.selector&&s.add(c==null?void 0:c.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(s)}}on(t,r){var n;r!=null&&t.length!=0&&(this.Mi.has(t)||this.Mi.has(r==null?void 0:r.event))&&this.Oi&&((n=this.Oi)==null?void 0:n.size)>0&&this.Oi.forEach((i=>{this.Di(r,i)&&this.Pi.emit("actionCaptured",i.name)}))}ji(t){this.onAction("actionCaptured",(r=>t(r)))}Di(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Ti(t,n))return!0;return!1}onAction(t,r){return this.Pi.on(t,r)}Ii(t,r){if(r!=null&&r.url){var n,i=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!i||typeof i!="string"||!fl(i,r.url,r.url_matching||"contains"))return!1}return!0}Fi(t,r){return!!this.Li(t,r)&&!!this.Ni(t,r)&&!!this.Ui(t,r)}Li(t,r){var n;if(r==null||!r.href)return!0;var i=this.zi(t);if(i.length>0)return i.some((o=>fl(o.href,r.href,r.href_matching||"exact")));var s,a=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!a&&fl((s=a.match(/(?::|")href="(.*?)"/))?s[1]:"",r.href,r.href_matching||"exact")}Ni(t,r){var n;if(r==null||!r.text)return!0;var i=this.zi(t);if(i.length>0)return i.some((d=>fl(d.text,r.text,r.text_matching||"exact")||fl(d.$el_text,r.text,r.text_matching||"exact")));var s,a,o,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(s=(function(d){for(var f,p=[],v=/(?::|")text="(.*?)"/g;!_t(f=v.exec(d));)p.includes(f[1])||p.push(f[1]);return p})(c),a=r.text,o=r.text_matching||"exact",s.some((d=>fl(d,a,o))))}Ui(t,r){var n,i;if(r==null||!r.selector)return!0;var s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(s!=null&&s.includes(r.selector))return!0;var a=(t==null||(i=t.properties)==null?void 0:i.$elements_chain)||"";if(r.selector_regex&&a)try{return new RegExp(r.selector_regex).test(a)}catch{return!1}return!1}zi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Ci(t,r){return r==null||!r.properties||r.properties.length===0||UI(r.properties.reduce(((n,i)=>{var s=xt(i.value)?i.value.map(String):i.value!=null?[String(i.value)]:[];return n[i.key]={values:s,operator:i.operator||"exact"},n}),{}),t==null?void 0:t.properties)}}var gt=lr("[Surveys]"),_1="seenSurvey_",oU=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},v2=e=>{var t=""+_1+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+_1+e.id+"_"+e.current_iteration),t},lU=[Bv.Popover,Bv.Widget,Bv.API],uU={ignoreConditions:!1,ignoreDelay:!1,displayType:HI.Popover};let cU=class{constructor(t){this._instance=t,this.Hi=new Map,this.Bi=new Map,this.qi=new Map}Wi(t,r){return!!t&&UI(t.propertyFilters,r==null?void 0:r.properties)}Gi(t,r){var n=new Map;return t.forEach((i=>{var s;(s=i.conditions)==null||(s=s[r])==null||(s=s.values)==null||s.forEach((a=>{if(a!=null&&a.name){var o=n.get(a.name)||[];o.push(i.id),n.set(a.name,o)}}))})),n}Vi(t,r,n){var i,s=(n===yc.Activation?this.Hi:this.Bi).get(t),a=[];return(i=this._instance)==null||i.getSurveys((o=>{a=o.filter((c=>s==null?void 0:s.includes(c.id)))})),a.filter((o=>{var c,d=(c=o.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find((f=>f.name===t));return this.Wi(d,r)}))}register(t){var r;Ce((r=this._instance)==null?void 0:r.Ai)||(this.Ji(t),this.Ki(t))}Ki(t){var r=t.filter((n=>{var i,s;return((i=n.conditions)==null?void 0:i.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0}));r.length!==0&&(this.Yi==null&&(this.Yi=new aU(this._instance),this.Yi.init(),this.Yi.ji((n=>{this.onAction(n)}))),r.forEach((n=>{var i,s,a,o,c;n.conditions&&(i=n.conditions)!=null&&i.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0&&((o=this.Yi)==null||o.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach((d=>{if(d&&d.name){var f=this.qi.get(d.name);f&&f.push(n.id),this.qi.set(d.name,f||[n.id])}})))})))}Ji(t){var r,n=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.events)&&((o=s.conditions)==null||(o=o.events)==null||(o=o.values)==null?void 0:o.length)>0})),i=t.filter((s=>{var a,o;return((a=s.conditions)==null?void 0:a.cancelEvents)&&((o=s.conditions)==null||(o=o.cancelEvents)==null||(o=o.values)==null?void 0:o.length)>0}));(n.length!==0||i.length!==0)&&((r=this._instance)==null||r.Ai(((s,a)=>{this.onEvent(s,a)})),this.Hi=this.Gi(t,yc.Activation),this.Bi=this.Gi(t,yc.Cancellation))}onEvent(t,r){var n,i=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[mf])||[];if(sp.SHOWN===t&&r&&i.length>0){var s;gt.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:i});var a=r==null||(s=r.properties)==null?void 0:s.$survey_id;if(a){var o=i.indexOf(a);o>=0&&(i.splice(o,1),this.Xi(i))}}else{if(this.Bi.has(t)){var c=this.Vi(t,r,yc.Cancellation);c.length>0&&(gt.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map((f=>f.id))}),c.forEach((f=>{var p,v=i.indexOf(f.id);v>=0&&i.splice(v,1),(p=this._instance)==null||p.cancelPendingSurvey(f.id)})),this.Xi(i))}if(this.Hi.has(t)){gt.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Hi.get(t)});var d=this.Vi(t,r,yc.Activation);this.Xi(i.concat(d.map((f=>f.id))||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[mf])||[];this.qi.has(t)&&this.Xi(n.concat(this.qi.get(t)||[]))}Xi(t){var r;gt.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[mf]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[mf];return r||[]}getEventToSurveys(){return this.Hi}Qi(){return this.Yi}};class dU{constructor(t){this.Zi=void 0,this._surveyManager=null,this.te=!1,this.ie=!1,this.ee=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(_t(r))return gt.warn("Flags not loaded yet. Not loading surveys.");var n=xt(r);this.Zi=n?r.length>0:r,gt.info("flags response received, isSurveysEnabled: "+this.Zi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(_1)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.ie)gt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)gt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())gt.info("Not loading surveys in cookieless mode without consent.");else{var t=et==null?void 0:et.__PosthogExtensions__;if(t){if(!Ce(this.Zi)||this._instance.config.advanced_enable_surveys){var r=this.Zi||this._instance.config.advanced_enable_surveys;this.ie=!0;try{var n=t.generateSurveys;if(n)return void this.re(n,r);var i=t.loadExternalDependency;if(!i)return void this.se("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(s=>{s||!t.generateSurveys?this.se("Could not load surveys script",s):this.re(t.generateSurveys,r)}))}catch(s){throw this.se("Error initializing surveys",s),s}finally{this.ie=!1}}}else gt.error("PostHog Extensions not found.")}}re(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new cU(this._instance),gt.info("Surveys loaded successfully"),this.ne({isLoaded:!0})}se(t,r){gt.error(t,r),this.ne({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.ee.push(t),this._surveyManager&&this.ne({isLoaded:!0}),()=>{this.ee=this.ee.filter((r=>r!==t))}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return gt.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(l1);if(n&&!r)return t(n,{isLoaded:!0});if(this.te)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.te=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var s;this.te=!1;var a=i.statusCode;if(a!==200||!i.json){var o="Surveys API could not be loaded, status: "+a;return gt.error(o),t([],{isLoaded:!1,error:o})}var c,d=i.json.surveys||[],f=d.filter((p=>(function(v){return!(!v.start_date||v.end_date)})(p)&&((function(v){var g;return!((g=v.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)})(p)||(function(v){var g;return!((g=v.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)})(p))));return f.length>0&&((c=this._surveyEventReceiver)==null||c.register(f)),(s=this._instance.persistence)==null||s.register({[l1]:d}),t(d,{isLoaded:!0})}})}catch(i){throw this.te=!1,i}}ne(t){for(var r of this.ee)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){gt.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!_t(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);gt.warn("init was not called")}oe(t){var r=null;return this.getSurveys((n=>{var i;r=(i=n.find((s=>s.id===t)))!==null&&i!==void 0?i:null})),r}ae(t){if(_t(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.oe(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(_t(this._surveyManager))return gt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.ae(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return _t(this._surveyManager)?(gt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((n=>{this.getSurveys((i=>{var s,a=(s=i.find((c=>c.id===t)))!==null&&s!==void 0?s:null;if(a){var o=this.ae(a);n({visible:o.eligible,disabledReason:o.reason})}else n({visible:!1,disabledReason:"Survey not found"})}),r)}))}renderSurvey(t,r){var n;if(_t(this._surveyManager))gt.warn("init was not called");else{var i=typeof t=="string"?this.oe(t):t;if(i!=null&&i.id)if(lU.includes(i.type)){var s=Ae==null?void 0:Ae.querySelector(r);if(s)return(n=i.appearance)!=null&&n.surveyPopupDelaySeconds?(gt.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var a,o;gt.info("Rendering survey "+i.id+" with delay of "+((a=i.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(o=this._surveyManager)==null||o.renderSurvey(i,s),gt.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,s);gt.warn("Survey element not found")}else gt.warn("Surveys of type "+i.type+" cannot be rendered in the app");else gt.warn("Survey not found")}}displaySurvey(t,r){var n;if(_t(this._surveyManager))gt.warn("init was not called");else{var i=this.oe(t);if(i){var s=i;if((n=i.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(s=Ie({},i,{appearance:Ie({},i.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var a=this.canRenderSurvey(i);if(!a.visible)return void gt.warn("Survey is not eligible to be displayed: ",a.disabledReason)}r.displayType!==HI.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,r.selector)}else gt.warn("Survey not found")}}cancelPendingSurvey(t){_t(this._surveyManager)?gt.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var y2=lr("[RateLimiter]");class hU{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach((a=>{y2.info((a||"events")+" is quota limited."),this.serverLimits[a]=new Date().getTime()+6e4}))}catch(a){return void y2.warn('could not rate limit - continuing. Error: "'+(a==null?void 0:a.message)+'"',{text:s})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,i;t===void 0&&(t=!1);var s=new Date().getTime(),a=(r=(n=this.instance.persistence)==null?void 0:n.get_property(c1))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:s};a.tokens+=(s-a.last)/1e3*this.captureEventsPerSecond,a.last=s,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var o=a.tokens<1;return o||t||(a.tokens=Math.max(0,a.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,(i=this.instance.persistence)==null||i.set_property(c1,a),{isRateLimited:o,remainingTokens:a.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var to=lr("[RemoteConfig]");class fU{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=et._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}le(t){var r,n;(r=et.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",(()=>t(this.remoteConfig))):(to.error("PostHog Extensions not found. Cannot load remote config."),t())}ue(t){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return to.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.O())return void to.warn("Remote config is disabled. Falling back to local config.");this.le((t=>{if(!t)return to.info("No config found after loading remote JS config. Falling back to JSON."),void this.ue((r=>{this.fi(r)}));this.fi(t)}))}catch(t){to.error("Error loading remote config",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):to.info("__preview_remote_config is disabled. Logging config instead",t):to.error("Failed to fetch remote config from PostHog.")}}var x1=3e3;class pU{constructor(t,r){this.he=!0,this.ve=[],this.de=Yi((r==null?void 0:r.flush_interval_ms)||x1,250,5e3,Ne.createLogger("flush interval"),x1),this.ce=t}enqueue(t){this.ve.push(t),this.fe||this.pe()}unload(){this.ge();var t=this.ve.length>0?this._e():{},r=Object.values(t);[...r.filter((n=>n.url.indexOf("/e")===0)),...r.filter((n=>n.url.indexOf("/e")!==0))].map((n=>{this.ce(Ie({},n,{transport:"sendBeacon"}))}))}enable(){this.he=!1,this.pe()}pe(){var t=this;this.he||(this.fe=setTimeout((()=>{if(this.ge(),this.ve.length>0){var r=this._e(),n=function(){var s=r[i],a=new Date().getTime();s.data&&xt(s.data)&&At(s.data,(o=>{o.offset=Math.abs(o.timestamp-a),delete o.timestamp})),t.ce(s)};for(var i in r)n()}}),this.de))}ge(){clearTimeout(this.fe),this.fe=void 0}_e(){var t={};return At(this.ve,(r=>{var n,i=r,s=(i?i.batchKey:null)||i.url;Ce(t[s])&&(t[s]=Ie({},i,{data:[]})),(n=t[s].data)==null||n.push(i.data)})),this.ve=[],t}}var mU=["retriesPerformedSoFar"];class gU{constructor(t){this.me=!1,this.ye=3e3,this.ve=[],this._instance=t,this.ve=[],this.be=!0,!Ce(le)&&"onLine"in le.navigator&&(this.be=le.navigator.onLine,this.we=()=>{this.be=!0,this.Dt()},this.xe=()=>{this.be=!1},Zt(le,"online",this.we),Zt(le,"offline",this.xe))}get length(){return this.ve.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=MP(t,mU);es(r)&&r>0&&(n.url=Cp(n.url,{retry_count:r})),this._instance.ci(Ie({},n,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(r??0)<10?this.Se(Ie({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(i)}}))}Se(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=(function(a){var o=3e3*Math.pow(2,a),c=o/2,d=Math.min(18e5,o),f=(Math.random()-.5)*(d-c);return Math.ceil(d+f)})(r),i=Date.now()+n;this.ve.push({retryAt:i,requestOptions:t});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),Ne.warn(s),this.me||(this.me=!0,this.Ee())}Ee(){if(this.$e&&clearTimeout(this.$e),this.ve.length===0)return this.me=!1,void(this.$e=void 0);this.$e=setTimeout((()=>{this.be&&this.ve.length>0&&this.Dt(),this.Ee()}),this.ye)}Dt(){var t=Date.now(),r=[],n=this.ve.filter((s=>s.retryAt<t||(r.push(s),!1)));if(this.ve=r,n.length>0)for(var{requestOptions:i}of n)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.$e&&(clearTimeout(this.$e),this.$e=void 0),this.me=!1,Ce(le)||(this.we&&(le.removeEventListener("online",this.we),this.we=void 0),this.xe&&(le.removeEventListener("offline",this.xe),this.xe=void 0)),this.ve))try{this._instance.ci(Ie({},t,{transport:"sendBeacon"}))}catch(r){Ne.error(r)}this.ve=[]}}class vU{constructor(t){this.ke=()=>{var r,n,i,s;this.Pe||(this.Pe={});var a=this.scrollElement(),o=this.scrollY(),c=a?Math.max(0,a.scrollHeight-a.clientHeight):0,d=o+((a==null?void 0:a.clientHeight)||0),f=(a==null?void 0:a.scrollHeight)||0;this.Pe.lastScrollY=Math.ceil(o),this.Pe.maxScrollY=Math.max(o,(r=this.Pe.maxScrollY)!==null&&r!==void 0?r:0),this.Pe.maxScrollHeight=Math.max(c,(n=this.Pe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Pe.lastContentY=d,this.Pe.maxContentY=Math.max(d,(i=this.Pe.maxContentY)!==null&&i!==void 0?i:0),this.Pe.maxContentHeight=Math.max(f,(s=this.Pe.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=t}getContext(){return this.Pe}resetContext(){var t=this.Pe;return setTimeout(this.ke,0),t}startMeasuringScrollPosition(){Zt(le,"scroll",this.ke,{capture:!0}),Zt(le,"scrollend",this.ke,{capture:!0}),Zt(le,"resize",this.ke)}scrollElement(){if(!this._instance.config.scroll_root_selector)return le==null?void 0:le.document.documentElement;var t=xt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=le==null?void 0:le.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return le&&(le.scrollY||le.pageYOffset||le.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return le&&(le.scrollX||le.pageXOffset||le.document.documentElement.scrollLeft)||0}}var yU=e=>PI(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class b2{constructor(t,r,n,i){this.Te=s=>{var a=this.Re();if(!a||a.sessionId!==s){var o={sessionId:s,props:this.Ie(this._instance)};this.Fe.register({[u1]:o})}},this._instance=t,this.Ce=r,this.Fe=n,this.Ie=i||yU,this.Ce.onSessionId(this.Te)}Re(){return this.Fe.props[u1]}getSetOnceProps(){var t,r=(t=this.Re())==null?void 0:t.props;return r?"r"in r?II(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return At(ax(this.getSetOnceProps()),((r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+t1(n)]=r})),t}}var Fv=lr("[SessionId]");class _2{on(t,r){return this.Me.on(t,r)}constructor(t,r,n){var i;if(this.Oe=[],this.Ae=void 0,this.Me=new gx,this.De=(f,p)=>Math.abs(f-p)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=t.config,this.Fe=t.persistence,this.je=void 0,this.Le=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ne=r||wa,this.Ue=n||wa;var s=this.F.persistence_name||this.F.token,a=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Yi(a,60,36e3,Fv.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.ze(),this.He="ph_"+s+"_window_id",this.Be="ph_"+s+"_primary_window_exists",this.qe()){var o=Ar.W(this.He),c=Ar.W(this.Be);o&&!c?this.je=o:Ar.V(this.He),Ar.G(this.Be,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var d=(f=>{var p=f.replace(/-/g,"");if(p.length!==32)throw new Error("Not a valid UUID");if(p[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(p.substring(0,12),16)})(this.F.bootstrap.sessionID);this.We(this.F.bootstrap.sessionID,new Date().getTime(),d)}catch(f){Fv.error("Invalid sessionID in bootstrap",f)}this.Ge()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Ce(this.Oe)&&(this.Oe=[]),this.Oe.push(t),this.Le&&t(this.Le,this.je),()=>{this.Oe=this.Oe.filter((r=>r!==t))}}qe(){return this.F.persistence!=="memory"&&!this.Fe.wi&&Ar.H()}Ve(t){t!==this.je&&(this.je=t,this.qe()&&Ar.G(this.He,t))}Je(){return this.je?this.je:this.qe()?Ar.W(this.He):null}We(t,r,n){t===this.Le&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.Le=t,this.Fe.register({[gp]:[r,t,n]}))}Ke(){var t=this.Fe.props[gp];return xt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.We(null,null,null)}destroy(){clearTimeout(this.Ye),this.Ye=void 0,this.Ae&&le&&(le.removeEventListener("beforeunload",this.Ae,{capture:!1}),this.Ae=void 0),this.Oe=[]}Ge(){this.Ae=()=>{this.qe()&&Ar.V(this.Be)},Zt(le,"beforeunload",this.Ae,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[i,s,a]=this.Ke(),o=this.Je(),c=es(a)&&a>0&&Math.abs(n-a)>864e5,d=!1,f=!s,p=!f&&!t&&this.De(n,i);f||p||c?(s=this.Ne(),o=this.Ue(),Fv.info("new session ID generated",{sessionId:s,windowId:o,changeReason:{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:c}}),a=n,d=!0):o||(o=this.Ue(),d=!0);var v=i===0||!t||c?n:i,g=a===0?new Date().getTime():a;return this.Ve(o),this.We(s,v,g),t||this.ze(),d&&this.Oe.forEach((b=>b(s,o,d?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:c}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:g,changeReason:d?{noSessionId:f,activityTimeout:p,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:i}}ze(){clearTimeout(this.Ye),this.Ye=setTimeout((()=>{var[t]=this.Ke();if(this.De(new Date().getTime(),t)){var r=this.Le;this.resetSessionId(),this.Me.emit("forcedIdleReset",{idleSessionId:r})}}),1.1*this.sessionTimeoutMs)}}var bU=["$set_once","$set"],da=lr("[SiteApps]");class _U{constructor(t){this._instance=t,this.Xe=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Qe(t,r){if(r){var n=this.globalsForEvent(r);this.Xe.push(n),this.Xe.length>1e3&&(this.Xe=this.Xe.slice(10))}}get siteAppLoaders(){var t;return(t=et._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ai(this.Qe.bind(this));this.Ze=()=>{t(),this.Xe=[],this.Ze=void 0}}}globalsForEvent(t){var r,n,i,s,a,o,c;if(!t)throw new Error("Event payload is required");var d={},f=this._instance.get_property("$groups")||[],p=this._instance.get_property("$stored_group_properties")||{};for(var[v,g]of Object.entries(p))d[v]={id:f[v],type:v,properties:g};var{$set_once:b,$set:x}=t;return{event:Ie({},MP(t,bU),{properties:Ie({},t.properties,x?{$set:Ie({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},x)}:{},b?{$set_once:Ie({},(i=(s=t.properties)==null?void 0:s.$set_once)!==null&&i!==void 0?i:{},b)}:{}),elements_chain:(a=(o=t.properties)==null?void 0:o.$elements_chain)!==null&&a!==void 0?a:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:d}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var o;!r.errored&&this.Xe.length&&(da.info("Processing "+this.Xe.length+" events for site app with id "+t.id),this.Xe.forEach((c=>r.processEvent==null?void 0:r.processEvent(c))),r.processedBuffer=!0),Object.values(this.apps).every((c=>c.processedBuffer||c.errored))&&((o=this.Ze)==null||o.call(this))},i=!1,s=o=>{r.errored=!o,r.loaded=!0,da.info("Site app with id "+t.id+" "+(o?"loaded":"errored")),i&&n()};try{var{processEvent:a}=t.init({posthog:this._instance,callback:o=>{s(o)}});a&&(r.processEvent=a),i=!0}catch(o){da.error("Error while initializing PostHog app with config id "+t.id,o),s(!1)}if(i&&r.loaded)try{n()}catch(o){da.error("Error while processing buffered events PostHog app with config id "+t.id,o),r.errored=!0}}tr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ir(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(i){da.error("Error while processing event "+t.event+" for site app "+n.id,i)}}}onRemoteConfig(t){var r,n,i,s=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.tr(),void this._instance.on("eventCaptured",(d=>this.ir(d)))):void da.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.Ze)==null||n.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var a=function(d){var f;et["__$$ph_site_app_"+d]=s._instance,(f=et.__PosthogExtensions__)==null||f.loadSiteApp==null||f.loadSiteApp(s._instance,c,(p=>{if(p)return da.error("Error while initializing PostHog app with config id "+d,p)}))};for(var{id:o,url:c}of t.siteApps)a(o)}else da.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var zI=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&PS(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some((i=>PS(i==null?void 0:i.brand,t))))return!0}catch{}return!!e.webdriver},$c=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),x2="i.posthog.com";class xU{constructor(t){this.er={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+x2,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.er[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=$c.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.er[this.apiHost]=$c.EU:this.er[this.apiHost]=$c.CUSTOM),this.er[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===$c.CUSTOM)return this.apiHost+r;var n=x2+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var wU={icontains:(e,t)=>!!le&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!le&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!le&&Ap(t.href,e),not_regex:(e,t)=>!!le&&!Ap(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class Fr{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments((i=>{Fr.rr("retrieved web experiments from the server"),r.sr=new Map,i.forEach((s=>{if(s.feature_flag_key){var a;r.sr&&(Fr.rr("setting flag key ",s.feature_flag_key," to web experiment ",s),(a=r.sr)==null||a.set(s.feature_flag_key,s));var o=r._instance.getFeatureFlag(s.feature_flag_key);or(o)&&s.variants[o]&&r.nr(s.name,o,s.variants[o].transforms)}else if(s.variants)for(var c in s.variants){var d=s.variants[c];Fr.ar(d)&&r.nr(s.name,c,d.transforms)}}))}),n)},this._instance=t,this._instance.onFeatureFlags((n=>{this.onFeatureFlags(n)}))}onFeatureFlags(t){if(this._is_bot())Fr.rr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(_t(this.sr))return this.sr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Fr.rr("applying feature flags",t),t.forEach((r=>{var n;if(this.sr&&(n=this.sr)!=null&&n.has(r)){var i,s=this._instance.getFeatureFlag(r),a=(i=this.sr)==null?void 0:i.get(r);s&&a!=null&&a.variants[s]&&this.nr(a.name,s,a.variants[s].transforms)}}))}}previewWebExperiment(){var t=Fr.getWindowLocation();if(t!=null&&t.search){var r=wp(t==null?void 0:t.search,"__experiment_id"),n=wp(t==null?void 0:t.search,"__experiment_variant");r&&n&&(Fr.rr("previewing web experiments "+r+" && "+n),this.getWebExperiments((i=>{this.lr(parseInt(r),n,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!r)return t(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var a=s.json.experiments||[];return t(a)}})}lr(t,r,n){var i=n.filter((s=>s.id===t));i&&i.length>0&&(Fr.rr("Previewing web experiment ["+i[0].name+"] with variant ["+r+"]"),this.nr(i[0].name,r,i[0].variants[r].transforms))}static ar(t){return!_t(t.conditions)&&Fr.ur(t)&&Fr.hr(t)}static ur(t){var r;if(_t(t.conditions)||_t((r=t.conditions)==null?void 0:r.url))return!0;var n,i,s,a=Fr.getWindowLocation();return!!a&&((n=t.conditions)==null||!n.url||wU[(i=(s=t.conditions)==null?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,a))}static getWindowLocation(){return le==null?void 0:le.location}static hr(t){var r;if(_t(t.conditions)||_t((r=t.conditions)==null?void 0:r.utm))return!0;var n=AI();if(n.utm_source){var i,s,a,o,c,d,f,p,v=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,g=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_source||((o=t.conditions)==null||(o=o.utm)==null?void 0:o.utm_source)==n.utm_source,b=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((d=t.conditions)==null||(d=d.utm)==null?void 0:d.utm_medium)==n.utm_medium,x=(f=t.conditions)==null||(f=f.utm)==null||!f.utm_term||((p=t.conditions)==null||(p=p.utm)==null?void 0:p.utm_term)==n.utm_term;return v&&b&&x&&g}return!1}static rr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];Ne.info("[WebExperiments] "+t,n)}nr(t,r,n){this._is_bot()?Fr.rr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach((i=>{if(i.selector){var s;Fr.rr("applying transform of variant "+r+" for experiment "+t+" ",i);var a=(s=document)==null?void 0:s.querySelectorAll(i.selector);a==null||a.forEach((o=>{var c=o;i.html&&(c.innerHTML=i.html),i.css&&c.setAttribute("style",i.css)}))}})):Fr.rr("Control variants leave the page unmodified.")}_is_bot(){return Mn&&this._instance?zI(Mn,this._instance.config.custom_blocked_useragents):void 0}}var EU=lr("[PostHog ExternalIntegrations]"),kU={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class TU{constructor(t){this._instance=t}it(t,r){var n;(n=et.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,(i=>{if(i)return EU.error("failed to load script",i);r()}))}startIfEnabledOrStop(){var t=this,r=function(a){var o,c,d;!i||(o=et.__PosthogExtensions__)!=null&&(o=o.integrations)!=null&&o[a]||t.it(kU[a],(()=>{var f;(f=et.__PosthogExtensions__)==null||(f=f.integrations)==null||(f=f[a])==null||f.start(t._instance)})),!i&&(c=et.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[a]&&((d=et.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[a])==null||d.stop())};for(var[n,i]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;r(n)}}}var w1="[SessionRecording]",bc=lr(w1);class w2{get started(){var t;return!((t=this.vr)==null||!t.isStarted)}get status(){return this.vr?this.vr.status:this.dr&&!this.cr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.dr=!1,this.pr=void 0,this._instance=t,!this._instance.sessionManager)throw bc.error("started without valid sessionManager"),new Error(w1+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(w1+' cannot be used with cookieless_mode="always"')}get cr(){var t,r=!((t=this._instance.get_property(Sv))==null||!t.enabled),n=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return le&&r&&n&&!i}startIfEnabledOrStop(t){var r;if(!this.cr||(r=this.vr)==null||!r.isStarted){var n=!Ce(Object.assign)&&!Ce(Array.from);this.cr&&n?(this.gr(t),bc.info("starting")):this.stopRecording()}}gr(t){var r,n,i;this.cr&&(et!=null&&(r=et.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=et.__PosthogExtensions__)!=null&&n.initSessionRecording?this._r(t):(i=et.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.mr,(s=>{if(s)return bc.error("could not load recorder",s);this._r(t)})))}stopRecording(){var t,r;(t=this.pr)==null||t.call(this),this.pr=void 0,(r=this.vr)==null||r.stop()}yr(){var t;(t=this._instance.persistence)==null||t.unregister(GP)}br(t){if(this._instance.persistence){var r,n,i=this._instance.persistence,s=()=>{var a=t.sessionRecording===!1?void 0:t.sessionRecording,o=a==null?void 0:a.sampleRate,c=_t(o)?null:parseFloat(o);_t(c)&&this.yr();var d=a==null?void 0:a.minimumDurationMilliseconds;i.register({[Sv]:Ie({enabled:!!a},a,{networkPayloadCapture:Ie({capturePerformance:t.capturePerformance},a==null?void 0:a.networkPayloadCapture),canvasRecording:{enabled:a==null?void 0:a.recordCanvas,fps:a==null?void 0:a.canvasFps,quality:a==null?void 0:a.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Ce(d)?null:d,endpoint:a==null?void 0:a.endpoint,triggerMatchType:a==null?void 0:a.triggerMatchType,masking:a==null?void 0:a.masking,urlTriggers:a==null?void 0:a.urlTriggers})})};s(),(r=this.pr)==null||r.call(this),this.pr=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.br(t),this.dr=!0,this.startIfEnabledOrStop()):this.dr=!0:bc.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.vr)!=null&&n.log?this.vr.log(t,r):bc.warn("log called before recorder was ready")}get mr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(Sv);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}_r(t){var r,n;if((r=et.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.vr||(this.vr=(n=et.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.vr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.vr.start(t)}onRRwebEmit(t){var r;(r=this.vr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.vr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.vr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.vr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.vr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.vr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.vr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.vr)==null||!n.tryAddCustomEvent(t,r))}}var Vc={},E1=()=>{},kl="posthog",WI=!eU&&(mn==null?void 0:mn.indexOf("MSIE"))===-1&&(mn==null?void 0:mn.indexOf("Mozilla"))===-1,E2=e=>{var t;return Ie({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:Y9(Ae==null?void 0:Ae.location),persistence:"localStorage+cookie",persistence_name:"",loaded:E1,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:vn&&or(vn==null?void 0:vn.search)&&vn.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(le==null||(t=le.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;Ne.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:x1},error_tracking:{},_onCapture:E1,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},k2=e=>{var t={};Ce(e.process_person)||(t.person_profiles=e.process_person),Ce(e.xhr_headers)||(t.request_headers=e.xhr_headers),Ce(e.cookie_name)||(t.persistence_name=e.cookie_name),Ce(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Ce(e.store_google)||(t.save_campaign_params=e.store_google),Ce(e.verbose)||(t.debug=e.verbose);var r=Yt({},t,e);return xt(e.property_blacklist)&&(Ce(e.property_denylist)?r.property_denylist=e.property_blacklist:xt(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:Ne.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class SU{constructor(){this.__forceAllowLocalhost=!1}get wr(){return this.__forceAllowLocalhost}set wr(t){Ne.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Lm{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new SU,this.Sr=!1,this.version=ms.LIB_VERSION,this.Er=new gx,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=E2(),this.SentryIntegration=E$,this.sentryIntegration=t=>(function(r,n){var i=dI(r,n);return{name:cI,processEvent:s=>i(s)}})(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$r=!1,this.kr=null,this.Pr=null,this.Tr=null,this.featureFlags=new iU(this),this.toolbar=new T$(this),this.scrollManager=new vU(this),this.pageViewManager=new q$(this),this.surveys=new dU(this),this.experiments=new Fr(this),this.exceptions=new tU(this),this.rateLimiter=new hU(this),this.requestRouter=new xU(this),this.consent=new v$(this),this.externalIntegrations=new TU(this),this.people={set:(t,r,n)=>{var i=or(t)?{[t]:r}:t;this.setPersonProperties(i),n==null||n({})},set_once:(t,r,n)=>{var i=or(t)?{[t]:r}:t;this.setPersonProperties(void 0,i),n==null||n({})}},this.on("eventCaptured",(t=>Ne.info('send "'+(t==null?void 0:t.event)+'"',t)))}init(t,r,n){if(n&&n!==kl){var i,s=(i=Vc[n])!==null&&i!==void 0?i:new Lm;return s._init(t,r,n),Vc[n]=s,Vc[kl][n]=s,s}return this._init(t,r,n)}_init(t,r,n){var i;if(r===void 0&&(r={}),Ce(t)||r1(t))return Ne.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Rr(r.debug),this.Ir=r,this.Fr=[],r.person_profiles&&(this.Pr=r.person_profiles),this.set_config(Yt({},E2(r.defaults),k2(r),{name:n,token:t})),this.config.on_xhr_error&&Ne.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:bs.GZipJS;var s=this.Cr();this.persistence=new Mv(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Mv(Ie({},this.config,{persistence:"sessionStorage"}),s);var a=Ie({},this.persistence.props),o=Ie({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Mr=new pU((A=>this.Or(A)),this.config.request_queue_config),this.Ar=new gU(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new _2(this),this.sessionPropsManager=new b2(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Ne.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Dr(c)}),0)):(Ne.info("Initializing extensions synchronously"),this.Dr(c)),ms.DEBUG=ms.DEBUG||this.config.debug,ms.DEBUG&&Ne.info("Starting in debug mode",{this:this,config:r,thisC:Ie({},this.config),p:a,s:o}),((i=r.bootstrap)==null?void 0:i.distinctID)!==void 0){var d,f,p=this.config.get_device_id(wa()),v=(d=r.bootstrap)!=null&&d.isIdentifiedID?p:r.bootstrap.distinctID;this.persistence.set_property(gs,(f=r.bootstrap)!=null&&f.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:v})}if(this.jr()){var g,b,x=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter((A=>{var S;return!((S=r.bootstrap)==null||(S=S.featureFlags)==null||!S[A])})).reduce(((A,S)=>{var O;return A[S]=((O=r.bootstrap)==null||(O=O.featureFlags)==null?void 0:O[S])||!1,A}),{}),_=Object.keys(((b=r.bootstrap)==null?void 0:b.featureFlagPayloads)||{}).filter((A=>x[A])).reduce(((A,S)=>{var O,j;return(O=r.bootstrap)!=null&&(O=O.featureFlagPayloads)!=null&&O[S]&&(A[S]=(j=r.bootstrap)==null||(j=j.featureFlagPayloads)==null?void 0:j[S]),A}),{});this.featureFlags.receivedFeatureFlags({featureFlags:x,featureFlagPayloads:_})}if(c)this.register_once({distinct_id:dc,$device_id:null},"");else if(!this.get_distinct_id()){var w=this.config.get_device_id(wa());this.register_once({distinct_id:w,$device_id:w},""),this.persistence.set_property(gs,"anonymous")}return Zt(le,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?w$(this,(()=>this.Lr())):this.Lr(),ka(this.config._onCapture)&&this.config._onCapture!==E1&&(Ne.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(A=>this.config._onCapture(A.event,A)))),this.config.ip&&Ne.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Dr(t){var r=performance.now();this.historyAutocapture=new x$(this),this.historyAutocapture.startIfEnabled();var n=[];n.push((()=>{new C$(this).startIfEnabledOrStop()})),n.push((()=>{var i;this.siteApps=new _U(this),(i=this.siteApps)==null||i.init()})),t||n.push((()=>{this.sessionRecording=new w2(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||n.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),n.push((()=>{this.autocapture=new u$(this),this.autocapture.startIfEnabled()})),n.push((()=>{this.surveys.loadIfEnabled()})),n.push((()=>{this.heatmaps=new W$(this),this.heatmaps.startIfEnabled()})),n.push((()=>{this.webVitalsAutocapture=new H$(this)})),n.push((()=>{this.exceptionObserver=new _$(this),this.exceptionObserver.startIfEnabled()})),n.push((()=>{this.deadClicksAutocapture=new uI(this,b$),this.deadClicksAutocapture.startIfEnabled()})),n.push((()=>{if(this.Nr){var i=this.Nr;this.Nr=void 0,this.fi(i)}})),this.Ur(n,r)}Ur(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout((()=>{this.Ur(t,r)}),0);var n=t.shift();if(n)try{n()}catch(s){Ne.error("Error initializing extension:",s)}}var i=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&Ne.info("PostHog extensions initialized ("+i+"ms)")}fi(t){var r,n,i,s,a,o,c,d;if(!Ae||!Ae.body)return Ne.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Nr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=st(t.supportedCompression,bs.GZipJS)?bs.GZipJS:st(t.supportedCompression,bs.Base64)?bs.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Pr?this.Pr:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(s=this.autocapture)==null||s.onRemoteConfig(t),(a=this.heatmaps)==null||a.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(o=this.webVitalsAutocapture)==null||o.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(d=this.deadClicksAutocapture)==null||d.onRemoteConfig(t)}Lr(){try{this.config.loaded(this)}catch(t){Ne.critical("`loaded` function failed",t)}this.zr(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Hr()}),1),new fU(this).load(),this.featureFlags.flags()}zr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Mr)==null||t.enable())}_dom_loaded(){this.is_capturing()&&Sa(this.__request_queue,(t=>this.Or(t))),this.__request_queue=[],this.zr()}_handle_unload(){var t,r;this.config.request_batching?(this.Br()&&this.capture("$pageleave"),(t=this.Mr)==null||t.unload(),(r=this.Ar)==null||r.unload()):this.Br()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(t){this.__loaded&&(WI?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Cp(t.url,{ip:this.config.ip?1:0}),t.headers=Ie({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,i,s,a=Ie({},r);a.timeout=a.timeout||6e4,a.url=Cp(a.url,{_:new Date().getTime().toString(),ver:ms.LIB_VERSION,compression:a.compression});var o=(n=a.transport)!==null&&n!==void 0?n:"fetch",c=ip.filter((f=>!a.disableTransport||!f.transport||!a.disableTransport.includes(f.transport))),d=(i=(s=WP(c,(f=>f.transport===o)))==null?void 0:s.method)!==null&&i!==void 0?i:c[0].method;if(!d)throw new Error("No available transport method");d(a)})(Ie({},t,{callback:r=>{var n,i;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(i=this.config).on_request_error)==null||n.call(i,r)),t.callback==null||t.callback(r)}}))))}Or(t){this.Ar?this.Ar.retriableRequest(t):this.ci(t)}_execute_array(t){var r,n=[],i=[],s=[];Sa(t,(o=>{o&&(r=o[0],xt(r)?s.push(o):ka(o)?o.call(this):xt(o)&&r==="alias"?n.push(o):xt(o)&&r.indexOf("capture")!==-1&&ka(this[r])?s.push(o):i.push(o))}));var a=function(o,c){Sa(o,(function(d){if(xt(d[0])){var f=c;At(d,(function(p){f=f[p[0]].apply(f,p.slice(1))}))}else this[d[0]].apply(this,d.slice(1))}),c)};a(n,this),a(i,this),a(s,this)}jr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Mr){if(this.is_capturing())if(!Ce(t)&&or(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var a=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(a==null||!a.isRateLimited){r!=null&&r.$current_url&&!or(r==null?void 0:r.$current_url)&&(Ne.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,c=(n==null?void 0:n.timestamp)||o,d=wa(),f={uuid:d,event:t,properties:this.calculateEventProperties(t,r||{},c,d)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&s&&(f.event="$bot_pageview",f.properties.$browser_type="bot"),a&&(f.properties.$lib_rate_limit_remaining_tokens=a.remainingTokens),n!=null&&n.$set&&(f.$set=n==null?void 0:n.$set);var p,v=this.qr(n==null?void 0:n.$set_once);if(v&&(f.$set_once=v),(f=V9(f,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Ce(n==null?void 0:n.timestamp)||(f.properties.$event_time_override_provided=!0,f.properties.$event_time_override_system_time=o),t===sp.DISMISSED||t===sp.SENT){var g=r==null?void 0:r[g2.SURVEY_ID],b=r==null?void 0:r[g2.SURVEY_ITERATION];p={id:g,current_iteration:b},localStorage.getItem(v2(p))||localStorage.setItem(v2(p),"true"),f.$set=Ie({},f.$set,{[oU({id:g,current_iteration:b},t===sp.SENT?"responded":"dismissed")]:!0})}var x=Ie({},f.properties.$set,f.$set);if(Nl(x)||this.setPersonPropertiesForFlags(x),!_t(this.config.before_send)){var _=this.Wr(f);if(!_)return;f=_}this.Er.emit("eventCaptured",f);var w={method:"POST",url:(i=n==null?void 0:n._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:f,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Or(w):this.Mr.enqueue(w),f}Ne.critical("This capture call is ignored due to client rate limiting.")}}else Ne.error("No event name provided to posthog.capture")}else Ne.uninitializedWarning("posthog.capture")}Ai(t){return this.on("eventCaptured",(r=>t(r.event,r)))}calculateEventProperties(t,r,n,i,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var a=s?void 0:this.persistence.remove_event_timer(t),o=Ie({},r);if(o.token=this.config.token,o.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(o.$cookieless_mode=!0),t==="$snapshot"){var c=Ie({},this.persistence.properties(),this.sessionPersistence.properties());return o.distinct_id=c.distinct_id,(!or(o.distinct_id)&&!es(o.distinct_id)||r1(o.distinct_id))&&Ne.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var d,f=U$(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());o.$session_id=p,o.$window_id=v}this.sessionPropsManager&&Yt(o,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Yt(o,this.sessionRecording.sdkDebugProperties),o.$sdk_debug_retry_queue_size=(g=this.Ar)==null?void 0:g.length}catch(w){o.$sdk_debug_error_capturing_properties=String(w)}if(this.requestRouter.region===$c.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),d=t!=="$pageview"||s?t!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,i),o=Yt(o,d),t==="$pageview"&&Ae&&(o.title=Ae.title),!Ce(a)){var b=n.getTime()-a;o.$duration=parseFloat((b/1e3).toFixed(3))}mn&&this.config.opt_out_useragent_filter&&(o.$browser_type=this._is_bot()?"bot":"browser"),(o=Yt({},f,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),xt(this.config.property_denylist)?At(this.config.property_denylist,(function(w){delete o[w]})):Ne.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var x=this.config.sanitize_properties;x&&(Ne.error("sanitize_properties is deprecated. Use before_send instead"),o=x(o,t));var _=this.Gr();return o.$process_person_profile=_,_&&!s&&this.Vr("_calculate_event_properties"),o}qr(t){var r;if(!this.persistence||!this.Gr()||this.Sr)return t;var n=this.persistence.get_initial_props(),i=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),s=Yt({},n,i||{},t||{}),a=this.config.sanitize_properties;return a&&(Ne.error("sanitize_properties is deprecated. Use before_send instead"),s=a(s,"$set_once")),this.Sr=!0,Nl(s)?void 0:s}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var i;(i=this.persistence)==null||i.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}Jr(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Er.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=uU),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return Ne.uninitializedWarning("posthog.identify");if(es(t)&&(t=t.toString(),Ne.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))Ne.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==dc){if(this.Vr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==i&&t!==this.get_property(Rc)&&(this.unregister(Rc),this.register({distinct_id:t}));var a=(this.persistence.get_property(gs)||"anonymous")==="anonymous";t!==i&&a?(this.persistence.set_property(gs,"identified"),this.setPersonPropertiesForFlags(Ie({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:r||{},$set_once:n||{}}),this.Tr=d2(t,r,n),this.featureFlags.setAnonymousDistinctId(i)):(r||n)&&this.setPersonProperties(r,n),t!==i&&(this.reloadFeatureFlags(),this.unregister(vp))}}else Ne.critical('The string "'+dc+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Ne.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.Vr("posthog.setPersonProperties")){var n=d2(this.get_distinct_id(),t,r);this.Tr!==n?(this.setPersonPropertiesForFlags(Ie({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Tr=n):Ne.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){if(this.Vr("posthog.group")){var i=this.getGroups();i[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:Ie({},i,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),i[t]===r||n||this.reloadFeatureFlags()}}else Ne.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.Vr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,i,s;if(Ne.info("reset"),!this.__loaded)return Ne.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(gs,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Tr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:dc,$device_id:null},"");else{var o=this.config.get_device_id(wa());this.register_once({distinct_id:o,$device_id:t?o:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var s,a=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-a,0)}return i}alias(t,r){return t===this.get_property(qP)?(Ne.critical("Attempting to create alias for existing People user - aborting."),-2):this.Vr("posthog.alias")?(Ce(r)&&(r=this.get_distinct_id()),t!==r?(this.Jr(Rc,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(Ne.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=Ie({},this.config);if(_r(t)){var n,i,s,a,o;Yt(this.config,k2(t));var c=this.Cr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Mv(Ie({},this.config,{persistence:"sessionStorage"}),c);var d=this.Rr(this.config.debug);Ta(d)&&(this.config.debug=d),Ta(this.config.debug)&&(this.config.debug?(ms.DEBUG=!0,zt.H()&&zt.G("ph_debug","true"),Ne.info("set_config",{config:t,oldConfig:r,newConfig:Ie({},this.config)})):(ms.DEBUG=!1,zt.H()&&zt.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.Kr(),(o=this.externalIntegrations)==null||o.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var i,s,a,o,c;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((a=this.sessionRecording)==null||a.overrideLinkedFlag()),n.url_trigger&&((o=this.sessionRecording)==null||o.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(Ie({},i,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:kl;return r!==kl&&(r=kl+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(gs))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(gs))==="identified"}Gr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Nl(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Rc])&&((r=this.persistence)==null||(r=r.props)==null||!r[bp]))}Br(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Gr()||this.Vr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Vr(t){return this.config.person_profiles==="never"?(Ne.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Jr(bp,!0),!0)}Cr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}Kr(){var t,r,n,i,s=this.Cr();return((t=this.persistence)==null?void 0:t.wi)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((r=this.sessionPersistence)==null?void 0:r.wi)!==s&&((i=this.sessionPersistence)==null||i.set_disabled(s)),s}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,i;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new _2(this),this.persistence&&(this.sessionPropsManager=new b2(this,this.sessionManager,this.persistence)),this.sessionRecording=new w2(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Kr(),this.zr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Ce(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((i=t==null?void 0:t.captureEventName)!==null&&i!==void 0?i:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Hr()}else Ne.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Kr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:dc,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Hr())):Ne.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===vs.GRANTED?"granted":t===vs.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Kr()}_is_bot(){return Mn?zI(Mn,this.config.custom_blocked_useragents):void 0}Hr(){Ae&&(Ae.visibilityState==="visible"?this.$r||(this.$r=!0,this.capture("$pageview",{title:Ae.title},{send_instantly:!0}),this.kr&&(Ae.removeEventListener("visibilitychange",this.kr),this.kr=null)):this.kr||(this.kr=this.Hr.bind(this),Zt(Ae,"visibilitychange",this.kr)))}debug(t){t===!1?(le==null||le.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(le==null||le.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,i,s,a,o,c=this.Ir||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Ne.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",i=!1,s=Ne,a=(r="advanced_disable_flags")in(t=c)&&!Ce(t[r]),o=n in t&&!Ce(t[n]),a?t[r]:o?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):i)}Wr(t){if(_t(this.config.before_send))return t;var r=xt(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var i of r){if(n=i(n),_t(n)){var s="Event '"+t.event+"' was rejected in beforeSend function";return b9(t.event)?Ne.warn(s+". This can cause unexpected behavior."):Ne.info(s),null}n.properties&&!Nl(n.properties)||Ne.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Rr(t){var r=Ta(t)&&!t,n=zt.H()&&zt.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=q9(e.prototype[t[r]])})(Lm,["identify"]);var T2,Tl=(T2=Vc[kl]=new Lm,(function(){function e(){e.done||(e.done=!0,WI=!1,At(Vc,(function(t){t._dom_loaded()})))}Ae!=null&&Ae.addEventListener?Ae.readyState==="complete"?e():Zt(Ae,"DOMContentLoaded",e,{capture:!1}):le&&Ne.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),T2),vx=E.createContext({client:Tl,bootstrap:void 0});function qI(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var s=0,a=n;s<a.length;s++){var o=a[s];if(!i.includes(o)||!qI(e[o],t[o],r))return!1}return!0}function CU(e){var t,r,n=e.children,i=e.client,s=e.apiKey,a=e.options,o=E.useRef(null),c=E.useMemo(function(){return i?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),a&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Tl)},[i,s,JSON.stringify(a)]);return E.useEffect(function(){if(!i){var d=o.current;d?(s!==d.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),a&&!qI(a,d.options)&&Tl.set_config(a),o.current={apiKey:s,options:a??{}}):(Tl.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Tl.init(s,a),o.current={apiKey:s,options:a??{}})}},[i,s,JSON.stringify(a)]),yn.createElement(vx.Provider,{value:{client:c,bootstrap:(t=a==null?void 0:a.bootstrap)!==null&&t!==void 0?t:(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.bootstrap}},n)}var $v=function(e){return typeof e=="function"},nn=function(){var e=E.useContext(vx).client;return e},k1=function(e,t){return k1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},k1(e,t)};function AU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");k1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var NU={componentStack:null,exceptionEvent:null,error:null},jU={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){AU(t,e);function t(r){var n=e.call(this,r)||this;return n.state=NU,n}return t.prototype.componentDidCatch=function(r,n){var i=this.props.additionalProperties,s;$v(i)?s=i(r):typeof i=="object"&&(s=i);var a=this.context.client,o=a.captureException(r,s),c=n.componentStack;this.setState({error:r,componentStack:c,exceptionEvent:o})},t.prototype.render=function(){var r=this.props,n=r.children,i=r.fallback,s=this.state;if(s.componentStack==null)return $v(n)?n():n;var a=$v(i)?yn.createElement(i,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):i;return yn.isValidElement(a)?a:(console.warn(jU.INVALID_FALLBACK),yn.createElement(yn.Fragment,null))},t.contextType=vx,t})(yn.Component);var T1=function(e,t){return T1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},T1(e,t)};function VI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");T1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Np=function(){return Np=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Np.apply(this,arguments)};function lu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function GI(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(i<3?a(s):i>3?a(t,r,s):a(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function YI(e,t){return function(r,n){t(r,n,e)}}function KI(e,t,r,n,i,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,f=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,v=!1,g=r.length-1;g>=0;g--){var b={};for(var x in n)b[x]=x==="access"?{}:n[x];for(var x in n.access)b.access[x]=n.access[x];b.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var _=(0,r[g])(o==="accessor"?{get:f.get,set:f.set}:f[c],b);if(o==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=a(_.get))&&(f.get=p),(p=a(_.set))&&(f.set=p),(p=a(_.init))&&i.unshift(p)}else(p=a(_))&&(o==="field"?i.unshift(p):f[c]=p)}d&&Object.defineProperty(d,n.name,f),v=!0}function XI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function QI(e){return typeof e=="symbol"?e:"".concat(e)}function JI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function ZI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Be(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?s(f.value):i(f.value).then(o,c)}d((n=n.apply(e,t||[])).next())})}function e3(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(f){return c([d,f])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Mm=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function t3(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mm(t,e,r)}function jp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function r3(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yx(arguments[t]));return e}function n3(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function i3(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Hl(e){return this instanceof Hl?(this.v=e,this):new Hl(e)}function s3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(b){return Promise.resolve(b).then(g,p)}}function o(g,b){n[g]&&(i[g]=function(x){return new Promise(function(_,w){s.push([g,x,_,w])>1||c(g,x)})},b&&(i[g]=b(i[g])))}function c(g,b){try{d(n[g](b))}catch(x){v(s[0][3],x)}}function d(g){g.value instanceof Hl?Promise.resolve(g.value.v).then(f,p):v(s[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function v(g,b){g(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function a3(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(a){return(r=!r)?{value:Hl(e[i](a)),done:!1}:s?s(a):a}:s}}function o3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof jp=="function"?jp(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(a){return new Promise(function(o,c){a=e[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(d){s({value:d,done:o})},a)}}function l3(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var OU=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},S1=function(e){return S1=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},S1(e)};function u3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=S1(e),n=0;n<r.length;n++)r[n]!=="default"&&Mm(t,e,r[n]);return OU(t,e),t}function c3(e){return e&&e.__esModule?e:{default:e}}function d3(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function h3(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function f3(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function p3(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var PU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function m3(e){function t(s){e.error=e.hasError?new PU(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function g3(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?t?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):e}const IU={__extends:VI,__assign:Np,__rest:lu,__decorate:GI,__param:YI,__esDecorate:KI,__runInitializers:XI,__propKey:QI,__setFunctionName:JI,__metadata:ZI,__awaiter:Be,__generator:e3,__createBinding:Mm,__exportStar:t3,__values:jp,__read:yx,__spread:r3,__spreadArrays:n3,__spreadArray:i3,__await:Hl,__asyncGenerator:s3,__asyncDelegator:a3,__asyncValues:o3,__makeTemplateObject:l3,__importStar:u3,__importDefault:c3,__classPrivateFieldGet:d3,__classPrivateFieldSet:h3,__classPrivateFieldIn:f3,__addDisposableResource:p3,__disposeResources:m3,__rewriteRelativeImportExtension:g3},RU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:p3,get __assign(){return Np},__asyncDelegator:a3,__asyncGenerator:s3,__asyncValues:o3,__await:Hl,__awaiter:Be,__classPrivateFieldGet:d3,__classPrivateFieldIn:f3,__classPrivateFieldSet:h3,__createBinding:Mm,__decorate:GI,__disposeResources:m3,__esDecorate:KI,__exportStar:t3,__extends:VI,__generator:e3,__importDefault:c3,__importStar:u3,__makeTemplateObject:l3,__metadata:ZI,__param:YI,__propKey:QI,__read:yx,__rest:lu,__rewriteRelativeImportExtension:g3,__runInitializers:XI,__setFunctionName:JI,__spread:r3,__spreadArray:i3,__spreadArrays:n3,__values:jp,default:IU},Symbol.toStringTag,{value:"Module"})),DU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class bx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class S2 extends bx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class C2 extends bx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class A2 extends bx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var C1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(C1||(C1={}));class LU{constructor(t,{headers:r={},customFetch:n,region:i=C1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=DU(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Be(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:o,signal:c}=n;let d={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let v;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=o):typeof o=="string"?(d["Content-Type"]="text/plain",v=o):typeof FormData<"u"&&o instanceof FormData?v=o:(d["Content-Type"]="application/json",v=JSON.stringify(o)):v=o;const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:v,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new S2(w)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new C2(g);if(!g.ok)throw new A2(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield g.json():x==="application/octet-stream"||x==="application/pdf"?_=yield g.blob():x==="text/event-stream"?_=g:x==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new S2(s)}:{data:null,error:s,response:s instanceof A2||s instanceof C2?s.context:void 0}}})}}var Br={};const uu=BB(RU);var xf={},wf={},Ef={},kf={},Tf={},Sf={},N2;function v3(){if(N2)return Sf;N2=1,Object.defineProperty(Sf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Sf.default=e,Sf}var j2;function y3(){if(j2)return Tf;j2=1,Object.defineProperty(Tf,"__esModule",{value:!0});const t=uu.__importDefault(v3());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,p,v;let g=null,b=null,x=null,_=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=j:b=JSON.parse(j))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),O=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,_=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const S=await c.text();try{g=JSON.parse(S),Array.isArray(g)&&c.status===404&&(b=[],g=null,_=200,w="OK")}catch{c.status===404&&S===""?(_=204,w="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((v=g==null?void 0:g.details)===null||v===void 0)&&v.includes("0 rows"))&&(g=null,_=200,w="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:b,count:x,status:_,statusText:w}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,f,p;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return Tf.default=r,Tf}var O2;function b3(){if(O2)return kf;O2=1,Object.defineProperty(kf,"__esModule",{value:!0});const t=uu.__importDefault(y3());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return kf.default=r,kf}var P2;function _x(){if(P2)return Ef;P2=1,Object.defineProperty(Ef,"__esModule",{value:!0});const t=uu.__importDefault(b3()),r=new RegExp("[,()]");class n extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${d}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return Ef.default=n,Ef}var I2;function _3(){if(I2)return wf;I2=1,Object.defineProperty(wf,"__esModule",{value:!0});const t=uu.__importDefault(_x());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},c=a?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(p.length>0){const v=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return wf.default=r,wf}var R2;function MU(){if(R2)return xf;R2=1,Object.defineProperty(xf,"__esModule",{value:!0});const e=uu,t=e.__importDefault(_3()),r=e.__importDefault(_x());class n{constructor(s,{headers:a={},schema:o,fetch:c}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:c=!1,count:d}={}){var f;let p;const v=new URL(`${this.url}/rpc/${s}`);let g;o||c?(p=o?"HEAD":"GET",Object.entries(a).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{v.searchParams.append(x,_)})):(p="POST",g=a);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:p,url:v,headers:b,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return xf.default=n,xf}var D2;function BU(){if(D2)return Br;D2=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.PostgrestError=Br.PostgrestBuilder=Br.PostgrestTransformBuilder=Br.PostgrestFilterBuilder=Br.PostgrestQueryBuilder=Br.PostgrestClient=void 0;const e=uu,t=e.__importDefault(MU());Br.PostgrestClient=t.default;const r=e.__importDefault(_3());Br.PostgrestQueryBuilder=r.default;const n=e.__importDefault(_x());Br.PostgrestFilterBuilder=n.default;const i=e.__importDefault(b3());Br.PostgrestTransformBuilder=i.default;const s=e.__importDefault(y3());Br.PostgrestBuilder=s.default;const a=e.__importDefault(v3());return Br.PostgrestError=a.default,Br.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Br}var x3=BU();const w3=ui(x3),FU=yP({__proto__:null,default:w3},[x3]),{PostgrestClient:$U,PostgrestQueryBuilder:sve,PostgrestFilterBuilder:ave,PostgrestTransformBuilder:ove,PostgrestBuilder:lve,PostgrestError:uve}=w3||FU;class UU{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const HU="2.79.0",zU=`realtime-js/${HU}`,WU="1.0.0",A1=1e4,qU=1e3,VU=100;var Gc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gc||(Gc={}));var ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ir||(ir={}));var Si;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Si||(Si={}));var N1;(function(e){e.websocket="websocket"})(N1||(N1={}));var co;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(co||(co={}));class GU{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class E3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const L2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=YU(a,e,t,i),s),{}):{}},YU=(e,t,r,n)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?k3(s,a):j1(a)},k3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return JU(t,r)}switch(e){case Tt.bool:return KU(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return XU(t);case Tt.json:case Tt.jsonb:return QU(t);case Tt.timestamp:return ZU(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return j1(t);default:return j1(t)}},j1=e=>e,KU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>k3(t,o))}return e},ZU=e=>typeof e=="string"?e.replace(" ","T"):e,T3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Uv{constructor(t,r,n={},i=A1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var M2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(M2||(M2={}));class Yc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Yc.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(s,(d,f)=>{a[d]||(c[d]=f)}),this.map(a,(d,f)=>{const p=s[d];if(p){const v=f.map(_=>_.presence_ref),g=p.map(_=>_.presence_ref),b=f.filter(_=>g.indexOf(_.presence_ref)<0),x=p.filter(_=>v.indexOf(_.presence_ref)<0);b.length>0&&(o[d]=b),x.length>0&&(c[d]=x)}else o[d]=f}),this.syncDiff(s,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var d;const f=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),f.length>0){const p=t[o].map(g=>g.presence_ref),v=f.filter(g=>p.indexOf(g.presence_ref)<0);t[o].unshift(...v)}n(o,f,c)}),this.map(a,(o,c)=>{let d=t[o];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=d,i(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B2||(B2={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ys||(ys={}));class xx{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uv(this,Si.join,this.params,this.timeout),this.rejoinTimer=new E3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ir.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Si.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Yc(this),this.broadcastEndpointURL=T3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ir.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Kc.PRESENCE]&&this.bindings[Kc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(ys.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ys.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t==null||t(ys.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,w=[];for(let A=0;A<_;A++){const S=x[A],{filter:{event:O,schema:j,table:N,filter:P}}=S,D=g&&g[A];if(D&&D.event===O&&D.schema===j&&D.table===N&&D.filter===P)w.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=ir.errored,t==null||t(ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ys.SUBSCRIBED);return}}).receive("error",g=>{this.state=ir.errored,t==null||t(ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ir.joined&&t===Kc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Si.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Uv(this,Si.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Uv(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>VU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:f}=Si;if(n&&[o,c,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,x,_;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(x=g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(g=>g.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,x,_,w,A,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const O=g.id,j=(b=g.filter)===null||b===void 0?void 0:b.event;return O&&((x=r.ids)===null||x===void 0?void 0:x.includes(O))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const O=(A=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return O==="*"||O===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:x,table:_,commit_timestamp:w,type:A,errors:S}=b;v=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:w,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(b))}g.callback(v,n)})}_isClosed(){return this.state===ir.closed}_isJoined(){return this.state===ir.joined}_isJoining(){return this.state===ir.joining}_isLeaving(){return this.state===ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&xx.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Si.close,{},t)}_onError(t){this._on(Si.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=L2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=L2(t.columns,t.old_record)),r}}const Hv=()=>{},Cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e7=[1e3,2e3,5e3,1e4],t7=1e4,r7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n7{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=A1,this.transport=null,this.heartbeatIntervalMs=Cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hv,this.ref=0,this.reconnectTimer=null,this.logger=Hv,this.conn=null,this.sendBuffer=[],this.serializer=new GU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${N1.websocket}`,this.httpEndpoint=T3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WU}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gc.connecting:return co.Connecting;case Gc.open:return co.Open;case Gc.closing:return co.Closing;default:return co.Closed}}isConnected(){return this.connectionState()===co.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new xx(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Si.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([r7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:zU};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Si.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new E3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,o,c,d,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:A1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Cf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Hv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>e7[p-1]||t7),this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((p,v)=>v(JSON.stringify(p))),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class i7 extends wx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class O1 extends wx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Ex=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s7=()=>Response,P1=e=>{if(Array.isArray(e))return e.map(r=>P1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=P1(n)}),t},a7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},o7=(e,t,r)=>Be(void 0,void 0,void 0,function*(){const n=yield s7();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new i7(zv(i),s,a))}).catch(i=>{t(new O1(zv(i),i))}):t(new O1(zv(e),e))}),l7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(a7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Dd(e,t,r,n,i,s){return Be(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,l7(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>o7(c,o,n))})})}function hd(e,t,r,n){return Be(this,void 0,void 0,function*(){return Dd(e,"GET",t,r,n)})}function Ti(e,t,r,n,i){return Be(this,void 0,void 0,function*(){return Dd(e,"POST",t,n,i,r)})}function I1(e,t,r,n,i){return Be(this,void 0,void 0,function*(){return Dd(e,"PUT",t,n,i,r)})}function u7(e,t,r,n){return Be(this,void 0,void 0,function*(){return Dd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kx(e,t,r,n,i){return Be(this,void 0,void 0,function*(){return Dd(e,"DELETE",t,n,i,r)})}class c7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}var S3;class d7{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[S3]="BlobDownloadBuilder",this.promise=null}asStream(){return new c7(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}S3=Symbol.toStringTag;const h7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f7{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ex(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Be(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},F2),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(t=="PUT"?I1:Ti)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Be(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:F2.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield I1(this.fetch,o.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ht(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ti(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new wx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}update(t,r,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Be(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ti(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Be(this,void 0,void 0,function*(){try{const i=yield Ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(t),c=()=>hd(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new d7(c,this.shouldThrowOnError)}info(t){return Be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield hd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:P1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}exists(t){return Be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield u7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n)&&n instanceof O1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}list(t,r,n){return Be(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},h7),r),{prefix:t||""});return{data:yield Ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}listV2(t,r){return Be(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const C3="2.79.0",A3={"X-Client-Info":`storage-js/${C3}`};class p7{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A3),r),this.fetch=Ex(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield hd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield hd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}createBucket(t){return Be(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Be(this,void 0,void 0,function*(){try{return{data:yield I1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class m7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A3),r),this.fetch=Ex(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hd(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield kx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}const Tx={"X-Client-Info":`storage-js/${C3}`,"Content-Type":"application/json"};class N3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Wv extends N3{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class g7 extends N3{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var $2;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($2||($2={}));const Sx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},U2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y7=(e,t,r)=>Be(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Wv(U2(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new Wv(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new Wv(o,i,a))}}else t(new g7(U2(e),e))}),b7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(v7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function _7(e,t,r,n,i,s){return Be(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,b7(t,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>y7(c,o,n))})})}function Dn(e,t,r,n,i){return Be(this,void 0,void 0,function*(){return _7(e,"POST",t,n,i,r)})}class x7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),r),this.fetch=Sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Be(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rn(n))return{data:null,error:n};throw n}})}}class w7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),r),this.fetch=Sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}listVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}}class E7{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),r),this.fetch=Sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}listBuckets(){return Be(this,arguments,void 0,function*(t={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}}class k7 extends E7{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new T7(this.url,this.headers,t,this.fetch)}}class T7 extends x7{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Be(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Be(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Be(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Be(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new S7(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class S7 extends w7{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Be(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Be(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Be(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Be(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Be(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class C7 extends p7{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new f7(this.url,this.headers,t,this.fetch)}get vectors(){return new k7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m7(this.url+"/iceberg",this.headers,this.fetch)}}const A7="2.79.0";let Uc="";typeof Deno<"u"?Uc="deno":typeof document<"u"?Uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uc="react-native":Uc="node";const N7={"X-Client-Info":`supabase-js-${Uc}/${A7}`},j7={headers:N7},O7={schema:"public"},P7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I7={},R7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),D7=()=>Headers,L7=(e,t,r)=>{const n=R7(r),i=D7();return async(s,a)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:d}))}};function M7(e){return e.endsWith("/")?e:e+"/"}function B7(e,t){var r,n;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:d,realtime:f,global:p}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function F7(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M7(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const j3="2.79.0",Sl=30*1e3,R1=3,qv=R1*Sl,$7="http://localhost:9999",U7="supabase.auth.token",H7={"X-Client-Info":`gotrue-js/${j3}`},D1="X-Supabase-Api-Version",O3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W7=600*1e3;class fd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class q7 extends fd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function V7(e){return Ue(e)&&e.name==="AuthApiError"}class ho extends fd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pa extends fd{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class wi extends Pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G7(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class pl extends Pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends Pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nf extends Pa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y7(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class H2 extends Pa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class L1 extends Pa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vv(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class z2 extends Pa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class M1 extends Pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),W2=` 	
\r=`.split(""),K7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<W2.length;t+=1)e[W2[t].charCodeAt(0)]=-2;for(let t=0;t<Op.length;t+=1)e[Op[t].charCodeAt(0)]=t;return e})();function q2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Op[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Op[n]),t.queuedBits-=6}}function P3(e,t,r){const n=K7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function V2(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{J7(a,n,r)};for(let a=0;a<e.length;a+=1)P3(e.charCodeAt(a),i,s);return t.join("")}function X7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Q7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}X7(n,t)}}function J7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Dl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)P3(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Z7(e){const t=[];return Q7(e,r=>t.push(r)),new Uint8Array(t)}function po(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>q2(i,r,n)),q2(null,r,n),t.join("")}function eH(e){return Math.round(Date.now()/1e3)+e}function tH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $r=()=>typeof window<"u"&&typeof document<"u",ro={tested:!1,writable:!1},I3=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ro.tested)return ro.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ro.tested=!0,ro.writable=!0}catch{ro.tested=!0,ro.writable=!1}return ro.writable};function rH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const R3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},no=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ha=async(e,t)=>{await e.removeItem(t)};class Bm{constructor(){this.promise=new Bm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bm.promiseConstructor=Promise;function Gv(e){const t=e.split(".");if(t.length!==3)throw new M1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!z7.test(t[n]))throw new M1("JWT not in base64url format");return{header:JSON.parse(V2(t[0])),payload:JSON.parse(V2(t[1])),signature:Dl(t[2]),raw:{header:t[0],payload:t[1]}}}async function iH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sH(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function aH(e){return("0"+e.toString(16)).substr(-2)}function oH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,aH).join("")}async function lH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function uH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await lH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ml(e,t,r=!1){const n=oH();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cl(e,`${t}-code-verifier`,i);const s=await uH(n);return[s,n===s?"plain":"s256"]}const cH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dH(e){const t=e.headers.get(D1);if(!t||!t.match(cH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gl(e){if(!pH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mH(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function G2(e){return JSON.parse(JSON.stringify(e))}const ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gH=[502,503,504];async function Y2(e){var t;if(!nH(e))throw new L1(ao(e),0);if(gH.includes(e.status))throw new L1(ao(e),e.status);let r;try{r=await e.json()}catch(s){throw new ho(ao(s),s)}let n;const i=dH(e);if(i&&i.getTime()>=O3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new z2(ao(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new z2(ao(r),e.status,r.weak_password.reasons);throw new q7(ao(r),e.status||500,n)}const vH=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Qe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[D1]||(s[D1]=O3["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await yH(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function yH(e,t,r,n,i,s){const a=vH(t,n,i,s);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new L1(ao(c),0)}if(o.ok||await Y2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Y2(c)}}function Ei(e){var t;let r=null;xH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=eH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function K2(e){const t=Ei(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _a(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bH(e){return{data:e,error:null}}function _H(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=lu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function X2(e){return e}function xH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Kv=["global","local","others"];class wH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=R3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Kv[0]){if(Kv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kv.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_a})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lu(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_H,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_a})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:X2});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=x}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){gl(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_a})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){gl(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_a})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){gl(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_a})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){gl(t.userId);try{const{data:r,error:n}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){gl(t.userId),gl(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:X2});if(f.error)throw f.error;const p=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);d[`${_}Page`]=x}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ue(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function Q2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const vl={debug:!!(globalThis&&I3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class EH extends D3{}async function kH(e,t,r){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new EH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function TH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function L3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function SH(e){return parseInt(e,16)}function CH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function AH(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:c,resources:d,scheme:f,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=L3(e.address),b=f?`${f}://${n}`:n,x=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${g}

${x}`;let w=`URI: ${p}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),c&&(w+=`
Request ID: ${c}`),d){let A=`
Resources:`;for(const S of d){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);A+=`
- ${S}`}w+=A}return`${_}
${w}`}class Jt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Pp extends Jt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function NH({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(M3(a)){if(s.rp.id!==a)return new Jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(M3(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const PH=new OH;function IH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=lu(e,["challenge","user","excludeCredentials"]),s=Dl(t).buffer,a=Object.assign(Object.assign({},r),{id:Dl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Dl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function RH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=lu(e,["challenge","allowCredentials"]),i=Dl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Dl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function DH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:po(new Uint8Array(e.response.attestationObject)),clientDataJSON:po(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:po(new Uint8Array(i.authenticatorData)),clientDataJSON:po(new Uint8Array(i.clientDataJSON)),signature:po(new Uint8Array(i.signature)),userHandle:i.userHandle?po(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function M3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function J2(){var e,t;return!!($r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function MH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pp("Browser returned unexpected credential type",t)}:{data:null,error:new Pp("Empty credential response",t)}}catch(t){return{data:null,error:NH({error:t,options:e})}}}async function BH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pp("Browser returned unexpected credential type",t)}:{data:null,error:new Pp("Empty credential response",t)}}catch(t){return{data:null,error:jH({error:t,options:e})}}}const FH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},$H={userVerification:"preferred",hints:["security-key"]};function Ip(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const o=n[s];t(o)?n[s]=Ip(o,a):n[s]=Ip(a)}else n[s]=a}return n}function UH(e,t){return Ip(FH,e,t||{})}function HH(e,t){return Ip($H,e,t||{})}class zH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const c=i??PH.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=UH(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await MH({publicKey:d,signal:c});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const d=HH(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await BH(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new ho("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new fd("rpId is required for WebAuthn authentication")};try{if(!J2())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new ho("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new fd("rpId is required for WebAuthn registration")};try{if(!J2())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new ho("Unexpected error in register",a)}}}}TH();const WH={url:$7,storageKey:U7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Z2(e,t,r){return await r()}const yl={};class pd{get jwks(){var t,r;return(r=(t=yl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&$r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WH),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=R3(i.fetch),this.lock=i.lock||Z2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:$r()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kH:this.lock=Z2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:I3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Q2(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${j3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if($r()&&(r=rH(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$r()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Y7(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new ho("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ei}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:v}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await ml(this.storage,this.storageKey)),s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:b},xform:Ei})}else if("phone"in t){const{phone:f,password:p,options:v}=t;s=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ei})}else throw new Af("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:o}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:K2})}else if("phone"in t){const{phone:s,password:a,options:o}=t;r=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:K2})}else throw new Af("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new pl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,o,c,d,f,p,v;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:x,wallet:_,statement:w,options:A}=t;let S;if($r())if(typeof _=="object")S=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")S=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const O=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href),j=await S.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=L3(j[0]);let P=(n=A==null?void 0:A.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const $=await S.request({method:"eth_chainId"});P=SH($)}const D={domain:O.host,address:N,statement:w,uri:O.href,version:"1",chainId:P,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=A==null?void 0:A.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=AH(D),b=await S.request({method:"personal_sign",params:[CH(g),N]})}try{const{data:x,error:_}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ei});if(_)throw _;if(!x||!x.session||!x.user){const w=new pl;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(Ue(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,i,s,a,o,c,d,f,p,v,g;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:_,wallet:w,statement:A,options:S}=t;let O;if($r())if(typeof w=="object")O=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))O=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const j=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const N=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),A?{statement:A}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)b=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await O.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:_,error:w}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:po(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ei});if(w)throw w;if(!_||!_.session||!_.user){const A=new pl;return this._returnResult({data:{user:null,session:null},error:A})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(Ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await no(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ei});if(await ha(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new pl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,o=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ei}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const f=new pl;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ml(this.storage,this.storageKey));const{error:p}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Af("You must provide either an email or phone number.")}catch(o){if(Ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ei});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;this.flowType==="pkce"&&([s,a]=await ml(this.storage,this.storageKey));const o=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:bH});return this._returnResult(o)}catch(s){if(Ue(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wi;const{error:i}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:o}=await Qe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Af("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await no(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Yv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=mH(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_a}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wi}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:_a})})}catch(r){if(Ue(r))return G7(r)&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new wi;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ml(this.storage,this.storageKey));const{data:d,error:f}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:_a});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Gv(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!$r())throw new Nf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new H2("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=t;if(!s||!o||!a||!d)throw new Nf("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let v=f+p;c&&(v=parseInt(c));const g=v-f;g*1e3<=Sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=v-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,f);const{data:x,error:_}=await this._getUser(s);if(_)throw _;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:a,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(V7(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ha(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=tH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ml(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ue(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,c,d,f;const{data:p,error:v}=s;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return $r()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:c,access_token:d,nonce:f}=t,p=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ei}),{data:v,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new pl}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:g}))}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sH(async i=>(i>0&&await iH(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ei})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Vv(s)&&Date.now()+a-n<Sl})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$r()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await no(this.storage,this.storageKey);if(i&&this.userStorage){let a=await no(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Cl(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Yv()}else if(i&&!i.user&&!i.user){const a=await no(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ha(this.storage,this.storageKey+"-user"),await Cl(this.storage,this.storageKey,i)):i.user=Yv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qv;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${qv}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Vv(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Bm;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new wi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ue(s)){const a={data:null,error:s};return Vv(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=G2(i);await Cl(this.storage,this.storageKey,s)}else{const i=G2(r);await Cl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ha(this.storage,this.storageKey),await ha(this.storage,this.storageKey+"-code-verifier"),await ha(this.storage,this.storageKey+"-user"),this.userStorage&&await ha(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sl}ms, refresh threshold is ${R1} ticks`),i<=R1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ml(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?DH(t.webauthn.credential_response):LH(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:IH(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:RH(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Gv(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wi})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wi});const a=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wi});const a=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$r()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+W7>i)return n;const{data:s,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=Gv(n);r!=null&&r.allowExpired||hH(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=fH(i.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,Z7(`${o}.${c}`)))throw new M1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}pd.nextInstanceID=0;const qH=pd;class VH extends qH{constructor(t){super(t)}}class GH{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const o=F7(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:O7,realtime:I7,auth:Object.assign(Object.assign({},P7),{storageKey:c}),global:j7},f=B7(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=L7(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new $U(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new C7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new LU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:c,debug:d,throwOnError:f},p,v){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VH({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:c,debug:d,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n7(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YH=(e,t,r)=>new GH(e,t,r);function KH(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}KH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XH="https://ntmiycfydldoremofrbf.supabase.co",QH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im50bWl5Y2Z5ZGxkb3JlbW9mcmJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzMDUxNDcsImV4cCI6MjA3Nzg4MTE0N30.LvdzPQaM55tQ9t5yZt60K-lYNaKLRyTNtBQ92Mw5Kpc",Ke=YH(XH,QH),ki={AUTH_ATTEMPT_STARTED:"auth_attempt_started",AUTH_SUCCESS:"auth_success",AUTH_FAILED:"auth_failed",AUTH_LOGOUT:"auth_logout",AUTH_REDIRECT_LOOP_DETECTED:"auth_redirect_loop_detected",FIRST_LOGIN_PAGE_VIEW:"first_login_page_view_in_session",AUTH_CALLBACK_STARTED:"auth_callback_started",AUTH_CALLBACK_SUCCESS:"auth_callback_success",AUTH_CALLBACK_ERROR:"auth_callback_error"},B1={GITHUB:"github",EMAIL:"email"},eC={LOGIN_PAGE:"login_page",AUTH_PAGE:"auth_page",AUTO_REDIRECT:"auto_redirect",PROTECTED_ROUTE:"protected_route"},Rp={NEW:"new",RETURNING:"returning"},pn={LOGIN_PAGE_VIEWS:"tb_login_page_views",LOGIN_PAGE_TRACKED:"tb_login_page_tracked",AUTH_ATTEMPT_ID:"tb_auth_attempt_id"},B3=E.createContext({}),qr=()=>{const e=E.useContext(B3);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},JH=({children:e})=>{const[t,r]=E.useState(null),[n,i]=E.useState(null),[s,a]=E.useState(!0),o=nn();E.useEffect(()=>{Ke.auth.getSession().then(({data:{session:N}})=>{r((N==null?void 0:N.user)??null),N!=null&&N.user?f(N.user.id):a(!1)});const{data:{subscription:j}}=Ke.auth.onAuthStateChange((N,P)=>{r((P==null?void 0:P.user)??null),P!=null&&P.user?f(P.user.id):(i(null),a(!1))});return()=>j.unsubscribe()},[]);const c=E.useCallback(()=>{try{sessionStorage.removeItem(pn.LOGIN_PAGE_VIEWS),sessionStorage.removeItem(pn.LOGIN_PAGE_TRACKED),sessionStorage.removeItem(pn.AUTH_ATTEMPT_ID)}catch{}},[]),d=E.useCallback(()=>{try{return sessionStorage.getItem(pn.AUTH_ATTEMPT_ID)}catch{return null}},[]),f=async(j,N=0,P=null)=>{try{const{data:I,error:M}=await Ke.from("profiles").select("id, email, github_username, github_avatar_url, first_name, last_name, bio, linkedin_url, website_url, specialties, onboarding_completed, slack_joined, payments_setup, dev_env_setup, is_admin, can_see_incentives, created_at").eq("id",j).single();if(M){if(M.code==="PGRST116"&&N<3)return console.log(`Profile not ready yet, retrying in 500ms... (attempt ${N+1}/3)`),await new Promise(H=>setTimeout(H,500)),f(j,N+1,P);throw M}if(i(I),o&&I){const H=P||(I.github_username?B1.GITHUB:B1.EMAIL),q=o.get_distinct_id()===j?Rp.RETURNING:Rp.NEW;o.capture(ki.AUTH_SUCCESS,{method:H,session_type:q,attempt_id:d()}),o.identify(j,{email:I.email,github_username:I.github_username,name:[I.first_name,I.last_name].filter(Boolean).join(" ")||void 0,created_at:I.created_at,is_authenticated:!0,auth_method:H,last_auth_at:new Date().toISOString()}),c()}}catch(I){console.error("Error loading profile:",I),i(null)}finally{a(!1)}},O={user:t,profile:n,loading:s,signInWithGitHub:async()=>{try{const j=window.location.pathname.split("/").filter(Boolean);let N="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?j[0]==="Terminus-EC-Training-stateful"&&(N="/Terminus-EC-Training-stateful"):N="/Terminus-EC-Training-stateful";const P=`${window.location.origin}${N}/portal`;console.log(" OAuth Debug Info:"),console.log("  Current URL:",window.location.href),console.log("  Redirect To:",P),console.log("  Origin:",window.location.origin),console.log("  Pathname:",window.location.pathname);const{error:D}=await Ke.auth.signInWithOAuth({provider:"github",options:{redirectTo:P}});if(D)throw D}catch(j){throw console.error("Error signing in with GitHub:",j),j}},signInWithEmail:async(j,N)=>{try{const{data:P,error:D}=await Ke.auth.signInWithPassword({email:j,password:N});if(D)throw D;return P}catch(P){throw console.error("Error signing in with email:",P),P}},signUpWithEmail:async(j,N)=>{try{const P=window.location.pathname.split("/").slice(0,-1).join("/")||"",D=`${window.location.origin}${P}/portal`,{data:$,error:I}=await Ke.auth.signUp({email:j,password:N,options:{emailRedirectTo:D}});if(I)throw I;return $}catch(P){throw console.error("Error signing up with email:",P),P}},signOut:async()=>{try{o&&o.capture(ki.AUTH_LOGOUT);const{error:j}=await Ke.auth.signOut();if(j)throw j;i(null),o&&o.reset()}catch(j){throw console.error("Error signing out:",j),j}},deleteAccount:async()=>{try{const{error:j}=await Ke.functions.invoke("delete-account",{method:"POST"});if(j)throw j;return r(null),i(null),o&&o.reset(),{error:null}}catch(j){return console.error("Error deleting account:",j),{error:j}}},completeOnboarding:async(j=[])=>{try{const N={onboarding_completed:!0};j&&j.length>0&&(N.specialties=j);const{error:P}=await Ke.from("profiles").update(N).eq("id",t.id);if(P)throw P;i(D=>({...D,...N}))}catch(N){throw console.error("Error completing onboarding:",N),N}},updateProfile:async j=>{try{const{error:N}=await Ke.from("profiles").update(j).eq("id",t.id);if(N)throw N;return i(P=>({...P,...j})),{error:null}}catch(N){return console.error("Error updating profile:",N),{error:N}}},resetPassword:async j=>{try{const N=window.location.pathname.split("/").filter(Boolean);let P="";window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?N[0]==="Terminus-EC-Training-stateful"&&(P="/Terminus-EC-Training-stateful"):P="/Terminus-EC-Training-stateful";const D=`${window.location.origin}${P}/reset-password`,{error:$}=await Ke.auth.resetPasswordForEmail(j,{redirectTo:D});if($)throw $;return{error:null}}catch(N){return console.error("Error resetting password:",N),{error:N}}},updatePassword:async j=>{try{const{error:N}=await Ke.auth.updateUser({password:j});if(N)throw N;return{error:null}}catch(N){return console.error("Error updating password:",N),{error:N}}}};return u.jsx(B3.Provider,{value:O,children:e})},F3=E.createContext(),ZH=({children:e})=>{const[t,r]=E.useState("light");E.useEffect(()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")},[]);const n=()=>{r("light"),document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light")};return u.jsx(F3.Provider,{value:{theme:t,toggleTheme:n},children:e})},$3=()=>E.useContext(F3),U3=E.createContext({}),H3=()=>{const e=E.useContext(U3);if(!e)throw new Error("useProgress must be used within a ProgressProvider");return e},ez=({children:e})=>{const{user:t}=qr(),[r,n]=E.useState([]),[i,s]=E.useState({}),[a,o]=E.useState(!0);E.useEffect(()=>{c()},[]),E.useEffect(()=>{t?d():(s({}),o(!1))},[t]);const c=async()=>{try{const{data:_,error:w}=await Ke.from("progress_items").select("id, category, title, display_order, is_core").order("display_order");if(w)throw w;n(_||[])}catch(_){console.error("Error fetching progress items:",_)}},d=async()=>{try{o(!0);const{data:_,error:w}=await Ke.from("user_progress").select("progress_item_id, completed, completed_at").eq("user_id",t.id);if(w)throw w;const A={};_==null||_.forEach(S=>{A[S.progress_item_id]=S}),s(A)}catch(_){console.error("Error fetching user progress:",_)}finally{o(!1)}},x={progressItems:r,userProgress:i,loading:a,toggleCompletion:async _=>{if(!t)return;const w=i[_],A=!(w!=null&&w.completed);s(S=>({...S,[_]:{...S[_],completed:A,completed_at:A?new Date().toISOString():null}}));try{const{error:S}=await Ke.from("user_progress").upsert({user_id:t.id,progress_item_id:_,completed:A,completed_at:A?new Date().toISOString():null},{onConflict:"user_id,progress_item_id"});if(S)throw S}catch(S){console.error("Error toggling completion:",S),s(O=>({...O,[_]:w}))}},isCompleted:_=>{var w;return((w=i[_])==null?void 0:w.completed)||!1},getCompletionPercentage:()=>{if(r.length===0)return 0;const _=Object.values(i).filter(w=>w.completed).length;return Math.round(_/r.length*100)},getCoreCompletionPercentage:()=>{const _=r.filter(A=>A.is_core);if(_.length===0)return 0;const w=_.filter(A=>{var S;return(S=i[A.id])==null?void 0:S.completed}).length;return Math.round(w/_.length*100)},getCompletedCount:()=>Object.values(i).filter(_=>_.completed).length,totalItems:r.length};return u.jsx(U3.Provider,{value:x,children:e})},tz={success:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),u.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),warning:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),u.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),u.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},rz=({id:e,type:t="info",message:r,onClose:n,duration:i=5e3})=>{const[s,a]=E.useState(!1);E.useEffect(()=>{const c=setTimeout(()=>{o()},i);return()=>clearTimeout(c)},[i]);const o=()=>{a(!0),setTimeout(()=>{n(e)},200)};return u.jsxs("div",{className:`ui-toast ${t} ${s?"closing":""}`,children:[u.jsx("div",{className:"ui-toast-icon",children:tz[t]}),u.jsx("div",{className:"ui-toast-content",children:r}),u.jsx("button",{className:"ui-toast-close",onClick:o,"aria-label":"Close notification",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})},nz=({toasts:e,removeToast:t})=>u.jsx("div",{className:"ui-toast-container",children:e.map(r=>u.jsx(rz,{...r,onClose:t},r.id))}),z3=E.createContext(null),iz=()=>{const e=E.useContext(z3);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},sz=({children:e})=>{const[t,r]=E.useState([]),n=E.useCallback(({type:f="info",message:p,duration:v=5e3})=>{const g=Math.random().toString(36).substr(2,9);return r(b=>[...b,{id:g,type:f,message:p,duration:v}]),g},[]),i=E.useCallback(f=>{r(p=>p.filter(v=>v.id!==f))},[]),s=E.useCallback((f,p)=>n({type:"success",message:f,duration:p}),[n]),a=E.useCallback((f,p)=>n({type:"error",message:f,duration:p}),[n]),o=E.useCallback((f,p)=>n({type:"warning",message:f,duration:p}),[n]),c=E.useCallback((f,p)=>n({type:"info",message:f,duration:p}),[n]),d={addToast:n,removeToast:i,success:s,error:a,warning:o,info:c,toasts:t};return u.jsxs(z3.Provider,{value:d,children:[e,u.jsx(nz,{toasts:t,removeToast:i})]})},az=["Waking up the task hamsters...","Fetching challenges from the cloud...","Gathering inspiration...","Polishing the task gems...","Summoning the task wizards...","Loading amazing challenges...","Brewing fresh tasks...","Unpacking brain teasers...","Dusting off the puzzle shelf...","Herding digital cats...","Consulting the oracle...","Spinning up the challenge machine...","Searching for exciting problems...","Preparing your adventure...","Rolling for initiative...","Loading the good stuff...","Calibrating difficulty meters...","Warming up the neurons...","Charging the creativity core...","Assembling the quest board..."],W3=["Just a moment...","Almost there...","Loading the magic...","Working on it...","Hang tight...","Getting things ready..."],oz=["Gathering your conquests...","Locating your adventures...","Counting your victories...","Rounding up your challenges...","Retrieving your battle plans...","Fetching your quest log...","Loading your journey so far...","Summoning your progress...","Dusting off your trophy case...","Assembling your achievements..."],lz=["Unwrapping this challenge...","Fetching the details...","Preparing the briefing...","Loading the specifics...","Getting the full story...","Gathering intel...","Reading the fine print...","Assembling the facts..."],uz=["Checking your credentials...","Verifying your identity...","Opening the portal...","Rolling out the red carpet...","Finding your profile...","Preparing your workspace...","Unlocking the gates...","Waving you through...","Confirming it's really you...","Setting up your station..."],cz=["Crunching the numbers...","Gathering insights...","Fetching the stats...","Counting all the things...","Consulting the oracles...","Running the analysis...","Preparing your command center...","Loading the control room..."];function dz(e=W3){return e[Math.floor(Math.random()*e.length)]}function Ld(e=W3,t=2500){const[r,n]=E.useState(()=>dz(e)),i=E.useRef(new Set);return E.useEffect(()=>{i.current=new Set;const s=setInterval(()=>{i.current.size>=e.length&&(i.current=new Set);let a;do a=Math.floor(Math.random()*e.length);while(i.current.has(a)&&i.current.size<e.length);i.current.add(a),n(e[a])},t);return()=>clearInterval(s)},[e,t]),r}function Fe({variant:e="primary",size:t="md",loading:r=!1,disabled:n=!1,className:i="",children:s,...a}){const o=["ui-btn",`ui-btn-${e}`,`ui-btn-${t}`,r&&"ui-btn-loading",i].filter(Boolean).join(" ");return u.jsxs("button",{className:o,disabled:n||r,...a,children:[r&&u.jsx("span",{className:"ui-btn-spinner"}),u.jsx("span",{className:r?"ui-btn-content-hidden":"",children:s})]})}function q3({variant:e="default",padding:t="md",hoverable:r=!1,className:n="",children:i,...s}){const a=["ui-card",`ui-card-${e}`,`ui-card-padding-${t}`,r&&"ui-card-hoverable",n].filter(Boolean).join(" ");return u.jsx("div",{className:a,...s,children:i})}function Xv({type:e="text",label:t,error:r,id:n,className:i="",...s}){const a=n||`input-${Math.random().toString(36).substr(2,9)}`;return u.jsxs("div",{className:`ui-input-group ${r?"ui-input-error":""} ${i}`,children:[t&&u.jsx("label",{htmlFor:a,className:"ui-input-label",children:t}),u.jsx("input",{type:e,id:a,className:"ui-input",...s}),r&&u.jsx("span",{className:"ui-input-error-message",children:r})]})}function hz({className:e="",onClear:t,value:r,...n}){return u.jsxs("div",{className:`ui-search-wrapper ${e}`,children:[u.jsxs("svg",{className:"ui-search-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]}),u.jsx("input",{type:"search",className:"ui-input ui-search-input",value:r,...n}),r&&t&&u.jsx("button",{type:"button",className:"ui-search-clear",onClick:t,"aria-label":"Clear search",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function Ni({variant:e="default",size:t="md",className:r="",children:n,...i}){const s=["ui-badge",`ui-badge-${e}`,`ui-badge-${t}`,r].filter(Boolean).join(" ");return u.jsx("span",{className:s,...i,children:n})}function tC({checked:e=!1,indeterminate:t=!1,onChange:r,disabled:n=!1,size:i="md",label:s,className:a="",...o}){const c=E.useRef(null);E.useEffect(()=>{c.current&&(c.current.indeterminate=t)},[t]);const d=["ui-checkbox",`ui-checkbox-${i}`,e&&"ui-checkbox-checked",t&&"ui-checkbox-indeterminate",n&&"ui-checkbox-disabled",a].filter(Boolean).join(" "),f=v=>{n||r&&(v.stopPropagation(),r(!e))},p=u.jsxs("div",{className:d,onClick:f,children:[u.jsx("input",{ref:c,type:"checkbox",checked:e,disabled:n,onChange:()=>r==null?void 0:r(!e),className:"ui-checkbox-input",...o}),u.jsx("div",{className:"ui-checkbox-box",children:t?u.jsx("div",{className:"ui-checkbox-indeterminate-icon"}):u.jsx("svg",{className:"ui-checkbox-check-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:u.jsx("polyline",{points:"20 6 9 17 4 12"})})})]});return s?u.jsxs("label",{className:`ui-checkbox-label ${n?"ui-checkbox-label-disabled":""}`,children:[p,u.jsx("span",{className:"ui-checkbox-label-text",children:s})]}):p}const fz=100;function Fm({isOpen:e,onClose:t,closeOnOverlay:r=!0,closeOnEscape:n=!0,showCloseButton:i=!1,size:s="md",className:a="",children:o,...c}){const d=E.useRef(null),[f,p]=E.useState(0),[v,g]=E.useState(!1),b=E.useRef(0),x=E.useRef(0),_=E.useCallback(P=>{P.key==="Escape"&&n&&(t==null||t())},[n,t]);E.useEffect(()=>(e&&(document.addEventListener("keydown",_),document.body.style.overflow="hidden",p(0),g(!1)),()=>{document.removeEventListener("keydown",_),document.body.style.overflow=""}),[e,_]);const w=typeof window<"u"&&window.innerWidth<=480,A=E.useCallback(P=>{if(!w)return;const D=d.current;if(!D)return;const $=P.touches[0],I=D.getBoundingClientRect();$.clientY-I.top<=60&&(b.current=$.clientY,x.current=Date.now(),g(!0),P.preventDefault())},[w]),S=E.useCallback(P=>{if(!v||!w)return;const $=P.touches[0].clientY-b.current;$>0&&(p($),P.preventDefault())},[v,w]),O=E.useCallback(()=>{if(!v||!w)return;const P=Date.now()-x.current,D=f/P;f>fz||D>.5&&f>30?(p(window.innerHeight),setTimeout(()=>{t==null||t(),p(0)},200)):p(0),g(!1)},[v,w,f,t]);if(!e)return null;const j=P=>{P.target===P.currentTarget&&r&&(t==null||t())},N=w&&f>0?{transform:`translateY(${f}px)`,transition:v?"none":"transform 0.2s ease-out"}:{};return u.jsx("div",{className:"ui-modal-overlay",onClick:j,...c,children:u.jsxs("div",{ref:d,className:`ui-modal-content ui-modal-${s} ${a}`,style:N,onTouchStart:A,onTouchMove:S,onTouchEnd:O,children:[i&&u.jsx("button",{className:"ui-modal-close",onClick:t,"aria-label":"Close",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o]})})}function pz({className:e="",children:t,...r}){return u.jsx("div",{className:`ui-modal-header ${e}`,...r,children:t})}function mz({className:e="",children:t,...r}){return u.jsx("div",{className:`ui-modal-body ${e}`,...r,children:t})}function gz({className:e="",children:t,...r}){return u.jsx("div",{className:`ui-modal-footer ${e}`,...r,children:t})}function V3({size:e="md",className:t="",...r}){const n=["ui-spinner",`ui-spinner-${e}`,t].filter(Boolean).join(" ");return u.jsx("div",{className:n,...r})}function Aa({size:e="md",message:t,className:r="",...n}){return u.jsxs("div",{className:`ui-loading-state ${r}`,...n,children:[u.jsx(V3,{size:e}),t&&u.jsx("p",{className:"ui-loading-message",children:t})]})}function vz({variant:e="warning",title:t,children:r,className:n="",dismissible:i=!1,onDismiss:s,...a}){const o={warning:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),u.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),u.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),info:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),success:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),error:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),u.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})};return u.jsxs("div",{className:`announcement-banner announcement-banner--${e} ${n}`,role:"alert",...a,children:[u.jsx("div",{className:"announcement-banner__icon",children:o[e]||o.warning}),u.jsxs("div",{className:"announcement-banner__content",children:[t&&u.jsx("strong",{className:"announcement-banner__title",children:t}),r&&u.jsx("div",{className:"announcement-banner__body",children:r})]}),i&&u.jsx("button",{type:"button",className:"announcement-banner__dismiss",onClick:s,"aria-label":"Dismiss",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}const yz={check:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("polyline",{points:"20 6 9 17 4 12"})}),info:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),warning:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),u.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),u.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),none:null};function bz({title:e,icon:t="none",variant:r="default",squared:n=!1,className:i="",children:s,...a}){const o=typeof t=="string"?yz[t]:t;return u.jsxs("div",{className:`ui-note ui-note-${r} ${n?"ui-note-squared":""} ${i}`,...a,children:[(o||e)&&u.jsxs("div",{className:"ui-note-header",children:[o&&u.jsx("span",{className:"ui-note-icon",children:o}),e&&u.jsx("span",{className:"ui-note-title",children:e})]}),s&&u.jsx("div",{className:`ui-note-content ${o||e?"ui-note-content-indented":""}`,children:s})]})}const G3=E.createContext(null);function _z({value:e,onChange:t,className:r="",children:n,...i}){return u.jsx(G3.Provider,{value:{value:e,onChange:t},children:u.jsx("div",{className:`ui-tabs ${r}`,...i,children:n})})}function Qv({value:e,className:t="",children:r,...n}){const i=E.useContext(G3);if(!i)throw new Error("Tab must be used within a Tabs component");const{value:s,onChange:a}=i,o=s===e;return u.jsx("button",{type:"button",className:`ui-tab ${o?"active":""} ${t}`,onClick:()=>a(e),role:"tab","aria-selected":o,...n,children:r})}function Y3({steps:e=1,currentStep:t=0,onStepClick:r,className:n="",...i}){const s=a=>{r&&r(a)};return u.jsx("div",{className:`ui-step-indicators ${n}`,...i,children:Array.from({length:e},(a,o)=>u.jsx("button",{type:"button",className:["ui-step-dot",o===t&&"active",o<t&&"completed"].filter(Boolean).join(" "),onClick:()=>s(o),disabled:!r,"aria-label":`Step ${o+1} of ${e}`,"aria-current":o===t?"step":void 0},o))})}const K3=({className:e="",...t})=>u.jsx("div",{className:`ui-logo-lockup ${e}`,...t,children:u.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"ui-snorkel-logo-img"})}),X3=({className:e="",children:t,...r})=>u.jsx("nav",{className:`ui-navbar ${e}`,...r,children:t}),va=({to:e,href:t,children:r,className:n="",active:i=!1,variant:s="default",as:a,...o})=>{const c=["ui-nav-link",i&&"active",s==="button"&&"variant-button",n].filter(Boolean).join(" ");return a?u.jsx(a,{className:c,...o,children:r}):t?u.jsx("a",{href:t,className:c,...o,children:r}):e?u.jsx(sr,{to:e,className:c,...o,children:r}):u.jsx("button",{className:c,...o,children:r})};function rC(e,t){return!t||!e?e:e.split(new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi")).map((n,i)=>n.toLowerCase()===t.toLowerCase()?u.jsx("mark",{className:"search-highlight",children:n},i):n)}function nC(e){if(!e)return null;const t=new Date(e),n=new Date-t,i=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),a=Math.floor(n/(1e3*60*60*24));return i<1?"Just now":i<60?`${i}m ago`:s<24?`${s}h ago`:a===1?"1 day ago":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} weeks ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}const Cx=({difficulty:e})=>{const t=e==null?void 0:e.toLowerCase();let r=0;return t==="hard"?r=3:t==="medium"?r=2:t==="easy"&&(r=1),u.jsx("div",{className:"task-card-difficulty",title:`Difficulty: ${e}`,children:[...Array(3)].map((n,i)=>u.jsx("span",{className:i<r?"active":"inactive",children:""},i))})};function So({task:e,isCompleted:t=!1,isHighlighted:r=!1,searchQuery:n="",onClick:i,footer:s,claimedAt:a,completedAt:o,statusBadge:c,className:d=""}){const f=E.useMemo(()=>{const x=(e==null?void 0:e.title)||"Task";return n?rC(x,n):x},[e==null?void 0:e.title,n]),p=E.useMemo(()=>{const x=(e==null?void 0:e.subcategory)||(e==null?void 0:e.subsubcategory);return!n||!x?x:rC(x,n)},[e==null?void 0:e.subcategory,e==null?void 0:e.subsubcategory,n]),v=!!i,g=["task-card",t&&"task-card--completed",r&&"task-card--highlighted",d].filter(Boolean).join(" "),b=x=>{const _=x==null?void 0:x.toLowerCase().replace(/\s+/g,"-");return _==="in-progress"?"info":_==="waiting-on-review"?"warning":_==="accepted"?"success":"default"};return u.jsxs(q3,{variant:"bordered",padding:"sm",hoverable:v,className:g,onClick:i,role:v?"button":void 0,tabIndex:v?0:void 0,onKeyDown:v?x=>x.key==="Enter"&&(i==null?void 0:i(x)):void 0,children:[t&&u.jsx("div",{className:"task-card__ribbon",children:u.jsx("span",{children:"Marked as Accepted"})}),u.jsx("div",{className:"task-card__subcategory",children:p||(e==null?void 0:e.category)}),u.jsx("div",{className:"task-card__divider"}),u.jsx("span",{className:"task-card__label",children:"Task"}),u.jsxs("div",{className:"task-card__title-row",children:[u.jsx("h3",{className:"task-card__title",title:(e==null?void 0:e.title)||"Task",children:f}),(e==null?void 0:e.difficulty)&&u.jsx(Cx,{difficulty:e.difficulty})]}),(a||o||c)&&u.jsxs("div",{className:"task-card__meta",children:[c&&u.jsx(Ni,{variant:b(c),size:"sm",children:c}),(a||o)&&u.jsxs("span",{className:`task-card__timestamp ${t&&o?"task-card__timestamp--accepted":""}`,children:[t&&o?u.jsx("span",{className:"task-card__timestamp-icon",children:""}):u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t&&o?`Marked as accepted ${nC(o)}`:`Claimed ${nC(a)}`]})]}),s&&u.jsx("div",{className:"task-card__footer",children:s})]})}const Q3="tasks_cache_v5",xz=1800*1e3,wz=()=>{try{const e=localStorage.getItem(Q3);if(!e)return null;const{tasks:t,timestamp:r}=JSON.parse(e),n=Date.now()-r>xz;return{tasks:t,isExpired:n}}catch{return null}},Ez=e=>{try{localStorage.setItem(Q3,JSON.stringify({tasks:e,timestamp:Date.now()}))}catch{}},iC=(e,t)=>{try{const r=wz();if(!(r!=null&&r.tasks))return;const n=r.tasks.map(i=>i.id===e?{...i,is_selected:t}:i);Ez(n)}catch{}},qe={CLAIMED:"claimed",IN_PROGRESS:"in_progress",WAITING_REVIEW:"waiting_review",ACCEPTED:"accepted"},J3={[qe.CLAIMED]:"Claimed",[qe.IN_PROGRESS]:"In Progress",[qe.WAITING_REVIEW]:"Waiting on Review",[qe.ACCEPTED]:"Accepted"},Gi=3,Z3="selected_tasks_cache_v3",kz=e=>{try{const t=localStorage.getItem(`${Z3}_${e}`);return t?JSON.parse(t):null}catch{return null}},sC=(e,t)=>{try{localStorage.setItem(`${Z3}_${e}`,JSON.stringify(t))}catch{}};function cu(){const{user:e}=qr(),t=nn(),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(null),[c,d]=E.useState(0),f=E.useRef(null),p=E.useRef(!1);E.useEffect(()=>{var P;if(e){const D=kz(e.id);return((P=D==null?void 0:D.tasks)==null?void 0:P.length)>0?(n(D.tasks),d(D.activeCount||0),s(!1),v(!1)):v(!0),f.current=Ke.channel(`my_tasks_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks",filter:`user_id=eq.${e.id}`},$=>{setTimeout(()=>v(!1),100)}).subscribe(),()=>{f.current&&Ke.removeChannel(f.current)}}},[e]);const v=async(P=!0)=>{if(!p.current){p.current=!0;try{P&&s(!0),o(null);const{data:D,error:$}=await Ke.from("selected_tasks").select("task_id, selected_at, first_commit_at, completed_at, status, started_at, submitted_for_review_at").eq("user_id",e.id);if($)throw $;if(!D||D.length===0){n([]),d(0),s(!1),p.current=!1,e&&sC(e.id,{tasks:[],activeCount:0});return}const I=D.filter(K=>K.status===qe.CLAIMED||K.status===qe.IN_PROGRESS).length;d(I);const M=D.map(K=>K.task_id),{data:H,error:q}=await Ke.from("v_tasks_with_priorities").select("id, category, subcategory, subsubcategory, title, description, difficulty, is_selected, is_highlighted, priority_tag, tag_label, display_order, is_promoted, promo_multiplier, promo_title").in("id",M);if(q)throw q;const G=(H==null?void 0:H.map(K=>{const J=D.find(ae=>ae.task_id===K.id);return{...K,selected_at:J==null?void 0:J.selected_at,first_commit_at:J==null?void 0:J.first_commit_at,completed_at:J==null?void 0:J.completed_at,status:(J==null?void 0:J.status)||qe.CLAIMED,started_at:J==null?void 0:J.started_at,submitted_for_review_at:J==null?void 0:J.submitted_for_review_at}}).sort((K,J)=>{const ae={[qe.IN_PROGRESS]:0,[qe.CLAIMED]:1,[qe.WAITING_REVIEW]:2,[qe.ACCEPTED]:3};return ae[K.status]!==ae[J.status]?ae[K.status]-ae[J.status]:new Date(J.selected_at)-new Date(K.selected_at)}))||[];n(G),e&&sC(e.id,{tasks:G,activeCount:I})}catch(D){console.error("Error fetching selected tasks:",D),o(D.message)}finally{p.current=!1,s(!1)}}},g=async P=>{if(!e)throw new Error("User not authenticated");try{const D=r.find(I=>I.id===P),{error:$}=await Ke.from("selected_tasks").delete().match({user_id:e.id,task_id:P});if($)throw $;return t&&D&&t.capture("task_abandoned",{task_id:P,task_category:D.category,task_subcategory:D.subcategory,task_status_at_abandon:D.status,task_difficulty:D.difficulty}),n(I=>I.filter(M=>M.id!==P)),iC(P,!1),D&&(D.status===qe.CLAIMED||D.status===qe.IN_PROGRESS)&&d(I=>Math.max(0,I-1)),!0}catch(D){throw console.error("Error unselecting task:",D),await v(),D}},b=async(P,D)=>{if(!e)throw new Error("User not authenticated");try{const $=new Date().toISOString(),I={status:D},M=r.find(q=>q.id===P);D===qe.IN_PROGRESS?I.started_at=$:D===qe.WAITING_REVIEW?I.submitted_for_review_at=$:D===qe.ACCEPTED&&(I.completed_at=$);const{error:H}=await Ke.from("selected_tasks").update(I).match({user_id:e.id,task_id:P});if(H)throw H;if(t&&M){const q={[qe.IN_PROGRESS]:"task_started",[qe.WAITING_REVIEW]:"task_submitted_for_review",[qe.ACCEPTED]:"task_accepted"}[D];q&&t.capture(q,{task_id:P,category:M.category,subcategory:M.subcategory})}return n(q=>{const G=q.map(J=>J.id===P?{...J,...I}:J),K={[qe.IN_PROGRESS]:0,[qe.CLAIMED]:1,[qe.WAITING_REVIEW]:2,[qe.ACCEPTED]:3};return G.sort((J,ae)=>K[J.status]!==K[ae.status]?K[J.status]-K[ae.status]:new Date(ae.selected_at)-new Date(J.selected_at))}),D===qe.WAITING_REVIEW||D===qe.ACCEPTED?d(q=>Math.max(0,q-1)):(D===qe.CLAIMED||D===qe.IN_PROGRESS)&&d(q=>q+1),!0}catch($){throw console.error("Error updating task status:",$),await v(),$}},x=P=>b(P,qe.IN_PROGRESS),_=P=>b(P,qe.WAITING_REVIEW),w=P=>b(P,qe.ACCEPTED),A=async P=>{if(!e)throw new Error("User not authenticated");if(c>=Gi)throw new Error(`You can only have up to ${Gi} active tasks. Submit tasks for review or wait for acceptance to free up slots.`);return b(P,qe.IN_PROGRESS)},S=w,O=A,j=async P=>{if(!e)throw new Error("User not authenticated");try{const D=new Date().toISOString(),{error:$}=await Ke.from("selected_tasks").update({first_commit_at:D}).match({user_id:e.id,task_id:P});if($)throw $;return n(I=>I.map(M=>M.id===P?{...M,first_commit_at:D}:M)),!0}catch(D){throw console.error("Error marking first commit:",D),await v(),D}},N=async(P,D={})=>{if(!e)throw new Error("User not authenticated");if(c>=Gi)throw new Error(`You can only have up to ${Gi} active tasks. Submit tasks for review or complete them to claim more.`);try{const{error:$}=await Ke.from("selected_tasks").insert({user_id:e.id,task_id:P,status:"claimed"});if($)throw $.code==="23505"?new Error("This task has already been selected by another user"):$.code==="P0001"?new Error($.message):$;return d(I=>I+1),iC(P,!0),t&&t.capture("task_claimed",{task_id:P,category:D.category,subcategory:D.subcategory}),await v(!1),!0}catch($){throw console.error("Error selecting task:",$),await v(!1),$}};return{selectedTasks:r,loading:i,error:a,activeTaskCount:c,canClaimMore:c<Gi,refetch:v,selectTask:N,unselectTask:g,markFirstCommit:j,startTask:x,submitForReview:_,acceptTask:w,reopenTask:A,updateTaskStatus:b,completeTask:S,uncompleteTask:O}}function eR({task:e,isOpen:t,onClose:r,onTaskUpdate:n,contextTasks:i=[],onNavigate:s,showNavigation:a=!1}){const o=ft(),c=nn(),{selectTask:d,unselectTask:f,activeTaskCount:p,canClaimMore:v}=cu(),[g,b]=E.useState(!1),[x,_]=E.useState(!1),w=E.useRef(null),[A,S]=E.useState((e==null?void 0:e.description)||null),[O,j]=E.useState(!1);E.useEffect(()=>{if(!t||!(e!=null&&e.id))return;if(e.description){S(e.description);return}(async()=>{j(!0);try{const{data:G,error:K}=await Ke.from("task_inspiration").select("description, title").eq("id",e.id).single();if(K)throw K;S((G==null?void 0:G.description)||"No description available."),G!=null&&G.title&&!e.title&&(e.title=G.title)}catch(G){console.error("Error fetching task description:",G),S("Failed to load description.")}finally{j(!1)}})()},[t,e==null?void 0:e.id,e==null?void 0:e.description]),E.useEffect(()=>{S((e==null?void 0:e.description)||null)},[e==null?void 0:e.id]),E.useEffect(()=>{t&&e&&c&&c.capture("task_card_viewed",{task_id:e.id,task_category:e.category,task_subcategory:e.subcategory,task_difficulty:e.difficulty,is_special:e.is_special||e.priority_tag||e.is_highlighted})},[t,e==null?void 0:e.id,c]),E.useEffect(()=>{(!t||!e)&&_(!1)},[t,e==null?void 0:e.id]),E.useEffect(()=>{if(!x||!w.current)return;const q=w.current,G=["#fbbf24","#34d399","#60a5fa","#f472b6","#a78bfa","#fb923c"],K=50;for(let ae=0;ae<K;ae++){const ie=document.createElement("div");ie.className="confetti-piece",ie.style.setProperty("--x",`${Math.random()*100-50}vw`),ie.style.setProperty("--rotation",`${Math.random()*720-360}deg`),ie.style.left=`${Math.random()*100}%`,ie.style.backgroundColor=G[Math.floor(Math.random()*G.length)],ie.style.animationDelay=`${Math.random()*.5}s`,ie.style.animationDuration=`${1+Math.random()*1}s`,q.appendChild(ie)}const J=setTimeout(()=>{q.querySelectorAll(".confetti-piece").forEach(ae=>ae.remove())},3e3);return()=>clearTimeout(J)},[x]),E.useEffect(()=>{if(!t||!a||x)return;const q=G=>{G.key==="ArrowLeft"?$("prev"):G.key==="ArrowRight"&&$("next")};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[t,e,i,x,a]);const N=()=>{_(!1),r==null||r()},P=async()=>{if(!(!e||g)){b(!0);try{await d(e.id,{category:e.category,subcategory:e.subcategory}),_(!0),n==null||n()}catch(q){console.error("Error claiming task:",q),alert(q.message||"Failed to claim task. Please try again.")}finally{b(!1)}}},D=async()=>{if(e&&window.confirm("Are you sure you want to release this task?"))try{await f(e.id),n==null||n(),N()}catch(q){console.error("Error releasing task:",q)}},$=q=>{if(!e||i.length===0)return;const G=i.findIndex(J=>J.id===e.id);if(G===-1)return;let K;q==="next"?(K=G+1,K<i.length&&(s==null||s(i[K]))):(K=G-1,K>=0&&(s==null||s(i[K])))},I=e&&i.length>0?i.findIndex(q=>q.id===e.id):-1,M=I>0,H=I!==-1&&I<i.length-1;return e?u.jsx(Fm,{isOpen:t,onClose:N,size:"lg",className:"task-detail-modal",children:x?u.jsxs("div",{className:"task-claim-success",ref:w,children:[u.jsx("div",{className:"success-icon-wrapper",children:u.jsx("div",{className:"success-icon",children:""})}),u.jsx("h2",{children:"Task Claimed!"}),u.jsx("p",{children:"This task has been added to your list."}),u.jsxs("div",{className:"success-actions-stack",children:[u.jsx(Fe,{variant:"primary",onClick:N,style:{width:"100%"},children:"Continue Browsing"}),u.jsx(Fe,{variant:"secondary",onClick:()=>{N(),o("/portal/my-tasks")},style:{width:"100%"},children:"Go to My Tasks"}),u.jsx(Fe,{variant:"ghost",onClick:D,style:{color:"#dc2626",width:"100%"},children:"Give task back"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"task-detail-modal-header",children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[u.jsxs("div",{children:[u.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[u.jsxs("div",{className:"task-breadcrumb",children:[u.jsx("span",{className:"breadcrumb-segment parent",children:e.category}),u.jsx("span",{className:"breadcrumb-separator",children:"/"}),u.jsx("span",{className:"breadcrumb-segment current",children:e.subcategory||e.subsubcategory})]}),e.difficulty&&u.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:u.jsx(Cx,{difficulty:e.difficulty})})]}),u.jsx("h2",{children:e.title||"Your challenge"})]}),a&&i.length>1&&u.jsxs("div",{className:"modal-navigation",style:{display:"flex",gap:"8px"},children:[u.jsx("button",{className:"modal-nav-btn",onClick:()=>$("prev"),disabled:!M,title:"Previous Task (Left Arrow)",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"15 18 9 12 15 6"})})}),u.jsx("button",{className:"modal-nav-btn",onClick:()=>$("next"),disabled:!H,title:"Next Task (Right Arrow)",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}),u.jsx("div",{className:"task-detail-modal-body",children:O?u.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"Loading description..."}):u.jsx("p",{children:A||"No description available."})}),u.jsxs("div",{className:"task-detail-modal-footer",children:[u.jsxs("div",{className:"modal-footer-info",children:[(e.is_special||e.priority_tag||e.is_highlighted)&&u.jsx(Ni,{variant:"accent",children:"Double Pay"}),u.jsxs("span",{className:"active-task-count",children:["Your Active Tasks: ",u.jsxs("strong",{style:{color:v?"var(--text-primary)":"var(--color-warning)"},children:[p,"/",Gi]})]})]}),u.jsxs("div",{className:"footer-buttons",children:[u.jsx(Fe,{variant:"ghost",onClick:N,disabled:g,className:"modal-cancel-btn",children:"Cancel"}),u.jsx(Fe,{variant:"secondary",onClick:()=>{N(),o("/portal/tasks")},disabled:g,children:"Browse Tasks"}),u.jsx(Fe,{variant:"primary",onClick:P,loading:g,disabled:!v,title:v?"":`You can only have ${Gi} active tasks. Submit tasks for review to free up slots.`,children:v?"Claim Task":"Limit Reached"})]})]})]})}):null}var tR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aC=yn.createContext&&yn.createContext(tR),Tz=["attr","size","title"];function Sz(e,t){if(e==null)return{};var r=Cz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){Az(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Az(e,t,r){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=jz(e,"string");return typeof t=="symbol"?t:t+""}function jz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rR(e){return e&&e.map((t,r)=>yn.createElement(t.tag,Lp({key:r},t.attr),rR(t.child)))}function wn(e){return t=>yn.createElement(Oz,Dp({attr:Lp({},e.attr)},t),rR(e.child))}function Oz(e){var t=r=>{var{attr:n,size:i,title:s}=e,a=Sz(e,Tz),o=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),yn.createElement("svg",Dp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Lp(Lp({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&yn.createElement("title",null,s),e.children)};return aC!==void 0?yn.createElement(aC.Consumer,null,r=>t(r)):t(tR)}function Pz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function nR(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Iz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Rz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Dz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Lz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Mz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Bz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Fz(e){return wn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function iR({task:e,isOpen:t,onClose:r,onTaskUpdate:n}){const{unselectTask:i,startTask:s,submitForReview:a,acceptTask:o,reopenTask:c,canClaimMore:d}=cu(),[f,p]=E.useState(!1),[v,g]=E.useState(null),[b,x]=E.useState(!1),_=async()=>{if(w!=null&&w.id)try{await navigator.clipboard.writeText(w.id),x(!0),setTimeout(()=>x(!1),2e3)}catch(q){console.error("Failed to copy task ID:",q)}},w=(v==null?void 0:v.id)===(e==null?void 0:e.id)?v:e,A=()=>{g(null),x(!1),r==null||r()},S=async()=>{if(!(!w||f)){p(!0);try{await s(w.id),A(),n==null||n({...w,status:qe.IN_PROGRESS,started_at:new Date().toISOString()})}catch(q){console.error("Error starting task:",q),alert(q.message)}finally{p(!1)}}},O=async()=>{if(!(!w||f)){p(!0);try{await a(w.id),A(),n==null||n({...w,status:qe.WAITING_REVIEW})}catch(q){console.error("Error submitting task for review:",q),alert(q.message)}finally{p(!1)}}},j=async()=>{if(!(!w||f)){p(!0);try{await o(w.id),A(),n==null||n({...w,status:qe.ACCEPTED,completed_at:new Date().toISOString()})}catch(q){console.error("Error accepting task:",q),alert(q.message)}finally{p(!1)}}},N=async()=>{if(!(!w||f)){p(!0);try{await c(w.id),A(),n==null||n({...w,status:qe.IN_PROGRESS})}catch(q){console.error("Error reopening task:",q),alert(q.message)}finally{p(!1)}}},P=async()=>{if(!(!w||f)&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await i(w.id),A()}catch(q){console.error("Error abandoning task:",q)}finally{p(!1)}}};if(!w)return null;const D=w.status,$=D===qe.CLAIMED||D===qe.IN_PROGRESS,I=D===qe.WAITING_REVIEW,M=D===qe.ACCEPTED,H=$||I||M;return u.jsx(Fm,{isOpen:t,onClose:A,size:"lg",className:"task-detail-modal",children:u.jsxs(u.Fragment,{children:[M&&u.jsx("div",{className:"modal-ribbon",children:u.jsx("span",{children:"Marked as Accepted"})}),u.jsx("div",{className:"task-detail-modal-header",children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsxs("div",{className:"modal-badges",style:{alignItems:"center"},children:[u.jsxs("div",{className:"task-breadcrumb",children:[u.jsx("span",{className:"breadcrumb-segment parent",children:w.category}),u.jsx("span",{className:"breadcrumb-separator",children:"/"}),u.jsx("span",{className:"breadcrumb-segment current",children:w.subcategory||w.subsubcategory})]}),w.difficulty&&u.jsx("div",{style:{display:"flex",alignItems:"center",marginLeft:"8px"},children:u.jsx(Cx,{difficulty:w.difficulty})})]}),u.jsx("h2",{children:"Your challenge"})]}),D===qe.IN_PROGRESS&&u.jsx(Ni,{variant:"info",style:{flexShrink:0},children:"In Progress"}),I&&u.jsx(Ni,{variant:"warning",style:{flexShrink:0},children:"Waiting on Review"})]})}),u.jsxs("div",{className:"task-detail-modal-body",children:[u.jsx("p",{children:w.description}),u.jsxs("div",{className:"modal-timeline-info",style:{marginTop:"var(--space-4)",fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:[w.selected_at&&u.jsxs("div",{children:["Claimed on ",new Date(w.selected_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),w.started_at&&u.jsxs("div",{children:["Started on ",new Date(w.started_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),w.submitted_for_review_at&&u.jsxs("div",{children:["Submitted for review on ",new Date(w.submitted_for_review_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]}),M&&w.completed_at&&u.jsxs("div",{children:[" You marked this as accepted on ",new Date(w.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})]})]}),I&&u.jsx(bz,{title:"Important",variant:"info",className:"modal-note",children:"Only mark as accepted once confirmed on the Snorkel Expert platform."})]}),u.jsxs("div",{className:"task-detail-modal-footer",children:[u.jsxs("div",{className:"modal-footer-info",children:[(w.is_special||w.priority_tag||w.is_highlighted)&&u.jsx(Ni,{variant:"accent",children:"Double Pay"}),H&&w.id&&u.jsxs("div",{className:`footer-task-id ${b?"copied":""}`,onClick:_,role:"button",title:"Click to copy Task ID",children:[u.jsxs("code",{className:"id-value",children:["#",w.id]}),u.jsx("span",{className:"id-icon",children:b?u.jsx(nR,{size:12}):u.jsx(Mz,{size:12})}),u.jsx("span",{className:"id-tooltip",children:b?"Copied!":"Copy ID"})]})]}),$&&u.jsx(Fe,{variant:"danger",onClick:P,disabled:f,className:"modal-abandon-btn",children:"Abandon Task"}),D===qe.CLAIMED&&u.jsx(Fe,{variant:"primary",onClick:S,loading:f,children:"Started working on this task"}),D===qe.IN_PROGRESS&&u.jsx(Fe,{variant:"primary",onClick:O,loading:f,children:"Submitted for review"}),I&&u.jsx(Fe,{variant:"primary",onClick:j,loading:f,children:"Mark as Accepted"}),I&&u.jsx(Fe,{variant:"secondary",onClick:N,loading:f,disabled:!d,title:d?"":`You have ${Gi} active tasks. Submit or complete some first.`,children:"Go back to working on it"}),M&&u.jsx(Fe,{variant:"secondary",onClick:N,loading:f,disabled:!d,title:d?"":`You have ${Gi} active tasks. Submit or complete some first.`,children:"Re-open Task"})]})]})})}const bl="/Terminus-EC-Training-stateful/",jf={"onboarding-platform":"onboarding-tile-platform","task-skeleton":"onboarding-tile-skeleton","submission-platform":"onboarding-tile-submission-platform","great-tasks":"onboarding-tile-great-tasks","video-walkthroughs":"onboarding-tile-videos"},$z=()=>{const{isCompleted:e,toggleCompletion:t}=H3(),{success:r}=iz(),n=ft(),i=nn(),[s,a]=E.useState([]),[o,c]=E.useState(!1),d=[{id:"onboarding-platform",label:"Platform Onboarding",description:"New to Snorkel? Watch the onboarding video and download the slides to get familiar with the Expert Platform interface.",path:"/portal/docs/onboarding/platform-onboarding",image:`${bl}images/onboarding_platform.png`},{id:"task-skeleton",label:"Download Task Skeleton",description:"Get the starter files you need to build your task, including the directory structure and required configuration files.",path:`${bl}template-task.zip`,image:`${bl}images/onboardiing_download_skeleton.png`,isDownload:!0},{id:"submission-platform",label:"Platform Submissions",description:"Ready to submit? Follow our walkthrough to package your task, upload it to the platform, and track your submission through review.",path:"/portal/docs/submitting-tasks/platform-submission",image:`${bl}images/onboarding_submit_task2.png`},{id:"great-tasks",label:"What Makes Great TerminalBench Tasks",description:"Discover the key ingredients that make tasks challenging, realistic, and valuable for training AI agents. Learn patterns to follow and pitfalls to avoid.",path:"/portal/docs/understanding-tasks/what-makes-a-good-task",image:`${bl}images/onboarding_great_tb_task.png`},{id:"video-walkthroughs",label:"Video Walkthroughs",description:"Watch step-by-step videos showing how to create tasks, write solutions, and run tests. Perfect for visual learners.",path:"/portal/docs/creating-tasks/videos/creating-task",image:`${bl}images/onboarding_videos.png`}],p=d.filter(_=>e(jf[_.id])).map(_=>_.id),v=d.filter(_=>!p.includes(_.id)&&!s.includes(_.id));if(p.length===d.length)return null;const g=async()=>{if(!o){c(!0);try{const _=d.filter(S=>!e(jf[S.id])),w=_.map(S=>S.id);i&&_.length>0&&(_.forEach(S=>{i.capture("onboarding_step_completed",{resource_id:S.id,resource_label:S.label,source:"mark_all_complete"})}),i.capture("onboarding_all_completed",{resources_completed:_.map(S=>S.id),count:_.length})),a(S=>[...S,...w]),await new Promise(S=>setTimeout(S,300));const A=w.map(S=>t(jf[S]));await Promise.all(A),r("All onboarding tasks marked as complete!")}catch(_){console.error("Error marking all complete:",_)}finally{c(!1)}}},b=async(_,w)=>{_.stopPropagation();const A=jf[w],S=d.find(O=>O.id===w);i&&S&&i.capture("onboarding_step_completed",{resource_id:w,resource_label:S.label,source:"individual_card"}),a(O=>[...O,w]),setTimeout(async()=>{await t(A),a(O=>O.filter(j=>j!==w)),r("Progress saved!")},300)},x=_=>{if(i&&i.capture(_.isDownload?"skeleton_downloaded":"docs_viewed",{resource_id:_.id,resource_label:_.label}),_.isDownload){const w=document.createElement("a");w.href=_.path,w.download=_.path.split("/").pop(),document.body.appendChild(w),w.click(),document.body.removeChild(w)}else n(_.path)};return u.jsxs("section",{className:"get-started-section",children:[u.jsxs("div",{className:"section-header-row",children:[u.jsx("h2",{className:"section-header",children:"Onboarding Starter Kit"}),u.jsx(Fe,{variant:"ghost",onClick:g,disabled:o,className:"mark-all-complete-btn",children:"Hide onboarding"})]}),u.jsx("div",{className:`resources-grid cards-${v.length}`,children:v.map(_=>u.jsxs(q3,{variant:"minimal",hoverable:!0,className:`resource-card-rich ${s.includes(_.id)?"card-closing":""}`,onClick:()=>x(_),children:[u.jsxs("div",{className:"resource-preview",children:[_.image?u.jsx("img",{src:_.image,alt:_.label,className:"resource-image"}):u.jsx("div",{className:"image-placeholder",children:u.jsx("span",{className:"preview-placeholder-text",children:_.isDownload?"Download Skeleton":"Card cover image here"})}),u.jsx("div",{className:"preview-gradient"})]}),u.jsxs("div",{className:"resource-body",children:[u.jsx("h3",{className:"resource-title",children:_.label}),u.jsx("p",{className:"resource-description",children:_.description})]}),u.jsxs("div",{className:"resource-footer",children:[u.jsxs("button",{className:"mark-complete-link",onClick:w=>b(w,_.id),children:[u.jsx(nR,{})," Mark complete"]}),u.jsx(Fe,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),x(_)},children:_.isDownload?u.jsxs(u.Fragment,{children:["Download ",u.jsx(Bz,{})]}):u.jsxs(u.Fragment,{children:["Learn more ",u.jsx(Pz,{})]})})]})]},_.id))})]})},lC="/Terminus-EC-Training-stateful/assets/slack-CpGpJpI8.webp",Uz=()=>{const{profile:e,completeOnboarding:t,updateProfile:r}=qr();ft();const[n,i]=E.useState(0),[s,a]=E.useState(!1),[o,c]=E.useState((e==null?void 0:e.first_name)||""),[d,f]=E.useState((e==null?void 0:e.last_name)||""),[p,v]=E.useState((e==null?void 0:e.github_username)||""),[g,b]=E.useState(!1);if(!e||e.onboarding_completed)return null;const x=async()=>{if(n===1){if(!o.trim()||!d.trim()||!p.trim())return;b(!0);try{const{error:S}=await r({first_name:o,last_name:d,github_username:p});if(S)throw S;i(O=>O+1)}catch(S){console.error("Failed to update profile:",S)}finally{b(!1)}}else i(S=>S+1)},_=()=>{i(S=>S-1)},w=async()=>{a(!0);try{await t()}catch(S){console.error("Failed to complete onboarding:",S),a(!1)}},A=[{content:u.jsxs("div",{className:"onboarding-step-content",children:[u.jsx("div",{className:"onboarding-logos",children:u.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo-onboarding"})}),u.jsx("h1",{className:"onboarding-title",style:{marginBottom:"8px"},children:"Welcome to TerminalBench."}),u.jsx("p",{style:{fontSize:"36px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"32px",lineHeight:"1.2",opacity:.9},children:"Were really glad youre here."}),u.jsx("p",{className:"onboarding-subtitle",children:"You've made the right choice to join the community of experts pushing the boundaries of agentic coding through coding challenges."})]})},{content:u.jsxs("div",{className:"onboarding-step-content",children:[u.jsx("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:"Outsmart the machines."}),u.jsx("p",{className:"onboarding-description",children:"Help push AI to its limits by creating real engineering challenges that todays best models still fail. Every accepted task advances agentic development, and earns you a payout."}),u.jsx("h3",{className:"onboarding-section-title",children:"Your details:"}),u.jsxs("div",{style:{marginTop:"32px",textAlign:"left",maxWidth:"400px",margin:"32px auto 0"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[u.jsx(Xv,{label:"First Name",placeholder:"e.g. Jane",value:o,onChange:S=>c(S.target.value),autoFocus:!0}),u.jsx(Xv,{label:"Last Name",placeholder:"e.g. Doe",value:d,onChange:S=>f(S.target.value)})]}),u.jsx(Xv,{label:"GitHub Username",placeholder:"e.g. janedoe",value:p,onChange:S=>v(S.target.value),helperText:"We use this to verify your contributions and link to your GitHub profile."}),u.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"24px"},children:"We use these details to match your profile with our internal systems and process payouts."})]})]})},{content:u.jsxs("div",{className:"onboarding-step-content",children:[u.jsxs("h2",{className:"onboarding-title",style:{fontSize:"42px"},children:[u.jsx("span",{role:"img","aria-label":"celebration",style:{color:"#FFD700"},children:""})," Youre all set."]}),u.jsx("p",{className:"onboarding-description",children:"Youre now part of a global community pushing the boundaries of agentic AI. Lets get you plugged-in and ready to make an impact."}),u.jsx("h3",{className:"onboarding-section-title",style:{marginTop:"40px",marginBottom:"24px"},children:"Whats next?"}),u.jsxs("div",{className:"next-steps-list",style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"20px"},children:[u.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[u.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:u.jsx("img",{src:lC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),u.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[u.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Community"}),u.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"Connect with other TerminalBench contributors and chat with the team."})]}),u.jsx(Fe,{variant:"primary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203","_blank")},children:"Join"})]}),u.jsxs("div",{className:"next-step-card",style:{cursor:"default",maxWidth:"400px",textAlign:"center",alignItems:"center",flex:1},children:[u.jsx("div",{className:"next-step-icon",style:{overflow:"hidden",padding:"0",backgroundColor:"transparent",width:"64px",height:"64px",marginBottom:"16px"},children:u.jsx("img",{src:lC,alt:"Slack",style:{width:"100%",height:"100%",objectFit:"contain"}})}),u.jsxs("div",{className:"next-step-content",style:{marginBottom:"24px"},children:[u.jsx("h4",{className:"next-step-title",style:{fontSize:"24px",marginBottom:"12px"},children:"Announcements"}),u.jsx("span",{className:"next-step-subtitle",style:{fontSize:"16px"},children:"The single source of truth for important announcements, updates, etc."})]}),u.jsx(Fe,{variant:"secondary",size:"lg",style:{width:"100%"},onClick:S=>{S.stopPropagation(),window.open("https://snorkel-team.enterprise.slack.com/archives/C0A1WM7EPK4","_blank")},children:"Join"})]})]})]})}];return u.jsx("div",{className:"onboarding-modal-overlay",children:u.jsxs("div",{className:"onboarding-modal-content",children:[u.jsx("div",{className:"onboarding-step-container",children:A[n].content},n),u.jsxs("div",{className:"onboarding-nav",children:[u.jsx(Y3,{steps:A.length,currentStep:n}),u.jsxs("div",{className:"nav-buttons",children:[n>0&&u.jsx(Fe,{variant:"secondary",onClick:_,children:"Back"}),n<A.length-1?u.jsx(Fe,{variant:"primary",size:"lg",onClick:x,disabled:n===1&&(!o.trim()||!d.trim()||!p.trim()),loading:n===1&&g,children:n===0?"Start Onboarding":"Next Step"}):u.jsx(Fe,{variant:"primary",size:"lg",onClick:w,loading:s,children:"Start Building"})]})]})]})})};function Hz({children:e}){const{user:t,profile:r,loading:n}=qr(),i=Ld(uz,2200);return n?u.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsx(Aa,{size:"lg",message:i})}):!t||!r?(console.log("ProtectedRoute: Redirecting to login - user or profile missing"),u.jsx(_i,{to:"/login",replace:!0})):e}const zz=3;function sR(){const e=nn();ci();const t=E.useRef(!1),r=E.useCallback(()=>{const v=`auth_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{sessionStorage.setItem(pn.AUTH_ATTEMPT_ID,v)}catch{}return v},[]),n=E.useCallback(()=>{try{return sessionStorage.getItem(pn.AUTH_ATTEMPT_ID)}catch{return null}},[]),i=E.useCallback((v,g=eC.LOGIN_PAGE,b={})=>{if(!e)return;const x=r();return e.capture(ki.AUTH_ATTEMPT_STARTED,{method:v,source:g,attempt_id:x,current_url:window.location.href,...b}),x},[e,r]),s=E.useCallback((v,g,b={})=>{if(!e)return;const x=n(),_=e.get_distinct_id()===v?Rp.RETURNING:Rp.NEW;e.capture(ki.AUTH_SUCCESS,{method:g,session_type:_,attempt_id:x}),e.identify(v,{is_authenticated:!0,auth_method:g,last_auth_at:new Date().toISOString(),...b}),f()},[e,n]),a=E.useCallback((v,g,b={})=>{if(!e)return;const x=n();e.capture(ki.AUTH_FAILED,{method:v,error_code:(g==null?void 0:g.code)||(g==null?void 0:g.name)||"unknown",error_message:(g==null?void 0:g.message)||String(g),attempt_id:x,...b})},[e,n]),o=E.useCallback(()=>{e&&e.capture(ki.AUTH_LOGOUT)},[e]),c=E.useCallback((v,g={})=>{if(!e)return;const b={started:ki.AUTH_CALLBACK_STARTED,success:ki.AUTH_CALLBACK_SUCCESS,error:ki.AUTH_CALLBACK_ERROR}[v];b&&e.capture(b,{attempt_id:n(),...g})},[e,n]),d=E.useCallback(()=>{if(e)try{const g=parseInt(sessionStorage.getItem(pn.LOGIN_PAGE_VIEWS)||"0",10)+1;sessionStorage.setItem(pn.LOGIN_PAGE_VIEWS,String(g)),g>zz&&e.capture(ki.AUTH_REDIRECT_LOOP_DETECTED,{login_view_count:g,user_agent:navigator.userAgent,current_url:window.location.href,referrer:document.referrer}),t.current||(sessionStorage.getItem(pn.LOGIN_PAGE_TRACKED)||(e.capture(ki.FIRST_LOGIN_PAGE_VIEW,{referrer:document.referrer,current_url:window.location.href}),sessionStorage.setItem(pn.LOGIN_PAGE_TRACKED,"true")),t.current=!0)}catch{}},[e]),f=E.useCallback(()=>{try{sessionStorage.removeItem(pn.LOGIN_PAGE_VIEWS),sessionStorage.removeItem(pn.LOGIN_PAGE_TRACKED),sessionStorage.removeItem(pn.AUTH_ATTEMPT_ID)}catch{}},[]),p=E.useCallback(()=>{try{return parseInt(sessionStorage.getItem(pn.LOGIN_PAGE_VIEWS)||"0",10)}catch{return 0}},[]);return{trackAuthAttemptStarted:i,trackAuthSuccess:s,trackAuthFailed:a,trackLogout:o,trackAuthCallback:c,trackLoginPageView:d,clearLoginPageTracking:f,getLoginPageViewCount:p,AUTH_METHODS:B1,AUTH_SOURCES:eC}}function Wz(){const{signInWithGitHub:e,signInWithEmail:t,signUpWithEmail:r,user:n,profile:i}=qr(),s=ft(),{trackAuthAttemptStarted:a,trackAuthFailed:o,trackLoginPageView:c,AUTH_METHODS:d,AUTH_SOURCES:f}=sR(),[p,v]=E.useState(!1),[g,b]=E.useState(null),[x,_]=E.useState(null),[w,A]=E.useState(!1),[S,O]=E.useState(!1),[j,N]=E.useState(""),[P,D]=E.useState("");E.useEffect(()=>{c()},[c]),E.useEffect(()=>{n&&i&&s("/portal")},[n,i,s]);const $=async()=>{try{v(!0),b(null),_(null),a(d.GITHUB,f.LOGIN_PAGE),await new Promise(H=>setTimeout(H,300)),await e()}catch(H){o(d.GITHUB,H),b(H.message),v(!1)}},I=async H=>{H.preventDefault();try{if(v(!0),b(null),_(null),a(d.EMAIL,f.LOGIN_PAGE,{is_signup:S}),S){const{user:q}=await r(j,P);q&&(_("Check your email to confirm your account."),O(!1),v(!1))}else await t(j,P)}catch(q){o(d.EMAIL,q,{is_signup:S}),b(q.message),v(!1)}},M=()=>{O(!S),b(null),_(null)};return u.jsx("div",{className:"login-page",children:u.jsx("div",{className:"login-container",children:u.jsxs("div",{className:"login-card",children:[u.jsxs("div",{className:"login-header",children:[u.jsx("div",{className:"logos-container",children:u.jsx("img",{src:"https://s46486.pcdn.co/wp-content/uploads/2023/05/snorkel_logo_header-1.svg",alt:"Snorkel",className:"snorkel-logo"})}),u.jsx("h1",{children:S?"Create Account":"Welcome to TerminalBench"})]}),u.jsxs("div",{className:"login-content",children:[g&&u.jsx("div",{className:"error-message",children:g}),x&&u.jsx("div",{className:"success-message",children:x}),w?u.jsxs("form",{onSubmit:I,className:"email-login-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",value:j,onChange:H=>N(H.target.value),placeholder:"name@company.com",required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsx("input",{type:"password",id:"password",value:P,onChange:H=>D(H.target.value),placeholder:"",required:!0,className:"form-input"})]}),!S&&u.jsx("div",{className:"forgot-password-link",children:u.jsx(sr,{to:"/forgot-password",children:"Forgot your password?"})}),u.jsx("button",{type:"submit",disabled:p,className:"submit-button",children:p?S?"Creating account...":"Signing in...":S?"Create Account":"Sign In"}),u.jsxs("div",{className:"auth-mode-toggle",children:[u.jsx("span",{className:"toggle-text",children:S?"Already have an account?":"Don't have an account?"}),u.jsx("button",{type:"button",className:"text-button inline",onClick:M,children:S?"Sign in":"Sign up"})]}),u.jsx("div",{className:"regular-login-section",children:u.jsx("button",{type:"button",className:"text-button",onClick:()=>{A(!1),O(!1),b(null),_(null)},children:"Back to GitHub login"})})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:$,disabled:p,className:`github-button ${p?"github-button-loading":""}`,children:p?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"github-button-spinner"}),"Opening GitHub..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"github-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Login with GitHub"]})}),u.jsx("div",{className:"regular-login-section",children:u.jsx("button",{className:"text-button",onClick:()=>A(!0),children:"I don't have a GitHub account"})})]})]})]})})})}function qz(){const{resetPassword:e}=qr(),[t,r]=E.useState(""),[n,i]=E.useState(!1),[s,a]=E.useState(null),[o,c]=E.useState(!1),d=async f=>{f.preventDefault(),a(null),i(!0);try{const{error:p}=await e(t);if(p)throw p;c(!0)}catch(p){a(p.message)}finally{i(!1)}};return u.jsx("div",{className:"forgot-password-page",children:u.jsx("div",{className:"forgot-password-container",children:u.jsxs("div",{className:"forgot-password-card",children:[u.jsxs("div",{className:"forgot-password-header",children:[u.jsx("div",{className:"back-link-container",children:u.jsxs(sr,{to:"/login",className:"back-link",children:[u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to login"]})}),u.jsx("h1",{children:"Reset your password"}),u.jsx("p",{className:"forgot-password-subtitle",children:o?"Check your inbox for the reset link":"Enter your email and we'll send you a reset link"})]}),u.jsxs("div",{className:"forgot-password-content",children:[s&&u.jsx("div",{className:"error-message",children:s}),o?u.jsxs("div",{className:"success-state",children:[u.jsx("div",{className:"success-icon",children:u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),u.jsxs("p",{className:"success-text",children:["We've sent a password reset link to ",u.jsx("strong",{children:t})]}),u.jsxs("p",{className:"success-hint",children:["Didn't receive the email? Check your spam folder or"," ",u.jsx("button",{type:"button",className:"retry-button",onClick:()=>{c(!1),r("")},children:"try again"})]})]}):u.jsxs("form",{onSubmit:d,className:"forgot-password-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",value:t,onChange:f=>r(f.target.value),placeholder:"name@company.com",required:!0,className:"form-input",autoFocus:!0})]}),u.jsx("button",{type:"submit",disabled:n,className:"submit-button",children:n?"Sending...":"Send Reset Link"})]})]})]})})})}function Vz(){const{updatePassword:e,user:t}=qr(),r=ft(),[n,i]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(!1),[d,f]=E.useState(null),[p,v]=E.useState(!1),[g,b]=E.useState(!1),[x,_]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const{data:{session:S}}=await Ke.auth.getSession(),{data:{subscription:O}}=Ke.auth.onAuthStateChange((j,N)=>{j==="PASSWORD_RECOVERY"&&(b(!0),_(!1))});return S&&b(!0),_(!1),()=>O.unsubscribe()}catch(S){console.error("Session check error:",S),_(!1)}})()},[]);const w=async A=>{if(A.preventDefault(),f(null),n!==s){f("Passwords do not match");return}if(n.length<6){f("Password must be at least 6 characters long");return}c(!0);try{const{error:S}=await e(n);if(S)throw S;v(!0),setTimeout(()=>{r("/portal")},2e3)}catch(S){f(S.message)}finally{c(!1)}};return x?u.jsx("div",{className:"reset-password-page",children:u.jsx("div",{className:"reset-password-container",children:u.jsx("div",{className:"reset-password-card",children:u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Verifying reset link..."})]})})})}):!g&&!t?u.jsx("div",{className:"reset-password-page",children:u.jsx("div",{className:"reset-password-container",children:u.jsx("div",{className:"reset-password-card",children:u.jsxs("div",{className:"invalid-link-state",children:[u.jsx("div",{className:"error-icon",children:u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),u.jsx("h2",{children:"Invalid or Expired Link"}),u.jsx("p",{children:"This password reset link is invalid or has expired."}),u.jsx("button",{onClick:()=>r("/forgot-password"),className:"request-new-link-button",children:"Request a New Link"})]})})})}):u.jsx("div",{className:"reset-password-page",children:u.jsx("div",{className:"reset-password-container",children:u.jsxs("div",{className:"reset-password-card",children:[u.jsxs("div",{className:"reset-password-header",children:[u.jsx("h1",{children:p?"Password Updated!":"Set New Password"}),u.jsx("p",{className:"reset-password-subtitle",children:p?"Redirecting you to the portal...":"Choose a strong password for your account"})]}),u.jsxs("div",{className:"reset-password-content",children:[d&&u.jsx("div",{className:"error-message",children:d}),p?u.jsxs("div",{className:"success-state",children:[u.jsx("div",{className:"success-icon",children:u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),u.jsx("p",{className:"success-text",children:"Your password has been successfully updated."})]}):u.jsxs("form",{onSubmit:w,className:"reset-password-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"New Password"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:A=>i(A.target.value),placeholder:"",required:!0,minLength:6,className:"form-input",autoFocus:!0}),u.jsx("span",{className:"input-hint",children:"Must be at least 6 characters"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx("input",{type:"password",id:"confirmPassword",value:s,onChange:A=>a(A.target.value),placeholder:"",required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",disabled:o,className:"submit-button",children:o?"Updating...":"Update Password"})]})]})]})})})}function Gz(){const e=ft(),t=ci(),{trackAuthCallback:r}=sR(),[n,i]=E.useState(null),[s,a]=E.useState(!0);E.useEffect(()=>{(async()=>{r("started",{has_hash:!!t.hash,callback_type:"oauth"});const d=new URLSearchParams(t.hash.substring(1)),f=d.get("error_code"),p=d.get("error_description"),v=d.get("type");if(f){const x=p?decodeURIComponent(p.replace(/\+/g," ")):"An error occurred";r("error",{error_code:f,error_description:x,callback_type:v||"unknown"}),i({code:f,description:x}),a(!1);return}if(d.get("access_token")){const{data:{session:x},error:_}=await Ke.auth.getSession();if(_){r("error",{error_code:"session_error",error_description:_.message}),i({code:"session_error",description:_.message}),a(!1);return}if(r("success",{callback_type:v||"oauth",has_session:!!x}),v==="recovery"||x){e("/reset-password",{replace:!0});return}e("/portal",{replace:!0});return}const{data:{session:b}}=await Ke.auth.getSession();b?(r("success",{callback_type:"existing_session"}),e("/portal",{replace:!0})):(r("error",{error_code:"no_session",error_description:"No session found after callback"}),e("/login",{replace:!0}))})()},[t,e,r]);const o=()=>{if(!n)return"";switch(n.code){case"otp_expired":return"This password reset link has expired. Please request a new one.";case"access_denied":return"Access was denied. The link may be invalid or expired.";default:return n.description||"An unexpected error occurred."}};return s?u.jsx("div",{className:"auth-callback-page",children:u.jsx("div",{className:"auth-callback-container",children:u.jsx("div",{className:"auth-callback-card",children:u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Processing..."})]})})})}):n?u.jsx("div",{className:"auth-callback-page",children:u.jsx("div",{className:"auth-callback-container",children:u.jsx("div",{className:"auth-callback-card",children:u.jsxs("div",{className:"error-state",children:[u.jsx("div",{className:"error-icon",children:u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),u.jsx("h2",{children:"Link Expired or Invalid"}),u.jsx("p",{className:"error-description",children:o()}),u.jsxs("div",{className:"error-actions",children:[u.jsx("button",{onClick:()=>e("/forgot-password"),className:"primary-button",children:"Request New Link"}),u.jsx("button",{onClick:()=>e("/login"),className:"secondary-button",children:"Back to Login"})]})]})})})}):null}const Yz=()=>{const e=ft(),{theme:t}=$3(),r=n=>{const i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth"})};return u.jsx("header",{className:"public-header",children:u.jsxs("div",{className:"public-header-content",children:[u.jsx(K3,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"})}),u.jsxs(X3,{className:"public-nav",children:[u.jsx(va,{as:"button",onClick:()=>r("what-is-terminalbench"),children:"What is TerminalBench?"}),u.jsx(va,{as:"button",onClick:()=>e("/login"),variant:"button",children:"Login"})]})]})})},aR=()=>{const e=E.useRef(null),{theme:t}=$3();return E.useEffect(()=>{const r=e.current,n=r.getContext("2d");let i,s=[];const a=["0","1","{","}","<",">","/","*","","","","","","::"],o=()=>{const b=window.devicePixelRatio||1;r.width=window.innerWidth*b,r.height=window.innerHeight*b,r.style.width=`${window.innerWidth}px`,r.style.height=`${window.innerHeight}px`,n.scale(b,b),f()},c={x:null,y:null,radius:100};class d{constructor(x,_,w,A,S,O,j){this.x=x,this.y=_,this.z=Math.random()*3+.3,this.baseSize=S,this.size=S*this.z,this.directionX=w*this.z,this.directionY=A*this.z,this.color=O,this.symbol=j,this.vx=0,this.vy=0,this.friction=.96}draw(){n.globalAlpha=Math.min(1,this.z/2.5*.85),n.font=`${Math.max(8,this.size*8)}px "JetBrains Mono", monospace`,n.fillStyle=this.color,n.fillText(this.symbol,this.x,this.y),n.globalAlpha=1}update(x,_){if(this.x>x+50&&(this.x=-50),this.x<-50&&(this.x=x+50),this.y>_+50&&(this.y=-50),this.y<-50&&(this.y=_+50),c.x!=null){let P=c.x-this.x,D=c.y-this.y,$=Math.sqrt(P*P+D*D);const I=c.radius*this.z;if($<I){const M=P/$,H=D/$,q=(I-$)/I,G=.3*this.z;this.vx-=M*q*G,this.vy-=H*q*G}}let w=x/2,A=_/2,S=280*this.z,O=w-this.x,j=A-this.y,N=Math.sqrt(O*O+j*j);if(N<S){let P=Math.atan2(j,O),D=(S-N)/S;this.vx-=Math.cos(P)*D*.6*this.z,this.vy-=Math.sin(P)*D*.6*this.z}this.x+=this.directionX,this.y+=this.directionY,this.x+=this.vx,this.y+=this.vy,this.vx*=this.friction,this.vy*=this.friction,this.draw()}}const f=()=>{s=[];const b=window.innerWidth,x=window.innerHeight;let _=b*x/15e3,w=t==="dark"?"#64ffda":"#0071e3";for(let A=0;A<_;A++){let S=Math.random()*1.5+.5,O=Math.random()*b,j=Math.random()*x,N=Math.random()*.2-.1,P=Math.random()*-.3-.05,D=a[Math.floor(Math.random()*a.length)];s.push(new d(O,j,N,P,S,w,D))}s.sort((A,S)=>A.z-S.z)},p=()=>{requestAnimationFrame(p),n.clearRect(0,0,window.innerWidth,window.innerHeight);for(let b=0;b<s.length;b++)s[b].update(window.innerWidth,window.innerHeight);v()},v=()=>{const b=window.innerWidth,x=window.innerHeight;for(let _=0;_<s.length;_++)for(let w=_;w<s.length;w++){if(Math.abs(s[_].z-s[w].z)>.2)continue;let A=(s[_].x-s[w].x)*(s[_].x-s[w].x)+(s[_].y-s[w].y)*(s[_].y-s[w].y),S=b/11*(x/11)*.5;if(A<S){let O=1-A/S,j=Math.min(1,s[_].z/2.5),N=t==="dark"?`rgba(100, 255, 218, ${O*.2*j})`:`rgba(0, 113, 227, ${O*.15*j})`;n.strokeStyle=N,n.lineWidth=.5,n.beginPath(),n.moveTo(s[_].x+5,s[_].y-5),n.lineTo(s[w].x+5,s[w].y-5),n.stroke()}}};window.addEventListener("resize",o);const g=b=>{c.x=b.x,c.y=b.y};return window.addEventListener("mousemove",g),window.addEventListener("mouseout",()=>{c.x=void 0,c.y=void 0}),o(),p(),()=>{window.removeEventListener("resize",o),window.removeEventListener("mousemove",g),cancelAnimationFrame(i)}},[t]),u.jsx("canvas",{ref:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"}})},Kz=()=>{const e=ft(),t=()=>{e("/login")},r=n=>{n.preventDefault();const i=document.getElementById("what-is-terminalbench");i&&i.scrollIntoView({behavior:"smooth"})};return u.jsxs("section",{className:"landing-hero",children:[u.jsx(aR,{}),u.jsxs("div",{className:"hero-content",children:[u.jsx("h1",{className:"hero-title",children:"Welcome to your new community of experts."}),u.jsxs("p",{className:"hero-subtitle",children:["Build challenging and ",u.jsx("b",{children:"real"})," engineering tasks, beat frontier LLMS, advance the state of agentic coding and ",u.jsx("b",{children:"get paid for your expertise."})]}),u.jsxs("div",{className:"hero-ctas",children:[u.jsxs("button",{onClick:t,className:"cta-button cta-primary",children:["Login to my portal",u.jsxs("svg",{className:"arrow-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M5 12h14"}),u.jsx("path",{d:"M12 5l7 7-7 7"})]})]}),u.jsx("a",{href:"#what-is-terminalbench",onClick:r,className:"cta-link",children:"What is TerminalBench?"}),u.jsx("div",{style:{marginTop:"0.5rem"},children:u.jsx("a",{href:"#how-it-works",onClick:n=>{n.preventDefault();const i=document.getElementById("how-it-works");i&&i.scrollIntoView({behavior:"smooth"})},className:"cta-link",style:{fontSize:"0.9rem",opacity:.8},children:"Learn how it works"})})]})]}),u.jsx("div",{className:"scroll-indicator",children:u.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M7 13l5 5 5-5M7 6l5 5 5-5"})})})]})},Xz=()=>u.jsxs("section",{id:"what-is-terminalbench",className:"landing-section what-is-section",children:[u.jsx("h2",{className:"section-title",children:"What is TerminalBench?"}),u.jsxs("div",{className:"what-is-content",children:[u.jsx("p",{className:"lead-text",children:"TerminalBench is a platform where developers complete real engineering tasks to benchmark and improve AI coding agents. Companies and research teams submit real problems, developers solve them, and human results are compared against agent performance to advance the next generation of AI-assisted software development."}),u.jsxs("p",{className:"lead-text",children:["TerminalBench was created by ",u.jsx("b",{children:"Stanford University"})," and the ",u.jsx("b",{children:"Laude Institute"}),", and has quickly become a leading benchmark for evaluating AI coding agents in command-line environments. Since launch, it has earned over 1,000 GitHub stars and attracted contributions from developers worldwide. This platform is a ",u.jsx("b",{children:"Snorkel AI initiative"})," to contribute to and expand the benchmark (not an official partnership)."]}),u.jsx("p",{className:"highlight-text",children:"You get paid for high-quality engineering work, and your contributions directly improve the future of agentic development."}),u.jsxs("div",{className:"research-card-wrapper",children:[u.jsx("div",{className:"research-divider"}),u.jsxs("a",{href:"https://snorkel.ai/blog/terminal-bench-2-0-raising-the-bar-for-ai-agent-evaluation/",target:"_blank",rel:"noopener noreferrer",className:"research-card",children:[u.jsx("div",{className:"research-icon",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),u.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),u.jsxs("div",{className:"research-content",children:[u.jsx("span",{className:"research-label",children:"Deep Dive"}),u.jsx("span",{className:"research-question",children:"Terminal-Bench 2.0: Raising the bar for AI agent evaluation"}),u.jsxs("span",{className:"research-cta",children:["Read about Snorkel's contribution to Terminal-Bench 2.0",u.jsxs("svg",{className:"arrow-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),u.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})]})]})]}),Qz=()=>{const[e,t]=E.useState(!1),r=[{number:"01",title:"Pick or Define a Task",description:"Browse our queue of real-world engineering problems or create a task that matches your expertise, from debugging to feature implementation.",hasLink:!0},{number:"02",title:"Build & Submit",description:"Work in your own IDE, preferred environment. Use standard tools to code your solution, then push for automated- and human verification."},{number:"03",title:"Get Paid",description:"Once your solution gets accepted, you get paid. Build your reputation and keep building tasks."}];return u.jsxs("section",{id:"how-it-works",className:"landing-section",children:[u.jsx("h2",{className:"section-title",children:"How does TerminalBench work?"}),u.jsx("div",{className:"timeline-container",children:r.map((n,i)=>u.jsx("div",{className:"timeline-step",children:u.jsxs("div",{className:"timeline-content",children:[u.jsx("span",{className:"step-number",children:n.number}),u.jsx("h3",{children:n.title}),u.jsx("p",{children:n.description}),n.hasLink&&u.jsx("a",{className:"learn-more-link",onClick:s=>{s.preventDefault(),t(!0)},children:"Learn more about our tasks "})]})},i))}),u.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:n=>{n.target===n.currentTarget&&t(!1)},children:u.jsxs("div",{className:"modal-content",children:[u.jsx("button",{className:"modal-close",onClick:()=>t(!1),children:""}),u.jsx("h3",{className:"modal-title",children:"Diverse Engineering Challenges"}),u.jsxs("div",{className:"modal-body",children:[u.jsx("p",{children:"Our platform hosts a massive variety of tasks designed to test and improve skills across the entire technology spectrum. From quick bug fixes to complex system architecture problems, there's something for every engineer."}),u.jsxs("p",{children:[u.jsx("b",{children:"Have a specific problem in mind?"})," You can also propose your own tasks and solutions to contribute to our growing library of engineering challenges."]}),u.jsx("p",{children:"Explore challenges in specialized fields including:"}),u.jsxs("div",{className:"modal-tags",children:[u.jsx("span",{className:"modal-tag",children:"Machine Learning"}),u.jsx("span",{className:"modal-tag",children:"Data Science"}),u.jsx("span",{className:"modal-tag",children:"Cyber Security"}),u.jsx("span",{className:"modal-tag",children:"Full Stack Web"}),u.jsx("span",{className:"modal-tag",children:"System Design"}),u.jsx("span",{className:"modal-tag",children:"Cloud Infrastructure"}),u.jsx("span",{className:"modal-tag",children:"Algorithms"}),u.jsx("span",{className:"modal-tag",children:"Database Optimization"}),u.jsx("span",{className:"modal-more-text",children:"And more..."})]})]})]})})]})},Jz=[{title:"Debug Race Condition",difficulty:"hard",language:"Go",description:"Identify and fix a race condition in a concurrent queue implementation."},{title:"Implement API Endpoint",difficulty:"medium",language:"Python",description:"Create a new REST endpoint with rate limiting and caching support."},{title:"Refactor Component",difficulty:"easy",language:"React",description:"Convert a class-based component to functional using hooks and optimize re-renders."},{title:"Optimize SQL Query",difficulty:"medium",language:"PostgreSQL",description:"Rewrite a slow reporting query to use appropriate indexes and CTEs."},{title:"Integrate Payment Gateway",difficulty:"hard",language:"Node.js",description:"Implement Stripe webhooks handling with idempotent processing."},{title:"Fix CSS Overflow",difficulty:"easy",language:"CSS",description:"Resolve horizontal scroll issue on mobile devices for the main dashboard."},{title:"Kubernetes Config",difficulty:"medium",language:"DevOps",description:"Create Helm charts for microservices deployment with auto-scaling."},{title:"Memory Leak Analysis",difficulty:"hard",language:"Rust",description:"Profile and fix memory leaks in a long-running background worker."},{title:"Unit Tests Coverage",difficulty:"easy",language:"Java",description:"Increase test coverage for the core business logic module to 90%."},{title:"Accessibility Audit",difficulty:"medium",language:"HTML/JS",description:"Fix WCAG 2.1 compliance issues in the navigation and form components."},{title:"Database Migration",difficulty:"hard",language:"SQL",description:"Safely migrate 50M+ records to a new schema structure with zero downtime."},{title:"GraphQL Resolver",difficulty:"medium",language:"TypeScript",description:"Implement N+1 query problem solution using DataLoader patterns."},{title:"Mobile Touch Events",difficulty:"medium",language:"React Native",description:"Fix touch event propagation issues in nested scroll views."},{title:"Secure JWT Auth",difficulty:"hard",language:"Go",description:"Implement secure JWT rotation and refresh token strategy."},{title:"Dockerize App",difficulty:"easy",language:"Docker",description:"Create optimized multi-stage Dockerfile for a Node.js application."},{title:"Redis Caching",difficulty:"medium",language:"Python",description:"Implement read-through caching pattern for expensive API calls."},{title:"Websocket Chat",difficulty:"hard",language:"Elixir",description:"Build a scalable realtime chat server handling 10k+ concurrent connections."},{title:"Fix Z-Index Stacking",difficulty:"easy",language:"CSS",description:"Debug and fix modal overlay z-index issues across the application."},{title:"Lambda Cold Starts",difficulty:"medium",language:"AWS",description:"Optimize AWS Lambda function initialization to reduce cold start latency."},{title:"Distributed Lock",difficulty:"hard",language:"Java",description:"Implement a distributed locking mechanism using Redis for job scheduling."},{title:"Form Validation",difficulty:"easy",language:"Vue",description:"Add client-side validation for email and password complexity."},{title:"Image Optimization",difficulty:"medium",language:"Shell",description:"Write a script to automatically compress and resize uploaded user avatars."},{title:"CI/CD Pipeline",difficulty:"hard",language:"GitHub Actions",description:"Set up a complete CI/CD pipeline with linting, testing, and blue-green deployment."},{title:"Internationalization",difficulty:"medium",language:"JavaScript",description:"Refactor hardcoded strings to use an i18n library for multi-language support."},{title:"State Management",difficulty:"medium",language:"Redux",description:"Migrate complex local state to global store with proper normalization."},{title:"Search Indexing",difficulty:"hard",language:"Elasticsearch",description:"Design and implement a custom analyzer for domain-specific search queries."},{title:"OEmbed Support",difficulty:"easy",language:"PHP",description:"Add OEmbed support to automatically preview links in user posts."},{title:"Three.js Performance",difficulty:"hard",language:"WebGL",description:"Optimize rendering pipeline to maintain 60fps with 10k+ particles."},{title:"Scrape Data",difficulty:"medium",language:"Python",description:"Build a robust scraper with proxy rotation and captcha handling."},{title:"Type Safety",difficulty:"easy",language:"TypeScript",description:"Add strict type definitions to legacy JavaScript utility functions."},{title:"Kafka Consumer",difficulty:"hard",language:"Scala",description:"Implement a fault-tolerant Kafka consumer group with exactly-once semantics."},{title:"Responsive Nav",difficulty:"easy",language:"Svelte",description:"Create a fully accessible, keyboard-navigable mobile menu component."},{title:"CSV Import",difficulty:"medium",language:"Ruby",description:"Build a background job to process large CSV uploads without memory spikes."},{title:"GDPR Compliance",difficulty:"medium",language:"SQL",description:"Create stored procedures to anonymize user data upon account deletion."},{title:"Video Transcoding",difficulty:"hard",language:"FFmpeg",description:"Set up an adaptive bitrate streaming pipeline for uploaded videos."},{title:"Dark Mode",difficulty:"easy",language:"CSS",description:"Implement system-preference aware dark mode theme using CSS variables."},{title:"Terraform Modules",difficulty:"medium",language:"HCL",description:"Refactor infrastructure code into reusable modules for multi-region deploy."},{title:"Load Balancing",difficulty:"hard",language:"Nginx",description:"Configure advanced load balancing strategies with health checks and failover."},{title:"PDF Generation",difficulty:"medium",language:"Node.js",description:"Generate dynamic invoices and reports as PDFs from HTML templates."},{title:"App Store Build",difficulty:"hard",language:"Swift",description:"Automate the iOS build and signing process for TestFlight distribution."},{title:"Lazy Loading",difficulty:"easy",language:"Angular",description:"Implement route-level lazy loading to improve initial bundle size."},{title:"Metrics Collection",difficulty:"medium",language:"Prometheus",description:"Instrument application code to expose custom business metrics."},{title:"Blockchain Verify",difficulty:"hard",language:"Solidity",description:"Write a smart contract to verify supply chain authenticity on-chain."},{title:"SVG Animation",difficulty:"easy",language:"SVG",description:"Create a lightweight loading spinner using pure SVG animations."},{title:"TensorFlow Model",difficulty:"hard",language:"Python",description:"Convert a PyTorch research model to TensorFlow Lite for mobile deployment."},{title:"CLI Tool",difficulty:"medium",language:"Rust",description:"Build a fast command-line utility for processing log files."},{title:"Rate Limiting",difficulty:"medium",language:"Redis",description:"Implement a sliding window rate limiter to prevent API abuse."},{title:"Email Templates",difficulty:"easy",language:"MJML",description:"Design responsive email templates that work in Outlook and Gmail."},{title:"OAuth2 Flow",difficulty:"medium",language:"C#",description:"Implement OAuth2 authorization code flow with PKCE for .NET Core API."},{title:"Data Visualization",difficulty:"easy",language:"D3.js",description:"Create an interactive line chart component with tooltips and zoom."},{title:"Microfrontend",difficulty:"hard",language:"Webpack",description:"Configure Module Federation for sharing components between React and Vue apps."},{title:"Geo-Spatial Query",difficulty:"medium",language:"PostGIS",description:"Optimize nearest-neighbor queries for a delivery dispatch system."},{title:"Service Worker",difficulty:"medium",language:"PWA",description:"Implement offline-first caching strategy for a news reader app."},{title:"Fuzz Testing",difficulty:"hard",language:"Go",description:"Add fuzz testing to the input parser to identify edge case crashes."},{title:"Slack Integration",difficulty:"easy",language:"Node.js",description:"Build a bot to notify channels about deployment status updates."},{title:"ETL Pipeline",difficulty:"medium",language:"Apache Airflow",description:"Design a DAG to extract, transform, and load daily analytics data."},{title:"WebAssembly",difficulty:"hard",language:"C++",description:"Compile a legacy image processing library to WASM for browser usage."},{title:"Feature Flags",difficulty:"medium",language:"Python",description:"Implement a feature flag service with percentage-based rollouts."},{title:"Keyboard Shortcuts",difficulty:"easy",language:"JavaScript",description:"Add global keyboard shortcuts for common actions in the admin panel."},{title:"Audit Logging",difficulty:"medium",language:"Java",description:"Implement tamper-evident audit logging for all sensitive user actions."},{title:"WebRTC Signaling",difficulty:"hard",language:"Go",description:"Build a custom signaling server for peer-to-peer video calls."},{title:"Dependency Injection",difficulty:"medium",language:"Kotlin",description:"Refactor a monolithic service to use dependency injection for better testability."},{title:"Infinite Scroll",difficulty:"easy",language:"React",description:"Implement virtualization for a list with thousands of items."},{title:"Vector Search",difficulty:"hard",language:"Pinecone",description:"Integrate vector database for semantic search over documentation."},{title:"Markdown Editor",difficulty:"medium",language:"Vue",description:"Create a rich text editor with live Markdown preview and syntax highlighting."},{title:"Rate Limit Middleware",difficulty:"easy",language:"Express",description:"Write middleware to block IPs exceeding 100 requests per minute."},{title:"Two-Factor Auth",difficulty:"medium",language:"PHP",description:"Add TOTP-based 2FA using Google Authenticator compatibility."},{title:"Graph Database",difficulty:"hard",language:"Neo4j",description:"Model a social network relationship graph and query friends-of-friends."},{title:"S3 Upload",difficulty:"easy",language:"AWS SDK",description:"Implement direct-to-S3 file uploads with signed URLs."},{title:"E2E Testing",difficulty:"medium",language:"Cypress",description:"Write robust end-to-end tests for the user checkout flow."},{title:"Memory Profiling",difficulty:"hard",language:"C",description:"Use Valgrind to detect and fix memory leaks in a system daemon."},{title:"Push Notifications",difficulty:"medium",language:"Firebase",description:"Integrate FCM for cross-platform mobile push notifications."},{title:"Search Autocomplete",difficulty:"easy",language:"JavaScript",description:"Build a debounced autocomplete input fetching suggestions from an API."},{title:"Data Encryption",difficulty:"hard",language:"Python",description:"Implement field-level encryption for PII in the database using AES-256."},{title:"Webhook Consumer",difficulty:"medium",language:"Ruby on Rails",description:"Create a generic webhook ingestion endpoint with signature verification."},{title:"Accessibility Fixes",difficulty:"easy",language:"ARIA",description:"Audit and fix ARIA labels for screen reader compatibility."}],Zz=()=>{const e=Jz.slice(0,12).map((t,r)=>({id:r,subcategory:t.title,description:t.description,difficulty:t.difficulty,category:t.language}));return u.jsxs("section",{className:"landing-section full-width tasks-section",children:[u.jsx("h2",{className:"section-title",children:"Examples of Real Engineering Problems"}),u.jsx("p",{className:"section-subtitle",children:"Think you can beat the models? Prove it and get paid."}),u.jsxs("div",{className:"tasks-perspective-container",children:[u.jsx("div",{className:"tasks-perspective-grid",children:e.map((t,r)=>u.jsx("div",{className:"task-card-wrapper",style:{"--index":r},children:u.jsx(So,{task:t})},r))}),u.jsx("div",{className:"tasks-fade-overlay"})]})]})},eW=()=>u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg impact-icon",children:[u.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M34 4L12 34H32L30 60L52 30H32L34 4Z",fill:"currentColor",className:"impact-fill",opacity:"0.2"})]}),tW=()=>u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg pay-icon",children:[u.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round",className:"pay-diamond"}),u.jsx("path",{d:"M6 22H58",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),u.jsx("path",{d:"M19 22L32 60L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),u.jsx("path",{d:"M32 4V22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),u.jsx("path",{d:"M19 22L32 4L45 22",stroke:"currentColor",strokeWidth:"2.5",strokeLinejoin:"round"}),u.jsx("path",{d:"M32 4L58 22L32 60L6 22L32 4Z",fill:"currentColor",className:"pay-fill",opacity:"0"})]}),rW=()=>u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg brain-icon",children:[u.jsx("path",{d:"M12 32C12 20.9543 20.9543 12 32 12C36.4655 12 40.5963 13.4644 44 16",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),u.jsx("path",{d:"M52 32C52 43.0457 43.0457 52 32 52C27.5345 52 23.4037 50.5356 20 48",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),u.jsx("rect",{x:"22",y:"22",width:"20",height:"20",rx:"4",stroke:"currentColor",strokeWidth:"2.5"}),u.jsx("path",{d:"M32 22V42M22 32H42",stroke:"currentColor",strokeWidth:"2.5"}),u.jsx("circle",{cx:"32",cy:"32",r:"3",fill:"currentColor",className:"brain-pulse"}),u.jsx("path",{d:"M48 24L56 16M16 40L8 48",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",className:"brain-connect"})]}),nW=()=>u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"benefit-icon-svg flex-icon",children:[u.jsx("circle",{cx:"32",cy:"32",r:"24",stroke:"currentColor",strokeWidth:"2.5"}),u.jsx("path",{d:"M32 8V56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),u.jsx("path",{d:"M8 32H56",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.3"}),u.jsx("ellipse",{cx:"32",cy:"32",rx:"12",ry:"24",stroke:"currentColor",strokeWidth:"2.5",className:"flex-orbit"}),u.jsx("circle",{cx:"32",cy:"32",r:"6",fill:"currentColor",className:"flex-core"})]}),iW=()=>{const e=[{icon:u.jsx(eW,{}),title:"Real Impact",description:"Your work helps evaluate and push the boundaries of next-gen AI models."},{icon:u.jsx(tW,{}),title:"Competitive Pay",description:"Earn competitive rates for high-quality engineering work. No bidding wars."},{icon:u.jsx(rW,{}),title:"Hard Problems",description:"No CSS centering or button shifting. Tackle complex algorithmic and system design challenges."},{icon:u.jsx(nW,{}),title:"Flexible Work",description:"Work from anywhere, anytime. Choose tasks that fit your schedule and interests."}];return u.jsxs("section",{id:"benefits",className:"landing-section",children:[u.jsx("h2",{className:"section-title",children:"You + TerminalBench"}),u.jsx("div",{className:"benefits-grid",children:e.map((t,r)=>u.jsxs("div",{className:"benefit-item",children:[u.jsx("div",{className:"benefit-icon-wrapper",children:t.icon}),u.jsx("h3",{children:t.title}),u.jsx("p",{children:t.description})]},r))})]})},sW=()=>{const e=ft();return u.jsx("footer",{style:{backgroundColor:"#ffffff",padding:"6rem 2rem 4rem",marginTop:"0",borderTop:"1px solid #f0f0f0",color:"#1d1d1f"},children:u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"4rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"2rem"},children:[u.jsxs("div",{style:{maxWidth:"600px"},children:[u.jsxs("h3",{style:{fontSize:"2.5rem",fontWeight:"700",marginBottom:"2rem",lineHeight:"1.1",color:"#1d1d1f",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsx("span",{children:"Real work."}),u.jsx("span",{children:"Real payouts."}),u.jsx("span",{children:"Real impact."})]}),u.jsxs("p",{style:{fontSize:"1.25rem",color:"#86868b",maxWidth:"480px"},children:["The thing frontier agents are missing: ",u.jsx("b",{children:"your expertise"}),"."]})]}),u.jsx("div",{children:u.jsx("button",{onClick:()=>e("/login"),className:"cta-button cta-primary",style:{padding:"1rem 2.5rem",fontSize:"1.1rem"},children:"Login to my portal"})})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",borderTop:"1px solid #f0f0f0",paddingTop:"2rem",gap:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",gap:"2rem",color:"#424245",fontSize:"0.9rem",flexWrap:"wrap"},children:[u.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Terms"}),u.jsx("a",{href:"#",style:{color:"inherit",textDecoration:"none"},children:"Privacy"})]}),u.jsxs("p",{style:{color:"#86868b",fontSize:"0.8rem"},children:[" ",new Date().getFullYear()," Snorkel AI. All rights reserved. TerminalBench is a project of Stanford University and Laude Institute."]})]})]})})},aW=()=>{const e=ft(),t=ci();return E.useEffect(()=>{if(t.hash){const r=new URLSearchParams(t.hash.substring(1)),n=r.get("error_code"),i=r.get("access_token"),s=r.get("type");(n||i||s==="recovery")&&e(`/auth/callback${t.hash}`,{replace:!0})}},[t,e]),u.jsxs("div",{className:"public-landing",children:[u.jsx(Yz,{}),u.jsx(Kz,{}),u.jsx(Xz,{}),u.jsx(Qz,{}),u.jsx(Zz,{}),u.jsx(iW,{}),u.jsx(sW,{})]})};function oW(){var d,f;const{user:e,profile:t,signOut:r}=qr(),[n,i]=E.useState(!1),s=E.useRef(null),a=ft(),o=(t==null?void 0:t.is_admin)||!1;E.useEffect(()=>{const p=v=>{s.current&&!s.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const c=async()=>{try{await r()}catch(p){console.error("Sign out error:",p)}a("/login")};return t?u.jsxs("div",{className:"user-menu",ref:s,children:[u.jsxs("button",{className:`user-menu-button ${n?"active":""}`,onClick:()=>i(!n),children:[t.github_avatar_url?u.jsx("img",{src:t.github_avatar_url,alt:t.github_username,className:"user-avatar"}):u.jsx("div",{className:"user-avatar-placeholder",children:((f=(d=t.github_username)==null?void 0:d[0])==null?void 0:f.toUpperCase())||"U"}),u.jsx("span",{className:"user-name",children:t.github_username||"User"}),u.jsx("svg",{className:`user-menu-chevron ${n?"open":""}`,width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M4.427 6.573l3.396 3.396 3.396-3.396a.75.75 0 111.06 1.06l-3.926 3.927a.75.75 0 01-1.06 0L3.366 7.633a.75.75 0 011.06-1.06z"})})]}),n&&u.jsxs("div",{className:"user-menu-dropdown",children:[u.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/my-tasks"),i(!1)},children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M2.5 2.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5v-11zM3 13h10V3H3v10zm2-2h6v1H5v-1zm0-3h6v1H5V8zm0-3h6v1H5V5z"})}),"My tasks"]}),u.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/profile"),i(!1)},children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})}),"Profile"]}),o&&u.jsxs("button",{className:"user-menu-item",onClick:()=>{a("/portal/admin"),i(!1)},children:[u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[u.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"}),u.jsx("path",{d:"M8 4a.75.75 0 01.75.75v3.5h3.5a.75.75 0 010 1.5h-3.5v3.5a.75.75 0 01-1.5 0v-3.5h-3.5a.75.75 0 010-1.5h3.5v-3.5A.75.75 0 018 4z"})]}),"Admin Dashboard"]}),u.jsxs("button",{className:"user-menu-item user-menu-item-danger",onClick:c,children:[u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[u.jsx("path",{d:"M3.5 2A1.5 1.5 0 002 3.5v9A1.5 1.5 0 003.5 14h5a.5.5 0 000-1h-5a.5.5 0 01-.5-.5v-9a.5.5 0 01.5-.5h5a.5.5 0 000-1h-5z"}),u.jsx("path",{d:"M11.854 8.354l2.5-2.5a.5.5 0 000-.708l-2.5-2.5a.5.5 0 10-.708.708L13.293 5.5H6.5a.5.5 0 000 1h6.793l-2.147 2.146a.5.5 0 00.708.708z"})]}),"Sign Out"]})]})]}):null}function lW(){const{profile:e}=qr(),t=nn(),r=ft(),n=ci(),[i,s]=E.useState(!1),[a,o]=E.useState(!1),c=E.useRef(null),d=E.useRef(null);if(!e)return null;E.useEffect(()=>{o(!1)},[n.pathname]),E.useEffect(()=>{const v=g=>{c.current&&!c.current.contains(g.target)&&s(!1),d.current&&!d.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),E.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const f=v=>v==="/"?n.pathname==="/portal"||n.pathname==="/portal/":n.pathname.startsWith(`/portal${v}`),p=()=>{t&&t.capture("browse_tasks_clicked",{source:"header_nav"})};return u.jsxs("header",{className:"app-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("div",{className:"header-left",children:u.jsx(K3,{onClick:()=>r("/portal")})}),u.jsxs("div",{className:"header-right",children:[u.jsxs(X3,{className:"header-nav",children:[u.jsx(va,{to:"/portal",active:f("/"),children:"Home"}),u.jsx(va,{to:"/portal/overview",active:f("/overview"),children:"Our mission"}),u.jsx(va,{to:"/portal/tasks",active:f("/tasks"),onClick:p,children:"Task gallery"}),u.jsx(va,{to:"/portal/docs",active:f("/docs"),children:"Docs"}),u.jsxs("div",{className:"nav-dropdown-container",ref:c,children:[u.jsxs(va,{as:"button",className:"dropdown-trigger",onClick:()=>s(!i),children:["Quick links",u.jsx("svg",{className:`dropdown-arrow ${i?"open":""}`,width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 1L5 5L9 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.jsxs("div",{className:`nav-dropdown-menu ${i?"open":""}`,children:[u.jsx("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"dropdown-item",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"header_quick_links",file_title:"Task Skeleton"}),s(!1)},children:"Download Task Skeleton"}),u.jsx("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Snorkel Expert Platform"}),u.jsx("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"Slack community"}),u.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"dropdown-item",onClick:()=>s(!1),children:"GitHub Repo"}),u.jsx(sr,{to:"/portal/docs/reference/glossary",className:"dropdown-item",onClick:()=>s(!1),children:"Glossary"}),u.jsx(sr,{to:"/portal/docs/reference/faq",className:"dropdown-item",onClick:()=>s(!1),children:"FAQ"})]})]}),u.jsx("div",{className:"nav-divider"}),u.jsx(va,{to:"/portal/docs/reference/faq",active:f("/docs/reference/faq"),children:"Help"})]}),u.jsxs("button",{className:`mobile-menu-toggle ${a?"open":""}`,onClick:()=>o(!a),"aria-label":"Toggle menu",children:[u.jsx("span",{className:"hamburger-line"}),u.jsx("span",{className:"hamburger-line"}),u.jsx("span",{className:"hamburger-line"})]}),u.jsx(oW,{})]})]}),DP.createPortal(u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`mobile-nav-overlay ${a?"open":""}`,onClick:()=>o(!1)}),u.jsxs("nav",{className:`mobile-nav ${a?"open":""}`,ref:d,children:[u.jsxs("div",{className:"mobile-nav-header",children:[u.jsx("span",{className:"mobile-nav-title",children:"Menu"}),u.jsx("button",{className:"mobile-nav-close",onClick:()=>o(!1),"aria-label":"Close menu",children:u.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),u.jsxs("div",{className:"mobile-nav-links",children:[u.jsx(sr,{to:"/portal",className:`mobile-nav-link ${f("/")?"active":""}`,children:"Home"}),u.jsx(sr,{to:"/portal/overview",className:`mobile-nav-link ${f("/overview")?"active":""}`,children:"Our mission"}),u.jsx(sr,{to:"/portal/tasks",className:`mobile-nav-link ${f("/tasks")?"active":""}`,onClick:p,children:"Task gallery"}),u.jsx(sr,{to:"/portal/my-tasks",className:`mobile-nav-link ${f("/my-tasks")?"active":""}`,children:"My tasks"}),u.jsx(sr,{to:"/portal/docs",className:`mobile-nav-link ${f("/docs")?"active":""}`,children:"Docs"}),u.jsx(sr,{to:"/portal/docs/reference/faq",className:`mobile-nav-link ${f("/docs/reference/faq")?"active":""}`,children:"Help & FAQ"})]}),u.jsxs("div",{className:"mobile-nav-section",children:[u.jsx("span",{className:"mobile-nav-section-title",children:"Quick Links"}),u.jsxs("a",{href:"/Terminus-EC-Training-stateful/template-task.zip",download:"template-task.zip",className:"mobile-nav-link",onClick:()=>{t&&t.capture("skeleton_downloaded",{source:"mobile_quick_links",file_title:"Task Skeleton"})},children:["Download Task Skeleton",u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})]}),u.jsxs("a",{href:"https://experts.snorkel-ai.com/",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Snorkel Expert Platform",u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),u.jsxs("a",{href:"https://snorkel-team.enterprise.slack.com/archives/C09MNJL1203",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["Slack community",u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),u.jsxs("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks",target:"_blank",rel:"noopener noreferrer",className:"mobile-nav-link external",children:["GitHub Repo",u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}),u.jsx(sr,{to:"/portal/docs/reference/glossary",className:"mobile-nav-link",children:"Glossary"})]})]})]}),document.body)]})}function uW(e=15){const[t,r]=E.useState([]),[n,i]=E.useState(!0),[s,a]=E.useState(null),o=E.useRef(!1),c=E.useCallback(async(d=!0)=>{if(o.current)return null;o.current=!0;try{d&&i(!0);const{data:f,error:p}=await Ke.rpc("get_random_available_tasks",{task_count:e});if(p)throw p;return r(f||[]),a(null),f}catch(f){return console.error("Error fetching random tasks:",f),a(f.message),null}finally{o.current=!1,i(!1)}},[e]);return{tasks:t,loading:n,error:s,refetch:c}}const oR=3,cW=280,dW=16,hW=46,fW=cW+dW;function uC(){return typeof window>"u"||typeof window.matchMedia!="function"?oR:window.matchMedia("(min-width: 1024px)").matches?3:window.matchMedia("(min-width: 768px)").matches?2:1}function pW(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}function Xc(e,t,r=new Set){return pW(e).filter(i=>i&&!r.has(i.id)).slice(0,t)}function Jv(e,t){const r=new Set(t!=null&&t.id?[t.id]:[]),[n,i]=Xc(e,2,r);return t?[n||t,t,i||t]:[]}function mW({pool:e,currentTask:t,winnerTask:r,minLength:n}){const i=[],s=new Set;t!=null&&t.id&&s.add(t.id),r!=null&&r.id&&s.add(r.id);const[a]=Xc(e,1,s);for(i.push(a||t),i.push(t);i.length<Math.max(n-2,3);){const[d]=Xc(e,1,new Set([...s,...i.map(f=>f==null?void 0:f.id).filter(Boolean)]));i.push(d||t)}i.push(r);const[o]=Xc(e,1,new Set([...s,...i.map(d=>d==null?void 0:d.id).filter(Boolean)]));i.push(o||r);const c=i.length-2;return{items:i,startIndex:1,winnerIndex:c}}function Of(e){return hW-e*fW}function gW(e){if(!e)return null;const t=e.subcategory||e.subsubcategory||e.category||"Task";return u.jsxs("div",{className:"reel-stub",children:[u.jsx("div",{className:"reel-stub-title",title:t,children:t}),u.jsx("div",{className:"reel-stub-desc",title:e.description,children:e.description})]})}const vW=({onTaskUpdate:e})=>{const t=ft(),r=nn(),{tasks:n,loading:i,refetch:s}=uW(15),[a,o]=E.useState(null),[c,d]=E.useState(uC),[f,p]=E.useState([]),[v,g]=E.useState(()=>Array.from({length:oR},()=>({items:[],index:1,locked:!0,justLocked:!1}))),[b,x]=E.useState(!1),_=E.useRef([]),w=E.useRef([]),A=E.useRef([]),S=E.useRef(0);E.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const I=window.matchMedia("(min-width: 1024px)"),M=window.matchMedia("(min-width: 768px)"),H=()=>d(uC());H();const q=K=>K.addEventListener?K.addEventListener("change",H):K.addListener(H),G=K=>K.removeEventListener?K.removeEventListener("change",H):K.removeListener(H);return q(I),q(M),window.addEventListener("resize",H),()=>{G(I),G(M),window.removeEventListener("resize",H)}},[]),E.useEffect(()=>{s()},[]),E.useEffect(()=>{if(n.length===0)return;const I=v.slice(0,c).every(q=>{var G;return(((G=q.items)==null?void 0:G.length)||0)>0}),M=f.length===c;if(I&&M)return;const H=M?f:Xc(n,c);M||p(H),g(q=>q.map((G,K)=>{if(K>=c)return G;const J=H[K];return{...G,items:Jv(n,J),index:1,locked:!0,justLocked:!1}}))},[n,v,f,c]),E.useEffect(()=>{r&&f.length>0&&!b&&r.capture("task_roulette_viewed",{available_tasks_count:n.length,visible_task_ids:f.map(I=>I.id)})},[r,b,f.length]);const O=()=>{var I;for(const M of A.current)clearTimeout(M);A.current=[];for(const M of w.current)(I=M==null?void 0:M.cancel)==null||I.call(M);w.current=[]};E.useEffect(()=>{b&&(O(),x(!1),g(I=>I.map((M,H)=>H<c?{...M,locked:!0,justLocked:!1}:M)))},[c]);const j=async()=>{if(b||n.length<c)return;O(),S.current+=1;const I=S.current,M=typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;x(!0),g(J=>J.map(ae=>({...ae,locked:!1,justLocked:!1})));const H=v.slice(0,c).map((J,ae)=>{var ie;return((ie=J.items)==null?void 0:ie[J.index])||f[ae]}).filter(Boolean);r&&r.capture("task_roulette_spin_clicked",{previous_task_ids:H.map(J=>J==null?void 0:J.id).filter(Boolean),available_tasks_count:n.length});const q=await s(!1);if(S.current!==I||!q||q.length===0){x(!1);return}const G=q.slice(0,c);if(M){g(J=>J.map((ae,ie)=>ie>=c?ae:{...ae,items:Jv(q,G[ie]),index:1,locked:!0,justLocked:!1})),p(G),A.current.push(setTimeout(()=>{g(J=>J.map((ae,ie)=>ie<c?{...ae,justLocked:!0}:ae))},0)),A.current.push(setTimeout(()=>{g(J=>J.map((ae,ie)=>ie<c?{...ae,justLocked:!1}:ae)),x(!1)},450));return}const K=G.map((J,ae)=>{const ie=H[ae]||J;return mW({pool:q,currentTask:ie,winnerTask:J,minLength:18+ae*6})});g(J=>J.map((ae,ie)=>ie>=c?ae:{...ae,items:K[ie].items,index:K[ie].startIndex,locked:!1,justLocked:!1})),A.current.push(setTimeout(()=>{if(S.current!==I)return;let J=0;const ae=ie=>{g(de=>de.map((L,V)=>V===ie?{...L,justLocked:!0}:L)),A.current.push(setTimeout(()=>{g(de=>de.map((L,V)=>V===ie?{...L,justLocked:!1}:L))},650))};K.forEach((ie,de)=>{const L=_.current[de];if(!L)return;const V=Of(ie.startIndex),ne=Of(ie.winnerIndex),F=V+(ne-V)*.35,Ee=V+(ne-V)*.88;L.style.transform=`translate3d(0, ${V}px, 0)`,L.style.opacity="1";const Te=1150+de*420+Math.floor(Math.random()*120),fe=L.animate([{offset:0,transform:`translate3d(0, ${V}px, 0)`,opacity:1,easing:"cubic-bezier(0.2, 0, 0.2, 1)"},{offset:.16,transform:`translate3d(0, ${F}px, 0)`,opacity:.96,easing:"linear"},{offset:.86,transform:`translate3d(0, ${Ee}px, 0)`,opacity:.96,easing:"cubic-bezier(0, 0, 0.15, 1)"},{offset:1,transform:`translate3d(0, ${ne}px, 0)`,opacity:1}],{duration:Te,fill:"forwards"});w.current[de]=fe,fe.finished.then(()=>{if(S.current!==I)return;try{fe.cancel()}catch{}w.current[de]=null,L.style.opacity="1",L.style.transform=`translate3d(0, ${Of(1)}px, 0)`;const $e=G[de];g(Oe=>Oe.map((te,ke)=>ke!==de?te:{...te,items:Jv(q,$e),index:1,locked:!0})),ae(de),J+=1,J===c&&(p(G),x(!1))}).catch(()=>{})})},0))};E.useEffect(()=>()=>O(),[]);const N=()=>{r&&r.capture("task_roulette_browse_all_clicked",{visible_task_ids:f.map(I=>I.id)}),t("/portal/tasks")},P=I=>{b||(r&&r.capture("task_roulette_task_opened",{task_id:I.id,task_category:I.category,task_subcategory:I.subcategory}),o(I))},D=()=>{o(null),s()},$=()=>{s(),e==null||e()};return i&&f.length===0?u.jsx(Aa,{message:"Finding tasks for you..."}):f.length===0?null:u.jsxs("section",{className:"recommended-tasks-section",children:[u.jsx("div",{className:"recommended-header",children:u.jsx("h2",{className:"recommended-title",children:"Your Task Roulette"})}),u.jsx("div",{className:"slot-machine-container",children:u.jsxs("div",{className:`slot-machine-viewport ${b?"spinning":""}`,children:[u.jsx("div",{className:"slot-machine-fade-top"}),u.jsx("div",{className:"slot-machine-fade-bottom"}),u.jsx("div",{className:`slot-glow ${b?"active":""}`}),u.jsx("div",{className:"recommended-grid",children:v.slice(0,c).map((I,M)=>{var q;(q=I.items)==null||q[I.index];const H=["recommended-reel",b&&!I.locked?"spinning":"",I.locked?"locked":"",I.justLocked?"just-locked":""].filter(Boolean).join(" ");return u.jsx("div",{className:H,children:u.jsxs("div",{className:"reel-viewport","aria-hidden":b?"true":void 0,children:[u.jsx("div",{className:"reel-payline"}),u.jsx("div",{className:"reel-strip",ref:G=>{_.current[M]=G},style:{transform:`translate3d(0, ${Of(I.index)}px, 0)`},children:I.items.map((G,K)=>{const J=`${M}-${(G==null?void 0:G.id)||"empty"}-${K}`,ae=K===I.index,ie=!b&&ae&&!!G,de=!!G&&ae&&I.locked;return u.jsx("div",{className:`reel-item ${ae?"center":"peek"}`,children:G?de?u.jsx(So,{task:G,onClick:ie?()=>P(G):void 0,className:"recommended-card"}):gW(G):u.jsx("div",{className:"recommended-card-placeholder"})},J)})})]})},`reel-${M}`)})})]})}),u.jsxs("div",{className:"recommended-actions",children:[u.jsx(Fe,{variant:"ghost",onClick:j,className:"reshuffle-btn",disabled:b,children:"None of these? Spin again"}),u.jsx(Fe,{variant:"primary",size:"lg",onClick:N,children:"Browse all tasks "})]}),u.jsx(eR,{task:a,isOpen:!!a,onClose:D,onTaskUpdate:$})]})},Zv=10,yW=()=>{const e=ft(),t=nn(),{selectedTasks:r,loading:n,refetch:i}=cu(),[s,a]=E.useState(null),[o,c]=E.useState(""),[d,f]=E.useState({key:"lastUpdated",direction:"desc"}),[p,v]=E.useState(1),g=r.filter(D=>D.status===qe.CLAIMED||D.status===qe.IN_PROGRESS||D.status===qe.WAITING_REVIEW),b=D=>{t&&t.capture("browse_tasks_clicked",{source:D,active_task_count:g.length}),e("/portal/tasks")},x=D=>{a(D)},_=()=>{a(null),i()},w=D=>{f($=>({key:D,direction:$.key===D&&$.direction==="asc"?"desc":"asc"})),v(1)},A=D=>{const $=[D.started_at,D.selected_at,D.submitted_for_review_at,D.completed_at].filter(Boolean).map(I=>new Date(I).getTime());return $.length>0?Math.max(...$):0},S=E.useMemo(()=>{let D=[...g];if(o){const $=o.toLowerCase();D=D.filter(I=>{var M,H,q;return((M=I.description)==null?void 0:M.toLowerCase().includes($))||((H=I.category)==null?void 0:H.toLowerCase().includes($))||((q=I.subcategory)==null?void 0:q.toLowerCase().includes($))})}return D.sort(($,I)=>{let M,H;return d.key==="lastUpdated"?(M=A($),H=A(I)):d.key==="category"?(M=`${$.category} ${$.subcategory||""}`,H=`${I.category} ${I.subcategory||""}`):(M=$[d.key],H=I[d.key]),M<H?d.direction==="asc"?-1:1:M>H?d.direction==="asc"?1:-1:0}),D},[g,o,d]),O=Math.ceil(S.length/Zv),j=S.slice((p-1)*Zv,p*Zv);if(n)return null;const N=D=>{switch(D){case qe.IN_PROGRESS:return"info";case qe.CLAIMED:return"secondary";case qe.WAITING_REVIEW:return"success";case qe.ACCEPTED:return"success";default:return"default"}},P=({columnKey:D})=>d.key!==D?u.jsx("span",{className:"sort-icon-placeholder"}):d.direction==="asc"?u.jsx(Lz,{}):u.jsx(Iz,{});return u.jsxs("section",{className:"task-preview-section my-tasks-section",children:[g.length>0&&u.jsxs("div",{className:"my-tasks-header-row",children:[u.jsxs("div",{className:"header-title-group",children:[u.jsx("h2",{children:"My Active Tasks"}),u.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>e("/portal/my-tasks"),className:"view-all-tasks-btn",children:"Show all tasks"})]}),u.jsx("div",{className:"header-actions",children:u.jsxs("div",{className:"search-input-container",children:[u.jsx(Fz,{className:"search-icon"}),u.jsx("input",{type:"text",placeholder:"Search...",value:o,onChange:D=>{c(D.target.value),v(1)},className:"task-search-input"})]})})]}),u.jsx("div",{className:"my-tasks-content",children:g.length>0?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"my-tasks-table-container",children:u.jsxs("table",{className:"my-tasks-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsxs("th",{className:"col-category sortable",onClick:()=>w("category"),children:["Category ",u.jsx(P,{columnKey:"category"})]}),u.jsxs("th",{className:"col-description sortable",onClick:()=>w("description"),children:["Description ",u.jsx(P,{columnKey:"description"})]}),u.jsxs("th",{className:"col-status sortable",onClick:()=>w("status"),children:["Status ",u.jsx(P,{columnKey:"status"})]}),u.jsxs("th",{className:"col-updated sortable",onClick:()=>w("lastUpdated"),children:["Updated ",u.jsx(P,{columnKey:"lastUpdated"})]})]})}),u.jsx("tbody",{children:j.length>0?j.map(D=>u.jsxs("tr",{onClick:()=>x(D),style:{cursor:"pointer"},children:[u.jsx("td",{children:u.jsx("span",{className:"task-category",title:`${D.category}${D.subcategory?" / "+D.subcategory:""}`,children:D.subcategory||D.category})}),u.jsx("td",{children:u.jsx("span",{className:"task-description",title:D.description,children:D.description})}),u.jsx("td",{children:u.jsx(Ni,{variant:N(D.status),children:J3[D.status]})}),u.jsx("td",{className:"task-date",children:new Date(A(D)).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},D.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:"4",className:"no-results-cell",children:"No tasks match your search"})})})]})}),O>1&&u.jsxs("div",{className:"pagination-controls",children:[u.jsxs(Fe,{variant:"ghost",size:"sm",onClick:()=>v(D=>Math.max(1,D-1)),disabled:p===1,children:[u.jsx(Rz,{})," Prev"]}),u.jsxs("span",{className:"pagination-info",children:["Page ",p," of ",O]}),u.jsxs(Fe,{variant:"ghost",size:"sm",onClick:()=>v(D=>Math.min(O,D+1)),disabled:p===O,children:["Next ",u.jsx(Dz,{})]})]}),u.jsx("div",{className:"my-tasks-footer",children:u.jsx(Fe,{variant:"primary",size:"lg",onClick:()=>b("landing_page_footer"),children:"Browse more tasks "})})]}):u.jsx(vW,{onTaskUpdate:i})}),u.jsx(iR,{task:s,isOpen:!!s,onClose:_,onTaskUpdate:()=>i()})]})};function cC(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function lR(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const bW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_W=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xW={};function dC(e,t){return(xW.jsx?_W:bW).test(e)}const wW=/[ \t\n\f\r]/g;function EW(e){return typeof e=="object"?e.type==="text"?hC(e.value):!1:hC(e)}function hC(e){return e.replace(wW,"")===""}class Md{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Md.prototype.normal={};Md.prototype.property={};Md.prototype.space=void 0;function uR(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Md(r,n,t)}function md(e){return e.toLowerCase()}class En{constructor(t,r){this.attribute=r,this.property=t}}En.prototype.attribute="";En.prototype.booleanish=!1;En.prototype.boolean=!1;En.prototype.commaOrSpaceSeparated=!1;En.prototype.commaSeparated=!1;En.prototype.defined=!1;En.prototype.mustUseProperty=!1;En.prototype.number=!1;En.prototype.overloadedBoolean=!1;En.prototype.property="";En.prototype.spaceSeparated=!1;En.prototype.space=void 0;let kW=0;const rt=Ro(),Qt=Ro(),F1=Ro(),_e=Ro(),St=Ro(),Ll=Ro(),Nn=Ro();function Ro(){return 2**++kW}const $1=Object.freeze(Object.defineProperty({__proto__:null,boolean:rt,booleanish:Qt,commaOrSpaceSeparated:Nn,commaSeparated:Ll,number:_e,overloadedBoolean:F1,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),ey=Object.keys($1);class Ax extends En{constructor(t,r,n,i){let s=-1;if(super(t,r),fC(this,"space",i),typeof n=="number")for(;++s<ey.length;){const a=ey[s];fC(this,ey[s],(n&$1[a])===$1[a])}}}Ax.prototype.defined=!0;function fC(e,t,r){r&&(e[t]=r)}function du(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new Ax(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[md(n)]=n,r[md(s.attribute)]=n}return new Md(t,r,e.space)}const cR=du({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:St,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:_e,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:St,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:Qt,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function dR(e,t){return t in e?e[t]:t}function hR(e,t){return dR(e,t.toLowerCase())}const TW=du({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ll,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:rt,allowPaymentRequest:rt,allowUserMedia:rt,alt:null,as:null,async:rt,autoCapitalize:null,autoComplete:St,autoFocus:rt,autoPlay:rt,blocking:St,capture:null,charSet:null,checked:rt,cite:null,className:St,cols:_e,colSpan:null,content:null,contentEditable:Qt,controls:rt,controlsList:St,coords:_e|Ll,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rt,defer:rt,dir:null,dirName:null,disabled:rt,download:F1,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rt,formTarget:null,headers:St,height:_e,hidden:F1,high:_e,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:rt,inputMode:null,integrity:null,is:null,isMap:rt,itemId:null,itemProp:St,itemRef:St,itemScope:rt,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:rt,muted:rt,name:null,nonce:null,noModule:rt,noValidate:rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rt,optimum:_e,pattern:null,ping:St,placeholder:null,playsInline:rt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rt,referrerPolicy:null,rel:St,required:rt,reversed:rt,rows:_e,rowSpan:_e,sandbox:St,scope:null,scoped:rt,seamless:rt,selected:rt,shadowRootClonable:rt,shadowRootDelegatesFocus:rt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:rt,useMap:null,value:Qt,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rt,declare:rt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:rt,noHref:rt,noShade:rt,noWrap:rt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rt,disableRemotePlayback:rt,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:hR}),SW=du({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Nn,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:rt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ll,g2:Ll,glyphName:Ll,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:Nn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Nn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Nn,rev:Nn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Nn,requiredFeatures:Nn,requiredFonts:Nn,requiredFormats:Nn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:Nn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Nn,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Nn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:dR}),fR=du({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),pR=du({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:hR}),mR=du({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),CW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},AW=/[A-Z]/g,pC=/-[a-z]/g,NW=/^data[-\w.:]+$/i;function $m(e,t){const r=md(t);let n=t,i=En;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&NW.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(pC,OW);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!pC.test(s)){let a=s.replace(AW,jW);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Ax}return new i(n,t)}function jW(e){return"-"+e.toLowerCase()}function OW(e){return e.charAt(1).toUpperCase()}const Bd=uR([cR,TW,fR,pR,mR],"html"),Ia=uR([cR,SW,fR,pR,mR],"svg");function mC(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function gR(e){return e.join(" ").trim()}var _l={},ty,gC;function PW(){if(gC)return ty;gC=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,d="/",f="*",p="",v="comment",g="declaration";function b(_,w){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];w=w||{};var A=1,S=1;function O(G){var K=G.match(t);K&&(A+=K.length);var J=G.lastIndexOf(c);S=~J?G.length-J:S+G.length}function j(){var G={line:A,column:S};return function(K){return K.position=new N(G),$(),K}}function N(G){this.start=G,this.end={line:A,column:S},this.source=w.source}N.prototype.content=_;function P(G){var K=new Error(w.source+":"+A+":"+S+": "+G);if(K.reason=G,K.filename=w.source,K.line=A,K.column=S,K.source=_,!w.silent)throw K}function D(G){var K=G.exec(_);if(K){var J=K[0];return O(J),_=_.slice(J.length),K}}function $(){D(r)}function I(G){var K;for(G=G||[];K=M();)K!==!1&&G.push(K);return G}function M(){var G=j();if(!(d!=_.charAt(0)||f!=_.charAt(1))){for(var K=2;p!=_.charAt(K)&&(f!=_.charAt(K)||d!=_.charAt(K+1));)++K;if(K+=2,p===_.charAt(K-1))return P("End of comment missing");var J=_.slice(2,K-2);return S+=2,O(J),_=_.slice(K),S+=2,G({type:v,comment:J})}}function H(){var G=j(),K=D(n);if(K){if(M(),!D(i))return P("property missing ':'");var J=D(s),ae=G({type:g,property:x(K[0].replace(e,p)),value:J?x(J[0].replace(e,p)):p});return D(a),ae}}function q(){var G=[];I(G);for(var K;K=H();)K!==!1&&(G.push(K),I(G));return G}return $(),q()}function x(_){return _?_.replace(o,p):p}return ty=b,ty}var vC;function IW(){if(vC)return _l;vC=1;var e=_l&&_l.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(_l,"__esModule",{value:!0}),_l.default=r;const t=e(PW());function r(n,i){let s=null;if(!n||typeof n!="string")return s;const a=(0,t.default)(n),o=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:f}=c;o?i(d,f,c):f&&(s=s||{},s[d]=f)}),s}return _l}var _c={},yC;function RW(){if(yC)return _c;yC=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||r.test(d)||e.test(d)},a=function(d,f){return f.toUpperCase()},o=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),s(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,o):d=d.replace(n,o),d.replace(t,a))};return _c.camelCase=c,_c}var xc,bC;function DW(){if(bC)return xc;bC=1;var e=xc&&xc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(IW()),r=RW();function n(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,c){o&&c&&(a[(0,r.camelCase)(o,s)]=c)}),a}return n.default=n,xc=n,xc}var LW=DW();const MW=ui(LW),Um=vR("end"),ns=vR("start");function vR(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function BW(e){const t=ns(e),r=Um(e);if(t&&r)return{start:t,end:r}}function Qc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_C(e.position):"start"in e||"end"in e?_C(e):"line"in e||"column"in e?U1(e):""}function U1(e){return xC(e&&e.line)+":"+xC(e&&e.column)}function _C(e){return U1(e&&e.start)+"-"+U1(e&&e.end)}function xC(e){return e&&typeof e=="number"?e:1}class Vr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?s.ruleId=n:(s.source=n.slice(0,c),s.ruleId=n.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Qc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vr.prototype.file="";Vr.prototype.name="";Vr.prototype.reason="";Vr.prototype.message="";Vr.prototype.stack="";Vr.prototype.column=void 0;Vr.prototype.line=void 0;Vr.prototype.ancestors=void 0;Vr.prototype.cause=void 0;Vr.prototype.fatal=void 0;Vr.prototype.place=void 0;Vr.prototype.ruleId=void 0;Vr.prototype.source=void 0;const Nx={}.hasOwnProperty,FW=new Map,$W=/[A-Z]/g,UW=new Set(["table","tbody","thead","tfoot","tr"]),HW=new Set(["td","th"]),yR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zW(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=QW(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=XW(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ia:Bd,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=bR(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function bR(e,t,r){if(t.type==="element")return WW(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return qW(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return GW(e,t,r);if(t.type==="mdxjsEsm")return VW(e,t);if(t.type==="root")return YW(e,t,r);if(t.type==="text")return KW(e,t)}function WW(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Ia,e.schema=i),e.ancestors.push(t);const s=xR(e,t.tagName,!1),a=JW(e,t);let o=Ox(e,t);return UW.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!EW(c):!0})),_R(e,a,s,t),jx(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function qW(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}gd(e,t.position)}function VW(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gd(e,t.position)}function GW(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Ia,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:xR(e,t.name,!0),a=ZW(e,t),o=Ox(e,t);return _R(e,a,s,t),jx(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function YW(e,t,r){const n={};return jx(n,Ox(e,t)),e.create(t,e.Fragment,n,r)}function KW(e,t){return t.value}function _R(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function jx(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function XW(e,t,r){return n;function n(i,s,a,o){const d=Array.isArray(a.children)?r:t;return o?d(s,a,o):d(s,a)}}function QW(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),c=ns(n);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function JW(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&Nx.call(t.properties,i)){const s=eq(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&HW.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function ZW(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else gd(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else gd(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function Ox(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:FW;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=i.get(c)||0;a=c+"-"+d,i.set(c,d+1)}}const o=bR(e,s,a);o!==void 0&&r.push(o)}return r}function eq(e,t,r){const n=$m(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?lR(r):gR(r)),n.property==="style"){let i=typeof r=="object"?r:tq(e,String(r));return e.stylePropertyNameCase==="css"&&(i=rq(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?CW[n.property]||n.property:n.attribute,r]}}function tq(e,t){try{return MW(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Vr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=yR+"#cannot-parse-style-attribute",i}}function xR(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=dC(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=dC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return Nx.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);gd(e)}function gd(e,t){const r=new Vr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=yR+"#cannot-handle-mdx-estrees-without-createevaluater",r}function rq(e){const t={};let r;for(r in e)Nx.call(e,r)&&(t[nq(r)]=e[r]);return t}function nq(e){let t=e.replace($W,iq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iq(e){return"-"+e.toLowerCase()}const ry={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sq={};function Px(e,t){const r=sq,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return wR(e,n,i)}function wR(e,t,r){if(aq(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wC(e.children,t,r)}return Array.isArray(e)?wC(e,t,r):""}function wC(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=wR(e[i],t,r);return n.join("")}function aq(e){return!!(e&&typeof e=="object")}const EC=document.createElement("i");function Ix(e){const t="&"+e+";";EC.innerHTML=t;const r=EC.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Bn(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Zn(e,t){return e.length>0?(Bn(e,e.length,0,t),e):t}const kC={}.hasOwnProperty;function ER(e){const t={};let r=-1;for(;++r<e.length;)oq(t,e[r]);return t}function oq(e,t){let r;for(r in t){const i=(kC.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){kC.call(i,a)||(i[a]=[]);const o=s[a];lq(i[a],Array.isArray(o)?o:o?[o]:[])}}}function lq(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Bn(e,0,0,n)}function kR(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ji(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const en=Ra(/[A-Za-z]/),zr=Ra(/[\dA-Za-z]/),uq=Ra(/[#-'*+\--9=?A-Z^-~]/);function Mp(e){return e!==null&&(e<32||e===127)}const H1=Ra(/\d/),cq=Ra(/[\dA-Fa-f]/),dq=Ra(/[!-/:-@[-`{-~]/);function Xe(e){return e!==null&&e<-2}function Et(e){return e!==null&&(e<0||e===32)}function at(e){return e===-2||e===-1||e===32}const Hm=Ra(new RegExp("\\p{P}|\\p{S}","u")),Co=Ra(/\s/);function Ra(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function hu(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&zr(e.charCodeAt(r+1))&&zr(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function lt(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return at(c)?(e.enter(r),o(c)):t(c)}function o(c){return at(c)&&s++<i?(e.consume(c),o):(e.exit(r),t(c))}}const hq={tokenize:fq};function fq(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),lt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Xe(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const pq={tokenize:mq},TC={tokenize:gq};function mq(e){const t=this,r=[];let n=0,i,s,a;return o;function o(S){if(n<r.length){const O=r[n];return t.containerState=O[1],e.attempt(O[0].continuation,c,d)(S)}return d(S)}function c(S){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&A();const O=t.events.length;let j=O,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}w(n);let P=O;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return Bn(t.events,j+1,0,t.events.slice(O)),t.events.length=P,d(S)}return o(S)}function d(S){if(n===r.length){if(!i)return v(S);if(i.currentConstruct&&i.currentConstruct.concrete)return b(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(TC,f,p)(S)}function f(S){return i&&A(),w(n),v(S)}function p(S){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,b(S)}function v(S){return t.containerState={},e.attempt(TC,g,b)(S)}function g(S){return n++,r.push([t.currentConstruct,t.containerState]),v(S)}function b(S){if(S===null){i&&A(),w(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(S)}function x(S){if(S===null){_(e.exit("chunkFlow"),!0),w(0),e.consume(S);return}return Xe(S)?(e.consume(S),_(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(S),x)}function _(S,O){const j=t.sliceStream(S);if(O&&j.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(j),t.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<a&&(!i.events[N][1].end||i.events[N][1].end.offset>a))return;const P=t.events.length;let D=P,$,I;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if($){I=t.events[D][1].end;break}$=!0}for(w(n),N=P;N<t.events.length;)t.events[N][1].end={...I},N++;Bn(t.events,D+1,0,t.events.slice(P)),t.events.length=N}}function w(S){let O=r.length;for(;O-- >S;){const j=r[O];t.containerState=j[1],j[0].exit.call(t,e)}r.length=S}function A(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function gq(e,t,r){return lt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zl(e){if(e===null||Et(e)||Co(e))return 1;if(Hm(e))return 2}function zm(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const z1={name:"attention",resolveAll:vq,tokenize:yq};function vq(e,t){let r=-1,n,i,s,a,o,c,d,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const p={...e[n][1].end},v={...e[r][1].start};SC(p,-c),SC(v,c),a={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},s={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},d=[],e[n][1].end.offset-e[n][1].start.offset&&(d=Zn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])),d=Zn(d,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),d=Zn(d,zm(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),d=Zn(d,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,d=Zn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,Bn(e,n-1,r-n+3,d),r=n+d.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function yq(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=zl(n);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const d=e.exit("attentionSequence"),f=zl(c),p=!f||f===2&&i||r.includes(c),v=!i||i===2&&f||r.includes(n);return d._open=!!(s===42?p:p&&(i||!v)),d._close=!!(s===42?v:v&&(f||!p)),t(c)}}function SC(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const bq={name:"autolink",tokenize:_q};function _q(e,t,r){let n=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return en(g)?(e.consume(g),a):g===64?r(g):d(g)}function a(g){return g===43||g===45||g===46||zr(g)?(n=1,o(g)):d(g)}function o(g){return g===58?(e.consume(g),n=0,c):(g===43||g===45||g===46||zr(g))&&n++<32?(e.consume(g),o):(n=0,d(g))}function c(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||Mp(g)?r(g):(e.consume(g),c)}function d(g){return g===64?(e.consume(g),f):uq(g)?(e.consume(g),d):r(g)}function f(g){return zr(g)?p(g):r(g)}function p(g){return g===46?(e.consume(g),n=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):v(g)}function v(g){if((g===45||zr(g))&&n++<63){const b=g===45?v:p;return e.consume(g),b}return r(g)}}const Fd={partial:!0,tokenize:xq};function xq(e,t,r){return n;function n(s){return at(s)?lt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Xe(s)?t(s):r(s)}}const TR={continuation:{tokenize:Eq},exit:kq,name:"blockQuote",tokenize:wq};function wq(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return at(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Eq(e,t,r){const n=this;return i;function i(a){return at(a)?lt(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(TR,t,r)(a)}}function kq(e){e.exit("blockQuote")}const SR={name:"characterEscape",tokenize:Tq};function Tq(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return dq(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const CR={name:"characterReference",tokenize:Sq};function Sq(e,t,r){const n=this;let i=0,s,a;return o;function o(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),c}function c(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),s=31,a=zr,f(p))}function d(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=cq,f):(e.enter("characterReferenceValue"),s=7,a=H1,f(p))}function f(p){if(p===59&&i){const v=e.exit("characterReferenceValue");return a===zr&&!Ix(n.sliceSerialize(v))?r(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<s?(e.consume(p),f):r(p)}}const CC={partial:!0,tokenize:Aq},AC={concrete:!0,name:"codeFenced",tokenize:Cq};function Cq(e,t,r){const n=this,i={partial:!0,tokenize:j};let s=0,a=0,o;return c;function c(N){return d(N)}function d(N){const P=n.events[n.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(N)}function f(N){return N===o?(a++,e.consume(N),f):a<3?r(N):(e.exit("codeFencedFenceSequence"),at(N)?lt(e,p,"whitespace")(N):p(N))}function p(N){return N===null||Xe(N)?(e.exit("codeFencedFence"),n.interrupt?t(N):e.check(CC,x,O)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Xe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(N)):at(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),lt(e,g,"whitespace")(N)):N===96&&N===o?r(N):(e.consume(N),v)}function g(N){return N===null||Xe(N)?p(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===null||Xe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(N)):N===96&&N===o?r(N):(e.consume(N),b)}function x(N){return e.attempt(i,O,_)(N)}function _(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),w}function w(N){return s>0&&at(N)?lt(e,A,"linePrefix",s+1)(N):A(N)}function A(N){return N===null||Xe(N)?e.check(CC,x,O)(N):(e.enter("codeFlowValue"),S(N))}function S(N){return N===null||Xe(N)?(e.exit("codeFlowValue"),A(N)):(e.consume(N),S)}function O(N){return e.exit("codeFenced"),t(N)}function j(N,P,D){let $=0;return I;function I(K){return N.enter("lineEnding"),N.consume(K),N.exit("lineEnding"),M}function M(K){return N.enter("codeFencedFence"),at(K)?lt(N,H,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):H(K)}function H(K){return K===o?(N.enter("codeFencedFenceSequence"),q(K)):D(K)}function q(K){return K===o?($++,N.consume(K),q):$>=a?(N.exit("codeFencedFenceSequence"),at(K)?lt(N,G,"whitespace")(K):G(K)):D(K)}function G(K){return K===null||Xe(K)?(N.exit("codeFencedFence"),P(K)):D(K)}}}function Aq(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const ny={name:"codeIndented",tokenize:jq},Nq={partial:!0,tokenize:Oq};function jq(e,t,r){const n=this;return i;function i(d){return e.enter("codeIndented"),lt(e,s,"linePrefix",5)(d)}function s(d){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(d):r(d)}function a(d){return d===null?c(d):Xe(d)?e.attempt(Nq,a,c)(d):(e.enter("codeFlowValue"),o(d))}function o(d){return d===null||Xe(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),o)}function c(d){return e.exit("codeIndented"),t(d)}}function Oq(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Xe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):lt(e,s,"linePrefix",5)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Xe(a)?i(a):r(a)}}const Pq={name:"codeText",previous:Rq,resolve:Iq,tokenize:Dq};function Iq(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function Rq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Dq(e,t,r){let n=0,i,s;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),o(p)}function o(p){return p===96?(e.consume(p),n++,o):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?r(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(s=e.enter("codeTextSequence"),i=0,f(p)):Xe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||Xe(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),d)}function f(p){return p===96?(e.consume(p),i++,f):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(s.type="codeTextData",d(p))}}class Lq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&wc(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);wc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wc(this.left,r.reverse())}}}function wc(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function AR(e){const t={};let r=-1,n,i,s,a,o,c,d;const f=new Lq(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Mq(f,r)),r=t[r],d=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...f.get(i)[1].start},o=f.slice(i,r),o.unshift(n),f.splice(i,r-i+1,o))}}return Bn(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!d}function Mq(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],d={};let f,p,v=-1,g=r,b=0,x=0;const _=[x];for(;g;){for(;e.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=n.sliceStream(g),g.next||f.push(null),p&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=r;++v<o.length;)o[v][0]==="exit"&&o[v-1][0]==="enter"&&o[v][1].type===o[v-1][1].type&&o[v][1].start.line!==o[v][1].end.line&&(x=v+1,_.push(x),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):_.pop(),v=_.length;v--;){const w=o.slice(_[v],_[v+1]),A=s.pop();c.push([A,A+w.length-1]),e.splice(A,2,w)}for(c.reverse(),v=-1;++v<c.length;)d[b+c[v][0]]=b+c[v][1],b+=c[v][1]-c[v][0]-1;return d}const Bq={resolve:$q,tokenize:Uq},Fq={partial:!0,tokenize:Hq};function $q(e){return AR(e),e}function Uq(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Xe(o)?e.check(Fq,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Hq(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),lt(e,s,"linePrefix")}function s(a){if(a===null||Xe(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function NR(e,t,r,n,i,s,a,o,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return p;function p(w){return w===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(w),e.exit(s),v):w===null||w===32||w===41||Mp(w)?r(w):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(w))}function v(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(e.exit("chunkString"),e.exit(o),v(w)):w===null||w===60||Xe(w)?r(w):(e.consume(w),w===92?b:g)}function b(w){return w===60||w===62||w===92?(e.consume(w),g):g(w)}function x(w){return!f&&(w===null||w===41||Et(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(w)):f<d&&w===40?(e.consume(w),f++,x):w===41?(e.consume(w),f--,x):w===null||w===32||w===40||Mp(w)?r(w):(e.consume(w),w===92?_:x)}function _(w){return w===40||w===41||w===92?(e.consume(w),x):x(w)}}function jR(e,t,r,n,i,s){const a=this;let o=0,c;return d;function d(g){return e.enter(n),e.enter(i),e.consume(g),e.exit(i),e.enter(s),f}function f(g){return o>999||g===null||g===91||g===93&&!c||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(g):g===93?(e.exit(s),e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):Xe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||Xe(g)||o++>999?(e.exit("chunkString"),f(g)):(e.consume(g),c||(c=!at(g)),g===92?v:p)}function v(g){return g===91||g===92||g===93?(e.consume(g),o++,p):p(g)}}function OR(e,t,r,n,i,s){let a;return o;function o(v){return v===34||v===39||v===40?(e.enter(n),e.enter(i),e.consume(v),e.exit(i),a=v===40?41:v,c):r(v)}function c(v){return v===a?(e.enter(i),e.consume(v),e.exit(i),e.exit(n),t):(e.enter(s),d(v))}function d(v){return v===a?(e.exit(s),c(a)):v===null?r(v):Xe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),lt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===a||v===null||Xe(v)?(e.exit("chunkString"),d(v)):(e.consume(v),v===92?p:f)}function p(v){return v===a||v===92?(e.consume(v),f):f(v)}}function Jc(e,t){let r;return n;function n(i){return Xe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):at(i)?lt(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const zq={name:"definition",tokenize:qq},Wq={partial:!0,tokenize:Vq};function qq(e,t,r){const n=this;let i;return s;function s(g){return e.enter("definition"),a(g)}function a(g){return jR.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=ji(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),c):r(g)}function c(g){return Et(g)?Jc(e,d)(g):d(g)}function d(g){return NR(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(Wq,p,p)(g)}function p(g){return at(g)?lt(e,v,"whitespace")(g):v(g)}function v(g){return g===null||Xe(g)?(e.exit("definition"),n.parser.defined.push(i),t(g)):r(g)}}function Vq(e,t,r){return n;function n(o){return Et(o)?Jc(e,i)(o):r(o)}function i(o){return OR(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return at(o)?lt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Xe(o)?t(o):r(o)}}const Gq={name:"hardBreakEscape",tokenize:Yq};function Yq(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Xe(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const Kq={name:"headingAtx",resolve:Xq,tokenize:Qq};function Xq(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Bn(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Qq(e,t,r){let n=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&n++<6?(e.consume(f),a):f===null||Et(f)?(e.exit("atxHeadingSequence"),o(f)):r(f)}function o(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||Xe(f)?(e.exit("atxHeading"),t(f)):at(f)?lt(e,o,"whitespace")(f):(e.enter("atxHeadingText"),d(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),o(f))}function d(f){return f===null||f===35||Et(f)?(e.exit("atxHeadingText"),o(f)):(e.consume(f),d)}}const Jq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],NC=["pre","script","style","textarea"],Zq={concrete:!0,name:"htmlFlow",resolveTo:rV,tokenize:nV},eV={partial:!0,tokenize:sV},tV={partial:!0,tokenize:iV};function rV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function nV(e,t,r){const n=this;let i,s,a,o,c;return d;function d(F){return f(F)}function f(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),p}function p(F){return F===33?(e.consume(F),v):F===47?(e.consume(F),s=!0,x):F===63?(e.consume(F),i=3,n.interrupt?t:L):en(F)?(e.consume(F),a=String.fromCharCode(F),_):r(F)}function v(F){return F===45?(e.consume(F),i=2,g):F===91?(e.consume(F),i=5,o=0,b):en(F)?(e.consume(F),i=4,n.interrupt?t:L):r(F)}function g(F){return F===45?(e.consume(F),n.interrupt?t:L):r(F)}function b(F){const Ee="CDATA[";return F===Ee.charCodeAt(o++)?(e.consume(F),o===Ee.length?n.interrupt?t:H:b):r(F)}function x(F){return en(F)?(e.consume(F),a=String.fromCharCode(F),_):r(F)}function _(F){if(F===null||F===47||F===62||Et(F)){const Ee=F===47,Te=a.toLowerCase();return!Ee&&!s&&NC.includes(Te)?(i=1,n.interrupt?t(F):H(F)):Jq.includes(a.toLowerCase())?(i=6,Ee?(e.consume(F),w):n.interrupt?t(F):H(F)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(F):s?A(F):S(F))}return F===45||zr(F)?(e.consume(F),a+=String.fromCharCode(F),_):r(F)}function w(F){return F===62?(e.consume(F),n.interrupt?t:H):r(F)}function A(F){return at(F)?(e.consume(F),A):I(F)}function S(F){return F===47?(e.consume(F),I):F===58||F===95||en(F)?(e.consume(F),O):at(F)?(e.consume(F),S):I(F)}function O(F){return F===45||F===46||F===58||F===95||zr(F)?(e.consume(F),O):j(F)}function j(F){return F===61?(e.consume(F),N):at(F)?(e.consume(F),j):S(F)}function N(F){return F===null||F===60||F===61||F===62||F===96?r(F):F===34||F===39?(e.consume(F),c=F,P):at(F)?(e.consume(F),N):D(F)}function P(F){return F===c?(e.consume(F),c=null,$):F===null||Xe(F)?r(F):(e.consume(F),P)}function D(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Et(F)?j(F):(e.consume(F),D)}function $(F){return F===47||F===62||at(F)?S(F):r(F)}function I(F){return F===62?(e.consume(F),M):r(F)}function M(F){return F===null||Xe(F)?H(F):at(F)?(e.consume(F),M):r(F)}function H(F){return F===45&&i===2?(e.consume(F),J):F===60&&i===1?(e.consume(F),ae):F===62&&i===4?(e.consume(F),V):F===63&&i===3?(e.consume(F),L):F===93&&i===5?(e.consume(F),de):Xe(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(eV,ne,q)(F)):F===null||Xe(F)?(e.exit("htmlFlowData"),q(F)):(e.consume(F),H)}function q(F){return e.check(tV,G,ne)(F)}function G(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),K}function K(F){return F===null||Xe(F)?q(F):(e.enter("htmlFlowData"),H(F))}function J(F){return F===45?(e.consume(F),L):H(F)}function ae(F){return F===47?(e.consume(F),a="",ie):H(F)}function ie(F){if(F===62){const Ee=a.toLowerCase();return NC.includes(Ee)?(e.consume(F),V):H(F)}return en(F)&&a.length<8?(e.consume(F),a+=String.fromCharCode(F),ie):H(F)}function de(F){return F===93?(e.consume(F),L):H(F)}function L(F){return F===62?(e.consume(F),V):F===45&&i===2?(e.consume(F),L):H(F)}function V(F){return F===null||Xe(F)?(e.exit("htmlFlowData"),ne(F)):(e.consume(F),V)}function ne(F){return e.exit("htmlFlow"),t(F)}}function iV(e,t,r){const n=this;return i;function i(a){return Xe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function sV(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fd,t,r)}}const aV={name:"htmlText",tokenize:oV};function oV(e,t,r){const n=this;let i,s,a;return o;function o(L){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(L),c}function c(L){return L===33?(e.consume(L),d):L===47?(e.consume(L),j):L===63?(e.consume(L),S):en(L)?(e.consume(L),D):r(L)}function d(L){return L===45?(e.consume(L),f):L===91?(e.consume(L),s=0,b):en(L)?(e.consume(L),A):r(L)}function f(L){return L===45?(e.consume(L),g):r(L)}function p(L){return L===null?r(L):L===45?(e.consume(L),v):Xe(L)?(a=p,ae(L)):(e.consume(L),p)}function v(L){return L===45?(e.consume(L),g):p(L)}function g(L){return L===62?J(L):L===45?v(L):p(L)}function b(L){const V="CDATA[";return L===V.charCodeAt(s++)?(e.consume(L),s===V.length?x:b):r(L)}function x(L){return L===null?r(L):L===93?(e.consume(L),_):Xe(L)?(a=x,ae(L)):(e.consume(L),x)}function _(L){return L===93?(e.consume(L),w):x(L)}function w(L){return L===62?J(L):L===93?(e.consume(L),w):x(L)}function A(L){return L===null||L===62?J(L):Xe(L)?(a=A,ae(L)):(e.consume(L),A)}function S(L){return L===null?r(L):L===63?(e.consume(L),O):Xe(L)?(a=S,ae(L)):(e.consume(L),S)}function O(L){return L===62?J(L):S(L)}function j(L){return en(L)?(e.consume(L),N):r(L)}function N(L){return L===45||zr(L)?(e.consume(L),N):P(L)}function P(L){return Xe(L)?(a=P,ae(L)):at(L)?(e.consume(L),P):J(L)}function D(L){return L===45||zr(L)?(e.consume(L),D):L===47||L===62||Et(L)?$(L):r(L)}function $(L){return L===47?(e.consume(L),J):L===58||L===95||en(L)?(e.consume(L),I):Xe(L)?(a=$,ae(L)):at(L)?(e.consume(L),$):J(L)}function I(L){return L===45||L===46||L===58||L===95||zr(L)?(e.consume(L),I):M(L)}function M(L){return L===61?(e.consume(L),H):Xe(L)?(a=M,ae(L)):at(L)?(e.consume(L),M):$(L)}function H(L){return L===null||L===60||L===61||L===62||L===96?r(L):L===34||L===39?(e.consume(L),i=L,q):Xe(L)?(a=H,ae(L)):at(L)?(e.consume(L),H):(e.consume(L),G)}function q(L){return L===i?(e.consume(L),i=void 0,K):L===null?r(L):Xe(L)?(a=q,ae(L)):(e.consume(L),q)}function G(L){return L===null||L===34||L===39||L===60||L===61||L===96?r(L):L===47||L===62||Et(L)?$(L):(e.consume(L),G)}function K(L){return L===47||L===62||Et(L)?$(L):r(L)}function J(L){return L===62?(e.consume(L),e.exit("htmlTextData"),e.exit("htmlText"),t):r(L)}function ae(L){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),ie}function ie(L){return at(L)?lt(e,de,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):de(L)}function de(L){return e.enter("htmlTextData"),a(L)}}const Rx={name:"labelEnd",resolveAll:dV,resolveTo:hV,tokenize:fV},lV={tokenize:pV},uV={tokenize:mV},cV={tokenize:gV};function dV(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Bn(e,0,e.length,r),e}function hV(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",d,t]],o=Zn(o,e.slice(s+1,s+n+3)),o=Zn(o,[["enter",f,t]]),o=Zn(o,zm(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Zn(o,[["exit",f,t],e[a-2],e[a-1],["exit",d,t]]),o=Zn(o,e.slice(a+1)),o=Zn(o,[["exit",c,t]]),Bn(e,s,e.length,o),e}function fV(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(v){return s?s._inactive?p(v):(a=n.parser.defined.includes(ji(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),c):r(v)}function c(v){return v===40?e.attempt(lV,f,a?f:p)(v):v===91?e.attempt(uV,f,a?d:p)(v):a?f(v):p(v)}function d(v){return e.attempt(cV,f,p)(v)}function f(v){return t(v)}function p(v){return s._balanced=!0,r(v)}}function pV(e,t,r){return n;function n(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Et(p)?Jc(e,s)(p):s(p)}function s(p){return p===41?f(p):NR(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return Et(p)?Jc(e,c)(p):f(p)}function o(p){return r(p)}function c(p){return p===34||p===39||p===40?OR(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function d(p){return Et(p)?Jc(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):r(p)}}function mV(e,t,r){const n=this;return i;function i(o){return jR.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(ji(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function gV(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const vV={name:"labelStartImage",resolveAll:Rx.resolveAll,tokenize:yV};function yV(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const bV={name:"labelStartLink",resolveAll:Rx.resolveAll,tokenize:_V};function _V(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const iy={name:"lineEnding",tokenize:xV};function xV(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),lt(e,t,"linePrefix")}}const ap={name:"thematicBreak",tokenize:wV};function wV(e,t,r){let n=0,i;return s;function s(d){return e.enter("thematicBreak"),a(d)}function a(d){return i=d,o(d)}function o(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):n>=3&&(d===null||Xe(d))?(e.exit("thematicBreak"),t(d)):r(d)}function c(d){return d===i?(e.consume(d),n++,c):(e.exit("thematicBreakSequence"),at(d)?lt(e,o,"whitespace")(d):o(d))}}const fn={continuation:{tokenize:SV},exit:AV,name:"list",tokenize:TV},EV={partial:!0,tokenize:NV},kV={partial:!0,tokenize:CV};function TV(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const b=n.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!n.containerState.marker||g===n.containerState.marker:H1(g)){if(n.containerState.type||(n.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(ap,r,d)(g):d(g);if(!n.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(g)}return r(g)}function c(g){return H1(g)&&++a<10?(e.consume(g),c):(!n.interrupt||a<2)&&(n.containerState.marker?g===n.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),d(g)):r(g)}function d(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||g,e.check(Fd,n.interrupt?r:f,e.attempt(EV,v,p))}function f(g){return n.containerState.initialBlankLine=!0,s++,v(g)}function p(g){return at(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),v):r(g)}function v(g){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function SV(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Fd,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,lt(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!at(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(kV,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,lt(e,e.attempt(fn,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function CV(e,t,r){const n=this;return lt(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function AV(e){e.exit(this.containerState.type)}function NV(e,t,r){const n=this;return lt(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!at(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const jC={name:"setextUnderline",resolveTo:jV,tokenize:OV};function jV(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function OV(e,t,r){const n=this;let i;return s;function s(d){let f=n.events.length,p;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){p=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||p)?(e.enter("setextHeadingLine"),i=d,a(d)):r(d)}function a(d){return e.enter("setextHeadingLineSequence"),o(d)}function o(d){return d===i?(e.consume(d),o):(e.exit("setextHeadingLineSequence"),at(d)?lt(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||Xe(d)?(e.exit("setextHeadingLine"),t(d)):r(d)}}const PV={tokenize:IV};function IV(e){const t=this,r=e.attempt(Fd,n,e.attempt(this.parser.constructs.flowInitial,i,lt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Bq,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const RV={resolveAll:IR()},DV=PR("string"),LV=PR("text");function PR(e){return{resolveAll:IR(e==="text"?MV:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(f){return d(f)?s(f):o(f)}function o(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),c}function c(f){return d(f)?(r.exit("data"),s(f)):(r.consume(f),c)}function d(f){if(f===null)return!0;const p=i[f];let v=-1;if(p)for(;++v<p.length;){const g=p[v];if(!g.previous||g.previous.call(n,n.previous))return!0}return!1}}}function IR(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function MV(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(d===-2)c=!0,o++;else if(d!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const d={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...d.start},n.start.offset===n.end.offset?Object.assign(n,d):(e.splice(r,0,["enter",d,t],["exit",d,t]),r+=2)}r++}return e}const BV={42:fn,43:fn,45:fn,48:fn,49:fn,50:fn,51:fn,52:fn,53:fn,54:fn,55:fn,56:fn,57:fn,62:TR},FV={91:zq},$V={[-2]:ny,[-1]:ny,32:ny},UV={35:Kq,42:ap,45:[jC,ap],60:Zq,61:jC,95:ap,96:AC,126:AC},HV={38:CR,92:SR},zV={[-5]:iy,[-4]:iy,[-3]:iy,33:vV,38:CR,42:z1,60:[bq,aV],91:bV,92:[Gq,SR],93:Rx,95:z1,96:Pq},WV={null:[z1,RV]},qV={null:[42,95]},VV={null:[]},GV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qV,contentInitial:FV,disable:VV,document:BV,flow:UV,flowInitial:$V,insideSpan:WV,string:HV,text:zV},Symbol.toStringTag,{value:"Module"}));function YV(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:P(j),check:P(N),consume:A,enter:S,exit:O,interrupt:P(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:e,previous:null,sliceSerialize:v,sliceStream:g,write:p};let f=t.tokenize.call(d,c);return t.resolveAll&&s.push(t),d;function p(M){return a=Zn(a,M),_(),a[a.length-1]!==null?[]:(D(t,0),d.events=zm(s,d.events,d),d.events)}function v(M,H){return XV(g(M),H)}function g(M){return KV(a,M)}function b(){const{_bufferIndex:M,_index:H,line:q,column:G,offset:K}=n;return{_bufferIndex:M,_index:H,line:q,column:G,offset:K}}function x(M){i[M.line]=M.column,I()}function _(){let M;for(;n._index<a.length;){const H=a[n._index];if(typeof H=="string")for(M=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===M&&n._bufferIndex<H.length;)w(H.charCodeAt(n._bufferIndex));else w(H)}}function w(M){f=f(M)}function A(M){Xe(M)?(n.line++,n.column=1,n.offset+=M===-3?2:1,I()):M!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),d.previous=M}function S(M,H){const q=H||{};return q.type=M,q.start=b(),d.events.push(["enter",q,d]),o.push(q),q}function O(M){const H=o.pop();return H.end=b(),d.events.push(["exit",H,d]),H}function j(M,H){D(M,H.from)}function N(M,H){H.restore()}function P(M,H){return q;function q(G,K,J){let ae,ie,de,L;return Array.isArray(G)?ne(G):"tokenize"in G?ne([G]):V(G);function V(fe){return $e;function $e(Oe){const te=Oe!==null&&fe[Oe],ke=Oe!==null&&fe.null,He=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return ne(He)(Oe)}}function ne(fe){return ae=fe,ie=0,fe.length===0?J:F(fe[ie])}function F(fe){return $e;function $e(Oe){return L=$(),de=fe,fe.partial||(d.currentConstruct=fe),fe.name&&d.parser.constructs.disable.null.includes(fe.name)?Te():fe.tokenize.call(H?Object.assign(Object.create(d),H):d,c,Ee,Te)(Oe)}}function Ee(fe){return M(de,L),K}function Te(fe){return L.restore(),++ie<ae.length?F(ae[ie]):J}}}function D(M,H){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&Bn(d.events,H,d.events.length-H,M.resolve(d.events.slice(H),d)),M.resolveTo&&(d.events=M.resolveTo(d.events,d))}function $(){const M=b(),H=d.previous,q=d.currentConstruct,G=d.events.length,K=Array.from(o);return{from:G,restore:J};function J(){n=M,d.previous=H,d.currentConstruct=q,d.events.length=G,o=K,I()}}function I(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function KV(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function XV(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function QV(e){const n={constructs:ER([GV,...(e||{}).extensions||[]]),content:i(hq),defined:[],document:i(pq),flow:i(PV),lazy:{},string:i(DV),text:i(LV)};return n;function i(s){return a;function a(o){return YV(n,s,o)}}}function JV(e){for(;!AR(e););return e}const OC=/[\0\t\n\r]/g;function ZV(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const c=[];let d,f,p,v,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),p=0,t="",r&&(s.charCodeAt(0)===65279&&p++,r=void 0);p<s.length;){if(OC.lastIndex=p,d=OC.exec(s),v=d&&d.index!==void 0?d.index:s.length,g=s.charCodeAt(v),!d){t=s.slice(p);break}if(g===10&&p===v&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),p<v&&(c.push(s.slice(p,v)),e+=v-p),g){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}p=v+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const eG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tG(e){return e.replace(eG,rG)}function rG(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return kR(r.slice(s?2:1),s?16:10)}return Ix(r)||e}const RR={}.hasOwnProperty;function nG(e,t,r){return typeof t!="string"&&(r=t,t=void 0),iG(r)(JV(QV(r).document().write(ZV()(e,t,!0))))}function iG(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ws),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(tt),blockQuote:s(ke),characterEscape:$,characterReference:$,codeFenced:s(He),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(He,a),codeText:s(he,a),codeTextData:$,data:$,codeFlowValue:$,definition:s(pt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Se),hardBreakEscape:s(ut),hardBreakTrailing:s(ut),htmlFlow:s(Bt,a),htmlFlowData:$,htmlText:s(Bt,a),htmlTextData:$,image:s(ss),label:a,link:s(Ws),listItem:s(Bi),listItemValue:v,listOrdered:s(Mi,p),listUnordered:s(Mi),paragraph:s(Fa),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(tt),strong:s(Fo),thematicBreak:s(Uo)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:te,autolinkProtocol:Oe,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:fe,characterReference:$e,codeFenced:c(_),codeFencedFence:x,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:I,codeIndented:c(w),codeText:c(K),codeTextData:I,data:I,definition:c(),definitionDestinationString:O,definitionLabelString:A,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(H),hardBreakTrailing:c(H),htmlFlow:c(q),htmlFlowData:I,htmlText:c(G),htmlTextData:I,image:c(ae),label:de,labelText:ie,lineEnding:M,link:c(J),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ee,resourceDestinationString:L,resourceTitleString:V,resource:ne,setextHeading:c(D),setextHeadingLineSequence:P,setextHeadingText:N,strong:c(),thematicBreak:c()}};DR(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(ce){let we={type:"root",children:[]};const Q={stack:[we],tokenStack:[],config:t,enter:o,exit:d,buffer:a,resume:f,data:r},be=[];let We=-1;for(;++We<ce.length;)if(ce[We][1].type==="listOrdered"||ce[We][1].type==="listUnordered")if(ce[We][0]==="enter")be.push(We);else{const Ft=be.pop();We=i(ce,Ft,We)}for(We=-1;++We<ce.length;){const Ft=t[ce[We][0]];RR.call(Ft,ce[We][1].type)&&Ft[ce[We][1].type].call(Object.assign({sliceSerialize:ce[We][2].sliceSerialize},Q),ce[We][1])}if(Q.tokenStack.length>0){const Ft=Q.tokenStack[Q.tokenStack.length-1];(Ft[1]||PC).call(Q,void 0,Ft[0])}for(we.position={start:fa(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:fa(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)we=t.transforms[We](we)||we;return we}function i(ce,we,Q){let be=we-1,We=-1,Ft=!1,Pr,Ir,pr,zn;for(;++be<=Q;){const tr=ce[be];switch(tr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tr[0]==="enter"?We++:We--,zn=void 0;break}case"lineEndingBlank":{tr[0]==="enter"&&(Pr&&!zn&&!We&&!pr&&(pr=be),zn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:zn=void 0}if(!We&&tr[0]==="enter"&&tr[1].type==="listItemPrefix"||We===-1&&tr[0]==="exit"&&(tr[1].type==="listUnordered"||tr[1].type==="listOrdered")){if(Pr){let Fi=be;for(Ir=void 0;Fi--;){const kn=ce[Fi];if(kn[1].type==="lineEnding"||kn[1].type==="lineEndingBlank"){if(kn[0]==="exit")continue;Ir&&(ce[Ir][1].type="lineEndingBlank",Ft=!0),kn[1].type="lineEnding",Ir=Fi}else if(!(kn[1].type==="linePrefix"||kn[1].type==="blockQuotePrefix"||kn[1].type==="blockQuotePrefixWhitespace"||kn[1].type==="blockQuoteMarker"||kn[1].type==="listItemIndent"))break}pr&&(!Ir||pr<Ir)&&(Pr._spread=!0),Pr.end=Object.assign({},Ir?ce[Ir][1].start:tr[1].end),ce.splice(Ir||be,0,["exit",Pr,tr[2]]),be++,Q++}if(tr[1].type==="listItemPrefix"){const Fi={type:"listItem",_spread:!1,start:Object.assign({},tr[1].start),end:void 0};Pr=Fi,ce.splice(be,0,["enter",Fi,tr[2]]),be++,Q++,pr=void 0,zn=!0}}}return ce[we][1]._spread=Ft,Q}function s(ce,we){return Q;function Q(be){o.call(this,ce(be),be),we&&we.call(this,be)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ce,we,Q){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([we,Q||void 0]),ce.position={start:fa(we.start),end:void 0}}function c(ce){return we;function we(Q){ce&&ce.call(this,Q),d.call(this,Q)}}function d(ce,we){const Q=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==ce.type&&(we?we.call(this,ce,be[0]):(be[1]||PC).call(this,ce,be[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Qc({start:ce.start,end:ce.end})+"): its not open");Q.position.end=fa(ce.end)}function f(){return Px(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function v(ce){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.lang=ce}function b(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.meta=ce}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/(\r?\n|\r)$/g,"")}function A(ce){const we=this.resume(),Q=this.stack[this.stack.length-1];Q.label=we,Q.identifier=ji(this.sliceSerialize(ce)).toLowerCase()}function S(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function O(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function j(ce){const we=this.stack[this.stack.length-1];if(!we.depth){const Q=this.sliceSerialize(ce).length;we.depth=Q}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(ce){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ce){const Q=this.stack[this.stack.length-1].children;let be=Q[Q.length-1];(!be||be.type!=="text")&&(be=$o(),be.position={start:fa(ce.start),end:void 0},Q.push(be)),this.stack.push(be)}function I(ce){const we=this.stack.pop();we.value+=this.sliceSerialize(ce),we.position.end=fa(ce.end)}function M(ce){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Q=we.children[we.children.length-1];Q.position.end=fa(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(we.type)&&($.call(this,ce),I.call(this,ce))}function H(){this.data.atHardBreak=!0}function q(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function G(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function K(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function J(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=we,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function ae(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=we,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function ie(ce){const we=this.sliceSerialize(ce),Q=this.stack[this.stack.length-2];Q.label=tG(we),Q.identifier=ji(we).toLowerCase()}function de(){const ce=this.stack[this.stack.length-1],we=this.resume(),Q=this.stack[this.stack.length-1];if(this.data.inReference=!0,Q.type==="link"){const be=ce.children;Q.children=be}else Q.alt=we}function L(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function V(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function ne(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function Ee(ce){const we=this.resume(),Q=this.stack[this.stack.length-1];Q.label=we,Q.identifier=ji(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Te(ce){this.data.characterReferenceType=ce.type}function fe(ce){const we=this.sliceSerialize(ce),Q=this.data.characterReferenceType;let be;Q?(be=kR(we,Q==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Ix(we);const We=this.stack[this.stack.length-1];We.value+=be}function $e(ce){const we=this.stack.pop();we.position.end=fa(ce.end)}function Oe(ce){I.call(this,ce);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ce)}function te(ce){I.call(this,ce);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ce)}function ke(){return{type:"blockquote",children:[]}}function He(){return{type:"code",lang:null,meta:null,value:""}}function he(){return{type:"inlineCode",value:""}}function pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function ut(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function ss(){return{type:"image",title:null,url:"",alt:null}}function Ws(){return{type:"link",title:null,url:"",children:[]}}function Mi(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function Bi(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Fa(){return{type:"paragraph",children:[]}}function Fo(){return{type:"strong",children:[]}}function $o(){return{type:"text",value:""}}function Uo(){return{type:"thematicBreak"}}}function fa(e){return{line:e.line,column:e.column,offset:e.offset}}function DR(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?DR(e,n):sG(e,n)}}function sG(e,t){let r;for(r in t)if(RR.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function PC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Qc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Qc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Qc({start:t.start,end:t.end})+") is still open")}function aG(e){const t=this;t.parser=r;function r(n){return nG(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function oG(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function lG(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function uG(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function cG(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dG(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hG(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=hu(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function fG(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pG(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function LR(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function mG(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return LR(e,t);const i={src:hu(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function gG(e,t){const r={src:hu(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function vG(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function yG(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return LR(e,t);const i={href:hu(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function bG(e,t){const r={href:hu(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _G(e,t,r){const n=e.all(t),i=r?xG(r):MR(t),s={},a=[];if(typeof t.checked=="boolean"){const f=n[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},n.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const f=n[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const c=n[n.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,d),e.applyData(t,d)}function xG(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=MR(r[n])}return t}function MR(e){const t=e.spread;return t??e.children.length>1}function wG(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function EG(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kG(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function TG(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function SG(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=ns(t.children[1]),c=Um(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function CG(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let c=-1;const d=[];for(;++c<o;){const p=t.children[c],v={},g=a?a[c]:void 0;g&&(v.align=g);let b={type:"element",tagName:s,properties:v,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),d.push(b)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,f),e.applyData(t,f)}function AG(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const IC=9,RC=32;function NG(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(DC(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(DC(t.slice(i),i>0,!1)),s.join("")}function DC(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===IC||s===RC;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===IC||s===RC;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function jG(e,t){const r={type:"text",value:NG(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function OG(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const PG={blockquote:oG,break:lG,code:uG,delete:cG,emphasis:dG,footnoteReference:hG,heading:fG,html:pG,imageReference:mG,image:gG,inlineCode:vG,linkReference:yG,link:bG,listItem:_G,list:wG,paragraph:EG,root:kG,strong:TG,table:SG,tableCell:AG,tableRow:CG,text:jG,thematicBreak:OG,toml:Pf,yaml:Pf,definition:Pf,footnoteDefinition:Pf};function Pf(){}const BR=-1,Wm=0,Zc=1,Bp=2,Dx=3,Lx=4,Mx=5,Bx=6,FR=7,$R=8,LC=typeof self=="object"?self:globalThis,IG=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Wm:case BR:return r(a,i);case Zc:{const o=r([],i);for(const c of a)o.push(n(c));return o}case Bp:{const o=r({},i);for(const[c,d]of a)o[n(c)]=n(d);return o}case Dx:return r(new Date(a),i);case Lx:{const{source:o,flags:c}=a;return r(new RegExp(o,c),i)}case Mx:{const o=r(new Map,i);for(const[c,d]of a)o.set(n(c),n(d));return o}case Bx:{const o=r(new Set,i);for(const c of a)o.add(n(c));return o}case FR:{const{name:o,message:c}=a;return r(new LC[o](c),i)}case $R:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new LC[s](a),i)};return n},MC=e=>IG(new Map,e)(0),xl="",{toString:RG}={},{keys:DG}=Object,Ec=e=>{const t=typeof e;if(t!=="object"||!e)return[Wm,t];const r=RG.call(e).slice(8,-1);switch(r){case"Array":return[Zc,xl];case"Object":return[Bp,xl];case"Date":return[Dx,xl];case"RegExp":return[Lx,xl];case"Map":return[Mx,xl];case"Set":return[Bx,xl];case"DataView":return[Zc,r]}return r.includes("Array")?[Zc,r]:r.includes("Error")?[FR,r]:[Bp,r]},If=([e,t])=>e===Wm&&(t==="function"||t==="symbol"),LG=(e,t,r,n)=>{const i=(a,o)=>{const c=n.push(a)-1;return r.set(o,c),c},s=a=>{if(r.has(a))return r.get(a);let[o,c]=Ec(a);switch(o){case Wm:{let f=a;switch(c){case"bigint":o=$R,f=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([BR],a)}return i([o,f],a)}case Zc:{if(c){let v=a;return c==="DataView"?v=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(v=new Uint8Array(a)),i([c,[...v]],a)}const f=[],p=i([o,f],a);for(const v of a)f.push(s(v));return p}case Bp:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const f=[],p=i([o,f],a);for(const v of DG(a))(e||!If(Ec(a[v])))&&f.push([s(v),s(a[v])]);return p}case Dx:return i([o,a.toISOString()],a);case Lx:{const{source:f,flags:p}=a;return i([o,{source:f,flags:p}],a)}case Mx:{const f=[],p=i([o,f],a);for(const[v,g]of a)(e||!(If(Ec(v))||If(Ec(g))))&&f.push([s(v),s(g)]);return p}case Bx:{const f=[],p=i([o,f],a);for(const v of a)(e||!If(Ec(v)))&&f.push(s(v));return p}}const{message:d}=a;return i([o,{name:c,message:d}],a)};return s},BC=(e,{json:t,lossy:r}={})=>{const n=[];return LG(!(t||r),!!t,new Map,n)(e),n},Wl=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?MC(BC(e,t)):structuredClone(e):(e,t)=>MC(BC(e,t));function MG(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function BG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function FG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||MG,n=e.options.footnoteBackLabel||BG,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const f=e.all(d),p=String(d.identifier).toUpperCase(),v=hu(p.toLowerCase());let g=0;const b=[],x=e.footnoteCounts.get(p);for(;x!==void 0&&++g<=x;){b.length>0&&b.push({type:"text",value:" "});let A=typeof r=="string"?r:r(c,g);typeof A=="string"&&(A={type:"text",value:A}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,g),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const _=f[f.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const A=_.children[_.children.length-1];A&&A.type==="text"?A.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...b)}else f.push(...b);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(f,!0)};e.patch(d,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Wl(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const qm=(function(e){if(e==null)return zG;if(typeof e=="function")return Vm(e);if(typeof e=="object")return Array.isArray(e)?$G(e):UG(e);if(typeof e=="string")return HG(e);throw new Error("Expected function, string, or object as test")});function $G(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=qm(e[r]);return Vm(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function UG(e){const t=e;return Vm(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function HG(e){return Vm(t);function t(r){return r&&r.type===e}}function Vm(e){return t;function t(r,n,i){return!!(WG(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function zG(){return!0}function WG(e){return e!==null&&typeof e=="object"&&"type"in e}const UR=[],qG=!0,W1=!1,VG="skip";function HR(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=qm(i),a=n?-1:1;o(e,void 0,[])();function o(c,d,f){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return v;function v(){let g=UR,b,x,_;if((!t||s(c,d,f[f.length-1]||void 0))&&(g=GG(r(c,f)),g[0]===W1))return g;if("children"in c&&c.children){const w=c;if(w.children&&g[0]!==VG)for(x=(n?w.children.length:-1)+a,_=f.concat(w);x>-1&&x<w.children.length;){const A=w.children[x];if(b=o(A,x,_)(),b[0]===W1)return b;x=typeof b[1]=="number"?b[1]:x+a}}return g}}}function GG(e){return Array.isArray(e)?e:typeof e=="number"?[qG,e]:e==null?UR:[e]}function Gm(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),HR(e,s,o,i);function o(c,d){const f=d[d.length-1],p=f?f.children.indexOf(c):void 0;return a(c,p,f)}}const q1={}.hasOwnProperty,YG={};function KG(e,t){const r=t||YG,n=new Map,i=new Map,s=new Map,a={...PG,...r.handlers},o={all:d,applyData:QG,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:r,patch:XG,wrap:ZG};return Gm(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?n:i,v=String(f.identifier).toUpperCase();p.has(v)||p.set(v,f)}}),o;function c(f,p){const v=f.type,g=o.handlers[v];if(q1.call(o.handlers,v)&&g)return g(o,f,p);if(o.options.passThrough&&o.options.passThrough.includes(v)){if("children"in f){const{children:x,..._}=f,w=Wl(_);return w.children=o.all(f),w}return Wl(f)}return(o.options.unknownHandler||JG)(o,f,p)}function d(f){const p=[];if("children"in f){const v=f.children;let g=-1;for(;++g<v.length;){const b=o.one(v[g],f);if(b){if(g&&v[g-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=FC(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=FC(x.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function XG(e,t){e.position&&(t.position=BW(e))}function QG(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Wl(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function JG(e,t){const r=t.data||{},n="value"in t&&!(q1.call(r,"hProperties")||q1.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZG(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function FC(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function $C(e,t){const r=KG(e,t),n=r.one(e,void 0),i=FG(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function eY(e,t){return e&&"run"in e?async function(r,n){const i=$C(r,{file:n,...t});await e.run(i,n)}:function(r,n){return $C(r,{file:n,...e||t})}}function UC(e){if(e)throw e}var sy,HC;function tY(){if(HC)return sy;HC=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},s=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var f=e.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!f&&!p)return!1;var v;for(v in d);return typeof v>"u"||e.call(d,v)},a=function(d,f){r&&f.name==="__proto__"?r(d,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):d[f.name]=f.newValue},o=function(d,f){if(f==="__proto__")if(e.call(d,f)){if(n)return n(d,f).value}else return;return d[f]};return sy=function c(){var d,f,p,v,g,b,x=arguments[0],_=1,w=arguments.length,A=!1;for(typeof x=="boolean"&&(A=x,x=arguments[1]||{},_=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});_<w;++_)if(d=arguments[_],d!=null)for(f in d)p=o(x,f),v=o(d,f),x!==v&&(A&&v&&(s(v)||(g=i(v)))?(g?(g=!1,b=p&&i(p)?p:[]):b=p&&s(p)?p:{},a(x,{name:f,newValue:c(A,b,v)})):typeof v<"u"&&a(x,{name:f,newValue:v}));return x},sy}var rY=tY();const ay=ui(rY);function V1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nY(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...d){const f=e[++s];let p=-1;if(c){a(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,f?iY(f,o)(...d):a(null,...d)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function iY(e,t){let r;return n;function n(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(d){const f=d;if(o&&r)throw f;return i(f)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const qi={basename:sY,dirname:aY,extname:oY,join:lY,sep:"/"};function sY(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$d(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function aY(e){if($d(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function oY(e){$d(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function lY(...e){let t=-1,r;for(;++t<e.length;)$d(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":uY(r)}function uY(e){$d(e);const t=e.codePointAt(0)===47;let r=cY(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function cY(e,t){let r="",n=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function $d(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const dY={cwd:hY};function hY(){return"/"}function G1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function fY(e){if(typeof e=="string")e=new URL(e);else if(!G1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return pY(e)}function pY(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const oy=["history","path","basename","stem","extname","dirname"];class zR{constructor(t){let r;t?G1(t)?r={path:t}:typeof t=="string"||mY(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":dY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<oy.length;){const s=oy[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)oy.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?qi.basename(this.path):void 0}set basename(t){uy(t,"basename"),ly(t,"basename"),this.path=qi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qi.dirname(this.path):void 0}set dirname(t){zC(this.basename,"dirname"),this.path=qi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qi.extname(this.path):void 0}set extname(t){if(ly(t,"extname"),zC(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){G1(t)&&(t=fY(t)),uy(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qi.basename(this.path,this.extname):void 0}set stem(t){uy(t,"stem"),ly(t,"stem"),this.path=qi.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Vr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function ly(e,t){if(e&&e.includes(qi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qi.sep+"`")}function uy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function zC(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function mY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gY=(function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s}),vY={}.hasOwnProperty;class Fx extends gY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nY()}copy(){const t=new Fx;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(ay(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(hy("data",this.frozen),this.namespace[t]=r,this):vY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(hy("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Rf(t),n=this.parser||this.Parser;return cy("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),cy("process",this.parser||this.Parser),dy("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=Rf(t),c=n.parse(o);n.run(c,o,function(f,p,v){if(f||!p||!v)return d(f);const g=p,b=n.stringify(g,v);_Y(b)?v.value=b:v.result=b,d(f,v)});function d(f,p){f||!p?a(f):s?s(p):r(void 0,p)}}}processSync(t){let r=!1,n;return this.freeze(),cy("processSync",this.parser||this.Parser),dy("processSync",this.compiler||this.Compiler),this.process(t,i),qC("processSync","process",r),n;function i(s,a){r=!0,UC(s),n=a}}run(t,r,n){WC(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const c=Rf(r);i.run(t,c,d);function d(f,p,v){const g=p||t;f?o(f):a?a(g):n(void 0,g,v)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),qC("runSync","run",n),i;function s(a,o){UC(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=Rf(r),i=this.compiler||this.Compiler;return dy("stringify",i),WC(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(hy("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[f,...p]=d;c(f,p)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(d.plugins),d.settings&&(i.settings=ay(!0,i.settings,d.settings))}function o(d){let f=-1;if(d!=null)if(Array.isArray(d))for(;++f<d.length;){const p=d[f];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,f){let p=-1,v=-1;for(;++p<n.length;)if(n[p][0]===d){v=p;break}if(v===-1)n.push([d,...f]);else if(f.length>0){let[g,...b]=f;const x=n[v][1];V1(x)&&V1(g)&&(g=ay(!0,x,g)),n[v]=[d,g,...b]}}}}const yY=new Fx().freeze();function cy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function dy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function hy(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function WC(e){if(!V1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function qC(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Rf(e){return bY(e)?e:new zR(e)}function bY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function _Y(e){return typeof e=="string"||xY(e)}function xY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VC=[],GC={allowDangerousHtml:!0},EY=/^(https?|ircs?|mailto|xmpp)$/i,kY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $x(e){const t=TY(e),r=SY(e);return CY(t.runSync(t.parse(r),r),e)}function TY(e){const t=e.rehypePlugins||VC,r=e.remarkPlugins||VC,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...GC}:GC;return yY().use(aG).use(r).use(eY,n).use(t)}function SY(e){const t=e.children||"",r=new zR;return typeof t=="string"&&(r.value=t),r}function CY(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||AY;for(const f of kY)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+wY+f.id,void 0);return Gm(e,d),zW(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function d(f,p,v){if(f.type==="raw"&&v&&typeof p=="number")return a?v.children.splice(p,1):v.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let g;for(g in ry)if(Object.hasOwn(ry,g)&&Object.hasOwn(f.properties,g)){const b=f.properties[g],x=ry[g];(x===null||x.includes(f.tagName))&&(f.properties[g]=c(String(b||""),g,f))}}if(f.type==="element"){let g=r?!r.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&n&&typeof p=="number"&&(g=!n(f,p,v)),g&&v&&typeof p=="number")return o&&f.children?v.children.splice(p,1,...f.children):v.children.splice(p,1),p}}}function AY(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||EY.test(e.slice(0,t))?e:""}function Ux(){const[e,t]=E.useState([]),[r,n]=E.useState(!0);E.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:s,error:a}=await Ke.from("v_active_promotions").select("*");if(a)throw a;t(s||[])}catch(s){console.error("Error fetching promotions:",s)}finally{n(!1)}};return{promotions:e,loading:r}}function NY(){const{profile:e}=qr(),{promotions:t,loading:r}=Ux(),[n,i]=E.useState(null);if(!(e!=null&&e.can_see_incentives))return null;const s=t.filter(c=>c.is_active&&!c.disable_card);if(r||s.length===0)return null;const a=c=>new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),o=c=>`+${Math.round((c-1)*100)}%`;return u.jsxs("section",{className:"incentives-section",children:[u.jsx("div",{className:"incentives-header",children:u.jsx("h2",{children:"Active Incentives"})}),u.jsx("div",{className:"incentives-grid",children:s.map(c=>{const d=c.categories.includes("ALL"),f=c.categories.length===0,p=!!c.long_description;return u.jsxs("div",{className:"incentive-card",children:[u.jsxs("div",{className:"incentive-card-content",children:[u.jsxs("div",{className:"incentive-top-row",children:[c.reward_multiplier>1&&u.jsxs("span",{className:"incentive-badge",children:[o(c.reward_multiplier)," Boost"]}),c.ends_at&&u.jsxs("span",{className:"incentive-date",children:["Ends ",a(c.ends_at)]})]}),u.jsx("h3",{className:"incentive-title",children:c.title}),(c.message||p)&&u.jsxs("div",{className:"incentive-description-wrapper",children:[c.message&&u.jsx("p",{className:"incentive-description",children:c.message}),p&&u.jsx("button",{className:"incentive-read-more",onClick:()=>i(c),children:"Read more "})]}),!d&&!f&&u.jsx("div",{className:"incentive-footer",children:u.jsxs("div",{className:"incentive-categories-wrapper",children:[u.jsx("span",{className:"incentive-label",children:"Applies to:"}),u.jsxs("div",{className:"incentive-categories-list",children:[c.categories.slice(0,3).map(v=>u.jsx("span",{className:"category-pill",children:v},v)),c.categories.length>3&&u.jsxs("span",{className:"category-pill more",children:["+",c.categories.length-3]})]})]})})]}),u.jsx("div",{className:"incentive-bg-icon",children:c.variant==="warning"?"":c.variant==="success"?"":""})]},c.id)})}),n&&u.jsxs(Fm,{isOpen:!!n,onClose:()=>i(null),size:"lg",children:[u.jsx(pz,{onClose:()=>i(null),children:u.jsxs("div",{className:"incentive-modal-header",children:[n.reward_multiplier>1&&u.jsxs("span",{className:"incentive-badge",children:[o(n.reward_multiplier)," Boost"]}),u.jsx("h2",{children:n.title}),n.ends_at&&u.jsxs("p",{className:"incentive-modal-date",children:["Ends ",a(n.ends_at)]})]})}),u.jsx(mz,{children:u.jsxs("div",{className:"incentive-modal-content",children:[n.long_description&&u.jsx("div",{className:"incentive-full-message markdown-content",children:u.jsx($x,{children:n.long_description})}),n.categories.length>0&&!n.categories.includes("ALL")&&u.jsxs("div",{className:"incentive-modal-categories",children:[u.jsx("span",{className:"incentive-label",children:"Applies to:"}),u.jsx("div",{className:"incentive-categories-list",children:n.categories.map(c=>u.jsx("span",{className:"category-pill",children:c},c))})]}),n.categories.includes("ALL")&&u.jsx("div",{className:"incentive-modal-categories",children:u.jsx("span",{className:"category-pill global",children:"All categories"})})]})}),u.jsx(gz,{children:u.jsx(Fe,{variant:"secondary",onClick:()=>i(null),children:"Close"})})]})]})}function jY(){var i,s;const{user:e,profile:t}=qr(),r=nn();E.useEffect(()=>{r&&r.capture("landing_page_viewed",{has_profile:!!t,has_github_username:!!(t!=null&&t.github_username)})},[r]);const n=(t==null?void 0:t.first_name)||(t==null?void 0:t.github_username)||((s=(i=e==null?void 0:e.user_metadata)==null?void 0:i.full_name)==null?void 0:s.split(" ")[0])||"there";return u.jsxs("div",{className:"landing-page",children:[u.jsxs("main",{className:"main-content",children:[u.jsx("section",{className:"welcome-strip",children:u.jsxs("div",{className:"welcome-content",children:[u.jsxs("h1",{className:"welcome-title",children:["Hello, ",n," ",u.jsx("span",{className:"wave",children:""})]}),u.jsx("p",{className:"welcome-subtitle",children:"Welcome to the community advancing agentic development."})]})}),u.jsx(yW,{}),u.jsx(NY,{}),u.jsx($z,{})]}),u.jsx("footer",{className:"footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const OY=()=>u.jsxs("div",{className:"mission-page",children:[u.jsx("div",{className:"mission-background",children:u.jsx(aR,{})}),u.jsx("div",{className:"mission-content-container",children:u.jsxs("div",{className:"mission-content",children:[u.jsx("h1",{className:"mission-title",children:"Our Mission"}),u.jsx("h2",{className:"mission-subtitle",children:"Advancing the science of agentic AI through real engineering tasks"}),u.jsxs("div",{className:"mission-section",children:[u.jsx("p",{className:"mission-text",children:"Progress in agentic AI depends on more than next-token prediction."}),u.jsx("p",{className:"mission-text",children:"To evaluate and improve these systems, we need benchmarks that reflect the true complexity of real-world software engineering, including multistep reasoning, troubleshooting, environment manipulation, and recovery from failure."}),u.jsx("p",{className:"mission-text highlight",children:"TerminalBench was created to meet that need."}),u.jsx("p",{className:"mission-text",children:"TerminalBench, created by Stanford University and Laude Institute, provides a rigorous, end-to-end evaluation of how AI agents perform in realistic command-line environments. This platform is a Snorkel AI initiative to contribute to and expand the benchmark. Each task reveals specific model limitations, including gaps in reasoning, planning, execution, or robustness, that cannot be detected through synthetic datasets or code-completion benchmarks."})]}),u.jsxs("div",{className:"mission-section contributions",children:[u.jsx("p",{className:"mission-text",children:"By designing tasks that expose failure modes in frontier models, you help generate the empirical signal needed to:"}),u.jsxs("ul",{className:"mission-list",children:[u.jsx("li",{children:"Identify systematic weaknesses in agentic behavior"}),u.jsx("li",{children:"Guide model and policy improvements"}),u.jsx("li",{children:"Establish transparent, reproducible evaluation standards for the field"}),u.jsx("li",{children:"Accelerate research toward reliable, general-purpose coding agents"})]})]}),u.jsxs("div",{className:"mission-section closing",children:[u.jsx("p",{className:"mission-text strong",children:"This is not crowdsourced labeling, it is applied research, grounded in real engineering practice."}),u.jsx("p",{className:"mission-text",children:"TerminalBench advances only as far as its community of experts pushes it."}),u.jsx("p",{className:"mission-text",children:"Every accepted task becomes part of a shared scientific instrument used across academia and industry."}),u.jsx("p",{className:"mission-text welcome-message",children:"On behalf of the Snorkel team, welcome and thank you for helping build the foundation of next-generation agentic AI evaluation."})]})]})})]});function PY({section:e}){return e?u.jsxs("div",{className:"content",children:[u.jsx("h1",{className:"content-title",children:e.title}),u.jsx("div",{className:"content-body",children:e.content})]}):null}function IY({section:e}){const t=ft();return e?u.jsxs("div",{className:"guideline-section-page",children:[u.jsxs("header",{className:"guideline-section-header",children:[u.jsx("button",{className:"back-button",onClick:()=>t("/"),children:" Back to Home"}),u.jsx("div",{className:"section-logo",children:e.title})]}),u.jsx("main",{className:"guideline-section-main",children:u.jsx(PY,{section:e})}),u.jsx("footer",{className:"guideline-section-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]}):null}function RY(){const e=ft(),t=[{id:"92c2e195ac1c4b1e9b1177668dfcb81a",title:"1. Creating a Task"},{id:"22449b76123d41e6abff0efb39d0b960",title:"2. Running your task"},{id:"140f2cf8f16d404abf5cbd7dcc66b7cb",title:"3. Creating a solution/solve.sh"},{id:"a00541ff2787464c84bf4601415ee624",title:"4. Creating tests for your task"}];return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"Task Walkthrough Videos"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Task Walkthrough Videos"}),u.jsx("p",{className:"videos-subtitle",children:"Watch these step-by-step videos to learn how to create and submit tasks"}),u.jsx("div",{className:"videos-grid",children:t.map((r,n)=>u.jsxs("div",{className:"video-card",children:[u.jsx("h3",{className:"video-card-title",children:r.title}),u.jsx("div",{className:"video-wrapper",children:u.jsx("iframe",{src:`https://www.loom.com/embed/${r.id}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:r.title})})]},r.id))})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const DY="/Terminus-EC-Training-stateful/";function LY(){const e=ft();return u.jsxs("div",{className:"workbook-page",children:[u.jsxs("header",{className:"workbook-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"workbook-logo",children:"CI Feedback Video and Notebook"})]}),u.jsxs("main",{className:"workbook-content",children:[u.jsx("h1",{className:"workbook-title",children:"CI Feedback Video and Notebook"}),u.jsxs("div",{className:"workbook-intro",children:[u.jsx("p",{children:"CI checks are programmatic evaluations of task correctness and completeness. You need to iterate on your task until all checks pass. This page provides a practice workbook where you can do so, along with a video explaining the solution and walking through how to iterate on CI feedback."}),u.jsx("p",{children:u.jsx("a",{href:`${DY}ci_feedback_training.ipynb`,download:"ci_feedback_training.ipynb",className:"notebook-download-link",children:" Download CI Feedback Training Notebook"})})]}),u.jsx("div",{className:"workbook-video-section",children:u.jsxs("div",{className:"video-card",children:[u.jsx("h3",{className:"video-card-title",children:"CI Feedback Tutorial"}),u.jsx("div",{className:"video-wrapper",children:u.jsx("iframe",{src:"https://www.loom.com/embed/db35a5b03c1c43ab80f46f481fa02be1?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Practice Workbook Tutorial"})})]})}),u.jsxs("div",{className:"workbook-checks-section",children:[u.jsx("h2",{children:"Automated Checks"}),u.jsx("p",{children:"The following automated checks are run on all submissions:"}),u.jsx("h3",{children:"LLMAJ Checks"}),u.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Check Name"}),u.jsx("th",{children:"Description"}),u.jsx("th",{children:"How to Fix"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"behavior_in_task_description"})}),u.jsx("td",{children:"Whether all behavior checked in tests is described in the task"}),u.jsx("td",{children:"Review your test cases and ensure all tested behaviors are explicitly described in the task.toml instructions"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"behavior_in_tests"})}),u.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"}),u.jsx("td",{children:"Review your task.toml instructions and ensure each requirement has a corresponding test case in test_outputs.py"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"informative_test_docstrings"})}),u.jsx("td",{children:"Whether test cases have informative docstrings"}),u.jsx("td",{children:"Add docstrings to each test function that describe which behavior or requirement the test is checking"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"anti_cheating_measures"})}),u.jsx("td",{children:"Is it hard for the agent to cheat on the task?"}),u.jsx("td",{children:"Ensure agents cannot cheat by editing data files, looking inside files for solution strings, or training on the test set. If Dockerfile involves git cloning, ensure the agent won't see newer commits"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"structured_data_schema"})}),u.jsx("td",{children:"If agent produces structured data, is exact schema described?"}),u.jsx("td",{children:"If the agent produces structured data (e.g., API responses), describe the exact schema in task.toml or a separate file"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"hardcoded_solution"})}),u.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"}),u.jsx("td",{children:"Ensure your solution/solve.sh demonstrates a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Using echo/cat to write source files or scripts that are then executed is acceptable"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"file_reference_mentioned"})}),u.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.toml?"}),u.jsx("td",{children:"If tests check for specific files, ensure those filenames are explicitly mentioned in the task.toml instructions"})]})]})]}),u.jsx("h3",{children:"CI Checks"}),u.jsx("p",{children:"The following automated checks validate technical requirements:"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Check Name"}),u.jsx("th",{children:"Description"}),u.jsx("th",{children:"How to Fix"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"pinned_dependencies"})}),u.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"}),u.jsx("td",{children:"Pin all Python dependencies to specific versions. Apt packages should not be pinned, but all pip/uv dependencies should be"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"typos"})}),u.jsx("td",{children:"Check for typos in file and variable names"}),u.jsx("td",{children:"Carefully review file and variable names for typos, as these can be hard to catch"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"tests_or_solution_in_image"})}),u.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"}),u.jsx("td",{children:"Remove any COPY commands for tests/ folder or solution files from your Dockerfile. The /tests folder is automatically copied by the harness"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"test_deps_in_image"})}),u.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"}),u.jsx("td",{children:"Move any test dependency installations from the Dockerfile to the run-tests.sh script"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_canary"})}),u.jsx("td",{children:"Checks if canary string is present at top of required files"}),u.jsx("td",{children:"Add the canary string to the top of all required files (task.yaml, solution/solve.sh, Dockerfile, test_outputs.py)"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_dockerfile_references"})}),u.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"}),u.jsx("td",{children:'Remove any references to "solution.yaml", "solution/solve.sh", "run-tests.sh", or "test_outputs.py" from your Dockerfile'})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_run-tests_sh"})}),u.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.toml keywords"}),u.jsx("td",{children:"Update run-tests.sh to contain uv init or uv venv, or add global or system-wide keywords to task.toml"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_task_absolute_path"})}),u.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"}),u.jsx("td",{children:"Update all file paths in task.toml instructions to use absolute paths (starting with /) instead of relative paths"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_privileged_containers"})}),u.jsx("td",{children:"No privileged containers in docker-compose.yaml"}),u.jsx("td",{children:"Remove any privileged: true or privileged container settings from docker-compose.yaml"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"ruff"})}),u.jsx("td",{children:"Lint checks"}),u.jsx("td",{children:"Run ruff linting checks before submitting and fix any linting errors"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_task_sizes"})}),u.jsx("td",{children:"Every file is under 1MB"}),u.jsx("td",{children:"Remove or condense any files that are over 1MB in size"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"validate_task_fields"})}),u.jsx("td",{children:"All required fields are present in task.toml"}),u.jsx("td",{children:"Add any missing required fields to your task.toml file"})]})]})]})]})]}),u.jsx("footer",{className:"workbook-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const MY="/Terminus-EC-Training-stateful/";function BY(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"OracleAgent Video and Notebook"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"OracleAgent Video and Notebook"}),u.jsx("div",{className:"workbook-intro",children:u.jsx("p",{children:"This page covers what the Oracle Agent is, how to run it, how to debug its output, and how to submit a debugged task. Use the practice workbook to iterate on your task and watch the video tutorial for a step-by-step walkthrough."})}),u.jsxs("div",{className:"workbook-resources",children:[u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsx("h3",{children:"Oracle Agent Training Notebook"}),u.jsx("p",{children:"Download the Jupyter notebook for hands-on practice with the Oracle Agent"}),u.jsx("a",{href:`${MY}oracle_agent_training.ipynb`,download:"oracle_agent_training.ipynb",className:"download-button",children:"Download Notebook"})]}),u.jsxs("div",{className:"video-card",children:[u.jsx("h3",{className:"video-card-title",children:"Oracle Training Tutorial"}),u.jsx("div",{className:"video-wrapper",children:u.jsx("iframe",{src:"https://www.loom.com/embed/72b70216a5314068823bc6ed0350e672?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true",frameBorder:"0",allowFullScreen:!0,className:"video-iframe",title:"Oracle Training Tutorial"})})]})]})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const YC="/Terminus-EC-Training-stateful/";function FY(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"Onboarding Video and Slides"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Onboarding Video and Slides"}),u.jsx("div",{className:"workbook-intro",children:u.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project."})}),u.jsxs("div",{className:"workbook-resources",children:[u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsx("h3",{children:"Onboarding Slides"}),u.jsx("p",{children:"Download or view the onboarding presentation slides"}),u.jsx("a",{href:`${YC}Terminus%20EC%20Onboarding.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),u.jsxs("div",{className:"video-card",children:[u.jsx("h3",{className:"video-card-title",children:"Onboarding Video"}),u.jsx("div",{className:"video-wrapper",children:u.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},onError:t=>{console.error("Video load error:",t),console.error("Video src:",t.target.currentSrc)},children:[u.jsx("source",{src:`${YC}video1251502681.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function WR({itemId:e,label:t}){const{isCompleted:r,toggleCompletion:n}=H3(),[i,s]=E.useState(!1),a=r(e),o=async()=>{s(!0),await n(e),s(!1)};return u.jsxs("button",{className:`completion-toggle ${a?"completed":""}`,onClick:o,disabled:i,title:a?"Mark as incomplete":"Mark as complete",children:[u.jsx("span",{className:"completion-checkbox",children:a&&u.jsx("svg",{className:"completion-checkmark",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),u.jsx("span",{className:"completion-label",children:t||(a?"Completed":"Mark as Complete")})]})}const KC="/Terminus-EC-Training-stateful/";function $Y(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/portal"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"Expert Platform Onboarding Materials"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Expert Platform Onboarding Materials"}),u.jsx("div",{className:"workbook-intro",children:u.jsx("p",{children:"Access the onboarding presentation slides and watch the onboarding video to get started with the Terminus EC project on the Snorkel Expert Platform."})}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",maxWidth:"800px",margin:"0 auto",marginTop:"2rem"},children:u.jsxs("div",{style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",borderRadius:"12px",padding:"2rem",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",width:"100%"},children:[u.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ffffff",marginBottom:"1.5rem",textAlign:"center"},children:"Expert Platform Onboarding Materials"}),u.jsx("div",{style:{marginBottom:"2rem",textAlign:"center"},children:u.jsx("a",{href:`${KC}Terminus EC Onboarding - Platform.pdf`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",backgroundColor:"#ffffff",color:"#1e40af",padding:"0.875rem 2rem",fontSize:"1rem",fontWeight:600,textDecoration:"none",borderRadius:"8px",transition:"all 0.3s",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.2)"},children:"View/Download Onboarding Slides"})}),u.jsxs("div",{children:[u.jsx("h4",{style:{fontSize:"1.125rem",fontWeight:600,color:"#ffffff",marginBottom:"1rem",textAlign:"center"},children:"Onboarding Video"}),u.jsx("div",{className:"video-wrapper",children:u.jsxs("video",{controls:!0,preload:"metadata",className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[u.jsx("source",{src:`${KC}platform_onboarding_11-25-2025.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})]})}),u.jsx("div",{style:{marginTop:"2rem",maxWidth:"800px",margin:"2rem auto 0"},children:u.jsx(WR,{itemId:"resource-expert-platform-onboarding"})})]})]})}const XC="/Terminus-EC-Training-stateful/";function UY(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"Office Hours Videos and Slides"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Office Hours Videos and Slides"}),u.jsx("div",{className:"workbook-intro",children:u.jsx("p",{children:"Access Office Hours videos and feedback presentation slides to learn about common issues and best practices."})}),u.jsxs("div",{className:"workbook-resources",children:[u.jsxs("div",{className:"video-card",children:[u.jsx("h3",{className:"video-card-title",children:"Office Hours 11/12"}),u.jsx("div",{className:"video-wrapper",children:u.jsxs("video",{controls:!0,className:"video-iframe",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain"},children:[u.jsx("source",{src:"/Terminus-EC-Training/video1344882306.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})]}),u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsx("h3",{children:"Feedback 10/31"}),u.jsx("p",{children:"Feedback slides from October 31st"}),u.jsx("a",{href:`${XC}Feedback%2010_31.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]}),u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsx("h3",{children:"Feedback 11/3"}),u.jsx("p",{children:"Feedback slides from November 3rd"}),u.jsx("a",{href:`${XC}Feedback%2011_3.pdf`,target:"_blank",rel:"noopener noreferrer",className:"download-button",children:"View/Download PDF"})]})]})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function HY(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"FAQ"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Frequently Asked Questions"}),u.jsxs("div",{className:"faq-container",children:[u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"1. Do I need to attend onboarding to get started?"}),u.jsx("p",{className:"faq-answer",children:"No, you do not need to attend a live onboarding. We encourage this so that you can ask questions and they're scheduled every couple of days in case you can't make one day. However, we also have a recording and slides from this session on this site, so you're free to look at those to familiarize yourself and get started right away."})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"2. I didn't receive an assessment, do I need to take one?"}),u.jsx("p",{className:"faq-answer",children:"No, there is currently no assessment for this project, you can get started familiarizing yourself with the task and working on it immediately."})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"3. How do I receive my API keys?"}),u.jsx("p",{className:"faq-answer",children:"You should receive an email with your OpenAI API key shortly after joining the project. If you haven't received it within a day or two, please reach out to Puyun Tafreshi or Alejandro Sanchez on Slack. You will only need the OpenAI key - our infrastructure will allow you to run Anthropic models using only this key."})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"4. Why do I not see anything in my Snorkel Expert Platform?"}),u.jsx("p",{className:"faq-answer",children:"This project is currently being run entirely outside of the Snorkel Expert Platform. Therefore, you should not and will not see anything related to the project on the platform. Everything will be done through the GitHub repo at this point in time."})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"5. How do I get served a task?"}),u.jsx("p",{className:"faq-answer",children:'You will not be "served" a task to complete like in other Snorkel projects. You will be ideating and creating the task completely from scratch. Please see the Task Walkthrough videos for more detail on how to do this.'})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"6. How do I get an idea for my task?"}),u.jsx("p",{className:"faq-answer",children:'You can either come up with a task from scratch or take a task idea from our sheet of task ideas, this is up to you. You can also use the task ideas as "inspiration" and come up with a similar or more complex version.'})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"7. How do I claim an existing task idea from the sheet?"}),u.jsx("p",{className:"faq-answer",children:"To claim a task, please DM Puyun Tafreshi or Alejandro Sanchez on Slack with the line number of the task that you would like to claim. Please do not request more than 2-3 tasks at once, you will be capped at this until you have completed one or more of the tasks that you have previously requested."})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"8. What are the daily Office Hours sessions?"}),u.jsx("p",{className:"faq-answer",children:"These are open forums that are entirely for you. You can come and ask any general questions or specific questions about your task. These are not required, but we encourage attending either to ask questions yourself or just to learn from listening to other people."})]}),u.jsxs("div",{className:"faq-item",children:[u.jsx("h2",{className:"faq-question",children:"9. How do I make a hard task?"}),u.jsxs("p",{className:"faq-answer",children:[u.jsx("strong",{children:"Important:"}),' Tasks that are not at least "Easy" difficulty rating will NOT be accepted. Here are some suggestions and guidelines to make harder tasks:']}),u.jsxs("ul",{style:{marginTop:"0.75rem",paddingLeft:"1.5rem",color:"#64748b"},children:[u.jsxs("li",{style:{marginBottom:"0.75rem"},children:[u.jsx("strong",{children:"Make a debugging-style task:"})," When an agent has to figure out the root cause of an issue, it inherently requires reasoning."]}),u.jsxs("li",{style:{marginBottom:"0.75rem"},children:[u.jsx("strong",{children:"Make tasks requiring special/niche knowledge:"})," Knowledge is publicly available but LLMs have not been well-trained on it due to niche nature. Example: ",u.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/103",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Blockchains/NFT task"})]}),u.jsxs("li",{style:{marginBottom:"0.75rem"},children:[u.jsx("strong",{children:"Use a bespoke rule buried in common rules:"})," The task.toml still has to clearly define it, but a bespoke rule seems to confuse an agent. Example: ",u.jsx("a",{href:"https://github.com/snorkel-ai/snorkel-tb-tasks/pull/174#discussion_r2497044356",target:"_blank",rel:"noopener noreferrer",style:{color:"#1e40af",textDecoration:"none"},children:"Bespoke rule example"})]}),u.jsxs("li",{style:{marginBottom:"0.75rem"},children:[u.jsx("strong",{children:"Develop a complex, multi-step task:"})," Each step has a certain amount of chance that an agent fails, making the overall failure rate higher."]})]})]})]}),u.jsx("div",{className:"workbook-actions",style:{marginTop:"2rem"},children:u.jsx(WR,{itemId:"resource-faq"})})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function zY(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"Glossary"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Glossary"}),u.jsx("div",{className:"content-body",style:{maxWidth:"1000px",margin:"0 auto",textAlign:"left"},children:u.jsxs("div",{className:"glossary-grid",children:[u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Canary String"}),u.jsx("p",{style:{marginBottom:0},children:"A special string that must be present at the top of all required files (task.toml, solution/solve.sh, Dockerfile, test_outputs.py). Used to verify that these files have been properly reviewed and meet project standards."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"CI Checks"}),u.jsx("p",{style:{marginBottom:0},children:"Automated checks that validate technical requirements for submissions. Include checks for pinned dependencies, typos, canary strings, Dockerfile references, absolute paths, privileged containers, linting (ruff), file sizes, and required task.toml fields. All CI checks must pass before a submission can be accepted."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"docker-compose.yaml"}),u.jsx("p",{style:{marginBottom:0},children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources. Must not use privileged containers."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Dockerfile"}),u.jsx("p",{style:{marginBottom:0},children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode. Must not copy tests/ folder or solution files, as these are automatically copied by the harness."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"LLMAJ Checks"}),u.jsx("p",{style:{marginBottom:0},children:"Automated checks that evaluate task quality and correctness. Include checks for behavior alignment between task description and tests, informative test docstrings, anti-cheating measures, structured data schema description, hardcoded solutions, and file reference mentions. These checks ensure the task is well-designed and properly tested."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Oracle Agent"}),u.jsx("p",{style:{marginBottom:0},children:"Agent that is run in created environment to check the solution implemented in the solution/solve.sh file. Checks that the solution runs correctly and without bugs, and tests the output of the solution against the created pytests to ensure that the solution passes."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"Pass Rate Difficulty"}),u.jsx("p",{style:{marginBottom:0},children:"The average pass rate for an acceptable task must be <80%. This ensures tasks are challenging enough to provide meaningful evaluation of agent capabilities."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"run-tests.sh"}),u.jsx("p",{style:{marginBottom:0},children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. Must be deterministic, portable, and callable directly from the project root. Should use uv init or uv venv, or have proper task.yaml keywords."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"solution/solve.sh"}),u.jsx("p",{style:{marginBottom:0},children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task. Must demonstrate a sequence of commands that derive the answer, rather than directly outputting the final answer with echo/cat. Used by the Oracle Agent to verify the task is solvable."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"stb"}),u.jsxs("p",{style:{marginBottom:0},children:["Command-line tool for Terminal-Bench tasks. Used with commands like ",u.jsx("code",{children:"uv run stb tasks create"}),"to create new task structures and manage task-related operations."]})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"task.toml"}),u.jsx("p",{style:{marginBottom:0},children:"Clear and self-contained description of the task to be accomplished by the agent. Includes references to relevant resources, rules and constraints, success criteria, and task metadata. Must be written by a human and should explicitly mention any filenames that agents need to produce."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"tb run"}),u.jsxs("p",{style:{marginBottom:0},children:["Command used to run tasks with different agents. Example: ",u.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"}),"runs the Oracle Agent on a specified task to verify the solution works correctly."]})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"test_outputs.py"}),u.jsx("p",{style:{marginBottom:0},children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment. Each test should have informative docstrings describing which behavior or requirement the test is checking. All behavior described in task.toml should have corresponding tests."})]}),u.jsxs("div",{className:"info-box",style:{marginTop:0},children:[u.jsx("h3",{style:{marginTop:0,marginBottom:"0.75rem"},children:"uv"}),u.jsx("p",{style:{marginBottom:0},children:"A fast Python package installer and resolver written in Rust. Used in the Terminus project for managing Python dependencies and virtual environments. Required for running tasks and managing test dependencies."})]})]})})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}function WY(){const e=ft();return u.jsxs("div",{className:"videos-page",children:[u.jsxs("header",{className:"videos-header",children:[u.jsx("button",{className:"back-button",onClick:()=>e("/"),children:" Back to Home"}),u.jsx("div",{className:"videos-logo",children:"Local Testing Info"})]}),u.jsxs("main",{className:"videos-content",children:[u.jsx("h1",{className:"videos-title",children:"Local Testing Info"}),u.jsxs("div",{className:"content-body",style:{maxWidth:"900px",margin:"0 auto",textAlign:"left"},children:[u.jsx("p",{style:{marginBottom:"2rem",lineHeight:"1.7",color:"#475569"},children:"Running agents locally allows you to iterate on your tasks more effectively compared to needing to submit your PR before receiving test results. By testing locally, you can quickly identify issues, refine your task design, and validate solutions before submitting. You'll receive your API key from Snorkel via email, which you'll need to set up your environment for local testing."}),u.jsx("h2",{children:"Test SOTA agent performance on your task"}),u.jsxs("ol",{children:[u.jsx("li",{children:"Receive API key from Snorkel via email"}),u.jsxs("li",{children:["Update environmental variables:",u.jsx("pre",{children:u.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),u.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",u.jsx("pre",{children:u.jsx("code",{children:"# GPT-5 tb run --agent terminus-2 --model openai/@openai-tbench/gpt-5 --task-id <task_id> # Claude Sonnet 4.5 tb run --agent terminus-2 --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929 --task-id <task_id>"})})]})]}),u.jsx("h2",{children:"Check that your solution passes CI and LLMaJ checks"}),u.jsxs("ol",{children:[u.jsx("li",{children:"Receive API key from Snorkel via email"}),u.jsxs("li",{children:["Update environmental variables:",u.jsx("pre",{children:u.jsx("code",{children:"export OPENAI_API_KEY=<Portkey API key> export OPENAI_BASE_URL=https://api.portkey.ai/v1"})})]}),u.jsxs("li",{children:["Two models are available currently - GPT-5 and Claude Sonnet 4.5:",u.jsx("pre",{children:u.jsx("code",{children:"# GPT-5 tb tasks check <task_id> --model openai/@openai-tbench/gpt-5 # Claude Sonnet 4.5 tb tasks check <task_id> --model openai/@anthropic-tbench/claude-sonnet-4-5-20250929"})})]})]})]})]}),u.jsx("footer",{className:"videos-footer",children:u.jsx("p",{children:" 2025 Terminus EC Training. All rights reserved."})})]})}const qY=[{id:"overview",title:"Project Overview",content:u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"Project Goal"}),u.jsx("p",{children:"This project aims to develop a high-quality dataset in the style of Terminal-Bench. Terminal-Bench is a suite of multi-step agentic tasks executed in a Command-Line Interface (CLI) environment, designed to benchmark the performance of models. You will design these tasks and include the necessary components to be compatible with the Terminus framework."}),u.jsx("h3",{children:"Your Role as a Coding Expert"}),u.jsx("p",{children:"Your role is to develop a task, solution, and associated tests to verify the solution. These should be quite difficult, targeting an accuracy of below 80% for GPT-5 or Sonnet 4.5."}),u.jsx("p",{children:u.jsx("strong",{children:"Task Difficulty Classifications:"})}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Hard"})," - accuracy < 40% for GPT-5 or Sonnet 4.5"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Medium"})," - accuracy < 60% for either GPT-5 or Sonnet 4.5"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Easy"})," - accuracy < 80% for either GPT-5 or Sonnet 4.5"]})]}),u.jsx("p",{children:"You will create the task locally, validate that it meets all project criteria, and then package it as part of your submissions. Each submission undergoes independent review by another qualified coding expert with experience in the corresponding practice area to ensure accuracy and completeness."}),u.jsx("h3",{children:"Resources"}),u.jsxs("ul",{children:[u.jsxs("li",{children:["Slack for all project-related questions: ",u.jsx("strong",{children:"#ec-terminus-submission"})]}),u.jsxs("li",{children:["Terminal-Bench site: ",u.jsx("a",{href:"https://www.tbench.ai/",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/"})]}),u.jsx("li",{children:"While this project is NOT affiliated with the official Terminal-Bench project, this is a valuable resource given their similarities"}),u.jsx("li",{children:"Tickets for non-project-specific questions (i.e., payments): Expert Support Form"})]})]})},{id:"components",title:"Task Components",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Key Submission Components"}),u.jsx("h3",{children:"Components that Define the Task"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Instruction/Prompt (task.yaml)"}),u.jsx("p",{children:"Clear and self-contained description of the task to be accomplished by the agent. The instructions will include references to the relevant resources necessary for task completion, rules and additional constraints, and a description of the success criteria. This will also contain task metadata that is not available to the agent at runtime."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Docker Environment (Dockerfile)"}),u.jsx("p",{children:"Base Dockerfile or image that fully sets up the environment, including all required tools, resources, and dependencies. It should be reproducible, lightweight, and run without privileged mode."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"docker-compose.yaml"}),u.jsx("p",{children:"Configuration file that defines how containers, volumes, and networks are orchestrated for the task. It should reference the base image from the Dockerfile and include any necessary environment variables or mounted resources."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Oracle Solution (solution/solve.sh)"}),u.jsx("p",{children:"Expert-authored step-by-step solution contained within a shell script that reliably and accurately completes the task."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"run-tests.sh"}),u.jsx("p",{children:"Script used to execute and validate the end-to-end evaluation of the task. It coordinates running the agent within the defined environment, invokes test cases or success criteria checks, and produces structured output (e.g., logs or JSON summaries) that indicate task completion status. It must be deterministic, portable, and callable directly from the project root."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Python Tests"}),u.jsx("p",{children:"Series of deterministic Python scripts containing unit tests that check task completion based on the final state of the environment."})]}),u.jsx("h3",{children:"Optional Components"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Supporting Data Files:"})," Any additional inputs (e.g., data, configuration files, etc.) that are required for the task itself"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Custom Tools:"})," Custom tools to be used by the agent can be delivered in multiple ways, from source code files to companion containers"]})]}),u.jsxs("p",{className:"warning-box",children:[u.jsx("strong",{children:"Note:"})," See the template task in the GitHub repository for an example of submission structure."]})]})},{id:"taxonomy",title:"Task Type Taxonomy",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Task Type Taxonomy"}),u.jsx("p",{children:"The following taxonomy is used to label each task and describes the primary theme, topic, or activity in the task:"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"system-administration"}),u.jsx("p",{children:"Tasks involving OS-level configuration, user management, package management, processes, or installing, configuring, and bringing up services, networks, and environments."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"build-and-dependency-management"}),u.jsx("p",{children:"Compile code, manage dependencies, build components."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"data-processing"}),u.jsx("p",{children:"Tasks that transform, parse, filter, aggregate datasets or files and directories and generate derived output."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"games"}),u.jsx("p",{children:"Tasks centered on game-like or simulated environments, interactive puzzles, or simulation games that run in the terminal."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"software-engineering"}),u.jsx("p",{children:"Tasks focused on developing or testing features and algorithms, fixing bugs and improving/optimizing an existing feature, implementing tests, or maintaining software projects."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"machine-learning"}),u.jsx("p",{children:"Tasks requiring training, fine-tuning, running inference, or evaluating machine learning models, including dependency setup, running training loops, and managing data pipelines for ML tasks."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"debugging"}),u.jsx("p",{children:"Tasks that require identifying, diagnosing, and fixing errors in scripts, codebases, or system configurations."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"security"}),u.jsx("p",{children:"Tasks related to cryptography, authentication, permissions, penetration-style tests, exploit, validate vulnerabilities, reverse engineering or security configuration."})]}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"scientific-computing"}),u.jsx("p",{children:"Tasks using scientific libraries or workflows, such as numerical computation, simulations, or domain-specific research code."})]}),u.jsxs("p",{className:"warning-box",children:[u.jsx("strong",{children:"Note:"})," If your Terminal-Bench tasks are designed to be relevant to a particular domain, such as financial services, an additional taxonomy specific to that domain can be developed."]})]})},{id:"workflow",title:"Setup + Workflow",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Environment Setup and Tasking Workflow"}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Before Beginning:"})," Familiarize yourself with Terminal-Bench and its existing tasks here:",u.jsx("a",{href:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1",target:"_blank",rel:"noopener noreferrer",children:"https://www.tbench.ai/registry/terminal-bench-core/0.1.1"}),". Our project, while not a direct contribution to Terminal-Bench, will mimic the style closely."]}),u.jsx("h3",{children:"Submissions Workflow"}),u.jsxs("p",{children:["Submissions will be created through a private GitHub repository: ",u.jsx("code",{children:"https://github.com/snorkel-ai/snorkel-tb-tasks"})]}),u.jsx("p",{children:"Once you receive access to this repository, please do the following:"}),u.jsxs("ol",{children:[u.jsx("li",{children:"Clone the repository"}),u.jsxs("li",{children:["Create a task in your local environment under ",u.jsx("code",{children:"tasks"})," directory"]}),u.jsx("li",{children:"Ensure the oracle solution passes and minimum criteria for difficulty are met"}),u.jsxs("li",{children:["Push a branch (e.g. ",u.jsx("code",{children:"username/<task-id>"}),")"]}),u.jsxs("li",{children:["Create a pull request against the repository and make sure the title starts with ",u.jsx("strong",{children:"Task:"})]}),u.jsx("li",{children:"Iterate on that branch until all CI/Evals pass"})]}),u.jsxs("p",{className:"info-box",children:[u.jsx("strong",{children:"Estimated Time:"})," The submission task is expected to require around 2-5 hours to complete."]}),u.jsx("h3",{children:"Initial Setup (one-time)"}),u.jsxs("ol",{children:[u.jsxs("li",{children:["Install uv",u.jsx("pre",{children:u.jsx("code",{children:"curl -LsSf https://astral.sh/uv/install.sh | sh"})})]}),u.jsxs("li",{children:["Clone the repository",u.jsx("pre",{children:u.jsx("code",{children:"git clone https://github.com/snorkel-ai/snorkel-tb-tasks.git"})})]}),u.jsxs("li",{children:["Navigate to the created local directory",u.jsx("pre",{children:u.jsx("code",{children:"cd snorkel-tb-tasks"})})]})]}),u.jsx("h3",{children:"Creating the File Structure for a New Task"}),u.jsxs("ol",{children:[u.jsx("li",{children:"Download the task skeleton template from the training site"}),u.jsx("li",{children:"Extract and rename the folder to match your task name"}),u.jsx("li",{children:"[Optional] Enter 'y' to receive an overview of Terminal-Bench, or 'n' to skip"}),u.jsxs("li",{children:["Follow the steps given in the terminal to:",u.jsxs("ul",{children:[u.jsx("li",{children:"Provide a unique name for your task"}),u.jsx("li",{children:"Provide the task description/what the task is"}),u.jsx("li",{children:"Indicate whether interactive commands are required (most cases: no)"}),u.jsx("li",{children:"Please skip entering your name and email (we will track this through the app)"}),u.jsx("li",{children:"Enter a category for your task corresponding to one in the Taxonomy"}),u.jsx("li",{children:"Enter 3-6 tags for your task (separated by spaces)"}),u.jsx("li",{children:"Provide an easy/medium/hard rating based on how long it would take an expert to solve"}),u.jsx("li",{children:"Provide a completion time estimate for an expert engineer"}),u.jsx("li",{children:"Provide a completion time estimate for a junior engineer"})]})]})]}),u.jsxs("p",{children:["This will create a new folder in your ",u.jsx("code",{children:"snorkel-tb-tasks/tasks"})," directory, with a name corresponding to the unique name provided. The contents contain all the necessary files needed for task submission (unless you need to add additional data files)."]}),u.jsx("h3",{children:"Completing a Task After Creation"}),u.jsxs("ol",{children:[u.jsxs("li",{children:["Edit the created Dockerfile to set up your task environment",u.jsxs("ul",{children:[u.jsx("li",{children:"Add any dependencies of the task, such as additional required packages"}),u.jsx("li",{children:"If you require a multi-container environment or other custom configuration, see the documentation for customizing your docker-compose.yaml"})]})]}),u.jsxs("li",{children:["Enter your task container in interactive mode",u.jsx("pre",{children:u.jsx("code",{children:"tb tasks interact -t <task-name>"})})]}),u.jsx("li",{children:"While interacting with your task container, test your solution idea to make sure it works as expected"}),u.jsx("li",{children:"Once solution is verified, record it and exit the container"}),u.jsxs("li",{children:["Modify the solution file (solution/solve.sh) with the verified commands",u.jsxs("ul",{children:[u.jsx("li",{children:"This file will be used by the OracleAgent to ensure the task is solvable"}),u.jsx("li",{children:"If you need to run commands that are not possible with a bash script (e.g. vim), use a solution.yaml file"})]})]}),u.jsxs("li",{children:["Update the tests/test_outputs.py file to verify task completion",u.jsxs("ul",{children:[u.jsx("li",{children:"Create pytest unit tests to ensure that the task was completed correctly"}),u.jsx("li",{children:"If tests require any file dependencies, place them in the tests/ directory"})]})]}),u.jsxs("li",{children:["Test your task solution passes and meets all requirements",u.jsx("pre",{children:u.jsx("code",{children:"tb run --agent oracle --task-id <task-name>"})})]}),u.jsx("li",{children:"Push a branch (e.g. my-task-1) to the repository"}),u.jsx("li",{children:"Create a PR to submit your task"})]})]})},{id:"requirements",title:"Task Requirements",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Task Design Requirements"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Frontier Models and Agents:"})," The following combinations are used to evaluate each task (evaluations are repeated 5 times):",u.jsxs("ul",{children:[u.jsx("li",{children:"Codex agent with GPT-5-Codex"}),u.jsx("li",{children:"Claude Code agent with Sonnet 4.5"})]})]}),u.jsxs("div",{className:"checklist",children:[u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"Pass Rate Difficulty:"})," Average pass rate for acceptable task is <80%"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"Multi-Step:"})," Tasks must require chaining multiple commands, handling intermediate states, and some reasoning"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"Testable:"})," Each task must be fully specified with sufficient information for the agent to complete without ambiguity"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"Unique:"})," All tasks must be unique and distinct from all existing Terminal-Bench tasks"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"No Privileged Ops:"})," Tasks must not require root-level privileges or unsafe Docker settings"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"Standalone:"})," Tasks must run to completion without additional user input after start"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"Task Type Distribution:"})," No single type will exceed ~30% of offerings, with at least four types each representing 10%"]}),u.jsxs("div",{className:"checklist-item",children:[u.jsx("strong",{children:"(Optional) Domain Relevance:"})," Tasks should reflect real-world skills for the relevant domain"]})]}),u.jsx("h3",{children:"Submission Checklist"}),u.jsxs("div",{className:"checklist",children:[u.jsx("div",{className:"checklist-item",children:"All behavior checked in the test cases is described in the task instruction"}),u.jsx("div",{className:"checklist-item",children:"All behavior described in the task instruction is checked in the unit tests"}),u.jsx("div",{className:"checklist-item",children:"Test cases have informative docstrings that describe which behavior they check"}),u.jsx("div",{className:"checklist-item",children:"Hard for agent to cheat (e.g. by editing data files or looking inside files for solutions)"}),u.jsx("div",{className:"checklist-item",children:"task.yaml was written by a human"}),u.jsx("div",{className:"checklist-item",children:"solution/solve.sh was written by a human (with minimal LLM help)"}),u.jsx("div",{className:"checklist-item",children:"If agent produces structured data, exact schema is described in task.yaml or separate file"}),u.jsx("div",{className:"checklist-item",children:"External dependencies have pinned versions for reproducibility"}),u.jsx("div",{className:"checklist-item",children:"Ran task using agent with powerful model and analyzed failing runs to confirm task validity"}),u.jsx("div",{className:"checklist-item",children:"Formatted and linted the task (Ruff)"})]})]})},{id:"examples",title:"Example Tasks",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Example Tasks"}),u.jsx("h3",{children:"Example 1: VimGolf Challenge"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Category:"})," games",u.jsx("br",{}),u.jsx("strong",{children:"Difficulty:"})," medium",u.jsx("br",{}),u.jsx("strong",{children:"Tags:"})," games, vim, text-editing"]}),u.jsx("pre",{children:u.jsx("code",{children:`instruction: |-
  You are given a fresh install with python installed.
  First, use pip to install vimgolf.
  Then, read the file "/challenge.txt" to get the challenge id.
  Then, use vimgolf show <CHALLENGE_ID> to get the best scores,
  as well as the start file and end file.
  Then, write the Start File to /start.txt and End File to /end.txt
  Attempt the vimgolf challenge using vimgolf local /start.txt /end.txt,
  and output the string of vim inputs in "/score.txt".
  
  Your primary objective is to solve the problem within the
  minimum score * 1.5 in the leaderboard.`})}),u.jsx("h3",{children:"Example 2: OpenCV Debugging"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Category:"})," computer-vision",u.jsx("br",{}),u.jsx("strong",{children:"Difficulty:"})," medium",u.jsx("br",{}),u.jsx("strong",{children:"Tags:"})," computer-vision, jupyter-notebooks, bugfix"]}),u.jsx("pre",{children:u.jsx("code",{children:`instruction: |-
  A Jupyter notebook at /app/opencv_analysis.ipynb contains
  several OpenCV image processing operations, but it has multiple
  errors preventing it from running successfully.
  Fix all errors in the notebook so that it executes completely
  without errors and produces the expected output image.`})}),u.jsx("h3",{children:"Example 3: Python Bytecode Decompilation"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Category:"})," software-engineering",u.jsx("br",{}),u.jsx("strong",{children:"Difficulty:"})," hard",u.jsx("br",{}),u.jsx("strong",{children:"Tags:"})," software-engineering, python, bytecode, serialization"]}),u.jsx("pre",{children:u.jsx("code",{children:`instruction: |
  Your task is to decompile a Python function in bytecode format,
  compiled in CPython 3.8, and save the function in decompiled.py
  in the same folder as task.yaml.
  The function name should be "func".
  Note that the function is pickled using dill and serialized
  using base64 in the file called func.serialized.`})}),u.jsx("h3",{children:"Example 4: Python Environment Setup"}),u.jsxs("div",{className:"info-box",children:[u.jsx("strong",{children:"Category:"})," system-administration",u.jsx("br",{}),u.jsx("strong",{children:"Difficulty:"})," medium",u.jsx("br",{}),u.jsx("strong",{children:"Tags:"})," environment-setup, python, virtualenv, dependency-management"]}),u.jsx("pre",{children:u.jsx("code",{children:`instruction: |
  Install Python using pyenv, create a virtual environment using
  pyenv/virtualenv called "venv", activate it and install
  numpy 1.26.4 in it.
  You shouldn't get any warning during Python installation.
  Make sure that tkinter is also available in the virtual environment.`})})]})},{id:"ci-quality",title:"CI + Quality Control",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Quality Control"}),u.jsx("h3",{children:"Manual Peer Review"}),u.jsx("p",{children:"Peer reviewers will provide additional expert oversight on oracle correctness, prompt clarity, environment correctness, and tagging. Disagreements are adjudicated by Snorkel's in-house experts."}),u.jsx("h3",{children:"LLMAJ Checks"}),u.jsx("p",{children:"The following automated checks evaluate task quality and correctness:"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Check Name"}),u.jsx("th",{children:"Description"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"behavior_in_task_description"})}),u.jsx("td",{children:"Whether all behavior checked in tests is described in the task"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"behavior_in_tests"})}),u.jsx("td",{children:"Whether all behavior described in task is checked in unit tests"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"informative_test_docstrings"})}),u.jsx("td",{children:"Whether test cases have informative docstrings"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"anti_cheating_measures"})}),u.jsx("td",{children:"Is it hard for the agent to cheat on the task?"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"structured_data_schema"})}),u.jsx("td",{children:"If agent produces structured data, is exact schema described?"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"hardcoded_solution"})}),u.jsx("td",{children:"Solution should demonstrate command sequence, not just output answer"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"file_reference_mentioned"})}),u.jsx("td",{children:"If agent needs to produce a file, is filename mentioned in task.yaml?"})]})]})]}),u.jsx("h3",{children:"CI Checks"}),u.jsx("p",{children:"The following automated checks validate technical requirements:"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Check Name"}),u.jsx("th",{children:"Description"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"pinned_dependencies"})}),u.jsx("td",{children:"Are external dependencies pinned to ensure reproducibility?"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"typos"})}),u.jsx("td",{children:"Check for typos in file and variable names"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"tests_or_solution_in_image"})}),u.jsx("td",{children:"Ensure tests/ folder or solution file not copied to image"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"test_deps_in_image"})}),u.jsx("td",{children:"Test dependencies should be installed in run-tests.sh"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_canary"})}),u.jsx("td",{children:"Checks if canary string is present at top of required files"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_dockerfile_references"})}),u.jsx("td",{children:"Ensure solution/test files not referenced in Dockerfile"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_run-tests_sh"})}),u.jsx("td",{children:"Verifies run-tests.sh uses uv init or has proper task.yaml keywords"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_task_absolute_path"})}),u.jsx("td",{children:"Task instructions use absolute paths rather than relative paths"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_privileged_containers"})}),u.jsx("td",{children:"No privileged containers in docker-compose.yaml"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"ruff"})}),u.jsx("td",{children:"Lint checks"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"check_task_sizes"})}),u.jsx("td",{children:"Every file is under 1MB"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("code",{children:"validate_task_fields"})}),u.jsx("td",{children:"All required fields are present in task.yaml"})]})]})]})]})},{id:"review",title:"Review Guidelines",content:u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Review Guidelines"}),u.jsx("h3",{children:"Steps for Checking Tasks"}),u.jsx("h4",{children:"1. Read the Task Description"}),u.jsxs("div",{className:"checklist",children:[u.jsx("div",{className:"checklist-item",children:"Check that the task description looks like it's written by a person"}),u.jsx("div",{className:"checklist-item",children:"Imagine you're a malicious agent - does the description give extra information that makes cheating easier?"}),u.jsx("div",{className:"checklist-item",children:"Carefully read each requirement and verify there is a corresponding test"})]}),u.jsx("h4",{children:"2. Read the Tests"}),u.jsxs("div",{className:"checklist",children:[u.jsx("div",{className:"checklist-item",children:"Do the tests seem brittle, with many hardcoded strings?"}),u.jsx("div",{className:"checklist-item",children:"Are there hardcoded thresholds? Do these thresholds seem reasonable?"}),u.jsx("div",{className:"checklist-item",children:"Are there any tests that unreasonably assume behavior not mentioned in the description?"})]}),u.jsx("h4",{children:"3. Check Timeouts, Time Estimates, and Difficulty"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Difficulty should be based on effort required by a human"}),u.jsx("li",{children:"Junior estimate is for an L3 at Google, expert is a domain expert"}),u.jsx("li",{children:"Timeout should be high enough that it likely won't be the limiting factor"})]}),u.jsx("h4",{children:"4. On the Task Viewer"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Watch the terminal recording. If the agent fails, is it failing for a good reason?"}),u.jsx("li",{children:"Check the analysis. Are the identified issues real?"}),u.jsx("li",{children:"Read the debug pane, which shows why an agent failed the task"})]}),u.jsx("h3",{children:"Common Errors to Watch For"}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Testing Behavior:"})," It is almost always better to test a behavior by actually running the code or environment the agent writes than trying to statically analyze it."]}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Tool Specifications:"})," Task instructions shouldn't mention specific tools that the agent should use unless there's a way to check if these tools were actually used. For example, don't ask the agent to use vim to write a text file because we can't confirm it was used over sed or emacs."]}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Randomness:"})," Tasks or solutions that involve randomness MUST NOT assume the solution matches that same random order or implementation. Don't depend on particular ",u.jsx("code",{children:"np.random.seed"}),"values."]}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Test Complexity:"})," Test files should be as clear and simple as possible. Long test files are almost always wrong since more tests means more opportunities for error. Similarly, a task should be carefully defined. It's usually a bad sign if a task description is long with many requirements."]}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Data Formats:"})," Be especially paranoid about specifying data formats like API structures, json response schemas, etc. For example, if you're telling the model it needs to output a CSV you'll also need to specify whether it needs a header."]}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"String Matching:"})," Avoid tests that rely on string matching. This is almost always too brittle. For example, checking for a python import by looking for ",u.jsx("code",{children:"import pandas.DataFrame"}),"could fail because the agent could write ",u.jsx("code",{children:"from pandas import DataFrame"}),"."]}),u.jsxs("div",{className:"warning-box",children:[u.jsx("strong",{children:"Anti-Cheating:"})," Think about how agents could cheat. Examples:",u.jsxs("ul",{children:[u.jsx("li",{children:"If an answer is hidden in a program, ensure agents cannot directly get the answer by decompiling it"}),u.jsx("li",{children:"If task requires running programs and reporting behavior, ensure agents can't pass by replacing programs with dummy versions"}),u.jsx("li",{children:"If task exposes test cases, ensure they cannot pass real tests by deleting tests"})]})]})]})}];function VY({stats:e}){const t=[{label:"Total ECs",value:e.totalUsers,icon:"",color:"#667eea"},{label:"Active (7 days)",value:e.activeUsers7d,icon:"",color:"#48bb78"},{label:"Active (30 days)",value:e.activeUsers30d,icon:"",color:"#4299e1"},{label:"Avg Completion",value:`${e.avgCompletion}%`,icon:"",color:"#ed8936"},{label:"New (7 days)",value:e.newUsers7d,icon:"",color:"#9f7aea"}];return u.jsx("div",{className:"overview-stats",children:t.map((r,n)=>u.jsxs("div",{className:"stat-card",style:{borderTopColor:r.color},children:[u.jsx("div",{className:"stat-icon",children:r.icon}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-label",children:r.label}),u.jsx("div",{className:"stat-value",children:r.value})]})]},n))})}function GY({users:e}){const[t,r]=E.useState(""),[n,i]=E.useState("all"),[s,a]=E.useState("created_at"),[o,c]=E.useState("desc"),d=e.filter(g=>{var _,w;const b=((_=g.github_username)==null?void 0:_.toLowerCase().includes(t.toLowerCase()))||((w=g.email)==null?void 0:w.toLowerCase().includes(t.toLowerCase())),x=n==="all"||g.status===n;return b&&x}).sort((g,b)=>{let x=g[s],_=b[s];return s==="completion_percentage"&&(x=parseFloat(x)||0,_=parseFloat(_)||0),o==="asc"?x>_?1:-1:x<_?1:-1}),f=g=>{s===g?c(o==="asc"?"desc":"asc"):(a(g),c("desc"))},p=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=g=>{const b={active:{bg:"#f0fff4",color:"#22543d",border:"#48bb78"},inactive:{bg:"#fffaf0",color:"#744210",border:"#ed8936"},dormant:{bg:"#fff5f5",color:"#742a2a",border:"#f56565"}},x=b[g]||b.dormant;return u.jsx("span",{className:"status-badge",style:{background:x.bg,color:x.color,borderColor:x.border},children:g})};return u.jsxs("div",{className:"user-stats-table",children:[u.jsxs("div",{className:"table-header",children:[u.jsx("h2",{children:"User Progress"}),u.jsxs("div",{className:"table-controls",children:[u.jsx("input",{type:"text",placeholder:"Search by name or email...",value:t,onChange:g=>r(g.target.value),className:"search-input"}),u.jsxs("select",{value:n,onChange:g=>i(g.target.value),className:"filter-select",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"active",children:"Active"}),u.jsx("option",{value:"inactive",children:"Inactive"}),u.jsx("option",{value:"dormant",children:"Dormant"})]})]})]}),u.jsxs("div",{className:"table-scroll",children:[u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsxs("th",{onClick:()=>f("github_username"),children:["Name ",s==="github_username"&&(o==="asc"?"":"")]}),u.jsxs("th",{onClick:()=>f("created_at"),children:["Joined ",s==="created_at"&&(o==="asc"?"":"")]}),u.jsxs("th",{onClick:()=>f("last_active"),children:["Last Active ",s==="last_active"&&(o==="asc"?"":"")]}),u.jsxs("th",{onClick:()=>f("completion_percentage"),children:["Progress ",s==="completion_percentage"&&(o==="asc"?"":"")]}),u.jsxs("th",{onClick:()=>f("status"),children:["Status ",s==="status"&&(o==="asc"?"":"")]})]})}),u.jsx("tbody",{children:d.map(g=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsxs("div",{className:"user-cell",children:[g.github_avatar_url&&u.jsx("img",{src:g.github_avatar_url,alt:g.github_username,className:"user-avatar-small"}),u.jsxs("div",{children:[u.jsx("div",{className:"user-name",children:g.github_username||"Unknown"}),u.jsx("div",{className:"user-email",children:g.email})]})]})}),u.jsx("td",{children:p(g.created_at)}),u.jsx("td",{children:p(g.last_active)}),u.jsx("td",{children:u.jsxs("div",{className:"progress-cell",children:[u.jsx("div",{className:"progress-bar-mini",children:u.jsx("div",{className:"progress-fill-mini",style:{width:`${g.completion_percentage||0}%`}})}),u.jsxs("span",{className:"progress-text",children:[g.completion_percentage||0,"%"]})]})}),u.jsx("td",{children:v(g.status)})]},g.id))})]}),d.length===0&&u.jsx("div",{className:"no-results",children:"No users found matching your criteria"})]}),u.jsxs("div",{className:"table-footer",children:["Showing ",d.length," of ",e.length," users"]})]})}function qR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=qR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=qR(e))&&(n&&(n+=" "),n+=t);return n}var YY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Hx(e){if(typeof e!="string")return!1;var t=YY;return t.includes(e)}var KY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VR(e){if(typeof e!="string")return!1;var t=KY;return t.includes(e)}function GR(e){return typeof e=="string"&&e.startsWith("data-")}function Ns(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VR(n)||GR(n)});return Object.fromEntries(t)}function zx(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ns(t)}return typeof e=="object"&&!Array.isArray(e)?Ns(e):null}function si(e){var t=Object.entries(e).filter(r=>{var[n]=r;return VR(n)||GR(n)||Hx(n)});return Object.fromEntries(t)}var XY=["children","width","height","viewBox","className","style","title","desc"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(null,arguments)}function QY(e,t){if(e==null)return{};var r,n,i=JY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YR=E.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:c,desc:d}=e,f=QY(e,XY),p=s||{width:n,height:i,x:0,y:0},v=It("recharts-surface",a);return E.createElement("svg",Y1({},si(f),{className:v,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),E.createElement("title",null,c),E.createElement("desc",null,d),r)}),ZY=["children","className"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K1.apply(null,arguments)}function eK(e,t){if(e==null)return{};var r,n,i=tK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ja=E.forwardRef((e,t)=>{var{children:r,className:n}=e,i=eK(e,ZY),s=It("recharts-layer",n);return E.createElement("g",K1({className:s},si(i),{ref:t}),r)}),rK=E.createContext(null);function Ct(e){return function(){return e}}const KR=Math.cos,Fp=Math.sin,Di=Math.sqrt,$p=Math.PI,Ym=2*$p,X1=Math.PI,Q1=2*X1,oo=1e-6,nK=Q1-oo;function XR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XR;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class sK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XR:iK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=n-t,d=i-r,f=a-t,p=o-r,v=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>oo)if(!(Math.abs(p*c-d*f)>oo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-a,b=i-o,x=c*c+d*d,_=g*g+b*b,w=Math.sqrt(x),A=Math.sqrt(v),S=s*Math.tan((X1-Math.acos((x+v-_)/(2*w*A)))/2),O=S/A,j=S/w;Math.abs(O-1)>oo&&this._append`L${t+O*f},${r+O*p}`,this._append`A${s},${s},0,0,${+(p*g>f*b)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),d=t+o,f=r+c,p=1^a,v=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>oo||Math.abs(this._y1-f)>oo)&&this._append`L${d},${f}`,n&&(v<0&&(v=v%Q1+Q1),v>nK?this._append`A${n},${n},0,1,${p},${t-o},${r-c}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:v>oo&&this._append`A${n},${n},0,${+(v>=X1)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Wx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new sK(t)}function qx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QR(e){this._context=e}QR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Km(e){return new QR(e)}function JR(e){return e[0]}function ZR(e){return e[1]}function eD(e,t){var r=Ct(!0),n=null,i=Km,s=null,a=Wx(o);e=typeof e=="function"?e:e===void 0?JR:Ct(e),t=typeof t=="function"?t:t===void 0?ZR:Ct(t);function o(c){var d,f=(c=qx(c)).length,p,v=!1,g;for(n==null&&(s=i(g=a())),d=0;d<=f;++d)!(d<f&&r(p=c[d],d,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,d,c),+t(p,d,c));if(g)return s=null,g+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),o):n},o}function Df(e,t,r){var n=null,i=Ct(!0),s=null,a=Km,o=null,c=Wx(d);e=typeof e=="function"?e:e===void 0?JR:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZR:Ct(+r);function d(p){var v,g,b,x=(p=qx(p)).length,_,w=!1,A,S=new Array(x),O=new Array(x);for(s==null&&(o=a(A=c())),v=0;v<=x;++v){if(!(v<x&&i(_=p[v],v,p))===w)if(w=!w)g=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=v-1;b>=g;--b)o.point(S[b],O[b]);o.lineEnd(),o.areaEnd()}w&&(S[v]=+e(_,v,p),O[v]=+t(_,v,p),o.point(n?+n(_,v,p):S[v],r?+r(_,v,p):O[v]))}if(A)return o=null,A+""||null}function f(){return eD().defined(i).curve(a).context(s)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),n=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),d):e},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),d):n},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),r=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),d):t},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,s!=null&&(o=a(s)),d):a},d.context=function(p){return arguments.length?(p==null?s=o=null:o=a(s=p),d):s},d}class tD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aK(e){return new tD(e,!0)}function oK(e){return new tD(e,!1)}const Vx={draw(e,t){const r=Di(t/$p);e.moveTo(r,0),e.arc(0,0,r,0,Ym)}},lK={draw(e,t){const r=Di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rD=Di(1/3),uK=rD*2,cK={draw(e,t){const r=Di(t/uK),n=r*rD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dK={draw(e,t){const r=Di(t),n=-r/2;e.rect(n,n,r,r)}},hK=.8908130915292852,nD=Fp($p/10)/Fp(7*$p/10),fK=Fp(Ym/10)*nD,pK=-KR(Ym/10)*nD,mK={draw(e,t){const r=Di(t*hK),n=fK*r,i=pK*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Ym*s/5,o=KR(a),c=Fp(a);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},fy=Di(3),gK={draw(e,t){const r=-Di(t/(fy*3));e.moveTo(0,r*2),e.lineTo(-fy*r,-r),e.lineTo(fy*r,-r),e.closePath()}},Xn=-.5,Qn=Di(3)/2,J1=1/Di(12),vK=(J1/2+1)*3,yK={draw(e,t){const r=Di(t/vK),n=r/2,i=r*J1,s=n,a=r*J1+r,o=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(o,c),e.lineTo(Xn*n-Qn*i,Qn*n+Xn*i),e.lineTo(Xn*s-Qn*a,Qn*s+Xn*a),e.lineTo(Xn*o-Qn*c,Qn*o+Xn*c),e.lineTo(Xn*n+Qn*i,Xn*i-Qn*n),e.lineTo(Xn*s+Qn*a,Xn*a-Qn*s),e.lineTo(Xn*o+Qn*c,Xn*c-Qn*o),e.closePath()}};function bK(e,t){let r=null,n=Wx(i);e=typeof e=="function"?e:Ct(e||Vx),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Up(){}function Hp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iD(e){this._context=e}iD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _K(e){return new iD(e)}function sD(e){this._context=e}sD.prototype={areaStart:Up,areaEnd:Up,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xK(e){return new sD(e)}function aD(e){this._context=e}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wK(e){return new aD(e)}function oD(e){this._context=e}oD.prototype={areaStart:Up,areaEnd:Up,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function EK(e){return new oD(e)}function QC(e){return e<0?-1:1}function JC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(QC(s)+QC(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function ZC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function py(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function zp(e){this._context=e}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:py(this,this._t0,ZC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,py(this,ZC(this,r=JC(this,e,t)),r);break;default:py(this,this._t0,r=JC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lD(e){this._context=new uD(e)}(lD.prototype=Object.create(zp.prototype)).point=function(e,t){zp.prototype.point.call(this,t,e)};function uD(e){this._context=e}uD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function kK(e){return new zp(e)}function TK(e){return new lD(e)}function cD(e){this._context=e}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=eA(e),i=eA(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eA(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function SK(e){return new cD(e)}function Xm(e,t){this._context=e,this._t=t}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CK(e){return new Xm(e,.5)}function AK(e){return new Xm(e,0)}function NK(e){return new Xm(e,1)}function ql(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,o=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Z1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jK(e,t){return e[t]}function OK(e){const t=[];return t.key=e,t}function PK(){var e=Ct([]),t=Z1,r=ql,n=jK;function i(s){var a=Array.from(e.apply(this,arguments),OK),o,c=a.length,d=-1,f;for(const p of s)for(o=0,++d;o<c;++o)(a[o][d]=[0,+n(p,a[o].key,d,s)]).data=p;for(o=0,f=qx(t(a));o<c;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ct(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Z1:typeof s=="function"?s:Ct(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??ql,i):r},i}function IK(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}ql(e,t)}}function RK(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=e[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}ql(e,t)}}function DK(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,c=0,d=0;o<a;++o){for(var f=e[t[o]],p=f[n][1]||0,v=f[n-1][1]||0,g=(p-v)/2,b=0;b<o;++b){var x=e[t[b]],_=x[n][1]||0,w=x[n-1][1]||0;g+=_-w}c+=p,d+=g*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,ql(e,t)}}var my={},gy={},tA;function LK(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(gy)),gy}var vy={},rA;function dD(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(vy)),vy}var yy={},nA;function Gx(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(yy)),yy}var by={},_y={},iA;function MK(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(_y)),_y}var sA;function Yx(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MK(),r=Gx();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const p=i[o];d?p==="\\"&&o+1<a?(o++,c+=i[o]):p===d?d="":c+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,s.push(c),c=""):c+=p:p==="["?(f=!0,c&&(s.push(c),c="")):p==="."?c&&(s.push(c),c=""):c+=p,o++}return c&&s.push(c),s}e.toPath=n})(by)),by}var aA;function Kx(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),r=dD(),n=Gx(),i=Yx();function s(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?r.isDeepKey(c)?s(o,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=o[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?d:f}}}function a(o,c,d){if(c.length===0)return d;let f=o;for(let p=0;p<c.length;p++){if(f==null||t.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}e.get=s})(my)),my}var xy,oA;function BK(){return oA||(oA=1,xy=Kx().get),xy}var FK=BK();const Vl=ui(FK);var _n=e=>e===0?0:e>0?1:-1,ai=e=>typeof e=="number"&&e!=+e,js=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ze=e=>(typeof e=="number"||e instanceof Number)&&!ai(e),ts=e=>ze(e)||typeof e=="string",$K=0,vd=e=>{var t=++$K;return"".concat(e||"").concat(t)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(t)&&typeof t!="string")return n;var s;if(js(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return ai(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},hD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Qr(e,t,r){return ze(e)&&ze(t)?e+r*(t-e):t}function UK(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Vl(n,t))===r)}var wr=e=>e===null||typeof e>"u",Ud=e=>wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),HK=["type","size","sizeType"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=qK(e,"string");return typeof t=="symbol"?t:t+""}function qK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e,t){if(e==null)return{};var r,n,i=GK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fD={symbolCircle:Vx,symbolCross:lK,symbolDiamond:cK,symbolSquare:dK,symbolStar:mK,symbolTriangle:gK,symbolWye:yK},YK=Math.PI/180,KK=e=>{var t="symbol".concat(Ud(e));return fD[t]||Vx},XK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*YK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QK=(e,t)=>{fD["symbol".concat(Ud(e))]=t},pD=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=VK(e,HK),s=uA(uA({},i),{},{type:t,size:r,sizeType:n}),a="circle";typeof t=="string"&&(a=t);var o=()=>{var v=KK(a),g=bK().type(v).size(XK(r,n,a)),b=g();if(b!==null)return b},{className:c,cx:d,cy:f}=s,p=si(s);return d===+d&&f===+f&&r===+r?E.createElement("path",e_({},p,{className:It("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:o()})):null};pD.registerSymbol=QK;var JK=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Hx(i)&&(n[i]=(s=>r[i](r,s)))}),n},ZK=(e,t,r)=>n=>(e(t,r,n),null),Xx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Hx(i)&&typeof s=="function"&&(n||(n={}),n[i]=ZK(s,t,r))}),n},wy={},Ey={},cA;function eX(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(Ey)),Ey}var ky={},dA;function mD(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ky)),ky}var Ty={},Sy={},Cy={},hA;function tX(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Cy)),Cy}var fA;function Qx(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tX();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Sy)),Sy}var Ay={},pA;function rX(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Ay)),Ay}var mA;function nX(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qx(),r=rX();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Ty)),Ty}var Ny={},jy={},gA;function iX(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx();function r(n){return function(i){return t.get(i,n)}}e.property=r})(jy)),jy}var Oy={},Py={},Iy={},Ry={},vA;function gD(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ry)),Ry}var Dy={},yA;function vD(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Dy)),Dy}var Ly={},bA;function yD(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Ly)),Ly}var _A;function sX(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gD(),r=vD(),n=yD();function i(f,p,v){return typeof v!="function"?i(f,p,()=>{}):s(f,p,function g(b,x,_,w,A,S){const O=v(b,x,_,w,A,S);return O!==void 0?!!O:s(b,x,g,S)},new Map)}function s(f,p,v,g){if(p===f)return!0;switch(typeof p){case"object":return a(f,p,v,g);case"function":return Object.keys(p).length>0?s(f,{...p},v,g):n.eq(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function a(f,p,v,g){if(p==null)return!0;if(Array.isArray(p))return c(f,p,v,g);if(p instanceof Map)return o(f,p,v,g);if(p instanceof Set)return d(f,p,v,g);const b=Object.keys(p);if(f==null)return b.length===0;if(b.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===f;g==null||g.set(p,f);try{for(let x=0;x<b.length;x++){const _=b[x];if(!r.isPrimitive(f)&&!(_ in f)||p[_]===void 0&&f[_]!==void 0||p[_]===null&&f[_]!==null||!v(f[_],p[_],_,f,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function o(f,p,v,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,x]of p.entries()){const _=f.get(b);if(v(_,x,b,f,p,g)===!1)return!1}return!0}function c(f,p,v,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let x=0;x<p.length;x++){const _=p[x];let w=!1;for(let A=0;A<f.length;A++){if(b.has(A))continue;const S=f[A];let O=!1;if(v(S,_,x,f,p,g)&&(O=!0),O){b.add(A),w=!0;break}}if(!w)return!1}return!0}function d(f,p,v,g){return p.size===0?!0:f instanceof Set?c([...f],[...p],v,g):!1}e.isMatchWith=i,e.isSetMatch=d})(Iy)),Iy}var xA;function bD(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sX();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Py)),Py}var My={},By={},Fy={},wA;function aX(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Fy)),Fy}var $y={},EA;function _D(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})($y)),$y}var Uy={},kA;function xD(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",v="[object ArrayBuffer]",g="[object Object]",b="[object Error]",x="[object DataView]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",O="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",D="[object BigInt64Array]",$="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=b,e.float32ArrayTag=$,e.float64ArrayTag=I,e.functionTag=p,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=A,e.uint32ArrayTag=S,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=w})(Uy)),Uy}var Hy={},TA;function oX(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Hy)),Hy}var SA;function wD(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX(),r=_D(),n=xD(),i=vD(),s=oX();function a(f,p){return o(f,void 0,f,new Map,p)}function o(f,p,v,g=new Map,b=void 0){const x=b==null?void 0:b(f,p,v,g);if(x!==void 0)return x;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const _=new Array(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=o(f[w],w,v,g,b);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;g.set(f,_);for(const[w,A]of f)_.set(w,o(A,w,v,g,b));return _}if(f instanceof Set){const _=new Set;g.set(f,_);for(const w of f)_.add(o(w,void 0,v,g,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=o(f[w],w,v,g,b);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,_),c(_,f,v,g,b),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return g.set(f,_),c(_,f,v,g,b),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return g.set(f,_),c(_,f,v,g,b),_}if(f instanceof Error){const _=new f.constructor;return g.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,v,g,b),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return g.set(f,_),c(_,f,v,g,b),_}if(f instanceof Number){const _=new Number(f.valueOf());return g.set(f,_),c(_,f,v,g,b),_}if(f instanceof String){const _=new String(f.valueOf());return g.set(f,_),c(_,f,v,g,b),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return g.set(f,_),c(_,f,v,g,b),_}return f}function c(f,p,v=f,g,b){const x=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<x.length;_++){const w=x[_],A=Object.getOwnPropertyDescriptor(f,w);(A==null||A.writable)&&(f[w]=o(p[w],w,v,g,b))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=c})(By)),By}var CA;function lX(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(My)),My}var AA;function uX(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD(),r=lX();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(Oy)),Oy}var zy={},Wy={},qy={},NA;function cX(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD(),r=xD();function n(i,s){return t.cloneDeepWith(i,(a,o,c,d)=>{const f=s==null?void 0:s(a,o,c,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(qy)),qy}var jA;function dX(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cX();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Wy)),Wy}var Vy={},Gy={},OA;function ED(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Gy)),Gy}var Yy={},PA;function hX(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_D();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Yy)),Yy}var IA;function fX(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dD(),r=ED(),n=hX(),i=Yx();function s(a,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=s})(Vy)),Vy}var RA;function pX(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bD(),r=Gx(),n=dX(),i=Kx(),s=fX();function a(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(d){const f=i.get(d,o);return f===void 0?s.has(d,o):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=a})(zy)),zy}var DA;function mX(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mD(),r=iX(),n=uX(),i=pX();function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(Ny)),Ny}var LA;function gX(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eX(),r=mD(),n=nX(),i=mX();function s(a,o=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(wy)),wy}var Ky,MA;function vX(){return MA||(MA=1,Ky=gX().uniqBy),Ky}var yX=vX();const BA=ui(yX);function bX(e,t,r){return t===!0?BA(e,r):typeof t=="function"?BA(e,t):e}var Xy={exports:{}},Qy={},Jy={exports:{}},Zy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function _X(){if(FA)return Zy;FA=1;var e=ru();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(p,v){var g=v(),b=n({inst:{value:g,getSnapshot:v}}),x=b[0].inst,_=b[1];return s(function(){x.value=g,x.getSnapshot=v,c(x)&&_({inst:x})},[p,g,v]),i(function(){return c(x)&&_({inst:x}),p(function(){c(x)&&_({inst:x})})},[p]),a(g),g}function c(p){var v=p.getSnapshot;p=p.value;try{var g=v();return!r(p,g)}catch{return!0}}function d(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return Zy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Zy}var $A;function xX(){return $A||($A=1,Jy.exports=_X()),Jy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function wX(){if(UA)return Qy;UA=1;var e=ru(),t=xX();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Qy.useSyncExternalStoreWithSelector=function(d,f,p,v,g){var b=s(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=o(function(){function w(N){if(!A){if(A=!0,S=N,N=v(N),g!==void 0&&x.hasValue){var P=x.value;if(g(P,N))return O=P}return O=N}if(P=O,n(S,N))return P;var D=v(N);return g!==void 0&&g(P,D)?(S=N,P):(S=N,O=D)}var A=!1,S,O,j=p===void 0?null:p;return[function(){return w(f())},j===null?void 0:function(){return w(j())}]},[f,p,v,g]);var _=i(d,b[0],b[1]);return a(function(){x.hasValue=!0,x.value=_},[_]),c(_),_},Qy}var HA;function EX(){return HA||(HA=1,Xy.exports=wX()),Xy.exports}var kX=EX(),Jx=E.createContext(null),TX=e=>e,ur=()=>{var e=E.useContext(Jx);return e?e.store.dispatch:TX},op=()=>{},SX=()=>op,CX=(e,t)=>e===t;function Ve(e){var t=E.useContext(Jx);return kX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SX,t?t.store.getState:op,t?t.store.getState:op,t?e:op,CX)}function AX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function NX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function jX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var zA=e=>Array.isArray(e)?e:[e];function OX(e){const t=Array.isArray(e[0])?e[0]:e;return jX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function PX(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var IX=class{constructor(e){this.value=e}deref(){return this.value}},RX=typeof WeakRef<"u"?WeakRef:IX,DX=0,WA=1;function Lf(){return{s:DX,v:void 0,o:null,p:null}}function kD(e,t={}){let r=Lf();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var p;let o=r;const{length:c}=arguments;for(let v=0,g=c;v<g;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const _=x.get(b);_===void 0?(o=Lf(),x.set(b,o)):o=_}else{let x=o.p;x===null&&(o.p=x=new Map);const _=x.get(b);_===void 0?(o=Lf(),x.set(b,o)):o=_}}const d=o;let f;if(o.s===WA)f=o.v;else if(f=e.apply(null,arguments),s++,n){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&n(v,f)&&(f=v,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new RX(f):f}return d.s=WA,d.v=f,f}return a.clearCache=()=>{r=Lf(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function LX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,o,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),AX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:g=kD,argsMemoizeOptions:b=[]}=f,x=zA(v),_=zA(b),w=OX(i),A=p(function(){return s++,d.apply(null,arguments)},...x),S=g(function(){a++;const j=PX(w,arguments);return o=A.apply(null,j),o},..._);return Object.assign(S,{resultFunc:d,memoizedResultFunc:A,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var oe=LX(kD),MX=Object.assign((e,t=oe)=>{NX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,o,c)=>(a[r[c]]=o,a),{}))},{withTypes:()=>MX}),eb={},tb={},rb={},qA;function BX(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),o=t(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=r})(rb)),rb}var nb={},ib={},VA;function TD(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ib)),ib}var GA;function FX(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TD(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(nb)),nb}var YA;function $X(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BX(),r=FX(),n=Yx();function i(s,a,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const d=(g,b)=>{let x=g;for(let _=0;_<b.length&&x!=null;++_)x=x[b[_]];return x},f=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:d(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?d(b,g):typeof b=="object"?b[g]:b,p=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:p.map(b=>f(b,g))})).slice().sort((g,b)=>{for(let x=0;x<p.length;x++){const _=t.compareValues(g.criteria[x],b.criteria[x],o[x]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=i})(tb)),tb}var sb={},KA;function UX(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(o,c)=>{for(let d=0;d<o.length;d++){const f=o[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(r,0),i}e.flatten=t})(sb)),sb}var ab={},XA;function SD(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED(),r=Qx(),n=gD(),i=yD();function s(a,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],a):!1}e.isIterateeCall=s})(ab)),ab}var QA;function HX(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$X(),r=UX(),n=SD();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(eb)),eb}var ob,JA;function zX(){return JA||(JA=1,ob=HX().sortBy),ob}var WX=zX();const Qm=ui(WX);var CD=e=>e.legend.settings,qX=e=>e.legend.size,VX=e=>e.legend.payload;oe([VX,CD],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Qm(n,r):n});var Mf=1;function GX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=E.useState({height:0,left:0,top:0,width:0}),n=E.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Mf||Math.abs(a.left-t.left)>Mf||Math.abs(a.top-t.top)>Mf||Math.abs(a.width-t.width)>Mf)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Cr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YX=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZA=YX,lb=()=>Math.random().toString(36).substring(7).split("").join("."),KX={INIT:`@@redux/INIT${lb()}`,REPLACE:`@@redux/REPLACE${lb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lb()}`},Wp=KX;function Zx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AD(e,t,r){if(typeof e!="function")throw new Error(Cr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Cr(1));return r(AD)(e,t)}let n=e,i=t,s=new Map,a=s,o=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((_,w)=>{a.set(w,_)}))}function f(){if(c)throw new Error(Cr(3));return i}function p(_){if(typeof _!="function")throw new Error(Cr(4));if(c)throw new Error(Cr(5));let w=!0;d();const A=o++;return a.set(A,_),function(){if(w){if(c)throw new Error(Cr(6));w=!1,d(),a.delete(A),s=null}}}function v(_){if(!Zx(_))throw new Error(Cr(7));if(typeof _.type>"u")throw new Error(Cr(8));if(typeof _.type!="string")throw new Error(Cr(17));if(c)throw new Error(Cr(9));try{c=!0,i=n(i,_)}finally{c=!1}return(s=a).forEach(A=>{A()}),_}function g(_){if(typeof _!="function")throw new Error(Cr(10));n=_,v({type:Wp.REPLACE})}function b(){const _=p;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Cr(11));function A(){const O=w;O.next&&O.next(f())}return A(),{unsubscribe:_(A)}},[ZA](){return this}}}return v({type:Wp.INIT}),{dispatch:v,subscribe:p,getState:f,replaceReducer:g,[ZA]:b}}function XX(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wp.INIT})>"u")throw new Error(Cr(12));if(typeof r(void 0,{type:Wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function ND(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{XX(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let c=!1;const d={};for(let f=0;f<n.length;f++){const p=n[f],v=r[p],g=a[p],b=v(g,o);if(typeof b>"u")throw o&&o.type,new Error(Cr(14));d[p]=b,c=c||b!==g}return c=c||n.length!==Object.keys(a).length,c?d:a}}function qp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function QX(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Cr(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},o=e.map(c=>c(a));return s=qp(...o)(i.dispatch),{...i,dispatch:s}}}function jD(e){return Zx(e)&&"type"in e&&typeof e.type=="string"}var OD=Symbol.for("immer-nothing"),eN=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function Ci(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yd=Object.getPrototypeOf;function Ao(e){return!!e&&!!e[$n]}function Os(e){var t;return e?PD(e)||Array.isArray(e)||!!e[eN]||!!((t=e.constructor)!=null&&t[eN])||Hd(e)||Zm(e):!1}var JX=Object.prototype.constructor.toString(),tN=new WeakMap;function PD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=tN.get(r);return n===void 0&&(n=Function.toString.call(r),tN.set(r,n)),n===JX}function Vp(e,t,r=!0){Jm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Jm(e){const t=e[$n];return t?t.type_:Array.isArray(e)?1:Hd(e)?2:Zm(e)?3:0}function t_(e,t){return Jm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ID(e,t,r){const n=Jm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hd(e){return e instanceof Map}function Zm(e){return e instanceof Set}function lo(e){return e.copy_||e.base_}function r_(e,t){if(Hd(e))return new Map(e);if(Zm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=PD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$n];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(yd(e),n)}else{const n=yd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function ew(e,t=!1){return eg(e)||Ao(e)||!Os(e)||(Jm(e)>1&&Object.defineProperties(e,{set:Bf,add:Bf,clear:Bf,delete:Bf}),Object.freeze(e),t&&Object.values(e).forEach(r=>ew(r,!0))),e}function eQ(){Ci(2)}var Bf={value:eQ};function eg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var tQ={};function No(e){const t=tQ[e];return t||Ci(0,e),t}var bd;function RD(){return bd}function rQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rN(e,t){t&&(No("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function n_(e){i_(e),e.drafts_.forEach(nQ),e.drafts_=null}function i_(e){e===bd&&(bd=e.parent_)}function nN(e){return bd=rQ(bd,e)}function nQ(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$n].modified_&&(n_(t),Ci(4)),Os(e)&&(e=Gp(t,e),t.parent_||Yp(t,e)),t.patches_&&No("Patches").generateReplacementPatches_(r[$n].base_,e,t.patches_,t.inversePatches_)):e=Gp(t,r,[]),n_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OD?e:void 0}function Gp(e,t,r){if(eg(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[$n];if(!i)return Vp(t,(s,a)=>sN(e,i,t,s,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Yp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),Vp(a,(c,d)=>sN(e,i,s,c,d,r,o),n),Yp(e,s,!1),r&&e.patches_&&No("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sN(e,t,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=eg(i);if(!(o&&!a)){if(Ao(i)){const c=s&&t&&t.type_!==3&&!t_(t.assigned_,n)?s.concat(n):void 0,d=Gp(e,i,c);if(ID(r,n,d),Ao(d))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Os(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Gp(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Hd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Yp(e,i)}}}function Yp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ew(t,r)}function iQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:RD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=tw;r&&(i=[n],s=_d);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var tw={get(e,t){if(t===$n)return e;const r=lo(e);if(!t_(r,t))return sQ(e,r,t);const n=r[t];return e.finalized_||!Os(n)?n:n===ub(e.base_,t)?(cb(e),e.copy_[t]=a_(n,e)):n},has(e,t){return t in lo(e)},ownKeys(e){return Reflect.ownKeys(lo(e))},set(e,t,r){const n=DD(lo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ub(lo(e),t),s=i==null?void 0:i[$n];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZX(r,i)&&(r!==void 0||t_(e.base_,t)))return!0;cb(e),s_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ub(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cb(e),s_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ci(11)},getPrototypeOf(e){return yd(e.base_)},setPrototypeOf(){Ci(12)}},_d={};Vp(tw,(e,t)=>{_d[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_d.deleteProperty=function(e,t){return _d.set.call(this,e,t,void 0)};_d.set=function(e,t,r){return tw.set.call(this,e[0],t,r,e[0])};function ub(e,t){const r=e[$n];return(r?lo(r):e)[t]}function sQ(e,t,r){var i;const n=DD(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function DD(e,t){if(!(t in e))return;let r=yd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yd(r)}}function s_(e){e.modified_||(e.modified_=!0,e.parent_&&s_(e.parent_))}function cb(e){e.copy_||(e.copy_=r_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var aQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...d){return a.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&Ci(6),n!==void 0&&typeof n!="function"&&Ci(7);let i;if(Os(t)){const s=nN(this),a=a_(t,void 0);let o=!0;try{i=r(a),o=!1}finally{o?n_(s):i_(s)}return rN(s,n),iN(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===OD&&(i=void 0),this.autoFreeze_&&ew(i,!0),n){const s=[],a=[];No("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else Ci(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,c=>t(c,...o));let n,i;return[this.produce(t,r,(a,o)=>{n=a,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Os(e)||Ci(8),Ao(e)&&(e=Ss(e));const t=nN(this),r=a_(e,void 0);return r[$n].isManual_=!0,i_(t),r}finishDraft(e,t){const r=e&&e[$n];(!r||!r.isManual_)&&Ci(9);const{scope_:n}=r;return rN(n,t),iN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=No("Patches").applyPatches_;return Ao(e)?n(e,t):this.produce(e,i=>n(i,t))}};function a_(e,t){const r=Hd(e)?No("MapSet").proxyMap_(e,t):Zm(e)?No("MapSet").proxySet_(e,t):iQ(e,t);return(t?t.scope_:RD()).drafts_.push(r),r}function Ss(e){return Ao(e)||Ci(10,e),LD(e)}function LD(e){if(!Os(e)||eg(e))return e;const t=e[$n];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=r_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=r_(e,!0);return Vp(r,(i,s)=>{ID(r,i,LD(s))},n),t&&(t.finalized_=!1),r}var o_=new aQ,MD=o_.produce,oQ=o_.setUseStrictIteration.bind(o_);function BD(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var lQ=BD(),uQ=BD,cQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qp:qp.apply(null,arguments)};function oi(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>jD(n)&&n.type===e,r}var FD=class Hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hc.prototype)}static get[Symbol.species](){return Hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hc(...t[0].concat(this)):new Hc(...t.concat(this))}};function aN(e){return Os(e)?MD(e,()=>{}):e}function Ff(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function dQ(e){return typeof e=="boolean"}var hQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new FD;return r&&(dQ(r)?a.push(lQ):a.push(uQ(r.extraArgument))),a},$D="RTK_autoBatch",Jr=()=>e=>({payload:e,meta:{[$D]:!0}}),oN=e=>t=>{setTimeout(t,e)},UD=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oN(10):e.type==="callback"?e.queueNotification:oN(e.timeout),d=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),v=n.subscribe(p);return o.add(f),()=>{v(),o.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[$D]),s=!i,s&&(a||(a=!0,c(d))),n.dispatch(f)}finally{i=!0}}})},fQ=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new FD(e);return n&&i.push(UD(typeof n=="object"?n:void 0)),i};function pQ(e){const t=hQ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Zx(r))o=ND(r);else throw new Error(Fn(1));let c;typeof n=="function"?c=n(t):c=t();let d=qp;i&&(d=cQ({trace:!1,...typeof i=="object"&&i}));const f=QX(...c),p=fQ(f);let v=typeof a=="function"?a(p):p();const g=d(...v);return AD(o,s,g)}function HD(e){const t={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Fn(28));if(o in t)throw new Error(Fn(29));return t[o]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}oQ(!1);function mQ(e){return typeof e=="function"}function gQ(e,t){let[r,n,i]=HD(t),s;if(mQ(e))s=()=>aN(e());else{const o=aN(e);s=()=>o}function a(o=s(),c){let d=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Ao(f)){const g=p(f,c);return g===void 0?f:g}else{if(Os(f))return MD(f,v=>p(v,c));{const v=p(f,c);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},o)}return a.getInitialState=s,a}var vQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yQ=(e=21)=>{let t="",r=e;for(;r--;)t+=vQ[Math.random()*64|0];return t},bQ=Symbol.for("rtk-slice-createasyncthunk");function _Q(e,t){return`${e}/${t}`}function xQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[bQ];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Fn(11));const o=(typeof i.reducers=="function"?i.reducers(EQ()):i.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,j){const N=typeof O=="string"?O:O.type;if(!N)throw new Error(Fn(12));if(N in d.sliceCaseReducersByType)throw new Error(Fn(13));return d.sliceCaseReducersByType[N]=j,f},addMatcher(O,j){return d.sliceMatchers.push({matcher:O,reducer:j}),f},exposeAction(O,j){return d.actionCreators[O]=j,f},exposeCaseReducer(O,j){return d.sliceCaseReducersByName[O]=j,f}};c.forEach(O=>{const j=o[O],N={reducerName:O,type:_Q(s,O),createNotation:typeof i.reducers=="function"};TQ(j)?CQ(N,j,f,t):kQ(N,j,f)});function p(){const[O={},j=[],N=void 0]=typeof i.extraReducers=="function"?HD(i.extraReducers):[i.extraReducers],P={...O,...d.sliceCaseReducersByType};return gQ(i.initialState,D=>{for(let $ in P)D.addCase($,P[$]);for(let $ of d.sliceMatchers)D.addMatcher($.matcher,$.reducer);for(let $ of j)D.addMatcher($.matcher,$.reducer);N&&D.addDefaultCase(N)})}const v=O=>O,g=new Map,b=new WeakMap;let x;function _(O,j){return x||(x=p()),x(O,j)}function w(){return x||(x=p()),x.getInitialState()}function A(O,j=!1){function N(D){let $=D[O];return typeof $>"u"&&j&&($=Ff(b,N,w)),$}function P(D=v){const $=Ff(g,j,()=>new WeakMap);return Ff($,D,()=>{const I={};for(const[M,H]of Object.entries(i.selectors??{}))I[M]=wQ(H,D,()=>Ff(b,D,w),j);return I})}return{reducerPath:O,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const S={name:s,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...A(a),injectInto(O,{reducerPath:j,...N}={}){const P=j??a;return O.inject({reducerPath:P,reducer:_},N),{...S,...A(P,!0)}}};return S}}function wQ(e,t,r,n){function i(s,...a){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...a)}return i.unwrapped=e,i}var Un=xQ();function EQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function kQ({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!SQ(n))throw new Error(Fn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?oi(e,a):oi(e))}function TQ(e){return e._reducerDefinitionType==="asyncThunk"}function SQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function CQ({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Fn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:c,settled:d,options:f}=r,p=i(e,s,f);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),o&&n.addCase(p.pending,o),c&&n.addCase(p.rejected,c),d&&n.addMatcher(p.settled,d),n.exposeCaseReducer(t,{fulfilled:a||$f,pending:o||$f,rejected:c||$f,settled:d||$f})}function $f(){}var AQ="task",zD="listener",WD="completed",rw="cancelled",NQ=`task-${rw}`,jQ=`task-${WD}`,l_=`${zD}-${rw}`,OQ=`${zD}-${WD}`,tg=class{constructor(e){gv(this,"name","TaskAbortError");gv(this,"message");this.code=e,this.message=`${AQ} ${rw} (reason: ${e})`}},nw=(e,t)=>{if(typeof e!="function")throw new TypeError(Fn(32))},Kp=()=>{},qD=(e,t=Kp)=>(e.catch(t),e),VD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},_o=e=>{if(e.aborted){const{reason:t}=e;throw new tg(t)}};function GD(e,t){let r=Kp;return new Promise((n,i)=>{const s=()=>i(new tg(e.reason));if(e.aborted){s();return}r=VD(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Kp})}var PQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof tg?"cancelled":"rejected",error:r}}finally{t==null||t()}},Xp=e=>t=>qD(GD(e,t).then(r=>(_o(e),r))),YD=e=>{const t=Xp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ml}=Object,lN={},rg="listenerMiddleware",IQ=(e,t)=>{const r=n=>VD(e,()=>bo(n,e.reason));return(n,i)=>{nw(n);const s=new AbortController;r(s);const a=PQ(async()=>{_o(e),_o(s.signal);const o=await n({pause:Xp(s.signal),delay:YD(s.signal),signal:s.signal});return _o(s.signal),o},()=>bo(s,jQ));return i!=null&&i.autoJoin&&t.push(a.catch(Kp)),{result:Xp(e)(a),cancel(){bo(s,NQ)}}}},RQ=(e,t)=>{const r=async(n,i)=>{_o(t);let s=()=>{};const o=[new Promise((c,d)=>{let f=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await GD(t,Promise.race(o));return _o(t),c}finally{s()}};return(n,i)=>qD(r(n,i))},KD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=oi(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Fn(21));return nw(s),{predicate:i,type:t,effect:s}},XD=Ml(e=>{const{type:t,predicate:r,effect:n}=KD(e);return{id:yQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Fn(22))}}},{withTypes:()=>XD}),uN=(e,t)=>{const{type:r,effect:n,predicate:i}=KD(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},u_=e=>{e.pending.forEach(t=>{bo(t,l_)})},DQ=(e,t)=>()=>{for(const r of t.keys())u_(r);e.clear()},cN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},QD=Ml(oi(`${rg}/add`),{withTypes:()=>QD}),LQ=oi(`${rg}/removeAll`),JD=Ml(oi(`${rg}/remove`),{withTypes:()=>JD}),MQ=(...e)=>{console.error(`${rg}/error`,...e)},zd=(e={})=>{const t=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},i=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:s,onError:a=MQ}=e;nw(a);const o=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),b=>{g.unsubscribe(),b!=null&&b.cancelActive&&u_(g)}),c=g=>{const b=uN(t,g)??XD(g);return o(b)};Ml(c,{withTypes:()=>c});const d=g=>{const b=uN(t,g);return b&&(b.unsubscribe(),g.cancelActive&&u_(b)),!!b};Ml(d,{withTypes:()=>d});const f=async(g,b,x,_)=>{const w=new AbortController,A=RQ(c,w.signal),S=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(b,Ml({},x,{getOriginalState:_,condition:(O,j)=>A(O,j).then(Boolean),take:A,delay:YD(w.signal),pause:Xp(w.signal),extra:s,signal:w.signal,fork:IQ(w.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,j,N)=>{O!==w&&(bo(O,l_),N.delete(O))})},cancel:()=>{bo(w,l_),g.pending.delete(w)},throwIfCancelled:()=>{_o(w.signal)}})))}catch(O){O instanceof tg||cN(a,O,{raisedBy:"effect"})}finally{await Promise.all(S),bo(w,OQ),i(g),g.pending.delete(w)}},p=DQ(t,r);return{middleware:g=>b=>x=>{if(!jD(x))return b(x);if(QD.match(x))return c(x.payload);if(LQ.match(x)){p();return}if(JD.match(x))return d(x.payload);let _=g.getState();const w=()=>{if(_===lN)throw new Error(Fn(23));return _};let A;try{if(A=b(x),t.size>0){const S=g.getState(),O=Array.from(t.values());for(const j of O){let N=!1;try{N=j.predicate(x,S,_)}catch(P){N=!1,cN(a,P,{raisedBy:"predicate"})}N&&f(j,x,g,w)}}}finally{_=lN}return A},startListening:c,stopListening:d,clearListeners:p}};function Fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var BQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ZD=Un({name:"chartLayout",initialState:BQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:FQ,setLayout:$Q,setChartSize:UQ,setScale:HQ}=ZD.actions,zQ=ZD.reducer;function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){WQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qp=Math.PI/180,GQ=e=>e*180/Math.PI,Or=(e,t,r,n)=>({x:e+Math.cos(-Qp*n)*r,y:t+Math.sin(-Qp*n)*r}),YQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KQ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},XQ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=KQ({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,c=Math.acos(o);return n>s&&(c=2*Math.PI-c),{radius:a,angle:GQ(c),angleInRadian:c}},QQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},JQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},ZQ=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=XQ({x:r,y:n},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:c,endAngle:d}=QQ(t),f=s,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?hN(hN({},t),{},{radius:i,angle:JQ(f,t)}):null};function eL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t,r){return wr(e)||wr(t)?r:ts(t)?Vl(e,t,r):typeof t=="function"?t(e):r}var nJ=(e,t,r,n,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,f=r[c].coordinate,p=c>=o-1?r[0].coordinate:r[c+1].coordinate,v=void 0;if(_n(f-d)!==_n(p-f)){var g=[];if(_n(p-f)===_n(i[1]-i[0])){v=p;var b=f+i[1]-i[0];g[0]=Math.min(b,(b+d)/2),g[1]=Math.max(b,(b+d)/2)}else{v=d;var x=p+i[1]-i[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){({index:a}=r[c]);break}}else{var w=Math.min(d,p),A=Math.max(d,p);if(e>(w+f)/2&&e<=(A+f)/2){({index:a}=r[c]);break}}}else if(t){for(var S=0;S<o;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===o-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:a}=t[S]);break}}return a},iJ=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&ze(e[s]))return ei(ei({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&ze(e[a]))return ei(ei({},e),{},{[a]:e[a]+(i||0)})}return e},Do=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",tL=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(r),a},rL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:v,axisType:g}=e;if(!a)return null;var b=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(x=g==="angleAxis"&&s&&s.length>=2?_n(s[0]-s[1])*2*x:x,p||v){var _=(p||v||[]).map((w,A)=>{var S=n?n.indexOf(w):w;return{coordinate:a(S)+x,value:w,offset:x,index:A}});return _.filter(w=>!ai(w.coordinate))}return c&&d?d.map((w,A)=>({coordinate:a(w)+x,value:w,index:A,offset:x})):a.ticks&&f!=null?a.ticks(f).map((w,A)=>({coordinate:a(w)+x,value:w,offset:x,index:A})):a.domain().map((w,A)=>({coordinate:a(w)+x,value:n?n[w]:w,index:A,offset:x}))},pN=1e-4,sJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-pN,s=Math.max(n[0],n[1])+pN,a=e(t[0]),o=e(t[r-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[r-1]])}},aJ=(e,t)=>{if(!t||t.length!==2||!ze(t[0])||!ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ze(e[0])||e[0]<r)&&(i[0]=r),(!ze(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},oJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var o=ai(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1])}},lJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=ai(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},uJ={sign:oJ,expand:IK,none:ql,silhouette:RK,wiggle:DK,positive:lJ},cJ=(e,t,r)=>{var n=uJ[r],i=PK().keys(t).value((s,a)=>+rn(s,a,0)).order(Z1).offset(n);return i(e)};function dJ(e){return e==null?void 0:String(e)}var mN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var o=rn(s,t.dataKey,t.scale.domain()[a]);return wr(o)?null:t.scale(o)-i/2+n},hJ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},fJ=e=>{var t=e.flat(2).filter(ze);return[Math.min(...t),Math.max(...t)]},pJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],mJ=(e,t,r)=>{if(e!=null)return pJ(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((c,d)=>{var f=eL(d,t,r),p=fJ(f);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},gN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iw=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Qm(t,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var c=i[a],d=i[a-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function yN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return ei(ei({},t),{},{dataKey:r,payload:n,value:i,name:s})}function nL(e,t){if(e)return String(e);if(typeof t=="string")return t}function gJ(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?ZQ({x:e,y:t},n):null}var vJ=(e,t,r,n)=>{var i=t.find(d=>d&&d.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return ei(ei(ei({},n),Or(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:c}=n;return ei(ei(ei({},n),Or(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},yJ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ms=e=>e.layout.width,Bs=e=>e.layout.height,bJ=e=>e.layout.scale,iL=e=>e.layout.margin,ng=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ig=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),_J="data-recharts-item-index",xJ="data-recharts-item-data-key",Wd=60;function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TJ=e=>e.brush.height;function SJ(e){var t=ig(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Wd;return r+i}return r},0)}function CJ(e){var t=ig(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Wd;return r+i}return r},0)}function AJ(e){var t=ng(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function NJ(e){var t=ng(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Er=oe([Ms,Bs,iL,TJ,SJ,CJ,AJ,NJ,CD,qX],(e,t,r,n,i,s,a,o,c,d)=>{var f={left:(r.left||0)+i,right:(r.right||0)+s},p={top:(r.top||0)+a,bottom:(r.bottom||0)+o},v=Uf(Uf({},p),f),g=v.bottom;v.bottom+=n,v=iJ(v,c,d);var b=e-v.left-v.right,x=t-v.top-v.bottom;return Uf(Uf({brushBottom:g},v),{},{width:Math.max(b,0),height:Math.max(x,0)})}),jJ=oe(Er,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sw=oe(Ms,Bs,(e,t)=>({x:0,y:0,width:e,height:t})),OJ=E.createContext(null),Hn=()=>E.useContext(OJ)!=null,sg=e=>e.brush,ag=oe([sg,Er,iL],(e,t,r)=>({height:e.height,x:ze(e.x)?e.x:t.left,y:ze(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ze(e.width)?e.width:t.width})),db={},hb={},fb={},_N;function PJ(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,o=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},p=()=>{d&&f(),x()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},b=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{b(),a=void 0,o=null},_=()=>{f()},w=function(...A){if(i!=null&&i.aborted)return;a=this,o=A;const S=v==null;g(),c&&S&&f()};return w.schedule=g,w.cancel=x,w.flush=_,i==null||i.addEventListener("abort",x,{once:!0}),w}e.debounce=t})(fb)),fb}var xN;function IJ(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PJ();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),o&&(d[1]="trailing");let f,p=null;const v=t.debounce(function(...x){f=n.apply(this,x),p=null},i,{edges:d}),g=function(...x){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=n.apply(this,x),p=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,x),f)},b=()=>(v.flush(),f);return g.cancel=v.cancel,g.flush=b,g}e.debounce=r})(hb)),hb}var wN;function RJ(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IJ();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:o})}e.throttle=r})(db)),db}var pb,EN;function DJ(){return EN||(EN=1,pb=RJ().throttle),pb}var LJ=DJ();const MJ=ui(LJ);var Jp=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},sL=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=js(n)?e:Number(n),c=js(i)?t:Number(i);return s&&s>0&&(o?c=o/s:c&&(o=c*s),a&&c>a&&(c=a)),{calculatedWidth:o,calculatedHeight:c}},BJ={width:0,height:0,overflow:"visible"},FJ={width:0,overflowX:"visible"},$J={height:0,overflowY:"visible"},UJ={},HJ=e=>{var{width:t,height:r}=e,n=js(t),i=js(r);return n&&i?BJ:n?FJ:i?$J:UJ};function zJ(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function Wr(e){return Number.isFinite(e)}function Gl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c_.apply(null,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aL=E.createContext({width:-1,height:-1});function oL(e){var{children:t,width:r,height:n}=e,i=E.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:E.createElement(aL.Provider,{value:i},t)}var aw=()=>E.useContext(aL),GJ=E.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:c,children:d,debounce:f=0,id:p,className:v,onResize:g,style:b={}}=e,x=E.useRef(null),_=E.useRef();_.current=g,E.useImperativeHandle(t,()=>x.current);var[w,A]=E.useState({containerWidth:n.width,containerHeight:n.height}),S=E.useCallback((D,$)=>{A(I=>{var M=Math.round(D),H=Math.round($);return I.containerWidth===M&&I.containerHeight===H?I:{containerWidth:M,containerHeight:H}})},[]);E.useEffect(()=>{var D=H=>{var q,{width:G,height:K}=H[0].contentRect;S(G,K),(q=_.current)===null||q===void 0||q.call(_,G,K)};f>0&&(D=MJ(D,f,{trailing:!0,leading:!1}));var $=new ResizeObserver(D),{width:I,height:M}=x.current.getBoundingClientRect();return S(I,M),$.observe(x.current),()=>{$.disconnect()}},[S,f]);var{containerWidth:O,containerHeight:j}=w;Jp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:P}=sL(O,j,{width:i,height:s,aspect:r,maxHeight:c});return Jp(N>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,s,a,o,r),E.createElement("div",{id:p?"".concat(p):void 0,className:It("recharts-responsive-container",v),style:TN(TN({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:c}),ref:x},E.createElement("div",{style:HJ({width:i,height:s})},E.createElement(oL,{width:N,height:P},d)))}),YJ=E.forwardRef((e,t)=>{var r=aw();if(Gl(r.width)&&Gl(r.height))return e.children;var{width:n,height:i}=zJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=sL(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ze(s)&&ze(a)?E.createElement(oL,{width:s,height:a},e.children):E.createElement(GJ,c_({},e,{width:n,height:i,ref:t}))}),og=()=>{var e,t=Hn(),r=Ve(jJ),n=Ve(ag),i=(e=Ve(sg))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},KJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lL=()=>{var e;return(e=Ve(Er))!==null&&e!==void 0?e:KJ},uL=()=>Ve(Ms),cL=()=>Ve(Bs),yt=e=>e.layout.layoutType,ow=()=>Ve(yt),lg=e=>{var t=ur(),r=Hn(),{width:n,height:i}=e,s=aw(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),E.useEffect(()=>{!r&&Gl(a)&&Gl(o)&&t(UQ({width:a,height:o}))},[t,r,a,o]),null},XJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dL=Un({name:"legend",initialState:XJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Jr()},removeLegendPayload:{reducer(e,t){var r=Ss(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Jr()}}}),{setLegendSize:cve,setLegendSettings:dve,addLegendPayload:QJ,removeLegendPayload:JJ}=dL.actions,ZJ=dL.reducer;function d_(){return d_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d_.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e){return Array.isArray(e)&&ts(e[0])&&ts(e[1])?e.join(" ~ "):e}var iZ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:v=!1}=e,g=()=>{if(s&&s.length){var j={padding:0,margin:0},N=(o?Qm(s,o):s).map((P,D)=>{if(P.type==="none")return null;var $=P.formatter||a||nZ,{value:I,name:M}=P,H=I,q=M;if($){var G=$(I,M,P,D,s);if(Array.isArray(G))[H,q]=G;else if(G!=null)H=G;else return null}var K=mb({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},ts(q)?E.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ts(q)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},H),E.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},b=mb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=mb({margin:0},i),_=!wr(f),w=_?f:"",A=It("recharts-default-tooltip",c),S=It("recharts-tooltip-label",d);_&&p&&s!==void 0&&s!==null&&(w=p(f,s));var O=v?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",d_({className:A,style:b},O),E.createElement("p",{className:S,style:x},E.isValidElement(w)?w:"".concat(w)),g())},kc="recharts-tooltip-wrapper",sZ={visibility:"hidden"};function aZ(e){var{coordinate:t,translateX:r,translateY:n}=e;return It(kc,{["".concat(kc,"-right")]:ze(r)&&t&&ze(t.x)&&r>=t.x,["".concat(kc,"-left")]:ze(r)&&t&&ze(t.x)&&r<t.x,["".concat(kc,"-bottom")]:ze(n)&&t&&ze(t.y)&&n>=t.y,["".concat(kc,"-top")]:ze(n)&&t&&ze(t.y)&&n<t.y})}function CN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(s&&ze(s[n]))return s[n];var f=r[n]-o-(i>0?i:0),p=r[n]+i;if(t[n])return a[n]?f:p;var v=c[n];if(v==null)return 0;if(a[n]){var g=f,b=v;return g<b?Math.max(p,v):Math.max(f,v)}if(d==null)return 0;var x=p+o,_=v+d;return x>_?Math.max(f,v):Math.max(p,v)}function oZ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function lZ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:c}=e,d,f,p;return a.height>0&&a.width>0&&r?(f=CN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),p=CN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=oZ({translateX:f,translateY:p,useTranslate3d:o})):d=sZ,{cssProperties:d,cssClasses:aZ({translateX:f,translateY:p,coordinate:r})}}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){h_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h_(e,t,r){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dZ extends E.PureComponent{constructor(){super(...arguments),h_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),h_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:v,viewBox:g,wrapperStyle:b,lastBoundingBox:x,innerRef:_,hasPortalFromProps:w}=this.props,{cssClasses:A,cssProperties:S}=lZ({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:g}),O=w?{}:Hf(Hf({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Hf(Hf({},O),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},b);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:j,ref:_},s)}}var hZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fu={devToolsEnabled:!1,isSsr:hZ()},hL=()=>Ve(e=>e.rootProps.accessibilityLayer);function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(null,arguments)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){fZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fZ(e,t,r){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ON={curveBasisClosed:xK,curveBasisOpen:wK,curveBasis:_K,curveBumpX:aK,curveBumpY:oK,curveLinearClosed:EK,curveLinear:Km,curveMonotoneX:kK,curveMonotoneY:TK,curveNatural:SK,curveStep:CK,curveStepAfter:NK,curveStepBefore:AK},zf=e=>Wr(e.x)&&Wr(e.y),Tc=e=>e.x,Sc=e=>e.y,gZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ud(e));return(r==="curveMonotone"||r==="curveBump")&&t?ON["".concat(r).concat(t==="vertical"?"Y":"X")]:ON[r]||Km},vZ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=gZ(t,i),o=s?r.filter(zf):r,c;if(Array.isArray(n)){var d=s?n.filter(p=>zf(p)):n,f=o.map((p,v)=>jN(jN({},p),{},{base:d[v]}));return i==="vertical"?c=Df().y(Sc).x1(Tc).x0(p=>p.base.x):c=Df().x(Tc).y1(Sc).y0(p=>p.base.y),c.defined(zf).curve(a),c(f)}return i==="vertical"&&ze(n)?c=Df().y(Sc).x1(Tc).x0(n):ze(n)?c=Df().x(Tc).y1(Sc).y0(n):c=eD().x(Tc).y(Sc),c.defined(zf).curve(a),c(o)},yZ=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?vZ(e):n;return E.createElement("path",f_({},Ns(e),JK(e),{className:It("recharts-curve",t),d:s===null?void 0:s,ref:i}))},bZ=["x","y","top","left","width","height","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(null,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){xZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZ(e,t){if(e==null)return{};var r,n,i=TZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SZ=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),CZ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=e,c=kZ(e,bZ),d=_Z({x:t,y:r,top:n,left:i,width:s,height:a},c);return!ze(t)||!ze(r)||!ze(s)||!ze(a)||!ze(n)||!ze(i)?null:E.createElement("path",p_({},si(d),{className:It("recharts-cross",o),d:SZ(t,r,s,a,n,i)}))};function AZ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){jZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jZ(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(e,t){var r=NZ({},e),n=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function IZ(){}function RZ(e){return e!=null}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){DZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DZ(e,t,r){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fL=(e,t,r)=>e.map(n=>"".concat(BZ(n)," ").concat(t,"ms ").concat(r)).join(","),FZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),xd=(e,t)=>Object.keys(t).reduce((r,n)=>DN(DN({},r),{},{[n]:e(n,t[n])}),{});function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){$Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t,r){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=(e,t,r)=>e+(t-e)*r,m_=e=>{var{from:t,to:r}=e;return t!==r},pL=(e,t,r)=>{var n=xd((i,s)=>{if(m_(s)){var[a,o]=e(s.from,s.to,s.velocity);return Nr(Nr({},s),{},{from:a,velocity:o})}return s},t);return r<1?xd((i,s)=>m_(s)?Nr(Nr({},s),{},{velocity:Zp(s.velocity,n[i].velocity,r),from:Zp(s.from,n[i].from,r)}):s,t):pL(e,n,r-1)};function zZ(e,t,r,n,i,s){var a,o=n.reduce((v,g)=>Nr(Nr({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),c=()=>xd((v,g)=>g.from,o),d=()=>!Object.values(o).filter(m_).length,f=null,p=v=>{a||(a=v);var g=v-a,b=g/r.dt;o=pL(r,o,b),i(Nr(Nr(Nr({},e),t),c())),a=v,d()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{f()})}function WZ(e,t,r,n,i,s,a){var o=null,c=i.reduce((p,v)=>Nr(Nr({},p),{},{[v]:[e[v],t[v]]}),{}),d,f=p=>{d||(d=p);var v=(p-d)/n,g=xd((x,_)=>Zp(..._,r(v)),c);if(s(Nr(Nr(Nr({},e),t),g)),v<1)o=a.setTimeout(f);else{var b=xd((x,_)=>Zp(..._,r(1)),c);s(Nr(Nr(Nr({},e),t),b))}};return()=>(o=a.setTimeout(f),()=>{o()})}const qZ=(e,t,r,n,i,s)=>{var a=FZ(e,t);return r.isStepper===!0?zZ(e,t,r,a,i,s):WZ(e,t,r,n,a,i,s)};var em=1e-4,mL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),MN=(e,t)=>r=>{var n=mL(e,t);return gL(n,r)},VZ=(e,t)=>r=>{var n=mL(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return gL(i,r)},BN=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else a.length===4&&([t,n,r,i]=a);var d=MN(t,r),f=MN(n,i),p=VZ(t,r),v=b=>b>1?1:b<0?0:b,g=b=>{for(var x=b>1?1:b,_=x,w=0;w<8;++w){var A=d(_)-x,S=p(_);if(Math.abs(A-x)<em||S<em)return f(_);_=v(_-A/S)}return f(_)};return g.isStepper=!1,g},GZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,o,c)=>{var d=-(a-o)*r,f=c*n,p=c+(d-f)*i/1e3,v=c*i/1e3+a;return Math.abs(v-o)<em&&Math.abs(p)<em?[o,0]:[v,p]};return s.isStepper=!0,s.dt=i,s},YZ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BN(e);case"spring":return GZ();default:if(e.split("(")[0]==="cubic-bezier")return BN(e)}return typeof e=="function"?e:null};function KZ(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[c,...d]=o;if(typeof c=="number"){i=e.setTimeout(s.bind(null,d),c);return}s(c),i=e.setTimeout(s.bind(null,d));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class XZ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function QZ(){return KZ(new XZ)}var JZ=E.createContext(QZ);function ZZ(e,t){var r=E.useContext(JZ);return E.useMemo(()=>t??r(e),[e,t,r])}var eee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},FN={t:0},gb={t:1};function lw(e){var t=di(e,eee),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:c,children:d}=t,f=ZZ(t.animationId,t.animationManager),[p,v]=E.useState(r?FN:gb),g=E.useRef(null);return E.useEffect(()=>{r||v(gb)},[r]),E.useEffect(()=>{if(!r||!n)return IZ;var b=qZ(FN,gb,YZ(s),i,v,f.getTimeoutController()),x=()=>{g.current=b()};return f.start([c,a,x,i,o]),()=>{f.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,c,o,f]),d(p.t)}function uw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=E.useRef(vd(t)),n=E.useRef(e);return n.current!==e&&(r.current=vd(t),n.current=e),r.current}var tee=["radius"],ree=["radius"];function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nee(e,t,r){return(t=iee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(null,arguments)}function HN(e,t){if(e==null)return{};var r,n,i=aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=i[p]>s?s:i[p];d="M".concat(e,",").concat(t+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+o*f[0],",").concat(t)),d+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*f[1])),d+="L ".concat(e+r,",").concat(t+n-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-o*f[2],",").concat(t+n)),d+="L ".concat(e+o*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(t+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+o*g,",").concat(t,`
            L `).concat(e+r-o*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*g,`
            L `).concat(e+r,",").concat(t+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-o*g,",").concat(t+n,`
            L `).concat(e+o*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*g," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},oee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vL=e=>{var t=di(e,oee),r=E.useRef(null),[n,i]=E.useState(-1);E.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ae=r.current.getTotalLength();ae&&i(ae)}catch{}},[]);var{x:s,y:a,width:o,height:c,radius:d,className:f}=t,{animationEasing:p,animationDuration:v,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:x}=t,_=E.useRef(o),w=E.useRef(c),A=E.useRef(s),S=E.useRef(a),O=E.useMemo(()=>({x:s,y:a,width:o,height:c,radius:d}),[s,a,o,c,d]),j=uw(O,"rectangle-");if(s!==+s||a!==+a||o!==+o||c!==+c||o===0||c===0)return null;var N=It("recharts-rectangle",f);if(!x){var P=si(t),{radius:D}=P,$=HN(P,tee);return E.createElement("path",tm({},$,{radius:typeof d=="number"?d:void 0,className:N,d:zN(s,a,o,c,d)}))}var I=_.current,M=w.current,H=A.current,q=S.current,G="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),J=fL(["strokeDasharray"],v,typeof p=="string"?p:void 0);return E.createElement(lw,{animationId:j,key:j,canBegin:n>0,duration:v,easing:p,isActive:x,begin:g},ae=>{var ie=Qr(I,o,ae),de=Qr(M,c,ae),L=Qr(H,s,ae),V=Qr(q,a,ae);r.current&&(_.current=ie,w.current=de,A.current=L,S.current=V);var ne;b?ae>0?ne={transition:J,strokeDasharray:K}:ne={strokeDasharray:G}:ne={strokeDasharray:K};var F=si(t),{radius:Ee}=F,Te=HN(F,ree);return E.createElement("path",tm({},Te,{radius:typeof d=="number"?d:void 0,className:N,d:zN(L,V,ie,de,d),ref:r,style:UN(UN({},ne),t.style)}))})};function yL(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Or(t,r,n,i),o=Or(t,r,n,s);return{points:[a,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(null,arguments)}var lee=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wf=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:c}=e,d=o*(a?1:-1)+n,f=Math.asin(o/d)/Qp,p=c?i:i+s*f,v=Or(t,r,d,p),g=Or(t,r,n,p),b=c?i-s*f:i,x=Or(t,r,d*Math.cos(f*Qp),b);return{center:v,circleTangency:g,lineTangency:x,theta:f}},bL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,o=lee(s,a),c=s+o,d=Or(t,r,i,s),f=Or(t,r,i,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var v=Or(t,r,n,s),g=Or(t,r,n,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},uee=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:c,endAngle:d}=e,f=_n(d-c),{circleTangency:p,lineTangency:v,theta:g}=Wf({cx:t,cy:r,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:x,theta:_}=Wf({cx:t,cy:r,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(c-d):Math.abs(c-d)-g-_;if(w<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bL({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:d});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:O,theta:j}=Wf({cx:t,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:N,lineTangency:P,theta:D}=Wf({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),$=o?Math.abs(c-d):Math.abs(c-d)-j-D;if($<0&&s===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},cee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_L=e=>{var t=di(e,cee),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=t;if(s<i||d===f)return null;var v=It("recharts-sector",p),g=s-i,b=Pi(a,g,0,!0),x;return b>0&&Math.abs(d-f)<360?x=uee({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}):x=bL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",g_({},si(t),{className:v,d:x}))};function dee(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:f,angle:p}=t,v=Or(o,c,d,p),g=Or(o,c,f,p);n=v.x,i=v.y,s=g.x,a=g.y}else return yL(t);return[{x:n,y:i},{x:s,y:a}]}var vb={},yb={},bb={},WN;function hee(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TD();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(bb)),bb}var qN;function fee(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hee();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(yb)),yb}var VN;function pee(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SD(),r=fee();function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=i,i+=a;return c}e.range=n})(vb)),vb}var _b,GN;function mee(){return GN||(GN=1,_b=pee().range),_b}var gee=mee();const xL=ui(gee);function Na(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cw(e){let t,r,n;e.length!==2?(t=Na,r=(o,c)=>Na(e(o),c),n=(o,c)=>e(o)-c):(t=e===Na||e===vee?e:yee,r=e,n=e);function i(o,c,d=0,f=o.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(o[p],c)<0?d=p+1:f=p}while(d<f)}return d}function s(o,c,d=0,f=o.length){if(d<f){if(t(c,c)!==0)return f;do{const p=d+f>>>1;r(o[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function a(o,c,d=0,f=o.length){const p=i(o,c,d,f-1);return p>d&&n(o[p-1],c)>-n(o[p],c)?p-1:p}return{left:i,center:a,right:s}}function yee(){return 0}function wL(e){return e===null?NaN:+e}function*bee(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _ee=cw(Na),qd=_ee.right;cw(wL).center;class YN extends Map{constructor(t,r=Eee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(KN(this,t))}has(t){return super.has(KN(this,t))}set(t,r){return super.set(xee(this,t),r)}delete(t){return super.delete(wee(this,t))}}function KN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wee({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Eee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kee(e=Na){if(e===Na)return EL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function EL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Tee=Math.sqrt(50),See=Math.sqrt(10),Cee=Math.sqrt(2);function rm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Tee?10:s>=See?5:s>=Cee?2:1;let o,c,d;return i<0?(d=Math.pow(10,-i)/a,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*a,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?rm(e,t,r*2):[o,c,d]}function v_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?rm(t,e,r):rm(e,t,r);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(n)if(a<0)for(let d=0;d<o;++d)c[d]=(s-d)/-a;else for(let d=0;d<o;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<o;++d)c[d]=(i+d)/-a;else for(let d=0;d<o;++d)c[d]=(i+d)*a;return c}function y_(e,t,r){return t=+t,e=+e,r=+r,rm(e,t,r)[2]}function b_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?y_(t,e,r):y_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function XN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function kL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?EL:kee(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(t-d*p/c+v)),b=Math.min(n,Math.floor(t+(c-d)*p/c+v));kL(e,t,g,b,i)}const s=e[t];let a=r,o=n;for(Cc(e,r,t),i(e[n],s)>0&&Cc(e,r,n);a<o;){for(Cc(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[r],s)===0?Cc(e,r,o):(++o,Cc(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Cc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Aee(e,t,r){if(e=Float64Array.from(bee(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return QN(e);if(t>=1)return XN(e);var n,i=(n-1)*t,s=Math.floor(i),a=XN(kL(e,s).subarray(0,s+1)),o=QN(e.subarray(s+1));return a+(o-a)*(i-s)}}function Nee(e,t,r=wL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function jee(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const __=Symbol("implicit");function dw(){var e=new YN,t=[],r=[],n=__;function i(s){let a=e.get(s);if(a===void 0){if(n!==__)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new YN;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return dw(t,r).unknown(n)},hi.apply(i,arguments),i}function hw(){var e=dw().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,o=!1,c=0,d=0,f=.5;delete e.unknown;function p(){var v=t().length,g=i<n,b=g?i:n,x=g?n:i;s=(x-b)/Math.max(1,v-c+d*2),o&&(s=Math.floor(s)),b+=(x-b-s*(v-c))*f,a=s*(1-c),o&&(b=Math.round(b),a=Math.round(a));var _=jee(v).map(function(w){return b+s*w});return r(g?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,o=!0,p()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(v){return arguments.length?(o=!!v,p()):o},e.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),p()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},e.paddingOuter=function(v){return arguments.length?(d=+v,p()):d},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),p()):f},e.copy=function(){return hw(t(),[n,i]).round(o).paddingInner(c).paddingOuter(d).align(f)},hi.apply(p(),arguments)}function TL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TL(t())},e}function Oee(){return TL(hw.apply(null,arguments).paddingInner(1))}function fw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vd(){}var wd=.7,nm=1/wd,Bl="\\s*([+-]?\\d+)\\s*",Ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pee=/^#([0-9a-f]{3,8})$/,Iee=new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),Ree=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),Dee=new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${Ed}\\)$`),Lee=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${Ed}\\)$`),Mee=new RegExp(`^hsl\\(${Ed},${Zi},${Zi}\\)$`),Bee=new RegExp(`^hsla\\(${Ed},${Zi},${Zi},${Ed}\\)$`),JN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fw(Vd,kd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZN,formatHex:ZN,formatHex8:Fee,formatHsl:$ee,formatRgb:ej,toString:ej});function ZN(){return this.rgb().formatHex()}function Fee(){return this.rgb().formatHex8()}function $ee(){return CL(this).formatHsl()}function ej(){return this.rgb().formatRgb()}function kd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?tj(t):r===3?new xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Iee.exec(e))?new xn(t[1],t[2],t[3],1):(t=Ree.exec(e))?new xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dee.exec(e))?qf(t[1],t[2],t[3],t[4]):(t=Lee.exec(e))?qf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mee.exec(e))?ij(t[1],t[2]/100,t[3]/100,1):(t=Bee.exec(e))?ij(t[1],t[2]/100,t[3]/100,t[4]):JN.hasOwnProperty(e)?tj(JN[e]):e==="transparent"?new xn(NaN,NaN,NaN,0):null}function tj(e){return new xn(e>>16&255,e>>8&255,e&255,1)}function qf(e,t,r,n){return n<=0&&(e=t=r=NaN),new xn(e,t,r,n)}function Uee(e){return e instanceof Vd||(e=kd(e)),e?(e=e.rgb(),new xn(e.r,e.g,e.b,e.opacity)):new xn}function x_(e,t,r,n){return arguments.length===1?Uee(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fw(xn,x_,SL(Vd,{brighter(e){return e=e==null?nm:Math.pow(nm,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wd:Math.pow(wd,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xn(xo(this.r),xo(this.g),xo(this.b),im(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rj,formatHex:rj,formatHex8:Hee,formatRgb:nj,toString:nj}));function rj(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function Hee(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function nj(){const e=im(this.opacity);return`${e===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${e===1?")":`, ${e})`}`}function im(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mo(e){return e=xo(e),(e<16?"0":"")+e.toString(16)}function ij(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ai(e,t,r,n)}function CL(e){if(e instanceof Ai)return new Ai(e.h,e.s,e.l,e.opacity);if(e instanceof Vd||(e=kd(e)),!e)return new Ai;if(e instanceof Ai)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,c=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Ai(a,o,c,e.opacity)}function zee(e,t,r,n){return arguments.length===1?CL(e):new Ai(e,t,r,n??1)}function Ai(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fw(Ai,zee,SL(Vd,{brighter(e){return e=e==null?nm:Math.pow(nm,e),new Ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wd:Math.pow(wd,e),new Ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new xn(xb(e>=240?e-240:e+120,i,n),xb(e,i,n),xb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ai(sj(this.h),Vf(this.s),Vf(this.l),im(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=im(this.opacity);return`${e===1?"hsl(":"hsla("}${sj(this.h)}, ${Vf(this.s)*100}%, ${Vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sj(e){return e=(e||0)%360,e<0?e+360:e}function Vf(e){return Math.max(0,Math.min(1,e||0))}function xb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pw=e=>()=>e;function Wee(e,t){return function(r){return e+r*t}}function qee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Vee(e){return(e=+e)==1?AL:function(t,r){return r-t?qee(t,r,e):pw(isNaN(t)?r:t)}}function AL(e,t){var r=t-e;return r?Wee(e,r):pw(isNaN(e)?t:e)}const aj=(function e(t){var r=Vee(t);function n(i,s){var a=r((i=x_(i)).r,(s=x_(s)).r),o=r(i.g,s.g),c=r(i.b,s.b),d=AL(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=e,n})(1);function Gee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function Yee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=pu(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Xee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qee(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=pu(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var w_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wb=new RegExp(w_.source,"g");function Jee(e){return function(){return e}}function Zee(e){return function(t){return e(t)+""}}function ete(e,t){var r=w_.lastIndex=wb.lastIndex=0,n,i,s,a=-1,o=[],c=[];for(e=e+"",t=t+"";(n=w_.exec(e))&&(i=wb.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:sm(n,i)})),r=wb.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?Zee(c[0].x):Jee(t):(t=c.length,function(d){for(var f=0,p;f<t;++f)o[(p=c[f]).i]=p.x(d);return o.join("")})}function pu(e,t){var r=typeof t,n;return t==null||r==="boolean"?pw(t):(r==="number"?sm:r==="string"?(n=kd(t))?(t=n,aj):ete:t instanceof kd?aj:t instanceof Date?Xee:Yee(t)?Gee:Array.isArray(t)?Kee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qee:sm)(e,t)}function mw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tte(e,t){t===void 0&&(t=e,e=pu);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function rte(e){return function(){return e}}function am(e){return+e}var oj=[0,1];function tn(e){return e}function E_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rte(isNaN(t)?NaN:.5)}function nte(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ite(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=E_(i,n),s=r(a,s)):(n=E_(n,i),s=r(s,a)),function(o){return s(n(o))}}function ste(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=E_(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(o){var c=qd(e,o,1,n)-1;return s[c](i[c](o))}}function Gd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ug(){var e=oj,t=oj,r=pu,n,i,s,a=tn,o,c,d;function f(){var v=Math.min(e.length,t.length);return a!==tn&&(a=nte(e[0],e[v-1])),o=v>2?ste:ite,c=d=null,p}function p(v){return v==null||isNaN(v=+v)?s:(c||(c=o(e.map(n),t,r)))(n(a(v)))}return p.invert=function(v){return a(i((d||(d=o(t,e.map(n),sm)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,am),f()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=mw,f()},p.clamp=function(v){return arguments.length?(a=v?!0:tn,f()):a!==tn},p.interpolate=function(v){return arguments.length?(r=v,f()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,g){return n=v,i=g,f()}}function gw(){return ug()(tn,tn)}function ate(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function om(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yl(e){return e=om(Math.abs(e)),e?e[1]:NaN}function ote(e,t){return function(r,n){for(var i=r.length,s=[],a=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function lte(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ute=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Td(e){if(!(t=ute.exec(e)))throw new Error("invalid format: "+e);var t;return new vw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Td.prototype=vw.prototype;function vw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cte(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var NL;function dte(e,t){var r=om(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(NL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+om(e,Math.max(0,t+s-1))[0]}function lj(e,t){var r=om(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const uj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ate,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lj(e*100,t),r:lj,s:dte,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cj(e){return e}var dj=Array.prototype.map,hj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hte(e){var t=e.grouping===void 0||e.thousands===void 0?cj:ote(dj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?cj:lte(dj.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(p){p=Td(p);var v=p.fill,g=p.align,b=p.sign,x=p.symbol,_=p.zero,w=p.width,A=p.comma,S=p.precision,O=p.trim,j=p.type;j==="n"?(A=!0,j="g"):uj[j]||(S===void 0&&(S=12),O=!0,j="g"),(_||v==="0"&&g==="=")&&(_=!0,v="0",g="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=x==="$"?n:/[%p]/.test(j)?a:"",D=uj[j],$=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(M){var H=N,q=P,G,K,J;if(j==="c")q=D(M)+q,M="";else{M=+M;var ae=M<0||1/M<0;if(M=isNaN(M)?c:D(Math.abs(M),S),O&&(M=cte(M)),ae&&+M==0&&b!=="+"&&(ae=!1),H=(ae?b==="("?b:o:b==="-"||b==="("?"":b)+H,q=(j==="s"?hj[8+NL/3]:"")+q+(ae&&b==="("?")":""),$){for(G=-1,K=M.length;++G<K;)if(J=M.charCodeAt(G),48>J||J>57){q=(J===46?i+M.slice(G+1):M.slice(G))+q,M=M.slice(0,G);break}}}A&&!_&&(M=t(M,1/0));var ie=H.length+M.length+q.length,de=ie<w?new Array(w-ie+1).join(v):"";switch(A&&_&&(M=t(de+M,de.length?w-q.length:1/0),de=""),g){case"<":M=H+M+q+de;break;case"=":M=H+de+M+q;break;case"^":M=de.slice(0,ie=de.length>>1)+H+M+q+de.slice(ie);break;default:M=de+H+M+q;break}return s(M)}return I.toString=function(){return p+""},I}function f(p,v){var g=d((p=Td(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Yl(v)/3)))*3,x=Math.pow(10,-b),_=hj[8+b/3];return function(w){return g(x*w)+_}}return{format:d,formatPrefix:f}}var Gf,yw,jL;fte({thousands:",",grouping:[3],currency:["$",""]});function fte(e){return Gf=hte(e),yw=Gf.format,jL=Gf.formatPrefix,Gf}function pte(e){return Math.max(0,-Yl(Math.abs(e)))}function mte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yl(t)/3)))*3-Yl(Math.abs(e)))}function gte(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yl(t)-Yl(e))+1}function OL(e,t,r,n){var i=b_(e,t,r),s;switch(n=Td(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=mte(i,a))&&(n.precision=s),jL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=gte(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=pte(i))&&(n.precision=s-(n.type==="%")*2);break}}return yw(n)}function Da(e){var t=e.domain;return e.ticks=function(r){var n=t();return v_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return OL(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],o=n[s],c,d,f=10;for(o<a&&(d=a,a=o,o=d,d=i,i=s,s=d);f-- >0;){if(d=y_(a,o,r),d===c)return n[i]=a,n[s]=o,t(n);if(d>0)a=Math.floor(a/d)*d,o=Math.ceil(o/d)*d;else if(d<0)a=Math.ceil(a*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function PL(){var e=gw();return e.copy=function(){return Gd(e,PL())},hi.apply(e,arguments),Da(e)}function IL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,am),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IL(e).unknown(t)},e=arguments.length?Array.from(e,am):[0,1],Da(r)}function RL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function fj(e){return Math.log(e)}function pj(e){return Math.exp(e)}function vte(e){return-Math.log(-e)}function yte(e){return-Math.exp(-e)}function bte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _te(e){return e===10?bte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xte(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mj(e){return(t,r)=>-e(-t,r)}function bw(e){const t=e(fj,pj),r=t.domain;let n=10,i,s;function a(){return i=xte(n),s=_te(n),r()[0]<0?(i=mj(i),s=mj(s),e(vte,yte)):e(fj,pj),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=o=>{const c=r();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let v=i(d),g=i(f),b,x;const _=o==null?10:+o;let w=[];if(!(n%1)&&g-v<_){if(v=Math.floor(v),g=Math.ceil(g),d>0){for(;v<=g;++v)for(b=1;b<n;++b)if(x=v<0?b/s(-v):b*s(v),!(x<d)){if(x>f)break;w.push(x)}}else for(;v<=g;++v)for(b=n-1;b>=1;--b)if(x=v>0?b/s(-v):b*s(v),!(x<d)){if(x>f)break;w.push(x)}w.length*2<_&&(w=v_(d,f,_))}else w=v_(v,g,Math.min(g-v,_)).map(s);return p?w.reverse():w},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Td(c)).precision==null&&(c.trim=!0),c=yw(c)),o===1/0)return c;const d=Math.max(1,n*o/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=d?c(f):""}},t.nice=()=>r(RL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function DL(){const e=bw(ug()).domain([1,10]);return e.copy=()=>Gd(e,DL()).base(e.base()),hi.apply(e,arguments),e}function gj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _w(e){var t=1,r=e(gj(t),vj(t));return r.constant=function(n){return arguments.length?e(gj(t=+n),vj(t)):t},Da(r)}function LL(){var e=_w(ug());return e.copy=function(){return Gd(e,LL()).constant(e.constant())},hi.apply(e,arguments)}function yj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ete(e){return e<0?-e*e:e*e}function xw(e){var t=e(tn,tn),r=1;function n(){return r===1?e(tn,tn):r===.5?e(wte,Ete):e(yj(r),yj(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Da(t)}function ww(){var e=xw(ug());return e.copy=function(){return Gd(e,ww()).exponent(e.exponent())},hi.apply(e,arguments),e}function kte(){return ww.apply(null,arguments).exponent(.5)}function bj(e){return Math.sign(e)*e*e}function Tte(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ML(){var e=gw(),t=[0,1],r=!1,n;function i(s){var a=Tte(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(bj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,am)).map(bj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ML(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},hi.apply(i,arguments),Da(i)}function BL(){var e=[],t=[],r=[],n;function i(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=Nee(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:t[qd(r,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Na),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return BL().domain(e).range(t).unknown(n)},hi.apply(s,arguments)}function FL(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[qd(n,c,0,r)]:s}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return FL().domain([e,t]).range(i).unknown(s)},hi.apply(Da(a),arguments)}function $L(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[qd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $L().domain(e).range(t).unknown(r)},hi.apply(i,arguments)}const Eb=new Date,kb=new Date;function cr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let d;do c.push(d=new Date(+s)),t(s,o),e(s);while(d<s&&s<a);return c},i.filter=s=>cr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(Eb.setTime(+s),kb.setTime(+a),e(Eb),e(kb),Math.floor(r(Eb,kb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const lm=cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lm);lm.range;const Es=1e3,ri=Es*60,ks=ri*60,Ps=ks*24,Ew=Ps*7,_j=Ps*30,Tb=Ps*365,go=cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCSeconds());go.range;const kw=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getMinutes());kw.range;const Tw=cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCMinutes());Tw.range;const Sw=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Es-e.getMinutes()*ri)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());Sw.range;const Cw=cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());Cw.range;const Yd=cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ri)/Ps,e=>e.getDate()-1);Yd.range;const cg=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>e.getUTCDate()-1);cg.range;const UL=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ps,e=>Math.floor(e/Ps));UL.range;function Lo(e){return cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ri)/Ew)}const dg=Lo(0),um=Lo(1),Ste=Lo(2),Cte=Lo(3),Kl=Lo(4),Ate=Lo(5),Nte=Lo(6);dg.range;um.range;Ste.range;Cte.range;Kl.range;Ate.range;Nte.range;function Mo(e){return cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ew)}const hg=Mo(0),cm=Mo(1),jte=Mo(2),Ote=Mo(3),Xl=Mo(4),Pte=Mo(5),Ite=Mo(6);hg.range;cm.range;jte.range;Ote.range;Xl.range;Pte.range;Ite.range;const Aw=cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Aw.range;const Nw=cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nw.range;const Is=cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Is.range;const Rs=cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rs.range;function HL(e,t,r,n,i,s){const a=[[go,1,Es],[go,5,5*Es],[go,15,15*Es],[go,30,30*Es],[s,1,ri],[s,5,5*ri],[s,15,15*ri],[s,30,30*ri],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[n,1,Ps],[n,2,2*Ps],[r,1,Ew],[t,1,_j],[t,3,3*_j],[e,1,Tb]];function o(d,f,p){const v=f<d;v&&([d,f]=[f,d]);const g=p&&typeof p.range=="function"?p:c(d,f,p),b=g?g.range(d,+f+1):[];return v?b.reverse():b}function c(d,f,p){const v=Math.abs(f-d)/p,g=cw(([,,_])=>_).right(a,v);if(g===a.length)return e.every(b_(d/Tb,f/Tb,p));if(g===0)return lm.every(Math.max(b_(d,f,p),1));const[b,x]=a[v/a[g-1][2]<a[g][2]/v?g-1:g];return b.every(x)}return[o,c]}const[Rte,Dte]=HL(Rs,Nw,hg,UL,Cw,Tw),[Lte,Mte]=HL(Is,Aw,dg,Yd,Sw,kw);function Sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ac(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Bte(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,d=Nc(i),f=jc(i),p=Nc(s),v=jc(s),g=Nc(a),b=jc(a),x=Nc(o),_=jc(o),w=Nc(c),A=jc(c),S={a:ae,A:ie,b:de,B:L,c:null,d:Sj,e:Sj,f:ore,g:vre,G:bre,H:ire,I:sre,j:are,L:zL,m:lre,M:ure,p:V,q:ne,Q:Nj,s:jj,S:cre,u:dre,U:hre,V:fre,w:pre,W:mre,x:null,X:null,y:gre,Y:yre,Z:_re,"%":Aj},O={a:F,A:Ee,b:Te,B:fe,c:null,d:Cj,e:Cj,f:kre,g:Rre,G:Lre,H:xre,I:wre,j:Ere,L:qL,m:Tre,M:Sre,p:$e,q:Oe,Q:Nj,s:jj,S:Cre,u:Are,U:Nre,V:jre,w:Ore,W:Pre,x:null,X:null,y:Ire,Y:Dre,Z:Mre,"%":Aj},j={a:I,A:M,b:H,B:q,c:G,d:kj,e:kj,f:ere,g:Ej,G:wj,H:Tj,I:Tj,j:Xte,L:Zte,m:Kte,M:Qte,p:$,q:Yte,Q:rre,s:nre,S:Jte,u:zte,U:Wte,V:qte,w:Hte,W:Vte,x:K,X:J,y:Ej,Y:wj,Z:Gte,"%":tre};S.x=N(r,S),S.X=N(n,S),S.c=N(t,S),O.x=N(r,O),O.X=N(n,O),O.c=N(t,O);function N(te,ke){return function(He){var he=[],pt=-1,Se=0,tt=te.length,ut,Bt,ss;for(He instanceof Date||(He=new Date(+He));++pt<tt;)te.charCodeAt(pt)===37&&(he.push(te.slice(Se,pt)),(Bt=xj[ut=te.charAt(++pt)])!=null?ut=te.charAt(++pt):Bt=ut==="e"?" ":"0",(ss=ke[ut])&&(ut=ss(He,Bt)),he.push(ut),Se=pt+1);return he.push(te.slice(Se,pt)),he.join("")}}function P(te,ke){return function(He){var he=Ac(1900,void 0,1),pt=D(he,te,He+="",0),Se,tt;if(pt!=He.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ke&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Se=Cb(Ac(he.y,0,1)),tt=Se.getUTCDay(),Se=tt>4||tt===0?cm.ceil(Se):cm(Se),Se=cg.offset(Se,(he.V-1)*7),he.y=Se.getUTCFullYear(),he.m=Se.getUTCMonth(),he.d=Se.getUTCDate()+(he.w+6)%7):(Se=Sb(Ac(he.y,0,1)),tt=Se.getDay(),Se=tt>4||tt===0?um.ceil(Se):um(Se),Se=Yd.offset(Se,(he.V-1)*7),he.y=Se.getFullYear(),he.m=Se.getMonth(),he.d=Se.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),tt="Z"in he?Cb(Ac(he.y,0,1)).getUTCDay():Sb(Ac(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(tt+5)%7:he.w+he.U*7-(tt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Cb(he)):Sb(he)}}function D(te,ke,He,he){for(var pt=0,Se=ke.length,tt=He.length,ut,Bt;pt<Se;){if(he>=tt)return-1;if(ut=ke.charCodeAt(pt++),ut===37){if(ut=ke.charAt(pt++),Bt=j[ut in xj?ke.charAt(pt++):ut],!Bt||(he=Bt(te,He,he))<0)return-1}else if(ut!=He.charCodeAt(he++))return-1}return he}function $(te,ke,He){var he=d.exec(ke.slice(He));return he?(te.p=f.get(he[0].toLowerCase()),He+he[0].length):-1}function I(te,ke,He){var he=g.exec(ke.slice(He));return he?(te.w=b.get(he[0].toLowerCase()),He+he[0].length):-1}function M(te,ke,He){var he=p.exec(ke.slice(He));return he?(te.w=v.get(he[0].toLowerCase()),He+he[0].length):-1}function H(te,ke,He){var he=w.exec(ke.slice(He));return he?(te.m=A.get(he[0].toLowerCase()),He+he[0].length):-1}function q(te,ke,He){var he=x.exec(ke.slice(He));return he?(te.m=_.get(he[0].toLowerCase()),He+he[0].length):-1}function G(te,ke,He){return D(te,t,ke,He)}function K(te,ke,He){return D(te,r,ke,He)}function J(te,ke,He){return D(te,n,ke,He)}function ae(te){return a[te.getDay()]}function ie(te){return s[te.getDay()]}function de(te){return c[te.getMonth()]}function L(te){return o[te.getMonth()]}function V(te){return i[+(te.getHours()>=12)]}function ne(te){return 1+~~(te.getMonth()/3)}function F(te){return a[te.getUTCDay()]}function Ee(te){return s[te.getUTCDay()]}function Te(te){return c[te.getUTCMonth()]}function fe(te){return o[te.getUTCMonth()]}function $e(te){return i[+(te.getUTCHours()>=12)]}function Oe(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ke=N(te+="",S);return ke.toString=function(){return te},ke},parse:function(te){var ke=P(te+="",!1);return ke.toString=function(){return te},ke},utcFormat:function(te){var ke=N(te+="",O);return ke.toString=function(){return te},ke},utcParse:function(te){var ke=P(te+="",!0);return ke.toString=function(){return te},ke}}}var xj={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Fte=/^%/,$te=/[\\^$*+?|[\]().{}]/g;function ht(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function Ute(e){return e.replace($te,"\\$&")}function Nc(e){return new RegExp("^(?:"+e.map(Ute).join("|")+")","i")}function jc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Hte(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zte(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Wte(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qte(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Vte(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wj(e,t,r){var n=kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ej(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gte(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yte(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Kte(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kj(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xte(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Tj(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qte(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Jte(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zte(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ere(e,t,r){var n=kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tre(e,t,r){var n=Fte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rre(e,t,r){var n=kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nre(e,t,r){var n=kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Sj(e,t){return ht(e.getDate(),t,2)}function ire(e,t){return ht(e.getHours(),t,2)}function sre(e,t){return ht(e.getHours()%12||12,t,2)}function are(e,t){return ht(1+Yd.count(Is(e),e),t,3)}function zL(e,t){return ht(e.getMilliseconds(),t,3)}function ore(e,t){return zL(e,t)+"000"}function lre(e,t){return ht(e.getMonth()+1,t,2)}function ure(e,t){return ht(e.getMinutes(),t,2)}function cre(e,t){return ht(e.getSeconds(),t,2)}function dre(e){var t=e.getDay();return t===0?7:t}function hre(e,t){return ht(dg.count(Is(e)-1,e),t,2)}function WL(e){var t=e.getDay();return t>=4||t===0?Kl(e):Kl.ceil(e)}function fre(e,t){return e=WL(e),ht(Kl.count(Is(e),e)+(Is(e).getDay()===4),t,2)}function pre(e){return e.getDay()}function mre(e,t){return ht(um.count(Is(e)-1,e),t,2)}function gre(e,t){return ht(e.getFullYear()%100,t,2)}function vre(e,t){return e=WL(e),ht(e.getFullYear()%100,t,2)}function yre(e,t){return ht(e.getFullYear()%1e4,t,4)}function bre(e,t){var r=e.getDay();return e=r>=4||r===0?Kl(e):Kl.ceil(e),ht(e.getFullYear()%1e4,t,4)}function _re(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function Cj(e,t){return ht(e.getUTCDate(),t,2)}function xre(e,t){return ht(e.getUTCHours(),t,2)}function wre(e,t){return ht(e.getUTCHours()%12||12,t,2)}function Ere(e,t){return ht(1+cg.count(Rs(e),e),t,3)}function qL(e,t){return ht(e.getUTCMilliseconds(),t,3)}function kre(e,t){return qL(e,t)+"000"}function Tre(e,t){return ht(e.getUTCMonth()+1,t,2)}function Sre(e,t){return ht(e.getUTCMinutes(),t,2)}function Cre(e,t){return ht(e.getUTCSeconds(),t,2)}function Are(e){var t=e.getUTCDay();return t===0?7:t}function Nre(e,t){return ht(hg.count(Rs(e)-1,e),t,2)}function VL(e){var t=e.getUTCDay();return t>=4||t===0?Xl(e):Xl.ceil(e)}function jre(e,t){return e=VL(e),ht(Xl.count(Rs(e),e)+(Rs(e).getUTCDay()===4),t,2)}function Ore(e){return e.getUTCDay()}function Pre(e,t){return ht(cm.count(Rs(e)-1,e),t,2)}function Ire(e,t){return ht(e.getUTCFullYear()%100,t,2)}function Rre(e,t){return e=VL(e),ht(e.getUTCFullYear()%100,t,2)}function Dre(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function Lre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xl(e):Xl.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function Mre(){return"+0000"}function Aj(){return"%"}function Nj(e){return+e}function jj(e){return Math.floor(+e/1e3)}var wl,GL,YL;Bre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bre(e){return wl=Bte(e),GL=wl.format,wl.parse,YL=wl.utcFormat,wl.utcParse,wl}function Fre(e){return new Date(e)}function $re(e){return e instanceof Date?+e:+new Date(+e)}function jw(e,t,r,n,i,s,a,o,c,d){var f=gw(),p=f.invert,v=f.domain,g=d(".%L"),b=d(":%S"),x=d("%I:%M"),_=d("%I %p"),w=d("%a %d"),A=d("%b %d"),S=d("%B"),O=d("%Y");function j(N){return(c(N)<N?g:o(N)<N?b:a(N)<N?x:s(N)<N?_:n(N)<N?i(N)<N?w:A:r(N)<N?S:O)(N)}return f.invert=function(N){return new Date(p(N))},f.domain=function(N){return arguments.length?v(Array.from(N,$re)):v().map(Fre)},f.ticks=function(N){var P=v();return e(P[0],P[P.length-1],N??10)},f.tickFormat=function(N,P){return P==null?j:d(P)},f.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?v(RL(P,N)):f},f.copy=function(){return Gd(f,jw(e,t,r,n,i,s,a,o,c,d))},f}function Ure(){return hi.apply(jw(Lte,Mte,Is,Aw,dg,Yd,Sw,kw,go,GL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hre(){return hi.apply(jw(Rte,Dte,Rs,Nw,hg,cg,Cw,Tw,go,YL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fg(){var e=0,t=1,r,n,i,s,a=tn,o=!1,c;function d(p){return p==null||isNaN(p=+p)?c:a(i===0?.5:(p=(s(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(p){return arguments.length?(o=!!p,d):o},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(v){var g,b;return arguments.length?([g,b]=v,a=p(g,b),d):[a(0),a(1)]}}return d.range=f(pu),d.rangeRound=f(mw),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),d}}function La(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KL(){var e=Da(fg()(tn));return e.copy=function(){return La(e,KL())},Fs.apply(e,arguments)}function XL(){var e=bw(fg()).domain([1,10]);return e.copy=function(){return La(e,XL()).base(e.base())},Fs.apply(e,arguments)}function QL(){var e=_w(fg());return e.copy=function(){return La(e,QL()).constant(e.constant())},Fs.apply(e,arguments)}function Ow(){var e=xw(fg());return e.copy=function(){return La(e,Ow()).exponent(e.exponent())},Fs.apply(e,arguments)}function zre(){return Ow.apply(null,arguments).exponent(.5)}function JL(){var e=[],t=tn;function r(n){if(n!=null&&!isNaN(n=+n))return t((qd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Na),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Aee(e,s/n))},r.copy=function(){return JL(t).domain(e)},Fs.apply(r,arguments)}function pg(){var e=0,t=.5,r=1,n=1,i,s,a,o,c,d=tn,f,p=!1,v;function g(x){return isNaN(x=+x)?v:(x=.5+((x=+f(x))-s)*(n*x<n*s?o:c),d(p?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,i=f(e=+e),s=f(t=+t),a=f(r=+r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(p=!!x,g):p},g.interpolator=function(x){return arguments.length?(d=x,g):d};function b(x){return function(_){var w,A,S;return arguments.length?([w,A,S]=_,d=tte(x,[w,A,S]),g):[d(0),d(.5),d(1)]}}return g.range=b(pu),g.rangeRound=b(mw),g.unknown=function(x){return arguments.length?(v=x,g):v},function(x){return f=x,i=x(e),s=x(t),a=x(r),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function ZL(){var e=Da(pg()(tn));return e.copy=function(){return La(e,ZL())},Fs.apply(e,arguments)}function e6(){var e=bw(pg()).domain([.1,1,10]);return e.copy=function(){return La(e,e6()).base(e.base())},Fs.apply(e,arguments)}function t6(){var e=_w(pg());return e.copy=function(){return La(e,t6()).constant(e.constant())},Fs.apply(e,arguments)}function Pw(){var e=xw(pg());return e.copy=function(){return La(e,Pw()).exponent(e.exponent())},Fs.apply(e,arguments)}function Wre(){return Pw.apply(null,arguments).exponent(.5)}const zc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hw,scaleDiverging:ZL,scaleDivergingLog:e6,scaleDivergingPow:Pw,scaleDivergingSqrt:Wre,scaleDivergingSymlog:t6,scaleIdentity:IL,scaleImplicit:__,scaleLinear:PL,scaleLog:DL,scaleOrdinal:dw,scalePoint:Oee,scalePow:ww,scaleQuantile:BL,scaleQuantize:FL,scaleRadial:ML,scaleSequential:KL,scaleSequentialLog:XL,scaleSequentialPow:Ow,scaleSequentialQuantile:JL,scaleSequentialSqrt:zre,scaleSequentialSymlog:QL,scaleSqrt:kte,scaleSymlog:LL,scaleThreshold:$L,scaleTime:Ure,scaleUtc:Hre,tickFormat:OL},Symbol.toStringTag,{value:"Module"}));var Ma=e=>e.chartData,qre=oe([Ma],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Iw=(e,t,r,n)=>n?qre(e):Ma(e);function jo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Wr(t)&&Wr(r))return!0}return!1}function Oj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function r6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Wr(r))i=r;else if(typeof r=="function")return;if(Wr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(jo(a))return a}}function Vre(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(jo(n))return Oj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ze(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&gN.test(i)){var c=gN.exec(i);if(c==null||t==null)a=void 0;else{var d=+c[1];a=t[0]-d}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(ze(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&vN.test(s)){var f=vN.exec(s);if(f==null||t==null)o=void 0;else{var p=+f[1];o=t[1]+p}}else o=t==null?void 0:t[1];var v=[a,o];if(jo(v))return t==null?v:Oj(v,t,r)}}}var mu=1e9,Gre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dw,Lt=!0,li="[DecimalError] ",wo=li+"Invalid argument: ",Rw=li+"Exponent out of range: ",gu=Math.floor,uo=Math.pow,Yre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,br=1e7,Ot=7,n6=9007199254740991,dm=gu(n6/Ot),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(e){return Cs(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,r=t.constructor;return wt(Cs(t,new r(e),0,1),r.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return er(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ln))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(Ln)?new n(0):(Lt=!1,t=Cs(Sd(r,s),Sd(e,s),s),Lt=!0,wt(t,i))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a6(t,e):i6(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(li+"NaN");return r.s?(Lt=!1,t=Cs(r,e,0,1).times(e),Lt=!0,r.minus(t)):wt(new n(r),i)};Re.naturalExponential=Re.exp=function(){return s6(this)};Re.naturalLogarithm=Re.ln=function(){return Sd(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i6(t,e):a6(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wo+e);if(t=er(i)+1,n=i.d.length-1,r=n*Ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Re.squareRoot=Re.sqrt=function(){var e,t,r,n,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(li+"NaN")}for(e=er(o),Lt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Xi(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=gu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Cs(o,s,a+2)).times(.5),Xi(s.d).slice(0,a)===(t=Xi(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(wt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;a+=4}return Lt=!0,wt(n,r)};Re.times=Re.mul=function(e){var t,r,n,i,s,a,o,c,d,f=this,p=f.constructor,v=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=v.length,d=g.length,c<d&&(s=v,v=g,g=s,a=c,c=d,d=a),s=[],a=c+d,n=a;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)o=s[i]+g[n]*v[i-n-1]+t,s[i--]=o%br|0,t=o/br|0;s[i]=(s[i]+t)%br|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lt?wt(e,p.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(rs(e,0,mu),t===void 0?t=n.rounding:rs(t,0,8),wt(r,e+er(r)+1,t))};Re.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Oo(n,!0):(rs(e,0,mu),t===void 0?t=i.rounding:rs(t,0,8),n=wt(new i(n),e+1,t),r=Oo(n,!0,e+1)),r};Re.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Oo(i):(rs(e,0,mu),t===void 0?t=s.rounding:rs(t,0,8),n=wt(new s(i),e+er(i)+1,t),r=Oo(n.abs(),!1,e+er(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return wt(new t(e),er(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,r,n,i,s,a,o=this,c=o.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(Ln);if(o=new c(o),!o.s){if(e.s<1)throw Error(li+"Infinity");return o}if(o.eq(Ln))return o;if(n=c.precision,e.eq(Ln))return wt(o,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=o.s,a){if((r=f<0?-f:f)<=n6){for(i=new c(Ln),t=Math.ceil(n/Ot+4),Lt=!1;r%2&&(i=i.times(o),Ij(i.d,t)),r=gu(r/2),r!==0;)o=o.times(o),Ij(o.d,t);return Lt=!0,e.s<0?new c(Ln).div(i):wt(i,n)}}else if(s<0)throw Error(li+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Lt=!1,i=e.times(Sd(o,n+d)),Lt=!0,i=s6(i),i.s=s,i};Re.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=er(i),n=Oo(i,r<=s.toExpNeg||r>=s.toExpPos)):(rs(e,1,mu),t===void 0?t=s.rounding:rs(t,0,8),i=wt(new s(i),e,t),r=er(i),n=Oo(i,e<=r||r<=s.toExpNeg,e)),n};Re.toSignificantDigits=Re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(rs(e,1,mu),t===void 0?t=n.rounding:rs(t,0,8)),wt(new n(r),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=er(e),r=e.constructor;return Oo(e,t<=r.toExpNeg||t>=r.toExpPos)};function i6(e,t){var r,n,i,s,a,o,c,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Lt?wt(t,p):t;if(c=e.d,d=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,o=d.length):(n=d,i=a,o=c.length),a=Math.ceil(p/Ot),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=c.length,s=d.length,o-s<0&&(s=o,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/br|0,c[s]%=br;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,Lt?wt(t,p):t}function rs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wo+e)}function Xi(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Ot-n.length,r&&(s+=ya(r)),s+=n;a=e[t],n=a+"",r=Ot-n.length,r&&(s+=ya(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Cs=(function(){function e(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%br|0,a=s/br|0;return a&&n.unshift(a),n}function t(n,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*br+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,c,d,f,p,v,g,b,x,_,w,A,S,O,j,N,P,D,$=n.constructor,I=n.s==i.s?1:-1,M=n.d,H=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(li+"Division by zero");for(c=n.e-i.e,P=H.length,j=M.length,g=new $(I),b=g.d=[],d=0;H[d]==(M[d]||0);)++d;if(H[d]>(M[d]||0)&&--c,s==null?A=s=$.precision:a?A=s+(er(n)-er(i))+1:A=s,A<0)return new $(0);if(A=A/Ot+2|0,d=0,P==1)for(f=0,H=H[0],A++;(d<j||f)&&A--;d++)S=f*br+(M[d]||0),b[d]=S/H|0,f=S%H|0;else{for(f=br/(H[0]+1)|0,f>1&&(H=e(H,f),M=e(M,f),P=H.length,j=M.length),O=P,x=M.slice(0,P),_=x.length;_<P;)x[_++]=0;D=H.slice(),D.unshift(0),N=H[0],H[1]>=br/2&&++N;do f=0,o=t(H,x,P,_),o<0?(w=x[0],P!=_&&(w=w*br+(x[1]||0)),f=w/N|0,f>1?(f>=br&&(f=br-1),p=e(H,f),v=p.length,_=x.length,o=t(p,x,v,_),o==1&&(f--,r(p,P<v?D:H,v))):(f==0&&(o=f=1),p=H.slice()),v=p.length,v<_&&p.unshift(0),r(x,p,_),o==-1&&(_=x.length,o=t(H,x,P,_),o<1&&(f++,r(x,P<_?D:H,_))),_=x.length):o===0&&(f++,x=[0]),b[d++]=f,o&&x[0]?x[_++]=M[O]||0:(x=[M[O]],_=1);while((O++<j||x[0]!==void 0)&&A--)}return b[0]||b.shift(),g.e=c,wt(g,a?s+er(g)+1:s)}})();function s6(e,t){var r,n,i,s,a,o,c=0,d=0,f=e.constructor,p=f.precision;if(er(e)>16)throw Error(Rw+er(e));if(!e.s)return new f(Ln);for(Lt=!1,o=p,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(n=Math.log(uo(2,d))/Math.LN10*2+5|0,o+=n,r=i=s=new f(Ln),f.precision=o;;){if(i=wt(i.times(e),o),r=r.times(++c),a=s.plus(Cs(i,r,o)),Xi(a.d).slice(0,o)===Xi(s.d).slice(0,o)){for(;d--;)s=wt(s.times(s),o);return f.precision=p,t==null?(Lt=!0,wt(s,p)):s}s=a}}function er(e){for(var t=e.e*Ot,r=e.d[0];r>=10;r/=10)t++;return t}function Ab(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(li+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function Sd(e,t){var r,n,i,s,a,o,c,d,f,p=1,v=10,g=e,b=g.d,x=g.constructor,_=x.precision;if(g.s<1)throw Error(li+(g.s?"NaN":"-Infinity"));if(g.eq(Ln))return new x(0);if(t==null?(Lt=!1,d=_):d=t,g.eq(10))return t==null&&(Lt=!0),Ab(x,d);if(d+=v,x.precision=d,r=Xi(b),n=r.charAt(0),s=er(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Xi(g.d),n=r.charAt(0),p++;s=er(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return c=Ab(x,d+2,_).times(s+""),g=Sd(new x(n+"."+r.slice(1)),d-v).plus(c),x.precision=_,t==null?(Lt=!0,wt(g,_)):g;for(o=a=g=Cs(g.minus(Ln),g.plus(Ln),d),f=wt(g.times(g),d),i=3;;){if(a=wt(a.times(f),d),c=o.plus(Cs(a,new x(i),d)),Xi(c.d).slice(0,d)===Xi(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(Ab(x,d+2,_).times(s+""))),o=Cs(o,new x(p),d),x.precision=_,t==null?(Lt=!0,wt(o,_)):o;o=c,i+=2}}function Pj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=gu(r/Ot),e.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ot;n<i;)e.d.push(+t.slice(n,n+=Ot));t=t.slice(n),n=Ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>dm||e.e<-dm))throw Error(Rw+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,i,s,a,o,c,d,f,p=e.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Ot,i=t,d=p[f=0];else{if(f=Math.ceil((n+1)/Ot),s=p.length,f>=s)return e;for(d=s=p[f],a=1;s>=10;s/=10)a++;n%=Ot,i=n-Ot+a}if(r!==void 0&&(s=uo(10,a-i-1),o=d/s%10|0,c=t<0||p[f+1]!==void 0||d%s,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?d/uo(10,a-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(s=er(e),p.length=1,t=t-s-1,p[0]=uo(10,(Ot-t%Ot)%Ot),e.e=gu(-t/Ot)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=uo(10,Ot-n),p[f]=i>0?(d/uo(10,a-i)%uo(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==br&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=br)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Lt&&(e.e>dm||e.e<-dm))throw Error(Rw+er(e));return e}function a6(e,t){var r,n,i,s,a,o,c,d,f,p,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Lt?wt(t,g):t;if(c=e.d,p=t.d,n=t.e,d=e.e,c=c.slice(),a=d-n,a){for(f=a<0,f?(r=c,a=-a,o=p.length):(r=p,n=d,o=c.length),i=Math.max(Math.ceil(g/Ot),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}a=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>a;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=br-1;--c[s],c[i]+=br}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Lt?wt(t,g):t):new v(0)}function Oo(e,t,r){var n,i=er(e),s=Xi(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ya(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ya(-i-1)+s,r&&(n=r-a)>0&&(s+=ya(n))):i>=a?(s+=ya(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ya(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ya(n))),e.s<0?"-"+s:s}function Ij(e,t){if(e.length>t)return e.length=t,!0}function o6(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Pj(a,s.toString())}else if(typeof s!="string")throw Error(wo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Yre.test(s))Pj(a,s);else throw Error(wo+s)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=o6,i.config=i.set=Kre,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Kre(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,r,n,i=["precision",1,mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(gu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wo+r+": "+n);return this}var Dw=o6(Gre);Ln=new Dw(1);const vt=Dw;var Xre=e=>e,l6={},u6=e=>e===l6,Rj=e=>function t(){return arguments.length===0||arguments.length===1&&u6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},c6=(e,t)=>e===1?t:Rj(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==l6).length;return s>=e?t(...n):c6(e-s,Rj(function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var d=n.map(f=>u6(f)?o.shift():f);return t(...d,...o)}))}),mg=e=>c6(e.length,e),k_=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Qre=mg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Jre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Xre;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,c)=>c(o),s(...arguments))}},T_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),d6=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,o)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[o])})||(t=i,r=e(...i)),r}};function h6(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function f6(e,t,r){for(var n=new vt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}mg((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});mg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});mg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var p6=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},m6=(e,t,r)=>{if(e.lte(0))return new vt(0);var n=h6(e.toNumber()),i=new vt(10).pow(n),s=e.div(i),a=n!==1?.05:.1,o=new vt(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=o.mul(i);return t?new vt(c.toNumber()):new vt(Math.ceil(c.toNumber()))},Zre=(e,t,r)=>{var n=new vt(1),i=new vt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new vt(10).pow(h6(e)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new vt(Math.floor(e)))}else e===0?i=new vt(Math.floor((t-1)/2)):r||(i=new vt(Math.floor(e)));var a=Math.floor((t-1)/2),o=Jre(Qre(c=>i.add(new vt(c-a).mul(n)).toNumber()),k_);return o(0,t)},g6=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var a=m6(new vt(r).sub(t).div(n-1),i,s),o;t<=0&&r>=0?o=new vt(0):(o=new vt(t).add(r).div(2),o=o.sub(new vt(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new vt(r).sub(o).div(a).toNumber()),f=c+d+1;return f>n?g6(t,r,n,i,s+1):(f<n&&(d=r>0?d+(n-f):d,c=r>0?c:c+(n-f)),{step:a,tickMin:o.sub(new vt(c).mul(a)),tickMax:o.add(new vt(d).mul(a))})};function ene(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=p6([t,r]);if(a===-1/0||o===1/0){var c=o===1/0?[a,...k_(0,n-1).map(()=>1/0)]:[...k_(0,n-1).map(()=>-1/0),o];return t>r?T_(c):c}if(a===o)return Zre(a,n,i);var{step:d,tickMin:f,tickMax:p}=g6(a,o,s,i,0),v=f6(f,p.add(new vt(.1).mul(d)),d);return t>r?T_(v):v}function tne(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=p6([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(t,2),c=m6(new vt(a).sub(s).div(o-1),i,0),d=[...f6(new vt(s),new vt(a),c),a];return i===!1&&(d=d.map(f=>Math.round(f))),r>n?T_(d):d}var rne=d6(ene),nne=d6(tne),v6=e=>e.rootProps.maxBarSize,ine=e=>e.rootProps.barGap,y6=e=>e.rootProps.barCategoryGap,sne=e=>e.rootProps.barSize,gg=e=>e.rootProps.stackOffset,Lw=e=>e.options.chartName,Mw=e=>e.rootProps.syncId,b6=e=>e.rootProps.syncMethod,Bw=e=>e.options.eventEmitter,_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},vg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ane={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},one={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,ticks:void 0,type:Pn.type,unit:void 0},lne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},une={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,ticks:void 0,type:"category",unit:void 0},Fw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?lne:ane,$w=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?une:one,yg=e=>e.polarOptions,Uw=oe([Ms,Bs,Er],YQ),_6=oe([yg,Uw],(e,t)=>{if(e!=null)return Pi(e.innerRadius,t,0)}),x6=oe([yg,Uw],(e,t)=>{if(e!=null)return Pi(e.outerRadius,t,t*.8)}),cne=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},w6=oe([yg],cne);oe([Fw,w6],vg);var E6=oe([Uw,_6,x6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});oe([$w,E6],vg);var k6=oe([yt,yg,_6,x6,Ms,Bs],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:o,startAngle:c,endAngle:d}=t;return{cx:Pi(a,i,i/2),cy:Pi(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),dr=(e,t)=>t,bg=(e,t,r)=>r;function Hw(e){return e==null?void 0:e.id}var hr=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vu=e=>e.tooltip.settings.axisId,fr=e=>{var t=hr(e),r=vu(e);return Kd(e,t,r)},T6=oe([fr],e=>e==null?void 0:e.dataKey);function S6(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var f=Hw(o);d.forEach((p,v)=>{var g=s==null||i?v:String(rn(p,s,null)),b=rn(p,o.dataKey,0),x;a.has(g)?x=a.get(g):x={},Object.assign(x,{[f]:b}),a.set(g,x)})}}),Array.from(a.values())}function _g(e){return e.stackId!=null&&e.dataKey!=null}var xg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function wg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dne(e,t,r){return(t=hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S_=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},C6=(e,t)=>e.cartesianAxis.xAxis[t],$s=(e,t)=>{var r=C6(e,t);return r??jn},On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:S_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wd},A6=(e,t)=>e.cartesianAxis.yAxis[t],Us=(e,t)=>{var r=A6(e,t);return r??On},pne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??pne},sn=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Us(e,r);case"zAxis":return zw(e,r);case"angleAxis":return Fw(e,r);case"radiusAxis":return $w(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mne=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Us(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Kd=(e,t,r)=>{switch(t){case"xAxis":return $s(e,r);case"yAxis":return Us(e,r);case"angleAxis":return Fw(e,r);case"radiusAxis":return $w(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},N6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function j6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ww=e=>e.graphicalItems.cartesianItems,gne=oe([dr,bg],j6),O6=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Xd=oe([Ww,sn,gne],O6,{memoizeOptions:{resultEqualityCheck:wg}}),P6=oe([Xd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_g)),I6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vne=oe([Xd],I6),R6=e=>e.map(t=>t.data).filter(Boolean).flat(1),yne=oe([Xd],R6,{memoizeOptions:{resultEqualityCheck:wg}}),D6=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},qw=oe([yne,Iw],D6),L6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:rn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:rn(i,n)}))):e.map(n=>({value:n})),Eg=oe([qw,sn,Xd],L6);function M6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lp(e){if(ts(e)||e instanceof Date){var t=Number(e);if(Wr(t))return t}}function Lj(e){if(Array.isArray(e)){var t=[lp(e[0]),lp(e[1])];return jo(t)?t:void 0}var r=lp(e);if(r!=null)return[r,r]}function yu(e){return e.map(lp).filter(RZ)}function bne(e,t,r){return!r||typeof t!="number"||ai(t)?[]:r.length?yu(r.flatMap(n=>{var i=rn(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Wr(s)||!Wr(a)))return[t-s,t+a]})):[]}var _ne=oe([P6,Iw,fr],S6),B6=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,c=o.map(Hw);return[a,{stackedData:cJ(e,c,r),graphicalItems:o}]}))},C_=oe([_ne,P6,gg],B6),F6=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var a=mJ(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},xne=oe([sn],e=>e.allowDataOverflow),Vw=e=>{var t;if(e==null||!("domain"in e))return S_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=yu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:S_},$6=oe([sn],Vw),U6=oe([$6,xne],r6),wne=oe([C_,Ma,dr,U6],F6,{memoizeOptions:{resultEqualityCheck:xg}}),Gw=e=>e.errorBars,Ene=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>M6(r,n)),fm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},H6=(e,t,r,n,i)=>{var s,a;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var d,f,p=(d=n[c.id])===null||d===void 0?void 0:d.filter(w=>M6(i,w)),v=rn(o,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey),g=bne(o,v,p);if(g.length>=2){var b=Math.min(...g),x=Math.max(...g);(s==null||b<s)&&(s=b),(a==null||x>a)&&(a=x)}var _=Lj(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=Lj(rn(o,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Wr(s)&&Wr(a))return[s,a]},kne=oe([qw,sn,vne,Gw,dr],H6,{memoizeOptions:{resultEqualityCheck:xg}});function Tne(e){var{value:t}=e;if(ts(t)||t instanceof Date)return t}var Sne=(e,t,r)=>{var n=e.map(Tne).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hD(n))?xL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},z6=e=>e.referenceElements.dots,bu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Cne=oe([z6,dr,bg],bu),W6=e=>e.referenceElements.areas,Ane=oe([W6,dr,bg],bu),q6=e=>e.referenceElements.lines,Nne=oe([q6,dr,bg],bu),V6=(e,t)=>{var r=yu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jne=oe(Cne,dr,V6),G6=(e,t)=>{var r=yu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},One=oe([Ane,dr],G6),Y6=(e,t)=>{var r=yu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pne=oe(Nne,dr,Y6),Ine=oe(jne,Pne,One,(e,t,r)=>fm(e,r,t)),K6=(e,t,r,n,i,s,a,o)=>{if(r!=null)return r;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=c?fm(n,s,i):fm(s,i);return Vre(t,d,e.allowDataOverflow)},Rne=oe([sn,$6,U6,wne,kne,Ine,yt,dr],K6,{memoizeOptions:{resultEqualityCheck:xg}}),Dne=[0,1],X6=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:c}=e,d=Do(t,s);return d&&o==null?xL(0,r.length):c==="category"?Sne(n,e,d):i==="expand"?Dne:a}},Yw=oe([sn,yt,qw,Eg,gg,dr,Rne],X6),Q6=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Ud(s));return o in zc?o:"point"}}},Qd=oe([sn,yt,N6,Lw,dr],Q6);function Lne(e){if(e!=null){if(e in zc)return zc[e]();var t="scale".concat(Ud(e));if(t in zc)return zc[t]()}}function Kw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Lne(t);if(i!=null){var s=i.domain(r).range(n);return sJ(s),s}}}var J6=(e,t,r)=>{var n=Vw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&jo(e))return rne(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&jo(e))return nne(e,t.tickCount,t.allowDecimals)}},Xw=oe([Yw,Kd,Qd],J6),Z6=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&jo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},Mne=oe([sn,Yw,Xw,dr],Z6),Bne=oe(Eg,sn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(yu(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),e4=oe(Bne,yt,y6,Er,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Wr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Pi(r,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),Fne=(e,t)=>{var r=$s(e,t);return r==null||typeof r.padding!="string"?0:e4(e,"xAxis",t,r.padding)},$ne=(e,t)=>{var r=Us(e,t);return r==null||typeof r.padding!="string"?0:e4(e,"yAxis",t,r.padding)},Une=oe($s,Fne,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Hne=oe(Us,$ne,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),zne=oe([Er,Une,ag,sg,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Wne=oe([Er,yt,Hne,ag,sg,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return zne(e,r,n);case"yAxis":return Wne(e,r,n);case"zAxis":return(i=zw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return w6(e);case"radiusAxis":return E6(e,r);default:return}},t4=oe([sn,Jd],vg),_u=oe([sn,Qd,Mne,t4],Kw);oe([Xd,Gw,dr],Ene);function r4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kg=(e,t)=>t,Tg=(e,t,r)=>r,qne=oe(ng,kg,Tg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(r4)),Vne=oe(ig,kg,Tg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(r4)),n4=(e,t)=>({width:e.width,height:t.height}),Gne=(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}},i4=oe(Er,$s,n4),Yne=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Kne=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Xne=oe(Bs,Er,qne,kg,Tg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var c=n4(t,o);a==null&&(a=Yne(t,n,e));var d=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),Qne=oe(Ms,Er,Vne,kg,Tg,(e,t,r,n,i)=>{var s={},a;return r.forEach(o=>{var c=Gne(t,o);a==null&&(a=Kne(t,n,e));var d=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),Jne=(e,t)=>{var r=$s(e,t);if(r!=null)return Xne(e,r.orientation,r.mirror)},Zne=oe([Er,$s,Jne,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),eie=(e,t)=>{var r=Us(e,t);if(r!=null)return Qne(e,r.orientation,r.mirror)},tie=oe([Er,Us,eie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),s4=oe(Er,Us,(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}}),Mj=(e,t,r)=>{switch(t){case"xAxis":return i4(e,r).width;case"yAxis":return s4(e,r).height;default:return}},a4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=Do(e,n),c=t.map(d=>d.value);if(a&&o&&s==="category"&&i&&hD(c))return c}},Qw=oe([yt,Eg,sn,dr],a4),o4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Do(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},Jw=oe([yt,Eg,Kd,dr],o4),Bj=oe([yt,mne,Qd,_u,Qw,Jw,Jd,Xw,dr],(e,t,r,n,i,s,a,o,c)=>{if(t==null)return null;var d=Do(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:o,range:a,realScaleType:r,scale:n}}),rie=(e,t,r,n,i,s,a,o,c)=>{if(!(t==null||n==null)){var d=Do(e,c),{type:f,ticks:p,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=f==="category"&&n.bandwidth?n.bandwidth()/g:0;b=c==="angleAxis"&&s!=null&&s.length>=2?_n(s[0]-s[1])*2*b:b;var x=p||i;if(x){var _=x.map((w,A)=>{var S=a?a.indexOf(w):w;return{index:A,coordinate:n(S)+b,value:w,offset:b}});return _.filter(w=>!ai(w.coordinate))}return d&&o?o.map((w,A)=>({coordinate:n(w)+b,value:w,index:A,offset:b})):n.ticks?n.ticks(v).map(w=>({coordinate:n(w)+b,value:w,offset:b})):n.domain().map((w,A)=>({coordinate:n(w)+b,value:a?a[w]:w,index:A,offset:b}))}},l4=oe([yt,Kd,Qd,_u,Xw,Jd,Qw,Jw,dr],rie),nie=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Do(e,a),{tickCount:c}=t,d=0;return d=a==="angleAxis"&&(n==null?void 0:n.length)>=2?_n(n[0]-n[1])*2*d:d,o&&s?s.map((f,p)=>({coordinate:r(f)+d,value:f,index:p,offset:d})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,p)=>({coordinate:r(f)+d,value:i?i[f]:f,index:p,offset:d}))}},Ql=oe([yt,Kd,_u,Jd,Qw,Jw,dr],nie),Jl=oe(sn,_u,(e,t)=>{if(!(e==null||t==null))return hm(hm({},e),{},{scale:t})}),iie=oe([sn,Qd,Yw,t4],Kw);oe((e,t,r)=>zw(e,r),iie,(e,t)=>{if(!(e==null||t==null))return hm(hm({},e),{},{scale:t})});var sie=oe([yt,ng,ig],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),u4=e=>e.options.defaultTooltipEventType,c4=e=>e.options.validateTooltipEventTypes;function d4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Zw(e,t){var r=u4(e),n=c4(e);return d4(t,r,n)}function aie(e){return Ve(t=>Zw(t,e))}var h4=(e,t)=>{var r,n=Number(t);if(!(ai(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},oie=e=>e.tooltip.settings,xa={active:!1,index:null,dataKey:void 0,coordinate:void 0},lie={itemInteraction:{click:xa,hover:xa},axisInteraction:{click:xa,hover:xa},keyboardInteraction:xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},f4=Un({name:"tooltip",initialState:lie,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Jr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ss(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Jr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:uie,removeTooltipEntrySettings:cie,setTooltipSettingsState:die,setActiveMouseOverItemIndex:p4,mouseLeaveItem:hie,mouseLeaveChart:m4,setActiveClickItemIndex:fie,setMouseOverAxisIndex:g4,setMouseClickAxisIndex:pie,setSyncInteraction:A_,setKeyboardInteraction:N_}=f4.actions,mie=f4.reducer;function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gie(e,t,r){return(t=vie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vie(e){var t=yie(e,"string");return typeof t=="symbol"?t:t+""}function yie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bie(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _ie(e){return e.index!=null}var v4=(e,t,r,n)=>{if(t==null)return xa;var i=bie(e,t,r);if(i==null)return xa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(_ie(i)){if(s)return Yf(Yf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Yf(Yf({},xa),{},{coordinate:i.coordinate})},eE=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Wr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},y4=(e,t,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var c=a[0],d=c==null?void 0:o(c.positions,s);if(d!=null)return d;var f=i==null?void 0:i[Number(s)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},b4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Zd=e=>e.options.tooltipPayloadSearcher,xu=e=>e.tooltip;function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t,r){return(t=wie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kie(e,t){return e??t}var _4=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:f}=r,p=[];return e.reduce((v,g)=>{var b,{dataDefinedOnItem:x,settings:_}=g,w=kie(x,o),A=Array.isArray(w)?eL(w,d,f):w,S=(b=_==null?void 0:_.dataKey)!==null&&b!==void 0?b:n,O=_==null?void 0:_.nameKey,j;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&a==="axis"?j=UK(A,n,i):j=s(A,t,c,O),Array.isArray(j))j.forEach(P=>{var D=Uj(Uj({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(yN({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:rn(P.payload,P.dataKey),name:P.name}))});else{var N;v.push(yN({tooltipEntrySettings:_,dataKey:S,payload:j,value:rn(j,S),name:(N=rn(j,O))!==null&&N!==void 0?N:_==null?void 0:_.name}))}return v},p)}},tE=oe([fr,yt,N6,Lw,hr],Q6),Tie=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Sie=oe([hr,vu],j6),eh=oe([Tie,fr,Sie],O6,{memoizeOptions:{resultEqualityCheck:wg}}),Cie=oe([eh],e=>e.filter(_g)),Aie=oe([eh],R6,{memoizeOptions:{resultEqualityCheck:wg}}),wu=oe([Aie,Ma],D6),Nie=oe([Cie,Ma,fr],S6),rE=oe([wu,fr,eh],L6),x4=oe([fr],Vw),jie=oe([fr],e=>e.allowDataOverflow),w4=oe([x4,jie],r6),Oie=oe([eh],e=>e.filter(_g)),Pie=oe([Nie,Oie,gg],B6),Iie=oe([Pie,Ma,hr,w4],F6),Rie=oe([eh],I6),Die=oe([wu,fr,Rie,Gw,hr],H6,{memoizeOptions:{resultEqualityCheck:xg}}),Lie=oe([z6,hr,vu],bu),Mie=oe([Lie,hr],V6),Bie=oe([W6,hr,vu],bu),Fie=oe([Bie,hr],G6),$ie=oe([q6,hr,vu],bu),Uie=oe([$ie,hr],Y6),Hie=oe([Mie,Uie,Fie],fm),zie=oe([fr,x4,w4,Iie,Die,Hie,yt,hr],K6),E4=oe([fr,yt,wu,rE,gg,hr,zie],X6),Wie=oe([E4,fr,tE],J6),qie=oe([fr,E4,Wie,hr],Z6),k4=e=>{var t=hr(e),r=vu(e),n=!1;return Jd(e,t,r,n)},T4=oe([fr,k4],vg),S4=oe([fr,tE,qie,T4],Kw),Vie=oe([yt,rE,fr,hr],a4),Gie=oe([yt,rE,fr,hr],o4),Yie=(e,t,r,n,i,s,a,o)=>{if(t){var{type:c}=t,d=Do(e,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_n(i[0]-i[1])*2*p:p,d&&a?a.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:s?s[v]:v,index:g,offset:p}))}}},Hs=oe([yt,fr,tE,S4,k4,Vie,Gie,hr],Yie),nE=oe([u4,c4,oie],(e,t,r)=>d4(r.shared,e,t)),C4=e=>e.tooltip.settings.trigger,iE=e=>e.tooltip.settings.defaultIndex,Sg=oe([xu,nE,C4,iE],v4),Zl=oe([Sg,wu],eE),A4=oe([Hs,Zl],h4),N4=oe([Sg],e=>{if(e)return e.dataKey}),j4=oe([xu,nE,C4,iE],b4),Kie=oe([Ms,Bs,yt,Er,Hs,iE,j4,Zd],y4),Xie=oe([Sg,Kie],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Qie=oe([Sg],e=>e.active),Jie=oe([j4,Zl,Ma,T6,A4,Zd,nE],_4);oe([Jie],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){Zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zie(e,t,r){return(t=ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rse=()=>Ve(fr),nse=()=>{var e=rse(),t=Ve(Hs),r=Ve(S4);return iw(zj(zj({},e),{},{scale:r}),t)},ise=()=>Ve(Lw),sE=(e,t)=>t,O4=(e,t,r)=>r,aE=(e,t,r,n)=>n,sse=oe(Hs,e=>Qm(e,t=>t.coordinate)),oE=oe([xu,sE,O4,aE],v4),P4=oe([oE,wu],eE),ase=(e,t,r)=>{if(t!=null){var n=xu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},I4=oe([xu,sE,O4,aE],b4),pm=oe([Ms,Bs,yt,Er,Hs,aE,I4,Zd],y4),ose=oe([oE,pm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),R4=oe(Hs,P4,h4),lse=oe([I4,P4,Ma,T6,R4,Zd,sE],_4),use=oe([oE],e=>({isActive:e.active,activeIndex:e.index})),cse=(e,t,r,n,i,s,a,o)=>{if(!(!e||!t||!n||!i||!s)){var c=gJ(e.chartX,e.chartY,t,r,o);if(c){var d=yJ(c,t),f=nJ(d,a,s,n,i),p=vJ(t,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}};function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(null,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dse(e,t,r){return(t=hse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hse(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pse(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:c,chartName:d}=e,f=t,p=r,v=n;if(!o||!f||d!=="ScatterChart"&&c!=="axis")return null;var g,b;if(d==="ScatterChart")g=f,b=CZ;else if(d==="BarChart")g=AZ(a,f,i,s),b=vL;else if(a==="radial"){var{cx:x,cy:_,radius:w,startAngle:A,endAngle:S}=yL(f);g={cx:x,cy:_,startAngle:A,endAngle:S,innerRadius:w,outerRadius:w},b=_L}else g={points:dee(a,f,i)},b=yZ;var O=typeof o=="object"&&"className"in o?o.className:void 0,j=Kf(Kf(Kf(Kf({stroke:"#ccc",pointerEvents:"none"},i),g),zx(o)),{},{payload:p,payloadIndex:v,className:It("recharts-tooltip-cursor",O)});return E.isValidElement(o)?E.cloneElement(o,j):E.createElement(b,j)}function mse(e){var t=nse(),r=lL(),n=ow(),i=ise();return E.createElement(pse,j_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var D4=E.createContext(null),gse=()=>E.useContext(D4),Nb={exports:{}},qj;function vse(){return qj||(qj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||c,v),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,b=new Array(g);v<g;v++)b[v]=p[v].fn;return b},o.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(d,f,p,v,g,b){var x=r?r+d:d;if(!this._events[x])return!1;var _=this._events[x],w=arguments.length,A,S;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,v),!0;case 5:return _.fn.call(_.context,f,p,v,g),!0;case 6:return _.fn.call(_.context,f,p,v,g,b),!0}for(S=1,A=new Array(w-1);S<w;S++)A[S-1]=arguments[S];_.fn.apply(_.context,A)}else{var O=_.length,j;for(S=0;S<O;S++)switch(_[S].once&&this.removeListener(d,_[S].fn,void 0,!0),w){case 1:_[S].fn.call(_[S].context);break;case 2:_[S].fn.call(_[S].context,f);break;case 3:_[S].fn.call(_[S].context,f,p);break;case 4:_[S].fn.call(_[S].context,f,p,v);break;default:if(!A)for(j=1,A=new Array(w-1);j<w;j++)A[j-1]=arguments[j];_[S].fn.apply(_[S].context,A)}}return!0},o.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},o.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},o.prototype.removeListener=function(d,f,p,v){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===f&&(!v||b.once)&&(!p||b.context===p)&&a(this,g);else{for(var x=0,_=[],w=b.length;x<w;x++)(b[x].fn!==f||v&&!b[x].once||p&&b[x].context!==p)&&_.push(b[x]);_.length?this._events[g]=_.length===1?_[0]:_:a(this,g)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Nb)),Nb.exports}var yse=vse();const bse=ui(yse);var Cd=new bse,O_="recharts.syncEvent.tooltip",Vj="recharts.syncEvent.brush";function _se(e,t){if(t){var r=Number.parseInt(t,10);if(!ai(r))return e==null?void 0:e[r]}}var xse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L4=Un({name:"options",initialState:xse,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wse=L4.reducer,{createEventEmitter:Ese}=L4.actions;function kse(e){return e.tooltip.syncInteraction}var Tse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M4=Un({name:"chartData",initialState:Tse,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Gj,setDataStartEndIndexes:Sse,setComputedData:hve}=M4.actions,Cse=M4.reducer,Ase=["x","y"];function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return(t=jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jse(e){var t=Ose(e,"string");return typeof t=="symbol"?t:t+""}function Ose(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pse(e,t){if(e==null)return{};var r,n,i=Ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B4=()=>{};function Rse(){var e=Ve(Mw),t=Ve(Bw),r=ur(),n=Ve(b6),i=Ve(Hs),s=ow(),a=og(),o=Ve(c=>c.rootProps.className);E.useEffect(()=>{if(e==null)return B4;var c=(d,f,p)=>{if(t!==p&&e===d){if(n==="index"){var v;if(a&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:b,y:x}=g,_=Pse(g,Ase),{x:w,y:A,width:S,height:O}=f.payload.sourceViewBox,j=El(El({},_),{},{x:a.x+(S?(b-w)/S:0)*a.width,y:a.y+(O?(x-A)/O:0)*a.height});r(El(El({},f),{},{payload:El(El({},f.payload),{},{coordinate:j})}))}else r(f);return}if(i!=null){var N;if(typeof n=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},D=n(i,P);N=i[D]}else n==="value"&&(N=i.find(J=>String(J.value)===f.payload.label));var{coordinate:$}=f.payload;if(N==null||f.payload.active===!1||$==null||a==null){r(A_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:M}=$,H=Math.min(I,a.x+a.width),q=Math.min(M,a.y+a.height),G={x:s==="horizontal"?N.coordinate:H,y:s==="horizontal"?q:N.coordinate},K=A_({active:f.payload.active,coordinate:G,dataKey:f.payload.dataKey,index:String(N.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});r(K)}}};return Cd.on(O_,c),()=>{Cd.off(O_,c)}},[o,r,t,e,n,i,s,a])}function Dse(){var e=Ve(Mw),t=Ve(Bw),r=ur();E.useEffect(()=>{if(e==null)return B4;var n=(i,s,a)=>{t!==a&&e===i&&r(Sse(s))};return Cd.on(Vj,n),()=>{Cd.off(Vj,n)}},[r,t,e])}function Lse(){var e=ur();E.useEffect(()=>{e(Ese())},[e]),Rse(),Dse()}function Mse(e,t,r,n,i,s){var a=Ve(g=>ase(g,e,t)),o=Ve(Bw),c=Ve(Mw),d=Ve(b6),f=Ve(kse),p=f==null?void 0:f.active,v=og();E.useEffect(()=>{if(!p&&c!=null&&o!=null){var g=A_({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v});Cd.emit(O_,c,g,o)}},[p,r,a,i,n,o,c,d,s,v])}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=$se(e,"string");return typeof t=="symbol"?t:t+""}function $se(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Use(e){return e.dataKey}function Hse(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(iZ,t)}var Qj=[],zse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wse(e){var t=di(e,zse),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:v,useTranslate3d:g,wrapperStyle:b,cursor:x,shared:_,trigger:w,defaultIndex:A,portal:S,axisId:O}=t,j=ur(),N=typeof A=="number"?String(A):A;E.useEffect(()=>{j(die({shared:_,trigger:w,axisId:O,active:r,defaultIndex:N}))},[j,_,w,O,r,N]);var P=og(),D=hL(),$=aie(_),{activeIndex:I,isActive:M}=Ve(Te=>use(Te,$,w,N)),H=Ve(Te=>lse(Te,$,w,N)),q=Ve(Te=>R4(Te,$,w,N)),G=Ve(Te=>ose(Te,$,w,N)),K=H,J=gse(),ae=r??M,[ie,de]=GX([K,ae]),L=$==="axis"?q:void 0;Mse($,w,G,L,I,ae);var V=S??J;if(V==null)return null;var ne=K??Qj;ae||(ne=Qj),o&&ne.length&&(ne=bX(K.filter(Te=>Te.value!=null&&(Te.hide!==!0||t.includeHidden)),f,Use));var F=ne.length>0,Ee=E.createElement(dZ,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:ae,coordinate:G,hasPayload:F,offset:d,position:p,reverseDirection:v,useTranslate3d:g,viewBox:P,wrapperStyle:b,lastBoundingBox:ie,innerRef:de,hasPortalFromProps:!!S},Hse(a,Xj(Xj({},t),{},{payload:ne,label:L,active:ae,coordinate:G,accessibilityLayer:D})));return E.createElement(E.Fragment,null,DP.createPortal(Ee,V),ae&&E.createElement(mse,{cursor:x,tooltipEventType:$,coordinate:G,payload:K,index:I}))}var lE=e=>null;lE.displayName="Cell";function qse(e,t,r){return(t=Vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yse{constructor(t){qse(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){Xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t,r){return(t=Qse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Jse(e,"string");return typeof t=="symbol"?t:t+""}function Jse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zse={cacheSize:2e3,enableCache:!0},F4=Kse({},Zse),Zj=new Yse(F4.cacheSize),eae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eO="recharts_measurement_span";function tae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var tO=(e,t)=>{try{var r=document.getElementById(eO);r||(r=document.createElement("span"),r.setAttribute("id",eO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,eae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ed=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fu.isSsr)return{width:0,height:0};if(!F4.enableCache)return tO(t,r);var n=tae(t,r),i=Zj.get(n);if(i)return i;var s=tO(t,r);return Zj.set(n,s),s},rO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iae=Object.keys($4),Ol="NaN";function sae(e,t){return e*$4[t]}class gn{static parse(t){var r,[,n,i]=(r=nae.exec(t))!==null&&r!==void 0?r:[];return new gn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ai(t)&&(this.unit=""),r!==""&&!rae.test(r)&&(this.num=NaN,this.unit=""),iae.includes(r)&&(this.num=sae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ai(this.num)}}function U4(e){if(e.includes(Ol))return Ol;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=rO.exec(t))!==null&&r!==void 0?r:[],a=gn.parse(n??""),o=gn.parse(s??""),c=i==="*"?a.multiply(o):a.divide(o);if(c.isNaN())return Ol;t=t.replace(rO,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,v]=(d=nO.exec(t))!==null&&d!==void 0?d:[],g=gn.parse(f??""),b=gn.parse(v??""),x=p==="+"?g.add(b):g.subtract(b);if(x.isNaN())return Ol;t=t.replace(nO,x.toString())}return t}var iO=/\(([^()]*)\)/;function aae(e){for(var t=e,r;(r=iO.exec(t))!=null;){var[,n]=r;t=t.replace(iO,U4(n))}return t}function oae(e){var t=e.replace(/\s+/g,"");return t=aae(t),t=U4(t),t}function lae(e){try{return oae(e)}catch{return Ol}}function jb(e){var t=lae(e.slice(5,-1));return t===Ol?"":t}var uae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cae=["dx","dy","angle","className","breakAll"];function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(null,arguments)}function sO(e,t){if(e==null)return{};var r,n,i=dae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H4=/[ \f\n\r\t\v\u2028\u2029]+/,z4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];wr(t)||(r?i=t.toString().split(""):i=t.toString().split(H4));var s=i.map(o=>({word:o,width:ed(o,n).width})),a=r?0:ed("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},hae=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:c}=e,d=ze(s),f=a,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((H,q)=>{var{word:G,width:K}=q,J=H[H.length-1];if(J&&(n==null||i||J.width+K+r<Number(n)))J.words.push(G),J.width+=K+r;else{var ae={words:[G],width:K};H.push(ae)}return H},[])},v=p(t),g=I=>I.reduce((M,H)=>M.width>H.width?M:H);if(!d||i)return v;var b=v.length>s||g(v).width>Number(n);if(!b)return v;for(var x="",_=I=>{var M=f.slice(0,I),H=z4({breakAll:c,style:o,children:M+x}).wordsWithComputedWidth,q=p(H),G=q.length>s||g(q).width>Number(n);return[G,q]},w=0,A=f.length-1,S=0,O;w<=A&&S<=f.length-1;){var j=Math.floor((w+A)/2),N=j-1,[P,D]=_(N),[$]=_(j);if(!P&&!$&&(w=j+1),P&&$&&(A=j-1),!P&&$){O=D;break}S++}return O||v},aO=e=>{var t=wr(e)?[]:e.toString().split(H4);return[{words:t}]},fae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!fu.isSsr){var o,c,d=z4({breakAll:s,children:n,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;o=f,c=p}else return aO(n);return hae({breakAll:s,children:n,maxLines:a,style:i},o,c,t,r)}return aO(n)},oO="#808080",uE=E.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=oO}=e,f=sO(e,uae),p=E.useMemo(()=>fae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:a,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,a,f.style,f.width]),{dx:v,dy:g,angle:b,className:x,breakAll:_}=f,w=sO(f,cae);if(!ts(r)||!ts(n)||p.length===0)return null;var A=r+(ze(v)?v:0),S=n+(ze(g)?g:0),O;switch(c){case"start":O=jb("calc(".concat(s,")"));break;case"middle":O=jb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:O=jb("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(a){var N=p[0].width,{width:P}=f;j.push("scale(".concat(ze(P)?P/N:1,")"))}return b&&j.push("rotate(".concat(b,", ").concat(A,", ").concat(S,")")),j.length&&(w.transform=j.join(" ")),E.createElement("text",P_({},si(w),{ref:t,x:A,y:S,className:It("recharts-text",x),textAnchor:o,fill:d.includes("url")?oO:d}),p.map((D,$)=>{var I=D.words.join(_?"":" ");return E.createElement("tspan",{x:A,dy:$===0?O:i,key:"".concat(I,"-").concat($)},I)}))});uE.displayName="Text";var pae=["labelRef"];function mae(e,t){if(e==null)return{};var r,n,i=gae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=bae(e,"string");return typeof t=="symbol"?t:t+""}function bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}var W4=E.createContext(null),_ae=e=>{var{x:t,y:r,width:n,height:i,children:s}=e,a=E.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return E.createElement(W4.Provider,{value:a},s)},q4=()=>{var e=E.useContext(W4),t=og();return e||t},xae=E.createContext(null),wae=()=>{var e=E.useContext(xae),t=Ve(k6);return e||t},Eae=e=>{var{value:t,formatter:r}=e,n=wr(e.children)?t:e.children;return typeof r=="function"?r(n):n},cE=e=>e!=null&&typeof e=="function",kae=(e,t)=>{var r=_n(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Tae=(e,t,r,n,i)=>{var{offset:s,className:a}=e,{cx:o,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:v,clockWise:g}=i,b=(d+f)/2,x=kae(p,v),_=x>=0?1:-1,w,A;switch(t){case"insideStart":w=p+_*s,A=g;break;case"insideEnd":w=v-_*s,A=!g;break;case"end":w=v+_*s,A=g;break;default:throw new Error("Unsupported position ".concat(t))}A=x<=0?A:!A;var S=Or(o,c,b,w),O=Or(o,c,b,w+(A?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),N=wr(e.id)?vd("recharts-radial-line-"):e.id;return E.createElement("text",xs({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:N,d:j})),E.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Sae=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(r==="outside"){var{x:f,y:p}=Or(n,i,a+t,d);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+a)/2,{x:g,y:b}=Or(n,i,v,d);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},V4=e=>"cx"in e&&ze(e.cx),Cae=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!V4(r)&&(s=r);var{x:a,y:o,width:c,height:d}=t,f=d>=0?1:-1,p=f*n,v=f>0?"end":"start",g=f>0?"start":"end",b=c>=0?1:-1,x=b*n,_=b>0?"end":"start",w=b>0?"start":"end";if(i==="top"){var A={x:a+c/2,y:o-f*n,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},A),s?{height:Math.max(o-s.y,0),width:c}:{})}if(i==="bottom"){var S={x:a+c/2,y:o+d+p,textAnchor:"middle",verticalAnchor:g};return Gt(Gt({},S),s?{height:Math.max(s.y+s.height-(o+d),0),width:c}:{})}if(i==="left"){var O={x:a-x,y:o+d/2,textAnchor:_,verticalAnchor:"middle"};return Gt(Gt({},O),s?{width:Math.max(O.x-s.x,0),height:d}:{})}if(i==="right"){var j={x:a+c+x,y:o+d/2,textAnchor:w,verticalAnchor:"middle"};return Gt(Gt({},j),s?{width:Math.max(s.x+s.width-j.x,0),height:d}:{})}var N=s?{width:c,height:d}:{};return i==="insideLeft"?Gt({x:a+x,y:o+d/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Gt({x:a+c-x,y:o+d/2,textAnchor:_,verticalAnchor:"middle"},N):i==="insideTop"?Gt({x:a+c/2,y:o+p,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Gt({x:a+c/2,y:o+d-p,textAnchor:"middle",verticalAnchor:v},N):i==="insideTopLeft"?Gt({x:a+x,y:o+p,textAnchor:w,verticalAnchor:g},N):i==="insideTopRight"?Gt({x:a+c-x,y:o+p,textAnchor:_,verticalAnchor:g},N):i==="insideBottomLeft"?Gt({x:a+x,y:o+d-p,textAnchor:w,verticalAnchor:v},N):i==="insideBottomRight"?Gt({x:a+c-x,y:o+d-p,textAnchor:_,verticalAnchor:v},N):i&&typeof i=="object"&&(ze(i.x)||js(i.x))&&(ze(i.y)||js(i.y))?Gt({x:a+Pi(i.x,c),y:o+Pi(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Gt({x:a+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Aae={offset:5};function ba(e){var t=di(e,Aae),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:c,labelRef:d}=t,f=wae(),p=q4(),v=n==="center"?p:f??p,g=r||v;if(!g||wr(i)&&wr(s)&&!E.isValidElement(a)&&typeof a!="function")return null;var b=Gt(Gt({},t),{},{viewBox:g});if(E.isValidElement(a)){var{labelRef:x}=b,_=mae(b,pae);return E.cloneElement(a,_)}var w;if(typeof a=="function"){if(w=E.createElement(a,b),E.isValidElement(w))return w}else w=Eae(t);var A=V4(g),S=si(t);if(A&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Tae(t,n,w,S,g);var O=A?Sae(g,t.offset,t.position):Cae(t,g);return E.createElement(uE,xs({ref:d,className:It("recharts-label",o)},S,O,{breakAll:c}),w)}ba.displayName="Label";var Nae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?E.createElement(ba,xs({key:"label-implicit"},n)):ts(e)?E.createElement(ba,xs({key:"label-implicit",value:e},n)):E.isValidElement(e)?e.type===ba?E.cloneElement(e,Gt({key:"label-implicit"},n)):E.createElement(ba,xs({key:"label-implicit",content:e},n)):cE(e)?E.createElement(ba,xs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?E.createElement(ba,xs({},e,{key:"label-implicit"},n)):null};function jae(e){var{label:t,labelRef:r}=e,n=q4();return Nae(t,n,r)||null}var Ob={},Pb={},uO;function Oae(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Pb)),Pb}var Ib={},cO;function Pae(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ib)),Ib}var dO;function Iae(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oae(),r=Pae(),n=Qx();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(Ob)),Ob}var Rb,hO;function Rae(){return hO||(hO=1,Rb=Iae().last),Rb}var Dae=Rae();const Lae=ui(Dae);var Mae=["valueAccessor"],Bae=["dataKey","clockWise","id","textBreakAll"];function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(null,arguments)}function fO(e,t){if(e==null)return{};var r,n,i=Fae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $ae=e=>Array.isArray(e.value)?Lae(e.value):e.value,G4=E.createContext(void 0),Uae=G4.Provider,Y4=E.createContext(void 0);Y4.Provider;function Hae(){return E.useContext(G4)}function zae(){return E.useContext(Y4)}function up(e){var{valueAccessor:t=$ae}=e,r=fO(e,Mae),{dataKey:n,clockWise:i,id:s,textBreakAll:a}=r,o=fO(r,Bae),c=Hae(),d=zae(),f=c||d;return!f||!f.length?null:E.createElement(ja,{className:"recharts-label-list"},f.map((p,v)=>{var g,b=wr(n)?t(p,v):rn(p&&p.payload,n),x=wr(s)?{}:{id:"".concat(s,"-").concat(v)};return E.createElement(ba,mm({key:"label-".concat(v)},si(p),o,x,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:v}))}))}up.displayName="LabelList";function Wae(e){var{label:t}=e;return t?t===!0?E.createElement(up,{key:"labelList-implicit"}):E.isValidElement(t)||cE(t)?E.createElement(up,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(up,mm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var qae={radiusAxis:{},angleAxis:{}},K4=Un({name:"polarAxis",initialState:qae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:fve,removeRadiusAxis:pve,addAngleAxis:mve,removeAngleAxis:gve}=K4.actions,Vae=K4.reducer,Db={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO;function Gae(){if(pO)return bt;pO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(x){if(typeof x=="object"&&x!==null){var _=x.$$typeof;switch(_){case e:switch(x=x.type,x){case r:case i:case n:case c:case d:case v:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case p:case f:return x;case s:return x;default:return _}}case t:return _}}}return bt.ContextConsumer=s,bt.ContextProvider=a,bt.Element=e,bt.ForwardRef=o,bt.Fragment=r,bt.Lazy=p,bt.Memo=f,bt.Portal=t,bt.Profiler=i,bt.StrictMode=n,bt.Suspense=c,bt.SuspenseList=d,bt.isContextConsumer=function(x){return b(x)===s},bt.isContextProvider=function(x){return b(x)===a},bt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},bt.isForwardRef=function(x){return b(x)===o},bt.isFragment=function(x){return b(x)===r},bt.isLazy=function(x){return b(x)===p},bt.isMemo=function(x){return b(x)===f},bt.isPortal=function(x){return b(x)===t},bt.isProfiler=function(x){return b(x)===i},bt.isStrictMode=function(x){return b(x)===n},bt.isSuspense=function(x){return b(x)===c},bt.isSuspenseList=function(x){return b(x)===d},bt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===c||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===a||x.$$typeof===s||x.$$typeof===o||x.$$typeof===g||x.getModuleId!==void 0)},bt.typeOf=b,bt}var mO;function Yae(){return mO||(mO=1,Db.exports=Gae()),Db.exports}var Kae=Yae(),gO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",vO=null,Lb=null,X4=e=>{if(e===vO&&Array.isArray(Lb))return Lb;var t=[];return E.Children.forEach(e,r=>{wr(r)||(Kae.isFragment(r)?t=t.concat(X4(r.props.children)):t.push(r))}),Lb=t,vO=e,t};function Xae(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>gO(i)):n=[gO(t)],X4(e).forEach(i=>{var s=Vl(i,"type.displayName")||Vl(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var Mb={},yO;function Qae(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Mb)),Mb}var Bb,bO;function Jae(){return bO||(bO=1,Bb=Qae().isPlainObject),Bb}var Zae=Jae();const eoe=ui(Zae);function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function toe(e,t,r){return(t=roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e){var t=noe(e,"string");return typeof t=="symbol"?t:t+""}function noe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(null,arguments)}var wO=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},ioe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},soe=e=>{var t=di(e,ioe),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:p}=t,v=E.useRef(null),[g,b]=E.useState(-1),x=E.useRef(i),_=E.useRef(s),w=E.useRef(a),A=E.useRef(r),S=E.useRef(n),O=uw(e,"trapezoid-");if(E.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var G=v.current.getTotalLength();G&&b(G)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=It("recharts-trapezoid",o);if(!p)return E.createElement("g",null,E.createElement("path",gm({},si(t),{className:j,d:wO(r,n,i,s,a)})));var N=x.current,P=_.current,D=w.current,$=A.current,I=S.current,M="0px ".concat(g===-1?1:g,"px"),H="".concat(g,"px 0px"),q=fL(["strokeDasharray"],d,c);return E.createElement(lw,{animationId:O,key:O,canBegin:g>0,duration:d,easing:c,isActive:p,begin:f},G=>{var K=Qr(N,i,G),J=Qr(P,s,G),ae=Qr(D,a,G),ie=Qr($,r,G),de=Qr(I,n,G);v.current&&(x.current=K,_.current=J,w.current=ae,A.current=ie,S.current=de);var L=G>0?{transition:q,strokeDasharray:H}:{strokeDasharray:M};return E.createElement("path",gm({},si(t),{className:j,d:wO(ie,de,K,J,ae),ref:v,style:xO(xO({},L),t.style)}))})},aoe=["option","shapeType","propTransformer","activeClassName","isActive"];function ooe(e,t){if(e==null)return{};var r,n,i=loe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function loe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){uoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uoe(e,t,r){return(t=coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function coe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hoe(e,t){return vm(vm({},t),e)}function foe(e,t){return e==="symbols"}function kO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return E.createElement(vL,r);case"trapezoid":return E.createElement(soe,r);case"sector":return E.createElement(_L,r);case"symbols":if(foe(t))return E.createElement(pD,r);break;default:return null}}function poe(e){return E.isValidElement(e)?e.props:e}function moe(e){var{option:t,shapeType:r,propTransformer:n=hoe,activeClassName:i="recharts-active-shape",isActive:s}=e,a=ooe(e,aoe),o;if(E.isValidElement(t))o=E.cloneElement(t,vm(vm({},a),poe(t)));else if(typeof t=="function")o=t(a);else if(eoe(t)&&typeof t!="boolean"){var c=n(t,a);o=E.createElement(kO,{shapeType:r,elementProps:c})}else{var d=a;o=E.createElement(kO,{shapeType:r,elementProps:d})}return s?E.createElement(ja,{className:i},o):o}var Q4=(e,t)=>{var r=ur();return(n,i)=>s=>{e==null||e(n,i,s),r(p4({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},J4=e=>{var t=ur();return(r,n)=>i=>{e==null||e(r,n,i),t(hie())}},Z4=(e,t)=>{var r=ur();return(n,i)=>s=>{e==null||e(n,i,s),r(fie({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function goe(e){var{fn:t,args:r}=e,n=ur(),i=Hn();return E.useLayoutEffect(()=>{if(!i){var s=t(r);return n(uie(s)),()=>{n(cie(s))}}},[t,r,n,i]),null}var voe=()=>{};function yoe(e){var{legendPayload:t}=e,r=ur(),n=Hn();return E.useLayoutEffect(()=>n?voe:(r(QJ(t)),()=>{r(JJ(t))}),[r,n,t]),null}var Fb,boe=()=>{var[e]=E.useState(()=>vd("uid-"));return e},_oe=(Fb=HB.useId)!==null&&Fb!==void 0?Fb:boe;function xoe(e,t){var r=_oe();return t||(e?"".concat(e,"-").concat(r):r)}var woe=E.createContext(void 0),Eoe=e=>{var{id:t,type:r,children:n}=e,i=xoe("recharts-".concat(r),t);return E.createElement(woe.Provider,{value:i},n(i))},koe={cartesianItems:[],polarItems:[]},eM=Un({name:"graphicalItems",initialState:koe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Jr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ss(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Jr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ss(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Jr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Jr()},removePolarGraphicalItem:{reducer(e,t){var r=Ss(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Jr()}}}),{addCartesianGraphicalItem:Toe,replaceCartesianGraphicalItem:Soe,removeCartesianGraphicalItem:Coe,addPolarGraphicalItem:vve,removePolarGraphicalItem:yve}=eM.actions,Aoe=eM.reducer;function Noe(e){var t=ur(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?t(Toe(e)):r.current!==e&&t(Soe({prev:r.current,next:e})),r.current=e},[t,e]),E.useLayoutEffect(()=>()=>{r.current&&(t(Coe(r.current)),r.current=null)},[t]),null}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function joe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=Poe(e,"string");return typeof t=="symbol"?t:t+""}function Poe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ioe={xAxis:{},yAxis:{},zAxis:{}},tM=Un({name:"cartesianAxis",initialState:Ioe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Jr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Jr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Jr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Jr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Jr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Jr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);e.yAxis[r]=SO(SO({},e.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:Roe,removeXAxis:Doe,addYAxis:Loe,removeYAxis:Moe,addZAxis:bve,removeZAxis:_ve,updateYAxisWidth:Boe}=tM.actions,Foe=tM.reducer,$oe=oe([Er],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Uoe=oe([$oe,Ms,Bs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),rM=()=>Ve(Uoe),Hoe="Invariant failed";function zoe(e,t){throw new Error(Hoe)}var Woe=["x","y"];function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I_.apply(null,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t,r){return(t=Voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Voe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yoe(e,t){if(e==null)return{};var r,n,i=Koe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xoe(e,t){var{x:r,y:n}=e,i=Yoe(e,Woe),s="".concat(r),a=parseInt(s,10),o="".concat(n),c=parseInt(o,10),d="".concat(t.height||i.height),f=parseInt(d,10),p="".concat(t.width||i.width),v=parseInt(p,10);return Oc(Oc(Oc(Oc(Oc({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function dE(e){return E.createElement(moe,I_({shapeType:"rectangle",propTransformer:Xoe,activeClassName:"recharts-active-bar"},e))}var Qoe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ze(t))return t;var s=ze(n)||wr(n);return s?t(n,i):(s||zoe(),r)}},Joe={},nM=Un({name:"errorBars",initialState:Joe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:xve,replaceErrorBar:wve,removeErrorBar:Eve}=nM.actions,Zoe=nM.reducer,ele=["children"];function tle(e,t){if(e==null)return{};var r,n,i=rle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ile=E.createContext(nle);function sle(e){var{children:t}=e,r=tle(e,ele);return E.createElement(ile.Provider,{value:r},t)}function iM(e,t){var r,n,i=Ve(d=>$s(d,e)),s=Ve(d=>Us(d,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:On.allowDataOverflow,c=a||o;return{needClip:c,needClipX:a,needClipY:o}}function ale(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=rM(),{needClipX:s,needClipY:a,needClip:o}=iM(t,r);if(!o)return null;var{x:c,y:d,width:f,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(n)},E.createElement("rect",{x:s?c:c-f/2,y:a?d:d-p/2,width:s?f:f*2,height:a?p:p*2}))}var ole=["onMouseEnter","onMouseLeave","onClick"],lle=["value","background","tooltipPosition"],ule=["id"],cle=["onMouseEnter","onClick","onMouseLeave"];function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(null,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){dle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dle(e,t,r){return(t=hle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hle(e){var t=fle(e,"string");return typeof t=="symbol"?t:t+""}function fle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ym(e,t){if(e==null)return{};var r,n,i=ple(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ple(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mle=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:nL(r,t),payload:e}]};function gle(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:nL(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function vle(e){var t=Ve(Zl),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:c}=s,d=ym(s,ole),f=Q4(a,n),p=J4(o),v=Z4(c,n);if(!i||r==null)return null;var g=zx(i);return E.createElement(E.Fragment,null,r.map((b,x)=>{var{value:_,background:w,tooltipPosition:A}=b,S=ym(b,lle);if(!w)return null;var O=f(b,x),j=p(b,x),N=v(b,x),P=Zr(Zr(Zr(Zr(Zr({option:i,isActive:String(x)===t},S),{},{fill:"#eee"},w),g),Xx(d,b,x)),{},{onMouseEnter:O,onMouseLeave:j,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return E.createElement(dE,Oa({key:"background-bar-".concat(x)},P))}))}function yle(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return Zr(Zr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return E.createElement(Uae,{value:t?i:void 0},r)}function ble(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=e,o=Ve(Zl),c=Ve(N4),d=r&&String(s)===o&&(c==null||a===c),f=d?r:t;return E.createElement(dE,Oa({},n,{name:String(n.name)},i,{isActive:d,option:f,index:s,dataKey:a}))}function _le(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return E.createElement(dE,Oa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function xle(e){var{data:t,props:r}=e,n=Ns(r),{id:i}=n,s=ym(n,ule),{shape:a,dataKey:o,activeBar:c}=r,{onMouseEnter:d,onClick:f,onMouseLeave:p}=r,v=ym(r,cle),g=Q4(d,o),b=J4(p),x=Z4(f,o);return t?E.createElement(E.Fragment,null,t.map((_,w)=>E.createElement(ja,Oa({key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(w),className:"recharts-bar-rectangle"},Xx(v,_,w),{onMouseEnter:g(_,w),onMouseLeave:b(_,w),onClick:x(_,w)}),c?E.createElement(ble,{shape:a,activeBar:c,baseProps:s,entry:_,index:w,dataKey:o}):E.createElement(_le,{shape:a,baseProps:s,entry:_,index:w,dataKey:o})))):null}function wle(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,p=r.current,v=uw(t,"recharts-bar-"),[g,b]=E.useState(!1),x=!g,_=E.useCallback(()=>{typeof d=="function"&&d(),b(!1)},[d]),w=E.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return E.createElement(yle,{showLabels:x,rects:n},E.createElement(lw,{animationId:v,begin:a,duration:o,isActive:s,easing:c,onAnimationEnd:_,onAnimationStart:w,key:v},A=>{var S=A===1?n:n==null?void 0:n.map((O,j)=>{var N=p&&p[j];if(N)return Zr(Zr({},O),{},{x:Qr(N.x,O.x,A),y:Qr(N.y,O.y,A),width:Qr(N.width,O.width,A),height:Qr(N.height,O.height,A)});if(i==="horizontal"){var P=Qr(0,O.height,A);return Zr(Zr({},O),{},{y:O.y+O.height-P,height:P})}var D=Qr(0,O.width,A);return Zr(Zr({},O),{},{width:D})});return A>0&&(r.current=S??null),S==null?null:E.createElement(ja,null,E.createElement(xle,{props:t,data:S}))}),E.createElement(Wae,{label:t.label}),t.children)}function Ele(e){var t=E.useRef(null);return E.createElement(wle,{previousRectanglesRef:t,props:e})}var sM=0,kle=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:rn(e,t)}};class Tle extends E.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:c,id:d}=this.props;if(t||r==null)return null;var f=It("recharts-bar",i),p=d;return E.createElement(ja,{className:f,id:d},o&&E.createElement("defs",null,E.createElement(ale,{clipPathId:p,xAxisId:s,yAxisId:a})),E.createElement(ja,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},E.createElement(vle,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),E.createElement(Ele,this.props)))}}var Sle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fu.isSsr,legendType:"rect",minPointSize:sM,xAxisId:0,yAxisId:0};function Cle(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:f}=e,{needClip:p}=iM(t,r),v=ow(),g=Hn(),b=Xae(e.children,lE),x=Ve(A=>tue(A,t,r,g,e.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var _,w=x==null?void 0:x[0];return w==null||w.height==null||w.width==null?_=0:_=v==="vertical"?w.height/2:w.width/2,E.createElement(sle,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:kle,errorBarOffset:_},E.createElement(Tle,Oa({},e,{layout:v,needClip:p,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function Ale(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:p,offset:v,cells:g,parentViewBox:b}=e,x=t==="horizontal"?o:a,_=f?x.scale.domain():null,w=hJ({numericAxis:x});return p.map((A,S)=>{var O,j,N,P,D,$;f?O=aJ(f[S],_):(O=rn(A,r),Array.isArray(O)||(O=[w,O]));var I=Qoe(n,sM)(O[1],S);if(t==="horizontal"){var M,[H,q]=[o.scale(O[0]),o.scale(O[1])];j=mN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:A,index:S}),N=(M=q??H)!==null&&M!==void 0?M:void 0,P=i.size;var G=H-q;if(D=ai(G)?0:G,$={x:j,y:v.top,width:P,height:v.height},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var K=_n(D||I)*(Math.abs(I)-Math.abs(D));N-=K,D+=K}}else{var[J,ae]=[a.scale(O[0]),a.scale(O[1])];if(j=J,N=mN({axis:o,ticks:d,bandSize:s,offset:i.offset,entry:A,index:S}),P=ae-J,D=i.size,$={x:v.left,y:N,width:v.width,height:D},Math.abs(I)>0&&Math.abs(P)<Math.abs(I)){var ie=_n(P||I)*(Math.abs(I)-Math.abs(P));P+=ie}}if(j==null||N==null||P==null||D==null)return null;var de=Zr(Zr({},A),{},{x:j,y:N,width:P,height:D,value:f?O:O[1],payload:A,background:$,tooltipPosition:{x:j+P/2,y:N+D/2},parentViewBox:b},g&&g[S]&&g[S].props);return de}).filter(Boolean)}function Nle(e){var t=di(e,Sle),r=Hn();return E.createElement(Eoe,{id:t.id,type:"bar"},n=>E.createElement(E.Fragment,null,E.createElement(yoe,{legendPayload:mle(t)}),E.createElement(goe,{fn:gle,args:t}),E.createElement(Noe,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:dJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),E.createElement(Cle,Oa({},t,{id:n}))))}var aM=E.memo(Nle);aM.displayName="Bar";function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){jle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jle(e,t,r){return(t=Ole(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ole(e){var t=Ple(e,"string");return typeof t=="symbol"?t:t+""}function Ple(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ile=(e,t)=>t,Rle=(e,t,r)=>r,Dle=(e,t,r,n)=>n,Lle=(e,t,r,n,i)=>i,th=oe([Ww,Lle],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Mle=oe([th],e=>e==null?void 0:e.maxBarSize),Ble=(e,t,r,n,i,s)=>s,jO=(e,t,r)=>{var n=r??e;if(!wr(n))return Pi(n,t,0)},Fle=oe([yt,Ww,Ile,Rle,Dle],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),$le=(e,t,r,n)=>{var i=yt(e);return i==="horizontal"?C_(e,"yAxis",r,n):C_(e,"xAxis",t,n)},Ule=(e,t,r)=>{var n=yt(e);return n==="horizontal"?Mj(e,"xAxis",t):Mj(e,"yAxis",r)},Hle=(e,t,r)=>{var n={},i=e.filter(_g),s=e.filter(d=>d.stackId==null),a=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),o=Object.entries(a).map(d=>{var[f,p]=d,v=p.map(b=>b.dataKey),g=jO(t,r,p[0].barSize);return{stackId:f,dataKeys:v,barSize:g}}),c=s.map(d=>{var f=[d.dataKey].filter(v=>v!=null),p=jO(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...o,...c]},zle=oe([Fle,sne,Ule],Hle),Wle=(e,t,r,n,i)=>{var s,a,o=th(e,t,r,n,i);if(o!=null){var c=yt(e),d=v6(e),{maxBarSize:f}=o,p=wr(f)?d:f,v,g;return c==="horizontal"?(v=Jl(e,"xAxis",t,n),g=Ql(e,"xAxis",t,n)):(v=Jl(e,"yAxis",r,n),g=Ql(e,"yAxis",r,n)),(s=(a=iw(v,g,!0))!==null&&a!==void 0?a:p)!==null&&s!==void 0?s:0}},oM=(e,t,r,n)=>{var i=yt(e),s,a;return i==="horizontal"?(s=Jl(e,"xAxis",t,n),a=Ql(e,"xAxis",t,n)):(s=Jl(e,"yAxis",r,n),a=Ql(e,"yAxis",r,n)),iw(s,a)};function qle(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Pi(e,r,0,!0),o,c=[];if(Wr(n[0].barSize)){var d=!1,f=r/s,p=n.reduce((w,A)=>w+(A.barSize||0),0);p+=(s-1)*a,p>=r&&(p-=(s-1)*a,a=0),p>=r&&f>0&&(d=!0,f*=.9,p=s*f);var v=(r-p)/2>>0,g={offset:v-a,size:0};o=n.reduce((w,A)=>{var S,O={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:g.offset+g.size+a,size:d?f:(S=A.barSize)!==null&&S!==void 0?S:0}},j=[...w,O];return g=j[j.length-1].position,j},c)}else{var b=Pi(t,r,0,!0);r-2*b-(s-1)*a<=0&&(a=0);var x=(r-2*b-(s-1)*a)/s;x>1&&(x>>=0);var _=Wr(i)?Math.min(x,i):x;o=n.reduce((w,A,S)=>[...w,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b+(x+a)*S+(x-_)/2,size:_}}],c)}return o}}var Vle=(e,t,r,n,i,s,a)=>{var o=wr(a)?t:a,c=qle(r,n,i!==s?i:s,e,o);return i!==s&&c!=null&&(c=c.map(d=>Xf(Xf({},d),{},{position:Xf(Xf({},d.position),{},{offset:d.position.offset-i/2})}))),c},Gle=oe([zle,v6,ine,y6,Wle,oM,Mle],Vle),Yle=(e,t,r,n)=>Jl(e,"xAxis",t,n),Kle=(e,t,r,n)=>Jl(e,"yAxis",r,n),Xle=(e,t,r,n)=>Ql(e,"xAxis",t,n),Qle=(e,t,r,n)=>Ql(e,"yAxis",r,n),Jle=oe([Gle,th],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Zle=(e,t)=>{var r=Hw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},eue=oe([$le,th],Zle),tue=oe([Er,sw,Yle,Kle,Xle,Qle,Jle,yt,Iw,oM,eue,th,Ble],(e,t,r,n,i,s,a,o,c,d,f,p,v)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:x}=c;if(!(p==null||a==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||s==null||d==null)){var{data:_}=p,w;if(_!=null&&_.length>0?w=_:w=g==null?void 0:g.slice(b,x+1),w!=null)return Ale({layout:o,barSettings:p,pos:a,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:f,displayedData:w,offset:e,cells:v})}}),rue=e=>{var{chartData:t}=e,r=ur(),n=Hn();return E.useEffect(()=>n?()=>{}:(r(Gj(t)),()=>{r(Gj(void 0))}),[t,r,n]),null},OO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lM=Un({name:"brush",initialState:OO,reducers:{setBrushSettings(e,t){return t.payload==null?OO:t.payload}}}),{setBrushSettings:kve}=lM.actions,nue=lM.reducer;function iue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=aue(e,"string");return typeof t=="symbol"?t:t+""}function aue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hE{static create(t){return new hE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}iue(hE,"EPS",1e-4);function oue(e){return(e%180+180)%180}var lue=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=oue(i),a=s*Math.PI/180,o=Math.atan(n/r),c=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},uue={dots:[],areas:[],lines:[]},uM=Un({name:"referenceElements",initialState:uue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ss(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ss(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ss(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Tve,removeDot:Sve,addArea:Cve,removeArea:Ave,addLine:Nve,removeLine:jve}=uM.actions,cue=uM.reducer,due=E.createContext(void 0),hue=e=>{var{children:t}=e,[r]=E.useState("".concat(vd("recharts"),"-clip")),n=rM();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return E.createElement(due.Provider,{value:r},E.createElement("defs",null,E.createElement("clipPath",{id:r},E.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function eu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function cM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function fue(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lue(n,r)}function pue(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function bm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function mue(e,t){return cM(e,t+1)}function gue(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=t,c=0,d=1,f=a,p=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:cM(n,d)};var x=c,_,w=()=>(_===void 0&&(_=r(b,x)),_),A=b.coordinate,S=c===0||bm(e,A,w,f,o);S||(c=0,f=a,d+=1),S&&(f=A+e*(w()/2+i),c+=d)},v;d<=s.length;)if(v=p(),v)return v.v;return[]}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vue(e,t,r){return(t=yue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=bue(e,"string");return typeof t=="symbol"?t:t+""}function bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ue(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=t,{end:c}=t,d=function(v){var g=s[v],b,x=()=>(b===void 0&&(b=r(g,v)),b);if(v===a-1){var _=e*(g.coordinate+e*x()/2-c);s[v]=g=Ur(Ur({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else s[v]=g=Ur(Ur({},g),{},{tickCoord:g.coordinate});var w=bm(e,g.tickCoord,x,o,c);w&&(c=g.tickCoord-e*(x()/2+i),s[v]=Ur(Ur({},g),{},{isShow:!0}))},f=a-1;f>=0;f--)d(f);return s}function xue(e,t,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:c,end:d}=t;if(s){var f=n[o-1],p=r(f,o-1),v=e*(f.coordinate+e*p/2-d);a[o-1]=f=Ur(Ur({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate});var g=bm(e,f.tickCoord,()=>p,c,d);g&&(d=f.tickCoord-e*(p/2+i),a[o-1]=Ur(Ur({},f),{},{isShow:!0}))}for(var b=s?o-1:o,x=function(A){var S=a[A],O,j=()=>(O===void 0&&(O=r(S,A)),O);if(A===0){var N=e*(S.coordinate-e*j()/2-c);a[A]=S=Ur(Ur({},S),{},{tickCoord:N<0?S.coordinate-N*e:S.coordinate})}else a[A]=S=Ur(Ur({},S),{},{tickCoord:S.coordinate});var P=bm(e,S.tickCoord,j,c,d);P&&(c=S.tickCoord+e*(j()/2+i),a[A]=Ur(Ur({},S),{},{isShow:!0}))},_=0;_<b;_++)x(_);return a}function fE(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:c,tickFormatter:d,unit:f,angle:p}=e;if(!i||!i.length||!n)return[];if(ze(c)||fu.isSsr){var v;return(v=mue(i,ze(c)?c:0))!==null&&v!==void 0?v:[]}var g=[],b=o==="top"||o==="bottom"?"width":"height",x=f&&b==="width"?ed(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(S,O)=>{var j=typeof d=="function"?d(S.value,O):S.value;return b==="width"?fue(ed(j,{fontSize:t,letterSpacing:r}),x,p):ed(j,{fontSize:t,letterSpacing:r})[b]},w=i.length>=2?_n(i[1].coordinate-i[0].coordinate):1,A=pue(s,w,b);return c==="equidistantPreserveStart"?gue(w,A,_,i,a):(c==="preserveStart"||c==="preserveStartEnd"?g=xue(w,A,_,i,a,c==="preserveStartEnd"):g=_ue(w,A,_,i,a),g.filter(S=>S.isShow))}var wue=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+s,d=a+c+o+(r?n:0);return Math.round(d)}return 0},Eue=["axisLine","width","height","className","hide","ticks"],kue=["viewBox"],Tue=["viewBox"];function R_(e,t){if(e==null)return{};var r,n,i=Sue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return(t=Aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aue(e){var t=Nue(e,"string");return typeof t=="symbol"?t:t+""}function Nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function jue(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=ar(ar(ar({},c),Ns(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=ar(ar({},d),{},{x1:t,y1:r+f*i,x2:t+n,y2:r+f*i})}else{var p=+(s==="left"&&!a||s==="right"&&a);d=ar(ar({},d),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return E.createElement("line",Po({},d,{className:It("recharts-cartesian-axis-line",Vl(o,"className"))}))}function Oue(e,t,r,n,i,s,a,o,c){var d,f,p,v,g,b,x=o?-1:1,_=e.tickSize||a,w=ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":d=f=e.coordinate,v=r+ +!o*i,p=v-x*_,b=p-x*c,g=w;break;case"left":p=v=e.coordinate,f=t+ +!o*n,d=f-x*_,g=d-x*c,b=w;break;case"right":p=v=e.coordinate,f=t+ +o*n,d=f+x*_,g=d+x*c,b=w;break;default:d=f=e.coordinate,v=r+ +o*i,p=v+x*_,b=p+x*c,g=w;break}return{line:{x1:d,y1:p,x2:f,y2:v},tick:{x:g,y:b}}}function Pue(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Iue(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rue(e){var{option:t,tickProps:r,value:n}=e,i,s=It(r.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,ar(ar({},r),{},{className:s}));else if(typeof t=="function")i=t(ar(ar({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=It(a,t==null?void 0:t.className)),i=E.createElement(uE,Po({},r,{className:a}),n)}return i}function Due(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:c,orientation:d,mirror:f,x:p,y:v,width:g,height:b,tickSize:x,tickMargin:_,fontSize:w,letterSpacing:A,getTicksConfig:S,events:O}=e,j=fE(ar(ar({},S),{},{ticks:t}),w,A),N=Pue(d,f),P=Iue(d,f),D=Ns(S),$=zx(r),I={};typeof n=="object"&&(I=n);var M=ar(ar({},D),{},{fill:"none"},I),H=j.map((q,G)=>{var{line:K,tick:J}=Oue(q,p,v,g,b,d,x,f,_),ae=ar(ar(ar(ar({textAnchor:N,verticalAnchor:P},D),{},{stroke:"none",fill:i},$),J),{},{index:G,payload:q,visibleTicksCount:j.length,tickFormatter:s,padding:o},c);return E.createElement(ja,Po({className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},Xx(O,q,G)),n&&E.createElement("line",Po({},M,K,{className:It("recharts-cartesian-axis-tick-line",Vl(n,"className"))})),r&&E.createElement(Rue,{option:r,tickProps:ae,value:"".concat(typeof s=="function"?s(q.value,G):q.value).concat(a||"")}))});return H.length>0?E.createElement("g",{className:"recharts-cartesian-axis-ticks"},H):null}var Lue=E.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o}=e,c=R_(e,Eue),[d,f]=E.useState(""),[p,v]=E.useState(""),g=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return wue({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=E.useCallback(x=>{if(x){var _=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var w=_[0];if(w){var A=window.getComputedStyle(w),S=A.fontSize,O=A.letterSpacing;(S!==d||O!==p)&&(f(S),v(O))}}},[d,p]);return a||n!=null&&n<=0||i!=null&&i<=0?null:E.createElement(ja,{className:It("recharts-cartesian-axis",s),ref:b},E.createElement(jue,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ns(e)}),E.createElement(Due,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:p,getTicksConfig:e,events:c}),E.createElement(_ae,{x:e.x,y:e.y,width:e.width,height:e.height},E.createElement(jae,{label:e.label,labelRef:e.labelRef}),e.children))}),Mue=E.memo(Lue,(e,t)=>{var{viewBox:r}=e,n=R_(e,kue),{viewBox:i}=t,s=R_(t,Tue);return eu(r,i)&&eu(n,s)}),mE=E.forwardRef((e,t)=>{var r=di(e,pE);return E.createElement(Mue,Po({},r,{ref:t}))});mE.displayName="CartesianAxis";var Bue=["x1","y1","x2","y2","key"],Fue=["offset"],$ue=["xAxisId","yAxisId"],Uue=["xAxisId","yAxisId"];function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=Wue(e,"string");return typeof t=="symbol"?t:t+""}function Wue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(null,arguments)}function _m(e,t){if(e==null)return{};var r,n,i=que(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function que(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vue=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=e;return E.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function dM(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=t,c=_m(t,Bue),d=Ns(c),{offset:f}=d,p=_m(d,Fue);r=E.createElement("line",vo({},p,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Gue(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=_m(e,$ue),c=i.map((d,f)=>{var p=Hr(Hr({},o),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return dM(n,p)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Yue(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=_m(e,Uue),c=i.map((d,f)=>{var p=Hr(Hr({},o),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return dM(n,p)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Kue(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var f=d.map((p,v)=>{var g=!d[v+1],b=g?i+a-p:d[v+1]-p;if(b<=0)return null;var x=v%t.length;return E.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:b,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Xue(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==d[0]&&d.unshift(0);var f=d.map((p,v)=>{var g=!d[v+1],b=g?i+a-p:d[v+1]-p;if(b<=0)return null;var x=v%r.length;return E.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:b,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Que=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return tL(fE(Hr(Hr(Hr({},pE),r),{},{ticks:rL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},Jue=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return tL(fE(Hr(Hr(Hr({},pE),r),{},{ticks:rL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},Zue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function hM(e){var t=uL(),r=cL(),n=lL(),i=Hr(Hr({},di(e,Zue)),{},{x:ze(e.x)?e.x:n.left,y:ze(e.y)?e.y:n.top,width:ze(e.width)?e.width:n.width,height:ze(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:v,verticalValues:g}=i,b=Hn(),x=Ve($=>Bj($,"xAxis",s,b)),_=Ve($=>Bj($,"yAxis",a,b));if(!ze(d)||d<=0||!ze(f)||f<=0||!ze(o)||o!==+o||!ze(c)||c!==+c)return null;var w=i.verticalCoordinatesGenerator||Que,A=i.horizontalCoordinatesGenerator||Jue,{horizontalPoints:S,verticalPoints:O}=i;if((!S||!S.length)&&typeof A=="function"){var j=v&&v.length,N=A({yAxis:_?Hr(Hr({},_),{},{ticks:j?v:_.ticks}):void 0,width:t,height:r,offset:n},j?!0:p);Jp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}if((!O||!O.length)&&typeof w=="function"){var P=g&&g.length,D=w({xAxis:x?Hr(Hr({},x),{},{ticks:P?g:x.ticks}):void 0,width:t,height:r,offset:n},P?!0:p);Jp(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(O=D)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(Vue,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(Kue,vo({},i,{horizontalPoints:S})),E.createElement(Xue,vo({},i,{verticalPoints:O})),E.createElement(Gue,vo({},i,{offset:n,horizontalPoints:S,xAxis:x,yAxis:_})),E.createElement(Yue,vo({},i,{offset:n,verticalPoints:O,xAxis:x,yAxis:_})))}hM.displayName="CartesianGrid";var ece=["dangerouslySetInnerHTML","ticks"],tce=["id"],rce=["domain"],nce=["domain"];function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(null,arguments)}function xm(e,t){if(e==null)return{};var r,n,i=ice(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ice(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sce(e){var t=ur();return E.useLayoutEffect(()=>(t(Roe(e)),()=>{t(Doe(e))}),[e,t]),null}var ace=e=>{var{xAxisId:t,className:r}=e,n=Ve(sw),i=Hn(),s="xAxis",a=Ve(_=>_u(_,s,t,i)),o=Ve(_=>l4(_,s,t,i)),c=Ve(_=>i4(_,t)),d=Ve(_=>Zne(_,t)),f=Ve(_=>C6(_,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,g=xm(e,ece),{id:b}=f,x=xm(f,tce);return E.createElement(mE,D_({},g,x,{scale:a,x:d.x,y:d.y,width:c.width,height:c.height,className:It("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},oce={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,height:jn.height,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,xAxisId:0},lce=e=>{var t,r,n,i,s,a=di(e,oce);return E.createElement(E.Fragment,null,E.createElement(sce,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),E.createElement(ace,a))},uce=(e,t)=>{var{domain:r}=e,n=xm(e,rce),{domain:i}=t,s=xm(t,nce);return eu(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:eu({domain:r},{domain:i}):!1},fM=E.memo(lce,uce);fM.displayName="XAxis";var cce=["dangerouslySetInnerHTML","ticks"],dce=["id"],hce=["domain"],fce=["domain"];function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(null,arguments)}function wm(e,t){if(e==null)return{};var r,n,i=pce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mce(e){var t=ur();return E.useLayoutEffect(()=>(t(Loe(e)),()=>{t(Moe(e))}),[e,t]),null}var gce=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=E.useRef(null),a=E.useRef(null),o=Ve(sw),c=Hn(),d=ur(),f="yAxis",p=Ve(j=>_u(j,f,t,c)),v=Ve(j=>s4(j,t)),g=Ve(j=>tie(j,t)),b=Ve(j=>l4(j,f,t,c)),x=Ve(j=>A6(j,t));if(E.useLayoutEffect(()=>{if(!(n!=="auto"||!v||cE(i)||E.isValidElement(i)||x==null)){var j=s.current;if(j){var N=j.getCalculatedWidth();Math.round(v.width)!==Math.round(N)&&d(Boe({id:t,width:N}))}}},[b,v,d,i,t,n,x]),v==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:_,ticks:w}=e,A=wm(e,cce),{id:S}=x,O=wm(x,dce);return E.createElement(mE,L_({},A,O,{ref:s,labelRef:a,scale:p,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:It("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:b}))},vce={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,hide:!1,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tickCount:On.tickCount,type:On.type,width:On.width,yAxisId:0},yce=e=>{var t,r,n,i,s,a=di(e,vce);return E.createElement(E.Fragment,null,E.createElement(mce,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(r=a.includeHidden)!==null&&r!==void 0?r:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(n=a.angle)!==null&&n!==void 0?n:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),E.createElement(gce,a))},bce=(e,t)=>{var{domain:r}=e,n=wm(e,hce),{domain:i}=t,s=wm(t,fce);return eu(n,s)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:eu({domain:r},{domain:i}):!1},pM=E.memo(yce,bce);pM.displayName="YAxis";var $b={exports:{}},Ub={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO;function _ce(){if(DO)return Ub;DO=1;var e=ru();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return Ub.useSyncExternalStoreWithSelector=function(c,d,f,p,v){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function _(j){if(!w){if(w=!0,A=j,j=p(j),v!==void 0&&b.hasValue){var N=b.value;if(v(N,j))return S=N}return S=j}if(N=S,r(A,j))return N;var P=p(j);return v!==void 0&&v(N,P)?(A=j,N):(A=j,S=P)}var w=!1,A,S,O=f===void 0?null:f;return[function(){return _(d())},O===null?void 0:function(){return _(O())}]},[d,f,p,v]);var x=n(c,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=x},[x]),o(x),x},Ub}var LO;function xce(){return LO||(LO=1,$b.exports=_ce()),$b.exports}xce();function wce(e){e()}function Ece(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var MO={notify(){},get:()=>[]};function kce(e,t){let r,n=MO,i=0,s=!1;function a(x){f();const _=n.subscribe(x);let w=!1;return()=>{w||(w=!0,_(),p())}}function o(){n.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return s}function f(){i++,r||(r=e.subscribe(c),n=Ece())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=MO)}function v(){s||(s=!0,f())}function g(){s&&(s=!1,p())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return b}var Tce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sce=Tce(),Cce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ace=Cce(),Nce=()=>Sce||Ace?E.useLayoutEffect:E.useEffect,jce=Nce(),Hb=Symbol.for("react-redux-context"),zb=typeof globalThis<"u"?globalThis:{};function Oce(){if(!E.createContext)return{};const e=zb[Hb]??(zb[Hb]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var Pce=Oce();function Ice(e){const{children:t,context:r,serverState:n,store:i}=e,s=E.useMemo(()=>{const c=kce(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=E.useMemo(()=>i.getState(),[i]);jce(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const o=r||Pce;return E.createElement(o.Provider,{value:s},t)}var Rce=Ice,Dce=(e,t)=>t,gE=oe([Dce,yt,k6,hr,T4,Hs,sse,Er],cse),vE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},mM=oi("mouseClick"),gM=zd();gM.startListening({actionCreator:mM,effect:(e,t)=>{var r=e.payload,n=gE(t.getState(),vE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(pie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var M_=oi("mouseMove"),vM=zd();vM.startListening({actionCreator:M_,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Zw(n,n.tooltip.settings.shared),s=gE(n,vE(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(g4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(m4()))}});var BO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yM=Un({name:"rootProps",initialState:BO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:BO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Lce=yM.reducer,{updateOptions:Mce}=yM.actions,bM=Un({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ove}=bM.actions,Bce=bM.reducer,_M=oi("keyDown"),xM=oi("focus"),yE=zd();yE.startListening({actionCreator:_M,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(eE(i,wu(r))),o=Hs(r);if(s==="Enter"){var c=pm(r,"axis","hover",String(i.index));t.dispatch(N_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=sie(r),f=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,v=a+p*f;if(!(o==null||v>=o.length||v<0)){var g=pm(r,"axis","hover",String(v));t.dispatch(N_({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});yE.startListening({actionCreator:xM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=pm(r,"axis","hover",String(s));t.dispatch(N_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Jn=oi("externalEvent"),wM=zd();wM.startListening({actionCreator:Jn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Xie(r),activeDataKey:N4(r),activeIndex:Zl(r),activeLabel:A4(r),activeTooltipIndex:Zl(r),isTooltipActive:Qie(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Fce=oe([xu],e=>e.tooltipItemPayloads),$ce=oe([Fce,Zd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),EM=oi("touchMove"),kM=zd();kM.startListening({actionCreator:EM,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Zw(n,n.tooltip.settings.shared);if(i==="axis"){var s=gE(n,vE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(g4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(_J),f=(a=c.getAttribute(xJ))!==null&&a!==void 0?a:void 0,p=$ce(t.getState(),d,f);t.dispatch(p4({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}});var Uce=ND({brush:nue,cartesianAxis:Foe,chartData:Cse,errorBars:Zoe,graphicalItems:Aoe,layout:zQ,legend:ZJ,options:wse,polarAxis:Vae,polarOptions:Bce,referenceElements:cue,rootProps:Lce,tooltip:mie}),Hce=function(t){return pQ({reducer:Uce,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([gM.middleware,vM.middleware,yE.middleware,wM.middleware,kM.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(UD({type:"raf"}))},devTools:fu.devToolsEnabled})};function zce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Hn(),s=E.useRef(null);if(i)return r;s.current==null&&(s.current=Hce(t));var a=Jx;return E.createElement(Rce,{context:a,store:s.current},r)}function Wce(e){var{layout:t,margin:r}=e,n=ur(),i=Hn();return E.useEffect(()=>{i||(n($Q(t)),n(FQ(r)))},[n,i,t,r]),null}function qce(e){var t=ur();return E.useEffect(()=>{t(Mce(e))},[t,e]),null}var Vce=["children"];function Gce(e,t){if(e==null)return{};var r,n,i=Yce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(null,arguments)}var Kce={width:"100%",height:"100%",display:"block"},Xce=E.forwardRef((e,t)=>{var r=uL(),n=cL(),i=hL();if(!Gl(r)||!Gl(n))return null;var{children:s,otherAttributes:a,title:o,desc:c}=e,d,f;return typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0,E.createElement(YR,Em({},a,{title:o,desc:c,role:f,tabIndex:d,width:r,height:n,style:Kce,ref:t}),s)}),Qce=e=>{var{children:t}=e,r=Ve(ag);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return E.createElement(YR,{width:n,height:i,x:a,y:s},t)},FO=E.forwardRef((e,t)=>{var{children:r}=e,n=Gce(e,Vce),i=Hn();return i?E.createElement(Qce,null,r):E.createElement(Xce,Em({ref:t},n),r)});function Jce(){var e=ur(),[t,r]=E.useState(null),n=Ve(bJ);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Wr(s)&&s!==n&&e(HQ(s))}},[t,e,n]),r}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){ede(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ede(e,t,r){return(t=tde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tde(e){var t=rde(e,"string");return typeof t=="symbol"?t:t+""}function rde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(null,arguments)}var nde=()=>(Lse(),null);function km(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ide=E.forwardRef((e,t)=>{var r,n,i=E.useRef(null),[s,a]=E.useState({containerWidth:km((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:km((n=e.style)===null||n===void 0?void 0:n.height)}),o=E.useCallback((d,f)=>{a(p=>{var v=Math.round(d),g=Math.round(f);return p.containerWidth===v&&p.containerHeight===g?p:{containerWidth:v,containerHeight:g}})},[]),c=E.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();o(f,p);var v=b=>{var{width:x,height:_}=b[0].contentRect;o(x,_)},g=new ResizeObserver(v);g.observe(d),i.current=g}},[t,o]);return E.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[o]),E.createElement(E.Fragment,null,E.createElement(lg,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",Io({ref:c},e)))}),sde=E.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=E.useState({containerWidth:km(r),containerHeight:km(n)}),a=E.useCallback((c,d)=>{s(f=>{var p=Math.round(c),v=Math.round(d);return f.containerWidth===p&&f.containerHeight===v?f:{containerWidth:p,containerHeight:v}})},[]),o=E.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[t,a]);return E.createElement(E.Fragment,null,E.createElement(lg,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Io({ref:o},e)))}),ade=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return E.createElement(E.Fragment,null,E.createElement(lg,{width:r,height:n}),E.createElement("div",Io({ref:t},e)))}),ode=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return js(r)||js(n)?E.createElement(sde,Io({},e,{ref:t})):E.createElement(ade,Io({},e,{ref:t}))});function lde(e){return e===!0?ide:ode}var ude=E.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:v,onTouchEnd:g,onTouchMove:b,onTouchStart:x,style:_,width:w,responsive:A,dispatchTouchEvents:S=!0}=e,O=E.useRef(null),j=ur(),[N,P]=E.useState(null),[D,$]=E.useState(null),I=Jce(),M=aw(),H=(M==null?void 0:M.width)>0?M.width:w,q=(M==null?void 0:M.height)>0?M.height:i,G=E.useCallback(te=>{I(te),typeof t=="function"&&t(te),P(te),$(te),te!=null&&(O.current=te)},[I,t,P,$]),K=E.useCallback(te=>{j(mM(te)),j(Jn({handler:s,reactEvent:te}))},[j,s]),J=E.useCallback(te=>{j(M_(te)),j(Jn({handler:d,reactEvent:te}))},[j,d]),ae=E.useCallback(te=>{j(m4()),j(Jn({handler:f,reactEvent:te}))},[j,f]),ie=E.useCallback(te=>{j(M_(te)),j(Jn({handler:p,reactEvent:te}))},[j,p]),de=E.useCallback(()=>{j(xM())},[j]),L=E.useCallback(te=>{j(_M(te.key))},[j]),V=E.useCallback(te=>{j(Jn({handler:a,reactEvent:te}))},[j,a]),ne=E.useCallback(te=>{j(Jn({handler:o,reactEvent:te}))},[j,o]),F=E.useCallback(te=>{j(Jn({handler:c,reactEvent:te}))},[j,c]),Ee=E.useCallback(te=>{j(Jn({handler:v,reactEvent:te}))},[j,v]),Te=E.useCallback(te=>{j(Jn({handler:x,reactEvent:te}))},[j,x]),fe=E.useCallback(te=>{S&&j(EM(te)),j(Jn({handler:b,reactEvent:te}))},[j,S,b]),$e=E.useCallback(te=>{j(Jn({handler:g,reactEvent:te}))},[j,g]),Oe=lde(A);return E.createElement(D4.Provider,{value:N},E.createElement(rK.Provider,{value:D},E.createElement(Oe,{width:H??(_==null?void 0:_.width),height:q??(_==null?void 0:_.height),className:It("recharts-wrapper",n),style:Zce({position:"relative",cursor:"default",width:H,height:q},_),onClick:K,onContextMenu:V,onDoubleClick:ne,onFocus:de,onKeyDown:L,onMouseDown:F,onMouseEnter:J,onMouseLeave:ae,onMouseMove:ie,onMouseUp:Ee,onTouchEnd:$e,onTouchMove:fe,onTouchStart:Te,ref:G},E.createElement(nde,null),r)))}),cde=["width","height","responsive","children","className","style","compact","title","desc"];function dde(e,t){if(e==null)return{};var r,n,i=hde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fde=E.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:c,title:d,desc:f}=e,p=dde(e,cde),v=Ns(p);return c?E.createElement(E.Fragment,null,E.createElement(lg,{width:r,height:n}),E.createElement(FO,{otherAttributes:v,title:d,desc:f},s)):E.createElement(ude,{className:a,style:o,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(FO,{otherAttributes:v,title:d,desc:f,ref:t},E.createElement(hue,null,s)))});function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(null,arguments)}var pde={top:5,right:5,bottom:5,left:5},mde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pde,reverseStackOrder:!1,syncMethod:"index",responsive:!1},gde=E.forwardRef(function(t,r){var n,i=di(t.categoricalChartProps,mde),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(zce,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:s},E.createElement(rue,{chartData:d.data}),E.createElement(Wce,{layout:i.layout,margin:i.margin}),E.createElement(qce,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),E.createElement(fde,B_({},i,{ref:r})))}),vde=["axis","item"],yde=E.forwardRef((e,t)=>E.createElement(gde,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vde,tooltipPayloadSearcher:_se,categoricalChartProps:e,ref:t}));function bde({sections:e}){const t=e.map(i=>({name:i.title.length>20?i.title.substring(0,20)+"...":i.title,fullName:i.title,rate:parseFloat(i.completion_rate)||0,completed:i.completed_by,total:i.total_users})).sort((i,s)=>i.rate-s.rate),r=i=>i>=75?"#48bb78":i>=50?"#4299e1":i>=25?"#ed8936":"#f56565",n=({active:i,payload:s})=>{if(i&&s&&s.length){const a=s[0].payload;return u.jsxs("div",{className:"custom-tooltip",children:[u.jsx("p",{className:"tooltip-title",children:a.fullName}),u.jsxs("p",{className:"tooltip-value",children:["Completion: ",a.rate.toFixed(1),"%"]}),u.jsxs("p",{className:"tooltip-detail",children:[a.completed," of ",a.total," users"]})]})}return null};return u.jsxs("div",{className:"section-stats",children:[u.jsxs("div",{className:"section-stats-header",children:[u.jsx("h2",{children:"Section Completion Rates"}),u.jsx("p",{children:"Identify sections with low completion (potential issues)"})]}),u.jsx("div",{className:"chart-container",children:u.jsx(YJ,{width:"100%",height:400,children:u.jsxs(yde,{data:t,layout:"vertical",margin:{left:120,right:20,top:20,bottom:20},children:[u.jsx(hM,{strokeDasharray:"3 3",horizontal:!1}),u.jsx(fM,{type:"number",domain:[0,100]}),u.jsx(pM,{type:"category",dataKey:"name",width:110,tick:{fontSize:12}}),u.jsx(Wse,{content:u.jsx(n,{})}),u.jsx(aM,{dataKey:"rate",radius:[0,4,4,0],children:t.map((i,s)=>u.jsx(lE,{fill:r(i.rate)},`cell-${s}`))})]})})}),u.jsxs("div",{className:"legend",children:[u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#48bb78"}}),u.jsx("span",{children:"75%+ (Good)"})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#4299e1"}}),u.jsx("span",{children:"50-75% (Fair)"})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#ed8936"}}),u.jsx("span",{children:"25-50% (Low)"})]}),u.jsxs("div",{className:"legend-item",children:[u.jsx("span",{className:"legend-color",style:{background:"#f56565"}}),u.jsx("span",{children:"<25% (Critical)"})]})]})]})}function _de(){var N;const[e,t]=E.useState([]),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1),[c,d]=E.useState(""),[f,p]=E.useState(""),[v,g]=E.useState("$"),[b,x]=E.useState("Higher Pay"),[_,w]=E.useState(0);E.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0);const{data:P,error:D}=await Ke.from("task_inspiration").select("category, subcategory").order("category").order("subcategory");if(D)throw D;const $=new Map;P.forEach(({category:q,subcategory:G})=>{$.has(q)||$.set(q,new Set),G&&$.get(q).add(G)});const I=Array.from($.entries()).map(([q,G])=>({category:q,subcategories:Array.from(G).sort()}));t(I);const{data:M,error:H}=await Ke.from("task_priorities").select("*").order("display_order").order("category");if(H)throw H;n(M||[])}catch(P){console.error("Error fetching data:",P)}finally{s(!1)}},S=async P=>{if(P.preventDefault(),!!c)try{o(!0);const{error:D}=await Ke.from("task_priorities").insert({category:c,subcategory:f||null,is_highlighted:!0,priority_tag:v||null,tag_label:b||null,display_order:_});if(D){if(D.code==="23505"){alert("This category/subcategory combination already has a priority setting.");return}throw D}d(""),p(""),g("$"),x("Higher Pay"),w(0),await A()}catch(D){console.error("Error adding priority:",D),alert("Failed to add priority: "+D.message)}finally{o(!1)}},O=async P=>{if(confirm("Remove this priority setting?"))try{const{error:D}=await Ke.from("task_priorities").delete().eq("id",P);if(D)throw D;await A()}catch(D){console.error("Error deleting priority:",D),alert("Failed to delete priority: "+D.message)}},j=((N=e.find(P=>P.category===c))==null?void 0:N.subcategories)||[];return i?u.jsx("div",{className:"task-priorities-loading",children:"Loading..."}):u.jsxs("div",{className:"task-priorities",children:[u.jsxs("div",{className:"priorities-header",children:[u.jsx("h2",{children:"Task Priorities & Highlighting"}),u.jsx("p",{children:"Highlight task categories to make them more visible to ECs. Add tags like $ to indicate higher pay opportunities."})]}),u.jsxs("div",{className:"priorities-content",children:[u.jsxs("div",{className:"add-priority-section",children:[u.jsx("h3",{children:"Add New Priority"}),u.jsxs("form",{onSubmit:S,className:"priority-form",children:[u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"category",children:"Category *"}),u.jsxs("select",{id:"category",value:c,onChange:P=>{d(P.target.value),p("")},required:!0,children:[u.jsx("option",{value:"",children:"Select category..."}),e.map(({category:P})=>u.jsx("option",{value:P,children:P},P))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"subcategory",children:"Subcategory (optional)"}),u.jsxs("select",{id:"subcategory",value:f,onChange:P=>p(P.target.value),disabled:!c,children:[u.jsx("option",{value:"",children:"All subcategories"}),j.map(P=>u.jsx("option",{value:P,children:P},P))]})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"priorityTag",children:"Tag (shown in corner)"}),u.jsxs("select",{id:"priorityTag",value:v,onChange:P=>g(P.target.value),children:[u.jsx("option",{value:"",children:"No tag"}),u.jsx("option",{value:"$",children:"$ (Standard)"}),u.jsx("option",{value:"$$",children:"$$ (Higher)"}),u.jsx("option",{value:"$$$",children:"$$$ (Highest)"}),u.jsx("option",{value:"",children:" (Diamond)"}),u.jsx("option",{value:"",children:" (Hot)"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"tagLabel",children:"Tag Label (hover text)"}),u.jsx("input",{type:"text",id:"tagLabel",value:b,onChange:P=>x(P.target.value),placeholder:"e.g., Higher Pay, Urgent"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"displayOrder",children:"Display Order"}),u.jsx("input",{type:"number",id:"displayOrder",value:_,onChange:P=>w(parseInt(P.target.value)),min:"0",placeholder:"0 = highest"})]})]}),u.jsx(Fe,{type:"submit",variant:"primary",loading:a,disabled:!c,children:"Add Priority"})]})]}),u.jsxs("div",{className:"priorities-list-section",children:[u.jsxs("h3",{children:["Current Priorities (",r.length,")"]}),r.length===0?u.jsx("div",{className:"empty-state",children:u.jsx("p",{children:"No task priorities configured yet."})}):u.jsx("div",{className:"priorities-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Subcategory"}),u.jsx("th",{children:"Tag"}),u.jsx("th",{children:"Label"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:r.map(P=>u.jsxs("tr",{children:[u.jsx("td",{children:P.display_order}),u.jsx("td",{className:"category-cell",children:P.category}),u.jsx("td",{children:P.subcategory||u.jsx("em",{children:"All"})}),u.jsx("td",{className:"tag-cell",children:P.priority_tag&&u.jsx("span",{className:"preview-tag",title:P.tag_label,children:P.priority_tag})}),u.jsx("td",{children:P.tag_label}),u.jsx("td",{children:u.jsx(Fe,{variant:"danger",size:"sm",onClick:()=>O(P.id),children:"Remove"})})]},P.id))})]})})]})]})]})}function xde(){const[e,t]=E.useState([]),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1),[c,d]=E.useState(!1),[f,p]=E.useState(1),[v,g]=E.useState(null),[b,x]=E.useState(""),[_,w]=E.useState(""),[A,S]=E.useState(""),[O,j]=E.useState([]),[N,P]=E.useState(1),[D,$]=E.useState("accent"),[I,M]=E.useState(!1),[H,q]=E.useState(""),[G,K]=E.useState(""),[J,ae]=E.useState(null),[ie,de]=E.useState(null),[L,V]=E.useState("both"),[ne,F]=E.useState(!0);E.useEffect(()=>{Ee()},[]);const Ee=async()=>{try{s(!0),await Promise.all([Te(),fe()])}catch(Q){console.error("Error fetching data:",Q)}finally{s(!1)}},Te=async()=>{const{data:Q,error:be}=await Ke.from("promotions").select("*").order("is_active",{ascending:!1}).order("display_order",{ascending:!0});if(be)throw be;t(Q||[])},fe=async()=>{const{data:Q,error:be}=await Ke.from("task_inspiration").select("category").order("category");if(be)throw be;const We=[...new Set(Q.map(Ft=>Ft.category))];n(We)},$e=Q=>{j(be=>be.includes(Q)?be.filter(We=>We!==Q):[...be,Q])},Oe=Q=>Q?new Date(Q).toLocaleString():"Always",te=Q=>`+${Math.round((Q-1)*100)}%`,ke=Q=>{if(!Q)return"";const be=new Date(Q);return new Date(be.getTime()-480*60*1e3).toISOString().slice(0,16)},He=Q=>Q?Q+":00-08:00":null,he=Q=>{if(!Q)return"";const be=new Date(Q),We=String(be.getMonth()+1).padStart(2,"0"),Ft=String(be.getDate()).padStart(2,"0"),Pr=String(be.getFullYear()).slice(-2),Ir=String(be.getHours()).padStart(2,"0"),pr=String(be.getMinutes()).padStart(2,"0");return`${We}/${Ft}/${Pr} ${Ir}:${pr}`},pt=Q=>{const be=new Date;return Q.is_active?Q.ends_at&&new Date(Q.ends_at)<be?{status:"expired",label:"Expired"}:Q.starts_at&&new Date(Q.starts_at)>be?{status:"scheduled",label:"Scheduled"}:{status:"active",label:"Active"}:{status:"inactive",label:"Inactive"}},Se=()=>{g(null),ut(),p(1),d(!0)},tt=Q=>{g(Q.id),x(Q.title),w(Q.message||""),S(Q.long_description||""),j(Q.categories||[]),P(Q.reward_multiplier||1),$(Q.variant||"accent"),Q.starts_at||Q.ends_at?(M(!0),q(ke(Q.starts_at)),K(ke(Q.ends_at))):(M(!1),q(""),K("")),Q.disable_card&&!Q.disable_banner?V("banner_only"):Q.disable_banner&&!Q.disable_card?V("card_only"):V("both"),F(Q.show_rain_animation!==!1),p(1),d(!0)},ut=()=>{x(""),w(""),S(""),j([]),P(1),$("accent"),M(!1),q(""),K(""),V("both"),F(!0)},Bt=async()=>{if(!b){alert("Please provide a title.");return}try{o(!0);const Q={title:b,message:_,long_description:A||null,categories:O,reward_multiplier:parseFloat(N),variant:D,starts_at:I?He(H):null,ends_at:I?He(G):null,display_order:v?void 0:e.length,disable_card:L==="banner_only",disable_banner:L==="card_only",show_rain_animation:ne};let be;if(v){const{error:We}=await Ke.from("promotions").update(Q).eq("id",v);be=We}else{const{error:We}=await Ke.from("promotions").insert({...Q,is_active:!0});be=We}if(be)throw be;d(!1),ut(),await Te()}catch(Q){console.error("Error saving promo:",Q),alert("Failed to save promo: "+Q.message)}finally{o(!1)}},ss=async(Q,be)=>{try{const{error:We}=await Ke.from("promotions").update({is_active:!be}).eq("id",Q);if(We)throw We;await Te()}catch(We){console.error("Error toggling status:",We),alert("Failed to update status")}},Ws=async Q=>{if(confirm("Are you sure you want to delete this promotion?"))try{const{error:be}=await Ke.from("promotions").delete().eq("id",Q);if(be)throw be;await Te()}catch(be){console.error("Error deleting promo:",be),alert("Failed to delete promo")}},Mi=(Q,be)=>{ae(be),Q.dataTransfer.effectAllowed="move"},Bi=(Q,be)=>{Q.preventDefault(),be!==J&&de(be)},Fa=()=>{de(null)},Fo=async(Q,be)=>{if(Q.preventDefault(),de(null),J===be){ae(null);return}const We=e.findIndex(pr=>pr.id===J),Ft=e.findIndex(pr=>pr.id===be),Pr=[...e],[Ir]=Pr.splice(We,1);Pr.splice(Ft,0,Ir),t(Pr),ae(null);try{const pr=Pr.map((zn,tr)=>({id:zn.id,display_order:tr}));for(const zn of pr)await Ke.from("promotions").update({display_order:zn.display_order}).eq("id",zn.id)}catch(pr){console.error("Error updating order:",pr),await Te()}},$o=()=>{ae(null),de(null)},Uo=[{title:"Basics"},{title:"Appearance"},{title:"Details"},{title:"Targeting"},{title:"Review"}],ce=()=>{if(f===1&&!b){alert("Please enter a title");return}f<5&&p(f+1)},we=()=>{f>1&&p(f-1)};return i?u.jsx("div",{children:"Loading promotions..."}):u.jsxs("div",{className:"promo-manager",children:[u.jsxs("div",{className:"promo-manager-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Promotions Manager"}),u.jsx("p",{children:"Create and manage promotional banners and category boosts."})]}),u.jsx(Fe,{onClick:Se,variant:"primary",children:"+ Create Promotion"})]}),u.jsx("div",{className:"promo-list-section",children:u.jsx("div",{className:"promos-grid",children:e.length===0?u.jsx("p",{className:"text-secondary",children:"No promotions found."}):e.map(Q=>u.jsxs("div",{className:`promo-card ${Q.is_active?"":"inactive"} ${J===Q.id?"dragging":""} ${ie===Q.id?"drag-over":""} variant-${Q.variant||"accent"}`,draggable:!0,onDragStart:be=>Mi(be,Q.id),onDragOver:be=>Bi(be,Q.id),onDragLeave:Fa,onDrop:be=>Fo(be,Q.id),onDragEnd:$o,children:[u.jsxs("div",{className:"promo-card-header",children:[u.jsxs("div",{className:"promo-card-title",children:[u.jsx("span",{className:"drag-handle",title:"Drag to reorder",children:""}),u.jsx("h4",{children:Q.title}),(()=>{const{status:be,label:We}=pt(Q);return u.jsx("span",{className:`promo-status-badge ${be}`,children:We})})(),Q.disable_card&&!Q.disable_banner&&u.jsx("span",{className:"promo-status-badge banner-only",children:"Banner Only"}),Q.disable_banner&&!Q.disable_card&&u.jsx("span",{className:"promo-status-badge card-only",children:"Card Only"})]}),u.jsxs("div",{className:"promo-actions",children:[u.jsx(Fe,{size:"sm",variant:"ghost",onClick:()=>tt(Q),children:"Edit"}),u.jsx(Fe,{size:"sm",variant:Q.is_active?"secondary":"primary",onClick:()=>ss(Q.id,Q.is_active),children:Q.is_active?"Deactivate":"Activate"}),u.jsx(Fe,{size:"sm",variant:"danger",onClick:()=>Ws(Q.id),children:"Delete"})]})]}),Q.message&&u.jsx("p",{className:"promo-card-message",children:Q.message}),u.jsxs("div",{className:"promo-details",children:[u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:"Boost"}),u.jsx("span",{children:Q.reward_multiplier>1?`+${Math.round((Q.reward_multiplier-1)*100)}%`:"None"})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:"Categories"}),u.jsx("div",{className:"category-tags",children:Q.categories.length===0?u.jsx("span",{className:"category-tag",children:"Banner Only"}):Q.categories.map(be=>u.jsx("span",{className:"category-tag",children:be},be))})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:"Schedule"}),u.jsx("span",{children:Q.starts_at||Q.ends_at?`${Oe(Q.starts_at)} - ${Oe(Q.ends_at)}`:"Manual Only"})]})]})]},Q.id))})}),c&&u.jsx("div",{className:"onboarding-modal-overlay",children:u.jsxs("div",{className:"onboarding-modal-content promo-wizard-modal",children:[u.jsx("div",{style:{marginBottom:"40px"},children:u.jsx(Y3,{steps:Uo,currentStep:f})}),u.jsxs("div",{className:"promo-wizard-container",children:[u.jsxs("div",{className:"wizard-split-layout",children:[u.jsxs("div",{className:"wizard-left-panel",children:[f===1&&u.jsxs("div",{className:"wizard-step",children:[u.jsxs("div",{className:"promo-step-header",children:[u.jsx("h2",{className:"promo-step-title",children:"Basics"}),u.jsx("p",{className:"promo-step-description",children:"Set up the core information for your promotion."})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Promotion Title"}),u.jsx("input",{className:"wizard-input",type:"text",value:b,onChange:Q=>x(Q.target.value),placeholder:"e.g., Holiday Bonus Week",autoFocus:!0})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Short Description"}),u.jsx("textarea",{className:"wizard-textarea",value:_,onChange:Q=>w(Q.target.value),placeholder:"Brief summary shown on the card (max 150 chars)...",rows:3})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Display Mode"}),u.jsx("p",{className:"wizard-label-hint",children:"Where should this promotion appear?"}),u.jsxs("div",{className:"display-mode-selector",children:[u.jsxs("div",{className:`display-mode-option ${L==="both"?"selected":""}`,onClick:()=>V("both"),children:[u.jsx("div",{className:"display-mode-icon",children:""}),u.jsx("div",{className:"display-mode-label",children:"Both"}),u.jsx("div",{className:"display-mode-desc",children:"Banner + Card"})]}),u.jsxs("div",{className:`display-mode-option ${L==="banner_only"?"selected":""}`,onClick:()=>V("banner_only"),children:[u.jsx("div",{className:"display-mode-icon",children:""}),u.jsx("div",{className:"display-mode-label",children:"Banner Only"}),u.jsx("div",{className:"display-mode-desc",children:"Top announcement"})]}),u.jsxs("div",{className:`display-mode-option ${L==="card_only"?"selected":""}`,onClick:()=>V("card_only"),children:[u.jsx("div",{className:"display-mode-icon",children:""}),u.jsx("div",{className:"display-mode-label",children:"Card Only"}),u.jsx("div",{className:"display-mode-desc",children:"Incentives section"})]})]})]})]}),f===2&&u.jsxs("div",{className:"wizard-step",children:[u.jsxs("div",{className:"promo-step-header",children:[u.jsx("h2",{className:"promo-step-title",children:"Appearance"}),u.jsx("p",{className:"promo-step-description",children:"Choose a color theme for your promotion."})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Color Variant"}),u.jsx("div",{className:"variant-selector",children:["accent","warning","success","info"].map(Q=>u.jsx("div",{className:`variant-option ${D===Q?"selected":""}`,onClick:()=>$(Q),children:u.jsxs("div",{className:`mini-banner ${Q}`,children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"mini-banner-title",children:[b||"Your Promo Title","  ",_||"Short description here..."]}),u.jsx("span",{className:"check-indicator",children:""})]})},Q))})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Banner Effects"}),u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:ne,onChange:Q=>F(Q.target.checked)}),"Show falling money animation ()"]})]})]}),f===3&&u.jsxs("div",{className:"wizard-step",children:[u.jsxs("div",{className:"promo-step-header",children:[u.jsx("h2",{className:"promo-step-title",children:"Detailed Content"}),u.jsx("p",{className:"promo-step-description",children:"Write the full announcement using Markdown."})]}),u.jsx("div",{className:"markdown-editor-container",children:u.jsx("textarea",{className:"wizard-textarea",value:A,onChange:Q=>S(Q.target.value),placeholder:`# Full Details
                          
Write your announcement here. You can use:
- Bullet points
- **Bold text**
- [Links](https://...)`})})]}),f===4&&u.jsxs("div",{className:"wizard-step",children:[u.jsxs("div",{className:"promo-step-header",children:[u.jsx("h2",{className:"promo-step-title",children:"Targeting"}),u.jsx("p",{className:"promo-step-description",children:"Define who sees this and when."})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Reward Multiplier"}),u.jsxs("div",{className:"multiplier-input-wrapper",children:[u.jsx("input",{className:"wizard-input",type:"number",step:"0.01",min:"1.0",value:N,onChange:Q=>P(Q.target.value)}),u.jsx("span",{className:"multiplier-preview",children:parseFloat(N)>1?`${te(parseFloat(N))} Boost`:"No Boost"})]})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Schedule (PST)"}),u.jsxs("div",{className:"checkbox-label",style:{marginBottom:"16px"},children:[u.jsx("input",{type:"checkbox",checked:I,onChange:Q=>M(Q.target.checked)}),"Enable Date Schedule"]}),I&&u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"Start Date"}),u.jsx("input",{className:"wizard-input",type:"datetime-local",value:H,onChange:Q=>q(Q.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:"End Date"}),u.jsx("input",{className:"wizard-input",type:"datetime-local",value:G,onChange:Q=>K(Q.target.value)})]})]})]}),u.jsxs("div",{className:"wizard-form-group",children:[u.jsx("label",{className:"wizard-label",children:"Categories"}),u.jsxs("div",{className:"checkbox-group",style:{maxHeight:"200px"},children:[u.jsxs("label",{className:"checkbox-label highlight",children:[u.jsx("input",{type:"checkbox",checked:O.includes("ALL"),onChange:()=>{O.includes("ALL")?j([]):j(["ALL"])}}),"Apply to ALL Categories"]}),r.map(Q=>u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:O.includes(Q),onChange:()=>$e(Q),disabled:O.includes("ALL")}),Q]},Q))]})]})]}),f===5&&u.jsxs("div",{className:"wizard-step",children:[u.jsxs("div",{className:"promo-step-header",children:[u.jsx("h2",{className:"promo-step-title",children:"Review"}),u.jsx("p",{className:"promo-step-description",children:"Confirm details before launching."})]}),u.jsxs("div",{className:"review-summary",children:[u.jsxs("div",{className:"review-item",children:[u.jsx("strong",{children:"Title:"})," ",b]}),u.jsxs("div",{className:"review-item",children:[u.jsx("strong",{children:"Display Mode:"})," ",L==="both"?"Banner + Card":L==="banner_only"?"Banner Only":"Card Only"]}),u.jsxs("div",{className:"review-item",children:[u.jsx("strong",{children:"Target Audience:"})," ",O.includes("ALL")?"All Categories":O.length===0?"Global Announcement":`${O.length} Categories`]}),u.jsxs("div",{className:"review-item",children:[u.jsx("strong",{children:"Reward Boost:"})," ",parseFloat(N)>1?`${te(parseFloat(N))}`:"None"]}),u.jsxs("div",{className:"review-item",children:[u.jsx("strong",{children:"Schedule:"})," ",I?`${H} to ${G} (PST)`:"Manual Activation"]})]})]})]}),u.jsxs("div",{className:"wizard-right-panel",children:[u.jsx("div",{className:"preview-label",children:f===3?"Live Modal Preview":"Live Preview"}),u.jsx("div",{className:"card-preview-wrapper",style:{width:f===3?"100%":void 0},children:f===3?u.jsxs("div",{className:"incentive-modal-preview-wrapper",style:{background:"var(--bg-primary)",borderRadius:"var(--radius-lg)",overflow:"hidden",border:"1px solid var(--border-color)",width:"100%",maxWidth:"100%"},children:[u.jsx("div",{className:"modal-header",style:{padding:"var(--space-6)",borderBottom:"1px solid var(--border-color)"},children:u.jsxs("div",{className:"incentive-modal-header",children:[parseFloat(N)>1&&u.jsxs("span",{className:"incentive-badge",children:[te(parseFloat(N))," Boost"]}),u.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:b||"Promo Title"}),G&&I&&u.jsxs("p",{className:"incentive-modal-date",children:["Ends ",he(He(G))]})]})}),u.jsx("div",{className:"modal-body",style:{padding:"var(--space-6)",maxHeight:"400px",overflowY:"auto"},children:u.jsxs("div",{className:"incentive-modal-content",style:{gap:"var(--space-6)"},children:[A?u.jsx("div",{className:"incentive-full-message markdown-content",children:u.jsx($x,{children:A})}):u.jsxs("div",{className:"empty-preview",children:[u.jsx("div",{className:"empty-preview-icon",children:""}),u.jsx("p",{children:"Start typing to see preview"})]}),f===3&&O.length>0&&!O.includes("ALL")&&u.jsxs("div",{className:"incentive-modal-categories",children:[u.jsx("span",{className:"incentive-label",children:"Applies to:"}),u.jsx("div",{className:"incentive-categories-list",children:O.map(Q=>u.jsx("span",{className:"category-pill",children:Q},Q))})]}),f===3&&O.includes("ALL")&&u.jsx("div",{className:"incentive-modal-categories",children:u.jsx("span",{className:"category-pill global",children:"All categories"})})]})})]}):u.jsxs("div",{className:"dual-preview-container",children:[(L==="both"||L==="banner_only")&&u.jsxs("div",{className:"preview-section",children:[u.jsxs("div",{className:"preview-section-label",children:[u.jsx("span",{className:"preview-section-icon",children:""})," Banner Preview"]}),u.jsxs("div",{className:`global-promo-banner promo-banner--${D}`,style:{position:"relative",margin:0,width:"100%",borderRadius:"var(--radius-md)"},children:[u.jsxs("div",{className:"promo-bg-decoration",children:[u.jsx("div",{className:"promo-bg-circle"}),u.jsx("div",{className:"promo-bg-circle"}),ne&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"promo-rain promo-rain-1",children:""}),u.jsx("span",{className:"promo-rain promo-rain-2",children:""}),u.jsx("span",{className:"promo-rain promo-rain-3",children:""}),u.jsx("span",{className:"promo-rain promo-rain-4",children:""}),u.jsx("span",{className:"promo-rain promo-rain-5",children:""}),u.jsx("span",{className:"promo-rain promo-rain-6",children:""}),u.jsx("span",{className:"promo-rain promo-rain-7",children:""}),u.jsx("span",{className:"promo-rain promo-rain-8",children:""}),u.jsx("span",{className:"promo-rain promo-rain-9",children:""}),u.jsx("span",{className:"promo-rain promo-rain-10",children:""}),u.jsx("span",{className:"promo-rain promo-rain-11",children:""}),u.jsx("span",{className:"promo-rain promo-rain-12",children:""})]})]}),u.jsxs("div",{className:"promo-banner-content",style:{width:"100%"},children:[u.jsxs("div",{className:"promo-text-content",children:[u.jsx("span",{className:"promo-title",children:b||"Promo Title"}),_&&u.jsx("span",{className:"promo-message",children:_})]}),u.jsx("button",{className:"promo-dismiss-btn",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})]}),(L==="both"||L==="card_only")&&u.jsxs("div",{className:"preview-section",children:[u.jsxs("div",{className:"preview-section-label",children:[u.jsx("span",{className:"preview-section-icon",children:""})," Card Preview"]}),u.jsxs("div",{className:"incentive-card",style:{width:"100%",maxWidth:"400px",margin:"0 auto"},children:[u.jsxs("div",{className:"incentive-card-content",children:[u.jsxs("div",{className:"incentive-top-row",children:[parseFloat(N)>1&&u.jsxs("span",{className:"incentive-badge",children:[te(parseFloat(N))," Boost"]}),G&&I&&u.jsxs("span",{className:"incentive-date",children:["Ends ",he(He(G))]})]}),u.jsx("h3",{className:"incentive-title",children:b||"Promo Title"}),(_||A)&&u.jsxs("div",{className:"incentive-description-wrapper",children:[_&&u.jsx("p",{className:"incentive-description",children:_}),A&&u.jsx("button",{className:"incentive-read-more",type:"button",children:"Read more "})]}),f===4&&!O.includes("ALL")&&O.length>0&&u.jsx("div",{className:"incentive-footer",style:{marginTop:"auto"},children:u.jsxs("div",{className:"incentive-categories-wrapper",children:[u.jsx("span",{className:"incentive-label",children:"Applies to:"}),u.jsxs("div",{className:"incentive-categories-list",children:[O.slice(0,3).map(Q=>u.jsx("span",{className:"category-pill",children:Q},Q)),O.length>3&&u.jsxs("span",{className:"category-pill more",children:["+",O.length-3]})]})]})})]}),u.jsx("div",{className:"incentive-bg-icon",children:D==="warning"?"":D==="success"?"":""})]})]}),L==="banner_only"&&f===1&&u.jsxs("div",{className:"preview-note",children:[u.jsx("span",{children:""})," This promo will only appear in the top banner"]}),L==="card_only"&&f===1&&u.jsxs("div",{className:"preview-note",children:[u.jsx("span",{children:""})," This promo will only appear as an incentive card"]})]})})]})]}),u.jsxs("div",{className:"onboarding-nav",children:[u.jsx(Fe,{variant:"ghost",onClick:f===1?()=>d(!1):we,children:f===1?"Cancel":"Back"}),u.jsx("div",{className:"nav-buttons",children:f<5?u.jsx(Fe,{variant:"primary",onClick:ce,size:"lg",children:"Next Step"}):u.jsx(Fe,{variant:"primary",onClick:Bt,loading:a,size:"lg",children:v?"Update Promotion":"Launch Promotion "})})]})]})]})})]})}function wde(){const{user:e,profile:t}=qr(),r=ft(),[n,i]=E.useState("overview"),[s,a]=E.useState(!0),[o,c]=E.useState(null),[d,f]=E.useState([]),[p,v]=E.useState([]),g=Ld(cz,2200),b=(t==null?void 0:t.is_admin)||!1;E.useEffect(()=>{if(!b){r("/");return}x()},[b,r]);const x=async()=>{try{a(!0);const{data:_,error:w}=await Ke.from("v_admin_user_stats").select("*").order("created_at",{ascending:!1});if(w)throw w;f(_||[]);const{data:A,error:S}=await Ke.from("v_section_stats").select("*").order("display_order");if(S)throw S;v(A||[]);const O=(_==null?void 0:_.filter(I=>I.status==="active").length)||0,j=(_==null?void 0:_.filter(I=>I.status==="active"||I.status==="inactive").length)||0,N=(_==null?void 0:_.reduce((I,M)=>I+(parseFloat(M.completion_percentage)||0),0))/((_==null?void 0:_.length)||1),P=new Date,D=new Date(P.getTime()-10080*60*1e3),$=(_==null?void 0:_.filter(I=>new Date(I.created_at)>D).length)||0;c({totalUsers:(_==null?void 0:_.length)||0,activeUsers7d:O,activeUsers30d:j,avgCompletion:Math.round(N),newUsers7d:$})}catch(_){console.error("Error fetching dashboard data:",_)}finally{a(!1)}};return b?s?u.jsx("div",{className:"admin-loading",children:u.jsx(Aa,{size:"lg",message:g})}):u.jsxs("div",{className:"admin-dashboard",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Admin Dashboard"}),u.jsx("p",{children:"Monitor EC progress and engagement"})]}),u.jsx(Fe,{variant:"ghost",onClick:()=>r("/"),children:" Back to Home"})]}),u.jsxs("div",{className:"admin-tabs",children:[u.jsx("button",{className:`admin-tab ${n==="overview"?"active":""}`,onClick:()=>i("overview"),children:"Overview"}),u.jsx("button",{className:`admin-tab ${n==="users"?"active":""}`,onClick:()=>i("users"),children:"User Progress"}),u.jsx("button",{className:`admin-tab ${n==="sections"?"active":""}`,onClick:()=>i("sections"),children:"Section Stats"}),u.jsx("button",{className:`admin-tab ${n==="priorities"?"active":""}`,onClick:()=>i("priorities"),children:"Task Priorities"}),u.jsx("button",{className:`admin-tab ${n==="promotions"?"active":""}`,onClick:()=>i("promotions"),children:"Promotions"})]}),u.jsxs("div",{className:"admin-content",children:[n==="overview"&&o&&u.jsx(VY,{stats:o}),n==="users"&&u.jsx(GY,{users:d}),n==="sections"&&u.jsx(bde,{sections:p}),n==="priorities"&&u.jsx(_de,{}),n==="promotions"&&u.jsx(xde,{})]})]}):null}function Ede(e){return wn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function kde(e){return wn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function Tde(e){return wn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Sde(e){return wn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Cde(e){return wn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}const Ade=["Machine Learning","Data Science","Cyber Security","Full Stack Web","System Design","Cloud Infrastructure","Algorithms","Database Optimization","Mobile Development","Distributed Systems","Frontend Architecture","Backend Development","Reverse Engineering","Penetration Testing","NLP","Computer Vision","Embedded Systems","Blockchain","Game Development","AR/VR","Operating Systems","Compilers","Cryptography","Bioinformatics","Robotics","Quantum Computing","IoT","Edge Computing"],Nde=()=>{var He,he,pt;const{user:e,profile:t,updateProfile:r,signOut:n,deleteAccount:i,updatePassword:s}=qr(),a=ft();cu();const[o,c]=E.useState({first_name:"",last_name:"",bio:"",linkedin_url:"",github_username:"",website_url:"",specialties:[]}),[d,f]=E.useState(""),[p,v]=E.useState([]),[g,b]=E.useState(!1),[x,_]=E.useState(null),[w,A]=E.useState(!1),[S,O]=E.useState(!1),[j,N]=E.useState(""),[P,D]=E.useState(!1),[$,I]=E.useState(!1),[M,H]=E.useState({newPassword:"",confirmPassword:""}),[q,G]=E.useState(!1),[K,J]=E.useState(null),ae=((He=e==null?void 0:e.app_metadata)==null?void 0:He.provider)==="email",[ie,de]=E.useState({onboarding_completed:!1,slack_joined:!1,payments_setup:!1,dev_env_setup:!1});E.useEffect(()=>{t&&(c({first_name:t.first_name||"",last_name:t.last_name||"",bio:t.bio||"",linkedin_url:t.linkedin_url||"",github_username:t.github_username||"",website_url:t.website_url||"",specialties:t.specialties||[]}),de({onboarding_completed:t.onboarding_completed||!1,slack_joined:t.slack_joined||!1,payments_setup:t.payments_setup||!1,dev_env_setup:t.dev_env_setup||!1}))},[t]);const L=Se=>{c({...o,[Se.target.name]:Se.target.value})},V=Se=>{const tt=Se.target.value;if(f(tt),tt.length>0){const ut=Ade.filter(Bt=>Bt.toLowerCase().includes(tt.toLowerCase())&&!o.specialties.includes(Bt));v(ut)}else v([])},ne=Se=>{Se.key==="Enter"&&d.trim()&&(Se.preventDefault(),F(d.trim()))},F=Se=>{Se&&!o.specialties.includes(Se)&&(c(tt=>({...tt,specialties:[...tt.specialties,Se]})),f(""),v([]))},Ee=Se=>{c(tt=>({...tt,specialties:tt.specialties.filter(ut=>ut!==Se)}))},Te=async Se=>{Se.preventDefault(),b(!0),_(null);const{error:tt}=await r(o);b(!1),tt?_({type:"error",text:"Failed to update profile"}):(_({type:"success",text:"Profile updated successfully"}),setTimeout(()=>_(null),3e3))},fe=async()=>{if(j==="DELETE"){O(!0),_(null);try{const{error:Se}=await i();if(Se)throw Se;a("/",{replace:!0})}catch(Se){console.error("Error deleting account:",Se),_({type:"error",text:"Failed to delete account. Please try again or reach out to Snorkel."}),O(!1),D(!1),N("")}}},$e=()=>{D(!1),N("")},Oe=async Se=>{if(Se.preventDefault(),J(null),M.newPassword!==M.confirmPassword){J({type:"error",text:"Passwords do not match"});return}if(M.newPassword.length<6){J({type:"error",text:"Password must be at least 6 characters long"});return}G(!0);try{const{error:tt}=await s(M.newPassword);if(tt)throw tt;J({type:"success",text:"Password updated successfully"}),H({newPassword:"",confirmPassword:""}),setTimeout(()=>J(null),3e3)}catch(tt){J({type:"error",text:tt.message||"Failed to update password"})}finally{G(!1)}};if(!t)return u.jsx("div",{className:"loading",children:"Loading profile..."});const te=`${o.first_name} ${o.last_name}`.trim()||((he=t.email)==null?void 0:he.split("@")[0]),ke=te.split(" ").map(Se=>Se[0]).join("").toUpperCase().slice(0,2);return u.jsxs("div",{className:"profile-page",children:[u.jsxs("div",{className:"profile-header-card",children:[u.jsx("div",{className:"profile-avatar-wrapper",children:t.github_avatar_url?u.jsx("img",{src:t.github_avatar_url,alt:"Profile",className:"profile-avatar"}):u.jsx("div",{className:"profile-avatar-placeholder",children:ke})}),u.jsxs("div",{className:"profile-info",children:[u.jsx("h1",{children:te}),u.jsxs("div",{className:"profile-meta",children:[u.jsxs("span",{className:"meta-item",children:[u.jsx(Sde,{})," ",t.email]}),t.github_username&&u.jsxs("span",{className:"meta-item",children:[u.jsx(Ede,{})," ",t.github_username]}),o.linkedin_url&&u.jsxs("a",{href:o.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"meta-item",children:[u.jsx(kde,{})," LinkedIn"]})]})]})]}),x&&u.jsxs("div",{className:`toast-message ${x.type==="error"?"error":"success"}`,children:[x.type==="success"&&u.jsx(Tde,{style:{color:"#4CAF50"}}),x.text]}),u.jsx("div",{className:"profile-grid",children:u.jsxs("div",{className:"profile-main",children:[u.jsx("section",{className:"profile-card",children:u.jsxs("form",{onSubmit:Te,children:[u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"First Name"}),u.jsx("input",{type:"text",name:"first_name",value:o.first_name,onChange:L,placeholder:"Jane"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Last Name"}),u.jsx("input",{type:"text",name:"last_name",value:o.last_name,onChange:L,placeholder:"Doe"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Bio"}),u.jsx("textarea",{name:"bio",value:o.bio,onChange:L,placeholder:"Tell us a bit about yourself...",rows:4})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"LinkedIn URL"}),u.jsx("input",{type:"url",name:"linkedin_url",value:o.linkedin_url,onChange:L,placeholder:"https://linkedin.com/in/..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"GitHub Username"}),u.jsx("input",{type:"text",name:"github_username",value:o.github_username,onChange:L,placeholder:"username",disabled:((pt=e==null?void 0:e.app_metadata)==null?void 0:pt.provider)==="github"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Portfolio / Website"}),u.jsx("input",{type:"url",name:"website_url",value:o.website_url,onChange:L,placeholder:"https://..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Areas of expertise"}),u.jsxs("div",{className:"tags-input-container",style:{position:"relative"},children:[u.jsx("div",{className:"tags-list",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"8px"},children:o.specialties.map(Se=>u.jsxs("span",{className:"tag-pill",children:[Se," ",u.jsx("button",{type:"button",onClick:()=>Ee(Se),className:"tag-remove",children:""})]},Se))}),u.jsx("input",{type:"text",value:d,onChange:V,onKeyDown:ne,placeholder:"Type to search or add your own...",className:"tag-input-field",style:{width:"100%"}}),p.length>0&&u.jsx("div",{className:"specialties-suggestions",style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:p.map((Se,tt)=>u.jsx("div",{onClick:()=>F(Se),style:{padding:"10px 16px",cursor:"pointer",borderBottom:tt<p.length-1?"1px solid var(--border-color)":"none",transition:"background-color 0.2s"},onMouseEnter:ut=>ut.target.style.backgroundColor="var(--bg-secondary)",onMouseLeave:ut=>ut.target.style.backgroundColor="transparent",children:Se},tt))})]})]}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:u.jsx(Fe,{type:"submit",variant:"primary",loading:g,children:"Save Changes"})})]})}),ae&&u.jsxs("section",{className:"profile-card password-section",children:[u.jsxs("div",{className:"password-header",onClick:()=>I(!$),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("h2",{style:{margin:0,border:"none",padding:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx(Cde,{style:{fontSize:"1rem"}})," Change Password"]}),u.jsx("span",{style:{transform:$?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),$&&u.jsxs("div",{className:"password-content",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--border-color)"},children:[K&&u.jsx("div",{className:`password-message ${K.type}`,style:{padding:"0.75rem 1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",backgroundColor:K.type==="error"?"rgba(255, 68, 68, 0.1)":"rgba(76, 175, 80, 0.1)",border:`1px solid ${K.type==="error"?"rgba(255, 68, 68, 0.3)":"rgba(76, 175, 80, 0.3)"}`,color:K.type==="error"?"#ff4444":"#4CAF50"},children:K.text}),u.jsxs("form",{onSubmit:Oe,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"New Password"}),u.jsx("input",{type:"password",value:M.newPassword,onChange:Se=>H({...M,newPassword:Se.target.value}),placeholder:"",required:!0,minLength:6}),u.jsx("small",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:"Must be at least 6 characters"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Confirm New Password"}),u.jsx("input",{type:"password",value:M.confirmPassword,onChange:Se=>H({...M,confirmPassword:Se.target.value}),placeholder:"",required:!0})]}),u.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:u.jsx(Fe,{type:"submit",variant:"primary",loading:q,children:"Update Password"})})]})]})]}),u.jsxs("section",{className:"profile-card danger-zone",children:[u.jsxs("div",{className:"danger-header",onClick:()=>A(!w),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsx("h2",{style:{margin:0,border:"none",padding:0},children:"Danger Zone"}),u.jsx("span",{style:{transform:w?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"},children:""})]}),w&&u.jsx("div",{className:"danger-actions",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(255, 68, 68, 0.25)"},children:P?u.jsxs("div",{className:"delete-confirm-flow",style:{width:"100%"},children:[u.jsxs("div",{className:"danger-warning",style:{backgroundColor:"rgba(255, 68, 68, 0.1)",border:"1px solid rgba(255, 68, 68, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[u.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:600,color:"var(--color-error)"},children:"This action is irreversible"}),u.jsx("small",{style:{color:"var(--text-secondary)"},children:"Deleting your account will permanently remove all your data including your profile, progress, and selected tasks. This cannot be undone."})]}),u.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[u.jsxs("label",{style:{marginBottom:"0.5rem",display:"block"},children:["Type ",u.jsx("strong",{children:"DELETE"})," to confirm:"]}),u.jsx("input",{type:"text",value:j,onChange:Se=>N(Se.target.value),placeholder:"DELETE",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)"},disabled:S})]}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[u.jsx(Fe,{variant:"secondary",onClick:$e,disabled:S,children:"Cancel"}),u.jsx(Fe,{variant:"danger",onClick:fe,disabled:j!=="DELETE"||S,loading:S,children:S?"Deleting...":"Permanently Delete Account"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"danger-text",children:[u.jsx("p",{children:"Delete Account"}),u.jsx("small",{children:"Permanently remove your account and all associated data."})]}),u.jsx(Fe,{variant:"danger",onClick:()=>D(!0),children:"Delete Account"})]})})]})]})})]})};function jde(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[i,s]=E.useState(null),[a,o]=E.useState({}),[c,d]=E.useState({}),[f,p]=E.useState(null),[v,g]=E.useState(null),[b,x]=E.useState(!1),_=E.useRef(!1),w=E.useCallback(async()=>{if(!_.current){_.current=!0;try{n(!0);const[I,M]=await Promise.all([Ke.rpc("get_tasks_preview_by_category",{tasks_per_category:15}),Ke.rpc("get_category_counts")]);if(I.error)throw I.error;if(M.error)throw M.error;t(I.data||[]);const H={};(M.data||[]).forEach(q=>{H[q.category]={total:q.total_count,available:q.available_count}}),o(H),s(null)}catch(I){console.error("Error fetching task preview:",I),s(I.message)}finally{_.current=!1,n(!1)}}},[]),A=E.useCallback(async I=>{if(c[I])return c[I];try{p(I);const{data:M,error:H}=await Ke.rpc("get_tasks_by_category",{target_category:I});if(H)throw H;return d(q=>({...q,[I]:M||[]})),M||[]}catch(M){throw console.error(`Error fetching category ${I}:`,M),M}finally{p(null)}},[c]),S=E.useCallback(async I=>{if(!I||I.trim().length===0)return g(null),null;try{x(!0);const{data:M,error:H}=await Ke.rpc("search_tasks",{search_query:I.trim(),max_results:100});if(H)throw H;return g(M||[]),M||[]}catch(M){throw console.error("Error searching tasks:",M),M}finally{x(!1)}},[]),O=E.useCallback(()=>{g(null)},[]),j=E.useCallback(I=>c[I]?c[I]:e.filter(M=>M.category===I),[c,e]),N=E.useCallback(I=>e.filter(H=>H.category===I).length>=15,[e]),P=E.useCallback(I=>a[I]||{total:0,available:0},[a]),D=[...new Set(e.map(I=>I.category))].sort(),$=E.useCallback((I,M)=>{t(H=>H.map(q=>q.id===I?{...q,is_selected:M}:q)),d(H=>{const q={};for(const[G,K]of Object.entries(H))q[G]=K.map(J=>J.id===I?{...J,is_selected:M}:J);return q}),v&&g(H=>H.map(q=>q.id===I?{...q,is_selected:M}:q))},[v]);return E.useEffect(()=>{w()},[w]),E.useEffect(()=>{const I=Ke.channel("gallery_tasks_realtime_"+Date.now()).on("postgres_changes",{event:"*",schema:"public",table:"selected_tasks"},M=>{var H,q;M.eventType==="INSERT"&&((H=M.new)!=null&&H.task_id)?$(M.new.task_id,!0):M.eventType==="DELETE"&&((q=M.old)!=null&&q.task_id)&&$(M.old.task_id,!1)}).subscribe();return()=>{Ke.removeChannel(I)}},[$]),{previewTasks:e,categories:D,categoryCounts:a,searchResults:v,loading:r,error:i,loadingCategory:f,searchLoading:b,fetchPreview:w,fetchCategory:A,searchTasks:S,clearSearch:O,getTasksForCategory:j,categoryHasMore:N,getCategoryCount:P,updateTaskSelection:$}}const Ode=E.forwardRef(function({onSubmit:t,onClear:r,placeholder:n="Search tasks... (press Enter)",initialValue:i="",variant:s="default"},a){const[o,c]=E.useState(!1),[d,f]=E.useState(!!i),p=E.useRef(null);E.useImperativeHandle(a,()=>({focus:()=>{var w;return(w=p.current)==null?void 0:w.focus()},getValue:()=>{var w;return((w=p.current)==null?void 0:w.value)||""},setValue:w=>{p.current&&(p.current.value=w,f(!!w))},clear:()=>{p.current&&(p.current.value="",f(!1))}}));const v=E.useMemo(()=>{var w,A;return typeof navigator>"u"?!1:(w=navigator.userAgentData)!=null&&w.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((A=navigator.platform)==null?void 0:A.toLowerCase().includes("mac"))??!1},[]);E.useEffect(()=>{const w=A=>{var S;(A.metaKey||A.ctrlKey)&&A.key==="k"&&(A.preventDefault(),(S=p.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const g=E.useCallback(w=>{var A,S;if(w.key==="Enter"){w.preventDefault();const O=((A=p.current)==null?void 0:A.value)||"";t==null||t(O)}else w.key==="Escape"&&((S=p.current)==null||S.blur())},[t]),b=E.useCallback(()=>{var w;f(!!((w=p.current)!=null&&w.value))},[]),x=E.useCallback(()=>{c(!0)},[]),_=E.useCallback(()=>{c(!1)},[]);return E.useCallback(()=>{p.current&&(p.current.value="",f(!1),p.current.focus()),r==null||r()},[r]),u.jsx("div",{className:`task-search-bar ${s} ${o?"focused":""}`,children:u.jsxs("div",{className:"search-input-wrapper",children:[u.jsxs("svg",{className:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]}),u.jsx("input",{ref:p,type:"text",className:"search-input",placeholder:n,defaultValue:i,onChange:b,onKeyDown:g,onFocus:x,onBlur:_,"aria-label":"Search tasks",autoComplete:"off"}),d?u.jsx("button",{className:"search-submit",onClick:()=>{var w;return t==null?void 0:t(((w=p.current)==null?void 0:w.value)||"")},type:"button","aria-label":"Submit search",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})}):u.jsxs("div",{className:"search-shortcut",children:[u.jsx("kbd",{children:v?"":"Ctrl"}),u.jsx("kbd",{children:"K"})]})]})})});function Pde({onSearch:e,onClearSearch:t,onOpenFilters:r}){const n=E.useRef(null),i=o=>{var c;o.target.closest(".search-clear")||(c=n.current)==null||c.focus()},s=o=>{e==null||e(o)},a=()=>{var o;(o=n.current)==null||o.clear(),t==null||t()};return u.jsxs("div",{className:"task-search-header",children:[u.jsxs("div",{className:"header-section search-section",onClick:i,children:[u.jsx("div",{className:"section-label",children:"Where"}),u.jsx(Ode,{ref:n,onSubmit:s,onClear:a,variant:"embedded",placeholder:"Search tasks... (press Enter)"})]}),u.jsx("div",{className:"header-divider"}),u.jsx("div",{className:"header-section filter-section",children:u.jsxs("div",{className:"filter-button-container",onClick:r,children:[u.jsxs("div",{className:"filter-text-group",children:[u.jsx("div",{className:"section-label",children:"Filters"}),u.jsx("div",{className:"section-value",children:"Advanced"})]}),u.jsx("div",{className:"filter-icon-wrapper",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),u.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),u.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),u.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),u.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),u.jsx("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),u.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),u.jsx("line",{x1:"17",y1:"16",x2:"23",y2:"16"})]})})]})})]})}function Ide({value:e,duration:t=300}){const[r,n]=E.useState(e),i=E.useRef(null),s=E.useRef(e);return E.useEffect(()=>{i.current&&cancelAnimationFrame(i.current);const a=s.current,o=e,c=performance.now(),d=o-a;if(d===0)return;const f=p=>{const v=p-c,g=Math.min(v/t,1),b=1-Math.pow(1-g,3),x=Math.round(a+d*b);n(x),g<1?i.current=requestAnimationFrame(f):s.current=o};return i.current=requestAnimationFrame(f),()=>{i.current&&cancelAnimationFrame(i.current)}},[e,t]),u.jsx("span",{className:"animated-count",children:r})}function Rde({isOpen:e,onClose:t,tasks:r=[],filters:n,onFilterChange:i}){var A,S;const[s,a]=E.useState(""),[o,c]=E.useState({}),d=E.useMemo(()=>{const O={};return r.forEach(j=>{if(j.is_selected)return;const N=j.category||"Uncategorized",P=j.subcategory||"General";O[N]||(O[N]={count:0,subcategories:{}}),O[N].count++,O[N].subcategories[P]||(O[N].subcategories[P]=0),O[N].subcategories[P]++}),Object.keys(O).sort().reduce((j,N)=>(j[N]=O[N],j),{})},[r]),f=E.useMemo(()=>{if(!s)return d;const O=s.toLowerCase(),j={};return Object.entries(d).forEach(([N,P])=>{const D=N.toLowerCase().includes(O),$={};let I=!1;Object.entries(P.subcategories).forEach(([M,H])=>{(M.toLowerCase().includes(O)||D)&&($[M]=H,I=!0)}),(D||I)&&(j[N]={count:P.count,subcategories:$})}),j},[d,s]),p=()=>{i({...n,priorityOnly:!n.priorityOnly})},v=O=>{const j=n.categories||[],N=j.includes(O);let P,D=[...n.subcategories||[]];if(N){P=j.filter(I=>I!==O);const $=d[O];if($&&$.subcategories){const I=Object.keys($.subcategories);D=D.filter(M=>!I.includes(M))}}else{P=[...j,O];const $=d[O];$&&$.subcategories&&Object.keys($.subcategories).forEach(M=>{D.includes(M)||D.push(M)})}i({...n,categories:P,subcategories:D})},g=(O,j)=>{const N=n.subcategories||[],P=N.includes(O);let D;P?D=N.filter(H=>H!==O):D=[...N,O];let I=[...n.categories||[]];const M=d[j];if(M&&M.subcategories){const H=Object.keys(M.subcategories),q=H.filter(G=>D.includes(G)).length;q===H.length&&H.length>0?I.includes(j)||I.push(j):q===0?I=I.filter(G=>G!==j):I.includes(j)||I.push(j)}i({...n,categories:I,subcategories:D})},b=O=>{c(j=>({...j,[O]:!j[O]}))},x=()=>{i({categories:[],subcategories:[],priorityOnly:!1,search:""}),a("")},_=(((A=n.categories)==null?void 0:A.length)||0)+(((S=n.subcategories)==null?void 0:S.length)||0)+(n.priorityOnly?1:0),w=E.useMemo(()=>r.filter(O=>{var j;if(O.is_selected||n.priorityOnly&&!O.is_highlighted)return!1;if(((j=n.subcategories)==null?void 0:j.length)>0){const N=O.subcategory||"General";if(!n.subcategories.includes(N))return!1}return!0}).length,[r,n]);return u.jsx(Fm,{isOpen:e,onClose:t,title:"Filter Tasks",size:"md",children:u.jsxs("div",{className:"task-filters-modal",children:[u.jsxs("div",{className:"filter-section",children:[u.jsx("h4",{children:"Priority"}),u.jsxs("div",{className:`priority-toggle-row ${n.priorityOnly?"active":""}`,onClick:p,children:[u.jsx("div",{className:"priority-info",children:u.jsxs("span",{className:"priority-label",children:["Only show Priority tasks",u.jsxs("span",{className:"tooltip-wrapper",onClick:O=>O.stopPropagation(),children:[u.jsxs("svg",{className:"help-icon",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),u.jsx("path",{d:"M12 17h.01"})]}),u.jsx("span",{className:"tooltip",children:"Tasks prioritized by Snorkel with increased payout"})]})]})}),u.jsx("div",{className:"toggle-switch"})]})]}),u.jsxs("div",{className:"filter-section",style:{flex:1,minHeight:0},children:[u.jsx("h4",{children:"Categories"}),u.jsxs("div",{className:"categories-container",children:[u.jsx("div",{className:"search-container",children:u.jsx(hz,{placeholder:"Search categories...",value:s,onChange:O=>a(O.target.value),onClear:()=>a(""),className:"category-search-input"})}),u.jsx("div",{className:"category-tree",children:Object.keys(f).length===0?u.jsx("div",{className:"empty-search-state",children:u.jsx("p",{children:"No categories found"})}):Object.entries(f).map(([O,j])=>{var G;const N=o[O]||s.length>0,P=Object.keys(j.subcategories),D=P.filter(K=>{var J;return(J=n.subcategories)==null?void 0:J.includes(K)}),$=P.length,I=$>0&&D.length===$,M=D.length>0&&D.length<$,H=$===0?(G=n.categories)==null?void 0:G.includes(O):I,q=M;return u.jsxs("div",{className:"tree-node",children:[u.jsxs("div",{className:"tree-header",children:[u.jsxs("div",{className:"tree-label-group",children:[u.jsx("div",{className:`expand-icon ${N?"expanded":""}`,onClick:K=>{K.stopPropagation(),b(O)},children:$>0&&u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})}),u.jsxs("div",{className:"checkbox-label-group",onClick:()=>v(O),style:{flex:1},children:[u.jsx(tC,{checked:H,indeterminate:q}),u.jsx("span",{className:"node-label",children:O})]})]}),u.jsx("span",{className:"filter-count",children:j.count})]}),N&&$>0&&u.jsx("div",{className:"tree-children",children:Object.entries(j.subcategories).map(([K,J])=>{var ie;const ae=(ie=n.subcategories)==null?void 0:ie.includes(K);return u.jsxs("div",{className:`child-node ${ae?"active":""}`,onClick:()=>g(K,O),children:[u.jsxs("div",{className:"checkbox-label-group",children:[u.jsx(tC,{checked:ae}),u.jsx("span",{children:K})]}),u.jsx("span",{className:"filter-count",children:J})]},K)})})]},O)})})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx(Fe,{variant:"ghost",onClick:x,disabled:_===0,children:"Clear all"}),u.jsxs(Fe,{variant:"primary",onClick:t,children:["Show ",u.jsx(Ide,{value:w})," ",w===1?"Result":"Results"]})]})]})})}function UO({task:e,isSelected:t,isMine:r,onSelect:n,onUnselect:i,onComplete:s,onUncomplete:a,isCompleted:o,showActions:c=!0,searchQuery:d=""}){const[f,p]=E.useState(!1),v=async w=>{if(w==null||w.stopPropagation(),!(f||r)){p(!0);try{await(n==null?void 0:n(e.id))}catch(A){console.error("Error selecting task:",A)}finally{p(!1)}}},g=async w=>{if(w==null||w.stopPropagation(),!f&&window.confirm("Are you sure you want to abandon this task?")){p(!0);try{await(i==null?void 0:i(e.id))}catch(A){console.error("Error unselecting task:",A)}finally{p(!1)}}},b=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(s==null?void 0:s(e.id))}catch(A){console.error("Error completing task:",A)}finally{p(!1)}}},x=async w=>{if(w==null||w.stopPropagation(),!f){p(!0);try{await(a==null?void 0:a(e.id))}catch(A){console.error("Error uncompleting task:",A)}finally{p(!1)}}},_=()=>!c||!r?null:u.jsxs("div",{className:"task-card-actions",children:[s&&!o&&u.jsx(Fe,{variant:"primary",size:"sm",onClick:b,loading:f,children:"Accept"}),a&&o&&u.jsx(Fe,{variant:"secondary",size:"sm",onClick:x,loading:f,children:"Mark Active"}),u.jsx(Fe,{variant:"danger",size:"sm",onClick:g,loading:f,children:"Abandon Task"})]});return u.jsx(So,{task:e,isCompleted:o,isHighlighted:e==null?void 0:e.is_highlighted,searchQuery:d,onClick:r?void 0:v,footer:_(),className:`${t?"selected":""} ${r?"mine":""}`})}function TM({title:e,tasks:t=[],totalCount:r,totalInCategory:n=0,onTaskSelect:i,onTaskUnselect:s,onTaskComplete:a,onTaskUncomplete:o,onExplore:c,searchQuery:d,showAll:f=!1,isMine:p=!1,activePromotions:v=[]}){const[g,b]=E.useState(!1),x=E.useRef(null),_=j=>{x.current&&x.current.scrollBy({left:j==="left"?-400:400,behavior:"smooth"})},w=t.some(j=>j.is_special||j.priority_tag),A=t.find(j=>j.is_promoted),S=!!A,O=v.some(j=>j.is_active&&(j.categories.includes("ALL")||j.categories.includes(e)));return t.length===0?n===0?null:u.jsxs("div",{className:"task-category-section",children:[u.jsx("div",{className:"section-header",children:u.jsx("div",{className:"section-title-group",children:u.jsx("div",{className:"section-title-wrapper",children:u.jsxs("h3",{children:[e,u.jsx("span",{className:"section-count section-count-empty",children:"0"})]})})})}),u.jsx("div",{className:"section-content",children:u.jsxs("div",{className:"category-empty-state",children:[u.jsx("div",{className:"empty-state-icon-wrapper",children:u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M5.8 11.3 2 22l10.7-3.79"}),u.jsx("path",{d:"M4 3h.01"}),u.jsx("path",{d:"M22 8h.01"}),u.jsx("path",{d:"M15 2h.01"}),u.jsx("path",{d:"M22 20h.01"}),u.jsx("path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10"}),u.jsx("path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17"}),u.jsx("path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.51 9 6.22V7"})]})}),u.jsxs("div",{className:"empty-state-text",children:[u.jsx("h4",{children:"All Tasks Claimed"}),u.jsxs("p",{children:["All ",u.jsx("strong",{children:n})," tasks in this category have been claimed by the community."]}),u.jsx("span",{className:"empty-state-hint",children:"Check back later as tasks may reopen if they are released."})]})]})})]}):u.jsxs("div",{className:`task-category-section ${w?"prioritized-section":""} ${S?"promoted-section":""}`,children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("div",{className:"section-title-group",onClick:()=>b(!g),children:[u.jsx("button",{className:`collapse-btn ${g?"collapsed":""}`,children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"6 9 12 15 18 9"})})}),u.jsxs("div",{className:"section-title-wrapper",children:[u.jsxs("h3",{children:[e,O&&u.jsx("span",{className:"category-incentive-icon",title:"This category is currently incentivized! Check the active promotions for details.",children:""}),u.jsx("button",{className:"section-count section-count-link",onClick:j=>{j.stopPropagation(),c==null||c(e)},title:"Explore all tasks in this category",children:r??t.length})]}),S&&u.jsxs(Ni,{variant:"accent",size:"sm",className:"promo-badge",children:[" ",A.promo_multiplier,"x Rewards"]}),w&&!S&&u.jsx(Ni,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})]}),!g&&!f&&u.jsxs("div",{className:"section-controls",children:[u.jsx(Fe,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:j=>{j.stopPropagation(),c(e)},children:u.jsxs("span",{className:"explore-btn-content",children:[u.jsx("span",{children:"Explore domain"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),u.jsx("button",{className:"scroll-btn",onClick:()=>_("left"),"aria-label":"Scroll left",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"15 18 9 12 15 6"})})}),u.jsx("button",{className:"scroll-btn",onClick:()=>_("right"),"aria-label":"Scroll right",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]}),!g&&u.jsx("div",{className:"section-content",children:f?u.jsx("div",{className:"tasks-grid-row show-all",children:t.map(j=>u.jsx("div",{className:"grid-item",children:u.jsx(UO,{task:j,isSelected:j.is_selected,isMine:p,isCompleted:!!j.completed_at,onSelect:()=>i==null?void 0:i(j,t),onUnselect:()=>s==null?void 0:s(j.id),onComplete:()=>a==null?void 0:a(j.id),onUncomplete:()=>o==null?void 0:o(j.id),showActions:!0,searchQuery:d})},j.id))}):u.jsxs("div",{className:"tasks-carousel",ref:x,children:[t.map(j=>u.jsx("div",{className:"carousel-item",children:u.jsx(UO,{task:j,isSelected:j.is_selected,isMine:p,isCompleted:!!j.completed_at,onSelect:()=>i==null?void 0:i(j,t),onUnselect:()=>s==null?void 0:s(j.id),onComplete:()=>a==null?void 0:a(j.id),onUncomplete:()=>o==null?void 0:o(j.id),showActions:!0,searchQuery:d})},j.id)),r&&r>t.length&&u.jsx("div",{className:"carousel-item carousel-explore-more",children:u.jsx("button",{className:"explore-more-card",onClick:()=>c==null?void 0:c(e),children:u.jsxs("div",{className:"explore-more-content",children:[u.jsx("div",{className:"explore-icon-wrapper",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),u.jsxs("div",{className:"explore-stats",children:[u.jsxs("span",{className:"explore-more-count",children:["+",r-t.length]}),u.jsx("span",{className:"explore-more-label",children:"more tasks"})]}),u.jsxs("div",{className:"explore-more-cta",children:[u.jsx("span",{children:"View All"}),u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),u.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})})})]})})]})}function Dde({category:e,tasks:t=[],onTaskSelect:r,onBack:n,searchQuery:i=""}){const s=E.useMemo(()=>{const o={};return t.forEach(c=>{const d=c.subcategory||"General";o[d]||(o[d]=[]),o[d].push(c)}),Object.entries(o).sort((c,d)=>d[1].length-c[1].length)},[t]),a=t.some(o=>o.is_special||o.priority_tag);return u.jsxs("div",{className:"category-explore-view",children:[u.jsxs("div",{className:"explore-header",children:[u.jsx(Fe,{variant:"ghost",size:"sm",onClick:n,className:"back-btn",children:u.jsxs("span",{className:"back-btn-content",children:[u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"15 18 9 12 15 6"})}),u.jsx("span",{children:"Back to all categories"})]})}),u.jsx("div",{className:"explore-title-section",children:u.jsxs("div",{className:"explore-title-row",children:[u.jsx("h2",{className:"explore-title",children:e}),a&&u.jsx(Ni,{variant:"accent",size:"sm",className:"double-pay-badge",children:" Double Pay"})]})})]}),u.jsx("div",{className:"tasks-grouped-layout",children:s.map(([o,c])=>u.jsx(TM,{title:o,tasks:c,onTaskSelect:r,onTaskUnselect:()=>{},onExplore:()=>{},searchQuery:i,showAll:!0},o))})]})}function Lde(){var Ee,Te;const{previewTasks:e,loading:t,error:r,searchResults:n,searchLoading:i,searchTasks:s,clearSearch:a,fetchCategory:o,loadingCategory:c,getCategoryCount:d,categoryCounts:f}=jde();cu();const{promotions:p}=Ux(),{profile:v}=qr(),g=nn(),b=E.useRef(!1),[x,_]=E.useState(null),[w,A]=E.useState([]),S=Ld(az,2200),[O,j]=E.useState(!1),[N,P]=E.useState({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""});E.useEffect(()=>{g&&e.length>0&&!b.current&&(g.capture("gallery_viewed",{total_tasks:e.length,available_tasks:e.filter(fe=>!fe.is_selected).length}),b.current=!0)},[g,e]);const D=E.useCallback(async fe=>{P($e=>({...$e,search:fe||""})),fe&&fe.trim()?await s(fe):a()},[s,a]),$=E.useCallback(()=>{P(fe=>({...fe,search:""})),a()},[a]),I=E.useMemo(()=>N.search&&n?n:e,[N.search,n,e]),M=E.useMemo(()=>I.filter(fe=>{var $e;if(fe.is_selected||N.priorityOnly&&!fe.is_highlighted||N.categories.length>0&&!N.categories.includes(fe.category)||N.subcategories.length>0&&!N.subcategories.includes(fe.subcategory))return!1;if(N.difficulties.length>0){const Oe=(($e=fe.difficulty)==null?void 0:$e.toLowerCase())||"unknown";if(!N.difficulties.includes(Oe))return!1}return!0}),[I,N]);E.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[N]);const H=E.useMemo(()=>{const fe={};return M.forEach(Oe=>{const te=Oe.category||"Uncategorized";fe[te]||(fe[te]=[]),fe[te].push(Oe)}),N.search||N.categories.length>0||N.subcategories.length>0||N.difficulties.length>0||N.priorityOnly||Object.entries(f).forEach(([Oe,te])=>{te.available===0&&te.total>0&&!fe[Oe]&&(fe[Oe]=[])}),Object.entries(fe).sort((Oe,te)=>{if(Oe[1].length===0&&te[1].length>0)return 1;if(Oe[1].length>0&&te[1].length===0)return-1;const ke=Oe[1].some(he=>he.is_special||he.priority_tag),He=te[1].some(he=>he.is_special||he.priority_tag);return ke&&!He?-1:!ke&&He?1:te[1].length-Oe[1].length})},[M,N,f]),q=(fe,$e=[])=>{_(fe),A($e)},G=()=>{_(null),A([])},K=fe=>{_(fe)},[J,ae]=E.useState(null),[ie,de]=E.useState([]),L=async fe=>{ae(fe),window.scrollTo({top:0,behavior:"smooth"});try{const $e=await o(fe);de($e)}catch($e){console.error("Error loading category:",$e)}},V=()=>{ae(null),de([])},ne=(((Ee=N.categories)==null?void 0:Ee.length)||0)+(((Te=N.difficulties)==null?void 0:Te.length)||0)+(N.priorityOnly?1:0),F=N.search||ne>0;return t?u.jsxs("div",{className:"tasks-view",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h1",{children:"Task Inspiration"}),u.jsx("p",{children:"Browse and select tasks to work on"})]}),u.jsx("div",{className:"tasks-loading",children:u.jsx(Aa,{size:"lg",message:S})})]}):r?u.jsxs("div",{className:"tasks-view",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h1",{children:"Task Inspiration"}),u.jsx("p",{children:"Browse and select tasks to work on"})]}),u.jsxs("div",{className:"tasks-error",children:[u.jsxs("p",{children:["Error loading tasks: ",r]}),u.jsx(Fe,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):u.jsxs("div",{className:"tasks-view tasks-gallery",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h1",{children:"Pick Your Next Challenge."}),u.jsx("p",{children:"Real problems frontier models still struggle with. Choose one and start building."})]}),u.jsxs("div",{className:"gallery-container",children:[u.jsx(Pde,{onSearch:D,onClearSearch:$,onOpenFilters:()=>j(!0)}),u.jsxs("div",{className:"gallery-content",children:[u.jsxs("div",{className:"tasks-results-header",children:[u.jsx("p",{className:"results-count",children:F&&u.jsxs(u.Fragment,{children:["Found ",M.length," tasks"]})}),F&&u.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>{$(),P({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},children:"Clear all filters"})]}),J?c===J?u.jsx("div",{className:"tasks-loading",children:u.jsx(Aa,{size:"lg",message:`Loading ${J}...`})}):u.jsx(Dde,{category:J,tasks:ie.filter(fe=>!fe.is_selected),onTaskSelect:q,onBack:V,searchQuery:N.search}):i?u.jsx("div",{className:"tasks-loading",children:u.jsx(Aa,{size:"lg",message:"Searching..."})}):M.length===0?u.jsxs("div",{className:"tasks-empty",children:[u.jsx("div",{className:"empty-icon",children:u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]})}),u.jsx("h3",{children:"No tasks found"}),u.jsx("p",{children:"Try adjusting your search or filters to find what you're looking for."}),u.jsx(Fe,{variant:"secondary",onClick:()=>{$(),P({categories:[],subcategories:[],difficulties:[],priorityOnly:!1,search:""})},children:"Clear All Filters"})]}):u.jsx("div",{className:"tasks-grouped-layout",children:H.map(([fe,$e])=>{var ke;const Oe=d(fe),te=v!=null&&v.can_see_incentives?p:[];return u.jsx(TM,{title:fe,tasks:$e,totalCount:Oe.available,totalInCategory:Oe.total,onTaskSelect:q,onTaskUnselect:()=>{},onExplore:L,searchQuery:N.search,showAll:(ke=N.categories)==null?void 0:ke.includes(fe),activePromotions:te},fe)})})]})]}),u.jsx(Rde,{isOpen:O,onClose:()=>j(!1),tasks:e,filters:N,onFilterChange:P}),u.jsx(eR,{task:x,isOpen:!!x,onClose:G,contextTasks:w,onNavigate:K,showNavigation:w.length>1})]})}function Mde({sections:e,currentSlug:t,onSearchClick:r,isOpen:n,onClose:i,onNavClick:s}){const a=()=>{s&&s(),i()},o=E.useMemo(()=>{var c,d;return typeof navigator>"u"?!1:(c=navigator.userAgentData)!=null&&c.platform?navigator.userAgentData.platform.toLowerCase().includes("mac"):((d=navigator.platform)==null?void 0:d.toLowerCase().includes("mac"))??!1},[]);return u.jsxs(u.Fragment,{children:[n&&u.jsx("div",{className:"docs-sidebar-overlay",onClick:i}),u.jsxs("aside",{className:`docs-sidebar ${n?"docs-sidebar--open":""}`,children:[u.jsxs("div",{className:"docs-sidebar-header",children:[u.jsxs(sr,{to:"/portal",className:"docs-back-link",children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to Portal"]}),u.jsx("h2",{className:"docs-sidebar-title",children:"Documentation"})]}),u.jsxs("button",{className:"docs-search-trigger",onClick:r,children:[u.jsxs("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"M21 21l-4.35-4.35"})]}),u.jsx("span",{children:"Search docs..."}),u.jsx("kbd",{children:o?"K":"Ctrl+K"})]}),u.jsx("nav",{className:"docs-nav",children:e.map(c=>u.jsxs("div",{className:"docs-nav-section",children:[u.jsx("h3",{className:"docs-nav-section-title",children:c.title}),u.jsx("ul",{className:"docs-nav-list",children:c.items.map(d=>u.jsx("li",{children:u.jsx(sr,{to:`/portal/docs/${d.slug}`,className:`docs-nav-link ${t===d.slug?"docs-nav-link--active":""}`,onClick:a,children:d.title})},d.slug))})]},c.title))})]})]})}function HO(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function Bde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Fde(e,t,r){const i=qm((r||{}).ignore||[]),s=$de(t);let a=-1;for(;++a<s.length;)HR(e,"text",o);function o(d,f){let p=-1,v;for(;++p<f.length;){const g=f[p],b=v?v.children:void 0;if(i(g,b?b.indexOf(g):void 0,v))return;v=g}if(v)return c(d,f)}function c(d,f){const p=f[f.length-1],v=s[a][0],g=s[a][1];let b=0;const _=p.children.indexOf(d);let w=!1,A=[];v.lastIndex=0;let S=v.exec(d.value);for(;S;){const O=S.index,j={index:S.index,input:S.input,stack:[...f,d]};let N=g(...S,j);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?v.lastIndex=O+1:(b!==O&&A.push({type:"text",value:d.value.slice(b,O)}),Array.isArray(N)?A.push(...N):N&&A.push(N),b=O+S[0].length,w=!0),!v.global)break;S=v.exec(d.value)}return w?(b<d.value.length&&A.push({type:"text",value:d.value.slice(b)}),p.children.splice(_,1,...A)):A=[d],_+A.length}}function $de(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([Ude(i[0]),Hde(i[1])])}return t}function Ude(e){return typeof e=="string"?new RegExp(Bde(e),"g"):e}function Hde(e){return typeof e=="function"?e:function(){return e}}const Wb="phrasing",qb=["autolink","link","image","label"];function zde(){return{transforms:[Xde],enter:{literalAutolink:qde,literalAutolinkEmail:Vb,literalAutolinkHttp:Vb,literalAutolinkWww:Vb},exit:{literalAutolink:Kde,literalAutolinkEmail:Yde,literalAutolinkHttp:Vde,literalAutolinkWww:Gde}}}function Wde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wb,notInConstruct:qb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wb,notInConstruct:qb},{character:":",before:"[ps]",after:"\\/",inConstruct:Wb,notInConstruct:qb}]}}function qde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vb(e){this.config.enter.autolinkProtocol.call(this,e)}function Vde(e){this.config.exit.autolinkProtocol.call(this,e)}function Gde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Yde(e){this.config.exit.autolinkEmail.call(this,e)}function Kde(e){this.exit(e)}function Xde(e){Fde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Qde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Jde]],{ignore:["link","linkReference"]})}function Qde(e,t,r,n,i){let s="";if(!SM(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!Zde(r)))return!1;const a=ehe(r+n);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function Jde(e,t,r,n){return!SM(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Zde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ehe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=HO(e,"(");let s=HO(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function SM(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Co(r)||Hm(r))&&(!t||r!==47)}CM.peek=uhe;function the(){this.buffer()}function rhe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function nhe(){this.buffer()}function ihe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function she(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ji(this.sliceSerialize(e)).toLowerCase(),r.label=t}function ahe(e){this.exit(e)}function ohe(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ji(this.sliceSerialize(e)).toLowerCase(),r.label=t}function lhe(e){this.exit(e)}function uhe(){return"["}function CM(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),o=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function che(){return{enter:{gfmFootnoteCallString:the,gfmFootnoteCall:rhe,gfmFootnoteDefinitionLabelString:nhe,gfmFootnoteDefinition:ihe},exit:{gfmFootnoteCallString:she,gfmFootnoteCall:ahe,gfmFootnoteDefinitionLabelString:ohe,gfmFootnoteDefinition:lhe}}}function dhe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:CM},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const o=s.createTracker(a);let c=o.move("[^");const d=s.enter("footnoteDefinition"),f=s.enter("label");return c+=o.move(s.safe(s.associationId(n),{before:c,after:"]"})),f(),c+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,o.current()),t?AM:hhe))),d(),c}}function hhe(e,t,r){return t===0?e:AM(e,t,r)}function AM(e,t,r){return(r?"":"    ")+e}const fhe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];NM.peek=yhe;function phe(){return{canContainEols:["delete"],enter:{strikethrough:ghe},exit:{strikethrough:vhe}}}function mhe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fhe}],handlers:{delete:NM}}}function ghe(e){this.enter({type:"delete",children:[]},e)}function vhe(e){this.exit(e)}function NM(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function yhe(){return"~"}function bhe(e){return e.length}function _he(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||bhe,s=[],a=[],o=[],c=[];let d=0,f=-1;for(;++f<e.length;){const x=[],_=[];let w=-1;for(e[f].length>d&&(d=e[f].length);++w<e[f].length;){const A=xhe(e[f][w]);if(r.alignDelimiters!==!1){const S=i(A);_[w]=S,(c[w]===void 0||S>c[w])&&(c[w]=S)}x.push(A)}a[f]=x,o[f]=_}let p=-1;if(typeof n=="object"&&"length"in n)for(;++p<d;)s[p]=zO(n[p]);else{const x=zO(n);for(;++p<d;)s[p]=x}p=-1;const v=[],g=[];for(;++p<d;){const x=s[p];let _="",w="";x===99?(_=":",w=":"):x===108?_=":":x===114&&(w=":");let A=r.alignDelimiters===!1?1:Math.max(1,c[p]-_.length-w.length);const S=_+"-".repeat(A)+w;r.alignDelimiters!==!1&&(A=_.length+A+w.length,A>c[p]&&(c[p]=A),g[p]=A),v[p]=S}a.splice(1,0,v),o.splice(1,0,g),f=-1;const b=[];for(;++f<a.length;){const x=a[f],_=o[f];p=-1;const w=[];for(;++p<d;){const A=x[p]||"";let S="",O="";if(r.alignDelimiters!==!1){const j=c[p]-(_[p]||0),N=s[p];N===114?S=" ".repeat(j):N===99?j%2?(S=" ".repeat(j/2+.5),O=" ".repeat(j/2-.5)):(S=" ".repeat(j/2),O=S):O=" ".repeat(j)}r.delimiterStart!==!1&&!p&&w.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&A==="")&&(r.delimiterStart!==!1||p)&&w.push(" "),r.alignDelimiters!==!1&&w.push(S),w.push(A),r.alignDelimiters!==!1&&w.push(O),r.padding!==!1&&w.push(" "),(r.delimiterEnd!==!1||p!==d-1)&&w.push("|")}b.push(r.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return b.join(`
`)}function xhe(e){return e==null?"":String(e)}function zO(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const WO={}.hasOwnProperty;function jM(e,t){const r=t||{};function n(i,...s){let a=n.invalid;const o=n.handlers;if(i&&WO.call(i,e)){const c=String(i[e]);a=WO.call(o,c)?o[c]:n.unknown}if(a)return a.call(this,i,...s)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function whe(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),Ehe);return i(),a}function Ehe(e,t,r){return">"+(r?"":" ")+e}function khe(e,t){return qO(e,t.inConstruct,!0)&&!qO(e,t.notInConstruct,!1)}function qO(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function VO(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&khe(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function The(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function She(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Che(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ahe(e,t,r,n){const i=Che(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(She(e,r)){const p=r.enter("codeIndented"),v=r.indentLines(s,Nhe);return p(),v}const o=r.createTracker(n),c=i.repeat(Math.max(The(s,i)+1,3)),d=r.enter("codeFenced");let f=o.move(c);if(e.lang){const p=r.enter(`codeFencedLang${a}`);f+=o.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...o.current()})),p()}if(e.lang&&e.meta){const p=r.enter(`codeFencedMeta${a}`);f+=o.move(" "),f+=o.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...o.current()})),p()}return f+=o.move(`
`),s&&(f+=o.move(s+`
`)),f+=o.move(c),d(),f}function Nhe(e,t,r){return(r?"":"    ")+e}function bE(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function jhe(e,t,r,n){const i=bE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let o=r.enter("label");const c=r.createTracker(n);let d=c.move("[");return d+=c.move(r.safe(r.associationId(e),{before:d,after:"]",...c.current()})),d+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(o=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),o()),a(),d}function Ohe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ad(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Tm(e,t,r){const n=zl(e),i=zl(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}OM.peek=Phe;function OM(e,t,r,n){const i=Ohe(r),s=r.enter("emphasis"),a=r.createTracker(n),o=a.move(i);let c=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const d=c.charCodeAt(0),f=Tm(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Ad(d)+c.slice(1));const p=c.charCodeAt(c.length-1),v=Tm(n.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ad(p));const g=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+c+g}function Phe(e,t,r){return r.options.emphasis||"*"}function Ihe(e,t){let r=!1;return Gm(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,W1}),!!((!e.depth||e.depth<3)&&Px(e)&&(t.options.setext||r))}function Rhe(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(Ihe(e,r)){const f=r.enter("headingSetext"),p=r.enter("phrasing"),v=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return p(),f(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=r.enter("headingAtx"),c=r.enter("phrasing");s.move(a+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Ad(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,r.options.closeAtx&&(d+=" "+a),c(),o(),d}PM.peek=Dhe;function PM(e){return e.value||""}function Dhe(){return"<"}IM.peek=Lhe;function IM(e,t,r,n){const i=bE(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let o=r.enter("label");const c=r.createTracker(n);let d=c.move("![");return d+=c.move(r.safe(e.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(o=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=r.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(r.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),o()),d+=c.move(")"),a(),d}function Lhe(){return"!"}RM.peek=Mhe;function RM(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const o=r.createTracker(n);let c=o.move("![");const d=r.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(d+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!d||d!==p?c+=o.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Mhe(){return"!"}DM.peek=Bhe;function DM(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],o=r.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(n);){let d=c.index;n.charCodeAt(d)===10&&n.charCodeAt(d-1)===13&&d--,n=n.slice(0,d)+" "+n.slice(c.index+1)}}return i+n+i}function Bhe(){return"`"}function LM(e,t){const r=Px(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}MM.peek=Fhe;function MM(e,t,r,n){const i=bE(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let o,c;if(LM(e,r)){const f=r.stack;r.stack=[],o=r.enter("autolink");let p=a.move("<");return p+=a.move(r.containerPhrasing(e,{before:p,after:">",...a.current()})),p+=a.move(">"),o(),r.stack=f,p}o=r.enter("link"),c=r.enter("label");let d=a.move("[");return d+=a.move(r.containerPhrasing(e,{before:d,after:"](",...a.current()})),d+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(r.safe(e.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(c=r.enter("destinationRaw"),d+=a.move(r.safe(e.url,{before:d,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=r.enter(`title${s}`),d+=a.move(" "+i),d+=a.move(r.safe(e.title,{before:d,after:i,...a.current()})),d+=a.move(i),c()),d+=a.move(")"),o(),d}function Fhe(e,t,r){return LM(e,r)?"<":"["}BM.peek=$he;function BM(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const o=r.createTracker(n);let c=o.move("[");const d=r.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(d+"]["),a();const f=r.stack;r.stack=[],a=r.enter("reference");const p=r.safe(r.associationId(e),{before:c,after:"]",...o.current()});return a(),r.stack=f,s(),i==="full"||!d||d!==p?c+=o.move(p+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function $he(){return"["}function _E(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Uhe(e){const t=_E(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Hhe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function FM(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function zhe(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?Hhe(r):_E(r);const o=e.ordered?a==="."?")":".":Uhe(r);let c=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),FM(r)===a&&f){let p=-1;for(;++p<e.children.length;){const v=e.children[p];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),r.bulletCurrent=a;const d=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),d}function Whe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function qhe(e,t,r,n){const i=Whe(r);let s=r.bulletCurrent||_E(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=r.createTracker(n);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,o.current()),f);return c(),d;function f(p,v,g){return v?(g?"":" ".repeat(a))+p:(g?s:s+" ".repeat(a-s.length))+p}}function Vhe(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const Ghe=qm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Yhe(e,t,r,n){return(e.children.some(function(a){return Ghe(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Khe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}$M.peek=Xhe;function $M(e,t,r,n){const i=Khe(r),s=r.enter("strong"),a=r.createTracker(n),o=a.move(i+i);let c=a.move(r.containerPhrasing(e,{after:i,before:o,...a.current()}));const d=c.charCodeAt(0),f=Tm(n.before.charCodeAt(n.before.length-1),d,i);f.inside&&(c=Ad(d)+c.slice(1));const p=c.charCodeAt(c.length-1),v=Tm(n.after.charCodeAt(0),p,i);v.inside&&(c=c.slice(0,-1)+Ad(p));const g=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:v.outside,before:f.outside},o+c+g}function Xhe(e,t,r){return r.options.strong||"*"}function Qhe(e,t,r,n){return r.safe(e.value,n)}function Jhe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Zhe(e,t,r){const n=(FM(r)+(r.options.ruleSpaces?" ":"")).repeat(Jhe(r));return r.options.ruleSpaces?n.slice(0,-1):n}const UM={blockquote:whe,break:VO,code:Ahe,definition:jhe,emphasis:OM,hardBreak:VO,heading:Rhe,html:PM,image:IM,imageReference:RM,inlineCode:DM,link:MM,linkReference:BM,list:zhe,listItem:qhe,paragraph:Vhe,root:Yhe,strong:$M,text:Qhe,thematicBreak:Zhe};function efe(){return{enter:{table:tfe,tableData:GO,tableHeader:GO,tableRow:nfe},exit:{codeText:ife,table:rfe,tableData:Gb,tableHeader:Gb,tableRow:Gb}}}function tfe(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function rfe(e){this.exit(e),this.data.inTable=void 0}function nfe(e){this.enter({type:"tableRow",children:[]},e)}function Gb(e){this.exit(e)}function GO(e){this.enter({type:"tableCell",children:[]},e)}function ife(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,sfe));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function sfe(e,t){return t==="|"?t:e}function afe(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:a,tableCell:c,tableRow:o}};function a(g,b,x,_){return d(f(g,x,_),g.align)}function o(g,b,x,_){const w=p(g,x,_),A=d([w]);return A.slice(0,A.indexOf(`
`))}function c(g,b,x,_){const w=x.enter("tableCell"),A=x.enter("phrasing"),S=x.containerPhrasing(g,{..._,before:s,after:s});return A(),w(),S}function d(g,b){return _he(g,{align:b,alignDelimiters:n,padding:r,stringLength:i})}function f(g,b,x){const _=g.children;let w=-1;const A=[],S=b.enter("table");for(;++w<_.length;)A[w]=p(_[w],b,x);return S(),A}function p(g,b,x){const _=g.children;let w=-1;const A=[],S=b.enter("tableRow");for(;++w<_.length;)A[w]=c(_[w],g,b,x);return S(),A}function v(g,b,x){let _=UM.inlineCode(g,b,x);return x.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function ofe(){return{exit:{taskListCheckValueChecked:YO,taskListCheckValueUnchecked:YO,paragraph:ufe}}}function lfe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cfe}}}function YO(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ufe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function cfe(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);s&&o.move(a);let c=UM.listItem(e,t,r,{...n,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(f){return f+a}}function dfe(){return[zde(),che(),phe(),efe(),ofe()]}function hfe(e){return{extensions:[Wde(),dhe(e),mhe(),afe(e),lfe()]}}const ffe={tokenize:bfe,partial:!0},HM={tokenize:_fe,partial:!0},zM={tokenize:xfe,partial:!0},WM={tokenize:wfe,partial:!0},pfe={tokenize:Efe,partial:!0},qM={name:"wwwAutolink",tokenize:vfe,previous:GM},VM={name:"protocolAutolink",tokenize:yfe,previous:YM},zs={name:"emailAutolink",tokenize:gfe,previous:KM},is={};function mfe(){return{text:is}}let io=48;for(;io<123;)is[io]=zs,io++,io===58?io=65:io===91&&(io=97);is[43]=zs;is[45]=zs;is[46]=zs;is[95]=zs;is[72]=[zs,VM];is[104]=[zs,VM];is[87]=[zs,qM];is[119]=[zs,qM];function gfe(e,t,r){const n=this;let i,s;return a;function a(p){return!F_(p)||!KM.call(n,n.previous)||xE(n.events)?r(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(p))}function o(p){return F_(p)?(e.consume(p),o):p===64?(e.consume(p),c):r(p)}function c(p){return p===46?e.check(pfe,f,d)(p):p===45||p===95||zr(p)?(s=!0,e.consume(p),c):f(p)}function d(p){return e.consume(p),i=!0,c}function f(p){return s&&i&&en(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):r(p)}}function vfe(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!GM.call(n,n.previous)||xE(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ffe,e.attempt(HM,e.attempt(zM,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function yfe(e,t,r){const n=this;let i="",s=!1;return a;function a(p){return(p===72||p===104)&&YM.call(n,n.previous)&&!xE(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(p),e.consume(p),o):r(p)}function o(p){if(en(p)&&i.length<5)return i+=String.fromCodePoint(p),e.consume(p),o;if(p===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(p),c}return r(p)}function c(p){return p===47?(e.consume(p),s?d:(s=!0,c)):r(p)}function d(p){return p===null||Mp(p)||Et(p)||Co(p)||Hm(p)?r(p):e.attempt(HM,e.attempt(zM,f),r)(p)}function f(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function bfe(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function _fe(e,t,r){let n,i,s;return a;function a(d){return d===46||d===95?e.check(WM,c,o)(d):d===null||Et(d)||Co(d)||d!==45&&Hm(d)?c(d):(s=!0,e.consume(d),a)}function o(d){return d===95?n=!0:(i=n,n=void 0),e.consume(d),a}function c(d){return i||n||!s?r(d):t(d)}}function xfe(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(WM,t,s)(a):a===null||Et(a)||Co(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function wfe(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Et(o)||Co(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||Et(o)||Co(o)?t(o):n(o)}function s(o){return en(o)?a(o):r(o)}function a(o){return o===59?(e.consume(o),n):en(o)?(e.consume(o),a):r(o)}}function Efe(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return zr(s)?r(s):t(s)}}function GM(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Et(e)}function YM(e){return!en(e)}function KM(e){return!(e===47||F_(e))}function F_(e){return e===43||e===45||e===46||e===95||zr(e)}function xE(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const kfe={tokenize:Pfe,partial:!0};function Tfe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Nfe,continuation:{tokenize:jfe},exit:Ofe}},text:{91:{name:"gfmFootnoteCall",tokenize:Afe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Sfe,resolveTo:Cfe}}}}function Sfe(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const c=n.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return r(c);const d=ji(n.sliceSerialize({start:a.end,end:n.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Cfe(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function Afe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return o;function o(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),c}function c(p){return p!==94?r(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(p){if(s>999||p===93&&!a||p===null||p===91||Et(p))return r(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(ji(n.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(p)}return Et(p)||(a=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function Nfe(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(b)}function f(b){if(a>999||b===93&&!o||b===null||b===91||Et(b))return r(b);if(b===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=ji(n.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Et(b)||(o=!0),a++,e.consume(b),b===92?p:f}function p(b){return b===91||b===92||b===93?(e.consume(b),a++,f):f(b)}function v(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(s)||i.push(s),lt(e,g,"gfmFootnoteDefinitionWhitespace")):r(b)}function g(b){return t(b)}}function jfe(e,t,r){return e.check(Fd,t,e.attempt(kfe,t,r))}function Ofe(e){e.exit("gfmFootnoteDefinition")}function Pfe(e,t,r){const n=this;return lt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function Ife(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let d=c;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[c][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[c][1].end)},p={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[c][1].start)},v=[["enter",f,o],["enter",a[d][1],o],["exit",a[d][1],o],["enter",p,o]],g=o.parser.constructs.insideSpan.null;g&&Bn(v,v.length,0,zm(g,a.slice(d+1,c),o)),Bn(v,v.length,0,[["exit",p,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",f,o]]),Bn(a,d-1,c-d+3,v),c=d+v.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,o,c){const d=this.previous,f=this.events;let p=0;return v;function v(b){return d===126&&f[f.length-1][1].type!=="characterEscape"?c(b):(a.enter("strikethroughSequenceTemporary"),g(b))}function g(b){const x=zl(d);if(b===126)return p>1?c(b):(a.consume(b),p++,g);if(p<2&&!r)return c(b);const _=a.exit("strikethroughSequenceTemporary"),w=zl(b);return _._open=!w||w===2&&!!x,_._close=!x||x===2&&!!w,o(b)}}}class Rfe{constructor(){this.map=[]}add(t,r,n){Dfe(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function Dfe(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function Lfe(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Mfe(){return{flow:{null:{name:"table",tokenize:Bfe,resolveAll:Ffe}}}}function Bfe(e,t,r){const n=this;let i=0,s=0,a;return o;function o(I){let M=n.events.length-1;for(;M>-1;){const G=n.events[M][1].type;if(G==="lineEnding"||G==="linePrefix")M--;else break}const H=M>-1?n.events[M][1].type:null,q=H==="tableHead"||H==="tableRow"?N:c;return q===N&&n.parser.lazy[n.now().line]?r(I):q(I)}function c(I){return e.enter("tableHead"),e.enter("tableRow"),d(I)}function d(I){return I===124||(a=!0,s+=1),f(I)}function f(I){return I===null?r(I):Xe(I)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),g):r(I):at(I)?lt(e,f,"whitespace")(I):(s+=1,a&&(a=!1,i+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),a=!0,f):(e.enter("data"),p(I)))}function p(I){return I===null||I===124||Et(I)?(e.exit("data"),f(I)):(e.consume(I),I===92?v:p)}function v(I){return I===92||I===124?(e.consume(I),p):p(I)}function g(I){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(I):(e.enter("tableDelimiterRow"),a=!1,at(I)?lt(e,b,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):b(I))}function b(I){return I===45||I===58?_(I):I===124?(a=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),x):j(I)}function x(I){return at(I)?lt(e,_,"whitespace")(I):_(I)}function _(I){return I===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),w):I===45?(s+=1,w(I)):I===null||Xe(I)?O(I):j(I)}function w(I){return I===45?(e.enter("tableDelimiterFiller"),A(I)):j(I)}function A(I){return I===45?(e.consume(I),A):I===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(I))}function S(I){return at(I)?lt(e,O,"whitespace")(I):O(I)}function O(I){return I===124?b(I):I===null||Xe(I)?!a||i!==s?j(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):j(I)}function j(I){return r(I)}function N(I){return e.enter("tableRow"),P(I)}function P(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),P):I===null||Xe(I)?(e.exit("tableRow"),t(I)):at(I)?lt(e,P,"whitespace")(I):(e.enter("data"),D(I))}function D(I){return I===null||I===124||Et(I)?(e.exit("data"),P(I)):(e.consume(I),I===92?$:D)}function $(I){return I===92||I===124?(e.consume(I),D):D(I)}}function Ffe(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,d,f,p;const v=new Rfe;for(;++r<e.length;){const g=e[r],b=g[1];g[0]==="enter"?b.type==="tableHead"?(o=!1,c!==0&&(KO(v,t,c,d,f),f=void 0,c=0),d={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(r,0,[["enter",d,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(n=!0,p=void 0,s=[0,0,0,0],a=[0,r+1,0,0],o&&(o=!1,f={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},v.add(r,0,[["enter",f,t]])),i=b.type==="tableDelimiterRow"?2:f?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],p=Qf(v,t,s,i,void 0,p),s=[0,0,0,0]),a[2]=r)):b.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],p=Qf(v,t,s,i,void 0,p)),s=a,a=[s[1],r,0,0])):b.type==="tableHead"?(o=!0,c=r):b.type==="tableRow"||b.type==="tableDelimiterRow"?(c=r,s[1]!==0?(a[0]=a[1],p=Qf(v,t,s,i,r,p)):a[1]!==0&&(p=Qf(v,t,a,i,r,p)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(a[3]=r)}for(c!==0&&KO(v,t,c,d,f),v.consume(t.events),r=-1;++r<t.events.length;){const g=t.events[r];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Lfe(t.events,r))}return e}function Qf(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(s.end=Object.assign({},Al(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const c=Al(t.events,r[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const d=Al(t.events,r[2]),f=Al(t.events,r[3]),p={type:o,start:Object.assign({},d),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",p,t]]),n!==2){const v=t.events[r[2]],g=t.events[r[3]];if(v[1].end=Object.assign({},g[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const b=r[2]+1,x=r[3]-r[2]-1;e.add(b,x,[])}}e.add(r[3]+1,0,[["exit",p,t]])}return i!==void 0&&(s.end=Object.assign({},Al(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function KO(e,t,r,n,i){const s=[],a=Al(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function Al(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const $fe={name:"tasklistCheck",tokenize:Hfe};function Ufe(){return{text:{91:$fe}}}function Hfe(e,t,r){const n=this;return i;function i(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Et(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):r(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(c)}function o(c){return Xe(c)?t(c):at(c)?e.check({tokenize:zfe},t,r)(c):r(c)}}function zfe(e,t,r){return lt(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Wfe(e){return ER([mfe(),Tfe(),Ife(e),Mfe(),Ufe()])}const qfe={};function Vfe(e){const t=this,r=e||qfe,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Wfe(r)),s.push(dfe()),a.push(hfe(r))}const XO=/[#.]/g;function Gfe(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){XO.lastIndex=i;const o=XO.exec(r),c=r.slice(i,o?o.index:r.length);c&&(s?s==="#"?n.id=c:Array.isArray(n.className)?n.className.push(c):n.className=[c]:a=c,i+=c.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function XM(e,t,r){const n=r?Qfe(r):void 0;function i(s,a,...o){let c;if(s==null){c={type:"root",children:[]};const d=a;o.unshift(d)}else{c=Gfe(s,t);const d=c.tagName.toLowerCase(),f=n?n.get(d):void 0;if(c.tagName=f||d,Yfe(a))o.unshift(a);else for(const[p,v]of Object.entries(a))Kfe(e,c.properties,p,v)}for(const d of o)$_(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function Yfe(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Kfe(e,t,r,n){const i=$m(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=mC(n):i.commaSeparated?s=cC(n):i.commaOrSpaceSeparated?s=mC(cC(n).join(" ")):s=QO(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?Xfe(n):String(n);if(Array.isArray(s)){const a=[];for(const o of s)a.push(QO(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function $_(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)$_(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?$_(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function QO(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||md(r)===md(t)))return!0}return r}function Xfe(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function Qfe(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const Jfe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Zfe=XM(Bd,"div"),epe=XM(Ia,"g",Jfe);function tpe(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=r[a];if(o===void 0){const c=JO(t,r[a-1]);o=c===-1?t.length+1:c+1,r[a]=o}if(o>s)return{line:a+1,column:s-(a>0?r[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;r.length<s.line;){const o=r[r.length-1],c=JO(t,o),d=c===-1?t.length+1:c+1;if(o===d)break;r.push(d)}const a=(s.line>1?r[s.line-2]:0)+s.column-1;if(a<r[s.line-1])return a}}}function JO(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const yo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},QM={}.hasOwnProperty,rpe=Object.prototype;function npe(e,t){const r=t||{};return wE({file:r.file||void 0,location:!1,schema:r.space==="svg"?Ia:Bd,verbose:r.verbose||!1},e)}function wE(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},cp(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:JM(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=tpe(s),o=a.toPoint(0),c=a.toPoint(s.length);r.position={start:o,end:c}}return r}case"#documentType":{const n=t;return r={type:"doctype"},cp(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},cp(e,n,r),r}default:return r=ipe(e,t),r}}function JM(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=wE(e,t[r]);n.push(i)}return n}function ipe(e,t){const r=e.schema;e.schema=t.namespaceURI===yo.svg?Ia:Bd;let n=-1;const i={};for(;++n<t.attrs.length;){const o=t.attrs[n],c=(o.prefix?o.prefix+":":"")+o.name;QM.call(rpe,c)||(i[c]=o.value)}const a=(e.schema.space==="svg"?epe:Zfe)(t.tagName,i,JM(e,t.childNodes));if(cp(e,t,a),a.tagName==="template"){const o=t,c=o.sourceCodeLocation,d=c&&c.startTag&&Pl(c.startTag),f=c&&c.endTag&&Pl(c.endTag),p=wE(e,o.content);d&&f&&e.file&&(p.position={start:d.end,end:f.start}),a.content=p}return e.schema=r,a}function cp(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=spe(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function spe(e,t,r){const n=Pl(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(r.attrs)for(a in r.attrs)QM.call(r.attrs,a)&&(s[$m(e.schema,a).property]=Pl(r.attrs[a]));r.startTag;const o=Pl(r.startTag),c=r.endTag?Pl(r.endTag):void 0,d={opening:o};c&&(d.closing=c),d.properties=s,t.data={position:d}}}return n}function Pl(e){const t=ZO({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=ZO({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function ZO(e){return e.line&&e.column?e:void 0}const ape={},ope={}.hasOwnProperty,ZM=jM("type",{handlers:{root:upe,element:ppe,text:hpe,comment:fpe,doctype:dpe}});function lpe(e,t){const n=(t||ape).space;return ZM(e,n==="svg"?Ia:Bd)}function upe(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=EE(e.children,r,t),Eu(e,r),r}function cpe(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=EE(e.children,r,t),Eu(e,r),r}function dpe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Eu(e,t),t}function hpe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Eu(e,t),t}function fpe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Eu(e,t),t}function ppe(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=Ia);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&ope.call(e.properties,s)){const c=mpe(n,s,e.properties[s]);c&&i.push(c)}}const a=n.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:yo[a],childNodes:[],parentNode:null};return o.childNodes=EE(e.children,o,n),Eu(e,o),e.tagName==="template"&&e.content&&(o.content=cpe(e.content,n)),o}function mpe(e,t,r){const n=$m(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?lR(r):gR(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=n.attribute.slice(0,s)),i.namespace=yo[n.space]}return i}function EE(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const s=ZM(e[n],r);s.parentNode=t,i.push(s)}return i}function Eu(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const gpe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],vpe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Dt="";var B;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(B||(B={}));const hn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function e5(e){return e>=55296&&e<=57343}function ype(e){return e>=56320&&e<=57343}function bpe(e,t){return(e-55296)*1024+9216+t}function t5(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function r5(e){return e>=64976&&e<=65007||vpe.has(e)}var ue;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ue||(ue={}));const _pe=65536;class xpe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=_pe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:s}=this,a=i+r,o=s+r;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(ype(r))return this.pos++,this._addGap(),bpe(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,B.EOF;return this._err(ue.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;const n=this.html.charCodeAt(r);return n===B.CARRIAGE_RETURN?B.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,B.EOF;let t=this.html.charCodeAt(this.pos);return t===B.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,B.LINE_FEED):t===B.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,e5(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===B.LINE_FEED||t===B.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){t5(t)?this._err(ue.controlCharacterInInputStream):r5(t)&&this._err(ue.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var it;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(it||(it={}));function n5(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const wpe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Epe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function kpe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Epe.get(e))!==null&&t!==void 0?t:e}var xr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(xr||(xr={}));const Tpe=32;var Ea;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ea||(Ea={}));function U_(e){return e>=xr.ZERO&&e<=xr.NINE}function Spe(e){return e>=xr.UPPER_A&&e<=xr.UPPER_F||e>=xr.LOWER_A&&e<=xr.LOWER_F}function Cpe(e){return e>=xr.UPPER_A&&e<=xr.UPPER_Z||e>=xr.LOWER_A&&e<=xr.LOWER_Z||U_(e)}function Ape(e){return e===xr.EQUALS||Cpe(e)}var yr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(yr||(yr={}));var ws;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ws||(ws={}));class Npe{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=yr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ws.Strict}startEntity(t){this.decodeMode=t,this.state=yr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case yr.EntityStart:return t.charCodeAt(r)===xr.NUM?(this.state=yr.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=yr.NamedEntity,this.stateNamedEntity(t,r));case yr.NumericStart:return this.stateNumericStart(t,r);case yr.NumericDecimal:return this.stateNumericDecimal(t,r);case yr.NumericHex:return this.stateNumericHex(t,r);case yr.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|Tpe)===xr.LOWER_X?(this.state=yr.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=yr.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const s=n-r;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(r,s),i),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(U_(i)||Spe(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(U_(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===xr.SEMI)this.consumed+=1;else if(this.decodeMode===ws.Strict)return 0;return this.emitCodePoint(kpe(this.result),this.consumed),this.errors&&(t!==xr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],s=(i&Ea.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=jpe(n,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===ws.Attribute&&(s===0||Ape(a))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],s=(i&Ea.VALUE_LENGTH)>>14,s!==0){if(a===xr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ws.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&Ea.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~Ea.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case yr.NamedEntity:return this.result!==0&&(this.decodeMode!==ws.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yr.NumericDecimal:return this.emitNumericEntity(0,2);case yr.NumericHex:return this.emitNumericEntity(0,3);case yr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yr.EntityStart:return 0}}}function jpe(e,t,r,n){const i=(t&Ea.BRANCH_LENGTH)>>7,s=t&Ea.JUMP_TABLE;if(i===0)return s!==0&&n===s?r:-1;if(s){const c=n-s;return c<0||c>=i?-1:e[r+c]-1}let a=r,o=a+i-1;for(;a<=o;){const c=a+o>>>1,d=e[c];if(d<n)a=c+1;else if(d>n)o=c-1;else return e[c+i]}return-1}var me;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(me||(me={}));var Eo;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Eo||(Eo={}));var ti;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ti||(ti={}));var ee;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ee||(ee={}));var k;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(k||(k={}));const Ope=new Map([[ee.A,k.A],[ee.ADDRESS,k.ADDRESS],[ee.ANNOTATION_XML,k.ANNOTATION_XML],[ee.APPLET,k.APPLET],[ee.AREA,k.AREA],[ee.ARTICLE,k.ARTICLE],[ee.ASIDE,k.ASIDE],[ee.B,k.B],[ee.BASE,k.BASE],[ee.BASEFONT,k.BASEFONT],[ee.BGSOUND,k.BGSOUND],[ee.BIG,k.BIG],[ee.BLOCKQUOTE,k.BLOCKQUOTE],[ee.BODY,k.BODY],[ee.BR,k.BR],[ee.BUTTON,k.BUTTON],[ee.CAPTION,k.CAPTION],[ee.CENTER,k.CENTER],[ee.CODE,k.CODE],[ee.COL,k.COL],[ee.COLGROUP,k.COLGROUP],[ee.DD,k.DD],[ee.DESC,k.DESC],[ee.DETAILS,k.DETAILS],[ee.DIALOG,k.DIALOG],[ee.DIR,k.DIR],[ee.DIV,k.DIV],[ee.DL,k.DL],[ee.DT,k.DT],[ee.EM,k.EM],[ee.EMBED,k.EMBED],[ee.FIELDSET,k.FIELDSET],[ee.FIGCAPTION,k.FIGCAPTION],[ee.FIGURE,k.FIGURE],[ee.FONT,k.FONT],[ee.FOOTER,k.FOOTER],[ee.FOREIGN_OBJECT,k.FOREIGN_OBJECT],[ee.FORM,k.FORM],[ee.FRAME,k.FRAME],[ee.FRAMESET,k.FRAMESET],[ee.H1,k.H1],[ee.H2,k.H2],[ee.H3,k.H3],[ee.H4,k.H4],[ee.H5,k.H5],[ee.H6,k.H6],[ee.HEAD,k.HEAD],[ee.HEADER,k.HEADER],[ee.HGROUP,k.HGROUP],[ee.HR,k.HR],[ee.HTML,k.HTML],[ee.I,k.I],[ee.IMG,k.IMG],[ee.IMAGE,k.IMAGE],[ee.INPUT,k.INPUT],[ee.IFRAME,k.IFRAME],[ee.KEYGEN,k.KEYGEN],[ee.LABEL,k.LABEL],[ee.LI,k.LI],[ee.LINK,k.LINK],[ee.LISTING,k.LISTING],[ee.MAIN,k.MAIN],[ee.MALIGNMARK,k.MALIGNMARK],[ee.MARQUEE,k.MARQUEE],[ee.MATH,k.MATH],[ee.MENU,k.MENU],[ee.META,k.META],[ee.MGLYPH,k.MGLYPH],[ee.MI,k.MI],[ee.MO,k.MO],[ee.MN,k.MN],[ee.MS,k.MS],[ee.MTEXT,k.MTEXT],[ee.NAV,k.NAV],[ee.NOBR,k.NOBR],[ee.NOFRAMES,k.NOFRAMES],[ee.NOEMBED,k.NOEMBED],[ee.NOSCRIPT,k.NOSCRIPT],[ee.OBJECT,k.OBJECT],[ee.OL,k.OL],[ee.OPTGROUP,k.OPTGROUP],[ee.OPTION,k.OPTION],[ee.P,k.P],[ee.PARAM,k.PARAM],[ee.PLAINTEXT,k.PLAINTEXT],[ee.PRE,k.PRE],[ee.RB,k.RB],[ee.RP,k.RP],[ee.RT,k.RT],[ee.RTC,k.RTC],[ee.RUBY,k.RUBY],[ee.S,k.S],[ee.SCRIPT,k.SCRIPT],[ee.SEARCH,k.SEARCH],[ee.SECTION,k.SECTION],[ee.SELECT,k.SELECT],[ee.SOURCE,k.SOURCE],[ee.SMALL,k.SMALL],[ee.SPAN,k.SPAN],[ee.STRIKE,k.STRIKE],[ee.STRONG,k.STRONG],[ee.STYLE,k.STYLE],[ee.SUB,k.SUB],[ee.SUMMARY,k.SUMMARY],[ee.SUP,k.SUP],[ee.TABLE,k.TABLE],[ee.TBODY,k.TBODY],[ee.TEMPLATE,k.TEMPLATE],[ee.TEXTAREA,k.TEXTAREA],[ee.TFOOT,k.TFOOT],[ee.TD,k.TD],[ee.TH,k.TH],[ee.THEAD,k.THEAD],[ee.TITLE,k.TITLE],[ee.TR,k.TR],[ee.TRACK,k.TRACK],[ee.TT,k.TT],[ee.U,k.U],[ee.UL,k.UL],[ee.SVG,k.SVG],[ee.VAR,k.VAR],[ee.WBR,k.WBR],[ee.XMP,k.XMP]]);function ku(e){var t;return(t=Ope.get(e))!==null&&t!==void 0?t:k.UNKNOWN}const ye=k,Ppe={[me.HTML]:new Set([ye.ADDRESS,ye.APPLET,ye.AREA,ye.ARTICLE,ye.ASIDE,ye.BASE,ye.BASEFONT,ye.BGSOUND,ye.BLOCKQUOTE,ye.BODY,ye.BR,ye.BUTTON,ye.CAPTION,ye.CENTER,ye.COL,ye.COLGROUP,ye.DD,ye.DETAILS,ye.DIR,ye.DIV,ye.DL,ye.DT,ye.EMBED,ye.FIELDSET,ye.FIGCAPTION,ye.FIGURE,ye.FOOTER,ye.FORM,ye.FRAME,ye.FRAMESET,ye.H1,ye.H2,ye.H3,ye.H4,ye.H5,ye.H6,ye.HEAD,ye.HEADER,ye.HGROUP,ye.HR,ye.HTML,ye.IFRAME,ye.IMG,ye.INPUT,ye.LI,ye.LINK,ye.LISTING,ye.MAIN,ye.MARQUEE,ye.MENU,ye.META,ye.NAV,ye.NOEMBED,ye.NOFRAMES,ye.NOSCRIPT,ye.OBJECT,ye.OL,ye.P,ye.PARAM,ye.PLAINTEXT,ye.PRE,ye.SCRIPT,ye.SECTION,ye.SELECT,ye.SOURCE,ye.STYLE,ye.SUMMARY,ye.TABLE,ye.TBODY,ye.TD,ye.TEMPLATE,ye.TEXTAREA,ye.TFOOT,ye.TH,ye.THEAD,ye.TITLE,ye.TR,ye.TRACK,ye.UL,ye.WBR,ye.XMP]),[me.MATHML]:new Set([ye.MI,ye.MO,ye.MN,ye.MS,ye.MTEXT,ye.ANNOTATION_XML]),[me.SVG]:new Set([ye.TITLE,ye.FOREIGN_OBJECT,ye.DESC]),[me.XLINK]:new Set,[me.XML]:new Set,[me.XMLNS]:new Set},H_=new Set([ye.H1,ye.H2,ye.H3,ye.H4,ye.H5,ye.H6]);ee.STYLE,ee.SCRIPT,ee.XMP,ee.IFRAME,ee.NOEMBED,ee.NOFRAMES,ee.PLAINTEXT;var U;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(U||(U={}));const Kt={DATA:U.DATA,RCDATA:U.RCDATA,RAWTEXT:U.RAWTEXT,SCRIPT_DATA:U.SCRIPT_DATA,PLAINTEXT:U.PLAINTEXT,CDATA_SECTION:U.CDATA_SECTION};function Ipe(e){return e>=B.DIGIT_0&&e<=B.DIGIT_9}function Wc(e){return e>=B.LATIN_CAPITAL_A&&e<=B.LATIN_CAPITAL_Z}function Rpe(e){return e>=B.LATIN_SMALL_A&&e<=B.LATIN_SMALL_Z}function ma(e){return Rpe(e)||Wc(e)}function eP(e){return ma(e)||Ipe(e)}function Jf(e){return e+32}function i5(e){return e===B.SPACE||e===B.LINE_FEED||e===B.TABULATION||e===B.FORM_FEED}function tP(e){return i5(e)||e===B.SOLIDUS||e===B.GREATER_THAN_SIGN}function Dpe(e){return e===B.NULL?ue.nullCharacterReference:e>1114111?ue.characterReferenceOutsideUnicodeRange:e5(e)?ue.surrogateCharacterReference:r5(e)?ue.noncharacterCharacterReference:t5(e)||e===B.CARRIAGE_RETURN?ue.controlCharacterReference:null}class Lpe{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=U.DATA,this.returnState=U.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new xpe(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Npe(wpe,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ue.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(ue.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=Dpe(n);i&&this._err(i,1)}}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:it.START_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:it.END_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:it.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:it.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(n5(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ue.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ku(t.tagName),t.type===it.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ue.endTagWithAttributes),t.selfClosing&&this._err(ue.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case it.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case it.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case it.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:it.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=i5(t)?it.WHITESPACE_CHARACTER:t===B.NULL?it.NULL_CHARACTER:it.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(it.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=U.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ws.Attribute:ws.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===U.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case U.DATA:{this._stateData(t);break}case U.RCDATA:{this._stateRcdata(t);break}case U.RAWTEXT:{this._stateRawtext(t);break}case U.SCRIPT_DATA:{this._stateScriptData(t);break}case U.PLAINTEXT:{this._statePlaintext(t);break}case U.TAG_OPEN:{this._stateTagOpen(t);break}case U.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case U.TAG_NAME:{this._stateTagName(t);break}case U.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case U.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case U.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case U.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case U.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case U.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case U.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case U.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case U.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case U.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case U.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case U.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case U.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case U.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case U.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case U.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case U.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case U.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case U.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case U.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case U.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case U.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case U.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case U.BOGUS_COMMENT:{this._stateBogusComment(t);break}case U.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case U.COMMENT_START:{this._stateCommentStart(t);break}case U.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case U.COMMENT:{this._stateComment(t);break}case U.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case U.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case U.COMMENT_END:{this._stateCommentEnd(t);break}case U.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case U.DOCTYPE:{this._stateDoctype(t);break}case U.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case U.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case U.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case U.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case U.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case U.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case U.CDATA_SECTION:{this._stateCdataSection(t);break}case U.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case U.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case U.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case U.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=U.TAG_OPEN;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitCodePoint(t);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case B.AMPERSAND:{this._startCharacterReference();break}case B.LESS_THAN_SIGN:{this.state=U.RCDATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case B.LESS_THAN_SIGN:{this.state=U.RAWTEXT_LESS_THAN_SIGN;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_LESS_THAN_SIGN;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ma(t))this._createStartTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case B.EXCLAMATION_MARK:{this.state=U.MARKUP_DECLARATION_OPEN;break}case B.SOLIDUS:{this.state=U.END_TAG_OPEN;break}case B.QUESTION_MARK:{this._err(ue.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t);break}case B.EOF:{this._err(ue.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ue.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=U.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ma(t))this._createEndTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case B.GREATER_THAN_SIGN:{this._err(ue.missingEndTagName),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ue.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.tagName+=Dt;break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(Wc(t)?Jf(t):t)}}_stateRcdataLessThanSign(t){t===B.SOLIDUS?this.state=U.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ma(t)?(this.state=U.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=U.BEFORE_ATTRIBUTE_NAME,!1;case B.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=U.SELF_CLOSING_START_TAG,!1;case B.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=U.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===B.SOLIDUS?this.state=U.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ma(t)?(this.state=U.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case B.SOLIDUS:{this.state=U.SCRIPT_DATA_END_TAG_OPEN;break}case B.EXCLAMATION_MARK:{this.state=U.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=U.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ma(t)?(this.state=U.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===B.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===B.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case B.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===B.SOLIDUS?this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ma(t)?(this._emitChars("<"),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ma(t)?(this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(hn.SCRIPT,!1)&&tP(this.preprocessor.peek(hn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<hn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(Dt);break}case B.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case B.HYPHEN_MINUS:{this._emitChars("-");break}case B.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case B.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dt);break}case B.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===B.SOLIDUS?(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(hn.SCRIPT,!1)&&tP(this.preprocessor.peek(hn.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<hn.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._err(ue.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=U.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:case B.SOLIDUS:case B.GREATER_THAN_SIGN:case B.EOF:{this._leaveAttrName(),this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case B.EQUALS_SIGN:{this._leaveAttrName(),this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:{this._err(ue.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.name+=Dt;break}default:this.currentAttr.name+=String.fromCodePoint(Wc(t)?Jf(t):t)}}_stateAfterAttributeName(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case B.EQUALS_SIGN:{this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{this.state=U.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this.state=U.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ue.missingAttributeValue),this.state=U.DATA,this.emitCurrentTagToken();break}default:this.state=U.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case B.QUOTATION_MARK:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case B.APOSTROPHE:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case B.AMPERSAND:{this._startCharacterReference();break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case B.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=Dt;break}case B.QUOTATION_MARK:case B.APOSTROPHE:case B.LESS_THAN_SIGN:case B.EQUALS_SIGN:case B.GRAVE_ACCENT:{this._err(ue.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case B.SOLIDUS:{this._leaveAttrValue(),this.state=U.SELF_CLOSING_START_TAG;break}case B.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._err(ue.missingWhitespaceBetweenAttributes),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case B.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=U.DATA,this.emitCurrentTagToken();break}case B.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._err(ue.unexpectedSolidusInTag),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(r);break}case B.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.data+=Dt;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(hn.DASH_DASH,!0)?(this._createCommentToken(hn.DASH_DASH.length+1),this.state=U.COMMENT_START):this._consumeSequenceIfMatch(hn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(hn.DOCTYPE.length+1),this.state=U.DOCTYPE):this._consumeSequenceIfMatch(hn.CDATA_START,!0)?this.inForeignNode?this.state=U.CDATA_SECTION:(this._err(ue.cdataInHtmlContent),this._createCommentToken(hn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=U.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ue.incorrectlyOpenedComment),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_START_DASH;break}case B.GREATER_THAN_SIGN:{this._err(ue.abruptClosingOfEmptyComment),this.state=U.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case B.GREATER_THAN_SIGN:{this._err(ue.abruptClosingOfEmptyComment),this.state=U.DATA,this.emitCurrentComment(r);break}case B.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_END_DASH;break}case B.LESS_THAN_SIGN:{r.data+="<",this.state=U.COMMENT_LESS_THAN_SIGN;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.data+=Dt;break}case B.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case B.EXCLAMATION_MARK:{r.data+="!",this.state=U.COMMENT_LESS_THAN_SIGN_BANG;break}case B.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===B.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=U.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===B.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=U.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==B.GREATER_THAN_SIGN&&t!==B.EOF&&this._err(ue.nestedComment),this.state=U.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case B.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(r);break}case B.EXCLAMATION_MARK:{this.state=U.COMMENT_END_BANG;break}case B.HYPHEN_MINUS:{r.data+="-";break}case B.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case B.HYPHEN_MINUS:{r.data+="--!",this.state=U.COMMENT_END_DASH;break}case B.GREATER_THAN_SIGN:{this._err(ue.incorrectlyClosedComment),this.state=U.DATA,this.emitCurrentComment(r);break}case B.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=U.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case B.EOF:{this._err(ue.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingWhitespaceBeforeDoctypeName),this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Wc(t))this._createDoctypeToken(String.fromCharCode(Jf(t))),this.state=U.DOCTYPE_NAME;else switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.NULL:{this._err(ue.unexpectedNullCharacter),this._createDoctypeToken(Dt),this.state=U.DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=U.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.AFTER_DOCTYPE_NAME;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.name+=Dt;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(Wc(t)?Jf(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(hn.PUBLIC,!1)?this.state=U.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(hn.SYSTEM,!1)?this.state=U.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ue.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(ue.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ue.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ue.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{r.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ue.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.publicId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.publicId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case B.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.QUOTATION_MARK:{this._err(ue.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ue.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.QUOTATION_MARK:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.QUOTATION_MARK:{this._err(ue.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{this._err(ue.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.QUOTATION_MARK:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case B.APOSTROPHE:{r.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case B.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(r);break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case B.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.systemId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case B.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case B.NULL:{this._err(ue.unexpectedNullCharacter),r.systemId+=Dt;break}case B.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case B.SPACE:case B.LINE_FEED:case B.TABULATION:case B.FORM_FEED:break;case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.EOF:{this._err(ue.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(ue.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case B.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=U.DATA;break}case B.NULL:{this._err(ue.unexpectedNullCharacter);break}case B.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case B.RIGHT_SQUARE_BRACKET:{this.state=U.CDATA_SECTION_BRACKET;break}case B.EOF:{this._err(ue.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===B.RIGHT_SQUARE_BRACKET?this.state=U.CDATA_SECTION_END:(this._emitChars("]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case B.GREATER_THAN_SIGN:{this.state=U.DATA;break}case B.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(B.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&eP(this.preprocessor.peek(1))?U.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){eP(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===B.SEMICOLON&&this._err(ue.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const s5=new Set([k.DD,k.DT,k.LI,k.OPTGROUP,k.OPTION,k.P,k.RB,k.RP,k.RT,k.RTC]),rP=new Set([...s5,k.CAPTION,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]),Sm=new Set([k.APPLET,k.CAPTION,k.HTML,k.MARQUEE,k.OBJECT,k.TABLE,k.TD,k.TEMPLATE,k.TH]),Mpe=new Set([...Sm,k.OL,k.UL]),Bpe=new Set([...Sm,k.BUTTON]),nP=new Set([k.ANNOTATION_XML,k.MI,k.MN,k.MO,k.MS,k.MTEXT]),iP=new Set([k.DESC,k.FOREIGN_OBJECT,k.TITLE]),Fpe=new Set([k.TR,k.TEMPLATE,k.HTML]),$pe=new Set([k.TBODY,k.TFOOT,k.THEAD,k.TEMPLATE,k.HTML]),Upe=new Set([k.TABLE,k.TEMPLATE,k.HTML]),Hpe=new Set([k.TD,k.TH]);class zpe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=k.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===k.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===me.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==me.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(H_,me.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Hpe,me.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(Upe,me.HTML)}clearBackToTableBodyContext(){this.clearBackTo($pe,me.HTML)}clearBackToTableRowContext(){this.clearBackTo(Fpe,me.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===k.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===k.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case me.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case me.SVG:{if(iP.has(i))return!1;break}case me.MATHML:{if(nP.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Sm)}hasInListItemScope(t){return this.hasInDynamicScope(t,Mpe)}hasInButtonScope(t){return this.hasInDynamicScope(t,Bpe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case me.HTML:{if(H_.has(r))return!0;if(Sm.has(r))return!1;break}case me.SVG:{if(iP.has(r))return!1;break}case me.MATHML:{if(nP.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===me.HTML)switch(this.tagIDs[r]){case t:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===me.HTML)switch(this.tagIDs[t]){case k.TBODY:case k.THEAD:case k.TFOOT:return!0;case k.TABLE:case k.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===me.HTML)switch(this.tagIDs[r]){case t:return!0;case k.OPTION:case k.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&s5.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&rP.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&rP.has(this.currentTagId);)this.pop()}}const Yb=3;var Vi;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Vi||(Vi={}));const sP={type:Vi.Marker};class Wpe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const c=this.entries[o];if(c.type===Vi.Marker)break;const{element:d}=c;if(this.treeAdapter.getTagName(d)===s&&this.treeAdapter.getNamespaceURI(d)===a){const f=this.treeAdapter.getAttrList(d);f.length===i&&n.push({idx:o,attrs:f})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<Yb)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<Yb)return;const i=new Map(r.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<n.length;a++){const o=n[a];o.attrs.every(c=>i.get(c.name)===c.value)&&(s+=1,s>=Yb&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(sP)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:Vi.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Vi.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(sP);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===Vi.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===Vi.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===Vi.Element&&r.element===t)}}const ga={createDocument(){return{nodeName:"#document",mode:ti.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const s={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};ga.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(ga.isTextNode(r)){r.value+=t;return}}ga.appendChild(e,ga.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&ga.isTextNode(n)?n.value+=t:ga.insertBefore(e,ga.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},a5="html",qpe="about:legacy-compat",Vpe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",o5=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Gpe=[...o5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Ype=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),l5=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Kpe=[...l5,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function aP(e,t){return t.some(r=>e.startsWith(r))}function Xpe(e){return e.name===a5&&e.publicId===null&&(e.systemId===null||e.systemId===qpe)}function Qpe(e){if(e.name!==a5)return ti.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Vpe)return ti.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),Ype.has(r))return ti.QUIRKS;let n=t===null?Gpe:o5;if(aP(r,n))return ti.QUIRKS;if(n=t===null?l5:Kpe,aP(r,n))return ti.LIMITED_QUIRKS}return ti.NO_QUIRKS}const oP={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Jpe="definitionurl",Zpe="definitionURL",eme=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),tme=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:me.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:me.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:me.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:me.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:me.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:me.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:me.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:me.XML}],["xml:space",{prefix:"xml",name:"space",namespace:me.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:me.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:me.XMLNS}]]),rme=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),nme=new Set([k.B,k.BIG,k.BLOCKQUOTE,k.BODY,k.BR,k.CENTER,k.CODE,k.DD,k.DIV,k.DL,k.DT,k.EM,k.EMBED,k.H1,k.H2,k.H3,k.H4,k.H5,k.H6,k.HEAD,k.HR,k.I,k.IMG,k.LI,k.LISTING,k.MENU,k.META,k.NOBR,k.OL,k.P,k.PRE,k.RUBY,k.S,k.SMALL,k.SPAN,k.STRONG,k.STRIKE,k.SUB,k.SUP,k.TABLE,k.TT,k.U,k.UL,k.VAR]);function ime(e){const t=e.tagID;return t===k.FONT&&e.attrs.some(({name:n})=>n===Eo.COLOR||n===Eo.SIZE||n===Eo.FACE)||nme.has(t)}function u5(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Jpe){e.attrs[t].name=Zpe;break}}function c5(e){for(let t=0;t<e.attrs.length;t++){const r=eme.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function kE(e){for(let t=0;t<e.attrs.length;t++){const r=tme.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function sme(e){const t=rme.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ku(e.tagName))}function ame(e,t){return t===me.MATHML&&(e===k.MI||e===k.MO||e===k.MN||e===k.MS||e===k.MTEXT)}function ome(e,t,r){if(t===me.MATHML&&e===k.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Eo.ENCODING){const i=r[n].value.toLowerCase();return i===oP.TEXT_HTML||i===oP.APPLICATION_XML}}return t===me.SVG&&(e===k.FOREIGN_OBJECT||e===k.DESC||e===k.TITLE)}function lme(e,t,r,n){return(!n||n===me.HTML)&&ome(e,t,r)||(!n||n===me.MATHML)&&ame(e,t)}const ume="hidden",cme=8,dme=3;var W;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const hme={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},d5=new Set([k.TABLE,k.TBODY,k.TFOOT,k.THEAD,k.TR]),lP={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ga,onParseError:null};class uP{constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...lP,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new Lpe(this.options,this),this.activeFormattingElements=new Wpe(this.treeAdapter),this.fragmentContextID=n?ku(this.treeAdapter.getTagName(n)):k.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new zpe(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...lP,...r};t??(t=n.treeAdapter.createElement(ee.TEMPLATE,me.HTML,[]));const i=n.treeAdapter.createElement("documentmock",me.HTML,[]),s=new this(n,i,t);return s.fragmentContextID===k.TEMPLATE&&s.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:hme,a={code:r,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,r,n){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===me.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,me.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=Kt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ee.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==me.HTML))switch(this.fragmentContextID){case k.TITLE:case k.TEXTAREA:{this.tokenizer.state=Kt.RCDATA;break}case k.STYLE:case k.XMP:case k.IFRAME:case k.NOEMBED:case k.NOFRAMES:case k.NOSCRIPT:{this.tokenizer.state=Kt.RAWTEXT;break}case k.SCRIPT:{this.tokenizer.state=Kt.SCRIPT_DATA;break}case k.PLAINTEXT:{this.tokenizer.state=Kt.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,me.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,me.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ee.HTML,me.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,k.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),s=n?i.lastIndexOf(n):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:c,endCol:d,endOffset:f}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:c,endCol:d,endOffset:f})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),s=r.type===it.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===k.SVG&&this.treeAdapter.getTagName(r)===ee.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===me.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===k.MGLYPH||t.tagID===k.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,me.HTML)}_processToken(t){switch(t.type){case it.CHARACTER:{this.onCharacter(t);break}case it.NULL_CHARACTER:{this.onNullCharacter(t);break}case it.COMMENT:{this.onComment(t);break}case it.DOCTYPE:{this.onDoctype(t);break}case it.START_TAG:{this._processStartTag(t);break}case it.END_TAG:{this.onEndTag(t);break}case it.EOF:{this.onEof(t);break}case it.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),s=this.treeAdapter.getAttrList(r);return lme(t,i,s,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===Vi.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(k.P),this.openElements.popUntilTagNamePopped(k.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case k.TR:{this.insertionMode=W.IN_ROW;return}case k.TBODY:case k.THEAD:case k.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case k.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case k.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case k.TABLE:{this.insertionMode=W.IN_TABLE;return}case k.BODY:{this.insertionMode=W.IN_BODY;return}case k.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case k.SELECT:{this._resetInsertionModeForSelect(t);return}case k.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case k.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case k.TD:case k.TH:{if(t>0){this.insertionMode=W.IN_CELL;return}break}case k.HEAD:{if(t>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===k.TEMPLATE)break;if(n===k.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(t){return d5.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case k.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===me.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case k.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return Ppe[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Hge(this,t);return}switch(this.insertionMode){case W.INITIAL:{Pc(this,t);break}case W.BEFORE_HTML:{td(this,t);break}case W.BEFORE_HEAD:{rd(this,t);break}case W.IN_HEAD:{nd(this,t);break}case W.IN_HEAD_NO_SCRIPT:{id(this,t);break}case W.AFTER_HEAD:{sd(this,t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{f5(this,t);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Kb(this,t);break}case W.IN_TABLE_TEXT:{b5(this,t);break}case W.IN_COLUMN_GROUP:{Cm(this,t);break}case W.AFTER_BODY:{Am(this,t);break}case W.AFTER_AFTER_BODY:{dp(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Uge(this,t);return}switch(this.insertionMode){case W.INITIAL:{Pc(this,t);break}case W.BEFORE_HTML:{td(this,t);break}case W.BEFORE_HEAD:{rd(this,t);break}case W.IN_HEAD:{nd(this,t);break}case W.IN_HEAD_NO_SCRIPT:{id(this,t);break}case W.AFTER_HEAD:{sd(this,t);break}case W.TEXT:{this._insertCharacters(t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Kb(this,t);break}case W.IN_COLUMN_GROUP:{Cm(this,t);break}case W.AFTER_BODY:{Am(this,t);break}case W.AFTER_AFTER_BODY:{dp(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){z_(this,t);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{z_(this,t);break}case W.IN_TABLE_TEXT:{Ic(this,t);break}case W.AFTER_BODY:{bme(this,t);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{_me(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{xme(this,t);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(t,ue.misplacedDoctype);break}case W.IN_TABLE_TEXT:{Ic(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ue.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?zge(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{Pc(this,t);break}case W.BEFORE_HTML:{wme(this,t);break}case W.BEFORE_HEAD:{kme(this,t);break}case W.IN_HEAD:{Li(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Cme(this,t);break}case W.AFTER_HEAD:{Nme(this,t);break}case W.IN_BODY:{Gr(this,t);break}case W.IN_TABLE:{tu(this,t);break}case W.IN_TABLE_TEXT:{Ic(this,t);break}case W.IN_CAPTION:{Tge(this,t);break}case W.IN_COLUMN_GROUP:{CE(this,t);break}case W.IN_TABLE_BODY:{Ng(this,t);break}case W.IN_ROW:{jg(this,t);break}case W.IN_CELL:{Age(this,t);break}case W.IN_SELECT:{w5(this,t);break}case W.IN_SELECT_IN_TABLE:{jge(this,t);break}case W.IN_TEMPLATE:{Pge(this,t);break}case W.AFTER_BODY:{Rge(this,t);break}case W.IN_FRAMESET:{Dge(this,t);break}case W.AFTER_FRAMESET:{Mge(this,t);break}case W.AFTER_AFTER_BODY:{Fge(this,t);break}case W.AFTER_AFTER_FRAMESET:{$ge(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Wge(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case W.INITIAL:{Pc(this,t);break}case W.BEFORE_HTML:{Eme(this,t);break}case W.BEFORE_HEAD:{Tme(this,t);break}case W.IN_HEAD:{Sme(this,t);break}case W.IN_HEAD_NO_SCRIPT:{Ame(this,t);break}case W.AFTER_HEAD:{jme(this,t);break}case W.IN_BODY:{Ag(this,t);break}case W.TEXT:{mge(this,t);break}case W.IN_TABLE:{Nd(this,t);break}case W.IN_TABLE_TEXT:{Ic(this,t);break}case W.IN_CAPTION:{Sge(this,t);break}case W.IN_COLUMN_GROUP:{Cge(this,t);break}case W.IN_TABLE_BODY:{W_(this,t);break}case W.IN_ROW:{x5(this,t);break}case W.IN_CELL:{Nge(this,t);break}case W.IN_SELECT:{E5(this,t);break}case W.IN_SELECT_IN_TABLE:{Oge(this,t);break}case W.IN_TEMPLATE:{Ige(this,t);break}case W.AFTER_BODY:{T5(this,t);break}case W.IN_FRAMESET:{Lge(this,t);break}case W.AFTER_FRAMESET:{Bge(this,t);break}case W.AFTER_AFTER_BODY:{dp(this,t);break}}}onEof(t){switch(this.insertionMode){case W.INITIAL:{Pc(this,t);break}case W.BEFORE_HTML:{td(this,t);break}case W.BEFORE_HEAD:{rd(this,t);break}case W.IN_HEAD:{nd(this,t);break}case W.IN_HEAD_NO_SCRIPT:{id(this,t);break}case W.AFTER_HEAD:{sd(this,t);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{v5(this,t);break}case W.TEXT:{gge(this,t);break}case W.IN_TABLE_TEXT:{Ic(this,t);break}case W.IN_TEMPLATE:{k5(this,t);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{SE(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===B.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(t);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{h5(this,t);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{Kb(this,t);break}case W.IN_TABLE_TEXT:{y5(this,t);break}}}}function fme(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):g5(e,t),r}function pme(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function mme(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==r;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),c=o&&s>=dme;!o||c?(c&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=gme(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(a,n),n=a)}return n}function gme(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function vme(e,t,r){const n=e.treeAdapter.getTagName(t),i=ku(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const s=e.treeAdapter.getNamespaceURI(t);i===k.TEMPLATE&&s===me.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function yme(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,s=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,s,i.tagID)}function TE(e,t){for(let r=0;r<cme;r++){const n=fme(e,t);if(!n)break;const i=pme(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const s=mme(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),a&&vme(e,a,s),yme(e,i,n)}}function z_(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function bme(e,t){e._appendCommentNode(t,e.openElements.items[0])}function _me(e,t){e._appendCommentNode(t,e.document)}function SE(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function xme(e,t){e._setDocumentType(t);const r=t.forceQuirks?ti.QUIRKS:Qpe(t);Xpe(t)||e._err(t,ue.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=W.BEFORE_HTML}function Pc(e,t){e._err(t,ue.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ti.QUIRKS),e.insertionMode=W.BEFORE_HTML,e._processToken(t)}function wme(e,t){t.tagID===k.HTML?(e._insertElement(t,me.HTML),e.insertionMode=W.BEFORE_HEAD):td(e,t)}function Eme(e,t){const r=t.tagID;(r===k.HTML||r===k.HEAD||r===k.BODY||r===k.BR)&&td(e,t)}function td(e,t){e._insertFakeRootElement(),e.insertionMode=W.BEFORE_HEAD,e._processToken(t)}function kme(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.HEAD:{e._insertElement(t,me.HTML),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD;break}default:rd(e,t)}}function Tme(e,t){const r=t.tagID;r===k.HEAD||r===k.BODY||r===k.HTML||r===k.BR?rd(e,t):e._err(t,ue.endTagWithoutMatchingOpenElement)}function rd(e,t){e._insertFakeElement(ee.HEAD,k.HEAD),e.headElement=e.openElements.current,e.insertionMode=W.IN_HEAD,e._processToken(t)}function Li(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:{e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.TITLE:{e._switchToTextParsing(t,Kt.RCDATA);break}case k.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Kt.RAWTEXT):(e._insertElement(t,me.HTML),e.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case k.NOFRAMES:case k.STYLE:{e._switchToTextParsing(t,Kt.RAWTEXT);break}case k.SCRIPT:{e._switchToTextParsing(t,Kt.SCRIPT_DATA);break}case k.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=W.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case k.HEAD:{e._err(t,ue.misplacedStartTagForHeadElement);break}default:nd(e,t)}}function Sme(e,t){switch(t.tagID){case k.HEAD:{e.openElements.pop(),e.insertionMode=W.AFTER_HEAD;break}case k.BODY:case k.BR:case k.HTML:{nd(e,t);break}case k.TEMPLATE:{Bo(e,t);break}default:e._err(t,ue.endTagWithoutMatchingOpenElement)}}function Bo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==k.TEMPLATE&&e._err(t,ue.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ue.endTagWithoutMatchingOpenElement)}function nd(e,t){e.openElements.pop(),e.insertionMode=W.AFTER_HEAD,e._processToken(t)}function Cme(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.BASEFONT:case k.BGSOUND:case k.HEAD:case k.LINK:case k.META:case k.NOFRAMES:case k.STYLE:{Li(e,t);break}case k.NOSCRIPT:{e._err(t,ue.nestedNoscriptInHead);break}default:id(e,t)}}function Ame(e,t){switch(t.tagID){case k.NOSCRIPT:{e.openElements.pop(),e.insertionMode=W.IN_HEAD;break}case k.BR:{id(e,t);break}default:e._err(t,ue.endTagWithoutMatchingOpenElement)}}function id(e,t){const r=t.type===it.EOF?ue.openElementsLeftAfterEof:ue.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=W.IN_HEAD,e._processToken(t)}function Nme(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.BODY:{e._insertElement(t,me.HTML),e.framesetOk=!1,e.insertionMode=W.IN_BODY;break}case k.FRAMESET:{e._insertElement(t,me.HTML),e.insertionMode=W.IN_FRAMESET;break}case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{e._err(t,ue.abandonedHeadElementChild),e.openElements.push(e.headElement,k.HEAD),Li(e,t),e.openElements.remove(e.headElement);break}case k.HEAD:{e._err(t,ue.misplacedStartTagForHeadElement);break}default:sd(e,t)}}function jme(e,t){switch(t.tagID){case k.BODY:case k.HTML:case k.BR:{sd(e,t);break}case k.TEMPLATE:{Bo(e,t);break}default:e._err(t,ue.endTagWithoutMatchingOpenElement)}}function sd(e,t){e._insertFakeElement(ee.BODY,k.BODY),e.insertionMode=W.IN_BODY,Cg(e,t)}function Cg(e,t){switch(t.type){case it.CHARACTER:{f5(e,t);break}case it.WHITESPACE_CHARACTER:{h5(e,t);break}case it.COMMENT:{z_(e,t);break}case it.START_TAG:{Gr(e,t);break}case it.END_TAG:{Ag(e,t);break}case it.EOF:{v5(e,t);break}}}function h5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function f5(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Ome(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Pme(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function Ime(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,me.HTML),e.insertionMode=W.IN_FRAMESET)}function Rme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML)}function Dme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&H_.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,me.HTML)}function Lme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Mme(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),r||(e.formElement=e.openElements.current))}function Bme(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===k.LI&&i===k.LI||(r===k.DD||r===k.DT)&&(i===k.DD||i===k.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==k.ADDRESS&&i!==k.DIV&&i!==k.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML)}function Fme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),e.tokenizer.state=Kt.PLAINTEXT}function $me(e,t){e.openElements.hasInScope(k.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.framesetOk=!1}function Ume(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(ee.A);r&&(TE(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Hme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function zme(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(k.NOBR)&&(TE(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,me.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Wme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function qme(e,t){e.treeAdapter.getDocumentMode(e.document)!==ti.QUIRKS&&e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,me.HTML),e.framesetOk=!1,e.insertionMode=W.IN_TABLE}function p5(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,me.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function m5(e){const t=n5(e,Eo.TYPE);return t!=null&&t.toLowerCase()===ume}function Vme(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,me.HTML),m5(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Gme(e,t){e._appendElement(t,me.HTML),t.ackSelfClosing=!0}function Yme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._appendElement(t,me.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Kme(e,t){t.tagName=ee.IMG,t.tagID=k.IMG,p5(e,t)}function Xme(e,t){e._insertElement(t,me.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Kt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=W.TEXT}function Qme(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function Jme(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function cP(e,t){e._switchToTextParsing(t,Kt.RAWTEXT)}function Zme(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===W.IN_TABLE||e.insertionMode===W.IN_CAPTION||e.insertionMode===W.IN_TABLE_BODY||e.insertionMode===W.IN_ROW||e.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function ege(e,t){e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML)}function tge(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,me.HTML)}function rge(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(k.RTC),e._insertElement(t,me.HTML)}function nge(e,t){e._reconstructActiveFormattingElements(),u5(t),kE(t),t.selfClosing?e._appendElement(t,me.MATHML):e._insertElement(t,me.MATHML),t.ackSelfClosing=!0}function ige(e,t){e._reconstructActiveFormattingElements(),c5(t),kE(t),t.selfClosing?e._appendElement(t,me.SVG):e._insertElement(t,me.SVG),t.ackSelfClosing=!0}function dP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,me.HTML)}function Gr(e,t){switch(t.tagID){case k.I:case k.S:case k.B:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.SMALL:case k.STRIKE:case k.STRONG:{Hme(e,t);break}case k.A:{Ume(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{Dme(e,t);break}case k.P:case k.DL:case k.OL:case k.UL:case k.DIV:case k.DIR:case k.NAV:case k.MAIN:case k.MENU:case k.ASIDE:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.DETAILS:case k.ADDRESS:case k.ARTICLE:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{Rme(e,t);break}case k.LI:case k.DD:case k.DT:{Bme(e,t);break}case k.BR:case k.IMG:case k.WBR:case k.AREA:case k.EMBED:case k.KEYGEN:{p5(e,t);break}case k.HR:{Yme(e,t);break}case k.RB:case k.RTC:{tge(e,t);break}case k.RT:case k.RP:{rge(e,t);break}case k.PRE:case k.LISTING:{Lme(e,t);break}case k.XMP:{Qme(e,t);break}case k.SVG:{ige(e,t);break}case k.HTML:{Ome(e,t);break}case k.BASE:case k.LINK:case k.META:case k.STYLE:case k.TITLE:case k.SCRIPT:case k.BGSOUND:case k.BASEFONT:case k.TEMPLATE:{Li(e,t);break}case k.BODY:{Pme(e,t);break}case k.FORM:{Mme(e,t);break}case k.NOBR:{zme(e,t);break}case k.MATH:{nge(e,t);break}case k.TABLE:{qme(e,t);break}case k.INPUT:{Vme(e,t);break}case k.PARAM:case k.TRACK:case k.SOURCE:{Gme(e,t);break}case k.IMAGE:{Kme(e,t);break}case k.BUTTON:{$me(e,t);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{Wme(e,t);break}case k.IFRAME:{Jme(e,t);break}case k.SELECT:{Zme(e,t);break}case k.OPTION:case k.OPTGROUP:{ege(e,t);break}case k.NOEMBED:case k.NOFRAMES:{cP(e,t);break}case k.FRAMESET:{Ime(e,t);break}case k.TEXTAREA:{Xme(e,t);break}case k.NOSCRIPT:{e.options.scriptingEnabled?cP(e,t):dP(e,t);break}case k.PLAINTEXT:{Fme(e,t);break}case k.COL:case k.TH:case k.TD:case k.TR:case k.HEAD:case k.FRAME:case k.TBODY:case k.TFOOT:case k.THEAD:case k.CAPTION:case k.COLGROUP:break;default:dP(e,t)}}function sge(e,t){if(e.openElements.hasInScope(k.BODY)&&(e.insertionMode=W.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function age(e,t){e.openElements.hasInScope(k.BODY)&&(e.insertionMode=W.AFTER_BODY,T5(e,t))}function oge(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function lge(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(k.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(k.FORM):r&&e.openElements.remove(r))}function uge(e){e.openElements.hasInButtonScope(k.P)||e._insertFakeElement(ee.P,k.P),e._closePElement()}function cge(e){e.openElements.hasInListItemScope(k.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(k.LI),e.openElements.popUntilTagNamePopped(k.LI))}function dge(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function hge(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function fge(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function pge(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ee.BR,k.BR),e.openElements.pop(),e.framesetOk=!1}function g5(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(n===a&&(n!==k.UNKNOWN||e.treeAdapter.getTagName(s)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function Ag(e,t){switch(t.tagID){case k.A:case k.B:case k.I:case k.S:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.NOBR:case k.SMALL:case k.STRIKE:case k.STRONG:{TE(e,t);break}case k.P:{uge(e);break}case k.DL:case k.UL:case k.OL:case k.DIR:case k.DIV:case k.NAV:case k.PRE:case k.MAIN:case k.MENU:case k.ASIDE:case k.BUTTON:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.ADDRESS:case k.ARTICLE:case k.DETAILS:case k.SEARCH:case k.SECTION:case k.SUMMARY:case k.LISTING:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:{oge(e,t);break}case k.LI:{cge(e);break}case k.DD:case k.DT:{dge(e,t);break}case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:{hge(e);break}case k.BR:{pge(e);break}case k.BODY:{sge(e,t);break}case k.HTML:{age(e,t);break}case k.FORM:{lge(e);break}case k.APPLET:case k.OBJECT:case k.MARQUEE:{fge(e,t);break}case k.TEMPLATE:{Bo(e,t);break}default:g5(e,t)}}function v5(e,t){e.tmplInsertionModeStack.length>0?k5(e,t):SE(e,t)}function mge(e,t){var r;t.tagID===k.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function gge(e,t){e._err(t,ue.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Kb(e,t){if(e.openElements.currentTagId!==void 0&&d5.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=W.IN_TABLE_TEXT,t.type){case it.CHARACTER:{b5(e,t);break}case it.WHITESPACE_CHARACTER:{y5(e,t);break}}else rh(e,t)}function vge(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,me.HTML),e.insertionMode=W.IN_CAPTION}function yge(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,me.HTML),e.insertionMode=W.IN_COLUMN_GROUP}function bge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ee.COLGROUP,k.COLGROUP),e.insertionMode=W.IN_COLUMN_GROUP,CE(e,t)}function _ge(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,me.HTML),e.insertionMode=W.IN_TABLE_BODY}function xge(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ee.TBODY,k.TBODY),e.insertionMode=W.IN_TABLE_BODY,Ng(e,t)}function wge(e,t){e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Ege(e,t){m5(t)?e._appendElement(t,me.HTML):rh(e,t),t.ackSelfClosing=!0}function kge(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,me.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function tu(e,t){switch(t.tagID){case k.TD:case k.TH:case k.TR:{xge(e,t);break}case k.STYLE:case k.SCRIPT:case k.TEMPLATE:{Li(e,t);break}case k.COL:{bge(e,t);break}case k.FORM:{kge(e,t);break}case k.TABLE:{wge(e,t);break}case k.TBODY:case k.TFOOT:case k.THEAD:{_ge(e,t);break}case k.INPUT:{Ege(e,t);break}case k.CAPTION:{vge(e,t);break}case k.COLGROUP:{yge(e,t);break}default:rh(e,t)}}function Nd(e,t){switch(t.tagID){case k.TABLE:{e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode());break}case k.TEMPLATE:{Bo(e,t);break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:rh(e,t)}}function rh(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Cg(e,t),e.fosterParentingEnabled=r}function y5(e,t){e.pendingCharacterTokens.push(t)}function b5(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ic(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)rh(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const _5=new Set([k.CAPTION,k.COL,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]);function Tge(e,t){const r=t.tagID;_5.has(r)?e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,tu(e,t)):Gr(e,t)}function Sge(e,t){const r=t.tagID;switch(r){case k.CAPTION:case k.TABLE:{e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_TABLE,r===k.TABLE&&Nd(e,t));break}case k.BODY:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:Ag(e,t)}}function CE(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.COL:{e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.TEMPLATE:{Li(e,t);break}default:Cm(e,t)}}function Cge(e,t){switch(t.tagID){case k.COLGROUP:{e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case k.TEMPLATE:{Bo(e,t);break}case k.COL:break;default:Cm(e,t)}}function Cm(e,t){e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=W.IN_TABLE,e._processToken(t))}function Ng(e,t){switch(t.tagID){case k.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,me.HTML),e.insertionMode=W.IN_ROW;break}case k.TH:case k.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ee.TR,k.TR),e.insertionMode=W.IN_ROW,jg(e,t);break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,tu(e,t));break}default:tu(e,t)}}function W_(e,t){const r=t.tagID;switch(t.tagID){case k.TBODY:case k.TFOOT:case k.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE);break}case k.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE,Nd(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:case k.TR:break;default:Nd(e,t)}}function jg(e,t){switch(t.tagID){case k.TH:case k.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,me.HTML),e.insertionMode=W.IN_CELL,e.activeFormattingElements.insertMarker();break}case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,Ng(e,t));break}default:tu(e,t)}}function x5(e,t){switch(t.tagID){case k.TR:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY);break}case k.TABLE:{e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,W_(e,t));break}case k.TBODY:case k.TFOOT:case k.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(k.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=W.IN_TABLE_BODY,W_(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:break;default:Nd(e,t)}}function Age(e,t){const r=t.tagID;_5.has(r)?(e.openElements.hasInTableScope(k.TD)||e.openElements.hasInTableScope(k.TH))&&(e._closeTableCell(),jg(e,t)):Gr(e,t)}function Nge(e,t){const r=t.tagID;switch(r){case k.TD:case k.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=W.IN_ROW);break}case k.TABLE:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),x5(e,t));break}case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:break;default:Ag(e,t)}}function w5(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._insertElement(t,me.HTML);break}case k.OPTGROUP:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._insertElement(t,me.HTML);break}case k.HR:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.INPUT:case k.KEYGEN:case k.TEXTAREA:case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),t.tagID!==k.SELECT&&e._processStartTag(t));break}case k.SCRIPT:case k.TEMPLATE:{Li(e,t);break}}}function E5(e,t){switch(t.tagID){case k.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===k.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===k.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop();break}case k.OPTION:{e.openElements.currentTagId===k.OPTION&&e.openElements.pop();break}case k.SELECT:{e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode());break}case k.TEMPLATE:{Bo(e,t);break}}}function jge(e,t){const r=t.tagID;r===k.CAPTION||r===k.TABLE||r===k.TBODY||r===k.TFOOT||r===k.THEAD||r===k.TR||r===k.TD||r===k.TH?(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e._processStartTag(t)):w5(e,t)}function Oge(e,t){const r=t.tagID;r===k.CAPTION||r===k.TABLE||r===k.TBODY||r===k.TFOOT||r===k.THEAD||r===k.TR||r===k.TD||r===k.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e.onEndTag(t)):E5(e,t)}function Pge(e,t){switch(t.tagID){case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:{Li(e,t);break}case k.CAPTION:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:{e.tmplInsertionModeStack[0]=W.IN_TABLE,e.insertionMode=W.IN_TABLE,tu(e,t);break}case k.COL:{e.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,e.insertionMode=W.IN_COLUMN_GROUP,CE(e,t);break}case k.TR:{e.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,e.insertionMode=W.IN_TABLE_BODY,Ng(e,t);break}case k.TD:case k.TH:{e.tmplInsertionModeStack[0]=W.IN_ROW,e.insertionMode=W.IN_ROW,jg(e,t);break}default:e.tmplInsertionModeStack[0]=W.IN_BODY,e.insertionMode=W.IN_BODY,Gr(e,t)}}function Ige(e,t){t.tagID===k.TEMPLATE&&Bo(e,t)}function k5(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):SE(e,t)}function Rge(e,t){t.tagID===k.HTML?Gr(e,t):Am(e,t)}function T5(e,t){var r;if(t.tagID===k.HTML){if(e.fragmentContext||(e.insertionMode=W.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===k.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else Am(e,t)}function Am(e,t){e.insertionMode=W.IN_BODY,Cg(e,t)}function Dge(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.FRAMESET:{e._insertElement(t,me.HTML);break}case k.FRAME:{e._appendElement(t,me.HTML),t.ackSelfClosing=!0;break}case k.NOFRAMES:{Li(e,t);break}}}function Lge(e,t){t.tagID===k.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==k.FRAMESET&&(e.insertionMode=W.AFTER_FRAMESET))}function Mge(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.NOFRAMES:{Li(e,t);break}}}function Bge(e,t){t.tagID===k.HTML&&(e.insertionMode=W.AFTER_AFTER_FRAMESET)}function Fge(e,t){t.tagID===k.HTML?Gr(e,t):dp(e,t)}function dp(e,t){e.insertionMode=W.IN_BODY,Cg(e,t)}function $ge(e,t){switch(t.tagID){case k.HTML:{Gr(e,t);break}case k.NOFRAMES:{Li(e,t);break}}}function Uge(e,t){t.chars=Dt,e._insertCharacters(t)}function Hge(e,t){e._insertCharacters(t),e.framesetOk=!1}function S5(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==me.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function zge(e,t){if(ime(t))S5(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===me.MATHML?u5(t):n===me.SVG&&(sme(t),c5(t)),kE(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function Wge(e,t){if(t.tagID===k.P||t.tagID===k.BR){S5(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===me.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}ee.AREA,ee.BASE,ee.BASEFONT,ee.BGSOUND,ee.BR,ee.COL,ee.EMBED,ee.FRAME,ee.HR,ee.IMG,ee.INPUT,ee.KEYGEN,ee.LINK,ee.META,ee.PARAM,ee.SOURCE,ee.TRACK,ee.WBR;const qge=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Vge=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),hP={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function C5(e,t){const r=r0e(e),n=jM("type",{handlers:{root:Gge,element:Yge,text:Kge,comment:N5,doctype:Xge,raw:Jge},unknown:Zge}),i={parser:r?new uP(hP):uP.getFragmentParser(void 0,hP),handle(o){n(o,i)},stitches:!1,options:t||{}};n(e,i),Tu(i,ns());const s=r?i.parser.document:i.parser.getFragment(),a=npe(s,{file:i.options.file});return i.stitches&&Gm(a,"comment",function(o,c,d){const f=o;if(f.value.stitch&&d&&c!==void 0){const p=d.children;return p[c]=f.value.stitch,c}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function A5(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function Gge(e,t){A5(e.children,t)}function Yge(e,t){e0e(e,t),A5(e.children,t),t0e(e,t)}function Kge(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:it.CHARACTER,chars:e.value,location:nh(e)};Tu(t,ns(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Xge(e,t){const r={type:it.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:nh(e)};Tu(t,ns(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Qge(e,t){t.stitches=!0;const r=n0e(e);if("children"in e&&"children"in r){const n=C5({type:"root",children:e.children},t.options);r.children=n.children}N5({type:"comment",value:{stitch:r}},t)}function N5(e,t){const r=e.value,n={type:it.COMMENT,data:r,location:nh(e)};Tu(t,ns(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Jge(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,j5(t,ns(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(qge,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function Zge(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))Qge(r,t);else{let n="";throw Vge.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Tu(e,t){j5(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Kt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function j5(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function e0e(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Kt.PLAINTEXT)return;Tu(t,ns(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:yo.html;i===yo.html&&r==="svg"&&(i=yo.svg);const s=lpe({...e,children:[]},{space:i===yo.svg?"svg":"html"}),a={type:it.START_TAG,tagName:r,tagID:ku(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:nh(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function t0e(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&gpe.includes(r)||t.parser.tokenizer.state===Kt.PLAINTEXT)return;Tu(t,Um(e));const n={type:it.END_TAG,tagName:r,tagID:ku(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:nh(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Kt.RCDATA||t.parser.tokenizer.state===Kt.RAWTEXT||t.parser.tokenizer.state===Kt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Kt.DATA)}function r0e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function nh(e){const t=ns(e)||{line:void 0,column:void 0,offset:void 0},r=Um(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function n0e(e){return"children"in e?Wl({...e,children:[]}):Wl(e)}function i0e(e){return function(t,r){return C5(t,{...e,file:r})}}function s0e({src:e,title:t}){const r=nn(),n=E.useRef(!1),i=E.useRef(!1),s="/Terminus-EC-Training-stateful/",a=e!=null&&e.startsWith("/")&&!(e!=null&&e.startsWith(s))?`${s.replace(/\/$/,"")}${e}`:e,o=E.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"local"}),n.current=!0)},[r,e,t]),c=E.useCallback(()=>{r&&!i.current&&(r.capture("docs_video_completed",{video_src:e,video_title:t||e,video_type:"local"}),i.current=!0)},[r,e,t]);return u.jsxs("div",{className:"video-embed",children:[t&&u.jsx("h4",{className:"video-embed-title",children:t}),u.jsx("div",{className:"video-embed-wrapper",children:u.jsxs("video",{controls:!0,preload:"metadata",className:"video-embed-player",title:t,onPlay:o,onEnded:c,children:[u.jsx("source",{src:a,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}function a0e({id:e,title:t}){const r=nn(),n=E.useRef(!1),i=`https://www.loom.com/embed/${e}?hide_owner=true&hide_share=true&hide_title=true&hideEmbedTopBar=true`,s=E.useCallback(()=>{r&&!n.current&&(r.capture("docs_video_started",{video_src:e,video_title:t||e,video_type:"loom"}),n.current=!0)},[r,e,t]);return u.jsxs("div",{className:"video-embed",children:[t&&u.jsx("h4",{className:"video-embed-title",children:t}),u.jsx("div",{className:"video-embed-wrapper",children:u.jsx("iframe",{src:i,frameBorder:"0",allowFullScreen:!0,className:"video-embed-iframe",title:t||"Loom video",onLoad:s})})]})}function o0e({src:e,title:t}){const r=nn(),n="/Terminus-EC-Training-stateful/",i=e!=null&&e.startsWith("/")&&!(e!=null&&e.startsWith(n))?`${n.replace(/\/$/,"")}${e}`:e,s=e.split("/").pop(),a=s.endsWith(".ipynb"),o=s.endsWith(".zip"),c=s.includes("template-task")||s.includes("skeleton"),d=a?"":o?"":"",f=a?"Jupyter Notebook":o?"ZIP Archive":"PDF Document",p=()=>{if(r){const v=c?"skeleton_downloaded":"docs_file_downloaded";r.capture(v,{file_name:s,file_title:t||s,file_type:f,source:"docs"})}};return u.jsxs("div",{className:"pdf-download",children:[u.jsx("div",{className:"pdf-download-icon",children:d}),u.jsxs("div",{className:"pdf-download-info",children:[u.jsx("span",{className:"pdf-download-title",children:t||s}),u.jsx("span",{className:"pdf-download-type",children:f})]}),u.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"pdf-download-button",download:a||o?s:void 0,onClick:p,children:a||o?"Download":"View / Download"})]})}const l0e=({inline:e,className:t,children:r})=>{const i=String(r).includes(`
`),s=t==null?void 0:t.startsWith("language-");if(e===!0||!s&&!i)return u.jsx("code",{className:"docs-inline-code",children:r});const[o,c]=E.useState(!1),d=(t==null?void 0:t.replace("language-",""))||"",f=()=>{navigator.clipboard.writeText(String(r).replace(/\n$/,"")),c(!0),setTimeout(()=>c(!1),2e3)};return u.jsxs("div",{className:"docs-code-wrapper",children:[u.jsxs("div",{className:"docs-code-header",children:[u.jsx("span",{className:"docs-code-lang",children:d}),u.jsx("button",{className:`docs-code-copy-btn ${o?"copied":""}`,onClick:f,"aria-label":"Copy code",children:o?u.jsxs(u.Fragment,{children:[u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("polyline",{points:"20 6 9 17 4 12"})}),u.jsx("span",{children:"Copied"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),u.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),u.jsx("span",{children:"Copy"})]})})]}),u.jsx("pre",{className:"docs-code-block",children:u.jsx("code",{className:t,children:r})})]})};function u0e({content:e,loading:t,title:r,prevDoc:n,nextDoc:i,onPaginationClick:s}){return t?u.jsxs("div",{className:"docs-content-loading",children:[u.jsx(V3,{size:"lg"}),u.jsx("p",{children:"Loading documentation..."})]}):u.jsxs("article",{className:"docs-content",children:[u.jsx($x,{remarkPlugins:[Vfe],rehypePlugins:[i0e],components:{"video-embed":({node:a})=>{var o,c;return u.jsx(s0e,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(c=a==null?void 0:a.properties)==null?void 0:c.title})},"video-loom":({node:a})=>{var o,c;return u.jsx(a0e,{id:(o=a==null?void 0:a.properties)==null?void 0:o.id,title:(c=a==null?void 0:a.properties)==null?void 0:c.title})},"pdf-download":({node:a})=>{var o,c;return u.jsx(o0e,{src:(o=a==null?void 0:a.properties)==null?void 0:o.src,title:(c=a==null?void 0:a.properties)==null?void 0:c.title})},h1:({children:a})=>u.jsx("h1",{className:"docs-h1",children:a}),h2:({children:a})=>u.jsx("h2",{className:"docs-h2",children:a}),h3:({children:a})=>u.jsx("h3",{className:"docs-h3",children:a}),h4:({children:a})=>u.jsx("h4",{className:"docs-h4",children:a}),p:({children:a})=>u.jsx("p",{className:"docs-p",children:a}),code:l0e,img:({src:a,alt:o,className:c})=>{const d="/Terminus-EC-Training-stateful/",f=a!=null&&a.startsWith("/")&&!(a!=null&&a.startsWith(d))?`${d.replace(/\/$/,"")}${a}`:a;return u.jsxs("figure",{className:`docs-figure ${c||""}`,children:[u.jsx("img",{src:f,alt:o,className:`docs-image ${c||""}`,loading:"lazy"}),o&&u.jsx("figcaption",{className:"docs-figcaption",children:o})]})},a:({href:a,children:o})=>(a==null?void 0:a.startsWith("http"))?u.jsxs("a",{href:a,className:"docs-link",target:"_blank",rel:"noopener noreferrer",children:[o,u.jsx("svg",{className:"docs-external-icon",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"})})]}):u.jsx(sr,{to:a,className:"docs-link",children:o}),blockquote:({children:a})=>u.jsx("blockquote",{className:"docs-callout",children:a}),table:({children:a})=>u.jsx("div",{className:"docs-table-wrapper",children:u.jsx("table",{className:"docs-table",children:a})}),ul:({children:a})=>u.jsx("ul",{className:"docs-ul",children:a}),ol:({children:a})=>u.jsx("ol",{className:"docs-ol",children:a}),li:({children:a})=>u.jsx("li",{className:"docs-li",children:a}),hr:()=>u.jsx("hr",{className:"docs-hr"})},children:e}),u.jsxs("nav",{className:"docs-pagination",children:[n?u.jsxs(sr,{to:`/portal/docs/${n.slug}`,className:"docs-pagination-link docs-pagination-prev",onClick:s,children:[u.jsx("span",{className:"docs-pagination-label",children:"Previous"}),u.jsxs("span",{className:"docs-pagination-title",children:[u.jsx("span",{className:"docs-pagination-icon",children:n.icon}),n.title]})]}):u.jsx("div",{}),i?u.jsxs(sr,{to:`/portal/docs/${i.slug}`,className:"docs-pagination-link docs-pagination-next",onClick:s,children:[u.jsx("span",{className:"docs-pagination-label",children:"Next"}),u.jsxs("span",{className:"docs-pagination-title",children:[i.title,u.jsx("span",{className:"docs-pagination-icon",children:i.icon})]})]}):u.jsx("div",{})]})]})}function Ds(e){return Array.isArray?Array.isArray(e):I5(e)==="[object Array]"}function c0e(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function d0e(e){return e==null?"":c0e(e)}function Qi(e){return typeof e=="string"}function O5(e){return typeof e=="number"}function h0e(e){return e===!0||e===!1||f0e(e)&&I5(e)=="[object Boolean]"}function P5(e){return typeof e=="object"}function f0e(e){return P5(e)&&e!==null}function In(e){return e!=null}function Xb(e){return!e.trim().length}function I5(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const p0e="Incorrect 'index' type",m0e=e=>`Invalid value for key ${e}`,g0e=e=>`Pattern length exceeds max of ${e}.`,v0e=e=>`Missing ${e} property in key`,y0e=e=>`Property 'weight' in key '${e}' must be a positive integer`,fP=Object.prototype.hasOwnProperty;class b0e{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let i=R5(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function R5(e){let t=null,r=null,n=null,i=1,s=null;if(Qi(e)||Ds(e))n=e,t=pP(e),r=q_(e);else{if(!fP.call(e,"name"))throw new Error(v0e("name"));const a=e.name;if(n=a,fP.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(y0e(a));t=pP(a),r=q_(a),s=e.getFn}return{path:t,id:r,weight:i,src:n,getFn:s}}function pP(e){return Ds(e)?e:e.split(".")}function q_(e){return Ds(e)?e.join("."):e}function _0e(e,t){let r=[],n=!1;const i=(s,a,o)=>{if(In(s))if(!a[o])r.push(s);else{let c=a[o];const d=s[c];if(!In(d))return;if(o===a.length-1&&(Qi(d)||O5(d)||h0e(d)))r.push(d0e(d));else if(Ds(d)){n=!0;for(let f=0,p=d.length;f<p;f+=1)i(d[f],a,o+1)}else a.length&&i(d,a,o+1)}};return i(e,Qi(t)?t.split("."):t,0),n?r:r[0]}const x0e={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},w0e={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},E0e={location:0,threshold:.6,distance:100},k0e={useExtendedSearch:!1,getFn:_0e,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Je={...w0e,...x0e,...E0e,...k0e};const T0e=/[^ ]+/g;function S0e(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(i){const s=i.match(T0e).length;if(r.has(s))return r.get(s);const a=1/Math.pow(s,.5*e),o=parseFloat(Math.round(a*n)/n);return r.set(s,o),o},clear(){r.clear()}}}class AE{constructor({getFn:t=Je.getFn,fieldNormWeight:r=Je.fieldNormWeight}={}){this.norm=S0e(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Qi(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();Qi(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!In(t)||Xb(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(In(a)){if(Ds(a)){let o=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:d,value:f}=c.pop();if(In(f))if(Qi(f)&&!Xb(f)){let p={v:f,i:d,n:this.norm.get(f)};o.push(p)}else Ds(f)&&f.forEach((p,v)=>{c.push({nestedArrIndex:v,value:p})})}n.$[s]=o}else if(Qi(a)&&!Xb(a)){let o={v:a,n:this.norm.get(a)};n.$[s]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function D5(e,t,{getFn:r=Je.getFn,fieldNormWeight:n=Je.fieldNormWeight}={}){const i=new AE({getFn:r,fieldNormWeight:n});return i.setKeys(e.map(R5)),i.setSources(t),i.create(),i}function C0e(e,{getFn:t=Je.getFn,fieldNormWeight:r=Je.fieldNormWeight}={}){const{keys:n,records:i}=e,s=new AE({getFn:t,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}function Zf(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Je.distance,ignoreLocation:s=Je.ignoreLocation}={}){const a=t/e.length;if(s)return a;const o=Math.abs(n-r);return i?a+o/i:o?1:a}function A0e(e=[],t=Je.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let a=e.length;s<a;s+=1){let o=e[s];o&&n===-1?n=s:!o&&n!==-1&&(i=s-1,i-n+1>=t&&r.push([n,i]),n=-1)}return e[s-1]&&s-n>=t&&r.push([n,s-1]),r}const fo=32;function N0e(e,t,r,{location:n=Je.location,distance:i=Je.distance,threshold:s=Je.threshold,findAllMatches:a=Je.findAllMatches,minMatchCharLength:o=Je.minMatchCharLength,includeMatches:c=Je.includeMatches,ignoreLocation:d=Je.ignoreLocation}={}){if(t.length>fo)throw new Error(g0e(fo));const f=t.length,p=e.length,v=Math.max(0,Math.min(n,p));let g=s,b=v;const x=o>1||c,_=x?Array(p):[];let w;for(;(w=e.indexOf(t,b))>-1;){let P=Zf(t,{currentLocation:w,expectedLocation:v,distance:i,ignoreLocation:d});if(g=Math.min(P,g),b=w+f,x){let D=0;for(;D<f;)_[w+D]=1,D+=1}}b=-1;let A=[],S=1,O=f+p;const j=1<<f-1;for(let P=0;P<f;P+=1){let D=0,$=O;for(;D<$;)Zf(t,{errors:P,currentLocation:v+$,expectedLocation:v,distance:i,ignoreLocation:d})<=g?D=$:O=$,$=Math.floor((O-D)/2+D);O=$;let I=Math.max(1,v-$+1),M=a?p:Math.min(v+$,p)+f,H=Array(M+2);H[M+1]=(1<<P)-1;for(let G=M;G>=I;G-=1){let K=G-1,J=r[e.charAt(K)];if(x&&(_[K]=+!!J),H[G]=(H[G+1]<<1|1)&J,P&&(H[G]|=(A[G+1]|A[G])<<1|1|A[G+1]),H[G]&j&&(S=Zf(t,{errors:P,currentLocation:K,expectedLocation:v,distance:i,ignoreLocation:d}),S<=g)){if(g=S,b=K,b<=v)break;I=Math.max(1,2*v-b)}}if(Zf(t,{errors:P+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:d})>g)break;A=H}const N={isMatch:b>=0,score:Math.max(.001,S)};if(x){const P=A0e(_,o);P.length?c&&(N.indices=P):N.isMatch=!1}return N}function j0e(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const i=e.charAt(r);t[i]=(t[i]||0)|1<<n-r-1}return t}const Nm=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class L5{constructor(t,{location:r=Je.location,threshold:n=Je.threshold,distance:i=Je.distance,includeMatches:s=Je.includeMatches,findAllMatches:a=Je.findAllMatches,minMatchCharLength:o=Je.minMatchCharLength,isCaseSensitive:c=Je.isCaseSensitive,ignoreDiacritics:d=Je.ignoreDiacritics,ignoreLocation:f=Je.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f},t=c?t:t.toLowerCase(),t=d?Nm(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const p=(g,b)=>{this.chunks.push({pattern:g,alphabet:j0e(g),startIndex:b})},v=this.pattern.length;if(v>fo){let g=0;const b=v%fo,x=v-b;for(;g<x;)p(this.pattern.substr(g,fo),g),g+=fo;if(b){const _=v-fo;p(this.pattern.substr(_),_)}}else p(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i}=this.options;if(t=r?t:t.toLowerCase(),t=n?Nm(t):t,this.pattern===t){let x={isMatch:!0,score:0};return i&&(x.indices=[[0,t.length-1]]),x}const{location:s,distance:a,threshold:o,findAllMatches:c,minMatchCharLength:d,ignoreLocation:f}=this.options;let p=[],v=0,g=!1;this.chunks.forEach(({pattern:x,alphabet:_,startIndex:w})=>{const{isMatch:A,score:S,indices:O}=N0e(t,x,_,{location:s+w,distance:a,threshold:o,findAllMatches:c,minMatchCharLength:d,includeMatches:i,ignoreLocation:f});A&&(g=!0),v+=S,A&&O&&(p=[...p,...O])});let b={isMatch:g,score:g?v/this.chunks.length:1};return g&&i&&(b.indices=p),b}}class Ba{constructor(t){this.pattern=t}static isMultiMatch(t){return mP(t,this.multiRegex)}static isSingleMatch(t){return mP(t,this.singleRegex)}search(){}}function mP(e,t){const r=e.match(t);return r?r[1]:null}class O0e extends Ba{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class P0e extends Ba{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class I0e extends Ba{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class R0e extends Ba{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class D0e extends Ba{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class L0e extends Ba{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class M5 extends Ba{constructor(t,{location:r=Je.location,threshold:n=Je.threshold,distance:i=Je.distance,includeMatches:s=Je.includeMatches,findAllMatches:a=Je.findAllMatches,minMatchCharLength:o=Je.minMatchCharLength,isCaseSensitive:c=Je.isCaseSensitive,ignoreDiacritics:d=Je.ignoreDiacritics,ignoreLocation:f=Je.ignoreLocation}={}){super(t),this._bitapSearch=new L5(t,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class B5 extends Ba{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const i=[],s=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const V_=[O0e,B5,I0e,R0e,L0e,D0e,P0e,M5],gP=V_.length,M0e=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,B0e="|";function F0e(e,t={}){return e.split(B0e).map(r=>{let n=r.trim().split(M0e).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=n.length;s<a;s+=1){const o=n[s];let c=!1,d=-1;for(;!c&&++d<gP;){const f=V_[d];let p=f.isMultiMatch(o);p&&(i.push(new f(p,t)),c=!0)}if(!c)for(d=-1;++d<gP;){const f=V_[d];let p=f.isSingleMatch(o);if(p){i.push(new f(p,t));break}}}return i})}const $0e=new Set([M5.type,B5.type]);class U0e{constructor(t,{isCaseSensitive:r=Je.isCaseSensitive,ignoreDiacritics:n=Je.ignoreDiacritics,includeMatches:i=Je.includeMatches,minMatchCharLength:s=Je.minMatchCharLength,ignoreLocation:a=Je.ignoreLocation,findAllMatches:o=Je.findAllMatches,location:c=Je.location,threshold:d=Je.threshold,distance:f=Je.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:a,location:c,threshold:d,distance:f},t=r?t:t.toLowerCase(),t=n?Nm(t):t,this.pattern=t,this.query=F0e(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:s}=this.options;t=i?t:t.toLowerCase(),t=s?Nm(t):t;let a=0,o=[],c=0;for(let d=0,f=r.length;d<f;d+=1){const p=r[d];o.length=0,a=0;for(let v=0,g=p.length;v<g;v+=1){const b=p[v],{isMatch:x,indices:_,score:w}=b.search(t);if(x){if(a+=1,c+=w,n){const A=b.constructor.type;$0e.has(A)?o=[...o,..._]:o.push(_)}}else{c=0,a=0,o.length=0;break}}if(a){let v={isMatch:!0,score:c/a};return n&&(v.indices=o),v}}return{isMatch:!1,score:1}}}const G_=[];function H0e(...e){G_.push(...e)}function Y_(e,t){for(let r=0,n=G_.length;r<n;r+=1){let i=G_[r];if(i.condition(e,t))return new i(e,t)}return new L5(e,t)}const jm={AND:"$and",OR:"$or"},K_={PATH:"$path",PATTERN:"$val"},X_=e=>!!(e[jm.AND]||e[jm.OR]),z0e=e=>!!e[K_.PATH],W0e=e=>!Ds(e)&&P5(e)&&!X_(e),vP=e=>({[jm.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function F5(e,t,{auto:r=!0}={}){const n=i=>{let s=Object.keys(i);const a=z0e(i);if(!a&&s.length>1&&!X_(i))return n(vP(i));if(W0e(i)){const c=a?i[K_.PATH]:s[0],d=a?i[K_.PATTERN]:i[c];if(!Qi(d))throw new Error(m0e(c));const f={keyId:q_(c),pattern:d};return r&&(f.searcher=Y_(d,t)),f}let o={children:[],operator:s[0]};return s.forEach(c=>{const d=i[c];Ds(d)&&d.forEach(f=>{o.children.push(n(f))})}),o};return X_(e)||(e=vP(e)),n(e)}function q0e(e,{ignoreFieldNorm:t=Je.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:a})=>{const o=i?i.weight:null;n*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:s))}),r.score=n})}function V0e(e,t){const r=e.matches;t.matches=[],In(r)&&r.forEach(n=>{if(!In(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let a={indices:i,value:s};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function G0e(e,t){t.score=e.score}function Y0e(e,t,{includeMatches:r=Je.includeMatches,includeScore:n=Je.includeScore}={}){const i=[];return r&&i.push(V0e),n&&i.push(G0e),e.map(s=>{const{idx:a}=s,o={item:t[a],refIndex:a};return i.length&&i.forEach(c=>{c(s,o)}),o})}class Su{constructor(t,r={},n){this.options={...Je,...r},this.options.useExtendedSearch,this._keyStore=new b0e(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof AE))throw new Error(p0e);this._myIndex=r||D5(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){In(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];t(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:o}=this.options;let c=Qi(t)?Qi(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return q0e(c,{ignoreFieldNorm:o}),s&&c.sort(a),O5(r)&&r>-1&&(c=c.slice(0,r)),Y0e(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const r=Y_(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:a,n:o})=>{if(!In(s))return;const{isMatch:c,score:d,indices:f}=r.searchIn(s);c&&i.push({item:s,idx:a,matches:[{score:d,value:s,norm:o,indices:f}]})}),i}_searchLogical(t){const r=F5(t,this.options),n=(o,c,d)=>{if(!o.children){const{keyId:p,searcher:v}=o,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(c,p),searcher:v});return g&&g.length?[{idx:d,item:c,matches:g}]:[]}const f=[];for(let p=0,v=o.children.length;p<v;p+=1){const g=o.children[p],b=n(g,c,d);if(b.length)f.push(...b);else if(o.operator===jm.AND)return[]}return f},i=this._myIndex.records,s={},a=[];return i.forEach(({$:o,i:c})=>{if(In(o)){let d=n(r,o,c);d.length&&(s[c]||(s[c]={idx:c,item:o,matches:[]},a.push(s[c])),d.forEach(({matches:f})=>{s[c].matches.push(...f)}))}}),a}_searchObjectList(t){const r=Y_(t,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:o})=>{if(!In(a))return;let c=[];n.forEach((d,f)=>{c.push(...this._findMatches({key:d,value:a[f],searcher:r}))}),c.length&&s.push({idx:o,item:a,matches:c})}),s}_findMatches({key:t,value:r,searcher:n}){if(!In(r))return[];let i=[];if(Ds(r))r.forEach(({v:s,i:a,n:o})=>{if(!In(s))return;const{isMatch:c,score:d,indices:f}=n.searchIn(s);c&&i.push({score:d,key:t,value:s,idx:a,norm:o,indices:f})});else{const{v:s,n:a}=r,{isMatch:o,score:c,indices:d}=n.searchIn(s);o&&i.push({score:c,key:t,value:s,norm:a,indices:d})}return i}}Su.version="7.1.0";Su.createIndex=D5;Su.parseIndex=C0e;Su.config=Je;Su.parseQuery=F5;H0e(U0e);const $5={sections:[{title:"Getting Started",items:[{slug:"getting-started/welcome",title:"Welcome to TerminalBench"},{slug:"getting-started/quick-start",title:"Quick Start Guide"},{slug:"onboarding/platform-onboarding",title:"Onboarding Video and Slides"}]},{title:"Submission Process",items:[{slug:"submitting-tasks/platform-submission",title:"Platform Submission"},{slug:"submitting-tasks/submission-checklist",title:"Submission Checklist"},{slug:"submitting-tasks/after-submission",title:"After Submission"}]},{title:"Understanding Tasks",items:[{slug:"understanding-tasks/what-makes-a-good-task",title:"What Makes a Good Task"},{slug:"understanding-tasks/task-components",title:"Task Components"},{slug:"understanding-tasks/task-requirements",title:"Task Requirements"},{slug:"understanding-tasks/task-taxonomy",title:"Task Taxonomy"},{slug:"understanding-tasks/example-tasks",title:"Example Tasks"},{slug:"understanding-tasks/difficulty-guidelines",title:"Difficulty Guidelines"}]},{title:"Detailed Tasking Guides",items:[{slug:"creating-tasks/videos/creating-task",title:"Creating a Task"},{slug:"creating-tasks/videos/running-your-task",title:"Running Your Task"},{slug:"creating-tasks/writing-task-yaml",title:"Writing Instructions & Config"},{slug:"creating-tasks/creating-docker-environment",title:"Docker Environment"},{slug:"creating-tasks/writing-oracle-solution",title:"Writing Oracle Solution"},{slug:"creating-tasks/writing-tests",title:"Writing Tests"}]},{title:"Testing & Validation",items:[{slug:"testing-and-validation/oracle-agent",title:"Oracle Agent"},{slug:"testing-and-validation/running-real-agents",title:"Testing Agent Performance"},{slug:"testing-and-validation/ci-feedback-training",title:"CI Feedback Training"},{slug:"testing-and-validation/ci-checks-reference",title:"CI Checks Reference"},{slug:"testing-and-validation/llmaj-checks-reference",title:"LLMaJ Checks Reference"}]},{title:"Reviewing Tasks",items:[{slug:"reviewing-tasks/review-guidelines",title:"Review Guidelines"},{slug:"reviewing-tasks/rubrics",title:"Rubrics"},{slug:"reviewing-tasks/reviewer-training",title:"Reviewer Training"},{slug:"reviewing-tasks/common-errors",title:"Common Errors"},{slug:"reviewing-tasks/defending-your-submission",title:"Defending Your Submission"}]},{title:"Reference",items:[{slug:"reference/quality-guidelines",title:"Quality Guidelines"},{slug:"reference/faq",title:"FAQ"},{slug:"reference/glossary",title:"Glossary"},{slug:"reference/rate-schedule",title:"Rate Schedule"},{slug:"reference/troubleshooting",title:"Troubleshooting"},{slug:"reference/office-hours",title:"Office Hours"},{slug:"reference/external-resources",title:"External Resources"},{slug:"reference/v1-to-v2-changes",title:"V1 to V2 Changes"}]}]},Q_=()=>$5.sections.flatMap(e=>e.items.map(t=>({...t,section:e.title}))),U5=async e=>{const r=await fetch(`/Terminus-EC-Training-stateful/docs/${e}.md`);if(!r.ok)throw new Error(`Doc not found: ${e}`);return r.text()},K0e=(e,t,r=120)=>{if(!e||!t)return null;const n=e.toLowerCase(),i=t.toLowerCase(),s=n.indexOf(i);if(s===-1)return null;const a=Math.floor((r-t.length)/2);let o=Math.max(0,s-a),c=Math.min(e.length,s+t.length+a);if(o>0){const f=e.indexOf(" ",o);f!==-1&&f<s&&(o=f+1)}if(c<e.length){const f=e.lastIndexOf(" ",c);f>s+t.length&&(c=f)}let d=e.slice(o,c).trim();return o>0&&(d="..."+d),c<e.length&&(d=d+"..."),d};function X0e({isOpen:e,onClose:t,onSelect:r}){const n=nn(),[i,s]=E.useState(""),[a,o]=E.useState([]),[c,d]=E.useState(0),f=E.useRef(null),p=E.useRef("");E.useEffect(()=>{(async()=>{const x=Q_(),_=await Promise.all(x.map(async w=>{try{const S=(await U5(w.slug)).replace(/#{1,6}\s/g,"").replace(/\*\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`[^`]+`/g,"").replace(/\n+/g," ").replace(/\s+/g," ").trim().slice(0,8e3);return{...w,content:S}}catch{return{...w,content:w.title}}}));o(_)})()},[]);const v=E.useMemo(()=>new Su(a,{keys:[{name:"title",weight:3},{name:"section",weight:2},{name:"content",weight:1}],threshold:.15,includeMatches:!0,minMatchCharLength:2,ignoreLocation:!0,findAllMatches:!0}),[a]),g=i.length>=2?v.search(i).slice(0,8):[];return E.useEffect(()=>{d(0)},[g.length]),E.useEffect(()=>{if(i.length<2||i===p.current)return;const b=setTimeout(()=>{n&&i.length>=2&&(n.capture("docs_search_performed",{search_query:i,results_count:g.length,has_results:g.length>0}),p.current=i)},500);return()=>clearTimeout(b)},[i,g.length,n]),E.useEffect(()=>{e&&f.current&&(f.current.focus(),s(""))},[e]),E.useEffect(()=>{if(!e)return;const b=x=>{switch(x.key){case"Escape":t();break;case"ArrowDown":x.preventDefault(),d(_=>Math.min(_+1,g.length-1));break;case"ArrowUp":x.preventDefault(),d(_=>Math.max(_-1,0));break;case"Enter":x.preventDefault(),g[c]&&r(g[c].item.slug,i);break}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,t,r,g,c]),e?u.jsx("div",{className:"docs-search-overlay",onClick:t,children:u.jsxs("div",{className:"docs-search-modal",onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{className:"docs-search-header",children:[u.jsxs("svg",{className:"docs-search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"M21 21l-4.35-4.35"})]}),u.jsx("input",{ref:f,type:"text",className:"docs-search-input",placeholder:"Search documentation...",value:i,onChange:b=>s(b.target.value)}),u.jsx("kbd",{className:"docs-search-esc",children:"ESC"})]}),u.jsx("div",{className:"docs-search-results",children:i.length<2?u.jsxs("div",{className:"docs-search-hint",children:[u.jsx("p",{children:"Type to search all documentation..."}),u.jsxs("div",{className:"docs-search-shortcuts",children:[u.jsxs("span",{children:[u.jsx("kbd",{children:""}),u.jsx("kbd",{children:""})," Navigate"]}),u.jsxs("span",{children:[u.jsx("kbd",{children:""})," Select"]}),u.jsxs("span",{children:[u.jsx("kbd",{children:"ESC"})," Close"]})]})]}):g.length===0?u.jsxs("div",{className:"docs-search-empty",children:[u.jsxs("p",{children:['No results for "',u.jsx("strong",{children:i}),'"']}),u.jsx("p",{className:"docs-search-empty-hint",children:"Try different keywords or check spelling"})]}):u.jsx("ul",{className:"docs-search-list",children:g.map(({item:b},x)=>{const _=K0e(b.content,i);return u.jsx("li",{children:u.jsxs("button",{className:`docs-search-result ${x===c?"docs-search-result--selected":""}`,onClick:()=>r(b.slug,i),onMouseEnter:()=>d(x),children:[u.jsx("span",{className:"docs-search-result-icon",children:b.icon}),u.jsxs("div",{className:"docs-search-result-text",children:[u.jsx("span",{className:"docs-search-result-title",children:b.title}),u.jsx("span",{className:"docs-search-result-section",children:b.section}),_&&u.jsx("span",{className:"docs-search-result-snippet",children:_})]}),u.jsx("svg",{className:"docs-search-result-arrow",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M9 18l6-6-6-6"})})]})},b.slug)})})})]})}):null}function Q0e(){const{"*":e}=CP(),t=e||"getting-started/welcome",r=ft(),n=nn(),[i,s]=E.useState(""),[a,o]=E.useState(!0),[c,d]=E.useState(!1),[f,p]=E.useState(!1),v=E.useRef("direct");E.useEffect(()=>{o(!0),U5(t).then(S=>{if(s(S),n){const j=Q_().find(N=>N.slug===t);n.capture("doc_viewed",{doc_slug:t,doc_title:(j==null?void 0:j.title)||t,doc_section:(j==null?void 0:j.section)||"unknown",navigation_source:v.current})}v.current="direct"}).catch(()=>s(`# Page Not Found

This documentation page doesn't exist yet.

[ Back to Welcome](/portal/docs/getting-started/welcome)`)).finally(()=>o(!1))},[t,n]),E.useEffect(()=>{const S=O=>{(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),g("keyboard"))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const g=(S="button")=>{d(!0),n&&n.capture("docs_search_opened",{trigger:S,current_doc_slug:t})};E.useEffect(()=>{p(!1),window.scrollTo(0,0)},[t]);const b=Q_(),x=b.find(S=>S.slug===t),_=b.findIndex(S=>S.slug===t),w=_>0?b[_-1]:null,A=_<b.length-1?b[_+1]:null;return u.jsxs("div",{className:"docs-layout",children:[u.jsx("button",{className:"docs-mobile-menu-btn",onClick:()=>p(!f),"aria-label":"Toggle menu",children:u.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f?u.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):u.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),u.jsx(Mde,{sections:$5.sections,currentSlug:t,onSearchClick:()=>g("button"),isOpen:f,onClose:()=>p(!1),onNavClick:()=>{v.current="sidebar"}}),u.jsx("main",{className:"docs-main",children:u.jsx(u0e,{content:i,loading:a,title:x==null?void 0:x.title,prevDoc:w,nextDoc:A,onPaginationClick:()=>{v.current="pagination"}})}),u.jsx(X0e,{isOpen:c,onClose:()=>d(!1),onSelect:(S,O)=>{v.current="search",n&&n.capture("docs_search_result_clicked",{search_query:O,selected_doc_slug:S,current_doc_slug:t}),r(`/portal/docs/${S}`),d(!1)}})]})}function J0e({category:e,tasks:t,onTaskClick:r}){const[n,i]=E.useState(!1),[s,a]=E.useState(!1),o=E.useRef(null),c=t.length>4,d=f=>{o.current&&o.current.scrollBy({left:f==="left"?-400:400,behavior:"smooth"})};return u.jsxs("div",{className:"task-category-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsxs("div",{className:"section-title-group",onClick:()=>i(!n),children:[u.jsx("button",{className:`collapse-btn ${n?"collapsed":""}`,children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"6 9 12 15 18 9"})})}),u.jsx("div",{className:"section-title-wrapper",children:u.jsxs("h3",{children:[e,u.jsx("span",{className:"section-count",children:t.length})]})})]}),!n&&!s&&c&&u.jsxs("div",{className:"section-controls",children:[u.jsx(Fe,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!0)},children:u.jsxs("span",{className:"explore-btn-content",children:[u.jsx("span",{children:"View all"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}),u.jsx("button",{className:"scroll-btn",onClick:()=>d("left"),"aria-label":"Scroll left",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"15 18 9 12 15 6"})})}),u.jsx("button",{className:"scroll-btn",onClick:()=>d("right"),"aria-label":"Scroll right",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),!n&&s&&u.jsx("div",{className:"section-controls",children:u.jsx(Fe,{variant:"ghost",size:"sm",className:"explore-all-btn",onClick:f=>{f.stopPropagation(),a(!1)},children:u.jsxs("span",{className:"explore-btn-content",children:[u.jsx("span",{children:"Collapse"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("polyline",{points:"15 18 9 12 15 6"})})]})})})]}),!n&&u.jsx("div",{className:"section-content",children:s?u.jsx("div",{className:"tasks-grid-row show-all",children:t.map(f=>u.jsx("div",{className:"grid-item",children:u.jsx(So,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))}):u.jsx("div",{className:"tasks-carousel",ref:o,children:t.map(f=>u.jsx("div",{className:"carousel-item",children:u.jsx(So,{task:f,isCompleted:!0,isHighlighted:f.is_highlighted,claimedAt:f.selected_at,completedAt:f.completed_at,onClick:()=>r(f)})},f.id))})})]})}function Z0e(){const e=ft(),{selectedTasks:t,loading:r,error:n,activeTaskCount:i,canClaimMore:s,refetch:a}=cu(),[o,c]=E.useState(null),[d,f]=E.useState("active"),p=Ld(oz,2200),v=t.filter(A=>A.status===qe.CLAIMED||A.status===qe.IN_PROGRESS),g=t.filter(A=>A.status===qe.WAITING_REVIEW),b=t.filter(A=>A.status===qe.ACCEPTED),x=E.useMemo(()=>{const A={};return b.forEach(S=>{const O=S.category||"Uncategorized";A[O]||(A[O]=[]),A[O].push(S)}),Object.entries(A).sort((S,O)=>O[1].length-S[1].length)},[b]),_=A=>{c(A)},w=()=>{c(null),a()};return r?u.jsxs("div",{className:"tasks-view my-tasks-view",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h1",{children:"My Tasks"}),u.jsx("p",{children:"Track your progress and complete challenges"})]}),u.jsx("div",{className:"tasks-loading",children:u.jsx(Aa,{size:"lg",message:p})})]}):n?u.jsxs("div",{className:"tasks-view my-tasks-view",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h1",{children:"My Tasks"}),u.jsx("p",{children:"Track your progress and complete challenges"})]}),u.jsxs("div",{className:"tasks-error",children:[u.jsxs("p",{children:["Error loading your tasks: ",n]}),u.jsx(Fe,{variant:"primary",onClick:()=>window.location.reload(),children:"Retry"})]})]}):u.jsxs("div",{className:"tasks-view my-tasks-view",children:[u.jsxs("div",{className:"tasks-header",children:[u.jsx("h1",{children:"My Tasks"}),u.jsx("p",{children:"Track your progress as you work on tasks."})]}),t.length===0?u.jsxs("div",{className:"tasks-empty",children:[u.jsx("div",{className:"empty-icon",children:u.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:u.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),u.jsx("h3",{children:"No challenges yet"}),u.jsx("p",{children:"Browse tasks and claim challenges to get started."}),u.jsx(Fe,{variant:"primary",onClick:()=>e("/portal/tasks"),children:"Browse Tasks"})]}):u.jsxs("div",{className:"gallery-content",style:{marginTop:"var(--space-6)"},children:[u.jsx("div",{className:"claim-limit-indicator",style:{marginBottom:"var(--space-4)",padding:"var(--space-3) var(--space-4)",background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:u.jsxs("span",{style:{fontSize:"var(--font-sm)",color:"var(--text-secondary)"},children:["Active Task Quota: ",u.jsxs("strong",{style:{color:s?"var(--text-primary)":"var(--color-warning)"},children:[i," / ",Gi]})]})}),u.jsxs(_z,{value:d,onChange:f,children:[u.jsxs(Qv,{value:"active",children:["Active Tasks",v.length>0&&u.jsx("span",{className:"tab-count",children:v.length})]}),u.jsxs(Qv,{value:"review",children:["In Review",g.length>0&&u.jsx("span",{className:"tab-count",children:g.length})]}),u.jsxs(Qv,{value:"accepted",children:["Accepted",b.length>0&&u.jsx("span",{className:"tab-count",children:b.length})]})]}),u.jsxs("div",{className:"my-tasks-tab-content",children:[d==="active"&&(v.length===0?u.jsxs("div",{className:"tasks-empty-tab",children:[u.jsxs("p",{children:["No active challenges. ",s?"Claim some tasks to get started!":"Submit tasks for review to free up slots."]}),s&&u.jsx(Fe,{variant:"secondary",onClick:()=>e("/portal/tasks"),children:"Find Challenges"})]}):u.jsx("div",{className:"my-tasks-grid",children:v.map(A=>u.jsx(So,{task:A,isCompleted:!1,isHighlighted:A.is_highlighted,claimedAt:A.selected_at,statusBadge:J3[A.status],onClick:()=>_(A)},A.id))})),d==="review"&&(g.length===0?u.jsx("div",{className:"tasks-empty-tab",children:u.jsx("p",{children:"No tasks waiting for review."})}):u.jsx("div",{className:"my-tasks-grid",children:g.map(A=>u.jsx(So,{task:A,isCompleted:!1,isHighlighted:A.is_highlighted,claimedAt:A.selected_at,statusBadge:"Waiting on Review",onClick:()=>_(A)},A.id))})),d==="accepted"&&(b.length===0?u.jsx("div",{className:"tasks-empty-tab",children:u.jsx("p",{children:"No accepted challenges yet. Keep going!"})}):u.jsx("div",{className:"tasks-grouped-layout",children:x.map(([A,S])=>u.jsx(J0e,{category:A,tasks:S,onTaskClick:_},A))}))]})]}),u.jsx(iR,{task:o,isOpen:!!o,onClose:w,onTaskUpdate:()=>a()})]})}const eve=()=>{const{taskId:e}=CP(),t=ft(),{user:r}=qr(),[n,i]=E.useState(null),[s,a]=E.useState(!0),[o,c]=E.useState(!1),[d,f]=E.useState(!1),[p,v]=E.useState(null),g=Ld(lz,2200);E.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{a(!0);const{data:_,error:w}=await Ke.from("task_inspiration").select("id, category, subcategory, subsubcategory, title, description, difficulty, tags").eq("id",e).single();if(w)throw w;if(i(_),r){const{data:A,error:S}=await Ke.from("selected_tasks").select("id").eq("user_id",r.id).eq("task_id",e).maybeSingle();S&&console.error("Error checking selection:",S),A&&f(!0)}}catch(_){console.error("Error loading task:",_),v(_.message)}finally{a(!1)}},x=async()=>{if(r)try{c(!0);const{error:_}=await Ke.from("selected_tasks").insert({user_id:r.id,task_id:e});if(_)if(_.code==="23505")f(!0),alert("You have already claimed this task.");else throw _;else f(!0),window.confirm("Task claimed successfully! Would you like to view your tasks?")&&t("/portal/my-tasks")}catch(_){console.error("Error claiming task:",_),alert("Failed to claim task: "+_.message)}finally{c(!1)}};return s?u.jsx("div",{className:"task-detail-loading",children:u.jsx(Aa,{size:"lg",message:g})}):p||!n?u.jsxs("div",{className:"task-detail-error",children:[u.jsx("h2",{children:"Task not found"}),u.jsx("p",{children:p||"The requested task could not be loaded."}),u.jsx(Fe,{variant:"secondary",onClick:()=>t("/portal/tasks"),children:"Back to Gallery"})]}):u.jsxs("div",{className:"task-detail-page",children:[u.jsx(Fe,{variant:"ghost",size:"sm",className:"back-btn",onClick:()=>t(-1),children:" Back"}),u.jsxs("div",{className:"task-detail-card",children:[u.jsxs("div",{className:"task-detail-header",children:[u.jsxs("div",{className:"task-meta-top",children:[u.jsx("span",{className:"task-category",children:n.category}),n.subcategory&&u.jsxs("span",{className:"task-subcategory",children:[" / ",n.subcategory]})]}),u.jsx("h1",{children:n.subcategory||n.subsubcategory||"Engineering Task"}),u.jsxs("div",{className:"task-meta-badges",children:[n.difficulty&&u.jsx(Ni,{variant:n.difficulty,size:"lg",children:n.difficulty.toUpperCase()}),n.tags&&n.tags.map(_=>u.jsx(Ni,{variant:"tag",size:"lg",children:_},_))]})]}),u.jsx("div",{className:"task-detail-body",children:u.jsxs("section",{className:"detail-section",children:[u.jsx("h3",{children:"Description"}),u.jsx("p",{children:n.description})]})}),u.jsx("div",{className:"task-detail-actions",children:d?u.jsx(Fe,{variant:"primary",size:"lg",disabled:!0,className:"claim-btn claimed",children:" Task Claimed"}):u.jsx(Fe,{variant:"primary",size:"lg",className:"claim-btn",onClick:x,loading:o,children:"Claim This Task"})})]})]})};function tve({children:e}){const{profile:t}=qr(),{promotions:r,loading:n}=Ux(),[i,s]=E.useState(0),[a,o]=E.useState(!1),[c,d]=E.useState(()=>{const x=[];if(typeof window<"u")for(let _=0;_<localStorage.length;_++){const w=localStorage.key(_);w&&w.startsWith("dismissed_promo_")&&x.push(w.replace("dismissed_promo_",""))}return x}),f=r.filter(x=>!c.includes(x.id)&&!x.disable_banner);E.useEffect(()=>{if(f.length<=1)return;const x=setInterval(()=>{o(!0),setTimeout(()=>{s(_=>(_+1)%f.length),o(!1)},300)},8e3);return()=>clearInterval(x)},[f.length]);const p=x=>{localStorage.setItem(`dismissed_promo_${x}`,"true"),d(_=>[..._,x]),s(0)};if(!(t!=null&&t.can_see_incentives))return u.jsx(u.Fragment,{children:e});if(n)return null;if(f.length===0)return u.jsx(u.Fragment,{children:e});const v=i%f.length,g=f[v],b=g.variant||"accent";return u.jsxs("div",{className:`global-promo-banner promo-banner--${b}`,children:[u.jsxs("div",{className:"promo-bg-decoration",children:[u.jsx("div",{className:"promo-bg-circle"}),u.jsx("div",{className:"promo-bg-circle"}),g.show_rain_animation!==!1&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"promo-rain promo-rain-1",children:""}),u.jsx("span",{className:"promo-rain promo-rain-2",children:""}),u.jsx("span",{className:"promo-rain promo-rain-3",children:""}),u.jsx("span",{className:"promo-rain promo-rain-4",children:""}),u.jsx("span",{className:"promo-rain promo-rain-5",children:""}),u.jsx("span",{className:"promo-rain promo-rain-6",children:""}),u.jsx("span",{className:"promo-rain promo-rain-7",children:""}),u.jsx("span",{className:"promo-rain promo-rain-8",children:""}),u.jsx("span",{className:"promo-rain promo-rain-9",children:""}),u.jsx("span",{className:"promo-rain promo-rain-10",children:""}),u.jsx("span",{className:"promo-rain promo-rain-11",children:""}),u.jsx("span",{className:"promo-rain promo-rain-12",children:""})]})]}),f.length>1&&u.jsx("div",{className:"promo-progress-bar promo-progress-animate"},g.id+"_progress"),u.jsxs("div",{className:`promo-banner-content ${a?"promo-fade-out":"promo-fade-in"}`,children:[u.jsxs("div",{className:"promo-text-content",children:[u.jsx("span",{className:"promo-title",children:g.title}),g.message&&u.jsx("span",{className:"promo-message",children:g.message})]}),u.jsx("button",{className:"promo-dismiss-btn",onClick:()=>p(g.id),"aria-label":"Dismiss promotion",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}function rve(){return u.jsx(ZH,{children:u.jsx(sz,{children:u.jsx(JH,{children:u.jsx(ez,{children:u.jsxs(TS,{children:[u.jsx(ot,{path:"/",element:u.jsx(aW,{})}),u.jsx(ot,{path:"/login",element:u.jsx(Wz,{})}),u.jsx(ot,{path:"/forgot-password",element:u.jsx(qz,{})}),u.jsx(ot,{path:"/reset-password",element:u.jsx(Vz,{})}),u.jsx(ot,{path:"/auth/callback",element:u.jsx(Gz,{})}),u.jsx(ot,{path:"/portal/*",element:u.jsx(Hz,{children:u.jsxs("div",{className:"app",children:[u.jsx(Uz,{}),u.jsx(lW,{}),u.jsx(tve,{children:u.jsx(vz,{variant:"subtle",title:"Please do not reach out to reviewers directly; ",children:"messaging them will not speed up your review."})}),u.jsxs(TS,{children:[u.jsx(ot,{path:"/",element:u.jsx(jY,{})}),u.jsx(ot,{path:"/overview",element:u.jsx(OY,{})}),u.jsx(ot,{path:"/tasks",element:u.jsx(Lde,{})}),u.jsx(ot,{path:"/task/:taskId",element:u.jsx(eve,{})}),u.jsx(ot,{path:"/my-tasks",element:u.jsx(Z0e,{})}),u.jsx(ot,{path:"/videos",element:u.jsx(RY,{})}),u.jsx(ot,{path:"/workbook",element:u.jsx(LY,{})}),u.jsx(ot,{path:"/oracle",element:u.jsx(BY,{})}),u.jsx(ot,{path:"/onboarding",element:u.jsx(FY,{})}),u.jsx(ot,{path:"/environment-setup",element:u.jsx(_i,{to:"/portal/docs/getting-started/quick-start",replace:!0})}),u.jsx(ot,{path:"/local-testing",element:u.jsx(WY,{})}),u.jsx(ot,{path:"/expert-platform-onboarding",element:u.jsx($Y,{})}),u.jsx(ot,{path:"/expert-platform-walkthrough",element:u.jsx(_i,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),u.jsx(ot,{path:"/feedback",element:u.jsx(UY,{})}),u.jsx(ot,{path:"/faq",element:u.jsx(HY,{})}),u.jsx(ot,{path:"/glossary",element:u.jsx(zY,{})}),u.jsx(ot,{path:"/docs/*",element:u.jsx(Q0e,{})}),u.jsx(ot,{path:"/docs-platform-onboarding",element:u.jsx(_i,{to:"/portal/docs/onboarding/platform-onboarding",replace:!0})}),u.jsx(ot,{path:"/docs-platform-submission",element:u.jsx(_i,{to:"/portal/docs/submitting-tasks/platform-submission",replace:!0})}),u.jsx(ot,{path:"/docs-ci-training",element:u.jsx(_i,{to:"/portal/docs/testing-and-validation/ci-feedback-training",replace:!0})}),u.jsx(ot,{path:"/docs-oracle-training",element:u.jsx(_i,{to:"/portal/docs/testing-and-validation/oracle-training",replace:!0})}),u.jsx(ot,{path:"/docs-faq",element:u.jsx(_i,{to:"/portal/docs/reference/faq",replace:!0})}),u.jsx(ot,{path:"/docs-glossary",element:u.jsx(_i,{to:"/portal/docs/reference/glossary",replace:!0})}),u.jsx(ot,{path:"/profile",element:u.jsx(Nde,{})}),u.jsx(ot,{path:"/admin",element:u.jsx(wde,{})}),qY.map(e=>u.jsx(ot,{path:`/${e.id}`,element:u.jsx(IY,{section:e})},e.id)),u.jsx(ot,{path:"*",element:u.jsx(_i,{to:"/portal",replace:!0})})]})]})})}),u.jsx(ot,{path:"*",element:u.jsx(_i,{to:"/",replace:!0})})]})})})})})}const hp="/Terminus-EC-Training-stateful/",J_=new URLSearchParams(window.location.search),ep=J_.get("redirect");if(ep){const e=J_.get("search")||"",t=J_.get("hash")||"",r=hp.endsWith("/")?hp.slice(0,-1):hp,n=ep.startsWith("/")?ep:"/"+ep;window.history.replaceState(null,"",r+n+e+t)}GB.createRoot(document.getElementById("root")).render(u.jsx(E.StrictMode,{children:u.jsx(CU,{apiKey:"phc_ywGAskGEiQwP7kudLchm56fN5s07jrWgFjpGzk995cl",options:{api_host:"https://us.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:u.jsx(s9,{basename:hp,children:u.jsx(rve,{})})})}));
